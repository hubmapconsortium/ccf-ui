<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Library ccf-shared documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avaoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);

               if ($darkModeToggles.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">Library ccf-shared documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  DecoratedTextComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#styleData" class="nav-link"
                role="tab" id="styleData-tab" data-bs-toggle="tab" data-link="style">Styles</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>projects/ccf-shared/src/lib/components/decorated-text/decorated-text.component.ts</code>
</p>


    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>Class to display text with additional styling on ranges of the text.</p>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code>OnChanges</code>
    </p>


<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>

            <tr>
                <td class="col-md-3">changeDetection</td>
                <td class="col-md-9"><code>ChangeDetectionStrategy.OnPush</code></td>
            </tr>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>ccf-decorated-text</code></td>
            </tr>



            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./decorated-text.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./decorated-text.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier"></span>
                                    <span class="modifier">Readonly</span>
                                <a href="#clsName" >clsName</a>
                            </li>
                            <li>
                                <a href="#segments" >segments</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#createSegments" >createSegments</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#createStackOps" >createStackOps</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getNormalizedDecorations" >getNormalizedDecorations</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#makeDecoratedSegment" >makeDecoratedSegment</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#makeUndecoratedSegment" >makeUndecoratedSegment</a>
                            </li>
                            <li>
                                <a href="#ngOnChanges" >ngOnChanges</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#updateStack" >updateStack</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#decorations" >decorations</a>
                            </li>
                            <li>
                                <a href="#text" >text</a>
                            </li>
                        </ul>
                    </td>
                </tr>


                <tr>
                    <td class="col-md-4">
                        <h6><b>HostBindings</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#class" >class</a>
                            </li>
                        </ul>
                    </td>
                </tr>


        </tbody>
    </table>
</section>


    <section data-compodoc="block-inputs">
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="decorations"></a>
                        <b>decorations</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/DecoratedRange.html" target="_self" >Partial&lt;DecoratedRange&gt;[]</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="52" class="link-to-prism">projects/ccf-shared/src/lib/components/decorated-text/decorated-text.component.ts:52</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Classes and styles to apply to ranges of the text.
For overlapping ranges later values takes precedence.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="text"></a>
                        <b>text</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="46" class="link-to-prism">projects/ccf-shared/src/lib/components/decorated-text/decorated-text.component.ts:46</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Text to display</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section data-compodoc="block-properties">
    <h3>HostBindings</h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="class"></a>
                    <span class="name">
                        <span ><b>class</b></span>
                        <a href="#class"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>&quot;ccf-decorated-text&quot;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;ccf-decorated-text&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="41" class="link-to-prism">projects/ccf-shared/src/lib/components/decorated-text/decorated-text.component.ts:41</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>HTML class name</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>


    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createSegments"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>createSegments</b></span>
                        <a href="#createSegments"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createSegments()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="76"
                                    class="link-to-prism">projects/ccf-shared/src/lib/components/decorated-text/decorated-text.component.ts:76</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Creates an array of decorated text segments based on
the latest text and decorations.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Segment.html" target="_self" >Segment[]</a></code>

                        </div>
                            <div class="io-description">
                                <p>The new segments</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createStackOps"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>createStackOps</b></span>
                        <a href="#createStackOps"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createStackOps(ranges: <a href="../interfaces/DecoratedRange.html" target="_self">DecoratedRange[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="124"
                                    class="link-to-prism">projects/ccf-shared/src/lib/components/decorated-text/decorated-text.component.ts:124</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Creates an ordered array of stack operations to apply when building segments.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>ranges</td>
                                            <td>
                                                            <code><a href="../interfaces/DecoratedRange.html" target="_self" >DecoratedRange[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The decorated ranges to apply</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/StackOp.html" target="_self" >StackOp[]</a></code>

                        </div>
                            <div class="io-description">
                                <p>The array of operations</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNormalizedDecorations"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>getNormalizedDecorations</b></span>
                        <a href="#getNormalizedDecorations"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getNormalizedDecorations()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="158"
                                    class="link-to-prism">projects/ccf-shared/src/lib/components/decorated-text/decorated-text.component.ts:158</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Normalizes and filters valid decorated ranges.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/DecoratedRange.html" target="_self" >DecoratedRange[]</a></code>

                        </div>
                            <div class="io-description">
                                <p>The normalized ranges with properties filled</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="makeDecoratedSegment"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>makeDecoratedSegment</b></span>
                        <a href="#makeDecoratedSegment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>makeDecoratedSegment(text: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, decorations: <a href="../interfaces/DecoratedRange.html" target="_self">DecoratedRange[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="184"
                                    class="link-to-prism">projects/ccf-shared/src/lib/components/decorated-text/decorated-text.component.ts:184</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Creates a segment with decoration</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>text</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The text for the segment</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>decorations</td>
                                            <td>
                                                            <code><a href="../interfaces/DecoratedRange.html" target="_self" >DecoratedRange[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Decorations for this segment</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Segment.html" target="_self" >Segment</a></code>

                        </div>
                            <div class="io-description">
                                <p>A decorated segment</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="makeUndecoratedSegment"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>makeUndecoratedSegment</b></span>
                        <a href="#makeUndecoratedSegment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>makeUndecoratedSegment(text: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="173"
                                    class="link-to-prism">projects/ccf-shared/src/lib/components/decorated-text/decorated-text.component.ts:173</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Creates a segment without any decoration</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>text</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The text for the segment</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Segment.html" target="_self" >Segment</a></code>

                        </div>
                            <div class="io-description">
                                <p>A segment without any decoration</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnChanges"></a>
                    <span class="name">
                        <span ><b>ngOnChanges</b></span>
                        <a href="#ngOnChanges"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnChanges(changes: SimpleChanges)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="64"
                                    class="link-to-prism">projects/ccf-shared/src/lib/components/decorated-text/decorated-text.component.ts:64</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Apply changes and recalculate cached values.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>changes</td>
                                            <td>
                                                        <code>SimpleChanges</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Instance properties that have changed</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateStack"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>updateStack</b></span>
                        <a href="#updateStack"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateStack(stack: <a href="../interfaces/DecoratedRange.html" target="_self">DecoratedRange[]</a>, op: <a href="../interfaces/StackOp.html" target="_self">StackOp</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="145"
                                    class="link-to-prism">projects/ccf-shared/src/lib/components/decorated-text/decorated-text.component.ts:145</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Applies the stack changes specified by the stack operation.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>stack</td>
                                            <td>
                                                            <code><a href="../interfaces/DecoratedRange.html" target="_self" >DecoratedRange[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The current stack</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>op</td>
                                            <td>
                                                            <code><a href="../interfaces/StackOp.html" target="_self" >StackOp</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The operation</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/DecoratedRange.html" target="_self" >DecoratedRange[]</a></code>

                        </div>
                            <div class="io-description">
                                <p>The new stack</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clsName"></a>
                    <span class="name">
                            <span class="modifier"></span>
                            <span class="modifier">Readonly</span>
                        <span ><b>clsName</b></span>
                        <a href="#clsName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;ccf-decorated-text&#x27;</code>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @HostBinding(&#x27;class&#x27;)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="41" class="link-to-prism">projects/ccf-shared/src/lib/components/decorated-text/decorated-text.component.ts:41</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>HTML class name</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="segments"></a>
                    <span class="name">
                        <span ><b>segments</b></span>
                        <a href="#segments"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Segment.html" target="_self" >Segment[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="57" class="link-to-prism">projects/ccf-shared/src/lib/components/decorated-text/decorated-text.component.ts:57</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Computed segments of text with decorations resolved.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { ChangeDetectionStrategy, Component, HostBinding, Input, OnChanges, SimpleChanges } from &#x27;@angular/core&#x27;;

import { DecoratedRange, normalize } from &#x27;./decorated-range&#x27;;


// Reexport DecoratedRange
export { DecoratedRange };

/** A segment of text with additional classes and styles */
interface Segment {
  /** The piece of text to display */
  text: string;
  /** Classes to add to the text container */
  classes: string[];
  /** Styles to set on the text container */
  styles: Record&lt;string, unknown&gt;;
}

/** Represents an operation to apply to the stack when building segments */
interface StackOp {
  /** Text index at which the changes takes effect */
  index: number;
  /** Decorations to add */
  added: DecoratedRange[];
  /** Decorations to remove */
  removed: DecoratedRange[];
}


/**
 * Class to display text with additional styling on ranges of the text.
 */
@Component({
  selector: &#x27;ccf-decorated-text&#x27;,
  templateUrl: &#x27;./decorated-text.component.html&#x27;,
  styleUrls: [&#x27;./decorated-text.component.scss&#x27;],
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class DecoratedTextComponent implements OnChanges {
  /** HTML class name */
  @HostBinding(&#x27;class&#x27;) readonly clsName &#x3D; &#x27;ccf-decorated-text&#x27;;

  /**
   * Text to display
   */
  @Input() text: string;

  /**
   * Classes and styles to apply to ranges of the text.
   * For overlapping ranges later values takes precedence.
   */
  @Input() decorations?: Partial&lt;DecoratedRange&gt;[];

  /**
   * Computed segments of text with decorations resolved.
   */
  segments: Segment[] &#x3D; [];

  /**
   * Apply changes and recalculate cached values.
   *
   * @param changes Instance properties that have changed
   */
  ngOnChanges(changes: SimpleChanges): void {
    if (&#x27;text&#x27; in changes || &#x27;decorations&#x27; in changes) {
      this.segments &#x3D; this.createSegments();
    }
  }

  /**
   * Creates an array of decorated text segments based on
   * the latest text and decorations.
   *
   * @returns The new segments
   */
  private createSegments(): Segment[] {
    const { text } &#x3D; this;
    if (!text) { // No styling can be applied to empty text fields
      return [this.makeUndecoratedSegment(text)];
    }

    const decorations &#x3D; this.getNormalizedDecorations();
    if (decorations.length &#x3D;&#x3D;&#x3D; 0) { // No styling available
      return [this.makeUndecoratedSegment(text)];
    }

    const stackOps &#x3D; this.createStackOps(decorations);
    const segments: Segment[] &#x3D; [];
    let stack: DecoratedRange[] &#x3D; [];
    let lastIndex &#x3D; 0;

    // If the first op starts at index zero apply stack changes
    // but don&#x27;t push a segment by shifing out the first op
    if (stackOps[0].index &#x3D;&#x3D;&#x3D; 0) {
      stack &#x3D; this.updateStack(stack, stackOps.shift() as StackOp);
    }

    // Build segments based on the stack operations
    for (const op of stackOps) {
      segments.push(this.makeDecoratedSegment(
        text.slice(lastIndex, op.index), stack
      ));

      lastIndex &#x3D; op.index;
      stack &#x3D; this.updateStack(stack, op);
    }

    // Push the last segment if not already done
    if (lastIndex !&#x3D;&#x3D; text.length) {
      segments.push(this.makeDecoratedSegment(
        text.slice(lastIndex), stack
      ));
    }

    return segments;
  }

  /**
   * Creates an ordered array of stack operations to apply when building segments.
   *
   * @param ranges The decorated ranges to apply
   * @returns The array of operations
   */
  private createStackOps(ranges: DecoratedRange[]): StackOp[] {
    const ops: Record&lt;number, StackOp&gt; &#x3D; {};
    const getOp &#x3D; (index: number) &#x3D;&gt; (ops[index] ??&#x3D; { index, added: [], removed: [] });

    for (const range of ranges) {
      getOp(range.start).added.push(range);
      getOp(range.end).removed.push(range);
    }

    return Object.entries(ops)
      .sort((i1, i2) &#x3D;&gt; +i1[0] - +i2[0]) // Sort by index
      .map(entry &#x3D;&gt; entry[1]);
  }

  /**
   * Applies the stack changes specified by the stack operation.
   *
   * @param stack The current stack
   * @param op The operation
   * @returns The new stack
   */
  private updateStack(stack: DecoratedRange[], op: StackOp): DecoratedRange[] {
    return stack
      .filter(item &#x3D;&gt; !op.removed.includes(item))
      // Note - A new array is created by the above filter statement
      // so it is safe to modify it with concat
      .concat(op.added);
  }

  /**
   * Normalizes and filters valid decorated ranges.
   *
   * @returns The normalized ranges with properties filled
   */
  private getNormalizedDecorations(): DecoratedRange[] {
    const { decorations &#x3D; [], text: { length } } &#x3D; this;
    return decorations
      // Turn partials into full objects
      .map(range &#x3D;&gt; normalize(range, length))
      // Remove empty and out of bounds ranges
      .filter(range &#x3D;&gt; range.start &lt; length &amp;&amp; range.start &lt; range.end);
  }

  /**
   * Creates a segment without any decoration
   *
   * @param text The text for the segment
   * @returns A segment without any decoration
   */
  private makeUndecoratedSegment(text: string): Segment {
    return { text, classes: [], styles: {} };
  }

  /**
   * Creates a segment with decoration
   *
   * @param text The text for the segment
   * @param decorations Decorations for this segment
   * @returns A decorated segment
   */
  private makeDecoratedSegment(text: string, decorations: DecoratedRange[]): Segment {
    const classes &#x3D; decorations.reduce&lt;string[]&gt;(
      (result, range) &#x3D;&gt; result.concat(range.classes),
      []
    );
    const styles &#x3D; decorations.reduce(
      (result, range) &#x3D;&gt; ({ ...result, ...range.styles }),
      {}
    );

    return { text, classes, styles };
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">&lt;span *ngFor&#x3D;&quot;let segment of segments&quot; [class]&#x3D;&quot;segment.classes&quot; [style]&#x3D;&quot;segment.styles&quot;&gt;
  {{ segment.text }}
&lt;/span&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="styleData">
                <p class="comment">
                    <code>./decorated-text.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">:host {
  display: flex;
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><span *ngFor="let segment of segments" [class]="segment.classes" [style]="segment.styles">  {{ segment.text }}</span></div>'
    var COMPONENTS = [{'name': 'BodyUiComponent', 'selector': 'ccf-body-ui'},{'name': 'CallToActionBehaviorComponent', 'selector': 'ccf-call-to-action-behavior'},{'name': 'CallToActionComponent', 'selector': 'ccf-call-to-action'},{'name': 'DecoratedTextComponent', 'selector': 'ccf-decorated-text'},{'name': 'InfoButtonComponent', 'selector': 'ccf-info-button'},{'name': 'InfoDialogComponent', 'selector': 'ccf-info-dialog'},{'name': 'OpacitySliderComponent', 'selector': 'ccf-opacity-slider'},{'name': 'OrganSelectorComponent', 'selector': 'ccf-organ-selector'},{'name': 'SpatialSearchKeyboardUIBehaviorComponent', 'selector': 'ccf-spatial-search-keyboard-ui-behavior'},{'name': 'SpatialSearchKeyboardUIComponent', 'selector': 'ccf-spatial-search-keyboard-ui'},{'name': 'SpatialSearchListComponent', 'selector': 'ccf-spatial-search-list'},{'name': 'StoreDebugComponent', 'selector': 'ccf-store-debug'},{'name': 'TextSearchComponent', 'selector': 'ccf-text-search'},{'name': 'TrackingPopupComponent', 'selector': 'ccf-tracking-popup'},{'name': 'XYZPositionComponent', 'selector': 'ccf-xyz-position'}];
    var DIRECTIVES = [{'name': 'NumberDirective', 'selector': 'input[ccfNumbersOnly]'}];
    var ACTUAL_COMPONENT = {'name': 'DecoratedTextComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'DecoratedTextComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
