(self.webpackChunkccf_rui=self.webpackChunkccf_rui||[]).push([[179],{822:re=>{"use strict";re.exports=m,re.exports.default=m;var q=1e20;function m(P,g,y,T,F,D){this.fontSize=P||24,this.buffer=void 0===g?3:g,this.cutoff=T||.25,this.fontFamily=F||"sans-serif",this.fontWeight=D||"normal",this.radius=y||8;var B=this.size=this.fontSize+2*this.buffer,te=B+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=B,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(te*te),this.gridInner=new Float64Array(te*te),this.f=new Float64Array(te),this.z=new Float64Array(te+1),this.v=new Uint16Array(te),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(B/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function R(P,g,y,T,F,D){for(var B=0;B<g;B++)S(P,B,g,y,T,F,D);for(var te=0;te<y;te++)S(P,te*g,1,g,T,F,D)}function S(P,g,y,T,F,D,B){var te,C,W,ce;for(D[0]=0,B[0]=-q,B[1]=q,te=0;te<T;te++)F[te]=P[g+te*y];for(te=1,C=0,W=0;te<T;te++){do{W=(F[te]-F[ce=D[C]]+te*te-ce*ce)/(te-ce)/2}while(W<=B[C]&&--C>-1);D[++C]=te,B[C]=W,B[C+1]=q}for(te=0,C=0;te<T;te++){for(;B[C+1]<te;)C++;P[g+te*y]=F[ce=D[C]]+(te-ce)*(te-ce)}}m.prototype._draw=function(P,g){var D,B,te,C,W,ce,Y,ie,ne,y=this.ctx.measureText(P),T=y.width,F=2*this.buffer;g&&this.useMetrics?(W=Math.floor(y.actualBoundingBoxAscent),ie=this.buffer+Math.ceil(y.actualBoundingBoxAscent),ce=this.buffer,Y=this.buffer,D=(B=Math.min(this.size,Math.ceil(y.actualBoundingBoxRight-y.actualBoundingBoxLeft)))+F,te=(C=Math.min(this.size-ce,Math.ceil(y.actualBoundingBoxAscent+y.actualBoundingBoxDescent)))+F,this.ctx.textBaseline="alphabetic"):(D=B=this.size,te=C=this.size,W=19*this.fontSize/24,ce=Y=0,ie=this.middle,this.ctx.textBaseline="middle"),B&&C&&(this.ctx.clearRect(Y,ce,B,C),this.ctx.fillText(P,this.buffer,ie),ne=this.ctx.getImageData(Y,ce,B,C));var X=new Uint8ClampedArray(D*te);return function A(P,g,y,T,F,D,B){D.fill(q,0,g*y),B.fill(0,0,g*y);for(var te=(g-T)/2,C=0;C<F;C++)for(var W=0;W<T;W++){var ce=(C+te)*g+W+te,Y=P.data[4*(C*T+W)+3]/255;if(1===Y)D[ce]=0,B[ce]=q;else if(0===Y)D[ce]=q,B[ce]=0;else{var ie=Math.max(0,.5-Y),ne=Math.max(0,Y-.5);D[ce]=ie*ie,B[ce]=ne*ne}}}(ne,D,te,B,C,this.gridOuter,this.gridInner),R(this.gridOuter,D,te,this.f,this.v,this.z),R(this.gridInner,D,te,this.f,this.v,this.z),function b(P,g,y,T,F,D,B){for(var te=0;te<g*y;te++){var C=Math.sqrt(T[te])-Math.sqrt(F[te]);P[te]=Math.round(255-255*(C/D+B))}}(X,D,te,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:X,metrics:{width:B,height:C,sdfWidth:D,sdfHeight:te,top:W,left:0,advance:T}}},m.prototype.draw=function(P){return this._draw(P,!1).data},m.prototype.drawWithMetrics=function(P){return this._draw(P,!0)}},4167:(re,q,m)=>{"use strict";var A={};m.r(A),m.d(A,{decode:()=>eCe,name:()=>QEe});var b={};m.r(b),m.d(b,{name:()=>sCe,preprocess:()=>aCe});var R={};m.r(R),m.d(R,{name:()=>cCe,preprocess:()=>lCe});var S={};m.r(S),m.d(S,{decode:()=>YCe,encode:()=>XCe,name:()=>WCe,preprocess:()=>$Ce});var P={};m.r(P),m.d(P,{decode:()=>QCe,encode:()=>eSe,name:()=>ZCe});var g={};m.r(g),m.d(g,{decode:()=>nSe,encode:()=>iSe,name:()=>tSe});var y={};m.r(y),m.d(y,{decode:()=>oSe,encode:()=>sSe,name:()=>rSe});var T={};function F(n){return"function"==typeof n}function D(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}m.r(T),m.d(T,{delMany:()=>p3e,get:()=>h3e,setMany:()=>f3e});const B=D(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function te(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class C{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(F(i))try{i()}catch(o){e=o instanceof B?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Y(o)}catch(s){e=e??[],s instanceof B?e=[...e,...s.errors]:e.push(s)}}if(e)throw new B(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Y(e);else{if(e instanceof C){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&te(t,e)}remove(e){const{_finalizers:t}=this;t&&te(t,e),e instanceof C&&e._removeParent(this)}}C.EMPTY=(()=>{const n=new C;return n.closed=!0,n})();const W=C.EMPTY;function ce(n){return n instanceof C||n&&"closed"in n&&F(n.remove)&&F(n.add)&&F(n.unsubscribe)}function Y(n){F(n)?n():n.unsubscribe()}const ie={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ne={setTimeout(n,e,...t){const{delegate:i}=ne;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ne;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function X(n){ne.setTimeout(()=>{const{onUnhandledError:e}=ie;if(!e)throw n;e(n)})}function V(){}const v=ue("C",void 0,void 0);function ue(n,e,t){return{kind:n,value:e,error:t}}let G=null;function Te(n){if(ie.useDeprecatedSynchronousErrorHandling){const e=!G;if(e&&(G={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=G;if(G=null,t)throw i}}else n()}class we extends C{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ce(e)&&e.add(this)):this.destination=ze}static create(e,t,i){return new qe(e,t,i)}next(e){this.isStopped?Ne(function k(n){return ue("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ne(function U(n){return ue("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ne(v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function Ie(n,e){return Re.call(n,e)}class Je{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Ee(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Ee(i)}else Ee(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ee(t)}}}class qe extends we{constructor(e,t,i){let r;if(super(),F(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&ie.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Ie(e.next,o),error:e.error&&Ie(e.error,o),complete:e.complete&&Ie(e.complete,o)}):r=e}this.destination=new Je(r)}}function Ee(n){ie.useDeprecatedSynchronousErrorHandling?function le(n){ie.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=n)}(n):X(n)}function Ne(n,e){const{onStoppedNotification:t}=ie;t&&ne.setTimeout(()=>t(n,e))}const ze={closed:!0,next:V,error:function Le(n){throw n},complete:V},ge="function"==typeof Symbol&&Symbol.observable||"@@observable";function Se(n){return n}function Ke(...n){return dt(n)}function dt(n){return 0===n.length?Se:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Ye=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function O(n){return n&&n instanceof we||function H(n){return n&&F(n.next)&&F(n.error)&&F(n.complete)}(n)&&ce(n)}(t)?t:new qe(t,i,r);return Te(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=be(i))((r,o)=>{const s=new qe({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[ge](){return this}pipe(...t){return dt(t)(this)}toPromise(t){return new(t=be(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function be(n){var e;return null!==(e=n??ie.Promise)&&void 0!==e?e:Promise}const se=D(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let j=(()=>{class n extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Be(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new se}next(t){Te(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Te(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Te(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?W:(this.currentObservers=null,o.push(t),new C(()=>{this.currentObservers=null,te(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Ye;return t.source=this,t}}return n.create=(e,t)=>new Be(e,t),n})();class Be extends j{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:W}}function it(n){return F(n?.lift)}function he(n){return e=>{if(it(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Z(n,e,t,i,r){return new $(n,e,t,i,r)}class $ extends we{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function E(n,e){return he((t,i)=>{let r=0;t.subscribe(Z(i,o=>{i.next(n.call(e,o,r++))}))})}function ke(n,e,t,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}function ft(n,e){return function(t,i){e(t,i,n)}}function fe(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)}function Un(n){return this instanceof Un?(this.v=n,this):new Un(n)}function js(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function et(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Da=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function xc(n){return F(n?.then)}function md(n){return F(n[ge])}function gd(n){return Symbol.asyncIterator&&F(n?.[Symbol.asyncIterator])}function ll(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const dl=function $h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Au(n){return F(n?.[dl])}function ul(n){return function jn(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(p){i[p]&&(r[p]=function(_){return new Promise(function(w,I){o.push([p,_,w,I])>1||a(p,_)})})}function a(p,_){try{!function c(p){p.value instanceof Un?Promise.resolve(p.value.v).then(l,d):h(o[0][2],p)}(i[p](_))}catch(w){h(o[0][3],w)}}function l(p){a("next",p)}function d(p){a("throw",p)}function h(p,_){p(_),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Un(t.read());if(r)return yield Un(void 0);yield yield Un(i)}}finally{t.releaseLock()}})}function _d(n){return F(n?.getReader)}function er(n){if(n instanceof Ye)return n;if(null!=n){if(md(n))return function ji(n){return new Ye(e=>{const t=n[ge]();if(F(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Da(n))return function hl(n){return new Ye(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(xc(n))return function ca(n){return new Ye(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,X)})}(n);if(gd(n))return Oa(n);if(Au(n))return function Ka(n){return new Ye(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(_d(n))return function Ec(n){return Oa(ul(n))}(n)}throw ll(n)}function Oa(n){return new Ye(e=>{(function Jo(n,e){var t,i,r,o;return function J(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{l(i.next(d))}catch(h){s(h)}}function c(d){try{l(i.throw(d))}catch(h){s(h)}}function l(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=js(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function _e(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function ve(n,e,t=1/0){return F(e)?ve((i,r)=>E((o,s)=>e(i,o,r,s))(er(n(i,r))),t):("number"==typeof e&&(t=e),he((i,r)=>function De(n,e,t,i,r,o,s,a){const c=[];let l=0,d=0,h=!1;const p=()=>{h&&!c.length&&!l&&e.complete()},_=I=>l<i?w(I):c.push(I),w=I=>{o&&e.next(I),l++;let L=!1;er(t(I,d++)).subscribe(Z(e,K=>{r?.(K),o?_(K):e.next(K)},()=>{L=!0},void 0,()=>{if(L)try{for(l--;c.length&&l<i;){const K=c.shift();s?_e(e,s,()=>w(K)):w(K)}p()}catch(K){e.error(K)}}))};return n.subscribe(Z(e,_,()=>{h=!0,p()})),()=>{a?.()}}(i,r,n,t)))}function z(n=1/0){return ve(Se,n)}const ee=new Ye(n=>n.complete());function Xe(n){return n&&F(n.schedule)}function at(n){return n[n.length-1]}function It(n){return F(at(n))?n.pop():void 0}function Lt(n){return Xe(at(n))?n.pop():void 0}function wn(n,e=0){return he((t,i)=>{t.subscribe(Z(i,r=>_e(i,n,()=>i.next(r),e),()=>_e(i,n,()=>i.complete(),e),r=>_e(i,n,()=>i.error(r),e)))})}function kn(n,e=0){return he((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function la(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ye(t=>{_e(t,e,()=>{const i=n[Symbol.asyncIterator]();_e(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Hi(n,e){return e?function Qo(n,e){if(null!=n){if(md(n))return function Ro(n,e){return er(n).pipe(kn(e),wn(e))}(n,e);if(Da(n))return function Zo(n,e){return new Ye(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(xc(n))return function Xr(n,e){return er(n).pipe(kn(e),wn(e))}(n,e);if(gd(n))return la(n,e);if(Au(n))return function fl(n,e){return new Ye(t=>{let i;return _e(t,e,()=>{i=n[dl](),_e(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>F(i?.return)&&i.return()})}(n,e);if(_d(n))return function io(n,e){return la(ul(n),e)}(n,e)}throw ll(n)}(n,e):er(n)}function hr(...n){const e=Lt(n),t=function qt(n,e){return"number"==typeof at(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?er(i[0]):z(t)(Hi(i,e)):ee}class Ei extends j{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function sn(...n){return Hi(n,Lt(n))}function vs(n={}){const{connector:e=(()=>new j),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,d=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},_=()=>{p(),s=c=void 0,d=h=!1},w=()=>{const I=s;_(),I?.unsubscribe()};return he((I,L)=>{l++,!h&&!d&&p();const K=c=c??e();L.add(()=>{l--,0===l&&!h&&!d&&(a=bd(w,r))}),K.subscribe(L),!s&&l>0&&(s=new qe({next:Q=>K.next(Q),error:Q=>{h=!0,p(),a=bd(_,t,Q),K.error(Q)},complete:()=>{d=!0,p(),a=bd(_,i),K.complete()}}),er(I).subscribe(s))})(o)}}function bd(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new qe({next:()=>{i.unsubscribe(),n()}});return er(e(...t)).subscribe(i)}function Oe(n,e){return he((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(Z(i,c=>{r?.unsubscribe();let l=0;const d=o++;er(n(c,d)).subscribe(r=Z(i,h=>i.next(e?e(c,h,d,l++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ue(n,e=Se){return n=n??rt,he((t,i)=>{let r,o=!0;t.subscribe(Z(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function rt(n,e){return n===e}function pt(n){for(let e in n)if(n[e]===pt)return e;throw Error("Could not find renamed property on target object.")}function zt(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Jt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Jt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ii(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Vr=pt({__forward_ref__:pt});function Rn(n){return n.__forward_ref__=Rn,n.toString=function(){return Jt(this())},n}function Sn(n){return ws(n)?n():n}function ws(n){return"function"==typeof n&&n.hasOwnProperty(Vr)&&n.__forward_ref__===Rn}function hb(n){return n&&!!n.\u0275providers}const Ww="https://g.co/ng/security#xss";class At extends Error{constructor(e,t){super(function Jp(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Zn(n){return"string"==typeof n?n:null==n?"":String(n)}function fb(n,e){throw new At(-201,!1)}function Po(n,e){null==n&&function $n(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function Tt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Wt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yh(n){return xs(n,Zp)||xs(n,Cc)}function xs(n,e){return n.hasOwnProperty(e)?n[e]:null}function es(n){return n&&(n.hasOwnProperty(Qp)||n.hasOwnProperty(em))?n[Qp]:null}const Zp=pt({\u0275prov:pt}),Qp=pt({\u0275inj:pt}),Cc=pt({ngInjectableDef:pt}),em=pt({ngInjectorDef:pt});var yi=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(yi||{});let ar;function No(n){const e=ar;return ar=n,e}function Kw(n,e,t){const i=Yh(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&yi.Optional?null:void 0!==e?e:void fb(Jt(n))}const Gi=globalThis,wd={},mb="__NG_DI_FLAG__",Xh="ngTempTokenPath",gb=/\n/gm,_b="__source";let xd;function pl(n){const e=xd;return xd=n,e}function vM(n,e=yi.Default){if(void 0===xd)throw new At(-203,!1);return null===xd?Kw(n,void 0,e):xd.get(n,e&yi.Optional?null:void 0,e)}function Ze(n,e=yi.Default){return(function Sc(){return ar}()||vM)(Sn(n),e)}function Kt(n,e=yi.Default){return Ze(n,im(e))}function im(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function bb(n){const e=[];for(let t=0;t<n.length;t++){const i=Sn(n[t]);if(Array.isArray(i)){if(0===i.length)throw new At(900,!1);let r,o=yi.Default;for(let s=0;s<i.length;s++){const a=i[s],c=nx(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(Ze(r,o))}else e.push(Ze(i))}return e}function Ed(n,e){return n[mb]=e,n.prototype[mb]=e,n}function nx(n){return n[mb]}function Ac(n){return{toString:n}.toString()}var om=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(om||{}),da=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(da||{});const ts={},ri=[],qh=pt({\u0275cmp:pt}),yb=pt({\u0275dir:pt}),vb=pt({\u0275pipe:pt}),ix=pt({\u0275mod:pt}),Mc=pt({\u0275fac:pt}),Jh=pt({__NG_ELEMENT_ID__:pt}),Zh=pt({__NG_ENV_ID__:pt});function ht(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Ot(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];yn(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function Et(n){return 3===n||4===n||6===n}function yn(n){return 64===n.charCodeAt(0)}function qn(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Fi(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Fi(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Kr="ng-template";function tr(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==ht(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function sm(n){return 4===n.type&&n.value!==Kr}function wM(n,e,t){return e===(4!==n.type||t?n.value:Kr)}function ua(n,e,t){let i=4;const r=n.attrs||[],o=function cm(n){for(let e=0;e<n.length;e++)if(Et(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!wM(n,c,t)||""===c&&1===e.length){if(Es(i))return!1;s=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!tr(n.attrs,l,t)){if(Es(i))return!1;s=!0}continue}const h=xM(8&i?"class":c,r,sm(n),t);if(-1===h){if(Es(i))return!1;s=!0;continue}if(""!==l){let p;p=h>o?"":r[h+1].toLowerCase();const _=8&i?p:null;if(_&&-1!==ht(_,l,0)||2&i&&l!==p){if(Es(i))return!1;s=!0}}}}else{if(!s&&!Es(i)&&!Es(c))return!1;if(s&&Es(c))continue;s=!1,i=c|1&i}}return Es(i)||s}function Es(n){return 0==(1&n)}function xM(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Yi(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Cd(n,e,t=!1){for(let i=0;i<e.length;i++)if(ua(n,e[i],t))return!0;return!1}function EM(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function wb(n,e){return n?":not("+e.trim()+")":e}function lm(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Es(s)&&(e+=wb(o,r),r=""),i=s,o=o||!Es(i);t++}return""!==r&&(e+=wb(o,r)),e}function rn(n){return Ac(()=>{const e=rx(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===om.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||da.Emulated,styles:n.styles||ri,_:null,schemas:n.schemas||null,tView:null,id:""};ox(t);const i=n.dependencies;return t.directiveDefs=Sd(i,!1),t.pipeDefs=Sd(i,!0),t.id=function Eb(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function gl(n){return Ii(n)||zr(n)}function um(n){return null!==n}function $t(n){return Ac(()=>({type:n.type,bootstrap:n.bootstrap||ri,declarations:n.declarations||ri,imports:n.imports||ri,exports:n.exports||ri,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xb(n,e){if(null==n)return ts;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Nt(n){return Ac(()=>{const e=rx(n);return ox(e),e})}function ro(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ii(n){return n[qh]||null}function zr(n){return n[yb]||null}function Hr(n){return n[vb]||null}function rx(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ts,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ri,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xb(n.inputs,e),outputs:xb(n.outputs)}}function ox(n){n.features?.forEach(e=>e(n))}function Sd(n,e){if(!n)return null;const t=e?Hr:gl;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(um)}const Fr=0,ln=1,ei=2,yr=3,Xi=4,qr=5,Fo=6,Tu=7,Lr=8,_l=9,bl=10,Yn=11,Ad=12,Md=13,qa=14,fr=15,yl=16,Ra=17,Ja=18,Qh=19,sx=20,vl=21,Ic=22,wl=23,Dc=24,vi=25,xl=1,ef=2,Gr=7,Iu=9,Co=11;function Cs(n){return Array.isArray(n)&&"object"==typeof n[xl]}function ns(n){return Array.isArray(n)&&!0===n[xl]}function Cb(n){return 0!=(4&n.flags)}function Td(n){return n.componentOffset>-1}function pm(n){return 1==(1&n.flags)}function oo(n){return!!n.template}function Sb(n){return 0!=(512&n[ei])}function Id(n,e){return n.hasOwnProperty(Mc)?n[Mc]:null}let So=null,nf=!1;function ha(n){const e=So;return So=n,e}const ec={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function El(n){if(!rf(n)||n.dirty){if(!n.producerMustRecompute(n)&&!kc(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Tb(n){n.dirty=!0,function Ws(n){if(void 0===n.liveConsumerNode)return;const e=nf;nf=!0;try{for(const t of n.liveConsumerNode)t.dirty||Tb(t)}finally{nf=e}}(n),n.consumerMarkedDirty?.(n)}function _m(n){return n&&(n.nextProducerIndex=0),ha(n)}function Dd(n,e){if(ha(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(rf(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Od(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function kc(n){kd(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(El(t),i!==t.version))return!0}return!1}function Ib(n){if(kd(n),rf(n))for(let e=0;e<n.producerNode.length;e++)Od(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Od(n,e){if(function fo(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),kd(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Od(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];kd(r),r.producerIndexOfThis[i]=e}}function rf(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function kd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Ob=null;function Pu(n){const e=ha(null);try{return n()}finally{ha(e)}}const fx=()=>{},Nb=(()=>({...ec,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:fx}))();class px{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function vr(){return mx}function mx(n){return n.type.prototype.ngOnChanges&&(n.setInput=Fb),gx}function gx(){const n=ym(this),e=n?.current;if(e){const t=n.previous;if(t===ts)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Fb(n,e,t,i){const r=this.declaredInputs[t],o=ym(n)||function bx(n,e){return n[_x]=e}(n,{previous:ts,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new px(c&&c.currentValue,e,a===ts),n[i]=e}vr.ngInherit=!0;const _x="__ngSimpleChanges__";function ym(n){return n[_x]||null}const $s=function(n,e,t){},vx="svg";function nr(n){for(;Array.isArray(n);)n=n[Fr];return n}function sf(n,e){return nr(e[n])}function Ss(n,e){return nr(e[n.index])}function jb(n,e){return n.data[e]}function Cl(n,e){return n[e]}function Ys(n,e){const t=e[n];return Cs(t)?t:t[Fr]}function Sl(n,e){return null==e?null:n[e]}function Nu(n){n[Ra]=0}function wx(n){1024&n[ei]||(n[ei]|=1024,Ex(n,1))}function xx(n){1024&n[ei]&&(n[ei]&=-1025,Ex(n,-1))}function Ex(n,e){let t=n[yr];if(null===t)return;t[qr]+=e;let i=t;for(t=t[yr];null!==t&&(1===e&&1===i[qr]||-1===e&&0===i[qr]);)t[qr]+=e,i=t,t=t[yr]}const Fn={lFrame:lf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xm(){return Fn.bindingsEnabled}function Rd(){return null!==Fn.skipHydrationRootTNode}function Bt(){return Fn.lFrame.lView}function li(){return Fn.lFrame.tView}function oi(n){return Fn.lFrame.contextLView=n,n[Lr]}function Xn(n){return Fn.lFrame.contextLView=null,n}function po(){let n=Gb();for(;null!==n&&64===n.type;)n=n.parent;return n}function Gb(){return Fn.lFrame.currentTNode}function tc(n,e){const t=Fn.lFrame;t.currentTNode=n,t.isParent=e}function Wb(){return Fn.lFrame.isParent}function $b(){Fn.lFrame.isParent=!1}function Lo(){const n=Fn.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function rs(){return Fn.lFrame.bindingIndex++}function Pc(n){const e=Fn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Fu(n,e){const t=Fn.lFrame;t.bindingIndex=t.bindingRootIndex=n,Cm(e)}function Cm(n){Fn.lFrame.currentDirectiveIndex=n}function Yb(n){const e=Fn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Xb(){return Fn.lFrame.currentQueryIndex}function Ml(n){Fn.lFrame.currentQueryIndex=n}function cf(n){const e=n[ln];return 2===e.type?e.declTNode:1===e.type?n[Fo]:null}function Dx(n,e,t){if(t&yi.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&yi.Host||(r=cf(o),null===r||(o=o[qa],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Fn.lFrame=Kb();return i.currentTNode=e,i.lView=n,!0}function Sm(n){const e=Kb(),t=n[ln];Fn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Kb(){const n=Fn.lFrame,e=null===n?null:n.child;return null===e?lf(n):e}function lf(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function qb(){const n=Fn.lFrame;return Fn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const df=qb;function uf(){const n=qb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Bo(){return Fn.lFrame.selectedIndex}function ic(n){Fn.lFrame.selectedIndex=n}function wr(){const n=Fn.lFrame;return jb(n.tView,n.selectedIndex)}function Nc(){Fn.lFrame.currentNamespace=vx}function hf(){!function Fc(){Fn.lFrame.currentNamespace=null}()}let Zb=!0;function Mm(){return Zb}function Lc(n){Zb=n}function Tm(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function fa(n,e,t){Im(n,e,3,t)}function Lu(n,e,t,i){(3&n[ei])===t&&Im(n,e,t,i)}function ff(n,e){let t=n[ei];(3&t)===e&&(t&=8191,t+=1,n[ei]=t)}function Im(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[Ra]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[Ra]+=65536),(a<o||-1==o)&&(Bu(n,t,e,c),n[Ra]=(4294901760&n[Ra])+c+2),c++}function pf(n,e){$s(4,n,e);const t=ha(null);try{e.call(n)}finally{ha(t),$s(5,n,e)}}function Bu(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[ei]>>13<n[Ra]>>16&&(3&n[ei])===e&&(n[ei]+=8192,pf(a,o)):pf(a,o)}const On=-1;class Tl{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Dm(n){return n!==On}function mf(n){return 32767&n}function gf(n,e){let t=function Rx(n){return n>>16}(n),i=e;for(;t>0;)i=i[qa],t--;return i}let ty=!0;function Om(n){const e=ty;return ty=n,e}const jo=255,km=5;let GM=0;const pa={};function Rm(n,e){const t=ny(n,e);if(-1!==t)return t;const i=e[ln];i.firstCreatePass&&(n.injectorIndex=e.length,Nd(i.data,n),Nd(e,null),Nd(i.blueprint,null));const r=_f(n,e),o=n.injectorIndex;if(Dm(r)){const s=mf(r),a=gf(r,e),c=a[ln].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function Nd(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ny(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function _f(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=Lx(r),null===i)return On;if(t++,r=r[qa],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return On}function iy(n,e,t){!function WM(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Jh)&&(i=t[Jh]),null==i&&(i=t[Jh]=GM++);const r=i&jo;e.data[n+(r>>km)]|=1<<r}(n,e,t)}function Px(n,e,t){if(t&yi.Optional||void 0!==n)return n;fb()}function Nx(n,e,t,i){if(t&yi.Optional&&void 0===i&&(i=null),!(t&(yi.Self|yi.Host))){const r=n[_l],o=No(void 0);try{return r?r.get(e,i,t&yi.Optional):Kw(e,i,t&yi.Optional)}finally{No(o)}}return Px(i,0,t)}function ry(n,e,t,i=yi.Default,r){if(null!==n){if(2048&e[ei]&&!(i&yi.Self)){const s=function Fx(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[ei]&&!(512&s[ei]);){const a=oy(o,s,t,i|yi.Self,pa);if(a!==pa)return a;let c=o.parent;if(!c){const l=s[sx];if(l){const d=l.get(t,pa,i);if(d!==pa)return d}c=Lx(s),s=s[qa]}o=c}return r}(n,e,t,i,pa);if(s!==pa)return s}const o=oy(n,e,t,i,pa);if(o!==pa)return o}return Nx(e,t,i,r)}function oy(n,e,t,i,r){const o=function bf(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Jh)?n[Jh]:void 0;return"number"==typeof e?e>=0?e&jo:rc:e}(t);if("function"==typeof o){if(!Dx(e,n,i))return i&yi.Host?Px(r,0,i):Nx(e,t,i,r);try{let s;if(s=o(i),null!=s||i&yi.Optional)return s;fb()}finally{df()}}else if("number"==typeof o){let s=null,a=ny(n,e),c=On,l=i&yi.Host?e[fr][Fo]:null;for((-1===a||i&yi.SkipSelf)&&(c=-1===a?_f(n,e):e[a+8],c!==On&&sy(i,!1)?(s=e[ln],a=mf(c),e=gf(c,e)):a=-1);-1!==a;){const d=e[ln];if(Pm(o,a,d.data)){const h=YM(a,e,t,s,i,l);if(h!==pa)return h}c=e[a+8],c!==On&&sy(i,e[ln].data[a+8]===l)&&Pm(o,a,e)?(s=d,a=mf(c),e=gf(c,e)):a=-1}}return r}function YM(n,e,t,i,r,o){const s=e[ln],a=s.data[n+8],d=ju(a,s,t,null==i?Td(a)&&ty:i!=s&&0!=(3&a.type),r&yi.Host&&o===a);return null!==d?Dl(e,s,d,a):pa}function ju(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,d=o>>20,p=r?a+d:n.directiveEnd;for(let _=i?a:a+d;_<p;_++){const w=s[_];if(_<c&&t===w||_>=c&&w.type===t)return _}if(r){const _=s[c];if(_&&oo(_)&&_.type===t)return c}return null}function Dl(n,e,t,i){let r=n[t];const o=e.data;if(function Qb(n){return n instanceof Tl}(r)){const s=r;s.resolving&&function hM(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new At(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ni(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Zn(n)}(o[t]));const a=Om(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?No(s.injectImpl):null;Dx(n,i,yi.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function HM(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=mx(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&No(l),Om(a),s.resolving=!1,df()}}return r}function Pm(n,e,t){return!!(t[e+(n>>km)]&1<<n)}function sy(n,e){return!(n&yi.Self||n&yi.Host&&e)}class Vo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return ry(this._tNode,this._lView,e,im(i),t)}}function rc(){return new Vo(po(),Bt())}function ti(n){return Ac(()=>{const e=n.prototype.constructor,t=e[Mc]||ay(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Mc]||ay(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function ay(n){return ws(n)?()=>{const e=ay(Sn(n));return e&&e()}:Id(n)}function Lx(n){const e=n[ln],t=e.type;return 2===t?e.declTNode:1===t?n[Fo]:null}function As(n){return function $M(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(Et(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(po(),n)}const Hu="__parameters__";function Wu(n,e,t){return Ac(()=>{const i=function cy(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,d){const h=c.hasOwnProperty(Hu)?c[Hu]:Object.defineProperty(c,Hu,{value:[]})[Hu];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Mo(n,e){n.forEach(t=>Array.isArray(t)?Mo(t,e):e(t))}function jx(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Fm(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function vf(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function qs(n,e,t){let i=Yu(n,e);return i>=0?n[1|i]=t:(i=~i,function tT(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function wf(n,e){const t=Yu(n,e);if(t>=0)return n[1|t]}function Yu(n,e){return function zx(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Xu=Ed(Wu("Optional"),8),Bm=Ed(Wu("SkipSelf"),4);function zm(n){return 128==(128&n.flags)}var Ol=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ol||{});const yT=/^>|^->|<!--|-->|--!>|<!-$/g,vT=/(<|>)/g,wT="\u200b$1\u200b";const py=new Map;let Gm=0;const by="__ngContext__";function zo(n,e){Cs(e)?(n[by]=e[Qh],function r1(n){py.set(n[Qh],n)}(e)):n[by]=e}let wy;function xy(n,e){return wy(n,e)}function Mf(n){const e=n[yr];return ns(e)?e[yr]:e}function c1(n){return ga(n[Ad])}function l1(n){return ga(n[Xi])}function ga(n){for(;null!==n&&!ns(n);)n=n[Xi];return n}function Ju(n,e,t,i,r){if(null!=i){let o,s=!1;ns(i)?o=i:Cs(i)&&(s=!0,i=i[Fr]);const a=nr(i);0===n&&null!==t?null==r?Mr(e,t,a):Ki(e,t,a,r||null,!0):1===n&&null!==t?Ki(e,t,a,r||null,!0):2===n?function Uc(n,e,t){const i=qm(n,e);i&&function PT(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function m1(n,e,t,i,r){const o=t[Gr];o!==nr(t)&&Ju(e,n,i,o,r);for(let a=Co;a<t.length;a++){const c=t[a];Of(c[ln],c,n,e,i,o)}}(e,n,o,t,r)}}function Qn(n,e){return n.createComment(function n1(n){return n.replace(yT,e=>e.replace(vT,wT))}(e))}function Ym(n,e,t){return n.createElement(e,t)}function d1(n,e){const t=n[Iu],i=t.indexOf(e);xx(e),t.splice(i,1)}function Xm(n,e){if(n.length<=Co)return;const t=Co+e,i=n[t];if(i){const r=i[yl];null!==r&&r!==n&&d1(r,i),e>0&&(n[t-1][Xi]=i[Xi]);const o=Fm(n,Co+e);!function Ms(n,e){Of(n,e,e[Yn],2,null,null),e[Fr]=null,e[Fo]=null}(i[ln],i);const s=o[Ja];null!==s&&s.detachView(o[ln]),i[yr]=null,i[Xi]=null,i[ei]&=-129}return i}function Ey(n,e){if(!(256&e[ei])){const t=e[Yn];e[wl]&&Ib(e[wl]),e[Dc]&&Ib(e[Dc]),t.destroyNode&&Of(n,e,t,3,null,null),function Rl(n){let e=n[Ad];if(!e)return Tf(n[ln],n);for(;e;){let t=null;if(Cs(e))t=e[Ad];else{const i=e[Co];i&&(t=i)}if(!t){for(;e&&!e[Xi]&&e!==n;)Cs(e)&&Tf(e[ln],e),e=e[yr];null===e&&(e=n),Cs(e)&&Tf(e[ln],e),t=e&&e[Xi]}e=t}}(e)}}function Tf(n,e){if(!(256&e[ei])){e[ei]&=-129,e[ei]|=256,function Bc(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Tl)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];$s(4,a,c);try{c.call(a)}finally{$s(5,a,c)}}else{$s(4,r,o);try{o.call(r)}finally{$s(5,r,o)}}}}}(n,e),function RT(n,e){const t=n.cleanup,i=e[Tu];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[Tu]=null);const r=e[vl];if(null!==r){e[vl]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[ln].type&&e[Yn].destroy();const t=e[yl];if(null!==t&&ns(e[yr])){t!==e[yr]&&d1(t,e);const i=e[Ja];null!==i&&i.detachView(n)}!function gy(n){py.delete(n[Qh])}(e)}}function Km(n,e,t){return function If(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Fr];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===da.None||o===da.Emulated)return null}return Ss(i,t)}}(n,e.parent,t)}function Ki(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Mr(n,e,t){n.appendChild(e,t)}function Cy(n,e,t,i,r){null!==i?Ki(n,e,t,i,r):Mr(n,e,t)}function qm(n,e){return n.parentNode(e)}function u1(n,e,t){return Sy(n,e,t)}let Ld,kf,Dy,Sy=function h1(n,e,t){return 40&n.type?Ss(n,t):null};function Zm(n,e,t,i){const r=Km(n,i,e),o=e[Yn],a=u1(i.parent||e[Fo],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)Cy(o,r,t[c],a,!1);else Cy(o,r,t,a,!1);void 0!==Ld&&Ld(o,i,e,t,r)}function Zu(n,e){if(null!==e){const t=e.type;if(3&t)return Ss(e,n);if(4&t)return ss(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Zu(n,i);{const r=n[e.index];return ns(r)?ss(-1,r):nr(r)}}if(32&t)return xy(e,n)()||nr(n[e.index]);{const i=Df(n,e);return null!==i?Array.isArray(i)?i[0]:Zu(Mf(n[fr]),i):Zu(n,e.next)}}return null}function Df(n,e){return null!==e?n[fr][Fo].projection[e.projection]:null}function ss(n,e){const t=Co+n+1;if(t<e.length){const i=e[t],r=i[ln].firstChild;if(null!==r)return Zu(i,r)}return e[Gr]}function Ay(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&zo(nr(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)Ay(n,e,t.child,i,r,o,!1),Ju(e,n,r,a,o);else if(32&c){const l=xy(t,i);let d;for(;d=l();)Ju(e,n,r,d,o);Ju(e,n,r,a,o)}else 16&c?p1(n,e,i,t,r,o):Ju(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Of(n,e,t,i,r,o){Ay(t,i,n.firstChild,e,r,o,!1)}function p1(n,e,t,i,r,o){const s=t[fr],c=s[Fo].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Ju(e,n,r,c[l],o);else{let l=c;const d=s[yr];zm(i)&&(l.flags|=128),Ay(n,e,l,d,r,o,!0)}}function My(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Js(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Ot(n,e,i),null!==r&&My(n,e,r),null!==o&&function di(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Di(n){return function Ty(){if(void 0===kf&&(kf=null,Gi.trustedTypes))try{kf=Gi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return kf}()?.createHTML(n)||n}class Bd{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ww})`}}class jT extends Bd{getTypeName(){return"HTML"}}class VT extends Bd{getTypeName(){return"Style"}}class zT extends Bd{getTypeName(){return"Script"}}class ky extends Bd{getTypeName(){return"URL"}}class HT extends Bd{getTypeName(){return"ResourceURL"}}function as(n){return n instanceof Bd?n.changingThisBreaksApplicationSecurity:n}function oc(n,e){const t=function GT(n){return n instanceof Bd&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ww})`)}return t===e}class w1{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Di(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class KT{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Di(e),t}}const JT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rf(n){return(n=String(n)).match(JT)?n:"unsafe:"+n}function Vc(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Pf(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const x1=Vc("area,br,col,hr,img,wbr"),Ry=Vc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Py=Vc("rp,rt"),Ny=Pf(x1,Pf(Ry,Vc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pf(Py,Vc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pf(Py,Ry)),Pl=Vc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),E1=Pf(Pl,Vc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ZT=Vc("script,style,template");class QT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Ny.hasOwnProperty(t))return this.sanitizedSomething=!0,!ZT.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!E1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Pl[a]&&(c=Rf(c)),this.buf.push(" ",s,'="',A1(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Ny.hasOwnProperty(t)&&!x1.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(A1(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const C1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,S1=/([^\#-~ |!])/g;function A1(n){return n.replace(/&/g,"&amp;").replace(C1,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(S1,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let eg;function M1(n,e){let t=null;try{eg=eg||function v1(n){const e=new KT(n);return function qT(){try{return!!(new window.DOMParser).parseFromString(Di(""),"text/html")}catch{return!1}}()?new w1(e):e}(n);let i=e?String(e):"";t=eg.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=eg.getInertBodyElement(i)}while(i!==o);return Di((new QT).sanitizeChildren(Fy(t)||t))}finally{if(t){const i=Fy(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Fy(n){return"content"in n&&function eI(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var go=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(go||{});function tg(n){const e=function Nf(){const n=Bt();return n&&n[bl].sanitizer}();return e?e.sanitize(go.URL,n)||"":oc(n,"URL")?as(n):Rf(Zn(n))}class yt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Tt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ff=new yt("ENVIRONMENT_INITIALIZER"),ng=new yt("INJECTOR",-1),D1=new yt("INJECTOR_DEF_TYPES");class Ly{get(e,t=wd){if(t===wd){const i=new Error(`NullInjectorError: No provider for ${Jt(e)}!`);throw i.name="NullInjectorError",i}return t}}function aI(...n){return{\u0275providers:ig(0,n),\u0275fromNgModule:!0}}function ig(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Mo(e,s=>{const a=s;Lf(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&Uy(r,o),t}function Uy(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];jy(r,o=>{e(o,i)})}}function Lf(n,e,t,i){if(!(n=Sn(n)))return!1;let r=null,o=es(n);const s=!o&&Ii(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=es(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)Lf(l,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{Mo(o.imports,d=>{Lf(d,e,t,i)&&(l||=[],l.push(d))})}finally{}void 0!==l&&Uy(l,e)}if(!a){const l=Id(r)||(()=>new r);e({provide:r,useFactory:l,deps:ri},r),e({provide:D1,useValue:r,multi:!0},r),e({provide:Ff,useValue:()=>Ze(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;jy(c,d=>{e(d,l)})}}}return r!==n&&void 0!==n.providers}function jy(n,e){for(let t of n)hb(t)&&(t=t.\u0275providers),Array.isArray(t)?jy(t,e):e(t)}const cI=pt({provide:String,useValue:pt});function Bf(n){return null!==n&&"object"==typeof n&&cI in n}function Ud(n){return"function"==typeof n}const Uf=new yt("Set Injector scope."),rg={},lI={};let Vy;function og(){return void 0===Vy&&(Vy=new Ly),Vy}class Ds{}class sg extends Ds{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zy(e,s=>this.processProvider(s)),this.records.set(ng,eh(void 0,this)),r.has("environment")&&this.records.set(Ds,eh(void 0,this));const o=this.records.get(Uf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(D1.multi,ri,yi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=pl(this),i=No(void 0);try{return e()}finally{pl(t),No(i)}}get(e,t=wd,i=yi.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Zh))return e[Zh](this);i=im(i);const o=pl(this),s=No(void 0);try{if(!(i&yi.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function fI(n){return"function"==typeof n||"object"==typeof n&&n instanceof yt}(e)&&Yh(e);c=l&&this.injectableDefInScope(l)?eh(jf(e),rg):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&yi.Self?og():this.parent).get(e,t=i&yi.Optional&&t===wd?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Xh]=a[Xh]||[]).unshift(Jt(e)),o)throw a;return function ml(n,e,t,i){const r=n[Xh];throw e[_b]&&r.unshift(e[_b]),n.message=function rm(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Jt(e);if(Array.isArray(e))r=e.map(Jt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Jt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(gb,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Xh]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{No(s),pl(o)}}resolveInjectorInitializers(){const e=pl(this),t=No(void 0);try{const r=this.get(Ff.multi,ri,yi.Self);for(const o of r)o()}finally{pl(e),No(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Jt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new At(205,!1)}processProvider(e){let t=Ud(e=Sn(e))?e:Sn(e&&e.provide);const i=function uI(n){return Bf(n)?eh(void 0,n.useValue):eh(R1(n),rg)}(e);if(Ud(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=eh(void 0,rg,!0),r.factory=()=>bb(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===rg&&(t.value=lI,t.value=t.factory()),"object"==typeof t.value&&t.value&&function hI(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Sn(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function jf(n){const e=Yh(n),t=null!==e?e.factory:Id(n);if(null!==t)return t;if(n instanceof yt)throw new At(204,!1);if(n instanceof Function)return function dI(n){const e=n.length;if(e>0)throw vf(e,"?"),new At(204,!1);const t=function _M(n){return n&&(n[Zp]||n[Cc])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new At(204,!1)}function R1(n,e,t){let i;if(Ud(n)){const r=Sn(n);return Id(r)||jf(r)}if(Bf(n))i=()=>Sn(n.useValue);else if(function k1(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...bb(n.deps||[]));else if(function O1(n){return!(!n||!n.useExisting)}(n))i=()=>Ze(Sn(n.useExisting));else{const r=Sn(n&&(n.useClass||n.provide));if(!function P1(n){return!!n.deps}(n))return Id(r)||jf(r);i=()=>new r(...bb(n.deps))}return i}function eh(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function zy(n,e){for(const t of n)Array.isArray(t)?zy(t,e):t&&hb(t)?zy(t.\u0275providers,e):e(t)}const jd=new yt("AppId",{providedIn:"root",factory:()=>Hy}),Hy="ng",N1=new yt("Platform Initializer"),Zs=new yt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xr=new yt("AnimationModuleType"),Gy=new yt("CSP nonce",{providedIn:"root",factory:()=>function Qu(){if(void 0!==Dy)return Dy;if(typeof document<"u")return document;throw new At(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ae=(n,e,t)=>null;function st(n,e,t=!1){return Ae(n,e,t)}class Qs{}class Ho{}class zc{resolveComponentFactory(e){throw function ea(n){const e=Error(`No component factory found for ${Jt(n)}.`);return e.ngComponent=n,e}(e)}}let Hc=(()=>{class n{static#e=this.NULL=new zc}return n})();function LJ(){return dg(po(),Bt())}function dg(n,e){return new vn(Ss(n,e))}let vn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=LJ}return n})();function BJ(n){return n instanceof vn?n.nativeElement:n}class Jy{}let Nl=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function UJ(){const n=Bt(),t=Ys(po().index,n);return(Cs(t)?t:n)[Yn]}()}return n})(),jJ=(()=>{class n{static#e=this.\u0275prov=Tt({token:n,providedIn:"root",factory:()=>null})}return n})();class ih{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const VJ=new ih("16.2.10"),gI={};function e3(n,e=null,t=null,i){const r=t3(n,e,t,i);return r.resolveInjectorInitializers(),r}function t3(n,e=null,t=null,i,r=new Set){const o=[t||ri,aI(n)];return i=i||("object"==typeof n?void 0:Jt(n)),new sg(o,e||og(),i||null,r)}let Li=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=wd;static#t=this.NULL=new Ly;static create(t,i){if(Array.isArray(t))return e3({name:""},i,t,"");{const r=t.name??"";return e3({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=Tt({token:n,providedIn:"any",factory:()=>Ze(ng)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function bI(n){return n.ngOriginalError}class Pa{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&bI(e);for(;t&&bI(t);)t=bI(t);return t||null}}function vI(n){return e=>{setTimeout(n,void 0,e)}}const jt=class XJ extends j{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=vI(o),r&&(r=vI(r)),s&&(s=vI(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof C&&e.add(a),a}};function i3(...n){}class un{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jt(!1),this.onMicrotaskEmpty=new jt(!1),this.onStable=new jt(!1),this.onError=new jt(!1),typeof Zone>"u")throw new At(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function KJ(){const n="function"==typeof Gi.requestAnimationFrame;let e=Gi[n?"requestAnimationFrame":"setTimeout"],t=Gi[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function ZJ(n){const e=()=>{!function JJ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Gi,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,xI(n),n.isCheckStableRunning=!0,wI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),xI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function eZ(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return r3(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),o3(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return r3(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),o3(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,xI(n),wI(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!un.isInAngularZone())throw new At(909,!1)}static assertNotInAngularZone(){if(un.isInAngularZone())throw new At(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,qJ,i3,i3);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const qJ={};function wI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function xI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function r3(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function o3(n){n._nesting--,wI(n)}class QJ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jt,this.onMicrotaskEmpty=new jt,this.onStable=new jt,this.onError=new jt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const s3=new yt("",{providedIn:"root",factory:a3});function a3(){const n=Kt(un);let e=!0;return hr(new Ye(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new Ye(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{un.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{un.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(vs()))}function EI(n){return n.ownerDocument.defaultView}function ug(n){return n.ownerDocument}let CI=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Tt({token:n,providedIn:"root",factory:()=>new n})}return n})();function Zy(n){for(;n;){n[ei]|=64;const e=Mf(n);if(Sb(n)&&!e)return n;n=e}return null}const h3=new yt("",{providedIn:"root",factory:()=>!1});let L1=null;function g3(n,e){return n[e]??y3()}function _3(n,e){const t=y3();t.producerNode?.length&&(n[e]=L1,t.lView=n,L1=b3())}const cZ={...ec,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Zy(n.lView)},lView:null};function b3(){return Object.create(cZ)}function y3(){return L1??=b3(),L1}const si={};function ot(n){v3(li(),Bt(),Bo()+n,!1)}function v3(n,e,t,i){if(!i)if(3==(3&e[ei])){const o=n.preOrderCheckHooks;null!==o&&fa(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Lu(e,o,0,t)}ic(t)}function Ce(n,e=yi.Default){const t=Bt();return null===t?Ze(n,e):ry(po(),t,Sn(n),e)}function zd(){throw new Error("invalid")}function B1(n,e,t,i,r,o,s,a,c,l,d){const h=e.blueprint.slice();return h[Fr]=r,h[ei]=140|i,(null!==l||n&&2048&n[ei])&&(h[ei]|=2048),Nu(h),h[yr]=h[qa]=n,h[Lr]=t,h[bl]=s||n&&n[bl],h[Yn]=a||n&&n[Yn],h[_l]=c||n&&n[_l]||null,h[Fo]=o,h[Qh]=function xT(){return Gm++}(),h[Ic]=d,h[sx]=l,h[fr]=2==e.type?n[fr]:h,h}function pg(n,e,t,i,r){let o=n.data[e];if(null===o)o=function SI(n,e,t,i,r){const o=Gb(),s=Wb(),c=n.data[e]=function gZ(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return Rd()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function jM(){return Fn.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Pd(){const n=Fn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return tc(o,!0),o}function Qy(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function w3(n,e,t,i,r){const o=g3(e,wl),s=Bo(),a=2&i;try{ic(-1),a&&e.length>vi&&v3(n,e,vi,!1),$s(a?2:0,r);const l=a?o:null,d=_m(l);try{null!==l&&(l.dirty=!1),t(i,r)}finally{Dd(l,d)}}finally{a&&null===e[wl]&&_3(e,wl),ic(s),$s(a?3:1,r)}}function AI(n,e,t){if(Cb(e)){const i=ha(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{ha(i)}}}function MI(n,e,t){xm()&&(function EZ(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Td(t)&&function DZ(n,e,t){const i=Ss(e,n),r=x3(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=U1(n,B1(n,r,null,s,i,e,null,n[bl].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Rm(t,e),zo(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=Dl(e,n,a,t);zo(l,e),null!==s&&OZ(0,a-r,l,c,0,s),oo(c)&&(Ys(t.index,e)[Lr]=Dl(e,n,a,t))}}(n,e,t,Ss(t,e)),64==(64&t.flags)&&M3(n,e,t))}function TI(n,e,t=Ss){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function x3(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=II(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function II(n,e,t,i,r,o,s,a,c,l,d){const h=vi+i,p=h+r,_=function dZ(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:si);return t}(h,p),w="function"==typeof l?l():l;return _[ln]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:d}}let E3=n=>null;function C3(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?S3(t,e,r,o):i.hasOwnProperty(r)&&S3(t,e,i[r],o)}return t}function S3(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Na(n,e,t,i,r,o,s,a){const c=Ss(e,t);let d,l=e.inputs;!a&&null!=l&&(d=l[i])?(PI(n,t,d,i,r),Td(e)&&function yZ(n,e){const t=Ys(e,n);16&t[ei]||(t[ei]|=64)}(t,e.index)):3&e.type&&(i=function bZ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function DI(n,e,t,i){if(xm()){const r=null===i?null:{"":-1},o=function SZ(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Cd(e,s.selectors,!1))if(i||(i=[]),oo(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),OI(n,e,a.length)}else i.unshift(s),OI(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&A3(n,e,t,s,r,a),r&&function AZ(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new At(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=qn(t.mergedAttrs,t.attrs)}function A3(n,e,t,i,r,o){for(let l=0;l<i.length;l++)iy(Rm(t,e),n,i[l].type);!function TZ(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const d=i[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=Qy(n,e,i.length,null);for(let l=0;l<i.length;l++){const d=i[l];t.mergedAttrs=qn(t.mergedAttrs,d.hostAttrs),IZ(n,t,e,c,d),MZ(c,d,r),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function _Z(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let d=e.directiveStart;d<r;d++){const h=o[d],p=t?t.get(h):null,w=p?p.outputs:null;c=C3(h.inputs,d,c,p?p.inputs:null),l=C3(h.outputs,d,l,w);const I=null===c||null===s||sm(e)?null:kZ(c,d,s);a.push(I)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function M3(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function Ix(){return Fn.lFrame.currentDirectiveIndex}();try{ic(o);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];Cm(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&CZ(c,l)}}finally{ic(-1),Cm(s)}}function CZ(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function OI(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function MZ(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;oo(e)&&(t[""]=n)}}function IZ(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=Id(r.type)),s=new Tl(o,oo(r),Ce);n.blueprint[i]=s,t[i]=s,function wZ(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function xZ(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Qy(n,t,r.hostVars,si),r)}function Fl(n,e,t,i,r,o){const s=Ss(n,e);!function kI(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Zn(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Yn],s,o,n.value,t,i,r)}function OZ(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)T3(i,t,s[a++],s[a++],s[a++])}function T3(n,e,t,i,r){const o=ha(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{ha(o)}}function kZ(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function I3(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function D3(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];Ml(t[i]),s.contentQueries(2,e[o],o)}}}function U1(n,e){return n[Ad]?n[Md][Xi]=e:n[Ad]=e,n[Md]=e,e}function RI(n,e,t){Ml(0);const i=ha(null);try{e(n,t)}finally{ha(i)}}function O3(n){return n[Tu]||(n[Tu]=[])}function k3(n){return n.cleanup||(n.cleanup=[])}function R3(n,e,t){return(null===n||oo(n))&&(t=function Bb(n){for(;Array.isArray(n);){if("object"==typeof n[xl])return n;n=n[Fr]}return null}(t[e.index])),t[Yn]}function P3(n,e){const t=n[_l],i=t?t.get(Pa,null):null;i&&i.handleError(e)}function PI(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];T3(n.data[s],e[s],i,a,r)}}function Hd(n,e,t){const i=sf(e,n);!function kl(n,e,t){n.setValue(e,t)}(n[Yn],i,t)}function RZ(n,e){const t=Ys(e,n),i=t[ln];!function PZ(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Fr];null!==r&&null===t[Ic]&&(t[Ic]=st(r,t[_l])),NI(i,t,t[Lr])}function NI(n,e,t){Sm(e);try{const i=n.viewQuery;null!==i&&RI(1,i,t);const r=n.template;null!==r&&w3(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&D3(n,e),n.staticViewQueries&&RI(2,n.viewQuery,t);const o=n.components;null!==o&&function NZ(n,e){for(let t=0;t<e.length;t++)RZ(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ei]&=-5,uf()}}let N3=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function PM(n,e,t){const i=Object.create(Nb);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>Tb(i),run:()=>{if(i.dirty=!1,i.hasRun&&!kc(i))return;i.hasRun=!0;const s=_m(i);try{i.cleanupFn(),i.cleanupFn=fx,i.fn(r)}finally{Dd(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,o)},r);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Tt({token:n,providedIn:"root",factory:()=>new n})}return n})();function j1(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=ii(r,a):2==o&&(i=ii(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function ev(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(nr(o)),ns(o)&&F3(o,i);const s=t.type;if(8&s)ev(n,e,t.child,i);else if(32&s){const a=xy(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=Df(e,t);if(Array.isArray(a))i.push(...a);else{const c=Mf(e[fr]);ev(c[ln],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function F3(n,e){for(let t=Co;t<n.length;t++){const i=n[t],r=i[ln].firstChild;null!==r&&ev(i[ln],i,r,e)}n[Gr]!==n[Fr]&&e.push(n[Gr])}function V1(n,e,t,i=!0){const r=e[bl],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{L3(n,e,n.template,t)}catch(c){throw i&&P3(e,c),c}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function L3(n,e,t,i){const r=e[ei];if(256!=(256&r)){e[bl].effectManager?.flush(),Sm(e);try{Nu(e),function is(n){return Fn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&w3(n,e,t,2,i);const s=3==(3&r);if(s){const l=n.preOrderCheckHooks;null!==l&&fa(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Lu(e,l,0,null),ff(e,0)}if(function BZ(n){for(let e=c1(n);null!==e;e=l1(e)){if(!e[ef])continue;const t=e[Iu];for(let i=0;i<t.length;i++){wx(t[i])}}}(e),B3(e,2),null!==n.contentQueries&&D3(n,e),s){const l=n.contentCheckHooks;null!==l&&fa(e,l)}else{const l=n.contentHooks;null!==l&&Lu(e,l,1),ff(e,1)}!function lZ(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=g3(e,Dc);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)ic(~o);else{const s=o,a=t[++r],c=t[++r];Fu(a,s),i.dirty=!1;const l=_m(i);try{c(2,e[s])}finally{Dd(i,l)}}}}finally{null===e[Dc]&&_3(e,Dc),ic(-1)}}(n,e);const a=n.components;null!==a&&j3(e,a,0);const c=n.viewQuery;if(null!==c&&RI(2,c,i),s){const l=n.viewCheckHooks;null!==l&&fa(e,l)}else{const l=n.viewHooks;null!==l&&Lu(e,l,2),ff(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ei]&=-73,xx(e)}finally{uf()}}}function B3(n,e){for(let t=c1(n);null!==t;t=l1(t))for(let i=Co;i<t.length;i++)U3(t[i],e)}function UZ(n,e,t){U3(Ys(e,n),t)}function U3(n,e){if(!function _i(n){return 128==(128&n[ei])}(n))return;const t=n[ln],i=n[ei];if(80&i&&0===e||1024&i||2===e)L3(t,n,t.template,n[Lr]);else if(n[qr]>0){B3(n,1);const r=t.components;null!==r&&j3(n,r,1)}}function j3(n,e,t){for(let i=0;i<e.length;i++)UZ(n,e[i],t)}class tv{get rootNodes(){const e=this._lView,t=e[ln];return ev(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Lr]}set context(e){this._lView[Lr]=e}get destroyed(){return 256==(256&this._lView[ei])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[yr];if(ns(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Xm(e,i),Fm(t,i))}this._attachedToViewContainer=!1}Ey(this._lView[ln],this._lView)}onDestroy(e){!function Xs(n,e){if(256==(256&n[ei]))throw new At(911,!1);null===n[vl]&&(n[vl]=[]),n[vl].push(e)}(this._lView,e)}markForCheck(){Zy(this._cdRefInjectingView||this._lView)}detach(){this._lView[ei]&=-129}reattach(){this._lView[ei]|=128}detectChanges(){V1(this._lView[ln],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new At(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function DT(n,e){Of(n,e,e[Yn],2,null,null)}(this._lView[ln],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new At(902,!1);this._appRef=e}}class jZ extends tv{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;V1(e[ln],e,e[Lr],!1)}checkNoChanges(){}get context(){return null}}class V3 extends Hc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ii(e);return new nv(t,this.ngModule)}}function z3(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class zZ{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=im(i);const r=this.injector.get(e,gI,i);return r!==gI||t===gI?r:this.parentInjector.get(e,t,i)}}class nv extends Ho{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=z3(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return z3(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function CM(n){return n.map(lm).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Ds?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new zZ(e,o):e,a=s.get(Jy,null);if(null===a)throw new At(407,!1);const h={rendererFactory:a,sanitizer:s.get(jJ,null),effectManager:s.get(N3,null),afterRenderEventManager:s.get(CI,null)},p=a.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",w=i?function uZ(n,e,t,i){const o=i.get(h3,!1)||t===da.ShadowDom,s=n.selectRootElement(e,o);return function hZ(n){E3(n)}(s),s}(p,i,this.componentDef.encapsulation,s):Ym(p,_,function VZ(n){const e=n.toLowerCase();return"svg"===e?vx:"math"===e?"math":null}(_)),K=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Q=null;null!==w&&(Q=st(w,s,!0));const me=II(0,null,null,1,0,null,null,null,null,null,null),Pe=B1(null,me,null,K,null,null,h,p,s,null,Q);let We,tt;Sm(Pe);try{const ut=this.componentDef;let wt,vt=null;ut.findHostDirectiveDefs?(wt=[],vt=new Map,ut.findHostDirectiveDefs(ut,wt,vt),wt.push(ut)):wt=[ut];const bt=function GZ(n,e){const t=n[ln],i=vi;return n[i]=e,pg(t,i,2,"#host",null)}(Pe,w),St=function WZ(n,e,t,i,r,o,s){const a=r[ln];!function $Z(n,e,t,i){for(const r of n)e.mergedAttrs=qn(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(j1(e,e.mergedAttrs,!0),null!==t&&Js(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=st(e,r[_l]));const l=o.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const h=B1(r,x3(t),null,d,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&OI(a,n,i.length-1),U1(r,h),r[n.index]=h}(bt,w,ut,wt,Pe,h,p);tt=jb(me,vi),w&&function XZ(n,e,t,i){if(i)Ot(n,t,["ng-version",VJ.full]);else{const{attrs:r,classes:o}=function SM(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!Es(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Ot(n,t,r),o&&o.length>0&&My(n,t,o.join(" "))}}(p,ut,w,i),void 0!==t&&function KZ(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(tt,this.ngContentSelectors,t),We=function YZ(n,e,t,i,r,o){const s=po(),a=r[ln],c=Ss(s,r);A3(a,r,s,t,null,i);for(let d=0;d<t.length;d++)zo(Dl(r,a,s.directiveStart+d,s),r);M3(a,r,s),c&&zo(c,r);const l=Dl(r,a,s.directiveStart+s.componentOffset,s);if(n[Lr]=r[Lr]=l,null!==o)for(const d of o)d(l,e);return AI(a,s,n),l}(St,ut,wt,vt,Pe,[qZ]),NI(me,Pe,null)}finally{uf()}return new HZ(this.componentType,We,dg(tt,Pe),Pe,tt)}}class HZ extends Qs{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new jZ(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;PI(o[ln],o,r,e,t),this.previousInputValues.set(e,t),Zy(Ys(this._tNode.index,o))}}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function qZ(){const n=po();Tm(Bt()[ln],n)}function dn(n){let e=function H3(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(oo(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new At(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=z1(n.inputs),s.inputTransforms=z1(n.inputTransforms),s.declaredInputs=z1(n.declaredInputs),s.outputs=z1(n.outputs);const a=r.hostBindings;a&&eQ(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&ZZ(n,c),l&&QZ(n,l),zt(n.inputs,r.inputs),zt(n.declaredInputs,r.declaredInputs),zt(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),zt(s.inputTransforms,r.inputTransforms)),oo(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===dn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function JZ(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=qn(r.hostAttrs,t=qn(t,r.hostAttrs))}}(i)}function z1(n){return n===ts?{}:n===ri?[]:n}function ZZ(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function QZ(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function eQ(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function H1(n){return!!FI(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function FI(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ll(n,e,t){return n[e]=t}function Os(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function zf(n,e,t,i){const r=Os(n,e,t);return Os(n,e+1,i)||r}function Vn(n,e,t,i){const r=Bt();return Os(r,rs(),e)&&(li(),Fl(wr(),r,n,e,t,i)),Vn}function gg(n,e,t,i){return Os(n,rs(),t)?e+Zn(t)+i:si}function _g(n,e,t,i,r,o){const a=zf(n,function nc(){return Fn.lFrame.bindingIndex}(),t,r);return Pc(2),a?e+Zn(t)+i+Zn(r)+o:si}function Yt(n,e,t,i,r,o,s,a){const c=Bt(),l=li(),d=n+vi,h=l.firstCreatePass?function SQ(n,e,t,i,r,o,s,a,c){const l=e.consts,d=pg(e,n,4,s||null,Sl(l,a));DI(e,t,d,Sl(l,c)),Tm(e,d);const h=d.tView=II(2,d,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,l,c,e,t,i,r,o,s):l.data[d];tc(h,!1);const p=s4(l,c,h,n);Mm()&&Zm(l,c,p,h),zo(p,c),U1(c,c[d]=I3(p,c,p,h)),pm(h)&&MI(l,c,h),null!=s&&TI(c,h,a)}let s4=function a4(n,e,t,i){return Lc(!0),e[Yn].createComment("")};function Jr(n){return Cl(function Mx(){return Fn.lFrame.contextLView}(),vi+n)}function ct(n,e,t){const i=Bt();return Os(i,rs(),e)&&Na(li(),wr(),i,n,e,i[Yn],t,!1),ct}function zI(n,e,t,i,r){const s=r?"class":"style";PI(n,t,e.inputs[s],s,i)}function $e(n,e,t,i){const r=Bt(),o=li(),s=vi+n,a=r[Yn],c=o.firstCreatePass?function IQ(n,e,t,i,r,o){const s=e.consts,c=pg(e,n,2,i,Sl(s,r));return DI(e,t,c,Sl(s,o)),null!==c.attrs&&j1(c,c.attrs,!1),null!==c.mergedAttrs&&j1(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],l=c4(o,r,c,a,e,n);r[s]=l;const d=pm(c);return tc(c,!0),Js(a,l,c),32!=(32&c.flags)&&Mm()&&Zm(o,r,l,c),0===function Cx(){return Fn.lFrame.elementDepthCount}()&&zo(l,r),function Ks(){Fn.lFrame.elementDepthCount++}(),d&&(MI(o,r,c),AI(o,c,r)),null!==i&&TI(r,c),$e}function Qe(){let n=po();Wb()?$b():(n=n.parent,tc(n,!1));const e=n;(function Em(n){return Fn.skipHydrationRootTNode===n})(e)&&function Hb(){Fn.skipHydrationRootTNode=null}(),function Al(){Fn.lFrame.elementDepthCount--}();const t=li();return t.firstCreatePass&&(Tm(t,n),Cb(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function kx(n){return 0!=(8&n.flags)}(e)&&zI(t,e,Bt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Uo(n){return 0!=(16&n.flags)}(e)&&zI(t,e,Bt(),e.stylesWithoutHost,!1),Qe}function on(n,e,t,i){return $e(n,e,t,i),Qe(),on}let c4=(n,e,t,i,r,o)=>(Lc(!0),Ym(i,r,function Jb(){return Fn.lFrame.currentNamespace}()));function rh(n,e,t){const i=Bt(),r=li(),o=n+vi,s=r.firstCreatePass?function kQ(n,e,t,i,r){const o=e.consts,s=Sl(o,i),a=pg(e,n,8,"ng-container",s);return null!==s&&j1(a,s,!0),DI(e,t,a,Sl(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];tc(s,!0);const a=l4(r,i,s,n);return i[o]=a,Mm()&&Zm(r,i,a,s),zo(a,i),pm(s)&&(MI(r,i,s),AI(r,s,i)),null!=t&&TI(i,s),rh}function oh(){let n=po();const e=li();return Wb()?$b():(n=n.parent,tc(n,!1)),e.firstCreatePass&&(Tm(e,n),Cb(n)&&e.queries.elementEnd(n)),oh}function HI(n,e,t){return rh(n,e,t),oh(),HI}let l4=(n,e,t,i)=>(Lc(!0),Qn(e[Yn],""));function $r(){return Bt()}function Cg(n){return!!n&&"function"==typeof n.then}function d4(n){return!!n&&"function"==typeof n.subscribe}function Mt(n,e,t,i){const r=Bt(),o=li(),s=po();return u4(o,r,r[Yn],s,n,e,i),Mt}function X1(n,e){const t=po(),i=Bt(),r=li();return u4(r,i,R3(Yb(r.data),t,i),t,n,e),X1}function u4(n,e,t,i,r,o,s){const a=pm(i),l=n.firstCreatePass&&k3(n),d=e[Lr],h=O3(e);let p=!0;if(3&i.type||s){const I=Ss(i,e),L=s?s(I):I,K=h.length,Q=s?Pe=>s(nr(Pe[i.index])):i.index;let me=null;if(!s&&a&&(me=function NQ(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[Tu],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==me)(me.__ngLastListenerFn__||me).__ngNextListenerFn__=o,me.__ngLastListenerFn__=o,p=!1;else{o=f4(i,e,d,o,!1);const Pe=t.listen(L,r,o);h.push(o,Pe),l&&l.push(r,Q,K,K+1)}}else o=f4(i,e,d,o,!1);const _=i.outputs;let w;if(p&&null!==_&&(w=_[r])){const I=w.length;if(I)for(let L=0;L<I;L+=2){const We=e[w[L]][w[L+1]].subscribe(o),tt=h.length;h.push(o,We),l&&l.push(r,i.index,tt,-(tt+1))}}}function h4(n,e,t,i){try{return $s(6,e,t),!1!==t(i)}catch(r){return P3(n,r),!1}finally{$s(7,e,t)}}function f4(n,e,t,i,r){return function o(s){if(s===Function)return i;Zy(n.componentOffset>-1?Ys(n.index,e):e);let c=h4(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=h4(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function Qt(n=1){return function Am(n){return(Fn.lFrame.contextLView=function VM(n,e){for(;n>0;)e=e[qa],n--;return e}(n,Fn.lFrame.contextLView))[Lr]}(n)}function FQ(n,e){let t=null;const i=function am(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?Cd(n,o,!0):EM(i,o))return r}else t=r}return t}function Wi(n){const e=Bt()[fr][Fo];if(!e.projection){const i=e.projection=vf(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?FQ(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function bn(n,e=0,t){const i=Bt(),r=li(),o=pg(r,vi+n,16,null,t||null);null===o.projection&&(o.projection=e),$b(),(!i[Ic]||Rd())&&32!=(32&o.flags)&&function FT(n,e,t){p1(e[Yn],0,e,t,Km(n,t,e),u1(t.parent||e[Fo],t,e))}(r,i,o)}function av(n,e,t){return GI(n,"",e,"",t),av}function GI(n,e,t,i,r){const o=Bt(),s=gg(o,e,t,i);return s!==si&&Na(li(),wr(),o,n,s,o[Yn],r,!1),GI}function K1(n,e){return n<<17|e<<2}function sh(n){return n>>17&32767}function WI(n){return 2|n}function Hf(n){return(131068&n)>>2}function $I(n,e){return-131069&n|e<<2}function YI(n){return 1|n}function E4(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?sh(o):Hf(o),c=!1;for(;0!==a&&(!1===c||s);){const d=n[a+1];zQ(n[a],e)&&(c=!0,n[a+1]=i?YI(d):WI(d)),a=i?sh(d):Hf(d)}c&&(n[t+1]=i?WI(o):YI(o))}function zQ(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Yu(n,e)>=0}const To={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function C4(n){return n.substring(To.key,To.keyEnd)}function S4(n,e){const t=To.textEnd;return t===e?-1:(e=To.keyEnd=function $Q(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,To.key=e,t),Sg(n,e,t))}function Sg(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function cv(n,e,t){return Wc(n,e,t,!1),cv}function tn(n,e){return Wc(n,e,null,!0),tn}function Mi(n){$c(tee,Bl,n,!0)}function Bl(n,e){for(let t=function GQ(n){return function M4(n){To.key=0,To.keyEnd=0,To.value=0,To.valueEnd=0,To.textEnd=n.length}(n),S4(n,Sg(n,0,To.textEnd))}(e);t>=0;t=S4(e,t))qs(n,C4(e),!0)}function Wc(n,e,t,i){const r=Bt(),o=li(),s=Pc(2);o.firstUpdatePass&&O4(o,n,s,i),e!==si&&Os(r,s,e)&&R4(o,o.data[Bo()],r,r[Yn],n,r[s+1]=function iee(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Jt(as(n)))),n}(e,t),i,s)}function $c(n,e,t,i){const r=li(),o=Pc(2);r.firstUpdatePass&&O4(r,null,o,i);const s=Bt();if(t!==si&&Os(s,o,t)){const a=r.data[Bo()];if(N4(a,i)&&!D4(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=ii(c,t||"")),zI(r,a,s,t,i)}else!function nee(n,e,t,i,r,o,s,a){r===si&&(r=ri);let c=0,l=0,d=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;null!==d||null!==h;){const p=c<r.length?r[c+1]:void 0,_=l<o.length?o[l+1]:void 0;let I,w=null;d===h?(c+=2,l+=2,p!==_&&(w=h,I=_)):null===h||null!==d&&d<h?(c+=2,w=d):(l+=2,w=h,I=_),null!==w&&R4(n,e,t,i,w,I,s,a),d=c<r.length?r[c]:null,h=l<o.length?o[l]:null}}(r,a,s,s[Yn],s[o+1],s[o+1]=function eee(n,e,t){if(null==t||""===t)return ri;const i=[],r=as(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}function D4(n,e){return e>=n.expandoStartIndex}function O4(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Bo()],s=D4(n,t);N4(o,i)&&null===e&&!s&&(e=!1),e=function qQ(n,e,t,i){const r=Yb(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=lv(t=XI(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=XI(r,n,e,t,i),null===o){let c=function JQ(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Hf(i))return n[sh(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=XI(null,n,e,c[1],i),c=lv(c,e.attrs,i),function ZQ(n,e,t,i){n[sh(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function QQ(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=lv(i,n[o].hostAttrs,t);return lv(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function jQ(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=sh(s),c=Hf(s);n[i]=t;let d,l=!1;if(Array.isArray(t)?(d=t[1],(null===d||Yu(t,d)>0)&&(l=!0)):d=t,r)if(0!==c){const p=sh(n[a+1]);n[i+1]=K1(p,a),0!==p&&(n[p+1]=$I(n[p+1],i)),n[a+1]=function BQ(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=K1(a,0),0!==a&&(n[a+1]=$I(n[a+1],i)),a=i;else n[i+1]=K1(c,0),0===a?a=i:n[c+1]=$I(n[c+1],i),c=i;l&&(n[i+1]=WI(n[i+1])),E4(n,d,i,!0),E4(n,d,i,!1),function VQ(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Yu(o,e)>=0&&(t[i+1]=YI(t[i+1]))}(e,d,n,i,o),s=K1(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function XI(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=lv(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function lv(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),qs(n,s,!!t||e[++o]))}return void 0===n?null:n}function tee(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&qs(n,i,t)}function R4(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],d=function UQ(n){return 1==(1&n)}(l)?P4(c,e,t,r,Hf(l),s):void 0;q1(d)||(q1(o)||function LQ(n){return 2==(2&n)}(l)&&(o=P4(c,null,t,r,a,s)),function jc(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Ol.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ol.Important),n.setStyle(t,i,r,o))}}(i,s,sf(Bo(),t),r,o))}function P4(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),d=l?c[1]:c,h=null===d;let p=t[r+1];p===si&&(p=h?ri:void 0);let _=h?wf(p,i):d===i?p:void 0;if(l&&!q1(_)&&(_=wf(c,i)),q1(_)&&(a=_,s))return a;const w=n[r+1];r=s?sh(w):Hf(w)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=wf(c,i))}return a}function q1(n){return void 0!==n}function N4(n,e){return 0!=(n.flags&(e?8:16))}function kt(n,e=""){const t=Bt(),i=li(),r=n+vi,o=i.firstCreatePass?pg(i,r,1,e,null):i.data[r],s=F4(i,t,o,e,n);t[r]=s,Mm()&&Zm(i,t,s,o),tc(o,!1)}let F4=(n,e,t,i,r)=>(Lc(!0),function $m(n,e){return n.createText(e)}(e[Yn],i));function Tr(n){return Ir("",n,""),Tr}function Ir(n,e,t){const i=Bt(),r=gg(i,n,e,t);return r!==si&&Hd(i,Bo(),r),Ir}function J1(n,e,t,i,r){const o=Bt(),s=_g(o,n,e,t,i,r);return s!==si&&Hd(o,Bo(),s),J1}function cs(n,e,t){const i=Bt();return Os(i,rs(),e)&&Na(li(),wr(),i,n,e,i[Yn],t,!0),cs}function dv(n,e,t){const i=Bt();if(Os(i,rs(),e)){const o=li(),s=wr();Na(o,s,i,n,e,R3(Yb(o.data),s,i),t,!0)}return dv}const Gf=void 0;var Cee=["en",[["a","p"],["AM","PM"],Gf],[["AM","PM"],Gf,Gf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gf,"{1} 'at' {0}",Gf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Eee(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Ag={};function tU(n){return n in Ag||(Ag[n]=Gi.ng&&Gi.ng.common&&Gi.ng.common.locales&&Gi.ng.common.locales[n]),Ag[n]}var Er=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Er||{});const Mg="en-US";let nU=Mg;function JI(n,e,t,i,r){if(n=Sn(n),Array.isArray(n))for(let o=0;o<n.length;o++)JI(n[o],e,t,i,r);else{const o=li(),s=Bt(),a=po();let c=Ud(n)?n:Sn(n.provide);const l=R1(n),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(Ud(n)||!n.multi){const _=new Tl(l,r,Ce),w=QI(c,e,r?d:d+p,h);-1===w?(iy(Rm(a,s),o,c),ZI(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[w]=_,s[w]=_)}else{const _=QI(c,e,d+p,h),w=QI(c,e,d,d+p),L=w>=0&&t[w];if(r&&!L||!r&&!(_>=0&&t[_])){iy(Rm(a,s),o,c);const K=function Ete(n,e,t,i,r){const o=new Tl(n,t,Ce);return o.multi=[],o.index=e,o.componentProviders=0,MU(o,r,i&&!t),o}(r?xte:wte,t.length,r,i,l);!r&&L&&(t[w].providerFactory=K),ZI(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(K),s.push(K)}else ZI(o,n,_>-1?_:w,MU(t[r?w:_],l,!r&&i));!r&&i&&L&&t[w].componentProviders++}}}function ZI(n,e,t,i){const r=Ud(e),o=function Is(n){return!!n.useClass}(e);if(r||o){const c=(o?Sn(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const d=l.indexOf(t);-1===d?l.push(t,[i,c]):l[d+1].push(i,c)}else l.push(t,c)}}}function MU(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function QI(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function wte(n,e,t,i){return eD(this.multi,[])}function xte(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Dl(t,t[ln],this.providerFactory.index,i);o=a.slice(0,s),eD(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],eD(r,o);return o}function eD(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function zn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function vte(n,e,t){const i=li();if(i.firstCreatePass){const r=oo(n);JI(t,i.data,i.blueprint,r,!0),JI(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Wf{}class TU{}class tD extends Wf{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new V3(this);const r=function Gs(n,e){const t=n[ix]||null;if(!t&&!0===e)throw new Error(`Type ${Jt(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function Vd(n){return n instanceof Function?n():n}(r.bootstrap),this._r3Injector=t3(e,t,[{provide:Wf,useValue:this},{provide:Hc,useValue:this.componentFactoryResolver},...i],Jt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class nD extends TU{constructor(e){super(),this.moduleType=e}create(e){return new tD(this.moduleType,e,[])}}function rD(n,e,t){const i=Lo()+n,r=Bt();return r[i]===si?Ll(r,i,t?e.call(t):e()):function iv(n,e){return n[e]}(r,i)}function gv(n,e){const t=n[e];return t===si?void 0:t}function Bn(n,e){const t=li();let i;const r=n+vi;t.firstCreatePass?(i=function Gte(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=Id(i.type)),a=No(Ce);try{const c=Om(!1),l=o();return Om(c),function TQ(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,Bt(),r,l),l}finally{No(a)}}function Jn(n,e,t){const i=n+vi,r=Bt(),o=Cl(r,i);return bv(r,i)?function BU(n,e,t,i,r,o){const s=e+t;return Os(n,s,r)?Ll(n,s+1,o?i.call(o,r):i(r)):gv(n,s+1)}(r,Lo(),e,o.transform,t,o):o.transform(t)}function _v(n,e,t,i){const r=n+vi,o=Bt(),s=Cl(o,r);return bv(o,r)?function UU(n,e,t,i,r,o,s){const a=e+t;return zf(n,a,r,o)?Ll(n,a+2,s?i.call(s,r,o):i(r,o)):gv(n,a+2)}(o,Lo(),e,s.transform,t,i,s):s.transform(t,i)}function bv(n,e){return n[ln].data[e].pure}function Xte(){return this._results[Symbol.iterator]()}class Tg{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new jt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Tg.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Xte)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function ma(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function eT(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function qte(n,e,t,i=!0){const r=e[ln];if(function OT(n,e,t,i){const r=Co+i,o=t.length;i>0&&(t[r-1][Xi]=e),i<o-Co?(e[Xi]=t[r],jx(t,Co+i,e)):(t.push(e),e[Xi]=null),e[yr]=t;const s=e[yl];null!==s&&t!==s&&function kT(n,e){const t=n[Iu];e[fr]!==e[yr][yr][fr]&&(n[ef]=!0),null===t?n[Iu]=[e]:t.push(e)}(s,e);const a=e[Ja];null!==a&&a.insertView(n),e[ei]|=128}(r,e,n,t),i){const o=ss(t,n),s=e[Yn],a=qm(s,n[Gr]);null!==a&&function Wr(n,e,t,i,r,o){i[Fr]=r,i[Fo]=e,Of(n,i,t,1,r,o)}(r,n[Fo],s,e,a,o)}}let ba=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Qte}return n})();const Jte=ba,Zte=class extends Jte{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function Kte(n,e,t,i){const r=e.tView,a=B1(n,r,t,4096&n[ei]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[yl]=n[e.index];const l=n[Ja];return null!==l&&(a[Ja]=l.createEmbeddedView(r)),NI(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new tv(r)}};function Qte(){return nE(po(),Bt())}function nE(n,e){return 4&n.type?new Zte(e,n,dg(n,e)):null}let Go=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=one}return n})();function one(){return KU(po(),Bt())}const sne=Go,YU=class extends sne{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return dg(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){const e=_f(this._hostTNode,this._hostLView);if(Dm(e)){const t=gf(e,this._hostLView),i=mf(e);return new Vo(t[ln].data[i+8],t)}return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=XU(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Co}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,o){const s=e&&!function yf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const I=t||{};a=I.index,i=I.injector,r=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}const c=s?e:new nv(Ii(e)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const L=(s?l:this.parentInjector).get(Ds,null);L&&(o=L)}Ii(c.componentType??{});const _=c.create(l,r,null,o);return this.insertImpl(_.hostView,a,false),_}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function FM(n){return ns(n[yr])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=r[yr],d=new YU(l,l[Fo],l[yr]);d.detach(d.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return qte(a,r,s,!i),e.attachToViewContainerRef(),jx(oD(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=XU(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Xm(this._lContainer,t);i&&(Fm(oD(this._lContainer),t),Ey(i[ln],i))}detach(e){const t=this._adjustIndex(e,-1),i=Xm(this._lContainer,t);return i&&null!=Fm(oD(this._lContainer),t)?new tv(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function XU(n){return n[8]}function oD(n){return n[8]||(n[8]=[])}function KU(n,e){let t;const i=e[n.index];return ns(i)?t=i:(t=I3(i,e,null,n),e[n.index]=t,U1(e,t)),qU(t,e,n,i),new YU(t,n,e)}let qU=function JU(n,e,t,i){if(n[Gr])return;let r;r=8&t.type?nr(i):function ane(n,e){const t=n[Yn],i=t.createComment(""),r=Ss(e,n);return Ki(t,qm(t,r),i,function NT(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Gr]=r};class sD{constructor(e){this.queryList=e,this.matches=null}clone(){return new sD(this.queryList)}setDirty(){this.queryList.setDirty()}}class aD{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new aD(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==nj(e,t).matches&&this.queries[t].setDirty()}}class ZU{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class cD{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new cD(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class lD{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new lD(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,dne(t,o)),this.matchTNodeWithReadOption(e,t,ju(t,e,o,!1,!1))}else i===ba?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ju(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===vn||r===Go||r===ba&&4&t.type)this.addMatch(t.index,-2);else{const o=ju(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function dne(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function hne(n,e,t,i){return-1===t?function une(n,e){return 11&n.type?dg(n,e):4&n.type?nE(n,e):null}(e,n):-2===t?function fne(n,e,t){return t===vn?dg(e,n):t===ba?nE(e,n):t===Go?KU(e,n):void 0}(n,e,i):Dl(n,n[ln],t,e)}function QU(n,e,t,i){const r=e[Ja].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:hne(e,o[l],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function dD(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=QU(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],d=e[-c];for(let h=Co;h<d.length;h++){const p=d[h];p[yl]===p[yr]&&dD(p[ln],p,l,i)}if(null!==d[Iu]){const h=d[Iu];for(let p=0;p<h.length;p++){const _=h[p];dD(_[ln],_,l,i)}}}}}return i}function hn(n){const e=Bt(),t=li(),i=Xb();Ml(i+1);const r=nj(t,i);if(n.dirty&&function Vb(n){return 4==(4&n[ei])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?dD(t,e,i,[]):QU(t,e,r,i);n.reset(o,BJ),n.notifyOnChanges()}return!0}return!1}function xi(n,e,t){const i=li();i.firstCreatePass&&(tj(i,new ZU(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),ej(i,Bt(),e)}function ki(n,e,t,i){const r=li();if(r.firstCreatePass){const o=po();tj(r,new ZU(e,t,i),o.index),function mne(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}ej(r,Bt(),t)}function fn(){return function pne(n,e){return n[Ja].queries[e].queryList}(Bt(),Xb())}function ej(n,e,t){const i=new Tg(4==(4&t));(function mZ(n,e,t,i){const r=O3(e);r.push(t),n.firstCreatePass&&k3(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[Ja]&&(e[Ja]=new aD),e[Ja].queries.push(new sD(i))}function tj(n,e,t){null===n.queries&&(n.queries=new cD),n.queries.track(new lD(e,t))}function nj(n,e){return n.queries.getByIndex(e)}function Gd(n,e){return nE(n,e)}const gD=new yt("Application Initializer");let _D=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Kt(gD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Cg(o))t.push(o);else if(d4(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ul=new yt("LocaleId",{providedIn:"root",factory:()=>Kt(Ul,yi.Optional|yi.SkipSelf)||function Fne(){return typeof $localize<"u"&&$localize.locale||Mg}()});let oE=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ei(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ej=new yt(""),aE=new yt("");let xD,vD=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xD||(function sie(n){xD=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{un.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(un),Ze(wD),Ze(aE))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})(),wD=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return xD?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),ah=null;const Cj=new yt("AllowMultipleToken"),ED=new yt("PlatformDestroyListeners"),wv=new yt("appBootstrapListener");function Mj(n,e,t=[]){const i=`Platform: ${e}`,r=new yt(i);return(o=[])=>{let s=CD();if(!s||s.injector.get(Cj,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function lie(n){if(ah&&!ah.get(Cj,!1))throw new At(400,!1);(function Sj(){!function kb(n){Ob=n}(()=>{throw new At(600,!1)})})(),ah=n;const e=n.get(Ij);(function Aj(n){n.get(N1,null)?.forEach(t=>t())})(n)}(function Tj(n=[],e){return Li.create({name:e,providers:[{provide:Uf,useValue:"platform"},{provide:ED,useValue:new Set([()=>ah=null])},...n]})}(a,i))}return function uie(n){const e=CD();if(!e)throw new At(401,!1);return e}()}}function CD(){return ah?.get(Ij)??null}let Ij=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function hie(n="zone.js",e){return"noop"===n?new QJ:"zone.js"===n?new un(e):n}(i?.ngZone,function Dj(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Ste(n,e,t){return new tD(n,e,t)}(t.moduleType,this.injector,function Nj(n){return[{provide:un,useFactory:n},{provide:Ff,multi:!0,useFactory:()=>{const e=Kt(pie,{optional:!0});return()=>e.initialize()}},{provide:Pj,useFactory:fie},{provide:s3,useFactory:a3}]}(()=>r)),s=o.injector.get(Pa,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{cE(this._modules,o),a.unsubscribe()})}),function Oj(n,e,t){try{const i=t();return Cg(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(_D);return a.runInitializers(),a.donePromise.then(()=>(function iU(n){Po(n,"Expected localeId to be defined"),"string"==typeof n&&(nU=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ul,Mg)||Mg),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=kj({},i);return function aie(n,e,t){const i=new nD(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(ch);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new At(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new At(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(ED,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Li))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function kj(n,e){return Array.isArray(e)?e.reduce(kj,n):{...n,...e}}let ch=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kt(Pj),this.zoneIsStable=Kt(s3),this.componentTypes=[],this.components=[],this.isStable=Kt(oE).hasPendingTasks.pipe(Oe(t=>t?sn(!1):this.zoneIsStable),Ue(),vs()),this._injector=Kt(Ds)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof Ho;if(!this._injector.get(_D).done)throw!r&&function Tc(n){const e=Ii(n)||zr(n)||Hr(n);return null!==e&&e.standalone}(t),new At(405,!1);let s;s=r?t:this._injector.get(Hc).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function cie(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Wf),l=s.create(Li.NULL,[],i||s.selector,a),d=l.location.nativeElement,h=l.injector.get(Ej,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),cE(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new At(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;cE(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(wv,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>cE(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new At(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Pj=new yt("",{providedIn:"root",factory:()=>Kt(Pa).handleError.bind(void 0)});function fie(){const n=Kt(un),e=Kt(Pa);return t=>n.runOutsideAngular(()=>e.handleError(t))}let pie=(()=>{class n{constructor(){this.zone=Kt(un),this.applicationRef=Kt(ch)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Ri=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=gie}return n})();function gie(n){return function _ie(n,e,t){if(Td(n)&&!t){const i=Ys(n.index,e);return new tv(i,i)}return 47&n.type?new tv(e[fr],e):null}(po(),Bt(),16==(16&n))}class Uj{constructor(){}supports(e){return H1(e)}create(e){return new Eie(e)}}const xie=(n,e)=>e;class Eie{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xie}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<Vj(i,r,o)?t:i,a=Vj(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,d=c-r;if(l!=d){for(let p=0;p<l;p++){const _=p<o.length?o[p]:o[p]=0,w=_+p;d<=w&&w<l&&(o[p]=_+1)}o[s.previousIndex]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!H1(e))throw new At(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function aQ(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Cie(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new jj),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jj),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Cie{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sie{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class jj{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Sie,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vj(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class zj{constructor(){}supports(e){return e instanceof Map||FI(e)}create(){return new Aie}}class Aie{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||FI(e)))throw new At(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new Mie(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class Mie{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hj(){return new uE([new Uj])}let uE=(()=>{class n{static#e=this.\u0275prov=Tt({token:n,providedIn:"root",factory:Hj});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Hj()),deps:[[n,new Bm,new Xu]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new At(901,!1)}}return n})();function Gj(){return new xv([new zj])}let xv=(()=>{class n{static#e=this.\u0275prov=Tt({token:n,providedIn:"root",factory:Gj});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Gj()),deps:[[n,new Bm,new Xu]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new At(901,!1)}}return n})();const Die=Mj(null,"core",[]);let Oie=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(ch))};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({})}return n})();let DD=null;function lh(){return DD}class Gie{}const Nn=new yt("DocumentToken");let Qj=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:function(){return Kt(Wie)},providedIn:"platform"})}return n})(),Wie=(()=>{class n extends Qj{constructor(){super(),this._doc=Kt(Nn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lh().getBaseHref(this._doc)}onPopState(t){const i=lh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=lh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function eV(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function tV(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Yf(n){return n&&"?"!==n[0]?"?"+n:n}let fE=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:function(){return Kt(Yie)},providedIn:"root"})}return n})();const $ie=new yt("appBaseHref");let Yie=(()=>{class n extends fE{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Kt(Nn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return eV(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Yf(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Yf(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Yf(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Qj),Ze($ie,8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ev=(()=>{class n{constructor(t){this._subject=new jt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function qie(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(tV(nV(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Yf(i))}normalize(t){return n.stripTrailingSlash(function Kie(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,nV(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yf(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yf(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Yf;static#t=this.joinWithSlash=eV;static#n=this.stripTrailingSlash=tV;static#i=this.\u0275fac=function(i){return new(i||n)(Ze(fE))};static#r=this.\u0275prov=Tt({token:n,factory:function(){return function Xie(){return new Ev(Ze(fE))}()},providedIn:"root"})}return n})();function nV(n){return n.replace(/\/index.html$/,"")}var kg=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}(kg||{});const rre=function eU(n){return function ta(n){const e=function See(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=tU(e);if(t)return t;const i=e.split("-")[0];if(t=tU(i),t)return t;if("en"===i)return Cee;throw new At(701,!1)}(n)[Er.PluralCase]};let UD=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:function(i){let r=null;return i?r=new i:(o=Ze(Ul),r=new Rre(o)),r;var o},providedIn:"root"})}return n})();let Rre=(()=>{class n extends UD{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(rre(i||this.locale)(t)){case kg.Zero:return"zero";case kg.One:return"one";case kg.Two:return"two";case kg.Few:return"few";case kg.Many:return"many";default:return"other"}}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Ul))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();function uV(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const jD=/\s+/,hV=[];let CE=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=hV,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(jD):hV}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(jD):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(jD).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(uE),Ce(xv),Ce(vn),Ce(Nl))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Nre{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let va=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Nre(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),pV(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{pV(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Go),Ce(ba),Ce(uE))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function pV(n,e){n.context.$implicit=e.item}let Dr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Fre,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mV("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mV("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Go),Ce(ba))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Fre{constructor(){this.$implicit=null,this.ngIf=null}}function mV(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Jt(e)}'.`)}class VD{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Rg=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Nt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),SE=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new VD(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Go),Ce(ba),Ce(Rg,9))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),gV=(()=>{class n{constructor(t,i,r){r._addDefault(new VD(t,i))}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Go),Ce(ba),Ce(Rg,9))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return n})(),bV=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split("."),s=-1===r.indexOf("-")?void 0:Ol.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(xv),Ce(Nl))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),zD=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Go))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[vr]})}return n})();function Xc(n,e){return new At(2100,!1)}class Bre{createSubscription(e,t){return Pu(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){Pu(()=>e.unsubscribe())}}class Ure{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const jre=new Ure,Vre=new Bre;let jl=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(Cg(t))return jre;if(d4(t))return Vre;throw Xc()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Ri,16))};static#t=this.\u0275pipe=ro({name:"async",type:n,pure:!1,standalone:!0})}return n})();const qre=/#/g;let yV=(()=>{class n{constructor(t){this._localization=t}transform(t,i,r){if(null==t)return"";if("object"!=typeof i||null===i)throw Xc();return i[function dV(n,e,t,i){let r=`=${n}`;if(e.indexOf(r)>-1||(r=t.getPluralCategory(n,i),e.indexOf(r)>-1))return r;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(t,Object.keys(i),this._localization,r)].replace(qre,t.toString())}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(UD,16))};static#t=this.\u0275pipe=ro({name:"i18nPlural",type:n,pure:!0,standalone:!0})}return n})(),vV=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=ro({name:"json",type:n,pure:!1,standalone:!0})}return n})(),Hn=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({})}return n})();const EV="browser",noe="server";function dh(n){return n===EV}function Av(n){return n===noe}class CV{}class Toe extends Gie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class YD extends Toe{static makeCurrent(){!function Hie(n){DD||(DD=n)}(new YD)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ioe(){return Tv=Tv||document.querySelector("base"),Tv?Tv.getAttribute("href"):null}();return null==t?null:function Doe(n){TE=TE||document.createElement("a"),TE.setAttribute("href",n);const e=TE.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Tv=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uV(document.cookie,e)}}let TE,Tv=null,koe=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();const XD=new yt("EventManagerPlugins");let IV=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new At(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(XD),Ze(un))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();class DV{constructor(e){this._doc=e}}const KD="ng-app-id";let OV=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Av(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${KD}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(KD),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(KD,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Nn),Ze(jd),Ze(Gy,8),Ze(Zs))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();const qD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},JD=/%COMP%/g,Foe=new yt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function RV(n,e){return e.map(t=>t.replace(JD,n))}let ZD=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Av(a),this.defaultRenderer=new QD(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===da.ShadowDom&&(i={...i,encapsulation:da.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof NV?r.applyToHost(t):r instanceof eO&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case da.Emulated:o=new NV(c,l,i,this.appId,d,s,a,h);break;case da.ShadowDom:return new joe(c,l,t,i,s,a,this.nonce,h);default:o=new eO(c,l,i,d,s,a,h)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(IV),Ze(OV),Ze(jd),Ze(Foe),Ze(Nn),Ze(Zs),Ze(un),Ze(Gy))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();class QD{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(qD[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(PV(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(PV(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new At(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=qD[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=qD[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ol.DashCase|Ol.Important)?e.style.setProperty(t,i,r&Ol.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ol.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=lh().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function PV(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class joe extends QD{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=RV(r.id,r.styles);for(const d of l){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class eO extends QD{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?RV(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class NV extends eO{constructor(e,t,i,r,o,s,a,c){const l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=function Loe(n){return"_ngcontent-%COMP%".replace(JD,n)}(l),this.hostAttr=function Boe(n){return"_nghost-%COMP%".replace(JD,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Voe=(()=>{class n extends DV{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Nn))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();const FV=["alt","control","meta","shift"],zoe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hoe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Goe=(()=>{class n extends DV{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lh().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),FV.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=zoe[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),FV.forEach(s=>{s!==r&&(0,Hoe[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Nn))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();const BV=[{provide:Zs,useValue:EV},{provide:N1,useValue:function Woe(){YD.makeCurrent()},multi:!0},{provide:Nn,useFactory:function Yoe(){return function UT(n){Dy=n}(document),document},deps:[]}],Xoe=Mj(Die,"browser",BV),Koe=new yt(""),UV=[{provide:aE,useClass:class Ooe{addToWindow(e){Gi.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new At(5103,!1);return o},Gi.getAllAngularTestabilities=()=>e.getAllTestabilities(),Gi.getAllAngularRootElements=()=>e.getAllRootElements(),Gi.frameworkStabilizers||(Gi.frameworkStabilizers=[]),Gi.frameworkStabilizers.push(i=>{const r=Gi.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?lh().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Ej,useClass:vD,deps:[un,wD,aE]},{provide:vD,useClass:vD,deps:[un,wD,aE]}],jV=[{provide:Uf,useValue:"root"},{provide:Pa,useFactory:function $oe(){return new Pa},deps:[]},{provide:XD,useClass:Voe,multi:!0,deps:[Nn,un,Zs]},{provide:XD,useClass:Goe,multi:!0,deps:[Nn]},ZD,OV,IV,{provide:Jy,useExisting:ZD},{provide:CV,useClass:koe,deps:[]},[]];let tO=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:jd,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Koe,12))};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:[...jV,...UV],imports:[Hn,Oie]})}return n})();typeof window<"u"&&window;let Pg=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:function(i){let r=null;return r=i?new(i||n):Ze(GV),r},providedIn:"root"})}return n})(),GV=(()=>{class n extends Pg{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case go.NONE:return i;case go.HTML:return oc(i,"HTML")?as(i):M1(this._doc,String(i)).toString();case go.STYLE:return oc(i,"Style")?as(i):i;case go.SCRIPT:if(oc(i,"Script"))return as(i);throw new At(5200,!1);case go.URL:return oc(i,"URL")?as(i):Rf(String(i));case go.RESOURCE_URL:if(oc(i,"ResourceURL"))return as(i);throw new At(5201,!1);default:throw new At(5202,!1)}}bypassSecurityTrustHtml(t){return function WT(n){return new jT(n)}(t)}bypassSecurityTrustStyle(t){return function mo(n){return new VT(n)}(t)}bypassSecurityTrustScript(t){return function Ts(n){return new zT(n)}(t)}bypassSecurityTrustUrl(t){return function $T(n){return new ky(n)}(t)}bypassSecurityTrustResourceUrl(t){return function XT(n){return new HT(n)}(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Nn))};static#t=this.\u0275prov=Tt({token:n,factory:function(i){let r=null;return r=i?new i:function tse(n){return new GV(n.get(Nn))}(Ze(Li)),r},providedIn:"root"})}return n})();const iO={now:()=>(iO.delegate||Date).now(),delegate:void 0};class Xf extends j{constructor(e=1/0,t=1/0,i=iO){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}const IE={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if(typeof window>"u")return IE.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return IE.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let rO;function dse(n,e,t){let i=t;return function ise(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((r,o)=>!("*"===r||!function ose(n,e){if(!rO){const t=Element.prototype;rO=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&rO.call(n,e)}(n,r)||(i=o,0))),i}class hse{constructor(e,t){this.componentFactory=t.get(Hc).resolveComponentFactory(e)}create(e){return new fse(this.componentFactory,e)}}class fse{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new Xf(1),this.events=this.eventEmitters.pipe(Oe(i=>hr(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(un),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=IE.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t,i){this.runInZone(()=>{i&&(t=i.call(this.componentRef?.instance,t)),null!==this.componentRef?function sse(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=Li.create({providers:[],parent:this.injector}),i=function lse(n,e){const t=n.childNodes,i=e.map(()=>[]);let r=-1;e.some((o,s)=>"*"===o&&(r=s,!0));for(let o=0,s=t.length;o<s;++o){const a=t[o],c=dse(a,e,r);-1!==c&&i[c].push(a)}return i}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(Ri),this.implementsOnChanges=function rse(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(ch).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e,transform:t})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e),t)}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:i,templateName:r})=>e.instance[i].pipe(E(s=>({name:r,value:s}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=IE.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[e];if(i)return void(i.currentValue=t);const r=this.unchangedInputs.has(e),o=r?void 0:this.getInputValue(e);this.inputChanges[e]=new px(o,t,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class pse extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}const gse=new yt("cdk-dir-doc",{providedIn:"root",factory:function _se(){return Kt(Nn)}}),bse=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let oO,Kc=(()=>{class n{constructor(t){this.value="ltr",this.change=new jt,t&&(this.value=function yse(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?bse.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(gse,8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Iv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({})}return n})();try{oO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{oO=!1}let Ng,Ur=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?dh(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Zs))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $V=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function YV(){if(Ng)return Ng;if("object"!=typeof document||!document)return Ng=new Set($V),Ng;let n=document.createElement("input");return Ng=new Set($V.filter(e=>(n.setAttribute("type",e),n.type===e))),Ng}let Dv,qf,sO;function Kf(n){return function vse(){if(null==Dv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Dv=!0}))}finally{Dv=Dv||!1}return Dv}()?n:!!n.capture}function wse(){if(null==qf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return qf=!1,qf;if("scrollBehavior"in document.documentElement.style)qf=!0;else{const n=Element.prototype.scrollTo;qf=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return qf}function OE(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Xd(n){return n.composedPath?n.composedPath()[0]:n.target}function aO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ai(n){return he((e,t)=>{er(n).subscribe(Z(t,()=>t.complete(),V)),!t.closed&&e.subscribe(t)})}function ui(n,e){return he((t,i)=>{let r=0;t.subscribe(Z(i,o=>n.call(e,o,r++)&&i.next(o)))})}function dc(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,vs({connector:()=>new Xf(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class Cse{constructor(e){this._box=e,this._destroyed=new j,this._resizeSubject=new j,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Ye(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(ui(t=>t.some(i=>i.target===e)),dc({bufferSize:1,refCount:!0}),ai(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Sse=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=Kt(un)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Cse(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gn(n){return null!=n&&"false"!=`${n}`}function wa(n,e=0){return function Ase(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function kE(n){return Array.isArray(n)?n:[n]}function bo(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Kd(n){return n instanceof vn?n.nativeElement:n}class XV{}class Tse{}const qd="*";function uc(n,e){return{type:7,name:n,definitions:e,options:{}}}function Wo(n,e=null){return{type:4,styles:e,timings:n}}function KV(n,e=null){return{type:2,steps:n,options:e}}function $i(n){return{type:6,styles:n,offset:null}}function co(n,e,t){return{type:0,name:n,styles:e,options:t}}function $o(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function lO(n=null){return{type:9,options:n}}function dO(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}class Ov{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class qV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Ise extends C{constructor(e,t){super()}schedule(e,t=0){return this}}const RE={setInterval(n,e,...t){const{delegate:i}=RE;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=RE;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class hO extends Ise{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return RE.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&RE.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,te(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class kv{constructor(e,t=kv.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}kv.now=iO.now;class fO extends kv{constructor(e,t=kv.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Fg=new fO(hO),Dse=Fg;function pO(n,e=Fg){return he((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,d=e.now();if(d<l)return r=this.schedule(void 0,l-d),void i.add(r);a()}t.subscribe(Z(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}let JV=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:[JV]})}return n})();function ks(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Zi(n,e,t){const i=F(n)||e||t?{next:n,error:e,complete:t}:n;return i?he((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Z(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Se}function Qi(n){return n<=0?()=>ee:he((e,t)=>{let i=0;e.subscribe(Z(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function vO(n){return ui((e,t)=>n<=t)}const{isArray:Vse}=Array,{getPrototypeOf:zse,prototype:Hse,keys:Gse}=Object;function iz(n){if(1===n.length){const e=n[0];if(Vse(e))return{args:e,keys:null};if(function Wse(n){return n&&"object"==typeof n&&zse(n)===Hse}(e)){const t=Gse(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:$se}=Array;function Pv(n){return E(e=>function Yse(n,e){return $se(e)?n(...e):n(e)}(n,e))}function rz(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function mr(...n){const e=Lt(n),t=It(n),{args:i,keys:r}=iz(n);if(0===i.length)return Hi([],e);const o=new Ye(oz(i,e,r?s=>rz(r,s):Se));return t?o.pipe(Pv(t)):o}function oz(n,e,t=Se){return i=>{sz(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)sz(e,()=>{const l=Hi(n[c],e);let d=!1;l.subscribe(Z(i,h=>{o[c]=h,d||(d=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function sz(n,e,t){n?_e(t,n,e):e()}function Nv(...n){return function Xse(){return z(1)}()(Hi(n,Lt(n)))}function yo(...n){const e=Lt(n);return he((t,i)=>{(e?Nv(n,t,e):Nv(n,t)).subscribe(i)})}const az=new Set;let Zf,Kse=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Jse}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function qse(n,e){if(!az.has(n))try{Zf||(Zf=document.createElement("style"),e&&(Zf.nonce=e),Zf.setAttribute("type","text/css"),document.head.appendChild(Zf)),Zf.sheet&&(Zf.sheet.insertRule(`@media ${n} {body{ }}`,0),az.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Ur),Ze(Gy,8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jse(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let wO=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new j}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return cz(kE(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=mr(cz(kE(t)).map(s=>this._registerQuery(s).observable));return o=Nv(o.pipe(Qi(1)),o.pipe(vO(1),pO(0))),o.pipe(E(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Ye(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(yo(i),E(({matches:s})=>({query:t,matches:s})),ai(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Kse),Ze(un))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cz(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function NE(n,e,t){const i=FE(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))}function Ug(n,e,t){const r=FE(n,e).filter(o=>o!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}function FE(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const dz="cdk-describedby-message",LE="cdk-describedby-host";let xO=0,Qse=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+xO++,this._document=t,this._id=Kt(jd)+"-"+xO++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const o=EO(i,r);"string"!=typeof i?(uz(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const o=EO(i,r);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${LE}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(LE);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");uz(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(EO(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=FE(t,"aria-describedby").filter(r=>0!=r.indexOf(dz));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);NE(t,"aria-describedby",r.messageElement.id),t.setAttribute(LE,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,Ug(t,"aria-describedby",r.messageElement.id),t.removeAttribute(LE)}_isElementDescribedByMessage(t,i){const r=FE(t,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=t.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Nn),Ze(Ur))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EO(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function uz(n,e){n.id||(n.id=`${dz}-${e}-${xO++}`)}class hz{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new j,this._typeaheadSubscription=C.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new j,this.change=new j,e instanceof Tg&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Zi(t=>this._pressedLetters.push(t)),pO(e),ui(()=>this._pressedLetters.length>0),E(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||ks(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Tg?this._items.toArray():this._items}}class fz extends hz{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class pz extends hz{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let BE=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function tae(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function eae(n){try{return n.frameElement}catch{return null}}(function lae(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===gz(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=gz(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function aae(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function cae(n){return!function iae(n){return function oae(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function nae(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function rae(n){return function sae(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||mz(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Ur))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mz(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function gz(n){if(!mz(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class dae{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Qi(1)).subscribe(e)}}let CO=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new dae(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(BE),Ze(un),Ze(Nn))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _z(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function bz(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const uae=new yt("cdk-input-modality-detector-options"),hae={ignoreKeys:[18,17,224,91,16]},jg=Kf({passive:!0,capture:!0});let fae=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Ei(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Xd(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(_z(s)?"keyboard":"mouse"),this._mostRecentTarget=Xd(s))},this._onTouchstart=s=>{bz(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xd(s))},this._options={...hae,...o},this.modalityDetected=this._modality.pipe(vO(1)),this.modalityChanged=this.modalityDetected.pipe(Ue()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,jg),r.addEventListener("mousedown",this._onMousedown,jg),r.addEventListener("touchstart",this._onTouchstart,jg)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,jg),document.removeEventListener("mousedown",this._onMousedown,jg),document.removeEventListener("touchstart",this._onTouchstart,jg))}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Ur),Ze(un),Ze(Nn),Ze(uae,8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pae=new yt("liveAnnouncerElement",{providedIn:"root",factory:function mae(){return null}}),gae=new yt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let _ae=0,SO=(()=>{class n{constructor(t,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+_ae++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(pae,8),Ze(un),Ze(Nn),Ze(gae,8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const bae=new yt("cdk-focus-monitor-default-options"),UE=Kf({passive:!0,capture:!0});let qc=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new j,this._rootNodeFocusAndBlurListener=a=>{for(let l=Xd(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=Kd(t);if(!this._platform.isBrowser||1!==r.nodeType)return sn();const o=function Ese(n){if(function xse(){if(null==sO){const n=typeof document<"u"?document.head:null;sO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return sO}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new j,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Kd(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Kd(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Xd(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,UE),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,UE)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ai(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,UE),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,UE),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(un),Ze(Ur),Ze(fae),Ze(Nn,8),Ze(bae,8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vz="cdk-high-contrast-black-on-white",wz="cdk-high-contrast-white-on-black",AO="cdk-high-contrast-active";let xz=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Kt(wO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(AO,vz,wz),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(AO,vz):2===i&&t.add(AO,wz)}}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Ur),Ze(Nn))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ez=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(xz))};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[mO]})}return n})();const yae=["text"];function vae(n,e){if(1&n&&on(0,"mat-pseudo-checkbox",6),2&n){const t=Qt();ct("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function wae(n,e){1&n&&on(0,"mat-pseudo-checkbox",7),2&n&&ct("disabled",Qt().disabled)}function xae(n,e){if(1&n&&($e(0,"span",8),kt(1),Qe()),2&n){const t=Qt();ot(1),Ir("(",t.group.label,")")}}const Eae=[[["mat-icon"]],"*"],Cae=["mat-icon","*"],Aae=new yt("mat-sanity-checks",{providedIn:"root",factory:function Sae(){return!0}});let Ti=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!aO()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(xz),Ze(Aae,8),Ze(Nn))};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Iv,Iv]})}return n})();function Vg(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=gn(e)}constructor(...e){super(...e),this._disabled=!1}}}function zg(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function Qf(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=gn(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function Jd(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?wa(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function MO(n){return class extends n{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let jE=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Tae{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Az=Kf({passive:!0,capture:!0});class Iae{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Xd(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Az)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Az)))}}const Mz={enterDuration:225,exitDuration:150},Tz=Kf({passive:!0,capture:!0}),Iz=["mousedown","touchstart"],Dz=["mouseup","mouseleave","touchend","touchcancel"];class Lv{static#e=this._eventManager=new Iae;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Kd(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Mz,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function Oae(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=c-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const h=window.getComputedStyle(d),_=h.transitionDuration,w="none"===h.transitionProperty||"0s"===_||"0s, 0s"===_||0===r.width&&0===r.height,I=new Tae(this,d,i,w);d.style.transform="scale3d(1, 1, 1)",I.state=0,i.persistent||(this._mostRecentTransientRipple=I);let L=null;return!w&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const K=()=>this._finishRippleTransition(I),Q=()=>this._destroyRipple(I);d.addEventListener("transitionend",K),d.addEventListener("transitioncancel",Q),L={onTransitionEnd:K,onTransitionCancel:Q}}),this._activeRipples.set(I,L),(w||!l)&&this._finishRippleTransition(I),I}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...Mz,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Kd(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Iz.forEach(i=>{Lv._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Dz.forEach(t=>{this._triggerElement.addEventListener(t,this,Tz)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=_z(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!bz(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Iz.forEach(t=>Lv._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Dz.forEach(t=>e.removeEventListener(t,this,Tz)))}}const ep=new yt("mat-ripple-global-options");let hc=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Lv(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(un),Ce(Ur),Ce(ep,8),Ce(xr,8))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&tn("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),La=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Ti,Ti]})}return n})(),kae=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(xr,8))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&tn("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),Oz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Ti]})}return n})();const TO=new yt("MAT_OPTION_PARENT_COMPONENT"),IO=new yt("MatOptgroup");let Rae=0;class kz{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let Pae=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=gn(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,i,r,o){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Rae++,this.onSelectionChange=new jt,this._stateChanges=new j}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!ks(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new kz(this,t))}static#e=this.\u0275fac=function(i){zd()};static#t=this.\u0275dir=Nt({type:n,viewQuery:function(i,r){if(1&i&&xi(yae,7),2&i){let o;hn(o=fn())&&(r._text=o.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return n})(),Bv=(()=>{class n extends Pae{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(Ri),Ce(TO,8),Ce(IO,8))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&Mt("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(cs("id",r.id),Vn("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),tn("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[dn],ngContentSelectors:Cae,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(Wi(Eae),Yt(0,vae,1,2,"mat-pseudo-checkbox",0),bn(1),$e(2,"span",1,2),bn(4,1),Qe(),Yt(5,wae,1,1,"mat-pseudo-checkbox",3),Yt(6,xae,2,1,"span",4),on(7,"div",5)),2&i&&(ct("ngIf",r.multiple),ot(5),ct("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),ot(1),ct("ngIf",r.group&&r.group._inert),ot(1),ct("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[hc,Dr,kae],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();let VE=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[La,Hn,Ti,Oz]})}return n})();const Nz={capture:!0},Fz=["focus","click","mouseenter","touchstart"],DO="mat-ripple-loader-uninitialized",OO="mat-ripple-loader-class-name",Lz="mat-ripple-loader-centered",zE="mat-ripple-loader-disabled";let Bz=(()=>{class n{constructor(){this._document=Kt(Nn,{optional:!0}),this._animationMode=Kt(xr,{optional:!0}),this._globalRippleOptions=Kt(ep,{optional:!0}),this._platform=Kt(Ur),this._ngZone=Kt(un),this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${DO}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of Fz)this._document?.addEventListener(t,this._onInteraction,Nz)})}ngOnDestroy(){for(const t of Fz)this._document?.removeEventListener(t,this._onInteraction,Nz)}configureRipple(t,i){t.setAttribute(DO,""),(i.className||!t.hasAttribute(OO))&&t.setAttribute(OO,i.className||""),i.centered&&t.setAttribute(Lz,""),i.disabled&&t.setAttribute(zE,"")}getRipple(t){return t.matRipple?t.matRipple:this.createRipple(t)}setDisabled(t,i){const r=t.matRipple;r?r.disabled=i:i?t.setAttribute(zE,""):t.removeAttribute(zE)}createRipple(t){if(!this._document)return;t.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(OO)),t.append(i);const r=new hc(new vn(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,r.centered=t.hasAttribute(Lz),r.disabled=t.hasAttribute(zE),this.attachRipple(t,r),r}attachRipple(t,i){t.removeAttribute(DO),t.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Nae=["notch"],Fae=["matFormFieldNotchedOutline",""],Lae=["*"],Bae=["textField"],Uae=["iconPrefixContainer"],jae=["textPrefixContainer"];function Vae(n,e){1&n&&on(0,"span",19)}function zae(n,e){if(1&n&&($e(0,"label",17),bn(1,1),Yt(2,Vae,1,0,"span",18),Qe()),2&n){const t=Qt(2);ct("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Vn("for",t._control.id),ot(2),ct("ngIf",!t.hideRequiredMarker&&t._control.required)}}function Hae(n,e){1&n&&Yt(0,zae,3,5,"label",16),2&n&&ct("ngIf",Qt()._hasFloatingLabel())}function Gae(n,e){1&n&&on(0,"div",20)}function Wae(n,e){}function $ae(n,e){1&n&&Yt(0,Wae,0,0,"ng-template",22),2&n&&(Qt(2),ct("ngTemplateOutlet",Jr(1)))}function Yae(n,e){if(1&n&&($e(0,"div",21),Yt(1,$ae,1,1,"ng-template",9),Qe()),2&n){const t=Qt();ct("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),ot(1),ct("ngIf",!t._forceDisplayInfixLabel())}}function Xae(n,e){1&n&&($e(0,"div",23,24),bn(2,2),Qe())}function Kae(n,e){1&n&&($e(0,"div",25,26),bn(2,3),Qe())}function qae(n,e){}function Jae(n,e){1&n&&Yt(0,qae,0,0,"ng-template",22),2&n&&(Qt(),ct("ngTemplateOutlet",Jr(1)))}function Zae(n,e){1&n&&($e(0,"div",27),bn(1,4),Qe())}function Qae(n,e){1&n&&($e(0,"div",28),bn(1,5),Qe())}function ece(n,e){1&n&&on(0,"div",29)}function tce(n,e){1&n&&($e(0,"div",30),bn(1,6),Qe()),2&n&&ct("@transitionMessages",Qt()._subscriptAnimationState)}function nce(n,e){if(1&n&&($e(0,"mat-hint",34),kt(1),Qe()),2&n){const t=Qt(2);ct("id",t._hintLabelId),ot(1),Tr(t.hintLabel)}}function ice(n,e){if(1&n&&($e(0,"div",31),Yt(1,nce,2,2,"mat-hint",32),bn(2,7),on(3,"div",33),bn(4,8),Qe()),2&n){const t=Qt();ct("@transitionMessages",t._subscriptAnimationState),ot(1),ct("ngIf",t.hintLabel)}}const rce=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],oce=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let hh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Nt({type:n,selectors:[["mat-label"]]})}return n})(),sce=0;const Uz=new yt("MatError");let ace=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+sce++,t||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(As("aria-live"),Ce(vn))};static#t=this.\u0275dir=Nt({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&cs("id",r.id)},inputs:{id:"id"},features:[zn([{provide:Uz,useExisting:n}])]})}return n})(),cce=0,jz=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+cce++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Nt({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(cs("id",r.id),Vn("align",null),tn("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const Vz=new yt("MatPrefix"),zz=new yt("MatSuffix");let kO=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Nt({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[zn([{provide:zz,useExisting:n}])]})}return n})();const Hz=new yt("FloatingLabelParent");let Gz=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Kt(Sse),this._ngZone=Kt(un),this._parent=Kt(Hz),this._resizeSubscription=new C}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function dce(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn))};static#t=this.\u0275dir=Nt({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&tn("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const Wz="mdc-line-ripple--active",HE="mdc-line-ripple--deactivating";let $z=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(HE);"opacity"===r.propertyName&&s&&o.remove(Wz,HE)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(HE),t.add(Wz)}deactivate(){this._elementRef.nativeElement.classList.add(HE)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(un))};static#t=this.\u0275dir=Nt({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),Yz=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(un))};static#t=this.\u0275cmp=rn({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&xi(Nae,5),2&i){let o;hn(o=fn())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&tn("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Fae,ngContentSelectors:Lae,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(Wi(),on(0,"div",0),$e(1,"div",1,2),bn(3),Qe(),on(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const uce={transitionMessages:uc("transitionMessages",[co("enter",$i({opacity:1,transform:"translateY(0%)"})),$o("void => enter",[$i({opacity:0,transform:"translateY(-5px)"}),Wo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let GE=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Nt({type:n})}return n})();const Uv=new yt("MatFormField"),Xz=new yt("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Kz=0,fh=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=gn(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,o,s,a,c,l){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Kz++,this._hintLabelId="mat-mdc-hint-"+Kz++,this._subscriptAnimationState="",this._destroyed=new j,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ai(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),hr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ai(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(ai(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(Ri),Ce(un),Ce(Kc),Ce(Ur),Ce(Xz,8),Ce(xr,8),Ce(Nn))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(ki(o,hh,5),ki(o,hh,7),ki(o,GE,5),ki(o,Vz,5),ki(o,zz,5),ki(o,Uz,5),ki(o,jz,5)),2&i){let s;hn(s=fn())&&(r._labelChildNonStatic=s.first),hn(s=fn())&&(r._labelChildStatic=s.first),hn(s=fn())&&(r._formFieldControl=s.first),hn(s=fn())&&(r._prefixChildren=s),hn(s=fn())&&(r._suffixChildren=s),hn(s=fn())&&(r._errorChildren=s),hn(s=fn())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(xi(Bae,5),xi(Uae,5),xi(jae,5),xi(Gz,5),xi(Yz,5),xi($z,5)),2&i){let o;hn(o=fn())&&(r._textField=o.first),hn(o=fn())&&(r._iconPrefixContainer=o.first),hn(o=fn())&&(r._textPrefixContainer=o.first),hn(o=fn())&&(r._floatingLabel=o.first),hn(o=fn())&&(r._notchedOutline=o.first),hn(o=fn())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&tn("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[zn([{provide:Uv,useExisting:n},{provide:Hz,useExisting:n}])],ngContentSelectors:oce,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(Wi(rce),Yt(0,Hae,1,1,"ng-template",null,0,Gd),$e(2,"div",1,2),Mt("click",function(s){return r._control.onContainerClick(s)}),Yt(4,Gae,1,0,"div",3),$e(5,"div",4),Yt(6,Yae,2,2,"div",5),Yt(7,Xae,3,0,"div",6),Yt(8,Kae,3,0,"div",7),$e(9,"div",8),Yt(10,Jae,1,1,"ng-template",9),bn(11),Qe(),Yt(12,Zae,2,0,"div",10),Yt(13,Qae,2,0,"div",11),Qe(),Yt(14,ece,1,0,"div",12),Qe(),$e(15,"div",13),Yt(16,tce,2,1,"div",14),Yt(17,ice,5,2,"div",15),Qe()),2&i&&(ot(2),tn("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),ot(2),ct("ngIf",!r._hasOutline()&&!r._control.disabled),ot(2),ct("ngIf",r._hasOutline()),ot(1),ct("ngIf",r._hasIconPrefix),ot(1),ct("ngIf",r._hasTextPrefix),ot(2),ct("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),ot(2),ct("ngIf",r._hasTextSuffix),ot(1),ct("ngIf",r._hasIconSuffix),ot(1),ct("ngIf",!r._hasOutline()),ot(1),tn("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),ct("ngSwitch",r._getDisplayedMessages()),ot(1),ct("ngSwitchCase","error"),ot(1),ct("ngSwitchCase","hint"))},dependencies:[Dr,zD,Rg,SE,jz,Gz,Yz,$z],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[uce.transitionMessages]},changeDetection:0})}return n})(),Zd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Ti,Hn,mO,Ti]})}return n})();function Qd(n,e){const t=F(n)?n:()=>n,i=r=>r.error(t());return new Ye(e?r=>e.schedule(i,0,r):i)}function jv(...n){const e=It(n),{args:t,keys:i}=iz(n),r=new Ye(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let d=0;d<s;d++){let h=!1;er(t[d]).subscribe(Z(o,p=>{h||(h=!0,l--),a[d]=p},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(i?rz(i,a):a),o.complete())}))}});return e?r.pipe(Pv(e)):r}function xa(n){return he((e,t)=>{let o,i=null,r=!1;i=e.subscribe(Z(t,void 0,void 0,s=>{o=er(n(s,xa(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Hg(n){return he((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class WE{}class $E{}class zl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof zl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new zl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof zl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class pce{encodeKey(e){return Zz(e)}encodeValue(e){return Zz(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const gce=/%(\d[a-f0-9])/gi,_ce={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Zz(n){return encodeURIComponent(n).replace(gce,(e,t)=>_ce[t]??e)}function YE(n){return`${n}`}class ph{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pce,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mce(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(YE):[YE(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ph({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(YE(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(YE(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class bce{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Qz(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function e8(n){return typeof Blob<"u"&&n instanceof Blob}function t8(n){return typeof FormData<"u"&&n instanceof FormData}class zv{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function yce(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new zl),this.context||(this.context=new bce),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new ph,this.urlWithParams=t}serializeBody(){return null===this.body?null:Qz(this.body)||e8(this.body)||t8(this.body)||function vce(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ph?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||t8(this.body)?null:e8(this.body)?this.body.type||null:Qz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ph?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const d=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),l)),new zv(t,i,o,{params:l,headers:c,context:d,reportProgress:a,responseType:r,withCredentials:s})}}var Gg=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Gg||{});class RO{constructor(e,t=200,i="OK"){this.headers=e.headers||new zl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class PO extends RO{constructor(e={}){super(e),this.type=Gg.ResponseHeader}clone(e={}){return new PO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Wg extends RO{constructor(e={}){super(e),this.type=Gg.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Wg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class n8 extends RO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function NO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let $g=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof zv)o=t;else{let c,l;c=r.headers instanceof zl?r.headers:new zl(r.headers),r.params&&(l=r.params instanceof ph?r.params:new ph({fromObject:r.params})),o=new zv(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=sn(o).pipe(function Vv(n,e){return F(e)?ve(n,e,1):ve(n,1)}(c=>this.handler.handle(c)));if(t instanceof zv||"events"===r.observe)return s;const a=s.pipe(ui(c=>c instanceof Wg));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(E(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(E(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(E(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(E(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new ph).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,NO(r,i))}post(t,i,r={}){return this.request("POST",t,NO(r,i))}put(t,i,r={}){return this.request("PUT",t,NO(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(WE))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();function o8(n,e){return e(n)}function xce(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const Cce=new yt(""),Hv=new yt(""),s8=new yt("");function Sce(){let n=null;return(e,t)=>{null===n&&(n=(Kt(Cce,{optional:!0})??[]).reduceRight(xce,o8));const i=Kt(oE),r=i.add();return n(e,t).pipe(Hg(()=>i.remove(r)))}}let a8=(()=>{class n extends WE{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=Kt(oE)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Hv),...this.injector.get(s8,[])]));this.chain=r.reduceRight((o,s)=>function Ece(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),o8)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Hg(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(Ze($E),Ze(Ds))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();const Ice=/^\)\]\}',?\n/;let l8=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new At(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Hi(i.\u0275loadImpl()):sn(null)).pipe(Oe(()=>new Ye(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((I,L)=>s.setRequestHeader(I,L.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const I=t.detectContentTypeHeader();null!==I&&s.setRequestHeader("Content-Type",I)}if(t.responseType){const I=t.responseType.toLowerCase();s.responseType="json"!==I?I:"text"}const a=t.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const I=s.statusText||"OK",L=new zl(s.getAllResponseHeaders()),K=function Dce(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new PO({headers:L,status:s.status,statusText:I,url:K}),c},d=()=>{let{headers:I,status:L,statusText:K,url:Q}=l(),me=null;204!==L&&(me=typeof s.response>"u"?s.responseText:s.response),0===L&&(L=me?200:0);let Pe=L>=200&&L<300;if("json"===t.responseType&&"string"==typeof me){const We=me;me=me.replace(Ice,"");try{me=""!==me?JSON.parse(me):null}catch(tt){me=We,Pe&&(Pe=!1,me={error:tt,text:me})}}Pe?(o.next(new Wg({body:me,headers:I,status:L,statusText:K,url:Q||void 0})),o.complete()):o.error(new n8({error:me,headers:I,status:L,statusText:K,url:Q||void 0}))},h=I=>{const{url:L}=l(),K=new n8({error:I,status:s.status||0,statusText:s.statusText||"Unknown Error",url:L||void 0});o.error(K)};let p=!1;const _=I=>{p||(o.next(l()),p=!0);let L={type:Gg.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(L.total=I.total),"text"===t.responseType&&s.responseText&&(L.partialText=s.responseText),o.next(L)},w=I=>{let L={type:Gg.UploadProgress,loaded:I.loaded};I.lengthComputable&&(L.total=I.total),o.next(L)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",_),null!==a&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:Gg.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",_),null!==a&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(CV))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();const FO=new yt("XSRF_ENABLED"),d8=new yt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),u8=new yt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class h8{}let Rce=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=uV(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Nn),Ze(Zs),Ze(d8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();function Pce(n,e){const t=n.url.toLowerCase();if(!Kt(FO)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=Kt(h8).getToken(),r=Kt(u8);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var mh=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(mh||{});function Nce(...n){const e=[$g,l8,a8,{provide:WE,useExisting:a8},{provide:$E,useExisting:l8},{provide:Hv,useValue:Pce,multi:!0},{provide:FO,useValue:!0},{provide:h8,useClass:Rce}];for(const t of n)e.push(...t.\u0275providers);return function By(n){return{\u0275providers:n}}(e)}const f8=new yt("LEGACY_INTERCEPTOR_FN");function Fce(){return function tp(n,e){return{\u0275kind:n,\u0275providers:e}}(mh.LegacyInterceptors,[{provide:f8,useFactory:Sce},{provide:Hv,useExisting:f8,multi:!0}])}let p8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:[Nce(Fce())]})}return n})();const zce=["*"];let KE;function Gv(n){return function Hce(){if(void 0===KE&&(KE=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(KE=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return KE}()?.createHTML(n)||n}function m8(n){return Error(`Unable to find icon with the name "${n}"`)}function g8(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function _8(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class np{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let Wv=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new np(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const s=this._sanitizer.sanitize(go.HTML,r);if(!s)throw _8(r);const a=Gv(s);return this._addSvgIconConfig(t,i,new np("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new np(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(go.HTML,i);if(!o)throw _8(i);const s=Gv(o);return this._addSvgIconSetConfig(t,new np("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(go.RESOURCE_URL,t);if(!i)throw g8(t);const r=this._cachedIconsByUrl.get(i);return r?sn(qE(r)):this._loadSvgIconFromConfig(new np(t,null)).pipe(Zi(o=>this._cachedIconsByUrl.set(i,o)),E(o=>qE(o)))}getNamedSvgIcon(t,i=""){const r=b8(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):Qd(m8(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?sn(qE(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(E(i=>qE(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?sn(r):jv(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(xa(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(go.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),sn(null)})))).pipe(E(()=>{const s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw m8(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Zi(i=>t.svgText=i),E(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?sn(null):this._fetchIcon(t).pipe(Zi(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(Gv("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Gv("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function Gce(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(go.RESOURCE_URL,i);if(!s)throw g8(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(E(l=>Gv(l)),Hg(()=>this._inProgressUrlFetches.delete(s)),vs());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(b8(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return $ce(o)?new np(o.url,null,o.options):new np(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(Ze($g,8),Ze(Pg),Ze(Nn,8),Ze(Pa))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qE(n){return n.cloneNode(!0)}function b8(n,e){return n+":"+e}function $ce(n){return!(!n.url||!n.options)}const Yce=zg(class{constructor(n){this._elementRef=n}}),Xce=new yt("MAT_ICON_DEFAULT_OPTIONS"),Kce=new yt("mat-icon-location",{providedIn:"root",factory:function qce(){const n=Kt(Nn),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),y8=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Jce=y8.map(n=>`[${n}]`).join(", "),Zce=/^url\(['"]?#(.*?)['"]?\)$/;let Yo=(()=>{class n extends Yce{get inline(){return this._inline}set inline(t){this._inline=gn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,s,a){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=C.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Jce),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)y8.forEach(s=>{const a=i[o],c=a.getAttribute(s),l=c?c.match(Zce):null;if(l){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Qi(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(Wv),As("aria-hidden"),Ce(Kce),Ce(Pa),Ce(Xce,8))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(Vn("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),tn("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[dn],ngContentSelectors:zce,decls:1,vars:0,template:function(i,r){1&i&&(Wi(),bn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),Or=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Ti,Ti]})}return n})();const Qce=["mat-button",""],ele=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],tle=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],ole=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],sle=zg(Vg(Qf(class{constructor(n){this._elementRef=n}})));let v8=(()=>{class n extends sle{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=gn(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=gn(t),this._updateRippleDisabled()}constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Kt(qc),this._rippleLoader=Kt(Bz),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=t.nativeElement.classList;for(const a of ole)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(c=>{s.add(c)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){zd()};static#t=this.\u0275dir=Nt({type:n,features:[dn]})}return n})(),Yg=(()=>{class n extends v8{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(Ur),Ce(un),Ce(xr,8))};static#t=this.\u0275cmp=rn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Vn("disabled",r.disabled||null),tn("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[dn],attrs:Qce,ngContentSelectors:tle,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Wi(ele),on(0,"span",0),bn(1),$e(2,"span",1),bn(3,1),Qe(),bn(4,2),on(5,"span",2)(6,"span",3)),2&i&&tn("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),eu=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Ti,La,Ti]})}return n})();class LO{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Xg extends LO{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class Kg extends LO{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class dle extends LO{constructor(e){super(),this.element=e instanceof vn?e.nativeElement:e}}class JE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Xg?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Kg?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof dle?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ule extends JE{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Li.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let qg=(()=>{class n extends JE{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new jt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Hc),Ce(Go),Ce(Nn))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[dn]})}return n})(),Jg=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({})}return n})();const hle=["addListener","removeListener"],fle=["addEventListener","removeEventListener"],ple=["on","off"];function ip(n,e,t,i){if(F(t)&&(i=t,t=void 0),i)return ip(n,e,t).pipe(Pv(i));const[r,o]=function _le(n){return F(n.addEventListener)&&F(n.removeEventListener)}(n)?fle.map(s=>a=>n[s](e,a,t)):function mle(n){return F(n.addListener)&&F(n.removeListener)}(n)?hle.map(w8(n,e)):function gle(n){return F(n.on)&&F(n.off)}(n)?ple.map(w8(n,e)):[];if(!r&&Da(n))return ve(s=>ip(s,e,t))(er(n));if(!r)throw new TypeError("Invalid event target");return new Ye(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function w8(n,e){return t=>i=>n[t](e,i)}const $v={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=$v;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new C(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=$v;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=$v;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class yle extends fO{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class ble extends hO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=$v.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&($v.cancelAnimationFrame(t),e._scheduled=void 0)}});let BO,wle=1;const ZE={};function x8(n){return n in ZE&&(delete ZE[n],!0)}const xle={setImmediate(n){const e=wle++;return ZE[e]=!0,BO||(BO=Promise.resolve()),BO.then(()=>x8(e)&&n()),e},clearImmediate(n){x8(n)}},{setImmediate:Ele,clearImmediate:Cle}=xle,QE={setImmediate(...n){const{delegate:e}=QE;return(e?.setImmediate||Ele)(...n)},clearImmediate(n){const{delegate:e}=QE;return(e?.clearImmediate||Cle)(n)},delegate:void 0};new class Ale extends fO{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Sle extends hO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=QE.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(QE.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function Yv(n=0,e,t=Dse){let i=-1;return null!=e&&(Xe(e)?t=e:i=e),new Ye(r=>{let o=function Ile(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function E8(n,e=Fg){return function Tle(n){return he((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(Z(t,l=>{i=!0,r=l,o||er(n(l)).subscribe(o=Z(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>Yv(n,e))}let C8=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new j,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ye(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(E8(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):sn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ui(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Kd(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ip(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(un),Ze(Ur),Ze(Nn,8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eC=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new j,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(E8(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Ur),Ze(un),Ze(Nn,8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({})}return n})(),S8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Iv,Xv,Iv,Xv]})}return n})();function A8(n,e=!1){return he((t,i)=>{let r=0;t.subscribe(Z(i,o=>{const s=n(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}const M8=wse();class kle{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=bo(-this._previousScrollPosition.left),e.style.top=bo(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),M8&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),M8&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Rle{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(ui(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class T8{enable(){}disable(){}attach(){}}function UO(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function I8(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Ple{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();UO(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Nle=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new T8,this.close=s=>new Rle(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new kle(this._viewportRuler,this._document),this.reposition=s=>new Ple(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(C8),Ze(eC),Ze(un),Ze(Nn))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Kv{constructor(e){if(this.scrollStrategy=new T8,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Fle{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let D8=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Nn))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lle=(()=>{class n extends D8{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Nn),Ze(un,8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ble=(()=>{class n extends D8{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Xd(o)},this._clickListener=o=>{const s=Xd(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Nn),Ze(Ur),Ze(un,8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qv=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||aO()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),aO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Nn),Ze(Ur))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Jv{constructor(e,t,i,r,o,s,a,c,l,d=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new j,this._attachments=new j,this._detachments=new j,this._locationChanges=C.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new j,this._outsidePointerEvents=new j,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=bo(this._config.width),e.height=bo(this._config.height),e.minWidth=bo(this._config.minWidth),e.minHeight=bo(this._config.minHeight),e.maxWidth=bo(this._config.maxWidth),e.maxHeight=bo(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=kE(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ai(hr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const O8="cdk-overlay-connected-position-bounding-box",Ule=/([A-Za-z%]+)$/;class jle{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new j,this._resizeSubscription=C.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(O8),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(l,t,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(d,l,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(O8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=R8(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let p=0-a,_=a+o.height-i.height,w=this._subtractOverflows(o.width,0-s,s+o.width-i.width),I=this._subtractOverflows(o.height,p,_),L=w*I;return{visibleArea:L,isCompletelyWithinViewport:o.width*o.height===L,fitsInViewportVertically:I===o.height,fitsInViewportHorizontally:w==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=k8(this._overlayRef.getConfig().minHeight),a=k8(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=R8(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0);let d=0,h=0;return d=r.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,h=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:d,y:h},{x:e.x+d,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Fle(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,d,h,p;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const _=Math.min(i.bottom-e.y+i.top,e.y),w=this._lastBoundingBoxSize.height;o=2*_,s=e.y-_,o>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-w/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)p=i.width-e.x+this._viewportMargin,d=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)h=e.x,d=i.right-e.x;else{const _=Math.min(i.right-e.x+i.left,e.x),w=this._lastBoundingBoxSize.width;d=2*_,h=e.x-_,d>w&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-w/2)}return{top:s,left:h,bottom:a,right:p,width:d,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=bo(i.height),r.top=bo(i.top),r.bottom=bo(i.bottom),r.width=bo(i.width),r.left=bo(i.left),r.right=bo(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=bo(o)),s&&(r.maxWidth=bo(s))}this._lastBoundingBoxSize=i,rp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){rp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();rp(i,this._getExactOverlayY(t,e,d)),rp(i,this._getExactOverlayX(t,e,d))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=bo(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=bo(s.maxWidth):o&&(i.maxWidth="")),rp(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=bo(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=bo(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:I8(e,i),isOriginOutsideView:UO(e,i),isOverlayClipped:I8(t,i),isOverlayOutsideView:UO(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&kE(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof vn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function rp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function k8(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Ule);return t&&"px"!==t?null:parseFloat(e)}return n||null}function R8(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const P8="cdk-global-overlay-wrapper";class Vle{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(P8),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,h=this._xOffset,p="rtl"===this._overlayRef.getConfig().direction;let _="",w="",I="";c?I="flex-start":"center"===d?(I="center",p?w=h:_=h):p?"left"===d||"end"===d?(I="flex-end",_=h):("right"===d||"start"===d)&&(I="flex-start",w=h):"left"===d||"start"===d?(I="flex-start",_=h):("right"===d||"end"===d)&&(I="flex-end",w=h),e.position=this._cssPosition,e.marginLeft=c?"0":_,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":w,t.justifyContent=I,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(P8),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let zle=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Vle}flexibleConnectedTo(t){return new jle(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(eC),Ze(Nn),Ze(Ur),Ze(qv))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hle=0,Ea=(()=>{class n{constructor(t,i,r,o,s,a,c,l,d,h,p,_){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=d,this._location=h,this._outsideClickDispatcher=p,this._animationsModuleType=_}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Kv(t);return s.direction=s.direction||this._directionality.value,new Jv(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Hle++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ch)),new ule(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Nle),Ze(qv),Ze(Hc),Ze(zle),Ze(Lle),Ze(Li),Ze(un),Ze(Nn),Ze(Kc),Ze(Ev),Ze(Ble),Ze(xr,8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Gle=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],N8=new yt("cdk-connected-overlay-scroll-strategy");let jO=(()=>{class n{constructor(t){this.elementRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),F8=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=gn(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=gn(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=gn(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=gn(t)}get push(){return this._push}set push(t){this._push=gn(t)}constructor(t,i,r,o,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=C.EMPTY,this._attachSubscription=C.EMPTY,this._detachSubscription=C.EMPTY,this._positionSubscription=C.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new jt,this.positionChange=new jt,this.attach=new jt,this.detach=new jt,this.overlayKeydown=new jt,this.overlayOutsideClick=new jt,this._templatePortal=new Kg(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Gle);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!ks(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Kv({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof jO?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(A8(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Ea),Ce(ba),Ce(Go),Ce(N8),Ce(Kc,8))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[vr]})}return n})();const $le={provide:N8,deps:[Ea],useFactory:function Wle(n){return()=>n.scrollStrategies.reposition()}};let Zg=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:[Ea,$le],imports:[Iv,Jg,S8,S8]})}return n})();function Yle(n,e){if(1&n){const t=$r();$e(0,"div",2)(1,"button",3),Mt("click",function(){return oi(t),Xn(Qt().action())}),kt(2),Qe()()}if(2&n){const t=Qt();ot(2),Ir(" ",t.data.action," ")}}const Xle=["label"];function Kle(n,e){}const qle=Math.pow(2,31)-1;class VO{constructor(e,t){this._overlayRef=t,this._afterDismissed=new j,this._afterOpened=new j,this._onAction=new j,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,qle))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const zO=new yt("MatSnackBarData");class tC{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Jle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Nt({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),Zle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Nt({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),Qle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Nt({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),ede=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(VO),Ce(zO))};static#t=this.\u0275cmp=rn({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&($e(0,"div",0),kt(1),Qe(),Yt(2,Yle,3,1,"div",1)),2&i&&(ot(1),Ir(" ",r.data.message,"\n"),ot(1),ct("ngIf",r.hasAction))},dependencies:[Dr,Yg,Jle,Zle,Qle],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return n})();const tde={snackBarState:uc("state",[co("void, hidden",$i({transform:"scale(0.8)",opacity:0})),co("visible",$i({transform:"scale(1)",opacity:1})),$o("* => visible",Wo("150ms cubic-bezier(0, 0, 0.2, 1)")),$o("* => void, * => hidden",Wo("75ms cubic-bezier(0.4, 0.0, 1, 1)",$i({opacity:0})))])};let nde=0,ide=(()=>{class n extends JE{constructor(t,i,r,o,s){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=Kt(Nn),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new j,this._onExit=new j,this._onEnter=new j,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+nde++,this.attachDomPortal=a=>{this._assertNotAttached();const c=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),c},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Qi(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i)),this._exposeToModals()}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(un),Ce(vn),Ce(Ri),Ce(Ur),Ce(tC))};static#t=this.\u0275dir=Nt({type:n,viewQuery:function(i,r){if(1&i&&xi(qg,7),2&i){let o;hn(o=fn())&&(r._portalOutlet=o.first)}},features:[dn]})}return n})(),rde=(()=>{class n extends ide{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,i="mdc-snackbar__label";t.classList.toggle(i,!t.querySelector(`.${i}`))}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=ti(n)))(r||n)}}();static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&xi(Xle,7),2&i){let o;hn(o=fn())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){1&i&&X1("@state.done",function(s){return r.onAnimationEnd(s)}),2&i&&dv("@state",r._animationState)},features:[dn],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&($e(0,"div",0)(1,"div",1,2)(3,"div",3),Yt(4,Kle,0,0,"ng-template",4),Qe(),on(5,"div"),Qe()()),2&i&&(ot(5),Vn("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[qg],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[tde.snackBarState]}})}return n})(),L8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Zg,Jg,Hn,eu,Ti,Ti]})}return n})();const B8=new yt("mat-snack-bar-default-options",{providedIn:"root",factory:function ode(){return new tC}});let sde=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,o,s,a){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const o={...this._defaultConfig,...r};return o.data={message:t,action:i},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const o=Li.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:tC,useValue:i}]}),s=new Xg(this.snackBarContainerComponent,i.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){const r={...new tC,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new VO(s,o);if(t instanceof ba){const c=new Kg(t,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{const c=this._createInjector(r,a),l=new Xg(t,void 0,c),d=s.attachComponentPortal(l);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(ai(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new Kv;i.direction=t.direction;let r=this._overlay.position().global();const o="rtl"===t.direction,s="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!o||"end"===t.horizontalPosition&&o,a=!s&&"center"!==t.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return Li.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:VO,useValue:i},{provide:zO,useValue:t.data}]})}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Ea),Ze(SO),Ze(Li),Ze(wO),Ze(n,12),Ze(B8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})(),ade=(()=>{class n extends sde{constructor(t,i,r,o,s,a){super(t,i,r,o,s,a),this.simpleSnackBarComponent=ede,this.snackBarContainerComponent=rde,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Ea),Ze(SO),Ze(Li),Ze(wO),Ze(n,12),Ze(B8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:L8})}return n})();function U8(n){return new At(3e3,!1)}function gh(n){switch(n.length){case 0:return new Ov;case 1:return n[0];default:return new qV(n)}}function j8(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),d=l==s,h=d&&a||new Map;c.forEach((p,_)=>{let w=_,I=p;if("offset"!==_)switch(w=n.normalizePropertyName(w,r),I){case"!":I=t.get(_);break;case qd:I=i.get(_);break;default:I=n.normalizeStyleValue(_,w,I,r)}h.set(w,I)}),d||o.push(h),a=h,s=l}),r.length)throw function Dde(n){return new At(3502,!1)}();return o}function HO(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&GO(t,"start",n)));break;case"done":n.onDone(()=>i(t&&GO(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&GO(t,"destroy",n)))}}function GO(n,e,t){const o=WO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function WO(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Ba(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function V8(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const zde=(()=>typeof document>"u"?null:document.documentElement)();function $O(n){const e=n.parentNode||n.host||null;return e===zde?null:e}let op=null,z8=!1;function H8(n,e){for(;e;){if(e===n)return!0;e=$O(e)}return!1}function G8(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let W8=(()=>{class n{validateStyleProperty(t){return function Gde(n){op||(op=function Wde(){return typeof document<"u"?document.body:null}()||{},z8=!!op.style&&"WebkitAppearance"in op.style);let e=!0;return op.style&&!function Hde(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in op.style,!e&&z8&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in op.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return H8(t,i)}getParentElement(t){return $O(t)}query(t,i,r){return G8(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new Ov(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})(),YO=(()=>{class n{static#e=this.NOOP=new W8}return n})();const $de=1e3,XO="ng-enter",nC="ng-leave",iC="ng-trigger",rC=".ng-trigger",Y8="ng-animating",KO=".ng-animating";function tu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:qO(parseFloat(e[1]),e[2])}function qO(n,e){return"s"===e?n*$de:n}function oC(n,e,t){return n.hasOwnProperty("duration")?n:function Xde(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(U8()),{duration:0,delay:0,easing:""};r=qO(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=qO(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function cde(){return new At(3100,!1)}()),a=!0),o<0&&(e.push(function lde(){return new At(3101,!1)}()),a=!0),a&&e.splice(c,0,U8())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Zv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function X8(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function _h(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Hl(n,e,t){e.forEach((i,r)=>{const o=ZO(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function sp(n,e){e.forEach((t,i)=>{const r=ZO(i);n.style[r]=""})}function Qv(n){return Array.isArray(n)?1==n.length?n[0]:KV(n):n}const JO=new RegExp("{{\\s*(.+?)\\s*}}","g");function q8(n){let e=[];if("string"==typeof n){let t;for(;t=JO.exec(n);)e.push(t[1]);JO.lastIndex=0}return e}function e0(n,e,t){const i=n.toString(),r=i.replace(JO,(o,s)=>{let a=e[s];return null==a&&(t.push(function ude(n){return new At(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function sC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Jde=/-+([a-z0-9])/g;function ZO(n){return n.replace(Jde,(...e)=>e[1].toUpperCase())}function Ua(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function hde(n){return new At(3004,!1)}()}}function J8(n,e){return window.getComputedStyle(n)[e]}const aC="*";function eue(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function tue(n,e,t){if(":"==n[0]){const c=function nue(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Ade(n){return new At(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Sde(n){return new At(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(Z8(r,s));"<"==o[0]&&!(r==aC&&s==aC)&&e.push(Z8(s,r))}(i,t,e)):t.push(n),t}const cC=new Set(["true","1"]),lC=new Set(["false","0"]);function Z8(n,e){const t=cC.has(n)||lC.has(n),i=cC.has(e)||lC.has(e);return(r,o)=>{let s=n==aC||n==r,a=e==aC||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?cC.has(n):lC.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?cC.has(e):lC.has(e)),s&&a}}const iue=new RegExp("s*:selfs*,?","g");function QO(n,e,t,i){return new rue(n).build(e,t,i)}class rue{constructor(e){this._driver=e}build(e,t,i){const r=new aue(t);return this._resetContextStyleTimingState(r),Ua(this,Qv(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function pde(){return new At(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function mde(){return new At(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{q8(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(sC(o.values()),t.errors.push(function gde(n,e){return new At(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ua(this,Qv(e.animation),t);return{type:1,matchers:eue(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ap(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ua(this,i,t)),options:ap(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=Ua(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:ap(e.options)}}visitAnimate(e,t){const i=function lue(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ek(oC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=ek(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=oC(t,e);return ek(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:$i({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=$i(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===qd?i.push(a):t.errors.push(new At(3002,!1)):i.push(X8(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c);let h=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(t.errors.push(function bde(n,e,t,i,r){return new At(3010,!1)}()),h=!1),o=d.startTime),h&&l.set(c,{startTime:o,endTime:r}),t.options&&function qde(n,e,t){const i=e.params||{},r=q8(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function dde(n){return new At(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function yde(){return new At(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const d=e.steps.map(K=>{const Q=this._makeStyleAst(K,t);let me=null!=Q.offset?Q.offset:function cue(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Q.styles),Pe=0;return null!=me&&(o++,Pe=Q.offset=me),c=c||Pe<0||Pe>1,a=a||Pe<l,l=Pe,s.push(Pe),Q});c&&t.errors.push(function vde(){return new At(3012,!1)}()),a&&t.errors.push(function wde(){return new At(3200,!1)}());const h=e.steps.length;let p=0;o>0&&o<h?t.errors.push(function xde(){return new At(3202,!1)}()):0==o&&(p=1/(h-1));const _=h-1,w=t.currentTime,I=t.currentAnimateTimings,L=I.duration;return d.forEach((K,Q)=>{const me=p>0?Q==_?1:p*Q:s[Q],Pe=me*L;t.currentTime=w+I.delay+Pe,I.duration=Pe,this._validateStyleAst(K,t),K.offset=me,i.styles.push(K)}),i}visitReference(e,t){return{type:8,animation:Ua(this,Qv(e.animation),t),options:ap(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ap(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ap(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function oue(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(iue,"")),n=n.replace(/@\*/g,rC).replace(/@\w+/g,t=>rC+"-"+t.slice(1)).replace(/:animating/g,KO),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Ba(t.collectedStyles,t.currentQuerySelector,new Map);const a=Ua(this,Qv(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ap(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Ede(){return new At(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:oC(e.timings,t.errors,!0);return{type:12,animation:Ua(this,Qv(e.animation),t),timings:i,options:null}}}class aue{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ap(n){return n?(n=Zv(n)).params&&(n.params=function sue(n){return n?Zv(n):null}(n.params)):n={},n}function ek(n,e,t){return{duration:n,delay:e,easing:t}}function tk(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class dC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const hue=new RegExp(":enter","g"),pue=new RegExp(":leave","g");function nk(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return(new mue).buildKeyframes(n,e,t,i,r,o,s,a,c,l)}class mue{buildKeyframes(e,t,i,r,o,s,a,c,l,d=[]){l=l||new dC;const h=new ik(e,t,l,r,o,d,[]);h.options=c;const p=c.delay?tu(c.delay):0;h.currentTimeline.delayNextStep(p),h.currentTimeline.setStyles([s],null,h.errors,c),Ua(this,i,h);const _=h.timelines.filter(w=>w.containsAnimation());if(_.length&&a.size){let w;for(let I=_.length-1;I>=0;I--){const L=_[I];if(L.element===t){w=L;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,h.errors,c)}return _.length?_.map(w=>w.buildKeyframes()):[tk(t,[],[],[],0,p,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:tu(e0(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?tu(i.duration):null,a=null!=i.delay?tu(i.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Ua(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=uC);const s=tu(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Ua(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?tu(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Ua(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return oC(t.params?e0(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?tu(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=uC);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{t.currentQueryIndex=d;const h=t.createSubContext(e.options,l);o&&h.delayNextStep(o),l===t.element&&(c=h.currentTimeline),Ua(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const d=t.currentTimeline;c&&d.delayNextStep(c);const h=d.currentTime;Ua(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}}const uC={};class ik{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new hC(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=tu(i.duration)),null!=i.delay&&(r.delay=tu(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=e0(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new ik(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=uC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new gue(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(hue,"."+this._enterClassName)).replace(pue,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function Cde(n){return new At(3014,!1)}()),a}}class hC{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new hC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||qd),this._currentKeyframe.set(t,qd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function _ue(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,qd)}else _h(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=e0(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??qd),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=_h(a,new Map,this._backFill);l.forEach((d,h)=>{"!"===d?e.add(h):d===qd&&t.add(h)}),i||l.set("offset",c/this.duration),r.push(l)});const o=e.size?sC(e.values()):[],s=t.size?sC(t.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return tk(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class gue extends hC{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=_h(e[0]);c.set("offset",0),o.push(c);const l=_h(e[0]);l.set("offset",t5(a)),o.push(l);const d=e.length-1;for(let h=1;h<=d;h++){let p=_h(e[h]);const _=p.get("offset");p.set("offset",t5((t+_*i)/s)),o.push(p)}i=s,t=0,r="",e=o}return tk(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function t5(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class rk{}const bue=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class yue extends rk{normalizePropertyName(e,t){return ZO(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(bue.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function fde(n,e){return new At(3005,!1)}())}return s+o}}function n5(n,e,t,i,r,o,s,a,c,l,d,h,p){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:h,errors:p}}const ok={};class i5{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function vue(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,d){const h=[],p=this.ast.options&&this.ast.options.params||ok,w=this.buildStyles(i,a&&a.params||ok,h),I=c&&c.params||ok,L=this.buildStyles(r,I,h),K=new Set,Q=new Map,me=new Map,Pe="void"===r,We={params:wue(I,p),delay:this.ast.options?.delay},tt=d?[]:nk(e,t,this.ast.animation,o,s,w,L,We,l,h);let ut=0;if(tt.forEach(vt=>{ut=Math.max(vt.duration+vt.delay,ut)}),h.length)return n5(t,this._triggerName,i,r,Pe,w,L,[],[],Q,me,ut,h);tt.forEach(vt=>{const bt=vt.element,St=Ba(Q,bt,new Set);vt.preStyleProps.forEach(gt=>St.add(gt));const Rt=Ba(me,bt,new Set);vt.postStyleProps.forEach(gt=>Rt.add(gt)),bt!==t&&K.add(bt)});const wt=sC(K.values());return n5(t,this._triggerName,i,r,Pe,w,L,tt,wt,Q,me,ut)}}function wue(n,e){const t=Zv(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class xue{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Zv(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=e0(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class Cue{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new xue(r.style,r.options&&r.options.params||{},i))}),r5(this.states,"true","1"),r5(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new i5(e,r,this.states))}),this.fallbackTransition=function Sue(n,e,t){return new i5(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function r5(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Aue=new dC;class Mue{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=QO(this._driver,t,i,[]);if(i.length)throw function Ode(n){return new At(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=j8(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=nk(this._driver,t,o,XO,nC,new Map,new Map,i,Aue,r),s.forEach(d=>{const h=Ba(a,d.element,new Map);d.postStyleProps.forEach(p=>h.set(p,null))})):(r.push(function kde(){return new At(3300,!1)}()),s=[]),r.length)throw function Rde(n){return new At(3504,!1)}();a.forEach((d,h)=>{d.forEach((p,_)=>{d.set(_,this._driver.computeStyle(h,_,qd))})});const l=gh(s.map(d=>{const h=a.get(d.element);return this._buildPlayer(d,new Map,h)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Pde(n){return new At(3301,!1)}();return t}listen(e,t,i,r){const o=WO(t,"","","");return HO(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const o5="ng-animate-queued",sk="ng-animate-disabled",kue=[],s5={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rue={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jc="__ng_removed";class ak{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Lue(n){return n??null}(i?e.value:e),i){const o=Zv(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const t0="void",ck=new ak(t0);class Pue{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,fc(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Nde(n,e){return new At(3302,!1)}();if(null==i||0==i.length)throw function Fde(n){return new At(3303,!1)}();if(!function Bue(n){return"start"==n||"done"==n}(i))throw function Lde(n,e){return new At(3400,!1)}();const o=Ba(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=Ba(this._engine.statesByElement,e,new Map);return a.has(t)||(fc(e,iC),fc(e,iC+"-"+t),a.set(t,ck)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Bde(n){return new At(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new lk(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(fc(e,iC),fc(e,iC+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new ak(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=ck),l.value!==t0&&c.value===l.value){if(!function Vue(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const I=[],L=o.matchStyles(c.value,c.params,I),K=o.matchStyles(l.value,l.params,I);I.length?this._engine.reportError(I):this._engine.afterFlush(()=>{sp(e,L),Hl(e,K)})}return}const p=Ba(this._engine.playersByElement,e,[]);p.forEach(I=>{I.namespaceId==this.id&&I.triggerName==t&&I.queued&&I.destroy()});let _=o.matchTransition(c.value,l.value,e,l.params),w=!1;if(!_){if(!r)return;_=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:_,fromState:c,toState:l,player:s,isFallbackTransition:w}),w||(fc(e,o5),s.onStart(()=>{Qg(e,o5)})),s.onDone(()=>{let I=this.players.indexOf(s);I>=0&&this.players.splice(I,1);const L=this._engine.playersByElement.get(e);if(L){let K=L.indexOf(s);K>=0&&L.splice(K,1)}}),this.players.push(s),p.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,rC,!0);i.forEach(r=>{if(r[Jc])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const d=this.trigger(e,l,t0,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&gh(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||ck,d=new ak(t0),h=new lk(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Jc];(!o||o===s5)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){fc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=WO(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,HO(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Nue{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Pue(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(fC(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!fC(t))return;const o=t[Jc];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),fc(e,sk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Qg(e,sk))}removeNode(e,t,i){if(fC(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Jc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return fC(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,rC,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,KO,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return gh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Jc];if(t&&t.setForRemoval){if(e[Jc]=s5,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(sk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)fc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?gh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Ude(n){return new At(3402,!1)}()}_flushAnimations(e,t){const i=new dC,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(_t=>{d.add(_t);const Ut=this.driver.query(_t,".ng-animate-queued",!0);for(let Xt=0;Xt<Ut.length;Xt++)d.add(Ut[Xt])});const h=this.bodyNode,p=Array.from(this.statesByElement.keys()),_=l5(p,this.collectedEnterElements),w=new Map;let I=0;_.forEach((_t,Ut)=>{const Xt=XO+I++;w.set(Ut,Xt),_t.forEach(Zt=>fc(Zt,Xt))});const L=[],K=new Set,Q=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const Ut=this.collectedLeaveElements[_t],Xt=Ut[Jc];Xt&&Xt.setForRemoval&&(L.push(Ut),K.add(Ut),Xt.hasAnimation?this.driver.query(Ut,".ng-star-inserted",!0).forEach(Zt=>K.add(Zt)):Q.add(Ut))}const me=new Map,Pe=l5(p,Array.from(K));Pe.forEach((_t,Ut)=>{const Xt=nC+I++;me.set(Ut,Xt),_t.forEach(Zt=>fc(Zt,Xt))}),e.push(()=>{_.forEach((_t,Ut)=>{const Xt=w.get(Ut);_t.forEach(Zt=>Qg(Zt,Xt))}),Pe.forEach((_t,Ut)=>{const Xt=me.get(Ut);_t.forEach(Zt=>Qg(Zt,Xt))}),L.forEach(_t=>{this.processLeaveNode(_t)})});const We=[],tt=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(t).forEach(Xt=>{const Zt=Xt.player,Dn=Xt.element;if(We.push(Zt),this.collectedEnterElements.length){const Ui=Dn[Jc];if(Ui&&Ui.setForMove){if(Ui.previousTriggersValues&&Ui.previousTriggersValues.has(Xt.triggerName)){const bs=Ui.previousTriggersValues.get(Xt.triggerName),no=this.statesByElement.get(Xt.element);if(no&&no.has(Xt.triggerName)){const Ia=no.get(Xt.triggerName);Ia.value=bs,no.set(Xt.triggerName,Ia)}}return void Zt.destroy()}}const Pi=!h||!this.driver.containsElement(h,Dn),mn=me.get(Dn),Nr=w.get(Dn),Ai=this._buildInstruction(Xt,i,Nr,mn,Pi);if(Ai.errors&&Ai.errors.length)return void tt.push(Ai);if(Pi)return Zt.onStart(()=>sp(Dn,Ai.fromStyles)),Zt.onDestroy(()=>Hl(Dn,Ai.toStyles)),void r.push(Zt);if(Xt.isFallbackTransition)return Zt.onStart(()=>sp(Dn,Ai.fromStyles)),Zt.onDestroy(()=>Hl(Dn,Ai.toStyles)),void r.push(Zt);const _s=[];Ai.timelines.forEach(Ui=>{Ui.stretchStartingKeyframe=!0,this.disabledNodes.has(Ui.element)||_s.push(Ui)}),Ai.timelines=_s,i.append(Dn,Ai.timelines),s.push({instruction:Ai,player:Zt,element:Dn}),Ai.queriedElements.forEach(Ui=>Ba(a,Ui,[]).push(Zt)),Ai.preStyleProps.forEach((Ui,bs)=>{if(Ui.size){let no=c.get(bs);no||c.set(bs,no=new Set),Ui.forEach((Ia,Xa)=>no.add(Xa))}}),Ai.postStyleProps.forEach((Ui,bs)=>{let no=l.get(bs);no||l.set(bs,no=new Set),Ui.forEach((Ia,Xa)=>no.add(Xa))})});if(tt.length){const _t=[];tt.forEach(Ut=>{_t.push(function jde(n,e){return new At(3505,!1)}())}),We.forEach(Ut=>Ut.destroy()),this.reportError(_t)}const ut=new Map,wt=new Map;s.forEach(_t=>{const Ut=_t.element;i.has(Ut)&&(wt.set(Ut,Ut),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,ut))}),r.forEach(_t=>{const Ut=_t.element;this._getPreviousPlayers(Ut,!1,_t.namespaceId,_t.triggerName,null).forEach(Zt=>{Ba(ut,Ut,[]).push(Zt),Zt.destroy()})});const vt=L.filter(_t=>u5(_t,c,l)),bt=new Map;c5(bt,this.driver,Q,l,qd).forEach(_t=>{u5(_t,c,l)&&vt.push(_t)});const Rt=new Map;_.forEach((_t,Ut)=>{c5(Rt,this.driver,new Set(_t),c,"!")}),vt.forEach(_t=>{const Ut=bt.get(_t),Xt=Rt.get(_t);bt.set(_t,new Map([...Ut?.entries()??[],...Xt?.entries()??[]]))});const gt=[],xt=[],Vt={};s.forEach(_t=>{const{element:Ut,player:Xt,instruction:Zt}=_t;if(i.has(Ut)){if(d.has(Ut))return Xt.onDestroy(()=>Hl(Ut,Zt.toStyles)),Xt.disabled=!0,Xt.overrideTotalTime(Zt.totalTime),void r.push(Xt);let Dn=Vt;if(wt.size>1){let mn=Ut;const Nr=[];for(;mn=mn.parentNode;){const Ai=wt.get(mn);if(Ai){Dn=Ai;break}Nr.push(mn)}Nr.forEach(Ai=>wt.set(Ai,Dn))}const Pi=this._buildAnimation(Xt.namespaceId,Zt,ut,o,Rt,bt);if(Xt.setRealPlayer(Pi),Dn===Vt)gt.push(Xt);else{const mn=this.playersByElement.get(Dn);mn&&mn.length&&(Xt.parentPlayer=gh(mn)),r.push(Xt)}}else sp(Ut,Zt.fromStyles),Xt.onDestroy(()=>Hl(Ut,Zt.toStyles)),xt.push(Xt),d.has(Ut)&&r.push(Xt)}),xt.forEach(_t=>{const Ut=o.get(_t.element);if(Ut&&Ut.length){const Xt=gh(Ut);_t.setRealPlayer(Xt)}}),r.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<L.length;_t++){const Ut=L[_t],Xt=Ut[Jc];if(Qg(Ut,nC),Xt&&Xt.hasAnimation)continue;let Zt=[];if(a.size){let Pi=a.get(Ut);Pi&&Pi.length&&Zt.push(...Pi);let mn=this.driver.query(Ut,KO,!0);for(let Nr=0;Nr<mn.length;Nr++){let Ai=a.get(mn[Nr]);Ai&&Ai.length&&Zt.push(...Ai)}}const Dn=Zt.filter(Pi=>!Pi.destroyed);Dn.length?Uue(this,Ut,Dn):this.processLeaveNode(Ut)}return L.length=0,gt.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const Ut=this.players.indexOf(_t);this.players.splice(Ut,1)}),_t.play()}),gt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==t0;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,d=l!==o,h=Ba(i,l,[]);this._getPreviousPlayers(l,d,s,a,t.toState).forEach(_=>{const w=_.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),_.destroy(),h.push(_)})}sp(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,l=[],d=new Set,h=new Set,p=t.timelines.map(w=>{const I=w.element;d.add(I);const L=I[Jc];if(L&&L.removedBeforeQueried)return new Ov(w.duration,w.delay);const K=I!==c,Q=function jue(n){const e=[];return d5(n,e),e}((i.get(I)||kue).map(ut=>ut.getRealPlayer())).filter(ut=>!!ut.element&&ut.element===I),me=o.get(I),Pe=s.get(I),We=j8(this._normalizer,w.keyframes,me,Pe),tt=this._buildPlayer(w,We,Q);if(w.subTimeline&&r&&h.add(I),K){const ut=new lk(e,a,I);ut.setRealPlayer(tt),l.push(ut)}return tt});l.forEach(w=>{Ba(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function Fue(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,w.element,w))}),d.forEach(w=>fc(w,Y8));const _=gh(p);return _.onDestroy(()=>{d.forEach(w=>Qg(w,Y8)),Hl(c,t.toStyles)}),h.forEach(w=>{Ba(r,w,[]).push(_)}),_}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Ov(e.duration,e.delay)}}class lk{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Ov,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>HO(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ba(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function fC(n){return n&&1===n.nodeType}function a5(n,e){const t=n.style.display;return n.style.display=e??"none",t}function c5(n,e,t,i,r){const o=[];t.forEach(c=>o.push(a5(c)));const s=[];i.forEach((c,l)=>{const d=new Map;c.forEach(h=>{const p=e.computeStyle(l,h,r);d.set(h,p),(!p||0==p.length)&&(l[Jc]=Rue,s.push(l))}),n.set(l,d)});let a=0;return t.forEach(c=>a5(c,o[a++])),s}function l5(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function fc(n,e){n.classList?.add(e)}function Qg(n,e){n.classList?.remove(e)}function Uue(n,e,t){gh(t).onDone(()=>n.processLeaveNode(e))}function d5(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof qV?d5(i.players,e):e.push(i)}}function u5(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class pC{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Nue(e,t,i),this._timelineEngine=new Mue(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],d=QO(this._driver,o,c,[]);if(c.length)throw function Ide(n,e){return new At(3404,!1)}();a=function Eue(n,e,t){return new Cue(n,e,t)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=V8(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=V8(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Hue=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Hl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hl(this._element,this._initialStyles),this._endStyles&&(Hl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(sp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sp(this._element,this._endStyles),this._endStyles=null),Hl(this._element,this._initialStyles),this._state=3)}}return n})();function dk(n){let e=null;return n.forEach((t,i)=>{(function Gue(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class h5{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:J8(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Wue{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return H8(e,t)}getParentElement(e){return $O(e)}query(e,t,i){return G8(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,d=s.filter(_=>_ instanceof h5);(function Zde(n,e){return 0===n||0===e})(i,r)&&d.forEach(_=>{_.currentSnapshot.forEach((w,I)=>l.set(I,w))});let h=function Kde(n){return n.length?n[0]instanceof Map?n:n.map(e=>X8(e)):[]}(t).map(_=>_h(_));h=function Qde(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,J8(n,a)))}}return e}(e,h,l);const p=function zue(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=dk(e[0]),e.length>1&&(i=dk(e[e.length-1]))):e instanceof Map&&(t=dk(e)),t||i?new Hue(n,t,i):null}(e,h);return new h5(e,h,c,p)}}let $ue=(()=>{class n extends XV{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:da.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?KV(t):t;return f5(this._renderer,null,i,"register",[r]),new Yue(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Jy),Ze(Nn))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();class Yue extends Tse{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Xue(this._id,e,t||{},this._renderer)}}class Xue{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return f5(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function f5(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const p5="@.disabled";let Kue=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(o);return d||(d=new m5("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,d)),d}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(s,a,t,d.name,d)};return i.data.animation.forEach(c),new que(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Jy),Ze(pC),Ze(un))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();class m5{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==p5?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class que extends m5{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==p5?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Jue(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Zue(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let Que=(()=>{class n extends pC{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Nn),Ze(YO),Ze(rk),Ze(ch))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();const g5=[{provide:XV,useClass:$ue},{provide:rk,useFactory:function ehe(){return new yue}},{provide:pC,useClass:Que},{provide:Jy,useFactory:function the(n,e,t){return new Kue(n,e,t)},deps:[ZD,pC,un]}],uk=[{provide:YO,useFactory:()=>new Wue},{provide:xr,useValue:"BrowserAnimations"},...g5],_5=[{provide:YO,useClass:W8},{provide:xr,useValue:"NoopAnimations"},...g5];let hk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?_5:uk}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:uk,imports:[tO]})}return n})();function b5(n,e,t,i,r,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,r)}function _n(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(c){b5(o,i,r,s,a,"next",c)}function a(c){b5(o,i,r,s,a,"throw",c)}s(void 0)})}}function n0(n){return(n0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Me(n,e,t){return(e=function ihe(n){var e=function nhe(n,e){if("object"!==n0(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!==n0(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===n0(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function y5(n){if(typeof window<"u"&&"object"==typeof window.process&&"renderer"===window.process.type||typeof process<"u"&&"object"==typeof process.versions&&process.versions.electron)return!0;const e="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent,t=n||e;return!!(t&&t.indexOf("Electron")>=0)}function Gl(){return!("object"==typeof process&&"[object process]"===String(process)&&!process.browser)||y5()}const v5=typeof __VERSION__<"u"?__VERSION__:"untranspiled source";Gl();class ohe{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";Me(this,"storage",void 0),Me(this,"id",void 0),Me(this,"config",void 0),this.storage=function rhe(n){try{const e=window[n],t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch{return null}}(i),this.id=e,this.config=t,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}function fk(n,e,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;const r=n.src.replace(/\(/g,"%28").replace(/\)/g,"%29");n.width>i&&(t=Math.min(t,i/n.width));const o=n.width*t,s=n.height*t,a=["font-size:1px;","padding:".concat(Math.floor(s/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(s,"px;"),"background:url(".concat(r,");"),"background-size:".concat(o,"px ").concat(s,"px;"),"color:transparent;"].join("");return["".concat(e," %c+"),a]}let gC;var n;function w5(n){return"string"==typeof n?gC[n.toUpperCase()]||gC.WHITE:n}function _C(n,e){if(!n)throw new Error(e||"Assertion failed")}(n=gC||(gC={}))[n.BLACK=30]="BLACK",n[n.RED=31]="RED",n[n.GREEN=32]="GREEN",n[n.YELLOW=33]="YELLOW",n[n.BLUE=34]="BLUE",n[n.MAGENTA=35]="MAGENTA",n[n.CYAN=36]="CYAN",n[n.WHITE=37]="WHITE",n[n.BRIGHT_BLACK=90]="BRIGHT_BLACK",n[n.BRIGHT_RED=91]="BRIGHT_RED",n[n.BRIGHT_GREEN=92]="BRIGHT_GREEN",n[n.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",n[n.BRIGHT_BLUE=94]="BRIGHT_BLUE",n[n.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",n[n.BRIGHT_CYAN=96]="BRIGHT_CYAN",n[n.BRIGHT_WHITE=97]="BRIGHT_WHITE";const bh={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document,process:"object"==typeof process&&process},bC=bh.window||bh.self||bh.global,r0=bh.process||{};function e_(){let n;var e,t;if(Gl&&"performance"in bC)n=null==bC||null===(e=bC.performance)||void 0===e||null===(t=e.now)||void 0===t?void 0:t.call(e);else if("hrtime"in r0){var i;const r=null==r0||null===(i=r0.hrtime)||void 0===i?void 0:i.call(r0);n=1e3*r[0]+r[1]/1e6}else n=Date.now();return n}const t_={debug:Gl&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},hhe={enabled:!0,level:0};function pc(){}const x5={},E5={once:!0};class o0{constructor(){let{id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};Me(this,"id",void 0),Me(this,"VERSION",v5),Me(this,"_startTs",e_()),Me(this,"_deltaTs",e_()),Me(this,"_storage",void 0),Me(this,"userData",{}),Me(this,"LOG_THROTTLE_TIMEOUT",0),this.id=e,this.userData={},this._storage=new ohe("__probe-".concat(this.id,"__"),hhe),this.timeStamp("".concat(this.id," started")),function uhe(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const t=Object.getPrototypeOf(n),i=Object.getOwnPropertyNames(t);for(const r of i)"function"==typeof n[r]&&(e.find(o=>r===o)||(n[r]=n[r].bind(n)))}(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((e_()-this._startTs).toPrecision(10))}getDelta(){return Number((e_()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){return this._storage.setConfiguration({enabled:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,t){this._storage.setConfiguration({[e]:t})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,t){_C(e,t)}warn(e){return this._getLogFunction(0,e,t_.warn,arguments,E5)}error(e){return this._getLogFunction(0,e,t_.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,t_.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,t_.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return this._getLogFunction(e,t,t_.debug||t_.info,arguments,E5)}table(e,t,i){return t?this._getLogFunction(e,t,console.table||pc,i&&[i],{tag:ghe(t)}):pc}image(e){let{logLevel:t,priority:i,image:r,message:o="",scale:s=1}=e;return this._shouldLog(t||i)?Gl?function mhe(n){let{image:e,message:t="",scale:i=1}=n;if("string"==typeof e){const o=new Image;return o.onload=()=>{const s=fk(o,t,i);console.log(...s)},o.src=e,pc}const r=e.nodeName||"";if("img"===r.toLowerCase())return console.log(...fk(e,t,i)),pc;if("canvas"===r.toLowerCase()){const o=new Image;return o.onload=()=>console.log(...fk(o,t,i)),o.src=e.toDataURL(),pc}return pc}({image:r,message:o,scale:s}):function phe(n){let{message:t="",scale:i=1}=n;return console.warn("removed"),pc}({image:r,message:o,scale:s}):pc}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||pc)}group(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const r=S5({logLevel:e,message:t,opts:i}),{collapsed:o}=i;return r.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(e,t){return this.group(e,t,Object.assign({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||pc)}withGroup(e,t,i){this.group(e,t)();try{i()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=C5(e)}_getLogFunction(e,t,i,r,o){if(this._shouldLog(e)){o=S5({logLevel:e,message:t,args:r,opts:o}),_C(i=i||o.method),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=e_();const s=o.tag||o.message;if(o.once){if(x5[s])return pc;x5[s]=e_()}return t=function fhe(n,e,t){if("string"==typeof e){const i=t.time?function ahe(n){const t=Math.max((arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-n.length,0);return"".concat(" ".repeat(t)).concat(n)}(function she(n){let e;return e=n<10?"".concat(n.toFixed(2),"ms"):n<100?"".concat(n.toFixed(1),"ms"):n<1e3?"".concat(n.toFixed(0),"ms"):"".concat((n/1e3).toFixed(2),"s"),e}(t.total)):"";e=function dhe(n,e,t){return!Gl&&"string"==typeof n&&(e&&(e=w5(e),n="\x1b[".concat(e,"m").concat(n,"\x1b[39m")),t&&(e=w5(t),n="\x1b[".concat(t+10,"m").concat(n,"\x1b[49m"))),n}(e=t.time?"".concat(n,": ").concat(i,"  ").concat(e):"".concat(n,": ").concat(e),t.color,t.background)}return e}(this.id,o.message,o),i.bind(console,t,...o.args)}return pc}}function C5(n){if(!n)return 0;let e;switch(typeof n){case"number":e=n;break;case"object":e=n.logLevel||n.priority||0;break;default:return 0}return _C(Number.isFinite(e)&&e>=0),e}function S5(n){const{logLevel:e,message:t}=n;n.logLevel=C5(e);const i=n.args?Array.from(n.args):[];for(;i.length&&i.shift()!==t;);switch(typeof e){case"string":case"function":void 0!==t&&i.unshift(t),n.message=e;break;case"object":Object.assign(n,e)}"function"==typeof n.message&&(n.message=n.message());const r=typeof n.message;return _C("string"===r||"object"===r),Object.assign(n,{args:i},n.opts)}function ghe(n){for(const e in n)for(const t in n[e])return t||"untitled";return"empty"}Me(o0,"VERSION",v5);const Oi=new o0({id:"deck"}),Bi={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(Bi,"IDENTITY",{get:()=>(Oi.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const Wl={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},yC={common:0,meters:1,pixels:2},A5={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},Mn=new o0({id:"luma.gl"});function ra(n,e){if(!n)throw new Error(e||"luma.gl: assertion failed.")}const bhe="Requires WebGL2";function vC(n){return typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext||typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||!Number.isFinite(n._version))}function Ci(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||2!==n._version)}function wC(n){return ra(vC(n),"Invalid WebGLRenderingContext"),n}function Rs(n){return ra(Ci(n),bhe),n}const a0={};const c0=function n(e){const t=e.gl;this.ext=e,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(e.maxVertexAttribs);for(let i=0;i<this.attribs.length;i++){const r=new n.VertexAttrib(t);this.attribs[i]=r}this.maxAttrib=0};(c0.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const cp=function(e){const t=this;this.gl=e,function Ehe(n){const e=n.getError;n.getError=function(){let i;do{i=e.apply(n),0!==i&&(a0[i]=!0)}while(0!==i);for(i in a0)if(a0[i])return delete a0[i],parseInt(i,10);return 0}}(e);const i=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(o){return o===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:i.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(o){const s=t.currentVertexArrayObject;return s.maxAttrib=Math.max(s.maxAttrib,o),s.attribs[o].enabled=!0,i.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(o){const s=t.currentVertexArrayObject;return s.maxAttrib=Math.max(s.maxAttrib,o),s.attribs[o].enabled=!1,i.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(o,s){switch(o){case 34962:t.currentArrayBuffer=s;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=s}return i.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(o,s){const c=t.currentVertexArrayObject.attribs[o];switch(s){case 34975:return c.buffer;case 34338:return c.enabled;case 34339:return c.size;case 34340:return c.stride;case 34341:return c.type;case 34922:return c.normalized;default:return i.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(o,s,a,c,l,d){const h=t.currentVertexArrayObject;h.maxAttrib=Math.max(h.maxAttrib,o);const p=h.attribs[o];return p.buffer=t.currentArrayBuffer,p.size=s,p.type=a,p.normalized=c,p.stride=l,p.offset=d,p.recache(),i.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",()=>{(function whe(n){globalThis.console&&globalThis.console.log&&globalThis.console.log(n)})("OESVertexArrayObject emulation library context restored"),t.reset_()},!0),this.reset_()};cp.prototype.VERTEX_ARRAY_BINDING_OES=34229,cp.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(let i=0;i<this.vertexArrayObjects.length;++i)this.vertexArrayObjects.isAlive=!1;this.maxVertexAttribs=this.gl.getParameter(34921),this.defaultVertexArrayObject=new c0(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},cp.prototype.createVertexArrayOES=function(){const e=new c0(this);return this.vertexArrayObjects.push(e),e},cp.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},cp.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof c0&&e.hasBeenBound&&e.ext===this)},cp.prototype.bindVertexArrayOES=function(e){const t=this.gl;if(e&&!e.isAlive)return void function xhe(n,e){a0[n]=!0,void 0!==e&&function vhe(n){globalThis.console&&globalThis.console.error&&globalThis.console.error(n)}(e)}(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject");const i=this.original,r=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const o=this.currentVertexArrayObject;if(r===o)return;(!r||o.elementArrayBuffer!==r.elementArrayBuffer)&&i.bindBuffer.call(t,34963,o.elementArrayBuffer);let s=this.currentArrayBuffer;const a=Math.max(r?r.maxAttrib:0,o.maxAttrib);for(let c=0;c<=a;c++){const l=o.attribs[c],d=r?r.attribs[c]:null;if((!r||l.enabled!==d.enabled)&&(l.enabled?i.enableVertexAttribArray.call(t,c):i.disableVertexAttribArray.call(t,c)),l.enabled){let h=!1;(!r||l.buffer!==d.buffer)&&(s!==l.buffer&&(i.bindBuffer.call(t,34962,l.buffer),s=l.buffer),h=!0),(h||l.cached!==d.cached)&&i.vertexAttribPointer.call(t,c,l.size,l.type,l.normalized,l.stride,l.offset)}}this.currentArrayBuffer!==s&&i.bindBuffer.call(t,34962,this.currentArrayBuffer)};const M5="OES_element_index",T5="WEBGL_draw_buffers",I5="WEBGL_debug_renderer_info",Sr=n=>Ci(n)?void 0:0,Phe={3074:n=>Ci(n)?void 0:36064,35723:n=>Ci(n)?void 0:4352,35977:Sr,32937:Sr,36795:(n,e)=>{const t=Ci(n)?n.getExtension("EXT_disjoint_timer_query_webgl2"):n.getExtension("EXT_disjoint_timer_query");return t&&t.GPU_DISJOINT_EXT?e(t.GPU_DISJOINT_EXT):0},37445:(n,e)=>{const t=n.getExtension(I5);return e(t&&t.UNMASKED_VENDOR_WEBGL||7936)},37446:(n,e)=>{const t=n.getExtension(I5);return e(t&&t.UNMASKED_RENDERER_WEBGL||7937)},34047:(n,e)=>{const t=n.luma.extensions.EXT_texture_filter_anisotropic;return t?e(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},32883:Sr,35071:Sr,37447:Sr,36063:(n,e)=>{if(!Ci(n)){const t=n.getExtension(T5);return t?e(t.MAX_COLOR_ATTACHMENTS_WEBGL):0}},35379:Sr,35374:Sr,35377:Sr,34852:n=>{if(!Ci(n)){const e=n.getExtension(T5);return e?e.MAX_DRAW_BUFFERS_WEBGL:0}},36203:n=>n.getExtension(M5)?2147483647:65535,33001:n=>n.getExtension(M5)?16777216:65535,33e3:n=>16777216,37157:Sr,35373:Sr,35657:Sr,36183:Sr,37137:Sr,34045:Sr,35978:Sr,35979:Sr,35968:Sr,35376:Sr,35375:Sr,35659:Sr,37154:Sr,35371:Sr,35658:Sr,35076:Sr,35077:Sr,35380:Sr},D5="ANGLE_instanced_arrays",O5={OES_vertex_array_object:{meta:{suffix:"OES"},createVertexArray:()=>{ra(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[D5]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(n,e){ra(0===e,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},WEBGL_draw_buffers:{meta:{suffix:"WEBGL"},drawBuffers:()=>{ra(!1)}},EXT_disjoint_timer_query:{meta:{suffix:"EXT"},createQuery:()=>{ra(!1)},deleteQuery:()=>{ra(!1)},beginQuery:()=>{ra(!1)},endQuery:()=>{},getQuery(n,e){return this.getQueryObject(n,e)},getQueryParameter(n,e){return this.getQueryObject(n,e)},getQueryObject:()=>{}}},pk={readBuffer:(n,e,t)=>{Ci(n)&&e(t)},getVertexAttrib:(n,e,t,i)=>{const{webgl2:r,ext:o}=function Vhe(n,e){return{webgl2:Ci(n),ext:n.getExtension(e)}}(n,D5);let s;switch(i){case 35069:s=!!r&&void 0;break;case 35070:s=r||o?void 0:0}return void 0!==s?s:e(t,i)},getProgramParameter:(n,e,t,i)=>{if(!Ci(n))switch(i){case 35967:return 35981;case 35971:case 35382:return 0}return e(t,i)},getInternalformatParameter:(n,e,t,i,r)=>Ci(n)||32937!==r?n.getInternalformatParameter(t,i,r):new Int32Array([0]),getTexParameter(n,e,t,i){if(34046===i){const{extensions:r}=n.luma,o=r.EXT_texture_filter_anisotropic;i=o&&o.TEXTURE_MAX_ANISOTROPY_EXT||34046}return e(t,i)},getParameter:function Nhe(n,e,t){const i=Phe[t],r="function"==typeof i?i(n,e,t):i;return void 0!==r?r:e(t)},hint:(n,e,t,i)=>e(t,i)};function $he(n,e){let{extension:t,target:i,target2:r}=e;const o=O5[t];ra(o);const{meta:s={}}=o,{suffix:a=""}=s,c=n.getExtension(t);for(const l of Object.keys(o)){const d="".concat(l).concat(a);let h=null;"meta"===l||"function"==typeof n[l]||(c&&"function"==typeof c[d]?h=function(){return c[d](...arguments)}:"function"==typeof o[l]&&(h=o[l].bind(i))),h&&(i[l]=h,r[l]=h)}}globalThis.polyfillContext=function zhe(n){n.luma=n.luma||{};const{luma:e}=n;return e.polyfilled||(function Che(n){if("function"==typeof n.createVertexArray)return;const e=n.getSupportedExtensions;n.getSupportedExtensions=function(){const r=e.call(this)||[];return r.indexOf("OES_vertex_array_object")<0&&r.push("OES_vertex_array_object"),r};const t=n.getExtension;n.getExtension=function(r){return t.call(this,r)||("OES_vertex_array_object"!==r?null:(n.__OESVertexArrayObject||(this.__OESVertexArrayObject=new cp(this)),this.__OESVertexArrayObject))}}(n),function Hhe(n){n.luma.extensions={};const e=n.getSupportedExtensions()||[];for(const t of e)n.luma[t]=n.getExtension(t)}(n),function Whe(n,e){for(const t of Object.getOwnPropertyNames(e))"overrides"!==t&&$he(n,{extension:t,target:n.luma,target2:n})}(n,O5),function Ghe(n,e){let{target:t,target2:i}=e;Object.keys(pk).forEach(r=>{if("function"==typeof pk[r]){const o=n[r]?n[r].bind(n):()=>{},s=pk[r].bind(null,n,o);t[r]=s,i[r]=s}})}(n,{target:e,target2:n}),e.polyfilled=!0),n};const mk={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,36006:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],3333:4,3317:4,37440:!1,37441:!1,37443:37444,35723:4352,36010:null,35977:!1,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},yh=(n,e,t)=>e?n.enable(t):n.disable(t),k5=(n,e,t)=>n.hint(t,e),ja=(n,e,t)=>n.pixelStorei(t,e);function l0(n){return Array.isArray(n)||ArrayBuffer.isView(n)}const Khe={3042:yh,32773:(n,e)=>n.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(n,e)=>n.clearColor(...e),3107:(n,e)=>n.colorMask(...e),2884:yh,2885:(n,e)=>n.cullFace(e),2929:yh,2931:(n,e)=>n.clearDepth(e),2932:(n,e)=>n.depthFunc(e),2928:(n,e)=>n.depthRange(...e),2930:(n,e)=>n.depthMask(e),3024:yh,35723:k5,36006:(n,e)=>{const t=Ci(n)?36009:36160;return n.bindFramebuffer(t,e)},2886:(n,e)=>n.frontFace(e),33170:k5,2849:(n,e)=>n.lineWidth(e),32823:yh,32824:"polygonOffset",10752:"polygonOffset",35977:yh,32938:"sampleCoverage",32939:"sampleCoverage",3089:yh,3088:(n,e)=>n.scissor(...e),2960:yh,2961:(n,e)=>n.clearStencil(e),2968:(n,e)=>n.stencilMaskSeparate(1028,e),36005:(n,e)=>n.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(n,e)=>n.viewport(...e),3333:ja,3317:ja,37440:ja,37441:ja,37443:ja,3330:ja,3332:ja,3331:ja,36010:(n,e)=>n.bindFramebuffer(36008,e),3314:ja,32878:ja,3316:ja,3315:ja,32877:ja,framebuffer:(n,e)=>n.bindFramebuffer(36160,e&&"handle"in e?e.handle:e),blend:(n,e)=>e?n.enable(3042):n.disable(3042),blendColor:(n,e)=>n.blendColor(...e),blendEquation:(n,e)=>{e=l0(e)?e:[e,e],n.blendEquationSeparate(...e)},blendFunc:(n,e)=>{e=l0(e)&&2===e.length?[...e,...e]:e,n.blendFuncSeparate(...e)},clearColor:(n,e)=>n.clearColor(...e),clearDepth:(n,e)=>n.clearDepth(e),clearStencil:(n,e)=>n.clearStencil(e),colorMask:(n,e)=>n.colorMask(...e),cull:(n,e)=>e?n.enable(2884):n.disable(2884),cullFace:(n,e)=>n.cullFace(e),depthTest:(n,e)=>e?n.enable(2929):n.disable(2929),depthFunc:(n,e)=>n.depthFunc(e),depthMask:(n,e)=>n.depthMask(e),depthRange:(n,e)=>n.depthRange(...e),dither:(n,e)=>e?n.enable(3024):n.disable(3024),derivativeHint:(n,e)=>{n.hint(35723,e)},frontFace:(n,e)=>n.frontFace(e),mipmapHint:(n,e)=>n.hint(33170,e),lineWidth:(n,e)=>n.lineWidth(e),polygonOffsetFill:(n,e)=>e?n.enable(32823):n.disable(32823),polygonOffset:(n,e)=>n.polygonOffset(...e),sampleCoverage:(n,e)=>n.sampleCoverage(...e),scissorTest:(n,e)=>e?n.enable(3089):n.disable(3089),scissor:(n,e)=>n.scissor(...e),stencilTest:(n,e)=>e?n.enable(2960):n.disable(2960),stencilMask:(n,e)=>{e=l0(e)?e:[e,e];const[t,i]=e;n.stencilMaskSeparate(1028,t),n.stencilMaskSeparate(1029,i)},stencilFunc:(n,e)=>{e=l0(e)&&3===e.length?[...e,...e]:e;const[t,i,r,o,s,a]=e;n.stencilFuncSeparate(1028,t,i,r),n.stencilFuncSeparate(1029,o,s,a)},stencilOp:(n,e)=>{e=l0(e)&&3===e.length?[...e,...e]:e;const[t,i,r,o,s,a]=e;n.stencilOpSeparate(1028,t,i,r),n.stencilOpSeparate(1029,o,s,a)},viewport:(n,e)=>n.viewport(...e)};function Qr(n,e,t){return void 0!==e[n]?e[n]:t[n]}const qhe={blendEquation:(n,e,t)=>n.blendEquationSeparate(Qr(32777,e,t),Qr(34877,e,t)),blendFunc:(n,e,t)=>n.blendFuncSeparate(Qr(32969,e,t),Qr(32968,e,t),Qr(32971,e,t),Qr(32970,e,t)),polygonOffset:(n,e,t)=>n.polygonOffset(Qr(32824,e,t),Qr(10752,e,t)),sampleCoverage:(n,e,t)=>n.sampleCoverage(Qr(32938,e,t),Qr(32939,e,t)),stencilFuncFront:(n,e,t)=>n.stencilFuncSeparate(1028,Qr(2962,e,t),Qr(2967,e,t),Qr(2963,e,t)),stencilFuncBack:(n,e,t)=>n.stencilFuncSeparate(1029,Qr(34816,e,t),Qr(36003,e,t),Qr(36004,e,t)),stencilOpFront:(n,e,t)=>n.stencilOpSeparate(1028,Qr(2964,e,t),Qr(2965,e,t),Qr(2966,e,t)),stencilOpBack:(n,e,t)=>n.stencilOpSeparate(1029,Qr(34817,e,t),Qr(34818,e,t),Qr(34819,e,t))},R5={enable:(n,e)=>n({[e]:!0}),disable:(n,e)=>n({[e]:!1}),pixelStorei:(n,e,t)=>n({[e]:t}),hint:(n,e,t)=>n({[e]:t}),bindFramebuffer:(n,e,t)=>{switch(e){case 36160:return n({36006:t,36010:t});case 36009:return n({36006:t});case 36008:return n({36010:t});default:return null}},blendColor:(n,e,t,i,r)=>n({32773:new Float32Array([e,t,i,r])}),blendEquation:(n,e)=>n({32777:e,34877:e}),blendEquationSeparate:(n,e,t)=>n({32777:e,34877:t}),blendFunc:(n,e,t)=>n({32969:e,32968:t,32971:e,32970:t}),blendFuncSeparate:(n,e,t,i,r)=>n({32969:e,32968:t,32971:i,32970:r}),clearColor:(n,e,t,i,r)=>n({3106:new Float32Array([e,t,i,r])}),clearDepth:(n,e)=>n({2931:e}),clearStencil:(n,e)=>n({2961:e}),colorMask:(n,e,t,i,r)=>n({3107:[e,t,i,r]}),cullFace:(n,e)=>n({2885:e}),depthFunc:(n,e)=>n({2932:e}),depthRange:(n,e,t)=>n({2928:new Float32Array([e,t])}),depthMask:(n,e)=>n({2930:e}),frontFace:(n,e)=>n({2886:e}),lineWidth:(n,e)=>n({2849:e}),polygonOffset:(n,e,t)=>n({32824:e,10752:t}),sampleCoverage:(n,e,t)=>n({32938:e,32939:t}),scissor:(n,e,t,i,r)=>n({3088:new Int32Array([e,t,i,r])}),stencilMask:(n,e)=>n({2968:e,36005:e}),stencilMaskSeparate:(n,e,t)=>n({[1028===e?2968:36005]:t}),stencilFunc:(n,e,t,i)=>n({2962:e,2967:t,2963:i,34816:e,36003:t,36004:i}),stencilFuncSeparate:(n,e,t,i,r)=>n({[1028===e?2962:34816]:t,[1028===e?2967:36003]:i,[1028===e?2963:36004]:r}),stencilOp:(n,e,t,i)=>n({2964:e,2965:t,2966:i,34817:e,34818:t,34819:i}),stencilOpSeparate:(n,e,t,i,r)=>n({[1028===e?2964:34817]:t,[1028===e?2965:34818]:i,[1028===e?2966:34819]:r}),viewport:(n,e,t,i,r)=>n({2978:[e,t,i,r]})},$l=(n,e)=>n.isEnabled(e),P5={3042:$l,2884:$l,2929:$l,3024:$l,32823:$l,32926:$l,32928:$l,3089:$l,2960:$l,35977:$l};function N5(n){for(const e in n)return!1;return!0}function Jhe(n,e){if(n===e)return!0;const t=Array.isArray(n)||ArrayBuffer.isView(n),i=Array.isArray(e)||ArrayBuffer.isView(e);if(t&&i&&n.length===e.length){for(let r=0;r<n.length;++r)if(n[r]!==e[r])return!1;return!0}return!1}function F5(n,e){const t=n[e].bind(n);n[e]=function(){const r=arguments.length<=0?void 0:arguments[0];return r in n.state.cache&&n.state.enable?n.state.cache[r]:t(...arguments)},Object.defineProperty(n[e],"name",{value:"".concat(e,"-from-cache"),configurable:!1})}function Zhe(n,e,t){const i=n[e].bind(n);n[e]=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const{valueChanged:c,oldValue:l}=t(n.state._updateCache,...s);return c&&i(...s),l},Object.defineProperty(n[e],"name",{value:"".concat(e,"-to-cache"),configurable:!1})}class efe{constructor(e){let{copyState:t=!1,log:i=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=t?function nfe(n,e){if("number"==typeof(e=e||mk)){const r=e,o=P5[r];return o?o(n,r):n.getParameter(r)}const t=Array.isArray(e)?e:Object.keys(e),i={};for(const r of t){const o=P5[r];i[r]=o?o(n,Number(r)):n.getParameter(Number(r))}return i}(e):Object.assign({},mk),this.log=i,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){ra(this.stateStack.length>0),nu(this.gl,this.stateStack[this.stateStack.length-1]),this.stateStack.pop()}_updateCache(e){let i,t=!1;const r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const o in e){ra(void 0!==o);const s=e[o],a=this.cache[o];Jhe(s,a)||(t=!0,i=a,r&&!(o in r)&&(r[o]=a),this.cache[o]=s)}return{valueChanged:t,oldValue:i}}}function L5(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{enable:t=!0,copyState:i}=e;if(ra(void 0!==i),!n.state){const{polyfillContext:r}=globalThis;r&&r(n),n.state=new efe(n,{copyState:i}),function Qhe(n){const e=n.useProgram.bind(n);n.useProgram=function(i){n.state.program!==i&&(e(i),n.state.program=i)}}(n);for(const o in R5)Zhe(n,o,R5[o]);F5(n,"getParameter"),F5(n,"isEnabled")}return n.state.enable=t,n}function B5(n){ra(n.state),n.state.pop()}function nu(n,e){if(ra(vC(n),"setParameters requires a WebGL context"),N5(e))return;const t={};for(const r in e){const o=Number(r),s=Khe[r];s&&("string"==typeof s?t[s]=!0:s(n,e[r],o))}const i=n.state&&n.state.cache;if(i)for(const r in t)(0,qhe[r])(n,e,i)}function mc(n,e,t){if(N5(e))return t(n);const{nocatch:i=!0}=e;let r;if(function tfe(n){n.state||L5(n,{copyState:!1}),n.state.push()}(n),nu(n,e),i)r=t(n),B5(n);else try{r=t(n)}finally{B5(n)}return r}function n_(n){const{luma:e}=n;if(n.canvas&&e){const t=e.canvasSizeInfo,i="clientWidth"in t?t.clientWidth:n.canvas.clientWidth;return i?n.drawingBufferWidth/i:1}return 1}function gk(n,e){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function ofe(n,e,t,i,r){const o=U5(n[0],e,t);let s=j5(n[1],e,i,r),a=U5(n[0]+1,e,t);const c=a===t-1?a:a-1;let l;return a=j5(n[1]+1,e,i,r),r?(a=0===a?a:a+1,l=s,s=a):l=a===i-1?a:a-1,{x:o,y:s,width:Math.max(c-o+1,1),height:Math.max(l-s+1,1)}}(e,n_(n),n.drawingBufferWidth,n.drawingBufferHeight,t)}function U5(n,e,t){return Math.min(Math.round(n*e),t-1)}function j5(n,e,t,i){return i?Math.max(0,t-1-Math.round(n*e)):Math.min(Math.round(n*e),t-1)}const _k=Gl(),sfe=_k&&typeof document<"u",V5={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function z5(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ra(_k,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils"),n=Object.assign({},V5,n);const{width:e,height:t}=n;function i(a){if(n.throwOnError)throw new Error(a);return console.error(a),null}let r;n.onError=i;const{canvas:o}=n,s=function dfe(n){let o,{canvas:e,width:t=800,height:i=600,onError:r}=n;return"string"==typeof e?(sfe&&"complete"===document.readyState||r("createGLContext called on canvas '".concat(e,"' before page was loaded")),o=document.getElementById(e)):e?o=e:(o=document.createElement("canvas"),o.id="lumagl-canvas",o.style.width=Number.isFinite(t)?"".concat(t,"px"):"100%",o.style.height=Number.isFinite(i)?"".concat(i,"px"):"100%",document.body.insertBefore(o,document.body.firstChild)),o}({canvas:o,width:e,height:t,onError:i});return r=function lfe(n,e){const{onError:t}=e;let i=null;const r=c=>i=c.statusMessage||i;n.addEventListener("webglcontextcreationerror",r,!1);const{webgl1:o=!0,webgl2:s=!0}=e;let a=null;return s&&(a=a||n.getContext("webgl2",e),a=a||n.getContext("experimental-webgl2",e)),o&&(a=a||n.getContext("webgl",e),a=a||n.getContext("experimental-webgl",e)),n.removeEventListener("webglcontextcreationerror",r,!1),a?(e.onContextLost&&n.addEventListener("webglcontextlost",e.onContextLost,!1),e.onContextRestored&&n.addEventListener("webglcontextrestored",e.onContextRestored,!1),a):t("Failed to create ".concat(s&&!o?"WebGL2":"WebGL"," context: ").concat(i||"Unknown error"))}(s,n),r?(r=bk(r,n),function ufe(n){const e=Ci(n)?"WebGL2":"WebGL1",t=function afe(n){const e=n.getParameter(7936),t=n.getParameter(7937),i=n.getExtension("WEBGL_debug_renderer_info");return{vendor:i&&n.getParameter(i.UNMASKED_VENDOR_WEBGL||7936)||e,renderer:i&&n.getParameter(i.UNMASKED_RENDERER_WEBGL||7937)||t,vendorMasked:e,rendererMasked:t,version:n.getParameter(7938),shadingLanguageVersion:n.getParameter(35724)}}(n),i=t?"(".concat(t.vendor,",").concat(t.renderer,")"):"",r=n.debug?" debug":"";Mn.info(1,"".concat(e).concat(r," context ").concat(i))()}(r),r):null}function bk(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!n||n._instrumented)return n;n._version=n._version||function hfe(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext?2:1}(n),n.luma=n.luma||{},n.luma.canvasSizeInfo=n.luma.canvasSizeInfo||{},e=Object.assign({},V5,e);const{manageState:t,debug:i}=e;return t&&L5(n,{copyState:!1,log:function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return Mn.log(1,...o)()}}),_k&&i&&(globalThis.makeDebugContext?(n=globalThis.makeDebugContext(n,e),Mn.level=Math.max(Mn.level,1)):Mn.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),n._instrumented=!0,n}function H5(){let n;if(typeof window<"u"&&window.performance)n=window.performance.now();else if(typeof process<"u"&&process.hrtime){const e=process.hrtime();n=1e3*e[0]+e[1]/1e6}else n=Date.now();return n}class G5{constructor(e,t){Me(this,"name",void 0),Me(this,"type",void 0),Me(this,"sampleSize",1),Me(this,"time",void 0),Me(this,"count",void 0),Me(this,"samples",void 0),Me(this,"lastTiming",void 0),Me(this,"lastSampleTime",void 0),Me(this,"lastSampleCount",void 0),Me(this,"_count",0),Me(this,"_time",0),Me(this,"_samples",0),Me(this,"_startTime",0),Me(this,"_timerPending",!1),this.name=e,this.type=t,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=H5(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(H5()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class yk{constructor(e){Me(this,"id",void 0),Me(this,"stats",{}),this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e){return this._getOrCreate({name:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count"})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const t in this.stats)e(this.stats[t])}getTable(){const e={};return this.forEach(t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}}),e}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(t=>this._getOrCreate(t))}_getOrCreate(e){if(!e||!e.name)return null;const{name:t,type:i}=e;return this.stats[t]||(this.stats[t]=e instanceof G5?e:new G5(t,i)),this.stats[t]}}const d0="8.5.21",lp=new class mfe{constructor(){this.stats=new Map}get(e){return this.stats.has(e)||this.stats.set(e,new yk({id:e})),this.stats.get(e)}};if(globalThis.luma&&globalThis.luma.VERSION!==d0)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(d0));function cn(n,e){if(!n)throw new Error(e||"luma.gl: assertion failed.")}function vk(n,e){if("string"!=typeof e)return e;const t=Number(e);if(!isNaN(t))return t;const i=n[e=e.replace(/^.*\./,"")];return cn(void 0!==i,"Accessing undefined constant GL.".concat(e)),i}function vh(n,e){e=Number(e);for(const t in n)if(n[t]===e)return"GL.".concat(t);return String(e)}globalThis.luma||(Gl()&&Mn.log(1,"luma.gl ".concat(d0," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:d0,version:d0,log:Mn,stats:lp,globals:{modules:{},nodeIO:{}}}),globalThis;const wk={};function Ca(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";wk[n]=wk[n]||1;const e=wk[n]++;return"".concat(n,"-").concat(e)}function W5(n){return cn("number"==typeof n,"Input must be a number"),n&&0==(n&n-1)}function i_(n){let e=!0;for(const t in n){e=!1;break}return e}function $5(n,e,t,i){const r="See luma.gl ".concat(t," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),o=Object.getPrototypeOf(n);i.forEach(s=>{o.methodName||(o[s]=()=>{throw Mn.removed("Calling removed method ".concat(e,".").concat(s,": "),r)(),new Error(s)})})}const r_="Resource subclass must define virtual methods";class iu{get[Symbol.toStringTag](){return"Resource"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};wC(e);const{id:i,userData:r={}}=t;this.gl=e,this.gl2=e,this.id=i||Ca(this[Symbol.toStringTag]),this.userData=r,this._bound=!1,this._handle=t.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}get handle(){return this._handle}delete(){let{deleteChildren:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,t&&e&&t.filter(Boolean).forEach(i=>i.delete()),this}bind(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!=typeof e?(this._bindHandle(e),this):(this._bound?t=e():(this._bindHandle(this.handle),this._bound=!0,t=e(),this._bound=!1,this._bindHandle(null)),t)}unbind(){this.bind(null)}getParameter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};cn(e=vk(this.gl,e));const r=(this.constructor.PARAMETERS||{})[e];if(r){const o=Ci(this.gl);if("webgl2"in r&&!o||"extension"in r&&!this.gl.getExtension(r.extension))return o&&"webgl2"in r?r.webgl2:r.webgl1}return this._getParameter(e,t)}getParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{parameters:t,keys:i}=e,r=this.constructor.PARAMETERS||{},o=Ci(this.gl),s={},a=t||Object.keys(r);for(const c of a){const l=r[c];if(l&&(!("webgl2"in l)||o)&&(!("extension"in l)||this.gl.getExtension(l.extension))){const h=i?vh(this.gl,c):c;s[h]=this.getParameter(c,e),i&&"GLenum"===l.type&&(s[h]=vh(this.gl,s[h]))}}return s}setParameter(e,t){cn(e=vk(this.gl,e));const r=(this.constructor.PARAMETERS||{})[e];if(r){const o=Ci(this.gl);if("webgl2"in r&&!o||"extension"in r&&!this.gl.getExtension(r.extension))throw new Error("Parameter not available on this platform");"GLenum"===r.type&&(t=vk(t))}return this._setParameter(e,t),this}setParameters(e){for(const t in e)this.setParameter(t,e[t]);return this}stubRemovedMethods(e,t,i){return $5(this,e,t,i)}initialize(e){}_createHandle(){throw new Error(r_)}_deleteHandle(){throw new Error(r_)}_bindHandle(e){throw new Error(r_)}_getOptsFromHandle(){throw new Error(r_)}_getParameter(e,t){throw new Error(r_)}_setParameter(e,t){throw new Error(r_)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_addStats(){const e=this[Symbol.toStringTag],t=lp.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get("".concat(e,"s Created")).incrementCount(),t.get("".concat(e,"s Active")).incrementCount()}_removeStats(){const e=this[Symbol.toStringTag];lp.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}_trackAllocatedMemory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(e,t),this._trackAllocatedMemoryForContext(e,t,this.gl.canvas&&this.gl.canvas.id),this.byteLength=e}_trackAllocatedMemoryForContext(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];const r=lp.get("Memory Usage".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""));r.get("GPU Memory").addCount(e),r.get("".concat(t," Memory")).addCount(e)}_trackDeallocatedMemory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(e),this._trackDeallocatedMemoryForContext(e,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}_trackDeallocatedMemoryForContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];const i=lp.get("Memory Usage".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:""));i.get("GPU Memory").subtractCount(this.byteLength),i.get("".concat(e," Memory")).subtractCount(this.byteLength)}}const gfe="Failed to deduce GL constant from typed array";function xk(n){switch(ArrayBuffer.isView(n)?n.constructor:n){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(gfe)}}function u0(n){let{clamped:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return e?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function bfe(n){let{data:e,width:t,height:i}=n;const r=Math.round(t/2),o=Math.round(i/2),s=new Uint8Array(r*o*4);for(let a=0;a<o;a++)for(let c=0;c<r;c++)for(let l=0;l<4;l++)s[4*(a*r+c)+l]=e[4*(2*a*t+2*c)+l];return{data:s,width:r,height:o}}function Ek(n,e,t){const{removedProps:i={},deprecatedProps:r={},replacedProps:o={}}=t;for(const a in i)if(a in e){const l=i[a]?"".concat(n,".").concat(i[a]):"N/A";Mn.removed("".concat(n,".").concat(a),l)()}for(const a in r)if(a in e){const c=r[a];Mn.deprecated("".concat(n,".").concat(a),"".concat(n,".").concat(c))()}let s=null;for(const a in o)if(a in e){const c=o[a];Mn.deprecated("".concat(n,".").concat(a),"".concat(n,".").concat(c))(),s=s||Object.assign({},e),s[c]=e[a],delete s[a]}return s||e}const yfe={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},vfe={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class Sa{static getBytesPerElement(e){return u0(e.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(e){return cn(e.size),u0(e.type||5126).BYTES_PER_ELEMENT*e.size}static resolve(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return new Sa(yfe,...t)}constructor(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(r=>this._assign(r)),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return Sa.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return Sa.getBytesPerVertex(this)}_assign(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=Ek("Accessor",e,vfe),void 0!==e.type&&(this.type=e.type,(5124===e.type||5125===e.type)&&(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&(this.index="boolean"==typeof e.index?e.index?1:0:e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}}const X5={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},wfe={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:X5},xfe={removedProps:X5};class cr extends iu{get[Symbol.toStringTag](){return"Buffer"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=t.target||(this.gl.webgl2?36662:34962),this.initialize(t),Object.seal(this)}getElementCount(){return Math.round(this.byteLength/Sa.getBytesPerElement(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor))}getVertexCount(){return Math.round(this.byteLength/Sa.getBytesPerVertex(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor))}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=Ek("Buffer",e,wfe),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}setProps(e){return"accessor"in(e=Ek("Buffer",e,xfe))&&this.setAccessor(e.accessor),this}setAccessor(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new Sa(e),this}reallocate(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}setData(e){return this.initialize(e)}subData(e){ArrayBuffer.isView(e)&&(e={data:e});const{data:t,offset:i=0,srcOffset:r=0}=e,o=e.byteLength||e.length;cn(t);const s=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(s,this.handle),0!==r||void 0!==o?(Rs(this.gl),this.gl.bufferSubData(this.target,i,t,r,o)):this.gl.bufferSubData(s,i,t),this.gl.bindBuffer(s,null),this.debugData=null,this._inferType(t),this}copyData(e){let{sourceBuffer:t,readOffset:i=0,writeOffset:r=0,size:o}=e;const{gl:s}=this;return Rs(s),s.bindBuffer(36662,t.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,i,r,o),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}getData(){let{dstData:e=null,srcByteOffset:t=0,dstOffset:i=0,length:r=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Rs(this.gl);const o=u0(this.accessor.type||5126,{clamped:!1}),s=this._getAvailableElementCount(t),a=i;let c,l;e?(l=e.length,c=l-a):(c=Math.min(s,r||s),l=a+c);const d=Math.min(s,c);return r=r||d,cn(r<=d),e=e||new o(l),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,t,e,i,r),this.gl.bindBuffer(36662,null),e}bind(){let{target:e=this.target,index:t=this.accessor&&this.accessor.index,offset:i=0,size:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===e||35982===e?void 0!==r?this.gl.bindBufferRange(e,t,this.handle,i,r):(cn(0===i),this.gl.bindBufferBase(e,t,this.handle)):this.gl.bindBuffer(e,this.handle),this}unbind(){let{target:e=this.target,index:t=this.accessor&&this.accessor.index}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===e||35982===e?this.gl.bindBufferBase(e,t,null):this.gl.bindBuffer(e,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength+t;cn(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();const r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,i,this.usage),this.gl.bufferSubData(r,t,e),this.gl.bindBuffer(r,null),this.debugData=e.slice(0,10),this.bytesUsed=i,this._trackAllocatedMemory(i);const o=xk(e);return cn(o),this.setAccessor(new Sa(this.accessor,{type:o})),this}_setByteLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;cn(e>=0),this._trackDeallocatedMemory();let i=e;0===e&&(i=new Float32Array(0));const r=this._getTarget();return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,i,t),this.gl.bindBuffer(r,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(e){const i=e/u0(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-i}_inferType(e){this.accessor.type||this.setAccessor(new Sa(this.accessor,{type:xk(e)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(e){this.gl.bindBuffer(this.target,this.handle);const t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}get type(){return Mn.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return Mn.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(e){return Mn.deprecated("setByteLength","reallocate")(),this.reallocate(e)}updateAccessor(e){return Mn.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new Sa(this.accessor,e),this}}const Ck={6407:{dataFormat:6407,types:[5121,33635]},6408:{dataFormat:6408,types:[5121,32819,32820]},6406:{dataFormat:6406,types:[5121]},6409:{dataFormat:6409,types:[5121]},6410:{dataFormat:6410,types:[5121]},33326:{dataFormat:6403,types:[5126],gl2:!0},33328:{dataFormat:33319,types:[5126],gl2:!0},34837:{dataFormat:6407,types:[5126],gl2:!0},34836:{dataFormat:6408,types:[5126],gl2:!0}},K5={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},q5={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1},Sfe=[9729,9728],J5=globalThis.WebGLBuffer||function(){};class dp extends iu{get[Symbol.toStringTag](){return"Texture"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{format:i,linearFiltering:r}=t;let o=!0;return i&&(o=o&&function Efe(n,e){const t=Ck[e];if(!t)return!1;if(void 0===t.gl1&&void 0===t.gl2)return!0;const i=Ci(n)&&t.gl2||t.gl1;return"string"==typeof i?n.getExtension(i):i}(e,i),o=o&&(!r||function Cfe(n,e){const t=Ck[e];switch(t&&t.types[0]){case 5126:return n.getExtension("OES_texture_float_linear");case 5131:return n.getExtension("OES_texture_half_float_linear");default:return!0}}(e,i))),o}constructor(e,t){const{id:i=Ca("texture"),handle:r,target:o}=t;super(e,{id:i,handle:r}),this.target=o,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data;if(t instanceof Promise)return t.then(Q=>this.initialize(Object.assign({},e,{pixels:Q,data:Q}))),this;const i=typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement;if(i&&t.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,t.addEventListener("loadeddata",()=>this.initialize(e)),this;const{pixels:r=null,format:o=6408,border:s=0,recreate:a=!1,parameters:c={},pixelStore:l={},textureUnit:d}=e;t||(t=r);let{width:h,height:p,dataFormat:_,type:w,compressed:I=!1,mipmaps:L=!0}=e;const{depth:K=0}=e;return({width:h,height:p,compressed:I,dataFormat:_,type:w}=this._deduceParameters({format:o,type:w,dataFormat:_,compressed:I,data:t,width:h,height:p})),this.width=h,this.height=p,this.depth=K,this.format=o,this.type=w,this.dataFormat=_,this.border=s,this.textureUnit=d,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),L&&this._isNPOT()&&(Mn.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),L=!1,this._updateForNPOT(c)),this.mipmaps=L,this.setImageData({data:t,width:h,height:p,depth:K,format:o,type:w,dataFormat:_,border:s,mipmaps:L,parameters:l,compressed:I}),L&&this.generateMipmap(),this.setParameters(c),a&&(this.data=t),i&&(this._video={video:t,parameters:c,lastTime:t.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?t.currentTime:-1}),this}update(){if(this._video){const{video:e,parameters:t,lastTime:i}=this._video;if(i===e.currentTime||e.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:e,parameters:t}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=e.currentTime}}resize(e){let{height:t,width:i,mipmaps:r=!1}=e;return i!==this.width||t!==this.height?this.initialize({width:i,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:r}):this}generateMipmap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(Mn.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),mc(this.gl,e,()=>{this.gl.generateMipmap(this.target)}),this.gl.bindTexture(this.target,null),this)}setImageData(e){this._trackDeallocatedMemory("Texture");const{target:t=this.target,pixels:i=null,level:r=0,format:o=this.format,border:s=this.border,offset:a=0,parameters:c={}}=e;let{data:l=null,type:d=this.type,width:h=this.width,height:p=this.height,dataFormat:_=this.dataFormat,compressed:w=!1}=e;l||(l=i),({type:d,dataFormat:_,compressed:w,width:h,height:p}=this._deduceParameters({format:o,type:d,dataFormat:_,compressed:w,data:l,width:h,height:p}));const{gl:I}=this;I.bindTexture(this.target,this.handle);let L=null;({data:l,dataType:L}=this._getDataType({data:l,compressed:w}));let K,Q=0;return mc(this.gl,c,()=>{switch(L){case"null":I.texImage2D(t,r,o,h,p,s,_,d,l);break;case"typed-array":I.texImage2D(t,r,o,h,p,s,_,d,l,a);break;case"buffer":K=Rs(I),K.bindBuffer(35052,l.handle||l),K.texImage2D(t,r,o,h,p,s,_,d,a),K.bindBuffer(35052,null);break;case"browser-object":Ci(I)?I.texImage2D(t,r,o,h,p,s,_,d,l):I.texImage2D(t,r,o,_,d,l);break;case"compressed":for(const[me,Pe]of l.entries())I.compressedTexImage2D(t,me,Pe.format,Pe.width,Pe.height,s,Pe.data),Q+=Pe.levelSize;break;default:cn(!1,"Unknown image data type")}}),this._trackAllocatedMemory("compressed"===L?Q:l&&l.byteLength?l.byteLength:this.width*this.height*(K5[this.dataFormat]||4)*(q5[this.type]||1),"Texture"),this.loaded=!0,this}setSubImageData(e){let{target:t=this.target,pixels:i=null,data:r=null,x:o=0,y:s=0,width:a=this.width,height:c=this.height,level:l=0,format:d=this.format,type:h=this.type,dataFormat:p=this.dataFormat,compressed:_=!1,offset:w=0,border:I=this.border,parameters:L={}}=e;if(({type:h,dataFormat:p,compressed:_,width:a,height:c}=this._deduceParameters({format:d,type:h,dataFormat:p,compressed:_,data:r,width:a,height:c})),cn(0===this.depth,"texSubImage not supported for 3D textures"),r||(r=i),r&&r.data){const K=r;r=K.data,a=K.shape[0],c=K.shape[1]}r instanceof cr&&(r=r.handle),this.gl.bindTexture(this.target,this.handle),mc(this.gl,L,()=>{if(_)this.gl.compressedTexSubImage2D(t,l,o,s,a,c,d,r);else if(null===r)this.gl.texSubImage2D(t,l,o,s,a,c,p,h,null);else if(ArrayBuffer.isView(r))this.gl.texSubImage2D(t,l,o,s,a,c,p,h,r,w);else if(r instanceof J5){const K=Rs(this.gl);K.bindBuffer(35052,r),K.texSubImage2D(t,l,o,s,a,c,p,h,w),K.bindBuffer(35052,null)}else Ci(this.gl)?Rs(this.gl).texSubImage2D(t,l,o,s,a,c,p,h,r):this.gl.texSubImage2D(t,l,o,s,p,h,r)}),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return Mn.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}unbind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}_getDataType(e){let{data:t,compressed:i=!1}=e;return i?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof cr?{data:t.handle,dataType:"buffer"}:t instanceof J5?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}_deduceParameters(e){const{format:t,data:i}=e;let{width:r,height:o,dataFormat:s,type:a,compressed:c}=e;const l=Ck[t];return s=s||l&&l.dataFormat,a=a||l&&l.types[0],c=c||l&&l.compressed,({width:r,height:o}=this._deduceImageSize(i,r,o)),{dataFormat:s,type:a,compressed:c,width:r,height:o,format:t,data:i}}_deduceImageSize(e,t,i){let r;return r=typeof ImageData<"u"&&e instanceof ImageData?{width:e.width,height:e.height}:typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?{width:e.width,height:e.height}:typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:i}:{width:t>=0?t:1,height:i>=0?i:1},cn(r,"Could not deduced texture size"),cn(void 0===t||r.width===t,"Deduced texture width does not match supplied width"),cn(void 0===i||r.height===i,"Deduced texture height does not match supplied height"),r}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}_setParameter(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:cn(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return!(Ci(this.gl)||!this.width||!this.height||W5(this.width)&&W5(this.height))}_updateForNPOT(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam(e,t){if(this._isNPOT())switch(e){case 10241:-1===Sfe.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}function Afe(n,e){return cn("string"==typeof n),n=""+n,new Promise((t,i)=>{try{const r=new Image;r.onload=()=>t(r),r.onerror=()=>i(new Error("Could not load image ".concat(n,"."))),r.crossOrigin=e&&e.crossOrigin||"anonymous",r.src=n}catch(r){i(r)}})}class ls extends dp{get[Symbol.toStringTag](){return"Texture2D"}static isSupported(e,t){return dp.isSupported(e,t)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};wC(e),(t instanceof Promise||"string"==typeof t)&&(t={data:t}),"string"==typeof t.data&&(t=Object.assign({},t,{data:Afe(t.data)})),super(e,Object.assign({},t,{target:3553})),this.initialize(t),Object.seal(this)}}const up="EXT_color_buffer_float",Z5={33189:{bpp:2},33190:{gl2:!0,bpp:3},36012:{gl2:!0,bpp:4},36168:{bpp:1},34041:{bpp:4},35056:{gl2:!0,bpp:4},36013:{gl2:!0,bpp:5},32854:{bpp:2},36194:{bpp:2},32855:{bpp:2},33321:{gl2:!0,bpp:1},33330:{gl2:!0,bpp:1},33329:{gl2:!0,bpp:1},33332:{gl2:!0,bpp:2},33331:{gl2:!0,bpp:2},33334:{gl2:!0,bpp:4},33333:{gl2:!0,bpp:4},33323:{gl2:!0,bpp:2},33336:{gl2:!0,bpp:2},33335:{gl2:!0,bpp:2},33338:{gl2:!0,bpp:4},33337:{gl2:!0,bpp:4},33340:{gl2:!0,bpp:8},33339:{gl2:!0,bpp:8},32849:{gl2:!0,bpp:3},32856:{gl2:!0,bpp:4},32857:{gl2:!0,bpp:4},36220:{gl2:!0,bpp:4},36238:{gl2:!0,bpp:4},36975:{gl2:!0,bpp:4},36214:{gl2:!0,bpp:8},36232:{gl2:!0,bpp:8},36226:{gl2:!0,bpp:16},36208:{gl2:!0,bpp:16},33325:{gl2:up,bpp:2},33327:{gl2:up,bpp:4},34842:{gl2:up,bpp:8},33326:{gl2:up,bpp:4},33328:{gl2:up,bpp:8},34836:{gl2:up,bpp:16},35898:{gl2:up,bpp:4}};class o_ extends iu{get[Symbol.toStringTag](){return"Renderbuffer"}static isSupported(e){let{format:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null};return!t||function Mfe(n,e,t){const i=t[e];if(!i)return!1;const r=Ci(n)&&i.gl2||i.gl1;return"string"==typeof r?n.getExtension(r):r}(e,t,Z5)}static getSamplesForFormat(e,t){let{format:i}=t;return e.getInternalformatParameter(36161,i,32937)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.initialize(t),Object.seal(this)}initialize(e){let{format:t,width:i=1,height:r=1,samples:o=0}=e;return cn(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==o&&Ci(this.gl)?this.gl.renderbufferStorageMultisample(36161,o,t,i,r):this.gl.renderbufferStorage(36161,t,i,r),this.format=t,this.width=i,this.height=r,this.samples=o,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*Z5[this.format].bpp),this}resize(e){let{width:t,height:i}=e;return t!==this.width||i!==this.height?this.initialize({width:t,height:i,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(e){this.gl.bindRenderbuffer(36161,e)}_syncHandle(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}const Q5=6144,i6="clear: bad arguments";function Ak(n){let{framebuffer:e=null,color:t=null,depth:i=null,stencil:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o={};e&&(o.framebuffer=e);let s=0;t&&(s|=16384,!0!==t&&(o.clearColor=t)),i&&(s|=256,!0!==i&&(o.clearDepth=i)),r&&(s|=1024,!0!==i&&(o.clearStencil=i)),cn(0!==s,i6),mc(n,o,()=>{n.clear(s)})}const Mk=[34069,34070,34071,34072,34073,34074];let Rfe=(()=>{class n extends dp{get[Symbol.toStringTag](){return"TextureCube"}constructor(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};wC(t),super(t,Object.assign({},i,{target:34067})),this.initialize(i),Object.seal(this)}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mipmaps:i=!0,parameters:r={}}=t;return this.opts=t,this.setCubeMapImageData(t).then(()=>{this.loaded=!0,i&&this.generateMipmap(t),this.setParameters(r)}),this}subImage(t){let{face:i,data:r,x:o=0,y:s=0,mipmapLevel:a=0}=t;return this._subImage({target:i,data:r,x:o,y:s,mipmapLevel:a})}setCubeMapImageData(t){var i=this;return _n(function*(){let{width:r,height:o,pixels:s,data:a,border:c=0,format:l=6408,type:d=5121}=t;const{gl:h}=i,p=s||a,_=yield Promise.all(Mk.map(w=>{const I=p[w];return Promise.all(Array.isArray(I)?I:[I])}));i.bind(),Mk.forEach((w,I)=>{_[I].length>1&&!1!==i.opts.mipmaps&&Mn.warn("".concat(i.id," has mipmap and multiple LODs."))(),_[I].forEach((L,K)=>{r&&o?h.texImage2D(w,K,l,r,o,c,l,d,L):h.texImage2D(w,K,l,l,d,L)})}),i.unbind()})()}setImageDataForFace(t){const{face:i,width:r,height:o,pixels:s,data:a,border:c=0,format:l=6408,type:d=5121}=t,{gl:h}=this,p=s||a;return this.bind(),p instanceof Promise?p.then(_=>this.setImageDataForFace(Object.assign({},t,{face:i,data:_,pixels:_}))):this.width||this.height?h.texImage2D(i,0,l,r,o,c,l,d,p):h.texImage2D(i,0,l,l,d,p),this}}return n.FACES=Mk,n})();class Pfe extends dp{get[Symbol.toStringTag](){return"Texture3D"}static isSupported(e){return Ci(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Rs(e),t=Object.assign({depth:1},t,{target:32879,unpackFlipY:!1}),super(e,t),this.initialize(t),Object.seal(this)}setImageData(e){let{level:t=0,dataFormat:i=6408,width:r,height:o,depth:s=1,border:a=0,format:c,type:l=5121,offset:d=0,data:h,parameters:p={}}=e;return this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),mc(this.gl,p,()=>{ArrayBuffer.isView(h)&&this.gl.texImage3D(this.target,t,i,r,o,s,a,c,l,h),h instanceof cr&&(this.gl.bindBuffer(35052,h.handle),this.gl.texImage3D(this.target,t,i,r,o,s,a,c,l,d))}),this._trackAllocatedMemory(h&&h.byteLength?h.byteLength:this.width*this.height*this.depth*(K5[this.dataFormat]||4)*(q5[this.type]||1),"Texture"),this.loaded=!0,this}}function Ffe(n,e){const{gl:t,width:i,height:r,id:o}=n;return new vo(t,Object.assign({},e,{id:"framebuffer-for-".concat(o),width:i,height:r,attachments:{36064:n}}))}function xC(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sourceX:t=0,sourceY:i=0,sourceFormat:r=6408}=e;let{sourceAttachment:o=36064,target:s=null,sourceWidth:a,sourceHeight:c,sourceType:l}=e;const{framebuffer:d,deleteFramebuffer:h}=h0(n);cn(d);const{gl:p,handle:_,attachments:w}=d;a=a||d.width,c=c||d.height,36064===o&&null===_&&(o=1028),cn(w[o]),l=l||w[o].type,s=function Bfe(n,e,t,i,r){if(n)return n;const o=u0(e=e||5121,{clamped:!1}),s=function kfe(n){switch(n){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return cn(!1),0}}(t);return new o(i*r*s)}(s,l,r,a,c),l=l||xk(s);const I=p.bindFramebuffer(36160,_);return p.readPixels(t,i,a,c,r,l,s),p.bindFramebuffer(36160,I||null),h&&d.delete(),s}function Tk(n){let{sourceAttachment:e=36064,targetMaxHeight:t=Number.MAX_SAFE_INTEGER}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=xC(n,{sourceAttachment:e}),{width:r,height:o}=n;for(;o>t;)({data:i,width:r,height:o}=bfe({data:i,width:r,height:o}));!function _fe(n){let{data:e,width:t,height:i,bytesPerPixel:r=4,temp:o}=n;const s=t*r;o=o||new Uint8Array(s);for(let a=0;a<i/2;++a){const c=a*s,l=(i-a-1)*s;o.set(e.subarray(c,c+s)),e.copyWithin(c,l,l+s),e.set(o,l)}}({data:i,width:r,height:o});const s=document.createElement("canvas");s.width=r,s.height=o;const a=s.getContext("2d"),c=a.createImageData(r,o);return c.data.set(i),a.putImageData(c,0,0),s.toDataURL()}function h0(n){return n instanceof vo?{framebuffer:n,deleteFramebuffer:!1}:{framebuffer:Ffe(n),deleteFramebuffer:!0}}const r6="Multiple render targets not supported";class vo extends iu{get[Symbol.toStringTag](){return"Framebuffer"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{colorBufferFloat:i,colorBufferHalfFloat:r}=t;let o=!0;return i&&(o=!!(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),r&&(o=o&&!(!e.getExtension("EXT_color_buffer_float")&&!e.getExtension("EXT_color_buffer_half_float"))),o}static getDefaultFramebuffer(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new vo(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const e=Rs(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const e=Rs(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(t),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize(e){let{width:t=1,height:i=1,attachments:r=null,color:o=!0,depth:s=!0,stencil:a=!1,check:c=!0,readBuffer:l,drawBuffers:d}=e;if(cn(t>=0&&i>=0,"Width and height need to be integers"),this.width=t,this.height=i,r)for(const h in r){const p=r[h];(Array.isArray(p)?p[0]:p).resize({width:t,height:i})}else r=this._createDefaultAttachments(o,s,a,t,i);this.update({clearAttachments:!0,attachments:r,readBuffer:l,drawBuffers:d}),r&&c&&this.checkStatus()}delete(){for(const e of this.ownResources)e.delete();return super.delete(),this}update(e){let{attachments:t={},readBuffer:i,drawBuffers:r,clearAttachments:o=!1,resizeAttachments:s=!0}=e;this.attach(t,{clearAttachments:o,resizeAttachments:s});const{gl:a}=this,c=a.bindFramebuffer(36160,this.handle);return i&&this._setReadBuffer(i),r&&this._setDrawBuffers(r),a.bindFramebuffer(36160,c||null),this}resize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{width:t,height:i}=e;if(null===this.handle)return cn(void 0===t&&void 0===i),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;void 0===t&&(t=this.gl.drawingBufferWidth),void 0===i&&(i=this.gl.drawingBufferHeight),t!==this.width&&i!==this.height&&Mn.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(i))();for(const r in this.attachments)this.attachments[r].resize({width:t,height:i});return this.width=t,this.height=i,this}attach(e){let{clearAttachments:t=!1,resizeAttachments:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={};t&&Object.keys(this.attachments).forEach(s=>{r[s]=null}),Object.assign(r,e);const o=this.gl.bindFramebuffer(36160,this.handle);for(const s in r){cn(void 0!==s,"Misspelled framebuffer binding point?");const a=Number(s),c=r[a];let l=c;if(l)if(l instanceof o_)this._attachRenderbuffer({attachment:a,renderbuffer:l});else if(Array.isArray(c)){const[d,h=0,p=0]=c;l=d,this._attachTexture({attachment:a,texture:d,layer:h,level:p})}else this._attachTexture({attachment:a,texture:l,layer:0,level:0});else this._unattach(a);i&&l&&l.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,o||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter(s=>!this.attachments[s]).forEach(s=>{delete this.attachments[s]})}checkStatus(){const t=this.getStatus();if(36053!==t)throw new Error(function jfe(n){return(vo.STATUS||{})[n]||"Framebuffer error ".concat(n)}(t));return this}getStatus(){const{gl:e}=this,t=e.bindFramebuffer(36160,this.handle),i=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),i}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:t,depth:i,stencil:r,drawBuffers:o=[]}=e,s=this.gl.bindFramebuffer(36160,this.handle);return(t||i||r)&&Ak(this.gl,{color:t,depth:i,stencil:r}),o.forEach((a,c)=>{!function Ofe(n){let{framebuffer:e=null,buffer:t=Q5,drawBuffer:i=0,value:r=[0,0,0,0]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Rs(n),mc(n,{framebuffer:e},()=>{switch(t){case Q5:switch(r.constructor){case Int32Array:n.clearBufferiv(t,i,r);break;case Uint32Array:n.clearBufferuiv(t,i,r);break;case Float32Array:default:n.clearBufferfv(t,i,r)}break;case 6145:n.clearBufferfv(6145,0,[r]);break;case 6146:n.clearBufferiv(6146,0,[r]);break;case 34041:const[o,s]=r;n.clearBufferfi(34041,0,o,s);break;default:cn(!1,i6)}})}(this.gl,{drawBuffer:c,value:a})}),this.gl.bindFramebuffer(36160,s||null),this}readPixels(){return Mn.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(){return Mn.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(){return Mn.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(){return Mn.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(){return Mn.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(){return Mn.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate(e){let{attachments:t=[],x:i=0,y:r=0,width:o,height:s}=e;const a=Rs(this.gl),c=a.bindFramebuffer(36008,this.handle);return 0===i&&0===r&&void 0===o&&void 0===s?a.invalidateFramebuffer(36008,t):a.invalidateFramebuffer(36008,t,i,r,o,s),a.bindFramebuffer(36008,c),this}getAttachmentParameter(e,t,i){let r=this._getAttachmentParameterFallback(t);return null===r&&(this.gl.bindFramebuffer(36160,this.handle),r=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),i&&r>1e3&&(r=vh(this.gl,r)),r}getAttachmentParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[];const r={};for(const o of i)r[t?vh(this.gl,o):o]=this.getAttachmentParameter(e,o,t);return r}getParameters(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=Object.keys(this.attachments),i={};for(const r of t){const o=Number(r);i[e?vh(this.gl,o):o]=this.getAttachmentParameters(o,e)}return i}show(){return typeof window<"u"&&window.open(Tk(this),"luma-debug-texture"),this}log(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>Mn.level||typeof window>"u")return this;t=t||"Framebuffer ".concat(this.id);const i=Tk(this,{targetMaxHeight:100});return Mn.image({logLevel:e,message:t,image:i},t)(),this}bind(){let{target:e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(e,this.handle),this}unbind(){let{target:e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(e,null),this}_createDefaultAttachments(e,t,i,r,o){let s=null;return e&&(s=s||{},s[36064]=new ls(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:r,height:o,mipmaps:!1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.ownResources.push(s[36064])),t&&i?(s=s||{},s[33306]=new o_(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:r,height:111}),this.ownResources.push(s[33306])):t?(s=s||{},s[36096]=new o_(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:r,height:o}),this.ownResources.push(s[36096])):i&&cn(!1),s}_unattach(e){const t=this.attachments[e];t&&(t instanceof o_?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}_attachRenderbuffer(e){let{attachment:t=36064,renderbuffer:i}=e;const{gl:r}=this;r.framebufferRenderbuffer(36160,t,36161,i.handle),this.attachments[t]=i}_attachTexture(e){let{attachment:t=36064,texture:i,layer:r,level:o}=e;const{gl:s}=this;switch(s.bindTexture(i.target,i.handle),i.target){case 35866:case 32879:Rs(s).framebufferTextureLayer(36160,t,i.target,o,r);break;case 34067:const c=function Ufe(n){return n<34069?n+34069:n}(r);s.framebufferTexture2D(36160,t,c,i.handle,o);break;case 3553:s.framebufferTexture2D(36160,t,3553,i.handle,o);break;default:cn(!1,"Illegal texture type")}s.bindTexture(i.target,null),this.attachments[t]=i}_setReadBuffer(e){const t=function yhe(n){return Ci(n)?n:null}(this.gl);t?t.readBuffer(e):cn(36064===e||1029===e,r6),this.readBuffer=e}_setDrawBuffers(e){const{gl:t}=this,i=Rs(t);if(i)i.drawBuffers(e);else{const r=t.getExtension("WEBGL_draw_buffers");r?r.drawBuffersWEBGL(e):cn(1===e.length&&(36064===e[0]||1029===e[0]),r6)}this.drawBuffers=e}_getAttachmentParameterFallback(e){const t=function Gfe(n){n.luma=n.luma||{},n.luma.caps=n.luma.caps||{};for(const e in o6)void 0===n.luma.caps[e]&&(n.luma.caps[e]=a6(n,e));return n.luma.caps}(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(e){return this.gl.bindFramebuffer(36160,e)}}vo.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303];const o6={WEBGL2:[!1,!0],VERTEX_ARRAY_OBJECT:["OES_vertex_array_object",!0],TIMER_QUERY:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],INSTANCED_RENDERING:["ANGLE_instanced_arrays",!0],MULTIPLE_RENDER_TARGETS:["WEBGL_draw_buffers",!0],ELEMENT_INDEX_UINT32:["OES_element_index_uint",!0],BLEND_EQUATION_MINMAX:["EXT_blend_minmax",!0],FLOAT_BLEND:["EXT_float_blend"],COLOR_ENCODING_SRGB:["EXT_sRGB",!0],TEXTURE_DEPTH:["WEBGL_depth_texture",!0],TEXTURE_FLOAT:["OES_texture_float",!0],TEXTURE_HALF_FLOAT:["OES_texture_half_float",!0],TEXTURE_FILTER_LINEAR_FLOAT:["OES_texture_float_linear"],TEXTURE_FILTER_LINEAR_HALF_FLOAT:["OES_texture_half_float_linear"],TEXTURE_FILTER_ANISOTROPIC:["EXT_texture_filter_anisotropic"],COLOR_ATTACHMENT_RGBA32F:[function zfe(n){const e=new ls(n,{format:6408,type:5126,dataFormat:6408}),t=new vo(n,{id:"test-framebuffer",check:!1,attachments:{36064:e}}),i=t.getStatus();return e.delete(),t.delete(),36053===i},"EXT_color_buffer_float"],COLOR_ATTACHMENT_FLOAT:[!1,"EXT_color_buffer_float"],COLOR_ATTACHMENT_HALF_FLOAT:["EXT_color_buffer_half_float"],GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},Hfe=2;function Ik(n,e){return s6(n,e)}function s6(n,e){return(e=Array.isArray(e)?e:[e]).every(t=>a6(n,t))}function a6(n,e){return n.luma=n.luma||{},n.luma.caps=n.luma.caps||{},void 0===n.luma.caps[e]&&(n.luma.caps[e]=function Wfe(n,e){const t=o6[e];let i;cn(t,e);const r=Ci(n)&&t[1]||t[0];if("function"==typeof r)i=r(n);else if(Array.isArray(r)){i=!0;for(const o of r)i=i&&!!n.getExtension(o)}else"string"==typeof r?i=!!n.getExtension(r):"boolean"==typeof r?i=r:cn(!1);return i}(n,e)),n.luma.caps[e]||Mn.log(Hfe,"Feature: ".concat(e," not supported"))(),n.luma.caps[e]}class Dk{constructor(e,t){Me(this,"opts",void 0),Me(this,"source",void 0),this.opts=t,this.source=e}get value(){return this.source.value}getValue(){const e=this.source.getBuffer(),t=this.getAccessor();if(e)return[e,t];const{value:i}=this.source,{size:r}=t;let o=i;if(i&&i.length!==r){o=new Float32Array(r);const s=t.elementOffset||0;for(let a=0;a<r;++a)o[a]=i[s+a]}return o}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}const f0=new class Yfe{constructor(e={}){Me(this,"_pool",[]),Me(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,t,{size:i=1,type:r,padding:o=0,copy:s=!1,initialize:a=!1,maxCount:c}){const l=r||e&&e.constructor||Float32Array,d=t*i+o;if(ArrayBuffer.isView(e)){if(d<=e.length)return e;if(d*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new l(e.buffer,0,d)}let h=1/0;c&&(h=c*i+o);const p=this._allocate(l,d,a,h);return e&&s?p.set(e):a||p.fill(0,0,4),this._release(e),p}release(e){this._release(e)}_allocate(e,t,i,r){let o=Math.max(Math.ceil(t*this.opts.overAlloc),1);o>r&&(o=r);const s=this._pool,a=e.BYTES_PER_ELEMENT*o,c=s.findIndex(l=>l.byteLength>=a);if(c>=0){const l=new e(s.splice(c,1)[0],0,o);return i&&l.fill(0),l}return new e(o)}_release(e){if(!ArrayBuffer.isView(e))return;const t=this._pool,{buffer:i}=e,{byteLength:r}=i,o=t.findIndex(s=>s.byteLength>=r);o<0?t.push(i):(o>0||t.length<this.opts.poolSize)&&t.splice(o,0,i),t.length>this.opts.poolSize&&t.shift()}},Kfe=(Math,1/180*Math.PI),lo={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function qfe(n,{precision:e=lo.precision}={}){return n=function epe(n){return Math.round(n/lo.EPSILON)*lo.EPSILON}(n),"".concat(parseFloat(n.toPrecision(e)))}function ru(n){return Array.isArray(n)||ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Yr(n){return function Jfe(n,e){return ou(n,t=>t*Kfe,e)}(n)}function ds(n,e,t){return ou(n,i=>Math.max(e,Math.min(t,i)))}function EC(n,e,t){return ru(n)?n.map((i,r)=>EC(i,e[r],t)):t*e+(1-t)*n}function s_(n,e,t){const i=lo.EPSILON;t&&(lo.EPSILON=t);try{if(n===e)return!0;if(ru(n)&&ru(e)){if(n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(!s_(n[r],e[r]))return!1;return!0}return n&&n.equals?n.equals(e):e&&e.equals?e.equals(n):"number"==typeof n&&"number"==typeof e&&Math.abs(n-e)<=lo.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))}finally{lo.EPSILON=i}}function ou(n,e,t){if(ru(n)){const i=n;t=t||function tpe(n){return n.clone?n.clone():new Array(n.length)}(i);for(let r=0;r<t.length&&r<i.length;++r)t[r]=e(n[r],r,t);return t}return e(n)}class Ok extends(function npe(n){function e(){var t=Reflect.construct(n,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return e.prototype=Object.create(n.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n,e}(Array)){clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){for(let i=0;i<this.ELEMENTS;++i)this[i]=e[i+t];return this.check()}toArray(e=[],t=0){for(let i=0;i<this.ELEMENTS;++i)e[t+i]=this[i];return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:ru(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(lo)}formatString(e){let t="";for(let i=0;i<this.ELEMENTS;++i)t+=(i>0?", ":"")+qfe(this[i],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!s_(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,i){if(void 0===i)return this.lerp(this,e,t);for(let r=0;r<this.ELEMENTS;++r){const o=e[r];this[r]=o+i*(t[r]-o)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e[i]),t[i]);return this.check()}add(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]+=t[i];return this.check()}subtract(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]-=t[i];return this.check()}scale(e){if("number"==typeof e)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;else for(let t=0;t<this.ELEMENTS&&t<e.length;++t)this[t]*=e[t];return this.check()}multiplyByScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}check(){if(lo.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e),t);return this.check()}get elements(){return this}}function gr(n){if(!Number.isFinite(n))throw new Error("Invalid number ".concat(n));return n}function CC(n,e,t=""){if(lo.debug&&!function ipe(n,e){if(n.length!==e)return!1;for(let t=0;t<n.length;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n,e))throw new Error("math.gl: ".concat(t," some fields set to invalid numbers'"));return n}function l6(n,e){if(!n)throw new Error("math.gl assertion ".concat(e))}class d6 extends Ok{get x(){return this[0]}set x(e){this[0]=gr(e)}get y(){return this[1]}set y(e){this[1]=gr(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let i=0;i<this.ELEMENTS;++i){const r=this[i]-e[i];t+=r*r}return gr(t)}dot(e){let t=0;for(let i=0;i<this.ELEMENTS;++i)t+=this[i]*e[i];return gr(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]*=t[i];return this.check()}divide(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]/=t[i];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return l6(e>=0&&e<this.ELEMENTS,"index is out of range"),gr(this[e])}setComponent(e,t){return l6(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}var Yl=1e-6,Aa=typeof Float32Array<"u"?Float32Array:Array;function u6(){var n=new Aa(3);return Aa!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function h6(n,e,t){var i=new Aa(3);return i[0]=n,i[1]=e,i[2]=t,i}function f6(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function SC(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2];return n[0]=r*c-o*a,n[1]=o*s-i*c,n[2]=i*a-r*s,n}function kk(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o+t[15];return n[0]=(t[0]*i+t[4]*r+t[8]*o+t[12])/(s=s||1),n[1]=(t[1]*i+t[5]*r+t[9]*o+t[13])/s,n[2]=(t[2]*i+t[6]*r+t[10]*o+t[14])/s,n}function p6(n,e,t){var i=t[0],r=t[1],o=t[2],a=e[0],c=e[1],l=e[2],d=r*l-o*c,h=o*a-i*l,p=i*c-r*a,_=r*p-o*h,w=o*d-i*p,I=i*h-r*d,L=2*t[3];return h*=L,p*=L,w*=2,I*=2,n[0]=a+(d*=L)+(_*=2),n[1]=c+h+w,n[2]=l+p+I,n}Math,Math,Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});function m6(n,e,t){const i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o||1;return n[0]=(t[0]*i+t[4]*r+t[8]*o)/s,n[1]=(t[1]*i+t[5]*r+t[9]*o)/s,n[2]=(t[2]*i+t[6]*r+t[10]*o)/s,n}u6();const Rk=[0,0,0];let AC;class Ps extends d6{static get ZERO(){return AC||(AC=new Ps(0,0,0),Object.freeze(AC)),AC}constructor(e=0,t=0,i=0){super(-0,-0,-0),1===arguments.length&&ru(e)?this.copy(e):(lo.debug&&(gr(e),gr(t),gr(i)),this[0]=e,this[1]=t,this[2]=i)}set(e,t,i){return this[0]=e,this[1]=t,this[2]=i,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return lo.debug&&(gr(e.x),gr(e.y),gr(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=gr(e)}angle(e){return function fpe(n,e){var t=n[0],i=n[1],r=n[2],o=e[0],s=e[1],a=e[2],d=Math.sqrt(t*t+i*i+r*r)*Math.sqrt(o*o+s*s+a*a),h=d&&f6(n,e)/d;return Math.acos(Math.min(Math.max(h,-1),1))}(this,e)}cross(e){return SC(this,this,e),this.check()}rotateX({radians:e,origin:t=Rk}){return function dpe(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateY({radians:e,origin:t=Rk}){return function upe(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=Rk}){return function hpe(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return kk(this,this,e),this.check()}transformAsVector(e){return m6(this,this,e),this.check()}transformByMatrix3(e){return function lpe(n,e,t){var i=e[0],r=e[1],o=e[2];n[0]=i*t[0]+r*t[3]+o*t[6],n[1]=i*t[1]+r*t[4]+o*t[7],n[2]=i*t[2]+r*t[5]+o*t[8]}(this,this,e),this.check()}transformByMatrix2(e){return function _pe(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2]}(this,this,e),this.check()}transformByQuaternion(e){return p6(this,this,e),this.check()}}const g6=new Ps;function a_(n,e,t,i){g6.set(n,e,t);const r=g6.len();return{distance:i/r,normal:new Ps(-n/r,-e/r,-t/r)}}function Epe(n){return n-Math.fround(n)}let m0;function Pk(n,e){const{size:t=1,startIndex:i=0}=e,r=void 0!==e.endIndex?e.endIndex:n.length,o=(r-i)/t;m0=f0.allocate(m0,o,{type:Float32Array,size:2*t});let s=i,a=0;for(;s<r;){for(let c=0;c<t;c++){const l=n[s++];m0[a+c]=l,m0[a+c+t]=Epe(l)}a+=2*t}return m0.subarray(0,o*t*2)}function MC(n){return n.stride||n.size*n.bytesPerElement}function _6(n,e){e.offset&&Oi.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const t=MC(n),o=(void 0!==e.vertexOffset?e.vertexOffset:n.vertexOffset||0)*t+(e.elementOffset||0)*n.bytesPerElement+(n.offset||0);return{...e,offset:o,stride:t}}class Spe{constructor(e,t,i){Me(this,"gl",void 0),Me(this,"id",void 0),Me(this,"size",void 0),Me(this,"settings",void 0),Me(this,"value",void 0),Me(this,"doublePrecision",void 0),Me(this,"_buffer",void 0),Me(this,"state",void 0),this.gl=e,this.id=t.id||"",this.size=t.size||1;const r=t.logicalType||t.type,o=5130===r;let a,{defaultValue:s}=t;s=Number.isFinite(s)?[s]:s||new Array(this.size).fill(0),a=o?5126:!r&&t.isIndexed?e&&Ik(e,"ELEMENT_INDEX_UINT32")?5125:5123:r||5126;let c=function $fe(n){switch(n){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(r||a||5126);this.doublePrecision=o,o&&!1===t.fp64&&(c=Float32Array),this.value=null,this.settings={...t,defaultType:c,defaultValue:s,logicalType:r,type:a,size:this.size,bytesPerElement:c.BYTES_PER_ELEMENT},this.state={...i,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1},this._buffer=null}get isConstant(){return this.state.constant}get buffer(){if(!this._buffer){const{isIndexed:e,type:t}=this.settings;this._buffer=new cr(this.gl,{id:this.id,target:e?34963:34962,accessor:{type:t}})}return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*MC(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),f0.release(this.state.allocatedValue)}getShaderAttributes(e,t){if(this.doublePrecision){const i={},r=this.value instanceof Float64Array,o=function Cpe(n,e){const t=_6(n,e);return{high:t,low:{...t,offset:t.offset+4*n.size}}}(this.getAccessor(),t||{});return i[e]=new Dk(this,o.high),i["".concat(e,"64Low")]=r?new Dk(this,o.low):new Float32Array(this.size),i}if(t){const i=_6(this.getAccessor(),t);return{[e]:new Dk(this,i)}}return{[e]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const t=Array.from(this.value);e=[t,t]}else{const{value:t,numInstances:i,size:r}=this,o=i*r;if(t&&o&&t.length>=o){const s=new Array(r).fill(1/0),a=new Array(r).fill(-1/0);for(let c=0;c<o;)for(let l=0;l<r;l++){const d=t[c++];d<s[l]&&(s[l]=d),d>a[l]&&(a[l]=d)}e=[s,a]}}return this.state.bounds=e,e}setData(e){const{state:t}=this;let i;i=ArrayBuffer.isView(e)?{value:e}:e instanceof cr?{buffer:e}:e;const r={...this.settings,...i};if(t.bufferAccessor=r,t.bounds=null,i.constant){let o=i.value;if(o=this._normalizeValue(o,[],0),this.settings.normalized&&(o=this.normalizeConstant(o)),t.constant&&this._areValuesEqual(o,this.value))return!1;t.externalBuffer=null,t.constant=!0,this.value=o}else if(i.buffer){const o=i.buffer;t.externalBuffer=o,t.constant=!1,this.value=i.value||null;const s=i.value instanceof Float64Array;r.type=i.type||o.accessor.type,r.bytesPerElement=o.accessor.BYTES_PER_ELEMENT*(s?2:1),r.stride=MC(r)}else if(i.value){this._checkExternalBuffer(i);let o=i.value;t.externalBuffer=null,t.constant=!1,this.value=o,r.bytesPerElement=o.BYTES_PER_ELEMENT,r.stride=MC(r);const{buffer:s,byteOffset:a}=this;this.doublePrecision&&o instanceof Float64Array&&(o=Pk(o,r));const c=o.byteLength+a+2*r.stride;s.byteLength<c&&s.reallocate(c),s.setAccessor(null),s.subData({data:o,offset:a}),r.type=i.type||s.accessor.type}return!0}updateSubBuffer(e={}){this.state.bounds=null;const t=this.value,{startOffset:i=0,endOffset:r}=e;this.buffer.subData({data:this.doublePrecision&&t instanceof Float64Array?Pk(t,{size:this.size,startIndex:i,endIndex:r}):t.subarray(i,r),offset:i*t.BYTES_PER_ELEMENT+this.byteOffset})}allocate(e,t=!1){const{state:i}=this,r=i.allocatedValue,o=f0.allocate(r,e+1,{size:this.size,type:this.settings.defaultType,copy:t});this.value=o;const{buffer:s,byteOffset:a}=this;return s.byteLength<o.byteLength+a&&(s.reallocate(o.byteLength+a),t&&r&&s.subData({data:r instanceof Float64Array?Pk(r,this):r,offset:a})),i.allocatedValue=o,i.constant=!1,i.externalBuffer=null,i.bufferAccessor=this.settings,!0}_checkExternalBuffer(e){const{value:t}=e;if(!ArrayBuffer.isView(t))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));const i=this.settings.defaultType;let r=!1;if(this.doublePrecision&&(r=t.BYTES_PER_ELEMENT<4),r)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));!(t instanceof i)&&this.settings.normalized&&!("normalized"in e)&&Oi.warn("Attribute ".concat(this.id," is normalized"))()}normalizeConstant(e){switch(this.settings.type){case 5120:return new Float32Array(e).map(t=>(t+128)/255*2-1);case 5122:return new Float32Array(e).map(t=>(t+32768)/65535*2-1);case 5121:return new Float32Array(e).map(t=>t/255);case 5123:return new Float32Array(e).map(t=>t/65535);default:return e}}_normalizeValue(e,t,i){const{defaultValue:r,size:o}=this.settings;if(Number.isFinite(e))return t[i]=e,t;if(!e)return t[i]=r[0],t;switch(o){case 4:t[i+3]=Number.isFinite(e[3])?e[3]:r[3];case 3:t[i+2]=Number.isFinite(e[2])?e[2]:r[2];case 2:t[i+1]=Number.isFinite(e[1])?e[1]:r[1];case 1:t[i+0]=Number.isFinite(e[0])?e[0]:r[0];break;default:let s=o;for(;--s>=0;)t[i+s]=Number.isFinite(e[s])?e[s]:r[s]}return t}_areValuesEqual(e,t){if(!e||!t)return!1;const{size:i}=this;for(let r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}}function us(n,e){if(!n)throw new Error(e||"deck.gl: assertion failed.")}const b6=[],y6=[];function TC(n,e=0,t=1/0){let i=b6;const r={index:-1,data:n,target:[]};return n?"function"==typeof n[Symbol.iterator]?i=n:n.length>0&&(y6.length=n.length,i=y6):i=b6,(e>0||Number.isFinite(t))&&(i=(Array.isArray(i)?i:Array.from(i)).slice(e,t),r.index=e-1),{iterable:i,objectInfo:r}}function v6(n){return n&&n[Symbol.asyncIterator]}function Nk(n,e=(()=>!0)){return Array.isArray(n)?w6(n,e,[]):e(n)?[n]:[]}function w6(n,e,t){let i=-1;for(;++i<n.length;){const r=n[i];Array.isArray(r)?w6(r,e,t):e(r)&&t.push(r)}return t}function Mpe({target:n,source:e,start:t=0,count:i=1}){const r=e.length,o=i*r;let s=0;for(let a=t;s<r;s++)n[a++]=e[s];for(;s<o;)s<o-s?(n.copyWithin(t+s,t,t+s),s*=2):(n.copyWithin(t+s,t,t+o-s),s=o);return n}const Tpe=[],IC=[[0,1/0]];function Fk(n){const{source:e,target:t,start:i=0,size:r,getData:o}=n,a=e.length,c=(n.end||t.length)-i;if(a>c)return void t.set(e.subarray(0,c),i);if(t.set(e,i),!o)return;let l=a;for(;l<c;){const d=o(l,e);for(let h=0;h<r;h++)t[i+l]=d[h]||0,l++}}const Ope={interpolation:{duration:0,easing:n=>n},spring:{stiffness:.05,damping:.5}};function x6(n,e){if(!n)return null;Number.isFinite(n)&&(n={type:"interpolation",duration:n});const t=n.type||"interpolation";return{...Ope[t],...e,...n,type:t}}function E6(n,e){const t=e.getBuffer();return t?[t,{divisor:0,size:e.size,normalized:e.settings.normalized}]:e.value}function C6(n){switch(n){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(n,'"'))}}function S6(n){n.push(n.shift())}function Lk(n,e){const{doublePrecision:t,settings:i,value:r,size:o}=n,s=t&&r instanceof Float64Array?2:1;return(i.noAlloc?r.length:e*o)*s}function A6({buffer:n,numInstances:e,attribute:t,fromLength:i,fromStartIndices:r,getData:o=(s=>s)}){const s=t.doublePrecision&&t.value instanceof Float64Array?2:1,a=t.size*s,c=t.byteOffset,l=t.startIndices,d=r&&l,h=Lk(t,e),p=t.isConstant;if(!d&&i>=h)return;const _=p?t.value:t.getBuffer().getData({srcByteOffset:c});if(t.settings.normalized&&!p){const K=o;o=(Q,me)=>t.normalizeConstant(K(Q,me))}const w=p?(K,Q)=>o(_,Q):(K,Q)=>o(_.subarray(K,K+a),Q),I=n.getData({length:i}),L=new Float32Array(h);(function Dpe({source:n,target:e,size:t,getData:i,sourceStartIndices:r,targetStartIndices:o}){if(!Array.isArray(o))return Fk({source:n,target:e,size:t,getData:i}),e;let s=0,a=0;const c=i&&((d,h)=>i(d+a,h)),l=Math.min(r.length,o.length);for(let d=1;d<l;d++){const h=r[d]*t,p=o[d]*t;Fk({source:n.subarray(s,h),target:e,start:a,end:p,size:t,getData:c}),s=h,a=p}a<e.length&&Fk({source:[],target:e,start:a,size:t,getData:c})})({source:I,target:L,sourceStartIndices:r,targetStartIndices:l,size:a,getData:w}),n.byteLength<L.byteLength+c&&n.reallocate(L.byteLength+c),n.subData({data:L,offset:c})}class Bk extends Spe{constructor(e,t){super(e,t,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:IC}),Me(this,"constant",!1),this.settings.update=t.update||(t.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const t=this.state.needsRedraw;return this.state.needsRedraw=t&&!e,t}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat("function"!=typeof e&&e||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:t}=this.settings,i=this.settings.transition;return x6(Array.isArray(t)?e[t.find(o=>e[o])]:e[t],i)}setNeedsUpdate(e=this.id,t){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){const{startRow:i=0,endRow:r=1/0}=t;this.state.updateRanges=function Ipe(n,e){if(n===IC||(e[0]<0&&(e[0]=0),e[0]>=e[1]))return n;const t=[],i=n.length;let r=0;for(let o=0;o<i;o++){const s=n[o];s[1]<e[0]?(t.push(s),r=o+1):s[0]>e[1]?t.push(s):e=[Math.min(s[0],e[0]),Math.max(s[1],e[1])]}return t.splice(r,0,e),t}(this.state.updateRanges,[i,r])}else this.state.updateRanges=IC}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=Tpe}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:t,settings:i}=this;return!i.noAlloc&&!!i.update&&(super.allocate(e,t.updateRanges!==IC),!0)}updateBuffer({numInstances:e,data:t,props:i,context:r}){if(!this.needsUpdate())return!1;const{state:{updateRanges:o},settings:{update:s,noAlloc:a}}=this;let c=!0;if(s){for(const[l,d]of o)s.call(r,this,{data:t,startRow:l,endRow:d,props:i,numInstances:e});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[l,d]of o){const h=Number.isFinite(l)?this.getVertexOffset(l):0,p=Number.isFinite(d)?this.getVertexOffset(d):a||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:h,endOffset:p})}this._checkAttributeArray()}else c=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),c}setConstantValue(e){return void 0!==e&&"function"!=typeof e&&(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(e){const{state:t}=this;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}setBinaryValue(e,t=null){const{state:i,settings:r}=this;if(!e)return i.binaryValue=null,i.binaryAccessor=null,!1;if(r.noAlloc)return!1;if(i.binaryValue===e)return this.clearNeedsUpdate(),!0;if(i.binaryValue=e,this.setNeedsRedraw(),r.transform||t!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const s=e;return us(ArrayBuffer.isView(s.value),"invalid ".concat(r.accessor)),i.binaryAccessor=function Ape(n,e){const{size:t,stride:i,offset:r,startIndices:o,nested:s}=e,a=n.BYTES_PER_ELEMENT,c=i?i/a:t,l=r?r/a:0,d=Math.floor((n.length-l)/c);return(h,{index:p,target:_})=>{if(!o){const K=p*c+l;for(let Q=0;Q<t;Q++)_[Q]=n[K+Q];return _}const w=o[p],I=o[p+1]||d;let L;if(s){L=new Array(I-w);for(let K=w;K<I;K++){const Q=K*c+l;_=new Array(t);for(let me=0;me<t;me++)_[me]=n[Q+me];L[K-w]=_}}else if(c===t)L=n.subarray(w*t+l,I*t+l);else{L=new n.constructor((I-w)*t);let K=0;for(let Q=w;Q<I;Q++){const me=Q*c+l;for(let Pe=0;Pe<t;Pe++)L[K++]=n[me+Pe]}}return L}}(s.value,{size:s.size||this.size,stride:s.stride,offset:s.offset,startIndices:t,nested:!!s.size&&s.size!==this.size}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:t}=this;return(t?e<t.length?t[e]:this.numInstances:e)*this.size}getShaderAttributes(){const e=this.settings.shaderAttributes||{[this.id]:null},t={};for(const i in e)Object.assign(t,super.getShaderAttributes(i,e[i]));return t}_autoUpdater(e,{data:t,startRow:i,endRow:r,props:o,numInstances:s}){if(e.constant)return;const{settings:a,state:c,value:l,size:d,startIndices:h}=e,{accessor:p,transform:_}=a,w=c.binaryAccessor||("function"==typeof p?p:o[p]);us("function"==typeof w,'accessor "'.concat(p,'" is not a function'));let I=e.getVertexOffset(i);const{iterable:L,objectInfo:K}=TC(t,i,r);for(const Q of L){K.index++;let me=w(Q,K);if(_&&(me=_.call(this,me)),h){const Pe=(K.index<h.length-1?h[K.index+1]:s)-h[K.index];if(me&&Array.isArray(me[0])){let We=I;for(const tt of me)e._normalizeValue(tt,l,We),We+=d}else me&&me.length>d?l.set(me,I):(e._normalizeValue(me,K.target,0),Mpe({target:l,source:K.target,start:I,count:Pe}));I+=Pe*d}else e._normalizeValue(me,l,I),I+=d}}_validateAttributeUpdaters(){const{settings:e}=this;if(!e.noAlloc&&"function"!=typeof e.update)throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:e}=this,t=Math.min(4,this.size);if(e&&e.length>=t){let i=!0;switch(t){case 4:i=i&&Number.isFinite(e[3]);case 3:i=i&&Number.isFinite(e[2]);case 2:i=i&&Number.isFinite(e[1]);case 1:i=i&&Number.isFinite(e[0]);break;default:i=!1}if(!i)throw new Error("Illegal attribute generated for ".concat(this.id))}}}let Uk={};function Ns(n,e,t,i){Oi.level>0&&Uk[n]&&Uk[n].call(null,e,t,i)}function Va(n,e){if(!n)throw new Error(e||"shadertools: assertion failed.")}const M6="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",Ppe="#version 300 es\n".concat(M6);function T6(n,e){e=Array.isArray(e)?e:[e];const t=n.replace(/^\s+/,"").split(/\s+/),[i,r,o]=t;return e.includes(i)&&r&&o?{qualifier:i,type:r,name:o.split(";")[0]}:null}function I6(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{version:e=100,input:t,inputType:i,output:r}=n;if(!t)return 300===e?Ppe:e>300?"#version ".concat(e,"\n").concat(M6):"void main() {gl_FragColor = vec4(0);}";const o=function Lpe(n,e){switch(e){case"float":return"vec4(".concat(n,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(n,", 0.0, 1.0)");case"vec3":return"vec4(".concat(n,", 1.0)");case"vec4":return n;default:return Va(!1),null}}(t,i);return e>=300?"#version ".concat(e," ").concat(300===e?"es":"","\nin ").concat(i," ").concat(t,";\nout vec4 ").concat(r,";\nvoid main() {\n  ").concat(r," = ").concat(o,";\n}"):"varying ".concat(i," ").concat(t,";\nvoid main() {\n  gl_FragColor = ").concat(o,";\n}")}class D6 extends iu{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(e){return Ci(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Rs(e),super(e,t),this.initialize(t),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,i_(this.buffers)||this.bind(()=>this._unbindBuffers()),this.setProps(e),this}setProps(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}setBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind(()=>{for(const t in e)this.setBuffer(t,e[t])}),this}setBuffer(e,t){const i=this._getVaryingIndex(e),{buffer:r,byteSize:o,byteOffset:s}=this._getBufferParams(t);return i<0?(this.unused[e]=r,Mn.warn("".concat(this.id," unused varying buffer ").concat(e))(),this):(this.buffers[i]=t,this.bindOnUse||this._bindBuffer(i,r,s,o),this)}begin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(e){let t,i,r;return e instanceof cr?r=e:(r=e.buffer,i=e.byteSize,t=e.byteOffset),(void 0!==t||void 0!==i)&&(t=t||0,i=i||r.byteLength-t),{buffer:r,byteOffset:t,byteSize:i}}_getVaryingInfo(e){return this.configuration&&this.configuration.getVaryingInfo(e)}_getVaryingIndex(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;const t=Number(e);return Number.isFinite(t)?t:-1}_bindBuffers(){if(this.bindOnUse)for(const e in this.buffers){const{buffer:t,byteSize:i,byteOffset:r}=this._getBufferParams(this.buffers[e]);this._bindBuffer(e,t,r,i)}}_unbindBuffers(){if(this.bindOnUse)for(const e in this.buffers)this._bindBuffer(e,null)}_bindBuffer(e,t){let r=arguments.length>3?arguments[3]:void 0;const o=t&&t.handle;return o&&void 0!==r?this.gl.bindBufferRange(35982,e,o,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r):this.gl.bindBufferBase(35982,e,o),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(e){this.gl.bindTransformFeedback(36386,this.handle)}}class Bpe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}setupResources(e){for(const t of this.bindings)this._setupTransformFeedback(t,e)}updateModelProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyings:t}=this;return t.length>0&&(e=Object.assign({},e,{varyings:t})),e}getDrawOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.bindings[this.currentIndex],{sourceBuffers:i,transformFeedback:r}=t;return{attributes:Object.assign({},i,e.attributes),transformFeedback:r}}swap(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}update(){this._setupBuffers(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}getBuffer(e){const{feedbackBuffers:t}=this.bindings[this.currentIndex],i=e?t[e]:null;return i?i instanceof cr?i:i.buffer:null}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyingName:t}=e,i=this.getBuffer(t);return i?i.getData():null}delete(){for(const e in this.resources)this.resources[e].delete()}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&cn(Ci(this.gl))}_getFeedbackBuffers(e){const{sourceBuffers:t={}}=e,i={};if(this.bindings[this.currentIndex]&&Object.assign(i,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const r in this.feedbackMap)r in t&&(i[this.feedbackMap[r]]=r);Object.assign(i,e.feedbackBuffers);for(const r in i){const o=i[r];if("string"==typeof o){const s=t[o],{byteLength:a,usage:c,accessor:l}=s;i[r]=this._createNewBuffer(r,{byteLength:a,usage:c,accessor:l})}}return i}_setupBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t=null}=e;Object.assign(this.feedbackMap,e.feedbackMap);const i=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:t,feedbackBuffers:i})}_setupTransformFeedback(e,t){let{model:i}=t;const{program:r}=i;e.transformFeedback=new D6(this.gl,{program:r,buffers:e.feedbackBuffers})}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){const{sourceBuffers:t,feedbackBuffers:i}=this._swapBuffers(this.bindings[this.currentIndex]),r=this._getNextIndex();this.bindings[r]=this._updateBinding(this.bindings[r],{sourceBuffers:t,feedbackBuffers:i})}}_updateBinding(e,t){return e?(Object.assign(e.sourceBuffers,t.sourceBuffers),Object.assign(e.feedbackBuffers,t.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},t.sourceBuffers),feedbackBuffers:Object.assign({},t.feedbackBuffers)}}_swapBuffers(e){if(!this.feedbackMap)return null;const t=Object.assign({},e.sourceBuffers),i=Object.assign({},e.feedbackBuffers);for(const r in this.feedbackMap){const o=this.feedbackMap[r];t[r]=e.feedbackBuffers[o],i[o]=e.sourceBuffers[r],cn(i[o]instanceof cr)}return{sourceBuffers:t,feedbackBuffers:i}}_createNewBuffer(e,t){const i=new cr(this.gl,t);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=i,i}_getNextIndex(){return(this.currentIndex+1)%2}}function O6(n){let e=100;const t=n.match(/[^\s]+/g);if(t.length>=2&&"#version"===t[0]){const i=parseInt(t[1],10);Number.isFinite(i)&&(e=i)}return e}const g0="vs",Vpe={[g0]:"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",fs:"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"},DC="__LUMA_INJECT_DECLARATIONS__",k6=/void\s+main\s*\([^)]*\)\s*\{\n?/,R6=/}\n?[^{}]*$/,Vk=[];function P6(n,e,t){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e===g0;for(const o in t){const s=t[o];s.sort((c,l)=>c.order-l.order),Vk.length=s.length;for(let c=0,l=s.length;c<l;++c)Vk[c]=s[c].injection;const a="".concat(Vk.join("\n"),"\n");switch(o){case"vs:#decl":r&&(n=n.replace(DC,a));break;case"vs:#main-start":r&&(n=n.replace(k6,c=>c+a));break;case"vs:#main-end":r&&(n=n.replace(R6,c=>a+c));break;case"fs:#decl":r||(n=n.replace(DC,a));break;case"fs:#main-start":r||(n=n.replace(k6,c=>c+a));break;case"fs:#main-end":r||(n=n.replace(R6,c=>a+c));break;default:n=n.replace(o,c=>c+a)}}return n=n.replace(DC,""),i&&(n=n.replace(/\}\s*$/,o=>o+Vpe[e])),n}function zk(n){const e={};return Va(Array.isArray(n)&&n.length>1),n.forEach(t=>{for(const i in t)e[i]=e[i]?"".concat(e[i],"\n").concat(t[i]):t[i]}),e}const zpe={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},OC="transform_uSize_",N6="transform_position";const qpe={10241:9728,10240:9728,10242:33071,10243:33071};class Zpe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}updateModelProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._processVertexShader(e);return Object.assign({},e,t)}getDrawOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t,sourceTextures:i,framebuffer:r,targetTexture:o}=this.bindings[this.currentIndex],s=Object.assign({},t,e.attributes),a=Object.assign({},e.uniforms),c=Object.assign({},e.parameters);let l=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){s.transform_elementID=this.elementIDBuffer;for(const h in this.samplerTextureMap)a[h]=i[this.samplerTextureMap[h]];this._setSourceTextureParameters();const d=function Wpe(n){let{sourceTextureMap:e,targetTextureVarying:t,targetTexture:i}=n;const r={};let o,s;t&&(({width:o,height:s}=i),r["".concat(OC).concat(t)]=[o,s]);for(const a in e)({width:o,height:s}=e[a]),r["".concat(OC).concat(a)]=[o,s];return r}({sourceTextureMap:i,targetTextureVarying:this.targetTextureVarying,targetTexture:o});Object.assign(a,d)}return this.hasTargetTexture&&(l=!1,c.viewport=[0,0,r.width,r.height]),{attributes:s,framebuffer:r,uniforms:a,discard:l,parameters:c}}swap(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}update(){this._setupTextures(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}getTargetTexture(){const{targetTexture:e}=this.bindings[this.currentIndex];return e}getData(){let{packed:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{framebuffer:t}=this.bindings[this.currentIndex],i=xC(t);if(!e)return i;const r=i.constructor,o=function Fpe(n){switch(n){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return Va(!1),null}}(this.targetTextureType),s=new r(i.length*o/4);let a=0;for(let c=0;c<i.length;c+=4)for(let l=0;l<o;l++)s[a++]=i[c+l];return s}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{_targetTextureVarying:t,_swapTexture:i}=e;this._swapTexture=i,this.targetTextureVarying=t,this.hasTargetTexture=t,this._setupTextures(e)}_createTargetTexture(e){const{sourceTextures:t,textureOrReference:i}=e;if(i instanceof ls)return i;const r=t[i];return r?(this._targetRefTexName=i,this._createNewTexture(r)):null}_setupTextures(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t,_sourceTextures:i={},_targetTexture:r}=e,o=this._createTargetTexture({sourceTextures:i,textureOrReference:r});this.hasSourceTextures=this.hasSourceTextures||i&&Object.keys(i).length>0,this._updateBindings({sourceBuffers:t,sourceTextures:i,targetTexture:o}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}_updateElementIDBuffer(e){if("number"!=typeof e||this.elementCount>=e)return;const t=new Float32Array(e);t.forEach((i,r,o)=>{o[r]=r}),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new cr(this.gl,{data:t,accessor:{size:1}}),this.elementCount=e}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){const{sourceTextures:t,targetTexture:i}=this._swapTextures(this.bindings[this.currentIndex]),r=this._getNextIndex();this.bindings[r]=this._updateBinding(this.bindings[r],{sourceTextures:t,targetTexture:i})}}_updateBinding(e,t){const{sourceBuffers:i,sourceTextures:r,targetTexture:o}=t;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,r),Object.assign(e.sourceBuffers,i),o){e.targetTexture=o;const{width:s,height:a}=o,{framebuffer:c}=e;c?(c.update({attachments:{36064:o},resizeAttachments:!1}),c.resize({width:s,height:a})):e.framebuffer=new vo(this.gl,{id:"transform-framebuffer",width:s,height:a,attachments:{36064:o}})}return e}_setSourceTextureParameters(){const e=this.currentIndex,{sourceTextures:t}=this.bindings[e];for(const i in t)t[i].setParameters(qpe)}_swapTextures(e){if(!this._swapTexture)return null;const t=Object.assign({},e.sourceTextures);return t[this._swapTexture]=e.targetTexture,{sourceTextures:t,targetTexture:e.sourceTextures[this._swapTexture]}}_createNewTexture(e){const t=function Nfe(n,e){cn(n instanceof ls||n instanceof Rfe||n instanceof Pfe);const t=n.constructor,{gl:i,width:r,height:o,format:s,type:a,dataFormat:c,border:l,mipmaps:d}=n;return new t(i,Object.assign({width:r,height:o,format:s,type:a,dataFormat:c,border:l,mipmaps:d},e))}(e,{parameters:{10241:9728,10240:9728,10242:33071,10243:33071},pixelStore:{37440:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=t,t}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceTextures:t,targetTexture:i}=this.bindings[this.currentIndex],{vs:r,uniforms:o,targetTextureType:s,inject:a,samplerTextureMap:c}=function Gpe(n){let{vs:e,sourceTextureMap:t,targetTextureVarying:i,targetTexture:r}=n,s=Object.keys(t).length,a=null;const c={};let l=e,d={};if(s>0||i){const h=l.split("\n"),p=h.slice();if(h.forEach((_,w,I)=>{if(s>0){const L=function Kpe(n,e){const t={},i=function $pe(n){return T6(n,["attribute","in"])}(n);if(!i)return null;const{type:r,name:o}=i;if(o&&e[o]){const s="// ".concat(n," => Replaced by Transform with a sampler"),{samplerName:a,sizeName:c,uniformDeclerations:l}=function Ype(n){const e="".concat("transform_uSampler_").concat(n),t="".concat(OC).concat(n);return{samplerName:e,sizeName:t,uniformDeclerations:"  uniform sampler2D ".concat(e,";\n  uniform vec2 ").concat(t,";")}}(o),d=function Npe(n){switch(n){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return Va(!1),null}}(r),h="  ".concat(r," ").concat(o," = transform_getInput(").concat(a,", ").concat(c,").").concat(d,";\n");return t[a]=o,{updatedLine:s,inject:{"vs:#decl":l,"vs:#main-start":h},samplerTextureMap:t}}return null}(_,t);if(L){const{updatedLine:K,inject:Q}=L;p[w]=K,d=zk([d,Q]),Object.assign(c,L.samplerTextureMap),s--}}i&&!a&&(a=function Xpe(n,e){const t=T6(n,["varying","out"]);return t&&t.name===e?t.type:null}(_,i))}),i){cn(r);const _="".concat(OC).concat(i),w="uniform vec2 ".concat(_,";\n"),I="     vec2 ".concat(N6," = transform_getPos(").concat(_,");\n     gl_Position = vec4(").concat(N6,", 0, 1.);\n");d=zk([d,{"vs:#decl":w,"vs:#main-start":I}])}l=p.join("\n")}return{vs:l,targetTextureType:a,inject:d,samplerTextureMap:c}}({vs:e.vs,sourceTextureMap:t,targetTextureVarying:this.targetTextureVarying,targetTexture:i}),l=zk([e.inject||{},a]);return this.targetTextureType=s,this.samplerTextureMap=c,{vs:r,fs:e._fs||I6({version:O6(r),input:this.targetTextureVarying,inputType:s,output:"transform_output"}),modules:this.hasSourceTextures||this.targetTextureVarying?[zpe].concat(e.modules||[]):e.modules,uniforms:o,inject:l}}}const Hk={number:{validate:(n,e)=>Number.isFinite(n)&&(!("max"in e)||n<=e.max)&&(!("min"in e)||n>=e.min)},array:{validate:(n,e)=>Array.isArray(n)||ArrayBuffer.isView(n)}};function eme(n){let e=F6(n);return"object"===e?n?"type"in n?Object.assign({},n,Hk[n.type]):"value"in n?(e=F6(n.value),Object.assign({type:e},n,Hk[e])):{type:"object",value:n}:{type:"object",value:null}:Object.assign({type:e,value:n},Hk[e])}function F6(n){return Array.isArray(n)||ArrayBuffer.isView(n)?"array":typeof n}class Gk{constructor(e){let{name:t,vs:i,fs:r,dependencies:o=[],uniforms:s,getUniforms:a,deprecations:c=[],defines:l={},inject:d={},vertexShader:h,fragmentShader:p}=e;Va("string"==typeof t),this.name=t,this.vs=i||h,this.fs=r||p,this.getModuleUniforms=a,this.dependencies=o,this.deprecations=this._parseDeprecationDefinitions(c),this.defines=l,this.injections=function ime(n){const e={vs:{},fs:{}};for(const t in n){let i=n[t];"string"==typeof i&&(i={order:0,injection:i}),e[t.slice(0,2)][t]=i}return e}(d),s&&(this.uniforms=function Qpe(n){const e={};for(const t in n){const r=eme(n[t]);e[t]=r}return e}(s))}getModuleSource(e){let t;switch(e){case"vs":t=this.vs||"";break;case"fs":t=this.fs||"";break;default:Va(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(t,"// END MODULE_").concat(this.name,"\n\n")}getUniforms(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}}getDefines(){return this.defines}checkDeprecations(e,t){this.deprecations.forEach(i=>{i.regex.test(e)&&(i.deprecated?t.deprecated(i.old,i.new)():t.removed(i.old,i.new)())})}_parseDeprecationDefinitions(e){return e.forEach(t=>{t.regex="function"===t.type?new RegExp("\\b".concat(t.old,"\\(")):new RegExp("".concat(t.type," ").concat(t.old,";"))}),e}_defaultGetUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={},i=this.uniforms;for(const r in i){const o=i[r];r in e&&!o.private?(o.validate&&Va(o.validate(e[r],o),"".concat(this.name,": invalid ").concat(r)),t[r]=e[r]):t[r]=o.value}return t}}function rme(n){return function L6(n){const e={},t={};return Wk({modules:n,level:0,moduleMap:e,moduleDepth:t}),Object.keys(t).sort((i,r)=>t[r]-t[i]).map(i=>e[i])}(B6(n))}function Wk(n){let{modules:e,level:t,moduleMap:i,moduleDepth:r}=n;if(t>=5)throw new Error("Possible loop in shader dependency graph");for(const o of e)i[o.name]=o,(void 0===r[o.name]||r[o.name]<t)&&(r[o.name]=t);for(const o of e)o.dependencies&&Wk({modules:o.dependencies,level:t+1,moduleMap:i,moduleDepth:r})}function B6(n,e){return n.map(t=>(t instanceof Gk||(Va("string"!=typeof t,"Shader module use by name is deprecated. Import shader module '".concat(t,"' and use it directly.")),Va(t.name,"shader module has no name"),(t=new Gk(t)).dependencies=B6(t.dependencies)),t))}const sme=7936,ame=7937,cme=7938,lme=35724,$k={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},hp={};function hme(n,e){return n.match(/NVIDIA/i)||e.match(/NVIDIA/i)?"NVIDIA":n.match(/INTEL/i)||e.match(/INTEL/i)?"INTEL":n.match(/AMD/i)||e.match(/AMD/i)||n.match(/ATI/i)||e.match(/ATI/i)?"AMD":"UNKNOWN GPU"}Object.keys($k).forEach(n=>{hp[n]=n});const Yk={};function U6(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=$k[e];if(Va(i,e),!function ome(){const e=typeof window<"u"&&window.navigator||{},t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).userAgent||e.userAgent||"",i=-1!==t.indexOf("MSIE "),r=-1!==t.indexOf("Trident/");return i||r}(t))return!0;if(e in Yk)return Yk[e];const o=t.behavior||"enable",s="#extension GL_".concat(i[0]," : ").concat(o,"\nvoid main(void) {}"),a=n.createShader(35633);n.shaderSource(a,s),n.compileShader(a);const c=n.getShaderParameter(a,35713);return n.deleteShader(a),Yk[e]=c,c}function kC(n,e){return(e=Array.isArray(e)?e:[e]).every(t=>function fme(n,e){const t=$k[e];Va(t,e);const i=function dme(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||2!==n._version)}(n)&&t[1]||t[0],r="string"==typeof i?!!n.getExtension(i):i;return Va(!1===r||!0===r),r}(n,t))}function c_(n){return new RegExp("\\b".concat(n,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const j6=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],gme=[...j6,[c_("attribute"),"in $1"],[c_("varying"),"out $1"]],_me=[...j6,[c_("varying"),"in $1"]],V6=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],bme=[...V6,[c_("in"),"attribute $1"],[c_("out"),"varying $1"]],yme=[...V6,[c_("in"),"varying $1"]],Xk="gl_FragColor",Kk=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,vme=/void\s+main\s*\([^)]*\)\s*\{\n?/;function RC(n,e){for(const[t,i]of e)n=n.replace(t,i);return n}const Cme="\n\n".concat(DC,"\n\n"),z6={[g0]:"vertex",fs:"fragment"};function H6(n,e){let{id:t,source:i,type:r,modules:o,defines:s={},hookFunctions:a=[],inject:c={},transpileToGLSL100:l=!1,prologue:d=!0,log:h}=e;Va("string"==typeof i,"shader source must be a string");const p=r===g0,_=i.split("\n");let w=100,I="",L=i;0===_[0].indexOf("#version ")?(w=300,I=_[0],L=_.slice(1).join("\n")):I="#version ".concat(w);const K={};o.forEach(ut=>{Object.assign(K,ut.getDefines())}),Object.assign(K,s);let Q=d?"".concat(I,"\n").concat(function Ime(n){let{id:e,source:t,type:i}=n;return e&&"string"==typeof e&&-1===t.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(e,"_").concat(z6[i],"\n\n"):""}({id:t,source:i,type:r}),"\n").concat(function Tme(n){let{type:e}=n;return"\n#define SHADER_TYPE_".concat(z6[e].toUpperCase(),"\n")}({type:r}),"\n").concat(function pme(n){switch(function ume(n){const e=n.getExtension("WEBGL_debug_renderer_info"),t=n.getParameter(e&&e.UNMASKED_VENDOR_WEBGL||sme),i=n.getParameter(e&&e.UNMASKED_RENDERER_WEBGL||ame);return{gpuVendor:hme(t,i),vendor:t,renderer:i,version:n.getParameter(cme),shadingLanguageVersion:n.getParameter(lme)}}(n).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(n),"\n").concat(function mme(n,e,t){let i="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return kC(n,hp.GLSL_FRAG_DEPTH)&&(i+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),kC(n,hp.GLSL_DERIVATIVES)&&U6(n,hp.GLSL_DERIVATIVES)&&(i+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),kC(n,hp.GLSL_FRAG_DATA)&&U6(n,hp.GLSL_FRAG_DATA,{behavior:"require"})&&(i+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),kC(n,hp.GLSL_TEXTURE_LOD)&&(i+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),i}(n),"\n").concat(function Dme(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0,t="";for(const i in n){0===e&&(t+="\n// APPLICATION DEFINES\n"),e++;const r=n[i];(r||Number.isFinite(r))&&(t+="#define ".concat(i.toUpperCase()," ").concat(n[i],"\n"))}return 0===e&&(t+="\n"),t}(K),"\n").concat(p?"":"precision highp float;\n\n","\n"):"".concat(I,"\n");const me=function kme(n){const e={vs:{},fs:{}};return n.forEach(t=>{let i;"string"!=typeof t?(i=t,t=i.hook):i={},t=t.trim();const[r,o]=t.split(":"),s=t.replace(/\(.+/,"");e[r][s]=Object.assign(i,{signature:o})}),e}(a),Pe={},We={},tt={};for(const ut in c){const wt="string"==typeof c[ut]?{injection:c[ut],order:0}:c[ut],vt=ut.match(/^(v|f)s:(#)?([\w-]+)$/);vt?vt[2]?"decl"===vt[3]?We[ut]=[wt]:tt[ut]=[wt]:Pe[ut]=[wt]:tt[ut]=[wt]}for(const ut of o){h&&ut.checkDeprecations(L,h),Q+=ut.getModuleSource(r,w);const vt=ut.injections[r];for(const bt in vt){const St=bt.match(/^(v|f)s:#([\w-]+)$/);if(St){const gt="decl"===St[2]?We:tt;gt[bt]=gt[bt]||[],gt[bt].push(vt[bt])}else Pe[bt]=Pe[bt]||[],Pe[bt].push(vt[bt])}}return Q+=Cme,Q=P6(Q,r,We),Q+=function Ome(n,e){let t="";for(const i in n){const r=n[i];if(t+="void ".concat(r.signature," {\n"),r.header&&(t+="  ".concat(r.header)),e[i]){const o=e[i];o.sort((s,a)=>s.order-a.order);for(const s of o)t+="  ".concat(s.injection,"\n")}r.footer&&(t+="  ".concat(r.footer)),t+="}\n"}return t}(me[r],Pe),Q+=L,Q=P6(Q,r,tt),Q=function wme(n,e,t){switch(e){case 300:return t?RC(n,gme):function xme(n){const e=(n=RC(n,_me)).match(Kk);if(e){const t=e[1];n=n.replace(new RegExp("\\b".concat(Xk,"\\b"),"g"),t)}else{const t="fragmentColor";n=n.replace(vme,i=>"out vec4 ".concat(t,";\n").concat(i)).replace(new RegExp("\\b".concat(Xk,"\\b"),"g"),t)}return n}(n);case 100:return t?RC(n,bme):function Eme(n){const e=(n=RC(n,yme)).match(Kk);if(e){const t=e[1];n=n.replace(Kk,"").replace(new RegExp("\\b".concat(t,"\\b"),"g"),Xk)}return n}(n);default:throw new Error("unknown GLSL version ".concat(e))}}(Q,l?100:w,p),Q}function Mme(n){return function(t){const i={};for(const r of n){const o=r.getUniforms(t,i);Object.assign(i,o)}return i}}const Rme={5126:kr.bind(null,"uniform1fv",za,1,Fs),35664:kr.bind(null,"uniform2fv",za,2,Fs),35665:kr.bind(null,"uniform3fv",za,3,Fs),35666:kr.bind(null,"uniform4fv",za,4,Fs),5124:kr.bind(null,"uniform1iv",wh,1,Fs),35667:kr.bind(null,"uniform2iv",wh,2,Fs),35668:kr.bind(null,"uniform3iv",wh,3,Fs),35669:kr.bind(null,"uniform4iv",wh,4,Fs),35670:kr.bind(null,"uniform1iv",wh,1,Fs),35671:kr.bind(null,"uniform2iv",wh,2,Fs),35672:kr.bind(null,"uniform3iv",wh,3,Fs),35673:kr.bind(null,"uniform4iv",wh,4,Fs),35674:kr.bind(null,"uniformMatrix2fv",za,4,su),35675:kr.bind(null,"uniformMatrix3fv",za,9,su),35676:kr.bind(null,"uniformMatrix4fv",za,16,su),35678:hs,35680:hs,5125:kr.bind(null,"uniform1uiv",PC,1,Fs),36294:kr.bind(null,"uniform2uiv",PC,2,Fs),36295:kr.bind(null,"uniform3uiv",PC,3,Fs),36296:kr.bind(null,"uniform4uiv",PC,4,Fs),35685:kr.bind(null,"uniformMatrix2x3fv",za,6,su),35686:kr.bind(null,"uniformMatrix2x4fv",za,8,su),35687:kr.bind(null,"uniformMatrix3x2fv",za,6,su),35688:kr.bind(null,"uniformMatrix3x4fv",za,12,su),35689:kr.bind(null,"uniformMatrix4x2fv",za,8,su),35690:kr.bind(null,"uniformMatrix4x3fv",za,12,su),35678:hs,35680:hs,35679:hs,35682:hs,36289:hs,36292:hs,36293:hs,36298:hs,36299:hs,36300:hs,36303:hs,36306:hs,36307:hs,36308:hs,36311:hs},Pme={},Nme={},Fme={},G6=[0];function qk(n,e,t,i){1===e&&"boolean"==typeof n&&(n=n?1:0),Number.isFinite(n)&&(G6[0]=n,n=G6);const r=n.length;if(r%e&&Mn.warn("Uniform size should be multiples of ".concat(e),n)(),n instanceof t)return n;let o=i[r];o||(o=new t(r),i[r]=o);for(let s=0;s<r;s++)o[s]=n[s];return o}function za(n,e){return qk(n,e,Float32Array,Pme)}function wh(n,e){return qk(n,e,Int32Array,Nme)}function PC(n,e){return qk(n,e,Uint32Array,Fme)}function W6(n,e,t){const i=Rme[t.type];if(!i)throw new Error("Unknown GLSL uniform type ".concat(t.type));return i().bind(null,n,e)}function Lme(n){if("]"!==n[n.length-1])return{name:n,length:1,isArray:!1};const t=n.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(n));return{name:t[1],length:t[2]||1,isArray:!!t[2]}}function Ume(n){return Array.isArray(n)||ArrayBuffer.isView(n)?function Vme(n){if(0===n.length)return!1;const e=Math.min(n.length,16);for(let t=0;t<e;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n):!!(isFinite(n)||!0===n||!1===n||n instanceof dp||n instanceof o_)||n instanceof vo&&!!n.texture}function jme(n,e,t){if(Array.isArray(t)||ArrayBuffer.isView(t))if(n[e]){const i=n[e];for(let r=0,o=t.length;r<o;++r)i[r]=t[r]}else n[e]=t.slice();else n[e]=t}function hs(){let n=null;return(e,t,i)=>{const r=n!==i;return r&&(e.uniform1i(t,i),n=i),r}}function kr(n,e,t,i){let r=null,o=null;return(s,a,c)=>{const l=e(c,t),d=l.length;let h=!1;if(null===r)r=new Float32Array(d),o=d,h=!0;else{cn(o===d,"Uniform length cannot change.");for(let p=0;p<d;++p)if(l[p]!==r[p]){h=!0;break}}return h&&(i(s,n,a,l),r.set(l)),h}}function Fs(n,e,t,i){n[e](t,i)}function su(n,e,t,i){n[e](t,!1,i)}function NC(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed";const i=n.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return i?i[1]:e}function Y6(n,e){let t="";for(let i=0;i<e.length;i++)if((n[i+3]||n[i+2]||n[i+1])&&(t+="".concat(e[i],"\n"),n[i+1])){const o=n[i+1],s=o.split(":",3),a=s[0],c=parseInt(s[1],10)||0,l=o.substring(s.join(":").length+1).trim();t+=X6("^^^ ".concat(a,": ").concat(l,"\n\n"),c)}return t}function X6(n,e){let t="";for(let i=0;i<e;++i)t+=" ";return"".concat(t).concat(n)}class _0 extends iu{get[Symbol.toStringTag](){return"Shader"}static getTypeName(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return cn(!1),"unknown"}}constructor(e,t){wC(e),cn("string"==typeof t.source,"Shader: GLSL source code must be a JavaScript string"),super(e,{id:NC(t.source,null)||t.id||Ca("unnamed ".concat(_0.getTypeName(t.shaderType)))}),this.shaderType=t.shaderType,this.source=t.source,this.initialize(t)}initialize(e){let{source:t}=e;const i=NC(t,null);i&&(this.id=Ca(i)),this._compile(t)}getParameter(e){return this.gl.getShaderParameter(this.handle,e)}toString(){return"".concat(_0.getTypeName(this.shaderType),":").concat(this.id)}getName(){return NC(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;if(e.startsWith("#version ")||(e="#version 100\n".concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){const i=this.gl.getShaderInfoLog(this.handle),{shaderName:r,errors:o,warnings:s}=function $6(n,e,t,i){const r=n.split(/\r?\n/),o={},s={},a=i||NC(e)||"(unnamed)",c="".concat(function Gme(n){switch(n){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(t)," shader ").concat(a);for(let d=0;d<r.length;d++){const h=r[d];if(h.length<=1)continue;const p=h.split(":"),_=p[0],w=parseInt(p[2],10);if(isNaN(w))throw new Error("GLSL compilation error in ".concat(c,": ").concat(n));"WARNING"!==_?o[w]=h:s[w]=h}const l=function Wme(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ";const i=n.split(/\r?\n/),r=String(i.length+e-1).length;return i.map((o,s)=>{const a=String(s+e);return X6(a,r-a.length)+t+o})}(e);return{shaderName:c,errors:Y6(o,l),warnings:Y6(s,l)}}(i,this.source,this.shaderType,this.id);throw Mn.error("GLSL compilation errors in ".concat(r,"\n").concat(o))(),Mn.warn("GLSL compilation warnings in ".concat(r,"\n").concat(s))(),new Error("GLSL compilation errors in ".concat(r))}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class Jk extends _0{get[Symbol.toStringTag](){return"VertexShader"}constructor(e,t){"string"==typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class Zk extends _0{get[Symbol.toStringTag](){return"FragmentShader"}constructor(e,t){"string"==typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}const Yme=5120,Xme=5121,Kme=5122,qme=5123,Io=5126,b0=5124,y0=5125,Qk={[Io]:[Io,1,"float"],35664:[Io,2,"vec2"],35665:[Io,3,"vec3"],35666:[Io,4,"vec4"],[b0]:[b0,1,"int"],35667:[b0,2,"ivec2"],35668:[b0,3,"ivec3"],35669:[b0,4,"ivec4"],[y0]:[y0,1,"uint"],36294:[y0,2,"uvec2"],36295:[y0,3,"uvec3"],36296:[y0,4,"uvec4"],35670:[Io,1,"bool"],35671:[Io,2,"bvec2"],35672:[Io,3,"bvec3"],35673:[Io,4,"bvec4"],35674:[Io,8,"mat2"],35685:[Io,8,"mat2x3"],35686:[Io,8,"mat2x4"],35675:[Io,12,"mat3"],35687:[Io,12,"mat3x2"],35688:[Io,12,"mat3x4"],35676:[Io,16,"mat4"],35689:[Io,16,"mat4x2"],35690:[Io,16,"mat4x3"]};function eH(n){const e=Qk[n];if(!e)return null;const[t,i]=e;return{type:t,components:i}}function tH(n,e){switch(n){case Yme:case Xme:case Kme:case qme:n=Io}for(const t in Qk){const[i,r,o]=Qk[t];if(i===n&&r===e)return{glType:t,name:o}}return null}class vge{constructor(e){this.id=e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(e),this._readVaryingsFromProgram(e)}getAttributeInfo(e){const t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}getAttributeLocation(e){const t=this.getAttributeInfo(e);return t?t.location:-1}getAttributeAccessor(e){const t=this.getAttributeInfo(e);return t?t.accessor:null}getVaryingInfo(e){const t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}getVaryingIndex(e){const t=this.getVaryingInfo();return t?t.location:-1}getVaryingAccessor(e){const t=this.getVaryingInfo();return t?t.accessor:null}_readAttributesFromProgram(e){const{gl:t}=e,i=t.getProgramParameter(e.handle,35721);for(let r=0;r<i;r++){const{name:o,type:s,size:a}=t.getActiveAttrib(e.handle,r),c=t.getAttribLocation(e.handle,o);c>=0&&this._addAttribute(c,o,s,a)}this.attributeInfos.sort((r,o)=>r.location-o.location)}_readVaryingsFromProgram(e){const{gl:t}=e;if(!Ci(t))return;const i=t.getProgramParameter(e.handle,35971);for(let r=0;r<i;r++){const{name:o,type:s,size:a}=t.getTransformFeedbackVarying(e.handle,r);this._addVarying(r,o,s,a)}this.varyingInfos.sort((r,o)=>r.location-o.location)}_addAttribute(e,t,i,r){const{type:o,components:s}=eH(i),a={type:o,size:r*s};this._inferProperties(e,t,a);const c={location:e,name:t,accessor:new Sa(a)};this.attributeInfos.push(c),this.attributeInfosByLocation[e]=c,this.attributeInfosByName[c.name]=c}_inferProperties(e,t,i){/instance/i.test(t)&&(i.divisor=1)}_addVarying(e,t,i,r){const{type:o,components:s}=eH(i),c={location:e,name:t,accessor:new Sa({type:o,size:r*s})};this.varyingInfos.push(c),this.varyingInfosByName[c.name]=c}}const wge=35981,xge=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class iH extends iu{get[Symbol.toStringTag](){return"Program"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.stubRemovedMethods("Program","v6.0",xge),this._isCached=!1,this.initialize(t),Object.seal(this),this._setId(t.id)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{hash:t,vs:i,fs:r,varyings:o,bufferMode:s=wge}=e;return this.hash=t||"",this.vs="string"==typeof i?new Jk(this.gl,{id:"".concat(e.id,"-vs"),source:i}):i,this.fs="string"==typeof r?new Zk(this.gl,{id:"".concat(e.id,"-fs"),source:r}):r,cn(this.vs instanceof Jk),cn(this.fs instanceof Zk),this.uniforms={},this._textureUniforms={},o&&o.length>0&&(Rs(this.gl),this.varyings=o,this.gl2.transformFeedbackVaryings(this.handle,o,s)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new vge(this),this.setProps(e)}delete(){return this._isCached?this:super.delete(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}setProps(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}draw(e){let{logPriority:t,drawMode:i=4,vertexCount:r,offset:o=0,start:s,end:a,isIndexed:c=!1,indexType:l=5123,instanceCount:d=0,isInstanced:h=d>0,vertexArray:p=null,transformFeedback:_,framebuffer:w,parameters:I={},uniforms:L,samplers:K}=e;if((L||K)&&(Mn.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(L||{})),Mn.priority>=t){const Q=w?w.id:"default",me="mode=".concat(vh(this.gl,i)," verts=").concat(r," ")+"instances=".concat(d," indexType=").concat(vh(this.gl,l)," ")+"isInstanced=".concat(h," isIndexed=").concat(c," ")+"Framebuffer=".concat(Q);Mn.log(t,me)()}return cn(p),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===r||h&&0===d||(p.bindForDraw(r,d,()=>{if(void 0!==w&&(I=Object.assign({},I,{framebuffer:w})),_){const Q=function Q6(n){switch(n){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return cn(!1),0}}(i);_.begin(Q)}this._bindTextures(),mc(this.gl,I,()=>{c&&h?this.gl2.drawElementsInstanced(i,r,l,o,d):c&&Ci(this.gl)&&!isNaN(s)&&!isNaN(a)?this.gl2.drawRangeElements(i,s,a,r,l,o):c?this.gl.drawElements(i,r,l,o):h?this.gl2.drawArraysInstanced(i,o,r,d):this.gl.drawArrays(i,o,r)}),_&&_.end()}),0))}setUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Mn.priority>=2&&function Bme(n,e,t){for(const i in n){const r=n[i];if((!t||t[i])&&!Ume(r))throw e=e?"".concat(e," "):"",console.error("".concat(e," Bad uniform ").concat(i),r),new Error("".concat(e," Bad uniform ").concat(i))}}(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const t in e){const i=e[t],r=this._uniformSetters[t];if(r){let o=i,s=!1;if(o instanceof vo&&(o=o.texture),o instanceof dp)if(s=this.uniforms[t]!==i,s){void 0===r.textureIndex&&(r.textureIndex=this._textureIndexCounter++);const a=o,{textureIndex:c}=r;a.bind(c),o=c,this._textureUniforms[t]=a}else o=r.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(r(o)||s)&&jme(this.uniforms,t,i)}}return this}_areTexturesRenderable(){let e=!0;for(const t in this._textureUniforms){const i=this._textureUniforms[t];i.update(),e=e&&i.loaded}return e}_bindTextures(){for(const e in this._textureUniforms)this._textureUniforms[e].bind(this._uniformSetters[e].textureIndex)}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(e){const t=this.gl.getAttachedShaders(e),i={};for(const r of t)switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:i.vs=new Jk({handle:r});break;case 35632:i.fs=new Zk({handle:r})}return i}_getParameter(e){return this.gl.getProgramParameter(this.handle,e)}_setId(e){if(!e){const t=this._getName();this.id=Ca(t)}}_getName(){let e=this.vs.getName()||this.fs.getName();return e=e.replace(/shader/i,""),e=e?"".concat(e,"-program"):"program",e}_compileAndLink(){const{gl:e}=this;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),Mn.time(4,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),Mn.timeEnd(4,"linkProgram for ".concat(this._getName()))(),e.debug||Mn.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));if(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}_readUniformLocationsFromLinkedProgram(){const{gl:e}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let t=0;t<this._uniformCount;t++){const i=this.gl.getActiveUniform(this.handle,t),{name:r}=Lme(i.name);let o=e.getUniformLocation(this.handle,r);if(this._uniformSetters[r]=W6(e,o,i),i.size>1)for(let s=0;s<i.size;s++)o=e.getUniformLocation(this.handle,"".concat(r,"[").concat(s,"]")),this._uniformSetters["".concat(r,"[").concat(s,"]")]=W6(e,o,i)}this._textureIndexCounter=0}getActiveUniforms(e,t){return this.gl2.getActiveUniforms(this.handle,e,t)}getUniformBlockIndex(e){return this.gl2.getUniformBlockIndex(this.handle,e)}getActiveUniformBlockParameter(e,t){return this.gl2.getActiveUniformBlockParameter(this.handle,e,t)}uniformBlockBinding(e,t){this.gl2.uniformBlockBinding(this.handle,e,t)}}class v0{static getDefaultProgramManager(e){return e.luma=e.luma||{},e.luma.defaultProgramManager=e.luma.defaultProgramManager||new v0(e),e.luma.defaultProgramManager}constructor(e){this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(e){this._defaultModules.find(t=>t.name===e.name)||this._defaultModules.push(e),this.stateHash++}removeDefaultModule(e){const t="string"==typeof e?e:e.name;this._defaultModules=this._defaultModules.filter(i=>i.name!==t),this.stateHash++}addShaderHook(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{vs:t="",fs:i="",defines:r={},inject:o={},varyings:s=[],bufferMode:a=35981,transpileToGLSL100:c=!1}=e,l=this._getModuleList(e.modules),d=this._getHash(t),h=this._getHash(i),p=l.map(me=>this._getHash(me.name)).sort(),_=s.map(me=>this._getHash(me)),w=Object.keys(r).sort(),I=Object.keys(o).sort(),L=[],K=[];for(const me of w)L.push(this._getHash(me)),L.push(this._getHash(r[me]));for(const me of I)K.push(this._getHash(me)),K.push(this._getHash(o[me]));const Q="".concat(d,"/").concat(h,"D").concat(L.join("/"),"M").concat(p.join("/"),"I").concat(K.join("/"),"V").concat(_.join("/"),"H").concat(this.stateHash,"B").concat(a).concat(c?"T":"");if(!this._programCache[Q]){const me=function Ame(n,e){const{vs:t,fs:i}=e,r=rme(e.modules||[]);return{gl:n,vs:H6(n,Object.assign({},e,{source:t,type:g0,modules:r})),fs:H6(n,Object.assign({},e,{source:i,type:"fs",modules:r})),getUniforms:Mme(r)}}(this.gl,{vs:t,fs:i,modules:l,inject:o,defines:r,hookFunctions:this._hookFunctions,transpileToGLSL100:c});this._programCache[Q]=new iH(this.gl,{hash:Q,vs:me.vs,fs:me.fs,varyings:s,bufferMode:a}),this._getUniforms[Q]=me.getUniforms||(Pe=>{}),this._useCounts[Q]=0}return this._useCounts[Q]++,this._programCache[Q]}getUniforms(e){return this._getUniforms[e.hash]||null}release(e){const t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t].delete(),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])}_getHash(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}_getModuleList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=new Array(this._defaultModules.length+e.length),i={};let r=0;for(let o=0,s=this._defaultModules.length;o<s;++o){const a=this._defaultModules[o],c=a.name;t[r++]=a,i[c]=!0}for(let o=0,s=e.length;o<s;++o){const a=e[o],c=a.name;i[c]||(t[r++]=a,i[c]=!0)}return t.length=r,t}}let LC=null;const BC=globalThis;function rH(n){if(!n&&!Gl())return"Node";if(y5(n))return"Electron";const t=n||(typeof navigator<"u"?navigator:{}).userAgent||"";if(t.indexOf("Edge")>-1)return"Edge";const i=-1!==t.indexOf("MSIE "),r=-1!==t.indexOf("Trident/");return i||r?"IE":BC.chrome?"Chrome":BC.safari?"Safari":BC.mozInnerScreenX?"Firefox":"Unknown"}class Ha extends iu{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(e){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).constantAttributeZero||Ci(e)||"Chrome"===rH()}static getDefaultArray(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new Ha(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}static getMaxAttributes(e){return Ha.MAX_ATTRIBUTES=Ha.MAX_ATTRIBUTES||e.getParameter(34921),Ha.MAX_ATTRIBUTES}static setConstant(e,t,i){switch(i.constructor){case Float32Array:Ha._setConstantFloatArray(e,t,i);break;case Int32Array:Ha._setConstantIntArray(e,t,i);break;case Uint32Array:Ha._setConstantUintArray(e,t,i);break;default:cn(!1)}}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,Object.assign({},t,{id:t.id||t.program&&t.program.id})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=t.isDefaultArray||!1,this.gl2=e,this.initialize(t),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return Ha.getMaxAttributes(this.gl)}initialize(){return this.setProps(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}setProps(e){return this}setElementBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return cn(!e||34963===e.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind(()=>{this.gl.bindBuffer(34963,e?e.handle:null)}),this}setBuffer(e,t,i){if(34963===t.target)return this.setElementBuffer(t,i);const{size:r,type:o,stride:s,offset:a,normalized:c,integer:l,divisor:d}=i,{gl:h,gl2:p}=this;return e=Number(e),this.bind(()=>{h.bindBuffer(34962,t.handle),l?(cn(Ci(h)),p.vertexAttribIPointer(e,r,o,s,a)):h.vertexAttribPointer(e,r,o,c,s,a),h.enableVertexAttribArray(e),p.vertexAttribDivisor(e,d||0)}),this}enable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!t&&0===e&&!Ha.isSupported(this.gl,{constantAttributeZero:!0})||(e=Number(e),this.bind(()=>t?this.gl.enableVertexAttribArray(e):this.gl.disableVertexAttribArray(e))),this}getConstantBuffer(e,t){const i=this._normalizeConstantArrayValue(t),r=i.byteLength*e,o=i.length*e;let s=!this.buffer;if(this.buffer=this.buffer||new cr(this.gl,r),s=s||this.buffer.reallocate(r),s=s||!this._compareConstantArrayValues(i,this.bufferValue),s){const a=function Cge(n,e){const t=function Ege(n){return(!LC||LC.byteLength<n)&&(LC=new ArrayBuffer(n)),LC}(n.BYTES_PER_ELEMENT*e);return new n(t,0,e)}(t.constructor,o);(function Sge(n){let{target:e,source:t,start:i=0,count:r=1}=n;const o=t.length,s=r*o;let a=0;for(let c=i;a<o;a++)e[c++]=t[a];for(;a<s;)a<s-a?(e.copyWithin(i+a,i,i+a),a*=2):(e.copyWithin(i+a,i,i+s-a),a=s)})({target:a,source:i,start:0,count:o}),this.buffer.subData(a),this.bufferValue=t}return this.buffer}_normalizeConstantArrayValue(e){return Array.isArray(e)?new Float32Array(e):e}_compareConstantArrayValues(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}static _setConstantFloatArray(e,t,i){switch(i.length){case 1:e.vertexAttrib1fv(t,i);break;case 2:e.vertexAttrib2fv(t,i);break;case 3:e.vertexAttrib3fv(t,i);break;case 4:e.vertexAttrib4fv(t,i);break;default:cn(!1)}}static _setConstantIntArray(e,t,i){switch(cn(Ci(e)),i.length){case 1:e.vertexAttribI1iv(t,i);break;case 2:e.vertexAttribI2iv(t,i);break;case 3:e.vertexAttribI3iv(t,i);break;case 4:e.vertexAttribI4iv(t,i);break;default:cn(!1)}}static _setConstantUintArray(e,t,i){switch(cn(Ci(e)),i.length){case 1:e.vertexAttribI1uiv(t,i);break;case 2:e.vertexAttribI2uiv(t,i);break;case 3:e.vertexAttribI3uiv(t,i);break;case 4:e.vertexAttribI4uiv(t,i);break;default:cn(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(e){return this.gl2.deleteVertexArray(e),[this.elements]}_bindHandle(e){this.gl2.bindVertexArray(e)}_getParameter(e,t){let{location:i}=t;return cn(Number.isFinite(i)),this.bind(()=>34373===e?this.gl.getVertexAttribOffset(i,e):this.gl.getVertexAttrib(i,e))}}const Tge=/^(.+)__LOCATION_([0-9]+)$/,Ige=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class Dge{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.id=t.id||t.program&&t.program.id,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new Ha(e),$5(this,"VertexArray","v6.0",Ige),this.initialize(t),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:e}=this.vertexArrayObject;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}setProps(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(e){return Object.assign(this.attributes,e),this.vertexArrayObject.bind(()=>{for(const t in e)this._setAttribute(t,e[t]);this.gl.bindBuffer(34962,null)}),this}setElementBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,t),this}setBuffer(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===t.target)return this.setElementBuffer(t,i);const{location:r,accessor:o}=this._resolveLocationAndAccessor(e,t,t.accessor,i);return r>=0&&(this.values[r]=t,this.accessors[r]=o,this.clearDrawParams(),this.vertexArrayObject.setBuffer(r,t,o)),this}setConstant(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{location:r,accessor:o}=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},i));return r>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t),this.values[r]=t,this.accessors[r]=o,this.clearDrawParams(),this.vertexArrayObject.enable(r,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new cr(this.gl,{accessor:{size:4}});for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this.values[e]instanceof cr&&(this.gl.disableVertexAttribArray(e),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(e,1,5126,!1,0,0))}),this}bindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.setElementBuffer(this.elements);for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++){const t=this.values[e];t instanceof cr&&this.setBuffer(e,t)}}),this}bindForDraw(e,t,i){let r;return this.vertexArrayObject.bind(()=>{this._setConstantAttributes(e,t),r=i()}),r}_resolveLocationAndAccessor(e,t,i,r){const o={location:-1,accessor:null},{location:s,name:a}=this._getAttributeIndex(e);if(!Number.isFinite(s)||s<0)return this.unused[e]=t,Mn.once(3,()=>"unused value ".concat(e," in ").concat(this.id))(),o;const c=this._getAttributeInfo(a||s);if(!c)return o;const d=Sa.resolve(c.accessor,this.accessors[s]||{},i,r),{size:h,type:p}=d;return cn(Number.isFinite(h)&&Number.isFinite(p)),{location:s,accessor:d}}_getAttributeInfo(e){return this.configuration&&this.configuration.getAttributeInfo(e)}_getAttributeIndex(e){const t=Number(e);if(Number.isFinite(t))return{location:t};const i=Tge.exec(e),r=i?i[1]:e,o=i?Number(i[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(r)+o,name:r}:{location:-1}}_setAttribute(e,t){if(t instanceof cr)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof cr)this.setBuffer(e,t[0],t[1]);else if(ArrayBuffer.isView(t)||Array.isArray(t))this.setConstant(e,t);else{if(!(t.buffer instanceof cr))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");this.setBuffer(e,t.buffer,t)}}_setConstantAttributes(e,t){const i=Math.max(0|e,0|t);let r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,i);for(let o=1;o<this.vertexArrayObject.MAX_ATTRIBUTES;o++)r=this.values[o],ArrayBuffer.isView(r)&&this._setConstantAttribute(o,r)}_setConstantAttributeZero(e,t){if(Ha.isSupported(this.gl,{constantAttributeZero:!0}))return void this._setConstantAttribute(0,e);const i=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,i,this.accessors[0])}_setConstantAttribute(e,t){Ha.setConstant(this.gl,e,t)}_updateDrawParams(){const e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}_updateDrawParamsForLocation(e,t){const i=this.values[t],r=this.accessors[t];if(!i)return;const{divisor:o}=r,s=o>0;if(e.isInstanced=e.isInstanced||s,i instanceof cr){const a=i;if(s){const c=a.getVertexCount(r);e.instanceCount=Math.min(e.instanceCount,c)}else{const c=a.getVertexCount(r);e.vertexCount=Math.min(e.vertexCount,c)}}}setElements(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Mn.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)}}function w0(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isInteger:i=!1}=e;if(Array.isArray(n)||ArrayBuffer.isView(n))return function Oge(n,e){const{maxElts:t=16,size:i=1}=e;let r="[";for(let s=0;s<n.length&&s<t;++s)s>0&&(r+=",".concat(s%i==0?" ":"")),r+=w0(n[s],e);const o=n.length>t?"...":"]";return"".concat(r).concat(o)}(n,e);if(!Number.isFinite(n))return String(n);if(Math.abs(n)<1e-16)return i?"0":"0.";if(i||Math.abs(n)>100&&Math.abs(n)<1e4)return n.toFixed(0);const r=n.toPrecision(2);return r.indexOf(".0")===r.length-2?r.slice(0,-1):r}function oH(n,e,t,i){const{gl:r}=n;if(!e)return{[i]:"null","Format ":"N/A"};let l,d,h,o="NOT PROVIDED",s=1,a=0,c=0;if(t&&(o=t.type,s=t.size,o=String(o).replace("Array",""),l=-1!==o.indexOf("nt")),e instanceof cr){const p=e,{data:_,changed:w}=p.getDebugData();let I;return d=w?"*":"",h=_,c=p.byteLength,a=c/_.BYTES_PER_ELEMENT/s,t?I="".concat(t.divisor>0?"I ":"P "," ").concat(a," (x").concat(s,"=").concat(c," bytes ").concat(vh(r,o),")"):(l=!0,I="".concat(c," bytes")),{[i]:"".concat(d).concat(w0(h,{size:s,isInteger:l})),"Format ":I}}return h=e,s=e.length,o=String(e.constructor.name).replace("Array",""),l=-1!==o.indexOf("nt"),{[i]:"".concat(w0(h,{size:s,isInteger:l})," (constant)"),"Format ":"".concat(s,"x").concat(o," (constant)")}}function Rge(n,e){const{type:t,size:i}=e,r=tH(t,i);return r?"".concat(n," (").concat(r.name,")"):n}function sH(n){let{header:e="Uniforms",program:t,uniforms:i,undefinedOnly:r=!1}=n;cn(t);const s=".*Matrix",c={},l=Object.keys(t._uniformSetters).sort();let d=0;for(const _ of l)!_.match(".*_.*")&&!_.match(s)&&e2({table:c,header:e,uniforms:i,uniformName:_,undefinedOnly:r})&&d++;for(const _ of l)_.match(s)&&e2({table:c,header:e,uniforms:i,uniformName:_,undefinedOnly:r})&&d++;for(const _ of l)c[_]||e2({table:c,header:e,uniforms:i,uniformName:_,undefinedOnly:r})&&d++;let h=0;const p={};if(!r)for(const _ in i){const w=i[_];c[_]||(h++,p[_]={Type:"NOT USED: ".concat(w),[e]:w0(w)})}return{table:c,count:d,unusedTable:p,unusedCount:h}}function e2(n){let{table:e,header:t,uniforms:i,uniformName:r,undefinedOnly:o}=n;const s=i[r],a=function Pge(n){return null!=n}(s);return!(o&&a||(e[r]={[t]:a?w0(s):"N/A","Uniform Type":a?s:"NOT PROVIDED"},0))}function aH(n){const{type:e,size:t}=n.accessor,i=tH(e,t);return i?"".concat(i.name," ").concat(n.name):n.name}const Fge={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function Bge(n,e){const{attributeMap:t=Fge}=e||{};return t&&t[n]||n}function Uge(n,e){let t;switch(n){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":t="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":t="vectors"}switch(t){case"vectors":e.size=e.size||3;break;case"uvs":e.size=e.size||2}cn(Number.isFinite(e.size),"attribute ".concat(n," needs size"))}const cH=()=>{},zge={};class h_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:i=Ca("model")}=t;cn(vC(e)),this.id=i,this.gl=e,this.id=t.id||Ca("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(t)}initialize(e){this.props={},this.programManager=e.programManager||v0.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:t=null,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=e;this.programProps={program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},cn(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}setProps(e){this._setModelProps(e)}delete(){for(const e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(e){const{program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=e;this.programProps={program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(e){return this.drawMode=e,this}setVertexCount(e){return cn(Number.isFinite(e)),this.vertexCount=e,this}setInstanceCount(e){return cn(Number.isFinite(e)),this.instanceCount=e,this}setGeometry(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function Lge(n,e,t){const i={};let r=e.indices;for(const o in e.attributes){const s=e.attributes[o],a=Bge(o,t);if("indices"===o)r=s;else if(s.constant)i[a]=s.value;else{const c=s.value,l={...s};delete l.value,i[a]=[new cr(n,c),l],Uge(o,l)}}if(r){const o=r.value||r;cn(o instanceof Uint16Array||o instanceof Uint32Array,'attribute array for "indices" must be of integer type');const s={size:1,isIndexed:void 0===r.isIndexed||r.isIndexed};i.indices=[new cr(n,{data:o,target:34963}),s]}return i}(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i_(e))return this;const t={};for(const i in e){const r=e[i];t[i]=r.getValue?r.getValue():r}return this.vertexArray.setAttributes(t),this}setUniforms(){return Object.assign(this.uniforms,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this}getModuleUniforms(e){this._checkProgram();const t=this.programManager.getUniforms(this.program);return t?t(e):{}}updateModuleSettings(e){const t=this.getModuleUniforms(e||{});return this.setUniforms(t)}clear(e){return Ak(this.program.gl,e),this}draw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();const{moduleSettings:t=null,framebuffer:i,uniforms:r={},attributes:o={},transformFeedback:s=this.transformFeedback,parameters:a={},vertexArray:c=this.vertexArray}=e;let l;this.setAttributes(o),this.updateModuleSettings(t),this.setUniforms(r),Mn.priority>=2&&(l=this._logDrawCallStart(2));const d=this.vertexArray.getDrawParams(),{isIndexed:h=d.isIndexed,indexType:p=d.indexType,indexOffset:_=d.indexOffset,vertexArrayInstanced:w=d.isInstanced}=this.props;w&&!this.isInstanced&&Mn.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:I,instanceCount:L}=this,{onBeforeRender:K=cH,onAfterRender:Q=cH}=this.props;K(),this.program.setUniforms(this.uniforms);const me=this.program.draw(Object.assign(zge,e,{logPriority:l,uniforms:null,framebuffer:i,parameters:a,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:c,transformFeedback:s,isIndexed:h,indexType:p,isInstanced:I,instanceCount:L,offset:h?_:0}));return Q(),Mn.priority>=2&&this._logDrawCallEnd(l,c,i),me}transform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{discard:t=!0,feedbackBuffers:i,unbindModels:r=[]}=e;let{parameters:o}=e;i&&this._setFeedbackBuffers(i),t&&(o=Object.assign({},o,{35977:t})),r.forEach(s=>s.vertexArray.unbindBuffers());try{this.draw(Object.assign({},e,{parameters:o}))}finally{r.forEach(s=>s.vertexArray.bindBuffers())}return this}render(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Mn.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}_setModelProps(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}_checkProgram(){if(!this._programDirty&&this.programManager.stateHash===this._programManagerState)return;let{program:t}=this.programProps;if(t)this._managedProgram=!1;else{const{vs:i,fs:r,modules:o,inject:s,defines:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=this.programProps;t=this.programManager.get({vs:i,fs:r,modules:o,inject:s,defines:a,varyings:c,bufferMode:l,transpileToGLSL100:d}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}cn(t instanceof iH,"Model needs a program"),this._programDirty=!1,t!==this.program&&(this.program=t,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new Dge(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const e in this.geometryBuffers){const t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof cr&&t.delete()}}_setAnimationProps(e){this.animated&&cn(e,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i_(e))return this;const{gl:t}=this.program;return this.transformFeedback=this.transformFeedback||new D6(t,{program:this.program}),this.transformFeedback.setBuffers(e),this}_logDrawCallStart(e){const t=e>3?0:1e4;if(!(Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),Mn.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:Mn.level<=2})(),e}_logDrawCallEnd(e,t,i,r){if(void 0===e)return;const o=function kge(n){let{vertexArray:e,header:t="Attributes"}=n;if(!e.configuration)return{};const i={};e.elements&&(i.ELEMENT_ARRAY_BUFFER=oH(e,e.elements,null,t));const r=e.values;for(const o in r){const s=e._getAttributeInfo(o);if(s){let a="".concat(o,": ").concat(s.name);const c=e.accessors[s.location];c&&(a="".concat(o,": ").concat(Rge(s.name,c))),i[a]=oH(e,r[o],c,t)}}return i}({vertexArray:t,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:s,unusedTable:a,unusedCount:c}=sH({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,i)}),{table:l,count:d}=sH({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,i),undefinedOnly:!0});d>0&&Mn.log("MISSING UNIFORMS",Object.keys(l))(),c>0&&Mn.log("UNUSED UNIFORMS",Object.keys(a))();const h=function Nge(n){const e={},t="Accessors for ".concat(n.id);for(const i of n.attributeInfos)if(i){const r=aH(i);e["in ".concat(r)]={[t]:JSON.stringify(i.accessor)}}for(const i of n.varyingInfos)if(i){const r=aH(i);e["out ".concat(r)]={[t]:JSON.stringify(i.accessor)}}return e}(this.vertexArray.configuration);Mn.table(e,o)(),Mn.table(e,s)(),Mn.table(e+1,h)(),r&&r.log({logLevel:2,message:"Rendered to ".concat(r.id)}),Mn.groupEnd(2)()}}class t2{static isSupported(e){return Ci(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(t),Object.seal(this)}delete(){const{model:e,bufferTransform:t,textureTransform:i}=this;e&&e.delete(),t&&t.delete(),i&&i.delete()}run(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{clearRenderTarget:t=!0}=e,i=this._updateDrawOptions(e);t&&i.framebuffer&&i.framebuffer.clear({color:!0}),this.model.transform(i)}swap(){let e=!1;const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t)e=e||i.swap();cn(e,"Nothing to swap")}getBuffer(){return this.bufferTransform&&this.bufferTransform.getBuffer(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t){const r=i.getData(e);if(r)return r}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t)i.update(e)}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gl:t}=this;this._buildResourceTransforms(t,e),e=this._updateModelProps(e),this.model=new h_(t,Object.assign({},e,{fs:e.fs||I6({version:O6(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(e){let t=Object.assign({},e);const i=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of i)t=r.updateModelProps(t);return t}_buildResourceTransforms(e,t){(function Hge(n){return!(i_(n.feedbackBuffers)&&i_(n.feedbackMap)&&!(n.varyings&&n.varyings.length>0))})(t)&&(this.bufferTransform=new Bpe(e,t)),function Gge(n){return!(i_(n._sourceTextures)&&!n._targetTexture&&!n._targetTextureVarying)}(t)&&(this.textureTransform=new Zpe(e,t)),cn(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(e){let t=Object.assign({},e);const i=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of i)t=Object.assign(t,r.getDrawOptions(t));return t}}class x0{constructor(e){Me(this,"_inProgress",void 0),Me(this,"_handle",void 0),Me(this,"_timeline",void 0),Me(this,"time",void 0),Me(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=e,this.time=0,this.settings={duration:0}}get inProgress(){return this._inProgress}start(e){var t,i;this.cancel(),this.settings=e,this._inProgress=!0,null===(t=(i=this.settings).onStart)||void 0===t||t.call(i,this)}end(){var e,t;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(e=(t=this.settings).onEnd)||void 0===e||e.call(t,this))}cancel(){var e,t;this._inProgress&&(null===(e=(t=this.settings).onInterrupt)||void 0===e||e.call(t,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var e,t;if(!this._inProgress)return!1;if(null===this._handle){const{_timeline:i,settings:r}=this;this._handle=i.addChannel({delay:i.getTime(),duration:r.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(e=(t=this.settings).onUpdate)||void 0===e||e.call(t,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const Zge={interpolation:class Wge{constructor({gl:e,attribute:t,timeline:i}){Me(this,"gl",void 0),Me(this,"type","interpolation"),Me(this,"attributeInTransition",void 0),Me(this,"settings",void 0),Me(this,"attribute",void 0),Me(this,"transition",void 0),Me(this,"currentStartIndices",void 0),Me(this,"currentLength",void 0),Me(this,"transform",void 0),Me(this,"buffers",void 0),this.gl=e,this.transition=new x0(i),this.attribute=t,this.attributeInTransition=new Bk(e,t.settings),this.currentStartIndices=t.startIndices,this.currentLength=0,this.transform=function Yge(n,e){const t=C6(e.size);return new t2(n,{vs:"\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n",defines:{ATTRIBUTE_TYPE:t},varyings:["vCurrent"]})}(e,t);const r={byteLength:0,usage:35050};this.buffers=[new cr(e,r),new cr(e,r)]}get inProgress(){return this.transition.inProgress}start(e,t){if(e.duration<=0)return void this.transition.cancel();this.settings=e;const{buffers:r,attribute:o}=this;S6(r);const s={numInstances:t,attribute:o,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const a of r)A6({buffer:a,...s});this.currentStartIndices=o.startIndices,this.currentLength=Lk(o,t),this.attributeInTransition.setData({buffer:r[1],value:o.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/o.size),sourceBuffers:{aFrom:r[0],aTo:E6(0,o)},feedbackBuffers:{vCurrent:r[1]}})}update(){const e=this.transition.update();if(e){const{duration:t,easing:i}=this.settings,{time:r}=this.transition;let o=r/t;i&&(o=i(o)),this.transform.run({uniforms:{time:o}})}return e}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0}},spring:class Xge{constructor({gl:e,attribute:t,timeline:i}){Me(this,"gl",void 0),Me(this,"type","spring"),Me(this,"attributeInTransition",void 0),Me(this,"settings",void 0),Me(this,"attribute",void 0),Me(this,"transition",void 0),Me(this,"currentStartIndices",void 0),Me(this,"currentLength",void 0),Me(this,"texture",void 0),Me(this,"framebuffer",void 0),Me(this,"transform",void 0),Me(this,"buffers",void 0),this.gl=e,this.type="spring",this.transition=new x0(i),this.attribute=t,this.attributeInTransition=new Bk(e,{...t.settings,normalized:!1}),this.currentStartIndices=t.startIndices,this.currentLength=0,this.texture=function qge(n){return new ls(n,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(e),this.framebuffer=function Jge(n,e){return new vo(n,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{36064:e}})}(e,this.texture),this.transform=function Kge(n,e,t){const i=C6(e.size);return new t2(n,{framebuffer:t,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:i},varyings:["vNext"]})}(e,t,this.framebuffer);const r={byteLength:0,usage:35050};this.buffers=[new cr(e,r),new cr(e,r),new cr(e,r)]}get inProgress(){return this.transition.inProgress}start(e,t){const{buffers:r,attribute:o}=this,s={numInstances:t,attribute:o,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const a of r)A6({buffer:a,...s});this.settings=e,this.currentStartIndices=o.startIndices,this.currentLength=Lk(o,t),this.attributeInTransition.setData({buffer:r[1],value:o.value}),this.transition.start({...e,duration:1/0}),this.transform.update({elementCount:Math.floor(this.currentLength/o.size),sourceBuffers:{aTo:E6(0,o)}})}update(){const{buffers:e,transform:t,framebuffer:i,transition:r}=this;if(!r.update())return!1;const s=this.settings;return t.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),t.run({framebuffer:i,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:s.stiffness,damping:s.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),S6(e),this.attributeInTransition.setData({buffer:e[1],value:this.attribute.value}),xC(i)[0]>0||r.end(),!0}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}};class Qge{constructor(e,{id:t,timeline:i}){Me(this,"id",void 0),Me(this,"isSupported",void 0),Me(this,"gl",void 0),Me(this,"timeline",void 0),Me(this,"transitions",void 0),Me(this,"needsRedraw",void 0),Me(this,"numInstances",void 0),this.id=t,this.gl=e,this.timeline=i,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=t2.isSupported(e)}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:t,numInstances:i}){this.numInstances=i||1;for(const r in e){const o=e[r],s=o.getTransitionSetting(t);s&&this._updateAttribute(r,o,s)}for(const r in this.transitions){const o=e[r];(!o||!o.getTransitionSetting(t))&&this._removeTransition(r)}}hasAttribute(e){const t=this.transitions[e];return t&&t.inProgress}getAttributes(){const e={};for(const t in this.transitions){const i=this.transitions[t];i.inProgress&&(e[t]=i.attributeInTransition)}return e}run(){if(!this.isSupported||0===this.numInstances)return!1;for(const t in this.transitions)this.transitions[t].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].cancel(),delete this.transitions[e]}_updateAttribute(e,t,i){const r=this.transitions[e];let o=!r||r.type!==i.type;if(o){if(!this.isSupported)return void Oi.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();r&&this._removeTransition(e);const s=Zge[i.type];s?this.transitions[e]=new s({attribute:t,timeline:this.timeline,gl:this.gl}):(Oi.error("unsupported transition type '".concat(i.type,"'"))(),o=!1)}(o||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(i,this.numInstances))}}const lH="attributeManager.invalidate";class o_e{constructor(e,{id:t="attribute-manager",stats:i,timeline:r}={}){Me(this,"id",void 0),Me(this,"gl",void 0),Me(this,"attributes",void 0),Me(this,"updateTriggers",void 0),Me(this,"needsRedraw",void 0),Me(this,"userData",void 0),Me(this,"stats",void 0),Me(this,"attributeTransitionManager",void 0),this.id=t,this.gl=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=i,this.attributeTransitionManager=new Qge(e,{id:"".concat(t,"-transitions"),timeline:r}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{instanced:1})}remove(e){for(const t of e)void 0!==this.attributes[t]&&(this.attributes[t].delete(),delete this.attributes[t])}invalidate(e,t){const i=this._invalidateTrigger(e,t);Ns(lH,this,e,i)}invalidateAll(e){for(const t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);Ns(lH,this,"all")}update({data:e,numInstances:t,startIndices:i=null,transitions:r,props:o={},buffers:s={},context:a={}}){let c=!1;Ns("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const l in this.attributes){const d=this.attributes[l],h=d.settings.accessor;d.startIndices=i,d.numInstances=t,o[l]&&Oi.removed("props.".concat(l),"data.attributes.".concat(l))(),d.setExternalBuffer(s[l])||d.setBinaryValue("string"==typeof h?s[h]:void 0,e.startIndices)||"string"==typeof h&&!s[h]&&d.setConstantValue(o[h])||d.needsUpdate()&&(c=!0,this._updateAttribute({attribute:d,numInstances:t,data:e,props:o,context:a})),this.needsRedraw=this.needsRedraw||d.needsRedraw()}c&&Ns("attributeManager.updateEnd",this,t),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:t,transitions:r})}updateTransition(){const{attributeTransitionManager:e}=this,t=e.run();return this.needsRedraw=this.needsRedraw||t,t}getAttributes(){return this.attributes}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:t,attributeTransitionManager:i}=this,r={...i.getAttributes()};for(const o in t){const s=t[o];s.needsRedraw(e)&&!i.hasAttribute(o)&&(r[o]=s)}return r}getShaderAttributes(e,t={}){e||(e=this.getAttributes());const i={};for(const r in e)t[r]||Object.assign(i,e[r].getShaderAttributes());return i}_add(e,t={}){for(const i in e)this.attributes[i]=this._createAttribute(i,e[i],t);this._mapUpdateTriggersToAttributes()}_createAttribute(e,t,i){const r={...t,id:e,size:(t.isIndexed?1:t.size)||1,divisor:i.instanced?1:t.divisor||0};return new Bk(this.gl,r)}_mapUpdateTriggersToAttributes(){const e={};for(const t in this.attributes)this.attributes[t].getUpdateTriggers().forEach(r=>{e[r]||(e[r]=[]),e[r].push(t)});this.updateTriggers=e}_invalidateTrigger(e,t){const{attributes:i,updateTriggers:r}=this,o=r[e];return o&&o.forEach(s=>{const a=i[s];a&&a.setNeedsUpdate(a.id,t)}),o}_updateAttribute(e){const{attribute:t,numInstances:i}=e;Ns("attribute.updateStart",t),t.constant?t.setConstantValue(t.value):(t.allocate(i)&&Ns("attribute.allocate",t,i),t.updateBuffer(e)&&(this.needsRedraw=!0,Ns("attribute.updateEnd",t,i)))}}function uH(n,e,t,i,r){const o=e-n;return(t-e)*r+-o*i+o+e}function hH(n,e){if(Array.isArray(n)){let t=0;for(let i=0;i<n.length;i++){const r=n[i]-e[i];t+=r*r}return Math.sqrt(t)}return Math.abs(n-e)}const l_e={interpolation:class s_e extends x0{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:t,toValue:i,duration:r,easing:o}}=this,s=o(e/r);this._value=EC(t,i,s)}},spring:class c_e extends x0{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:t,damping:i,stiffness:r}=this.settings,{_prevValue:o=e,_currValue:s=e}=this;let a=function a_e(n,e,t,i,r){if(Array.isArray(t)){const o=[];for(let s=0;s<t.length;s++)o[s]=uH(n[s],e[s],t[s],i,r);return o}return uH(n,e,t,i,r)}(o,s,t,i,r);const c=hH(a,t),l=hH(a,s);c<1e-5&&l<1e-5&&(a=t,this.end()),this._prevValue=s,this._currValue=a}}};class d_e{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,t,i,r){const{transitions:o}=this;if(o.has(e)){const c=o.get(e),{value:l=c.settings.fromValue}=c;t=l,this.remove(e)}if(!(r=x6(r)))return;const s=l_e[r.type];if(!s)return void Oi.error("unsupported transition type '".concat(r.type,"'"))();const a=new s(this.timeline);a.start({...r,fromValue:t,toValue:i}),o.set(e,a)}remove(e){const{transitions:t}=this;t.has(e)&&(t.get(e).cancel(),t.delete(e))}update(){const e={};for(const[t,i]of this.transitions)i.update(),e[t]=i.value,i.inProgress||this.remove(t);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}const UC=Symbol.for("component"),p_=Symbol.for("asyncPropDefaults"),fp=Symbol.for("asyncPropOriginal"),xh=Symbol.for("asyncPropResolved");function f_e(n,e){if(!n.transitions)return!1;const t={},i=r2(n);let r=!1;for(const o in n.transitions){const s=i[o],a=s&&s.type;("number"===a||"color"===a||"array"===a)&&n2(n[o],e[o],s)&&(t[o]=!0,r=!0)}return!!r&&t}function fH({newProps:n,oldProps:e,ignoreProps:t={},propTypes:i={},triggerName:r="props"}){if(e===n)return!1;if("object"!=typeof n||null===n||"object"!=typeof e||null===e)return"".concat(r," changed shallowly");for(const o of Object.keys(n))if(!(o in t)){if(!(o in e))return"".concat(r,".").concat(o," added");const s=n2(n[o],e[o],i[o]);if(s)return"".concat(r,".").concat(o," ").concat(s)}for(const o of Object.keys(e))if(!(o in t)){if(!(o in n))return"".concat(r,".").concat(o," dropped");if(!Object.hasOwnProperty.call(n,o)){const s=n2(n[o],e[o],i[o]);if(s)return"".concat(r,".").concat(o," ").concat(s)}}return!1}function n2(n,e,t){let i=t&&t.equal;return i&&!i(n,e,t)||!i&&(i=n&&e&&n.equals,i&&!i.call(n,e))?"changed deeply":i||e===n?null:"changed shallowly"}function g_e(n,e){if(null===e)return!0;const t=e.extensions,{extensions:i}=n;if(i===t)return!1;if(!t||!i||i.length!==t.length)return!0;for(let r=0;r<i.length;r++)if(!i[r].equals(t[r]))return!0;return!1}function pH(n,e,t){let i=n.updateTriggers[t];i=i??{};let r=e.updateTriggers[t];return r=r??{},fH({oldProps:r,newProps:i,triggerName:t})}function r2(n){const e=n[UC],t=e&&e.constructor;return t?t._propTypes:{}}function x_e(n,e){if(n===e)return!0;if(Array.isArray(n)){const t=n.length;if(!e||e.length!==t)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}return!1}function jC(n){let t,e={};return i=>{for(const r in i)if(!x_e(i[r],e[r])){t=n(i),e=i;break}return t}}function E_e(n,e){if(!e)return n;const t={...n,...e};if("defines"in e&&(t.defines={...n.defines,...e.defines}),"modules"in e&&(t.modules=(n.modules||[]).concat(e.modules),e.modules.some(i=>"project64"===i.name))){const i=t.modules.findIndex(r=>"project32"===r.name);i>=0&&t.modules.splice(i,1)}if("inject"in e)if(n.inject){const i={...n.inject};for(const r in e.inject)i[r]=(i[r]||"")+e.inject[r];t.inject=i}else t.inject=e.inject;return t}function o2(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],d=e[8],h=e[9],p=e[10],_=e[11],w=e[12],I=e[13],L=e[14],K=e[15],Q=t*a-i*s,me=t*c-r*s,Pe=t*l-o*s,We=i*c-r*a,tt=i*l-o*a,ut=r*l-o*c,wt=d*I-h*w,vt=d*L-p*w,bt=d*K-_*w,St=h*L-p*I,Rt=h*K-_*I,gt=p*K-_*L,xt=Q*gt-me*Rt+Pe*St+We*bt-tt*vt+ut*wt;return xt?(n[0]=(a*gt-c*Rt+l*St)*(xt=1/xt),n[1]=(r*Rt-i*gt-o*St)*xt,n[2]=(I*ut-L*tt+K*We)*xt,n[3]=(p*tt-h*ut-_*We)*xt,n[4]=(c*bt-s*gt-l*vt)*xt,n[5]=(t*gt-r*bt+o*vt)*xt,n[6]=(L*Pe-w*ut-K*me)*xt,n[7]=(d*ut-p*Pe+_*me)*xt,n[8]=(s*Rt-a*bt+l*wt)*xt,n[9]=(i*bt-t*Rt-o*wt)*xt,n[10]=(w*tt-I*Pe+K*Q)*xt,n[11]=(h*Pe-d*tt-_*Q)*xt,n[12]=(a*vt-s*St-c*wt)*xt,n[13]=(t*St-i*vt+r*wt)*xt,n[14]=(I*me-w*We-L*Q)*xt,n[15]=(d*We-h*me+p*Q)*xt,n):null}function pp(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],p=e[9],_=e[10],w=e[11],I=e[12],L=e[13],K=e[14],Q=e[15],me=t[0],Pe=t[1],We=t[2],tt=t[3];return n[0]=me*i+Pe*a+We*h+tt*I,n[1]=me*r+Pe*c+We*p+tt*L,n[2]=me*o+Pe*l+We*_+tt*K,n[3]=me*s+Pe*d+We*w+tt*Q,n[4]=(me=t[4])*i+(Pe=t[5])*a+(We=t[6])*h+(tt=t[7])*I,n[5]=me*r+Pe*c+We*p+tt*L,n[6]=me*o+Pe*l+We*_+tt*K,n[7]=me*s+Pe*d+We*w+tt*Q,n[8]=(me=t[8])*i+(Pe=t[9])*a+(We=t[10])*h+(tt=t[11])*I,n[9]=me*r+Pe*c+We*p+tt*L,n[10]=me*o+Pe*l+We*_+tt*K,n[11]=me*s+Pe*d+We*w+tt*Q,n[12]=(me=t[12])*i+(Pe=t[13])*a+(We=t[14])*h+(tt=t[15])*I,n[13]=me*r+Pe*c+We*p+tt*L,n[14]=me*o+Pe*l+We*_+tt*K,n[15]=me*s+Pe*d+We*w+tt*Q,n}function VC(n,e,t){var s,a,c,l,d,h,p,_,w,I,L,K,i=t[0],r=t[1],o=t[2];return e===n?(n[12]=e[0]*i+e[4]*r+e[8]*o+e[12],n[13]=e[1]*i+e[5]*r+e[9]*o+e[13],n[14]=e[2]*i+e[6]*r+e[10]*o+e[14],n[15]=e[3]*i+e[7]*r+e[11]*o+e[15]):(a=e[1],c=e[2],l=e[3],d=e[4],h=e[5],p=e[6],_=e[7],w=e[8],I=e[9],L=e[10],K=e[11],n[0]=s=e[0],n[1]=a,n[2]=c,n[3]=l,n[4]=d,n[5]=h,n[6]=p,n[7]=_,n[8]=w,n[9]=I,n[10]=L,n[11]=K,n[12]=s*i+d*r+w*o+e[12],n[13]=a*i+h*r+I*o+e[13],n[14]=c*i+p*r+L*o+e[14],n[15]=l*i+_*r+K*o+e[15]),n}function s2(n,e,t){var i=t[0],r=t[1],o=t[2];return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*r,n[6]=e[6]*r,n[7]=e[7]*r,n[8]=e[8]*o,n[9]=e[9]*o,n[10]=e[10]*o,n[11]=e[11]*o,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function mH(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[4],s=e[5],a=e[6],c=e[7],l=e[8],d=e[9],h=e[10],p=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=o*r+l*i,n[5]=s*r+d*i,n[6]=a*r+h*i,n[7]=c*r+p*i,n[8]=l*r-o*i,n[9]=d*r-s*i,n[10]=h*r-a*i,n[11]=p*r-c*i,n}function gH(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[0],s=e[1],a=e[2],c=e[3],l=e[4],d=e[5],h=e[6],p=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*r+l*i,n[1]=s*r+d*i,n[2]=a*r+h*i,n[3]=c*r+p*i,n[4]=l*r-o*i,n[5]=d*r-s*i,n[6]=h*r-a*i,n[7]=p*r-c*i,n}function _H(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n}function E0(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3];return n[0]=t[0]*i+t[4]*r+t[8]*o+t[12]*s,n[1]=t[1]*i+t[5]*r+t[9]*o+t[13]*s,n[2]=t[2]*i+t[6]*r+t[10]*o+t[14]*s,n[3]=t[3]*i+t[7]*r+t[11]*o+t[15]*s,n}!function B_e(){var n=new Aa(4);Aa!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0)}();const bH=[0,0,0,0],Z_e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],yH=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Q_e=[0,0,0],vH=[0,0,0],ebe=jC(function ibe({viewport:n,devicePixelRatio:e,coordinateSystem:t,coordinateOrigin:i}){const{projectionCenter:r,viewProjectionMatrix:o,originCommon:s,cameraPosCommon:a,shaderCoordinateOrigin:c,geospatialOrigin:l}=function tbe(n,e,t){const{viewMatrixUncentered:i,projectionMatrix:r}=n;let{viewMatrix:o,viewProjectionMatrix:s}=n,a=bH,c=bH,l=n.cameraPosition;const{geospatialOrigin:d,shaderCoordinateOrigin:h,offsetMode:p}=wH(n,e,t);return p&&(c=n.projectPosition(d||h),l=[l[0]-c[0],l[1]-c[1],l[2]-c[2]],c[3]=1,a=E0([],c,s),o=i||o,s=pp([],r,o),s=pp([],s,Z_e)),{viewMatrix:o,viewProjectionMatrix:s,projectionCenter:a,originCommon:c,cameraPosCommon:l,shaderCoordinateOrigin:h,geospatialOrigin:d}}(n,t,i),d=n.getDistanceScales(),h=[n.width*e,n.height*e],p=E0([],[0,0,-n.focalDistance,1],n.projectionMatrix)[3]||1,_={project_uCoordinateSystem:t,project_uProjectionMode:n.projectionMode,project_uCoordinateOrigin:c,project_uCommonOrigin:s.slice(0,3),project_uCenter:r,project_uPseudoMeters:!!n._pseudoMeters,project_uViewportSize:h,project_uDevicePixelRatio:e,project_uFocalDistance:p,project_uCommonUnitsPerMeter:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:Q_e,project_uScale:n.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:o,project_uModelMatrix:yH,project_uCameraPosition:a};if(l){const w=n.getDistanceScales(l);switch(t){case Bi.METER_OFFSETS:_.project_uCommonUnitsPerWorldUnit=w.unitsPerMeter,_.project_uCommonUnitsPerWorldUnit2=w.unitsPerMeter2;break;case Bi.LNGLAT:case Bi.LNGLAT_OFFSETS:n._pseudoMeters||(_.project_uCommonUnitsPerMeter=w.unitsPerMeter),_.project_uCommonUnitsPerWorldUnit=w.unitsPerDegree,_.project_uCommonUnitsPerWorldUnit2=w.unitsPerDegree2;break;case Bi.CARTESIAN:_.project_uCommonUnitsPerWorldUnit=[1,1,w.unitsPerMeter[2]],_.project_uCommonUnitsPerWorldUnit2=[0,0,w.unitsPerMeter2[2]]}}return _});function wH(n,e,t=vH){t.length<3&&(t=[t[0],t[1],0]);let r,i=t,o=!0;switch(r=e===Bi.LNGLAT_OFFSETS||e===Bi.METER_OFFSETS?t:n.isGeospatial?[Math.fround(n.longitude),Math.fround(n.latitude),0]:null,n.projectionMode){case Wl.WEB_MERCATOR:(e===Bi.LNGLAT||e===Bi.CARTESIAN)&&(r=[0,0,0],o=!1);break;case Wl.WEB_MERCATOR_AUTO_OFFSET:e===Bi.LNGLAT?i=r:e===Bi.CARTESIAN&&(i=[Math.fround(n.center[0]),Math.fround(n.center[1]),0],r=n.unprojectPosition(i),i[0]-=t[0],i[1]-=t[1],i[2]-=t[2]);break;case Wl.IDENTITY:i=n.position.map(Math.fround),i[2]=i[2]||0;break;case Wl.GLOBE:o=!1,r=null;break;default:o=!1}return{geospatialOrigin:r,shaderCoordinateOrigin:i,offsetMode:o}}class rbe extends Ok{toString(){let e="[";if(lo.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let i=0;i<this.RANK;++i)e+=" ".concat(this[i*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,i){return this[t*this.RANK+e]=gr(i),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)t[r]=this[i+r];return t}setColumn(e,t){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)this[i+r]=t[r];return this}}function zC(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function xH(n,e){return n[0]=-e[0],n[1]=-e[1],n}function EH(n,e,t,i){var r=e[0],o=e[1];return n[0]=r+i*(t[0]-r),n[1]=o+i*(t[1]-o),n}!function obe(){var n=new Aa(2);Aa!=Float32Array&&(n[0]=0,n[1]=0)}();var CH=function(n){return n[n.COL0ROW0=0]="COL0ROW0",n[n.COL0ROW1=1]="COL0ROW1",n[n.COL0ROW2=2]="COL0ROW2",n[n.COL0ROW3=3]="COL0ROW3",n[n.COL1ROW0=4]="COL1ROW0",n[n.COL1ROW1=5]="COL1ROW1",n[n.COL1ROW2=6]="COL1ROW2",n[n.COL1ROW3=7]="COL1ROW3",n[n.COL2ROW0=8]="COL2ROW0",n[n.COL2ROW1=9]="COL2ROW1",n[n.COL2ROW2=10]="COL2ROW2",n[n.COL2ROW3=11]="COL2ROW3",n[n.COL3ROW0=12]="COL3ROW0",n[n.COL3ROW1=13]="COL3ROW1",n[n.COL3ROW2=14]="COL3ROW2",n[n.COL3ROW3=15]="COL3ROW3",n}(CH||{});const abe=45*Math.PI/180,cbe=1,a2=.1,c2=500,lbe=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Dt extends rbe{static get IDENTITY(){return function ube(){return GC||(GC=new Dt,Object.freeze(GC)),GC}()}static get ZERO(){return function dbe(){return HC||(HC=new Dt([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(HC)),HC}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return CH}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,t,i,r,o,s,a,c,l,d,h,p,_,w,I,L){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this[4]=o,this[5]=s,this[6]=a,this[7]=c,this[8]=l,this[9]=d,this[10]=h,this[11]=p,this[12]=_,this[13]=w,this[14]=I,this[15]=L,this.check()}setRowMajor(e,t,i,r,o,s,a,c,l,d,h,p,_,w,I,L){return this[0]=e,this[1]=o,this[2]=l,this[3]=_,this[4]=t,this[5]=s,this[6]=d,this[7]=w,this[8]=i,this[9]=a,this[10]=h,this[11]=I,this[12]=r,this[13]=c,this[14]=p,this[15]=L,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(lbe)}fromObject(e){return this.check()}fromQuaternion(e){return function O_e(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t+t,a=i+i,c=r+r,l=t*s,d=i*s,h=i*a,p=r*s,_=r*a,w=r*c,I=o*s,L=o*a,K=o*c;n[0]=1-h-w,n[1]=d+K,n[2]=p-L,n[3]=0,n[4]=d-K,n[5]=1-l-w,n[6]=_+I,n[7]=0,n[8]=p+L,n[9]=_-I,n[10]=1-l-h,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1}(this,e),this.check()}frustum(e){const{left:t,right:i,bottom:r,top:o,near:s=a2,far:a=c2}=e;return a===1/0?function hbe(n,e,t,i,r,o){const a=2*o/(r-i),c=(t+e)/(t-e),l=(r+i)/(r-i),p=-2*o;n[0]=2*o/(t-e),n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=a,n[6]=0,n[7]=0,n[8]=c,n[9]=l,n[10]=-1,n[11]=-1,n[12]=0,n[13]=0,n[14]=p,n[15]=0}(this,t,i,r,o,s):function k_e(n,e,t,i,r,o,s){var a=1/(t-e),c=1/(r-i),l=1/(o-s);n[0]=2*o*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*o*c,n[6]=0,n[7]=0,n[8]=(t+e)*a,n[9]=(r+i)*c,n[10]=(s+o)*l,n[11]=-1,n[12]=0,n[13]=0,n[14]=s*o*2*l,n[15]=0}(this,t,i,r,o,s,a),this.check()}lookAt(e){const{eye:t,center:i=[0,0,0],up:r=[0,1,0]}=e;return function L_e(n,e,t,i){var r,o,s,a,c,l,d,h,p,_,w=e[0],I=e[1],L=e[2],K=i[0],Q=i[1],me=i[2],Pe=t[0],We=t[1],tt=t[2];Math.abs(w-Pe)<Yl&&Math.abs(I-We)<Yl&&Math.abs(L-tt)<Yl?function C_e(n){n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1}(n):(d=w-Pe,h=I-We,p=L-tt,r=Q*(p*=_=1/Math.hypot(d,h,p))-me*(h*=_),o=me*(d*=_)-K*p,s=K*h-Q*d,(_=Math.hypot(r,o,s))?(r*=_=1/_,o*=_,s*=_):(r=0,o=0,s=0),a=h*s-p*o,c=p*r-d*s,l=d*o-h*r,(_=Math.hypot(a,c,l))?(a*=_=1/_,c*=_,l*=_):(a=0,c=0,l=0),n[0]=r,n[1]=a,n[2]=d,n[3]=0,n[4]=o,n[5]=c,n[6]=h,n[7]=0,n[8]=s,n[9]=l,n[10]=p,n[11]=0,n[12]=-(r*w+o*I+s*L),n[13]=-(a*w+c*I+l*L),n[14]=-(d*w+h*I+p*L),n[15]=1)}(this,t,i,r),this.check()}ortho(e){const{left:t,right:i,bottom:r,top:o,near:s=a2,far:a=c2}=e;return function N_e(n,e,t,i,r,o,s){var a=1/(e-t),c=1/(i-r),l=1/(o-s);n[0]=-2*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*c,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*l,n[11]=0,n[12]=(e+t)*a,n[13]=(r+i)*c,n[14]=(s+o)*l,n[15]=1}(this,t,i,r,o,s,a),this.check()}orthographic(e){const{fovy:t=abe,aspect:i=cbe,focalDistance:r=1,near:o=a2,far:s=c2}=e;SH(t);const c=r*Math.tan(t/2),l=c*i;return this.ortho({left:-l,right:l,bottom:-c,top:c,near:o,far:s})}perspective(e){const{fovy:t=45*Math.PI/180,aspect:i=1,near:r=.1,far:o=500}=e;return SH(t),function R_e(n,e,t,i,r){var s,o=1/Math.tan(e/2);n[0]=o/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,null!=r&&r!==1/0?(n[10]=(r+i)*(s=1/(i-r)),n[14]=2*r*i*s):(n[10]=-1,n[14]=-2*i)}(this,t,i,r,o),this.check()}determinant(){return function A_e(n){var e=n[0],t=n[1],i=n[2],r=n[3],o=n[4],s=n[5],a=n[6],c=n[7],l=n[8],d=n[9],h=n[10],p=n[11],_=n[12],w=n[13],I=n[14],L=n[15];return(e*s-t*o)*(h*L-p*I)-(e*a-i*o)*(d*L-p*w)+(e*c-r*o)*(d*I-h*w)+(t*a-i*s)*(l*L-p*_)-(t*c-r*s)*(l*I-h*_)+(i*c-r*a)*(l*w-d*_)}(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0];const i=this.getScale(t=t||[-0,-0,-0]),r=1/i[0],o=1/i[1],s=1/i[2];return e[0]=this[0]*r,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*o,e[6]=this[6]*s,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*o,e[10]=this[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0];const i=this.getScale(t=t||[-0,-0,-0]),r=1/i[0],o=1/i[1],s=1/i[2];return e[0]=this[0]*r,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=this[4]*r,e[4]=this[5]*o,e[5]=this[6]*s,e[6]=this[8]*r,e[7]=this[9]*o,e[8]=this[10]*s,e}transpose(){return function S_e(n,e){if(n===e){var t=e[1],i=e[2],r=e[3],o=e[6],s=e[7],a=e[11];n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=t,n[6]=e[9],n[7]=e[13],n[8]=i,n[9]=o,n[11]=e[14],n[12]=r,n[13]=s,n[14]=a}else n[0]=e[0],n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=e[1],n[5]=e[5],n[6]=e[9],n[7]=e[13],n[8]=e[2],n[9]=e[6],n[10]=e[10],n[11]=e[14],n[12]=e[3],n[13]=e[7],n[14]=e[11],n[15]=e[15]}(this,this),this.check()}invert(){return o2(this,this),this.check()}multiplyLeft(e){return pp(this,e,this),this.check()}multiplyRight(e){return pp(this,this,e),this.check()}rotateX(e){return mH(this,this,e),this.check()}rotateY(e){return function T_e(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[0],s=e[1],a=e[2],c=e[3],l=e[8],d=e[9],h=e[10],p=e[11];e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*r-l*i,n[1]=s*r-d*i,n[2]=a*r-h*i,n[3]=c*r-p*i,n[8]=o*i+l*r,n[9]=s*i+d*r,n[10]=a*i+h*r,n[11]=c*i+p*r}(this,this,e),this.check()}rotateZ(e){return gH(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,t){return function M_e(n,e,t,i){var c,l,d,h,p,_,w,I,L,K,Q,me,Pe,We,tt,ut,wt,vt,bt,St,Rt,gt,xt,Vt,r=i[0],o=i[1],s=i[2],a=Math.hypot(r,o,s);a<Yl||(r*=a=1/a,o*=a,s*=a,c=Math.sin(t),l=Math.cos(t),p=e[1],_=e[2],w=e[3],L=e[5],K=e[6],Q=e[7],Pe=e[9],We=e[10],tt=e[11],bt=r*o*(d=1-l)-s*c,St=o*o*d+l,Rt=s*o*d+r*c,gt=r*s*d+o*c,xt=o*s*d-r*c,Vt=s*s*d+l,n[0]=(h=e[0])*(ut=r*r*d+l)+(I=e[4])*(wt=o*r*d+s*c)+(me=e[8])*(vt=s*r*d-o*c),n[1]=p*ut+L*wt+Pe*vt,n[2]=_*ut+K*wt+We*vt,n[3]=w*ut+Q*wt+tt*vt,n[4]=h*bt+I*St+me*Rt,n[5]=p*bt+L*St+Pe*Rt,n[6]=_*bt+K*St+We*Rt,n[7]=w*bt+Q*St+tt*Rt,n[8]=h*gt+I*xt+me*Vt,n[9]=p*gt+L*xt+Pe*Vt,n[10]=_*gt+K*xt+We*Vt,n[11]=w*gt+Q*xt+tt*Vt,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]))}(this,this,e,t),this.check()}scale(e){return s2(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return VC(this,this,e),this.check()}transform(e,t){return 4===e.length?(CC(t=E0(t||[-0,-0,-0,-0],e,this),4),t):this.transformAsPoint(e,t)}transformAsPoint(e,t){const{length:i}=e;let r;switch(i){case 2:r=function sbe(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[4]*r+t[12],n[1]=t[1]*i+t[5]*r+t[13],n}(t||[-0,-0],e,this);break;case 3:r=kk(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return CC(r,e.length),r}transformAsVector(e,t){let i;switch(e.length){case 2:i=function gpe(n,e,t){const i=e[0],r=e[1],o=t[3]*i+t[7]*r||1;return n[0]=(t[0]*i+t[4]*r)/o,n[1]=(t[1]*i+t[5]*r)/o,n}(t||[-0,-0],e,this);break;case 3:i=m6(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return CC(i,e.length),i}transformPoint(e,t){return this.transformAsPoint(e,t)}transformVector(e,t){return this.transformAsPoint(e,t)}transformDirection(e,t){return this.transformAsVector(e,t)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,t,i){return this.identity().translate([e,t,i])}}let HC,GC;function SH(n){if(n>2*Math.PI)throw Error("expected radians")}function m_(n,e){const t=E0([],e,n);return _H(t,t,1/t[3]),t}function AH(n,e){const t=n%e;return t<0?e+t:t}function l2(n,e,t){return n<e?e:n>t?t:n}const d2=Math.log2||function pbe(n){return Math.log(n)*Math.LOG2E};function au(n,e){if(!n)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const Zc=Math.PI,MH=Zc/4,gc=Zc/180,u2=180/Zc,g_=512,WC=4003e4,$C=85.051129,mbe=1.5;function YC(n){const[e,t]=n;return au(Number.isFinite(e)),au(Number.isFinite(t)&&t>=-90&&t<=90,"invalid latitude"),[g_*(e*gc+Zc)/(2*Zc),g_*(Zc+Math.log(Math.tan(MH+t*gc*.5)))/(2*Zc)]}function __(n){const[e,t]=n,i=e/g_*(2*Zc)-Zc,r=2*(Math.atan(Math.exp(t/g_*(2*Zc)-Zc))-MH);return[i*u2,r*u2]}function h2(n){const{latitude:e,longitude:t,highPrecision:i=!1}=n;au(Number.isFinite(e)&&Number.isFinite(t));const r=g_,o=Math.cos(e*gc),s=r/360,a=s/o,c=r/WC/o,l={unitsPerMeter:[c,c,c],metersPerUnit:[1/c,1/c,1/c],unitsPerDegree:[s,a,c],degreesPerUnit:[1/s,1/a,1/c]};if(i){const d=gc*Math.tan(e*gc)/o,p=r/WC*d,_=p/a*c;l.unitsPerDegree2=[0,s*d/2,p],l.unitsPerMeter2=[_,0,_]}return l}function TH(n,e){const[t,i,r]=n,[o,s,a]=e,{unitsPerMeter:c,unitsPerMeter2:l}=h2({longitude:t,latitude:i,highPrecision:!0}),d=YC(n);d[0]+=o*(c[0]+l[0]*s),d[1]+=s*(c[1]+l[1]*s);const h=__(d),p=(r||0)+(a||0);return Number.isFinite(r)||Number.isFinite(a)?[h[0],h[1],p]:h}function XC(n){return 2*Math.atan(.5/n)*u2}function f2(n){return.5/Math.tan(.5*n*gc)}function DH(n,e){const[t,i,r=0]=n;return au(Number.isFinite(t)&&Number.isFinite(i)&&Number.isFinite(r)),m_(e,[t,i,r,1])}function C0(n,e,t=0){const[i,r,o]=n;if(au(Number.isFinite(i)&&Number.isFinite(r),"invalid pixel coordinate"),Number.isFinite(o))return m_(e,[i,r,o,1]);const s=m_(e,[i,r,0,1]),a=m_(e,[i,r,1,1]),c=s[2],l=a[2];return EH([],s,a,c===l?0:((t||0)-c)/(l-c))}function OH(n){const{width:e,height:t,bounds:i,minExtent:r=0,maxZoom:o=24,offset:s=[0,0]}=n,[[a,c],[l,d]]=i,h=function ybe(n=0){return"number"==typeof n?{top:n,bottom:n,left:n,right:n}:(au(Number.isFinite(n.top)&&Number.isFinite(n.bottom)&&Number.isFinite(n.left)&&Number.isFinite(n.right)),n)}(n.padding),p=YC([a,l2(d,-$C,$C)]),_=YC([l,l2(c,-$C,$C)]),w=[Math.max(Math.abs(_[0]-p[0]),r),Math.max(Math.abs(_[1]-p[1]),r)],I=[e-h.left-h.right-2*Math.abs(s[0]),t-h.top-h.bottom-2*Math.abs(s[1])];au(I[0]>0&&I[1]>0);const L=I[0]/w[0],K=I[1]/w[1],We=__([(_[0]+p[0])/2+(h.right-h.left)/2/L,(_[1]+p[1])/2+(h.top-h.bottom)/2/K]),tt=Math.min(o,d2(Math.abs(Math.min(L,K))));return au(Number.isFinite(tt)),{longitude:We[0],latitude:We[1],zoom:tt}}const kH=Math.PI/180;function RH(n,e,t){const{pixelUnprojectionMatrix:i}=n,r=m_(i,[e,0,1,1]),o=m_(i,[e,n.height,1,1]),l=__(EH([],r,o,(t*n.distanceScales.unitsPerMeter[2]-r[2])/(o[2]-r[2])));return l.push(t),l}const Ebe=Math.PI/180,Cbe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],BH=[0,0,0],Sbe={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};class Eh{constructor(e={}){Me(this,"id",void 0),Me(this,"x",void 0),Me(this,"y",void 0),Me(this,"width",void 0),Me(this,"height",void 0),Me(this,"padding",void 0),Me(this,"isGeospatial",void 0),Me(this,"zoom",void 0),Me(this,"focalDistance",void 0),Me(this,"position",void 0),Me(this,"modelMatrix",void 0),Me(this,"distanceScales",void 0),Me(this,"scale",void 0),Me(this,"center",void 0),Me(this,"cameraPosition",void 0),Me(this,"projectionMatrix",void 0),Me(this,"viewMatrix",void 0),Me(this,"viewMatrixUncentered",void 0),Me(this,"viewMatrixInverse",void 0),Me(this,"viewProjectionMatrix",void 0),Me(this,"pixelProjectionMatrix",void 0),Me(this,"pixelUnprojectionMatrix",void 0),Me(this,"resolution",void 0),Me(this,"_frustumPlanes",{}),this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||Sbe,this.focalDistance=e.focalDistance||1,this.position=e.position||BH,this.modelMatrix=e.modelMatrix||null;const{longitude:t,latitude:i}=e;this.isGeospatial=Number.isFinite(i)&&Number.isFinite(t),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?Wl.WEB_MERCATOR:Wl.WEB_MERCATOR_AUTO_OFFSET:Wl.IDENTITY}equals(e){return e instanceof Eh&&(this===e||e.width===this.width&&e.height===this.height&&e.scale===this.scale&&s_(e.projectionMatrix,this.projectionMatrix)&&s_(e.viewMatrix,this.viewMatrix))}project(e,{topLeft:t=!0}={}){const r=DH(this.projectPosition(e),this.pixelProjectionMatrix),[o,s]=r,a=t?s:this.height-s;return 2===e.length?[o,a]:[o,a,r[2]]}unproject(e,{topLeft:t=!0,targetZ:i}={}){const[r,o,s]=e,l=C0([r,t?o:this.height-o,s],this.pixelUnprojectionMatrix,i&&i*this.distanceScales.unitsPerMeter[2]),[d,h,p]=this.unprojectPosition(l);return Number.isFinite(s)?[d,h,p]:Number.isFinite(i)?[d,h,i]:[d,h]}projectPosition(e){const[t,i]=this.projectFlat(e);return[t,i,(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(e){const[t,i]=this.unprojectFlat(e);return[t,i,(e[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(e){if(this.isGeospatial){const t=YC(e);return t[1]=ds(t[1],-318,830),t}return e}unprojectFlat(e){return this.isGeospatial?__(e):e}getBounds(e={}){const t={targetZ:e.z||0},i=this.unproject([0,0],t),r=this.unproject([this.width,0],t),o=this.unproject([0,this.height],t),s=this.unproject([this.width,this.height],t);return[Math.min(i[0],r[0],o[0],s[0]),Math.min(i[1],r[1],o[1],s[1]),Math.max(i[0],r[0],o[0],s[0]),Math.max(i[1],r[1],o[1],s[1])]}getDistanceScales(e){return e?h2({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:t,width:i=1,height:r=1}){return e<this.x+this.width&&this.x<e+i&&t<this.y+this.height&&this.y<t+r}getFrustumPlanes(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,function xpe(n){return{left:a_(n[3]+n[0],n[7]+n[4],n[11]+n[8],n[15]+n[12]),right:a_(n[3]-n[0],n[7]-n[4],n[11]-n[8],n[15]-n[12]),bottom:a_(n[3]+n[1],n[7]+n[5],n[11]+n[9],n[15]+n[13]),top:a_(n[3]-n[1],n[7]-n[5],n[11]-n[9],n[15]-n[13]),near:a_(n[3]+n[2],n[7]+n[6],n[11]+n[10],n[15]+n[14]),far:a_(n[3]-n[2],n[7]-n[6],n[11]-n[10],n[15]-n[14])}}(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition(e,t){return null}_initProps(e){const t=e.longitude,i=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=function _be(n){const{latitude:e}=n;au(Number.isFinite(e));const t=Math.cos(e*gc);return function gbe(n){return d2(n)}(WC*t)-9}({latitude:i})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||h2({latitude:i,longitude:t}));const r=Math.pow(2,this.zoom);this.scale=r;const{position:o,modelMatrix:s}=e;let a=BH;if(o&&(a=s?new Dt(s).transformAsVector(o,[]):o),this.isGeospatial){const c=this.projectPosition([t,i,0]);this.center=new Ps(a).scale(this.distanceScales.unitsPerMeter).add(c)}else this.center=this.projectPosition(a)}_initMatrices(e){const{viewMatrix:t=Cbe,projectionMatrix:i=null,orthographic:r=!1,fovyRadians:o,fovy:s=75,near:a=.1,far:c=1e3,padding:l=null,focalDistance:d=1}=e;this.viewMatrixUncentered=t,this.viewMatrix=(new Dt).multiplyRight(t).translate(new Ps(this.center).negate()),this.projectionMatrix=i||function Abe({width:n,height:e,orthographic:t,fovyRadians:i,focalDistance:r,padding:o,near:s,far:a}){const c=n/e,l=t?(new Dt).orthographic({fovy:i,aspect:c,focalDistance:r,near:s,far:a}):(new Dt).perspective({fovy:i,aspect:c,near:s,far:a});if(o){const{left:d=0,right:h=0,top:p=0,bottom:_=0}=o,w=ds((d+n-h)/2,0,n)-n/2,I=ds((p+e-_)/2,0,e)-e/2;l[8]-=2*w/n,l[9]+=2*I/e}return l}({width:this.width,height:this.height,orthographic:r,fovyRadians:o||s*Ebe,focalDistance:d,padding:l,near:a,far:c});const h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];pp(h,h,this.projectionMatrix),pp(h,h,this.viewMatrix),this.viewProjectionMatrix=h,this.viewMatrixInverse=o2([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=function wpe(n){return[n[12],n[13],n[14]]}(this.viewMatrixInverse);const p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];s2(p,p,[this.width/2,-this.height/2,1]),VC(p,p,[1,-1,0]),pp(_,p,this.viewProjectionMatrix),this.pixelProjectionMatrix=_,this.pixelUnprojectionMatrix=o2([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||Oi.warn("Pixel project matrix not invertible")()}}Me(Eh,"displayName","Viewport");const Ibe=Math.PI/180;function UH(n){return 512/4003e4/Math.cos(n*Ibe)}class Ch extends Eh{constructor(e={}){const{latitude:t=0,longitude:i=0,zoom:r=0,pitch:o=0,bearing:s=0,nearZMultiplier:a=.1,farZMultiplier:c=1.01,orthographic:l=!1,projectionMatrix:d,repeat:h=!1,worldOffset:p=0,legacyMeterSizes:_=!1}=e;let{width:w,height:I,altitude:L=1.5}=e;const K=Math.pow(2,r);w=w||1,I=I||1;let Q,me=null;d?(L=d[5]/2,Q=XC(L)):(e.fovy?(Q=e.fovy,L=f2(Q)):Q=XC(L),me=function IH(n){const{width:e,height:t,altitude:i,pitch:r=0,offset:o,center:s,scale:a,nearZMultiplier:c=1,farZMultiplier:l=1}=n;let{fovy:d=XC(mbe)}=n;void 0!==i&&(d=XC(i));const h=d*gc,p=r*gc,_=f2(d);let w=_;s&&(w+=s[2]*a/Math.cos(p)/t);const I=h*(.5+(o?o[1]:0)/t),L=Math.sin(I)*w/Math.sin(l2(Math.PI/2-p-I,.01,Math.PI-.01)),K=Math.sin(p)*L+w;return{fov:h,aspect:e/t,focalDistance:_,near:c,far:Math.min(K*l,10*w)}}({width:w,height:I,pitch:o,fovy:Q,nearZMultiplier:a,farZMultiplier:c}));let Pe=function bbe(n){const{height:e,pitch:t,bearing:i,altitude:r,scale:o,center:s}=n,a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];VC(a,a,[0,0,-r]),mH(a,a,-t*gc),gH(a,a,i*gc);const c=o/e;return s2(a,a,[c,c,c]),s&&VC(a,a,function ape(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}([],s)),a}({height:I,pitch:o,bearing:s,scale:K,altitude:L});p&&(Pe=(new Dt).translate([512*p,0,0]).multiplyLeft(Pe)),super({...e,width:w,height:I,viewMatrix:Pe,longitude:i,latitude:t,zoom:r,...me,fovy:Q,focalDistance:L}),Me(this,"longitude",void 0),Me(this,"latitude",void 0),Me(this,"pitch",void 0),Me(this,"bearing",void 0),Me(this,"altitude",void 0),Me(this,"fovy",void 0),Me(this,"orthographic",void 0),Me(this,"_subViewports",void 0),Me(this,"_pseudoMeters",void 0),this.latitude=t,this.longitude=i,this.zoom=r,this.pitch=o,this.bearing=s,this.altitude=L,this.fovy=Q,this.orthographic=l,this._subViewports=h?[]:null,this._pseudoMeters=_,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),t=Math.floor((e[0]+180)/360),i=Math.ceil((e[2]-180)/360);for(let r=t;r<=i;r++){const o=r?new Ch({...this,worldOffset:r}):this;this._subViewports.push(o)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[t,i]=this.projectFlat(e);return[t,i,(e[2]||0)*UH(e[1])]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[t,i]=this.unprojectFlat(e);return[t,i,(e[2]||0)/UH(i)]}addMetersToLngLat(e,t){return TH(e,t)}panByPosition(e,t){const i=C0(t,this.pixelUnprojectionMatrix),o=zC([],this.projectFlat(e),xH([],i)),s=zC([],this.center,o),[a,c]=this.unprojectFlat(s);return{longitude:a,latitude:c}}getBounds(e={}){const t=function vbe(n,e=0){const{width:t,height:i,unproject:r}=n,o={targetZ:e},s=r([0,i],o),a=r([t,i],o);let c,l;return(n.fovy?.5*n.fovy*kH:Math.atan(.5/n.altitude))>(90-n.pitch)*kH-.01?(c=RH(n,0,e),l=RH(n,t,e)):(c=r([0,0],o),l=r([t,0],o)),[s,a,l,c]}(this,e.z||0);return[Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),Math.min(t[0][1],t[1][1],t[2][1],t[3][1]),Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),Math.max(t[0][1],t[1][1],t[2][1],t[3][1])]}fitBounds(e,t={}){const{width:i,height:r}=this,{longitude:o,latitude:s,zoom:a}=OH({width:i,height:r,bounds:e,...t});return new Ch({width:i,height:r,longitude:o,latitude:s,zoom:a})}}function m2(n,e,t=!1){const i=e.projectPosition(n);if(t&&e instanceof Ch){const[r,o,s=0]=n,a=e.getDistanceScales([r,o]);i[2]=s*a.unitsPerMeter[2]}return i}function jH(n,{viewport:e,modelMatrix:t,coordinateSystem:i,coordinateOrigin:r,offsetMode:o}){let[s,a,c=0]=n;switch(t&&([s,a,c]=E0([],[s,a,c,1],t)),i){case Bi.LNGLAT:return m2([s,a,c],e,o);case Bi.LNGLAT_OFFSETS:return m2([s+r[0],a+r[1],c+(r[2]||0)],e,o);case Bi.METER_OFFSETS:return m2(TH(r,[s,a,c]),e,o);default:return e.isGeospatial?[s+r[0],a+r[1],c+r[2]]:e.projectPosition([s,a,c])}}Me(Ch,"displayName","WebMercatorViewport");const kbe={10241:9987,10240:9729,10242:33071,10243:33071},g2={};function b_(n,e){if(n===e)return!0;if(!n||!e)return!1;for(const t in n){const i=n[t],r=e[t];if(!(i===r||Array.isArray(i)&&Array.isArray(r)&&b_(i,r)))return!1}return!0}const Nbe={boolean:{validate:(n,e)=>!0,equal:(n,e,t)=>!!n==!!e},number:{validate:(n,e)=>Number.isFinite(n)&&(!("max"in e)||n<=e.max)&&(!("min"in e)||n>=e.min)},color:{validate:(n,e)=>e.optional&&!n||A0(n)&&(3===n.length||4===n.length),equal:(n,e,t)=>_2(n,e)},accessor:{validate(n,e){const t=KC(n);return"function"===t||t===KC(e.value)},equal:(n,e,t)=>"function"==typeof e||_2(n,e)},array:{validate:(n,e)=>e.optional&&!n||A0(n),equal:(n,e,t)=>t.compare?_2(n,e):n===e},object:{equal:(n,e,t)=>t.compare?b_(n,e):n===e},function:{validate:(n,e)=>e.optional&&!n||"function"==typeof n,equal:(n,e,t)=>!t.compare||n===e},data:{transform:(n,e,t)=>{const{dataTransform:i}=t.props;return i&&n?i(n):n}},image:{transform:(n,e,t)=>function Rbe(n,e){const t=n.context&&n.context.gl;if(!t||!e)return null;if(e instanceof ls)return e;e.constructor&&"Object"!==e.constructor.name&&(e={data:e});let i=null;e.compressed&&(i={10241:e.data.length>1?9985:9729});const r=new ls(t,{...e,parameters:{...kbe,...i,...n.props.textureParameters}});return g2[r.id]=!0,r}(t,n),release:n=>{!function Pbe(n){!n||!(n instanceof ls)||g2[n.id]&&(n.delete(),delete g2[n.id])}(n)}}};function _2(n,e){if(n===e)return!0;if(!A0(n)||!A0(e))return!1;const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function Lbe(n,e){switch(KC(e)){case"object":return S0(n,e);case"array":return S0(n,{type:"array",value:e,compare:!1});case"boolean":return S0(n,{type:"boolean",value:e});case"number":return S0(n,{type:"number",value:e});case"function":return S0(n,{type:"function",value:e,compare:!0});default:return{name:n,type:"unknown",value:e}}}function S0(n,e){return"type"in e?{name:n,...Nbe[e.type],...e}:"value"in e?{name:n,type:KC(e.value),...e}:{name:n,type:"object",value:e}}function A0(n){return Array.isArray(n)||ArrayBuffer.isView(n)}function KC(n){return A0(n)?"array":null===n?"null":typeof n}function VH(n){return qC(n,"_mergedDefaultProps")||(function Ube(n){if(!n.prototype)return;const t=Object.getPrototypeOf(n),i=VH(t),o=function Fbe(n){const e={},t={},i={};for(const[r,o]of Object.entries(n)){const s=o?.deprecatedFor;if(s)i[r]=Array.isArray(s)?s:[s];else{const a=Lbe(r,o);e[r]=a,t[r]=a.value}}return{propTypes:e,defaultProps:t,deprecatedProps:i}}(qC(n,"defaultProps")||{}),s=function jbe(n,e,t){const i=Object.create(null);Object.assign(i,e,n);const r=function Gbe(n){const e=qC(n,"layerName")||qC(n,"componentName");return e||Oi.once(0,"".concat(n.name,".componentName not specified"))(),e||n.name}(t);return delete n.id,Object.defineProperties(i,{id:{writable:!0,value:r}}),i}(o.defaultProps,i,n),a={...t._propTypes,...o.propTypes};!function zbe(n,e){const t={},i={};for(const r in e){const o=e[r],{name:s,value:a}=o;o.async&&(t[s]=a,i[s]=Hbe(s))}n[p_]=t,n[fp]={},Object.defineProperties(n,i)}(s,a);const c={...t._deprecatedProps,...o.deprecatedProps};(function Vbe(n,e){for(const t in e)Object.defineProperty(n,t,{enumerable:!1,set(i){const r="".concat(this.id,": ").concat(t);for(const o of e[t])zH(this,o)||(this[o]=i);Oi.deprecated(r,e[t].join("/"))()}})})(s,c),n._mergedDefaultProps=s,n._propTypes=a,n._deprecatedProps=c}(n),n._mergedDefaultProps)}function Hbe(n){return{enumerable:!0,set(e){"string"==typeof e||e instanceof Promise||v6(e)?this[fp][n]=e:this[xh][n]=e},get(){if(this[xh]){if(n in this[xh])return this[xh][n]||this[p_][n];if(n in this[fp]){const e=this[UC]&&this[UC].internalState;if(e&&e.hasAsyncProp(n))return e.getAsyncProp(n)||this[p_][n]}}return this[p_][n]}}}function zH(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function qC(n,e){return zH(n,e)&&n[e]}let Wbe=0;class b2{constructor(...e){Me(this,"id",void 0),Me(this,"props",void 0),Me(this,"count",void 0),this.props=function Bbe(n,e){const t=VH(n.constructor),i=Object.create(t);i[UC]=n,i[fp]={},i[xh]={};for(let r=0;r<e.length;++r){const o=e[r];for(const s in o)i[s]=o[s]}return Object.freeze(i),i}(this,e),this.id=this.props.id,this.count=Wbe++}clone(e){const{props:t}=this,i={};for(const r in t[p_])r in t[xh]?i[r]=t[xh][r]:r in t[fp]&&(i[r]=t[fp][r]);return new this.constructor({...t,...i,...e})}}function y2(n){var e,t,i,r=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(t&&null!=(e=n[t]))return e.call(n);if(i&&null!=(e=n[i]))return new JC(e.call(n));t="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function JC(n){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var i=t.done;return Promise.resolve(t.value).then(function(r){return{value:r,done:i}})}return(JC=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(i){var r=this.s.return;return void 0===r?Promise.resolve({value:i,done:!0}):e(r.apply(this.s,arguments))},throw:function(i){var r=this.s.return;return void 0===r?Promise.reject(i):e(r.apply(this.s,arguments))}},new JC(n)}Me(b2,"componentName","Component"),Me(b2,"defaultProps",{});const $be=Object.freeze({});class Ybe{constructor(e){Me(this,"component",void 0),Me(this,"onAsyncPropUpdated",void 0),Me(this,"asyncProps",void 0),Me(this,"oldProps",void 0),Me(this,"oldAsyncProps",void 0),this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const t=this.asyncProps[e];t&&t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}}getOldProps(){return this.oldAsyncProps||this.oldProps||$be}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component.props}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const t=this.asyncProps[e];return t&&t.resolvedValue}isAsyncPropLoading(e){if(e){const t=this.asyncProps[e];return!!(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(const t in this.asyncProps)if(this.isAsyncPropLoading(t))return!0;return!1}reloadAsyncProp(e,t){this._watchPromise(e,Promise.resolve(t))}setAsyncProps(e){const t=e[xh]||{},i=e[fp]||e,r=e[p_]||{};for(const o in t){const s=t[o];this._createAsyncPropData(o,r[o]),this._updateAsyncProp(o,s),t[o]=this.getAsyncProp(o)}for(const o in i){const s=i[o];this._createAsyncPropData(o,r[o]),this._updateAsyncProp(o,s)}}_fetch(e,t){return null}_onResolve(e,t){}_onError(e,t){}_updateAsyncProp(e,t){if(this._didAsyncInputValueChange(e,t)){if("string"==typeof t&&(t=this._fetch(e,t)),t instanceof Promise)return void this._watchPromise(e,t);if(v6(t))return void this._resolveAsyncIterable(e,t);this._setPropValue(e,t)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,t){const i=this.asyncProps[e];return t!==i.resolvedValue&&t!==i.lastValue&&(i.lastValue=t,!0)}_setPropValue(e,t){this._freezeAsyncOldProps();const i=this.asyncProps[e];i&&(t=this._postProcessValue(i,t),i.resolvedValue=t,i.pendingLoadCount++,i.resolvedLoadCount=i.pendingLoadCount)}_setAsyncPropValue(e,t,i){const r=this.asyncProps[e];r&&i>=r.resolvedLoadCount&&void 0!==t&&(this._freezeAsyncOldProps(),r.resolvedValue=t,r.resolvedLoadCount=i,this.onAsyncPropUpdated(e,t))}_watchPromise(e,t){const i=this.asyncProps[e];if(i){i.pendingLoadCount++;const r=i.pendingLoadCount;t.then(o=>{o=this._postProcessValue(i,o),this._setAsyncPropValue(e,o,r),this._onResolve(e,o)}).catch(o=>{this._onError(e,o)})}}_resolveAsyncIterable(e,t){var i=this;return _n(function*(){if("data"!==e)return void i._setPropValue(e,t);const r=i.asyncProps[e];if(!r)return;r.pendingLoadCount++;const o=r.pendingLoadCount;let s=[],a=0;var d,c=!1,l=!1;try{for(var p,h=y2(t);c=!(p=yield h.next()).done;c=!1){const _=p.value;{const{dataTransform:w}=i.component.props;s=w?w(_,s):s.concat(_),Object.defineProperty(s,"__diff",{enumerable:!1,value:[{startRow:a,endRow:s.length}]}),a=s.length,i._setAsyncPropValue(e,s,o)}}}catch(_){l=!0,d=_}finally{try{c&&null!=h.return&&(yield h.return())}finally{if(l)throw d}}i._onResolve(e,s)})()}_postProcessValue(e,t){const i=e.type;return i&&(i.release&&i.release(e.resolvedValue,i,this.component),i.transform)?i.transform(t,i,this.component):t}_createAsyncPropData(e,t){if(!this.asyncProps[e]){const r=this.component&&this.component.constructor._propTypes;this.asyncProps[e]={type:r&&r[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}class Xbe extends Ybe{constructor({attributeManager:e,layer:t}){super(t),Me(this,"attributeManager",void 0),Me(this,"needsRedraw",void 0),Me(this,"needsUpdate",void 0),Me(this,"subLayers",void 0),Me(this,"usesPickingColorCache",void 0),Me(this,"changeFlags",void 0),Me(this,"viewport",void 0),Me(this,"uniformTransitions",void 0),Me(this,"propsInTransition",void 0),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}set layer(e){this.component=e}_fetch(e,t){const i=this.component.props.fetch;return i?i(t,{propName:e,layer:this.layer}):super._fetch(e,t)}_onResolve(e,t){const i=this.component.props.onDataLoad;"data"===e&&i&&i(t,{propName:e,layer:this.layer})}_onError(e,t){this.layer.raiseError(t,"loading ".concat(e," of ").concat(this.layer))}}const Qc=n=>"function"==typeof n,Sh=n=>null!==n&&"object"==typeof n,GH=n=>Sh(n)&&n.constructor==={}.constructor,Kbe=n=>n&&"function"==typeof n[Symbol.iterator],qbe=n=>n&&"function"==typeof n[Symbol.asyncIterator],y_=n=>typeof Response<"u"&&n instanceof Response||n&&n.arrayBuffer&&n.text&&n.json,v_=n=>typeof Blob<"u"&&n instanceof Blob,Jbe=n=>n&&"object"==typeof n&&n.isBuffer,WH=n=>(n=>typeof ReadableStream<"u"&&n instanceof ReadableStream||Sh(n)&&Qc(n.tee)&&Qc(n.cancel)&&Qc(n.getReader))(n)||(n=>Sh(n)&&Qc(n.read)&&Qc(n.pipe)&&(n=>"boolean"==typeof n)(n.readable))(n);function $H(n,e){if(!n)throw new Error(e||"loader assertion failed.")}function v2(n){var e;return!!n&&(Array.isArray(n)&&(n=n[0]),Array.isArray(null===(e=n)||void 0===e?void 0:e.extensions))}function w2(n){var e,t;let i;return $H(n,"null loader"),$H(v2(n),"invalid loader"),Array.isArray(n)&&(i=n[1],n=n[0],n={...n,options:{...n.options,...i}}),(null!==(e=n)&&void 0!==e&&e.parseTextSync||null!==(t=n)&&void 0!==t&&t.parseText)&&(n.text=!0),n.text||(n.binary=!0),n}let x2="";const E2={},iye=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,rye=/^([-\w.]+\/[-\w.+]+)/;function oye(n){const e=rye.exec(n);return e?e[1]:n}function YH(n){const e=iye.exec(n);return e?e[1]:""}const sye=/\?.*/;function ZC(n){if(y_(n)){const e=C2(n.url||"");return{url:e,type:oye(n.headers.get("content-type")||"")||YH(e)}}return v_(n)?{url:C2(n.name||""),type:n.type||""}:"string"==typeof n?{url:C2(n),type:YH(n)}:{url:"",type:""}}function C2(n){return n.replace(sye,"")}function XH(n){return S2.apply(this,arguments)}function S2(){return S2=_n(function*(n){if(y_(n))return n;const e={},t=function aye(n){return y_(n)?n.headers["content-length"]||-1:v_(n)?n.size:"string"==typeof n?n.length:n instanceof ArrayBuffer||ArrayBuffer.isView(n)?n.byteLength:-1}(n);t>=0&&(e["content-length"]=String(t));const{url:i,type:r}=ZC(n);r&&(e["content-type"]=r);const o=yield function dye(n){return T2.apply(this,arguments)}(n);o&&(e["x-first-bytes"]=o),"string"==typeof n&&(n=(new TextEncoder).encode(n));const s=new Response(n,{headers:e});return Object.defineProperty(s,"url",{value:i}),s}),S2.apply(this,arguments)}function A2(){return A2=_n(function*(n){if(!n.ok){const e=yield function lye(n){return M2.apply(this,arguments)}(n);throw new Error(e)}}),A2.apply(this,arguments)}function M2(){return M2=_n(function*(n){let e="Failed to fetch resource ".concat(n.url," (").concat(n.status,"): ");try{const t=n.headers.get("Content-Type");let i=n.statusText;t.includes("application/json")&&(i+=" ".concat(yield n.text())),e+=i,e=e.length>60?"".concat(e.slice(0,60),"..."):e}catch{}return e}),M2.apply(this,arguments)}function T2(){return T2=_n(function*(n){if("string"==typeof n)return"data:,".concat(n.slice(0,5));if(n instanceof Blob){const t=n.slice(0,5);return yield new Promise(i=>{const r=new FileReader;r.onload=o=>{var s;return i(null==o||null===(s=o.target)||void 0===s?void 0:s.result)},r.readAsDataURL(t)})}if(n instanceof ArrayBuffer){const i=function uye(n){let e="";const t=new Uint8Array(n);for(let i=0;i<t.byteLength;i++)e+=String.fromCharCode(t[i]);return btoa(e)}(n.slice(0,5));return"data:base64,".concat(i)}return null}),T2.apply(this,arguments)}function KH(n,e){return I2.apply(this,arguments)}function I2(){return I2=_n(function*(n,e){if("string"==typeof n){n=function nye(n){for(const e in E2)n.startsWith(e)&&(n=n.replace(e,E2[e]));return!n.startsWith("http://")&&!n.startsWith("https://")&&(n="".concat(x2).concat(n)),n}(n);let t=e;return null!=e&&e.fetch&&"function"!=typeof e?.fetch&&(t=e.fetch),yield fetch(n,t)}return yield XH(n)}),I2.apply(this,arguments)}const qH=new o0({id:"loaders.gl"});class hye{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const JH=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),ZH=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),QH=(ZH&&parseFloat(ZH[1]),{fetch:null,mimeType:void 0,nothrow:!1,log:new class fye{constructor(){Me(this,"console",void 0),this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}},CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:JH,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]}),pye={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function D2(){globalThis.loaders=globalThis.loaders||{};const{loaders:n}=globalThis;return n._state=n._state||{},n._state}const O2=()=>{const n=D2();return n.globalOptions=n.globalOptions||{...QH},n.globalOptions};function mye(n,e,t,i){return t=t||[],function gye(n,e){tG(n,null,QH,pye,e);for(const t of e)tG(n&&n[t.id]||{},t.id,t.options&&t.options[t.id]||{},t.deprecatedOptions&&t.deprecatedOptions[t.id]||{},e)}(n,t=Array.isArray(t)?t:[t]),function nG(n,e,t){const r={...n.options||{}};return function bye(n,e){e&&!("baseUri"in n)&&(n.baseUri=e)}(r,t),null===r.log&&(r.log=new hye),iG(r,O2()),iG(r,e),r}(e,n,i)}function eG(n,e){const t=O2(),i=n||t;return"function"==typeof i.fetch?i.fetch:Sh(i.fetch)?r=>KH(r,i):null!=e&&e.fetch?e?.fetch:KH}function tG(n,e,t,i,r){const o=e||"Top level",s=e?"".concat(e,"."):"";for(const a in n){const c=!e&&Sh(n[a]);if(!(a in t)&&("baseUri"!==a||e)&&("workerUrl"!==a||!e))if(a in i)qH.warn("".concat(o," loader option '").concat(s).concat(a,"' no longer supported, use '").concat(i[a],"'"))();else if(!c){const h=_ye(a,r);qH.warn("".concat(o," loader option '").concat(s).concat(a,"' not recognized. ").concat(h))()}}}function _ye(n,e){const t=n.toLowerCase();let i="";for(const r of e)for(const o in r.options){if(n===o)return"Did you mean '".concat(r.id,".").concat(o,"'?");const s=o.toLowerCase();(t.startsWith(s)||s.startsWith(t))&&(i=i||"Did you mean '".concat(r.id,".").concat(o,"'?"))}return i}function iG(n,e){for(const t in e)t in e&&(n[t]=GH(e[t])&&GH(n[t])?{...n[t],...e[t]}:e[t])}function Kl(n,e){if(!n)throw new Error(e||"loaders.gl assertion failed.")}const yye="3.2.13",ql={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},wye=ql.global||ql.self||ql.window||{},Ah="object"!=typeof process||"[object process]"!==String(process)||process.browser,k2="function"==typeof importScripts,xye=typeof window<"u"&&typeof window.orientation<"u",rG=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);rG&&parseFloat(rG[1]);class R2{}const P2=new Map;function oG(n){const e=new Blob([n],{type:"application/javascript"});return URL.createObjectURL(e)}function sG(n,e=!0,t){const i=t||new Set;if(n)if(aG(n))i.add(n);else if(aG(n.buffer))i.add(n.buffer);else if(!ArrayBuffer.isView(n)&&e&&"object"==typeof n)for(const r in n)sG(n[r],e,i);return void 0===t?Array.from(i):[]}function aG(n){return!!n&&(n instanceof ArrayBuffer||typeof MessagePort<"u"&&n instanceof MessagePort||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)}const N2=()=>{};class F2{static isSupported(){return typeof Worker<"u"&&Ah||typeof R2<"u"&&!Ah}constructor(e){Me(this,"name",void 0),Me(this,"source",void 0),Me(this,"url",void 0),Me(this,"terminated",!1),Me(this,"worker",void 0),Me(this,"onMessage",void 0),Me(this,"onError",void 0),Me(this,"_loadableURL","");const{name:t,source:i,url:r}=e;Kl(i||r),this.name=t,this.source=i,this.url=r,this.onMessage=N2,this.onError=o=>console.log(o),this.worker=Ah?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=N2,this.onError=N2,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,t){t=t||sG(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}_createBrowserWorker(){this._loadableURL=function Eye(n){Kl(n.source&&!n.url||!n.source&&n.url);let e=P2.get(n.source||n.url);return e||(n.url&&(e=function Cye(n){if(!n.startsWith("http"))return n;const e=function Sye(n){return"try {\n  importScripts('".concat(n,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")}(n);return oG(e)}(n.url),P2.set(n.url,e)),n.source&&(e=oG(n.source),P2.set(n.source,e))),Kl(e),e}({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=t=>{t.data?this.onMessage(t.data):this.onError(new Error("No data received"))},e.onerror=t=>{this.onError(this._getErrorFromErrorEvent(t)),this.terminated=!0},e.onmessageerror=t=>console.error(t),e}_createNodeWorker(){let e;if(this.url){const i=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new R2(i,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new R2(this.source,{eval:!0})}return e.on("message",t=>{this.onMessage(t)}),e.on("error",t=>{this.onError(t)}),e.on("exit",t=>{}),e}}class Mye{constructor(e,t){Me(this,"name",void 0),Me(this,"workerThread",void 0),Me(this,"isRunning",!0),Me(this,"result",void 0),Me(this,"_resolve",()=>{}),Me(this,"_reject",()=>{}),this.name=e,this.workerThread=t,this.result=new Promise((i,r)=>{this._resolve=i,this._reject=r})}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){Kl(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){Kl(this.isRunning),this.isRunning=!1,this._reject(e)}}class Tye{static isSupported(){return F2.isSupported()}constructor(e){Me(this,"name","unnamed"),Me(this,"source",void 0),Me(this,"url",void 0),Me(this,"maxConcurrency",1),Me(this,"maxMobileConcurrency",1),Me(this,"onDebug",()=>{}),Me(this,"reuseWorkers",!0),Me(this,"props",{}),Me(this,"jobQueue",[]),Me(this,"idleQueue",[]),Me(this,"count",0),Me(this,"isDestroyed",!1),this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}startJob(e,t=((r,o,s)=>r.done(s)),i=((r,o)=>r.error(o))){var r=this;return _n(function*(){const o=new Promise(s=>(r.jobQueue.push({name:e,onMessage:t,onError:i,onStart:s}),r));return r._startQueuedJob(),yield o})()}_startQueuedJob(){var e=this;return _n(function*(){if(!e.jobQueue.length)return;const t=e._getAvailableWorker();if(!t)return;const i=e.jobQueue.shift();if(i){e.onDebug({message:"Starting job",name:i.name,workerThread:t,backlog:e.jobQueue.length});const r=new Mye(i.name,t);t.onMessage=o=>i.onMessage(r,o.type,o.payload),t.onError=o=>i.onError(r,o),i.onStart(r);try{yield r.result}finally{e.returnWorkerToQueue(t)}}})()}returnWorkerToQueue(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new F2({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return xye?this.maxMobileConcurrency:this.maxConcurrency}}const Iye={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class cu{static isSupported(){return F2.isSupported()}static getWorkerFarm(e={}){return cu._workerFarm=cu._workerFarm||new cu({}),cu._workerFarm.setProps(e),cu._workerFarm}constructor(e){Me(this,"props",void 0),Me(this,"workerPools",new Map),this.props={...Iye},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:i,url:r}=e;let o=this.workerPools.get(t);return o||(o=new Tye({name:t,source:i,url:r}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}Me(cu,"_workerFarm",void 0);const Dye="latest";function L2(){return L2=_n(function*(n,e,t,i,r){const o=n.id,s=function Oye(n,e={}){const t=e[n.id]||{},i="".concat(n.id,"-worker.js");let r=t.workerUrl;if(!r&&"compression"===n.id&&(r=e.workerUrl),"test"===e._workerType&&(r="modules/".concat(n.module,"/dist/").concat(i)),!r){let o=n.version;"latest"===o&&(o=Dye);const s=o?"@".concat(o):"";r="https://unpkg.com/@loaders.gl/".concat(n.module).concat(s,"/dist/").concat(i)}return Kl(r),r}(n,t),c=cu.getWorkerFarm(t).getWorkerPool({name:o,url:s});t=JSON.parse(JSON.stringify(t)),i=JSON.parse(JSON.stringify(i||{}));const l=yield c.startJob("process-on-worker",Pye.bind(null,r));return l.postMessage("process",{input:e,options:t,context:i}),yield(yield l.result).result}),L2.apply(this,arguments)}function Pye(n,e,t,i){return B2.apply(this,arguments)}function B2(){return B2=_n(function*(n,e,t,i){switch(t){case"done":e.done(i);break;case"error":e.error(new Error(i.error));break;case"process":const{id:r,input:o,options:s}=i;try{const a=yield n(o,s);e.postMessage("done",{id:r,result:a})}catch(a){const c=a instanceof Error?a.message:"unknown error";e.postMessage("error",{id:r,error:c})}break;default:console.warn("parse-with-worker unknown message ".concat(t))}}),B2.apply(this,arguments)}function lG(n){return n&&"object"==typeof n&&n.isBuffer}function dG(n){if(lG(n))return function Nye(n){return lG(n)?new Uint8Array(n.buffer,n.byteOffset,n.length).slice().buffer:n}(n);if(n instanceof ArrayBuffer)return n;if(ArrayBuffer.isView(n))return 0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength);if("string"==typeof n){const e=n;return(new TextEncoder).encode(e).buffer}if(n&&"object"==typeof n&&n._toArrayBuffer)return n._toArrayBuffer();throw new Error("toArrayBuffer")}function j2(){return j2=_n(function*(n){const e=[];var r,t=!1,i=!1;try{for(var s,o=y2(n);t=!(s=yield o.next()).done;t=!1)e.push(s.value)}catch(a){i=!0,r=a}finally{try{t&&null!=o.return&&(yield o.return())}finally{if(i)throw r}}return function Lye(...n){const e=n.map(o=>o instanceof ArrayBuffer?new Uint8Array(o):o),t=e.reduce((o,s)=>o+s.byteLength,0),i=new Uint8Array(t);let r=0;for(const o of e)i.set(o,r),r+=o.byteLength;return i.buffer}(...e)}),j2.apply(this,arguments)}m(643);const Uye=262144,Vye=262144;function uG(n,e){this.v=n,this.k=e}function QC(n){return new uG(n,0)}function M0(n){var e,t;function i(o,s){try{var a=n[o](s),c=a.value,l=c instanceof uG;Promise.resolve(l?c.v:c).then(function(d){if(l){var h="return"===o?"return":"next";if(!c.k||d.done)return i(h,d);d=n[h](d).value}r(a.done?"return":"normal",d)},function(d){i("throw",d)})}catch(d){r("throw",d)}}function r(o,s){switch(o){case"return":e.resolve({value:s,done:!0});break;case"throw":e.reject(s);break;default:e.resolve({value:s,done:!1})}(e=e.next)?i(e.key,e.arg):t=null}this._invoke=function(o,s){return new Promise(function(a,c){var l={key:o,arg:s,resolve:a,reject:c,next:null};t?t=t.next=l:(e=t=l,i(o,s))})},"function"!=typeof n.return&&(this.return=void 0)}function z2(n){return function(){return new M0(n.apply(this,arguments))}}M0.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},M0.prototype.next=function(n){return this._invoke("next",n)},M0.prototype.throw=function(n){return this._invoke("throw",n)},M0.prototype.return=function(n){return this._invoke("return",n)};const Hye=1048576;function H2(){return H2=z2(function*(n,e){const t=e?.chunkSize||Hye;let i=0;for(;i<n.size;){const r=i+t,o=yield QC(n.slice(i,r).arrayBuffer());i=r,yield o}}),H2.apply(this,arguments)}function hG(n,e){return JH?function Wye(n,e){return G2.apply(this,arguments)}(n,e):function $ye(n,e){return W2.apply(this,arguments)}(n,e)}function G2(){return G2=z2(function*(n,e){const t=n.getReader();let i;try{for(;;){const r=i||t.read();null!=e&&e._streamReadAhead&&(i=t.read());const{done:o,value:s}=yield QC(r);if(o)return;yield dG(s)}}catch{t.releaseLock()}}),G2.apply(this,arguments)}function W2(){return W2=z2(function*(n,e){var r,t=!1,i=!1;try{for(var s,o=y2(n);t=!(s=yield QC(o.next())).done;t=!1){const a=s.value;yield dG(a)}}catch(a){i=!0,r=a}finally{try{t&&null!=o.return&&(yield QC(o.return()))}finally{if(i)throw r}}}),W2.apply(this,arguments)}const $2="Cannot convert supplied data type";function Y2(){return Y2=_n(function*(n,e,t){const i=n instanceof ArrayBuffer||ArrayBuffer.isView(n);if("string"==typeof n||i)return function Xye(n,e,t){if(e.text&&"string"==typeof n)return n;if(Jbe(n)&&(n=n.buffer),n instanceof ArrayBuffer){const i=n;return e.text&&!e.binary?new TextDecoder("utf8").decode(i):i}if(ArrayBuffer.isView(n)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(n);let i=n.buffer;const r=n.byteLength||n.length;return(0!==n.byteOffset||r!==i.byteLength)&&(i=i.slice(n.byteOffset,n.byteOffset+r)),i}throw new Error($2)}(n,e);if(v_(n)&&(n=yield XH(n)),y_(n)){const r=n;return yield function cye(n){return A2.apply(this,arguments)}(r),e.binary?yield r.arrayBuffer():yield r.text()}if(WH(n)&&(n=function Yye(n,e){if("string"==typeof n)return function*jye(n,e){const t=e?.chunkSize||Uye;let i=0;const r=new TextEncoder;for(;i<n.length;){const o=Math.min(n.length-i,t),s=n.slice(i,i+o);i+=o,yield r.encode(s)}}(n,e);if(n instanceof ArrayBuffer)return function*zye(n,e={}){const{chunkSize:t=Vye}=e;let i=0;for(;i<n.byteLength;){const r=Math.min(n.byteLength-i,t),o=new ArrayBuffer(r),s=new Uint8Array(n,i,r);new Uint8Array(o).set(s),i+=r,yield o}}(n,e);if(v_(n))return function Gye(n,e){return H2.apply(this,arguments)}(n,e);if(WH(n))return hG(n,e);if(y_(n))return hG(n.body,e);throw new Error("makeIterator")}(n,t)),Kbe(n)||qbe(n))return function Bye(n){return j2.apply(this,arguments)}(n);throw new Error($2)}),Y2.apply(this,arguments)}const eve=new o0({id:"loaders.gl"}),fG=()=>{const n=D2();return n.loaderRegistry=n.loaderRegistry||[],n.loaderRegistry};function pG(n){const e=fG();n=Array.isArray(n)?n:[n];for(const t of n){const i=w2(t);e.find(r=>i===r)||e.unshift(i)}}const nve=/\.([^.]+)$/;function q2(){return q2=_n(function*(n,e=[],t,i){if(!gG(n))return null;let r=mG(n,e,{...t,nothrow:!0},i);if(r)return r;if(v_(n)&&(r=mG(n=yield n.slice(0,10).arrayBuffer(),e,t,i)),!(r||null!=t&&t.nothrow))throw new Error(_G(n));return r}),q2.apply(this,arguments)}function mG(n,e=[],t,i){if(!gG(n))return null;if(e&&!Array.isArray(e))return w2(e);let r=[];e&&(r=r.concat(e)),null!=t&&t.ignoreRegisteredLoaders||r.push(...function tve(){return fG()}()),function ove(n){for(const e of n)w2(e)}(r);const o=function rve(n,e,t,i){const{url:r,type:o}=ZC(n),s=r||i?.url;let a=null,c="";var l;return null!=t&&t.mimeType&&(a=J2(e,t?.mimeType),c="match forced by supplied MIME type ".concat(t?.mimeType)),a=a||function sve(n,e){const t=e&&nve.exec(e),i=t&&t[1];return i?function ave(n,e){e=e.toLowerCase();for(const t of n)for(const i of t.extensions)if(i.toLowerCase()===e)return t;return null}(n,i):null}(e,s),c=c||(a?"matched url ".concat(s):""),a=a||J2(e,o),c=c||(a?"matched MIME type ".concat(o):""),a=a||function cve(n,e){if(!e)return null;for(const t of n)if("string"==typeof e){if(lve(e,t))return t}else if(ArrayBuffer.isView(e)){if(bG(e.buffer,e.byteOffset,t))return t}else if(e instanceof ArrayBuffer&&bG(e,0,t))return t;return null}(e,n),c=c||(a?"matched initial data ".concat(yG(n)):""),a=a||J2(e,t?.fallbackMimeType),c=c||(a?"matched fallback MIME type ".concat(o):""),c&&eve.log(1,"selectLoader selected ".concat(null===(l=a)||void 0===l?void 0:l.name,": ").concat(c,".")),a}(n,r,t,i);if(!(o||null!=t&&t.nothrow))throw new Error(_G(n));return o}function gG(n){return!(n instanceof Response&&204===n.status)}function _G(n){const{url:e,type:t}=ZC(n);let i="No valid loader found (";i+=e?"".concat(function Qye(n){const e=n&&n.lastIndexOf("/");return e>=0?n.substr(e+1):""}(e),", "):"no url provided, ",i+="MIME type: ".concat(t?'"'.concat(t,'"'):"not provided",", ");const r=n?yG(n):"";return i+=r?' first bytes: "'.concat(r,'"'):"first bytes: not available",i+=")",i}function J2(n,e){for(const t of n)if(t.mimeTypes&&t.mimeTypes.includes(e)||e==="application/x.".concat(t.id))return t;return null}function lve(n,e){return e.testText?e.testText(n):(Array.isArray(e.tests)?e.tests:[e.tests]).some(i=>n.startsWith(i))}function bG(n,e,t){return(Array.isArray(t.tests)?t.tests:[t.tests]).some(r=>function dve(n,e,t,i){if(i instanceof ArrayBuffer)return function Fye(n,e,t){if(n.byteLength<(t=t||n.byteLength)||e.byteLength<t)return!1;const i=new Uint8Array(n),r=new Uint8Array(e);for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(i,n,i.byteLength);switch(typeof i){case"function":return i(n,t);case"string":return i===Z2(n,e,i.length);default:return!1}}(n,e,t,r))}function yG(n,e=5){return"string"==typeof n?n.slice(0,e):ArrayBuffer.isView(n)?Z2(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?Z2(n,0,e):""}function Z2(n,e,t){if(n.byteLength<e+t)return"";const i=new DataView(n);let r="";for(let o=0;o<t;o++)r+=String.fromCharCode(i.getUint8(e+o));return r}function eS(n,e,t,i){return Q2.apply(this,arguments)}function Q2(){return Q2=_n(function*(n,e,t,i){Kl(!i||"object"==typeof i),e&&!Array.isArray(e)&&!v2(e)&&(i=void 0,t=e,e=void 0),n=yield n,t=t||{};const{url:r}=ZC(n),s=function Zye(n,e){if(!e&&n&&!Array.isArray(n))return n;let t;if(n&&(t=Array.isArray(n)?n:[n]),e&&e.loaders){const i=Array.isArray(e.loaders)?e.loaders:[e.loaders];t=t?[...t,...i]:i}return t&&t.length?t:null}(e,i),a=yield function ive(n){return q2.apply(this,arguments)}(n,s,t);return a?(i=function Jye(n,e,t=null){if(t)return t;const i={fetch:eG(e,n),...n};return Array.isArray(i.loaders)||(i.loaders=null),i}({url:r,parse:eS,loaders:s},t=mye(t,a,s,r),i),yield function uve(n,e,t,i){return eR.apply(this,arguments)}(a,n,t,i)):null}),Q2.apply(this,arguments)}function eR(){return eR=_n(function*(n,e,t,i){if(function vye(n,e=yye){Kl(n,"no worker provided")}(n),y_(e)){const r=e,{ok:o,redirected:s,status:a,statusText:c,type:l,url:d}=r,h=Object.fromEntries(r.headers.entries());i.response={headers:h,ok:o,redirected:s,status:a,statusText:c,type:l,url:d}}if(e=yield function Kye(n,e,t){return Y2.apply(this,arguments)}(e,n,t),n.parseTextSync&&"string"==typeof e)return t.dataType="text",n.parseTextSync(e,t,i,n);if(function kye(n,e){return!(!cu.isSupported()||!(Ah||null!=e&&e._nodeWorkers))&&n.worker&&e?.worker}(n,t))return yield function Rye(n,e,t,i,r){return L2.apply(this,arguments)}(n,e,t,i,eS);if(n.parseText&&"string"==typeof e)return yield n.parseText(e,t,i,n);if(n.parse)return yield n.parse(e,t,i,n);throw Kl(!n.parseSync),new Error("".concat(n.id," loader - no parser found and worker is disabled"))}),eR.apply(this,arguments)}function T0(n,e,t,i){return tR.apply(this,arguments)}function tR(){return tR=_n(function*(n,e,t,i){!Array.isArray(e)&&!v2(e)&&(t=e,e=void 0);const r=eG(t);let o=n;return"string"==typeof n&&(o=yield r(n)),v_(n)&&(o=yield r(n)),yield eS(o,e,t)}),tR.apply(this,arguments)}const _ve=Object.freeze([]),bve=jC(({oldViewport:n,viewport:e})=>n.equals(e));let Jl=new Uint8ClampedArray(0);const yve={data:{type:"data",value:_ve,async:!0},dataComparator:{type:"function",value:null,compare:!1,optional:!0},_dataDiff:{type:"function",value:n=>n&&n.__diff,compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:(n,{propName:e,layer:t,loaders:i,loadOptions:r,signal:o})=>{const{resourceManager:s}=t.context;var a;r=r||t.getLoadOptions(),i=i||t.props.loaders,o&&(r={...r,fetch:{...null===(a=r)||void 0===a?void 0:a.fetch,signal:o}});let c=s.contains(n);return!c&&!r&&(s.add({resourceId:n,data:T0(n,i),persistent:!1}),c=!0),c?s.subscribe({resourceId:n,onChange:l=>{var d;return null===(d=t.internalState)||void 0===d?void 0:d.reloadAsyncProp(e,l)},consumerId:t.id,requestId:e}):T0(n,i,r)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:Bi.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:({layerIndex:n})=>[0,100*-n],compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class mp extends b2{constructor(...e){super(...e),Me(this,"internalState",null),Me(this,"lifecycle","Awaiting state"),Me(this,"context",void 0),Me(this,"state",void 0),Me(this,"parent",null)}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){return"".concat(this.constructor.layerName||this.constructor.name,"({id: '").concat(this.props.id,"'})")}project(e){us(this.internalState);const t=this.internalState.viewport||this.context.viewport,i=jH(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[r,o,s]=DH(i,t.pixelProjectionMatrix);return 2===e.length?[r,o]:[r,o,s]}unproject(e){return us(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,t){return us(this.internalState),function Obe(n,e){const{viewport:t,coordinateSystem:i,coordinateOrigin:r,modelMatrix:o,fromCoordinateSystem:s,fromCoordinateOrigin:a}=function Dbe(n){const{viewport:e,modelMatrix:t,coordinateOrigin:i}=n;let{coordinateSystem:r,fromCoordinateSystem:o,fromCoordinateOrigin:s}=n;return r===Bi.DEFAULT&&(r=e.isGeospatial?Bi.LNGLAT:Bi.CARTESIAN),void 0===o&&(o=r),void 0===s&&(s=i),{viewport:e,coordinateSystem:r,coordinateOrigin:i,modelMatrix:t,fromCoordinateSystem:o,fromCoordinateOrigin:s}}(e),{geospatialOrigin:c,shaderCoordinateOrigin:l,offsetMode:d}=wH(t,i,r),h=jH(n,{viewport:t,modelMatrix:o,coordinateSystem:s,coordinateOrigin:a,offsetMode:d});d&&function spe(n,e,t){n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2]}(h,h,t.projectPosition(c||l));return h}(e,{viewport:this.internalState.viewport||this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...t})}get isComposite(){return!1}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}setModuleParameters(e){for(const t of this.getModels())t.updateModuleSettings(e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===Bi.DEFAULT||e===Bi.LNGLAT||e===Bi.CARTESIAN}onHover(e,t){return this.props.onHover&&this.props.onHover(e,t)||!1}onClick(e,t){return this.props.onClick&&this.props.onClick(e,t)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e,t=[]){return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}decodePickingColor(e){us(e instanceof Uint8Array);const[t,i,r]=e;return t+256*i+65536*r-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:function y_e(n){if(!function w_e(n){return null!==n&&"object"==typeof n}(n))throw new Error("count(): argument not an object");if("function"==typeof n.count)return n.count();if(Number.isFinite(n.size))return n.size;if(Number.isFinite(n.length))return n.length;if(function v_e(n){return null!==n&&"object"==typeof n&&n.constructor===Object}(n))return Object.keys(n).length;throw new Error("count(): argument not a container")}(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;const t=this.getAttributeManager();if(!t)return null;const{positions:i,instancePositions:r}=t.attributes;return null===(e=i||r)||void 0===e?void 0:e.getBounds()}getShaders(e){for(const t of this.props.extensions)e=E_e(e,t.getShaders.call(this,t));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const t=this.getAttributeManager(),{dataChanged:i}=e.changeFlags;if(i&&t)if(Array.isArray(i))for(const c of i)t.invalidateAll(c);else t.invalidateAll();const{props:r,oldProps:o}=e,s=Number.isInteger(o.highlightedObjectIndex)||o.pickable,a=Number.isInteger(r.highlightedObjectIndex)||r.pickable;if(s!==a&&t){const{pickingColors:c,instancePickingColors:l}=t.attributes,d=c||l;d&&(a&&d.constant&&(d.constant=!1,t.invalidate(d.id)),!d.value&&!a&&(d.constant=!0,d.value=[0,0,0]))}}finalizeState(e){for(const i of this.getModels())i.delete();const t=this.getAttributeManager();t&&t.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const t of this.getModels())t.draw(e)}getPickingInfo({info:e}){const{index:r}=e;return r>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[r]),e}raiseError(e,t){var i,r,o,s;t&&(e.message="".concat(t,": ").concat(e.message)),null!==(i=(r=this.props).onError)&&void 0!==i&&i.call(r,e)||null===(o=this.context)||void 0===o||null===(s=o.onError)||void 0===s||s.call(o,e,this)}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}hasUniformTransition(){var e;return(null===(e=this.internalState)||void 0===e?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const t=this.internalState.viewport;this.internalState.viewport=e,(!t||!bve({oldViewport:t,viewport:e}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all"){const t=this.getAttributeManager();t&&("all"===e?t.invalidateAll():t.invalidate(e))}updateAttributes(e){for(const t of this.getModels())this._setModelAttributes(t,e)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const t=this.props,i=this.getNumInstances(),r=this.getStartIndices();e.update({data:t.data,numInstances:i,startIndices:r,props:t,transitions:t.transitions,buffers:t.data.attributes,context:this});const o=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(o)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const t=e.update(),i=Object.create(this.props);for(const r in t)Object.defineProperty(i,r,{value:t[r]});return i}return this.props}calculateInstancePickingColors(e,{numInstances:t}){if(e.constant)return;const i=Math.floor(Jl.length/3);if(this.internalState.usesPickingColorCache=!0,i<t){t>16777215&&Oi.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),Jl=f0.allocate(Jl,t,{size:3,copy:!0,maxCount:Math.max(t,16777215)});const r=Math.floor(Jl.length/3),o=[];for(let s=i;s<r;s++)this.encodePickingColor(s,o),Jl[3*s+0]=o[0],Jl[3*s+1]=o[1],Jl[3*s+2]=o[2]}e.value=Jl.subarray(0,3*t)}_setModelAttributes(e,t){const o=this.getAttributeManager().getShaderAttributes(t,e.userData.excludeAttributes||{});e.setAttributes(o)}disablePickingIndex(e){this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:t,instancePickingColors:i}=this.getAttributeManager().attributes,r=t||i;if(!r)return;const o=r.getVertexOffset(e),s=r.getVertexOffset(e+1);r.buffer.subData({data:new Uint8Array(s-o),offset:o})}restorePickingColors(){const{pickingColors:e,instancePickingColors:t}=this.getAttributeManager().attributes,i=e||t;i&&(this.internalState.usesPickingColorCache&&i.value.buffer!==Jl.buffer&&(i.value=Jl.subarray(0,i.value.length)),i.updateSubBuffer({startOffset:0}))}_initialize(){us(!this.internalState),us(Number.isFinite(this.props.coordinateSystem)),Ns("layer.initialize",this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new Xbe({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(Oi.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.layer=this,this.internalState.uniformTransitions=new d_e(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const t of this.props.extensions)t.initializeState.call(this,this.context,t);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){Ns("layer.matched",this,this===e);const{state:t,internalState:i}=e;this!==e&&(this.internalState=i,this.internalState.layer=this,this.state=t,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(Ns("layer.update",this,e),!e)return;const t=this.props,i=this.context,r=this.internalState,o=i.viewport,s=this._updateUniformTransition();r.propsInTransition=s,i.viewport=r.viewport||o,this.props=s;try{const a=this._getUpdateParams(),c=this.getModels();if(i.gl)this.updateState(a);else try{this.updateState(a)}catch{}for(const d of this.props.extensions)d.updateState.call(this,a,d);const l=this.getModels()[0]!==c[0];this._postUpdate(a,l)}finally{i.viewport=o,this.props=t,this._clearChangeFlags(),r.needsUpdate=!1,r.resetOldProps()}}_finalize(){Ns("layer.finalize",this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,e)}_drawLayer({moduleParameters:e=null,uniforms:t={},parameters:i={}}){this._updateAttributeTransition();const r=this.props,o=this.context;this.props=this.internalState.propsInTransition||r,t.opacity=Math.pow(this.props.opacity,1/2.2);try{e&&this.setModuleParameters(e);const{getPolygonOffset:a}=this.props,c=a&&a(t)||[0,0];nu(o.gl,{polygonOffset:c}),mc(o.gl,i,()=>{const l={moduleParameters:e,uniforms:t,parameters:i,context:o};for(const d of this.props.extensions)d.draw.call(this,l,d);this.draw(l)})}finally{this.props=r}}getChangeFlags(){var e;return null===(e=this.internalState)||void 0===e?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:t}=this.internalState;for(const r in e)if(e[r]){let o=!1;if("dataChanged"===r){const s=e[r],a=t[r];s&&Array.isArray(a)&&(t.dataChanged=Array.isArray(s)?a.concat(s):s,o=!0)}t[r]||(t[r]=e[r],o=!0),o&&Ns("layer.changeFlag",this,r,e)}const i=!!(t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged);t.propsOrDataChanged=i,t.somethingChanged=i||t.viewportChanged||t.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,t){const i=function h_e(n,e){const t=fH({newProps:n,oldProps:e,propTypes:r2(n),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),i=function p_e(n,e){if(null===e)return"oldProps is null, initial diff";let t=!1;const{dataComparator:i,_dataDiff:r}=n;return i?i(n.data,e.data)||(t="Data comparator detected a change"):n.data!==e.data&&(t="A new data container was supplied"),t&&r&&(t=r(n.data,e.data)||t),t}(n,e);let r=!1;return i||(r=function m_e(n,e){if(null===e)return{all:!0};if("all"in n.updateTriggers&&pH(n,e,"all"))return{all:!0};const t={};let i=!1;for(const r in n.updateTriggers)"all"!==r&&pH(n,e,r)&&(t[r]=!0,i=!0);return!!i&&t}(n,e)),{dataChanged:i,propsChanged:t,updateTriggersChanged:r,extensionsChanged:g_e(n,e),transitionsChanged:f_e(n,e)}}(e,t);if(i.updateTriggersChanged)for(const o in i.updateTriggersChanged)i.updateTriggersChanged[o]&&this.invalidateAttribute(o);if(i.transitionsChanged)for(const o in i.transitionsChanged){var r;this.internalState.uniformTransitions.add(o,t[o],e[o],null===(r=e.transitions)||void 0===r?void 0:r[o])}return this.setChangeFlags(i)}validateProps(){!function u_e(n){const e=r2(n);for(const t in e){const i=e[t],{validate:r}=i;if(r&&!r(n[t],i))throw new Error("Invalid prop ".concat(t,": ").concat(n[t]))}}(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const t={pickingSelectedColor:e.picked?e.color:null},{highlightColor:i}=this.props;e.picked&&"function"==typeof i&&(t.pickingHighlightColor=i(e)),this.setModuleParameters(t),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new o_e(e.gl,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,t){const{props:i,oldProps:r}=e;this.setNeedsRedraw(),this._updateAttributes();const{model:o}=this.state;o?.setInstanceCount(this.getNumInstances());const{autoHighlight:s,highlightedObjectIndex:a,highlightColor:c}=i;if(t||r.autoHighlight!==s||r.highlightedObjectIndex!==a||r.highlightColor!==c){const l={};s||(l.pickingSelectedColor=null),Array.isArray(c)&&(l.pickingHighlightColor=c),(t||a!==r.highlightedObjectIndex)&&(l.pickingSelectedColor=Number.isFinite(a)&&a>=0?this.encodePickingColor(a):null),this.setModuleParameters(l)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let t=!1;t=t||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags;const i=this.getAttributeManager(),r=!!i&&i.getNeedsRedraw(e);return t=t||r,t}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}Me(mp,"defaultProps",yve),Me(mp,"layerName","Layer");class nR extends mp{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(e=>e.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(e){}setState(e){super.setState(e),this.setNeedsUpdate()}getPickingInfo({info:e}){const{object:t}=e;return t&&t.__source&&t.__source.parent&&t.__source.parent.id===this.id&&(e.object=t.__source.object,e.index=t.__source.index),e}filterSubLayer(e){return!0}shouldRenderSubLayer(e,t){return t&&t.length}getSubLayerClass(e,t){const{_subLayerProps:i}=this.props;return i&&i[e]&&i[e].type||t}getSubLayerRow(e,t,i){return e.__source={parent:this,object:t,index:i},e}getSubLayerAccessor(e){if("function"==typeof e){const t={index:-1,data:this.props.data,target:[]};return(i,r)=>i&&i.__source?(t.index=i.__source.index,e(i.__source.object,t)):e(i,r)}return e}getSubLayerProps(e={}){var t;const{opacity:i,pickable:r,visible:o,parameters:s,getPolygonOffset:a,highlightedObjectIndex:c,autoHighlight:l,highlightColor:d,coordinateSystem:h,coordinateOrigin:p,wrapLongitude:_,positionFormat:w,modelMatrix:I,extensions:L,fetch:K,operation:Q,_subLayerProps:me}=this.props,Pe={id:"",updateTriggers:{},opacity:i,pickable:r,visible:o,parameters:s,getPolygonOffset:a,highlightedObjectIndex:c,autoHighlight:l,highlightColor:d,coordinateSystem:h,coordinateOrigin:p,wrapLongitude:_,positionFormat:w,modelMatrix:I,extensions:L,fetch:K,operation:Q},We=me&&e.id&&me[e.id],tt=We&&We.updateTriggers,ut=e.id||"sublayer";if(We){const wt=this.constructor._propTypes,vt=e.type?e.type._propTypes:{};for(const bt in We){const St=vt[bt]||wt[bt];St&&"accessor"===St.type&&(We[bt]=this.getSubLayerAccessor(We[bt]))}}Object.assign(Pe,e,We),Pe.id="".concat(this.props.id,"-").concat(ut),Pe.updateTriggers={all:null===(t=this.props.updateTriggers)||void 0===t?void 0:t.all,...e.updateTriggers,...tt};for(const wt of L){const vt=wt.getSubLayerProps.call(this,wt);vt&&Object.assign(Pe,vt,{updateTriggers:Object.assign(Pe.updateTriggers,vt.updateTriggers)})}return Pe}_updateAutoHighlight(e){for(const t of this.getSubLayers())t.updateAutoHighlight(e)}_getAttributeManager(){return null}_postUpdate(e,t){let i=this.internalState.subLayers;const r=!i||this.needsUpdate();r&&(i=Nk(this.renderLayers(),Boolean),this.internalState.subLayers=i),Ns("compositeLayer.renderLayers",this,r,i);for(const o of i)o.parent=this}}Me(nR,"layerName","CompositeLayer");const wve=/([0-9]+\.?[0-9]*)(%|px)/;function Mh(n){switch(typeof n){case"number":return{position:n,relative:!1};case"string":const e=wve.exec(n);if(e&&e.length>=3){const t="%"===e[2],i=parseFloat(e[1]);return{position:t?i/100:i,relative:t}}default:throw new Error("Could not parse position string ".concat(n))}}function Th(n,e){return n.relative?Math.round(n.position*e):n.position}class iR{constructor(e){Me(this,"id",void 0),Me(this,"viewportInstance",void 0),Me(this,"_x",void 0),Me(this,"_y",void 0),Me(this,"_width",void 0),Me(this,"_height",void 0),Me(this,"_padding",void 0),Me(this,"props",void 0);const{id:t,x:i=0,y:r=0,width:o="100%",height:s="100%",padding:a=null,viewportInstance:c}=e||{};us(!c||c instanceof Eh),this.viewportInstance=c,this.id=t||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=Mh(i),this._y=Mh(r),this._width=Mh(o),this._height=Mh(s),this._padding=a&&{left:Mh(a.left||0),right:Mh(a.right||0),top:Mh(a.top||0),bottom:Mh(a.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e||(this.viewportInstance?!!e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):this.ViewportType===e.ViewportType&&b_(this.props,e.props))}makeViewport({width:e,height:t,viewState:i}){if(this.viewportInstance)return this.viewportInstance;i=this.filterViewState(i);const r=this.getDimensions({width:e,height:t});return new this.ViewportType({...i,...this.props,...r})}getViewStateId(){const{viewState:e}=this.props;return"string"==typeof e?e:e?.id||this.id}filterViewState(e){if(this.props.viewState&&"object"==typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;const t={...e};for(const i in this.props.viewState)"id"!==i&&(t[i]=this.props.viewState[i]);return t}return e}getDimensions({width:e,height:t}){const i={x:Th(this._x,e),y:Th(this._y,t),width:Th(this._width,e),height:Th(this._height,t)};return this._padding&&(i.padding={left:Th(this._padding.left,e),top:Th(this._padding.top,t),right:Th(this._padding.right,e),bottom:Th(this._padding.bottom,t)}),i}get controller(){const e=this.props.controller;return e?!0===e?{type:this.ControllerType}:"function"==typeof e?{type:e}:{type:this.ControllerType,...e}:null}}const xve=(new Dt).lookAt({eye:[0,0,1]});function Eve({width:n,height:e,near:t,far:i,padding:r}){let o=-n/2,s=n/2,a=-e/2,c=e/2;if(r){const{left:l=0,right:d=0,top:h=0,bottom:p=0}=r,_=ds((l+n-d)/2,0,n)-n/2,w=ds((h+e-p)/2,0,e)-e/2;o-=_,s-=_,a+=w,c+=w}return(new Dt).ortho({left:o,right:s,bottom:a,top:c,near:t,far:i})}class Cve extends Eh{constructor(e){const{width:t,height:i,near:r=.1,far:o=1e3,zoom:s=0,target:a=[0,0,0],padding:c=null,flipY:l=!0}=e,d=Array.isArray(s)?s[0]:s,h=Array.isArray(s)?s[1]:s,p=Math.min(d,h),_=Math.pow(2,p);let w;if(d!==h){const I=Math.pow(2,d),L=Math.pow(2,h);w={unitsPerMeter:[I/_,L/_,1],metersPerUnit:[_/I,_/L,1]}}super({...e,longitude:void 0,position:a,viewMatrix:xve.clone().scale([_,_*(l?-1:1),_]),projectionMatrix:Eve({width:t||1,height:i||1,padding:c,near:r,far:o}),zoom:p,distanceScales:w})}projectFlat([e,t]){const{unitsPerMeter:i}=this.distanceScales;return[e*i[0],t*i[1]]}unprojectFlat([e,t]){const{metersPerUnit:i}=this.distanceScales;return[e*i[0],t*i[1]]}panByPosition(e,t){const i=C0(t,this.pixelUnprojectionMatrix),o=zC([],this.projectFlat(e),xH([],i)),s=zC([],this.center,o);return{target:this.unprojectFlat(s)}}}const wG=()=>{},Sve=n=>n;class Mve{constructor(e){Me(this,"getControllerState",void 0),Me(this,"props",void 0),Me(this,"propsInTransition",void 0),Me(this,"transition",void 0),Me(this,"onViewStateChange",void 0),Me(this,"onStateChange",void 0),Me(this,"_onTransitionUpdate",t=>{const{time:i,settings:{interpolator:r,startProps:o,endProps:s,duration:a,easing:c}}=t,l=c(i/a),d=r.interpolateProps(o,s,l);this.propsInTransition=this.getControllerState({...this.props,...d}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})}),this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new x0(e.timeline),this.onViewStateChange=e.onViewStateChange||wG,this.onStateChange=e.onStateChange||wG}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let t=!1;const i=this.props;if(this.props=e,!i||this._shouldIgnoreViewportChange(i,e))return!1;if(this._isTransitionEnabled(e)){let r=i;if(this.transition.inProgress){const{interruption:o,endProps:s}=this.transition.settings;r={...i,...2===o?s:this.propsInTransition||i}}this._triggerTransition(r,e),t=!0}else this.transition.cancel();return t}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:t,transitionInterpolator:i}=e;return(t>0||"auto"===t)&&!!i}_isUpdateDueToCurrentTransition(e){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}_shouldIgnoreViewportChange(e,t){return this.transition.inProgress?3===this.transition.settings.interruption||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}_triggerTransition(e,t){const i=this.getControllerState(e),r=this.getControllerState(t).shortestPathFrom(i),o=t.transitionInterpolator,s=o.getDuration?o.getDuration(e,t):t.transitionDuration;if(0===s)return;const a=o.initializeProps(e,r);this.propsInTransition={};const c={duration:s,easing:t.transitionEasing||Sve,interpolator:o,interruption:t.transitionInterruption||1,startProps:a.start,endProps:a.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)};this.transition.start(c),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return t=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e?.(t)}}}class Tve{constructor(e){Me(this,"_propsToCompare",void 0),Me(this,"_propsToExtract",void 0),Me(this,"_requiredProps",void 0);const{compare:t,extract:i,required:r}=e;this._propsToCompare=t,this._propsToExtract=i||t,this._requiredProps=r}arePropsEqual(e,t){for(const i of this._propsToCompare)if(!(i in e)||!(i in t)||!s_(e[i],t[i]))return!1;return!0}initializeProps(e,t){const i={},r={};for(const o of this._propsToExtract)(o in e||o in t)&&(i[o]=e[o],r[o]=t[o]);return this._checkRequiredProps(i),this._checkRequiredProps(r),{start:i,end:r}}getDuration(e,t){return t.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach(t=>{const i=e[t];us(Number.isFinite(i)||Array.isArray(i),"".concat(t," is required for transition"))})}}const Ive=["longitude","latitude","zoom","bearing","pitch"],Dve=["longitude","latitude","zoom"];class tS extends Tve{constructor(e={}){const t=Array.isArray(e)?e:e.transitionProps,i=Array.isArray(e)?{}:e;i.transitionProps=Array.isArray(t)?{compare:t,required:t}:t||{compare:Ive,required:Dve},super(i.transitionProps),Me(this,"opts",void 0),this.opts=i}initializeProps(e,t){const i=super.initializeProps(e,t),{makeViewport:r,around:o}=this.opts;if(r&&o){const s=r(e),a=r(t),c=s.unproject(o);i.start.around=o,Object.assign(i.end,{around:a.project(c),aroundPosition:c,width:t.width,height:t.height})}return i}interpolateProps(e,t,i){const r={};for(const o of this._propsToExtract)r[o]=EC(e[o]||0,t[o]||0,i);if(t.aroundPosition&&this.opts.makeViewport){const o=this.opts.makeViewport({...t,...r});Object.assign(r,o.panByPosition(t.aroundPosition,EC(e.around,t.around,i)))}return r}}const Ih={transitionDuration:0},nS=n=>1-(1-n)*(1-n),w__WHEEL=["wheel"],w__PAN=["panstart","panmove","panend"],w__PINCH=["pinchstart","pinchmove","pinchend"],w__TRIPLE_PAN=["tripanstart","tripanmove","tripanend"],w__DOUBLE_TAP=["doubletap"],w__KEYBOARD=["keydown"],gp={};class oR{constructor(e){Me(this,"props",void 0),Me(this,"state",{}),Me(this,"transitionManager",void 0),Me(this,"eventManager",void 0),Me(this,"onViewStateChange",void 0),Me(this,"onStateChange",void 0),Me(this,"makeViewport",void 0),Me(this,"_controllerState",void 0),Me(this,"_events",{}),Me(this,"_interactionState",{isDragging:!1}),Me(this,"_customEvents",[]),Me(this,"_eventStartBlocked",null),Me(this,"_panMove",!1),Me(this,"invertPan",!1),Me(this,"dragMode","rotate"),Me(this,"inertia",0),Me(this,"scrollZoom",!0),Me(this,"dragPan",!0),Me(this,"dragRotate",!0),Me(this,"doubleClickZoom",!0),Me(this,"touchZoom",!0),Me(this,"touchRotate",!1),Me(this,"keyboard",!0),this.transitionManager=new Mve({...e,getControllerState:t=>new this.ControllerState(t),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){for(const t in this._events)if(this._events[t]){var e;null===(e=this.eventManager)||void 0===e||e.off(t,this.handleEvent)}this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const t=this._eventStartBlocked;switch(e.type){case"panstart":return!t&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!t&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!t&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:t,y:i}=this.props,{offsetCenter:r}=e;return[r.x-t,r.y-i]}isPointInBounds(e,t){const{width:i,height:r}=this.props;if(t&&t.handled)return!1;const o=e[0]>=0&&e[0]<=i&&e[1]>=0&&e[1]<=r;return o&&t&&t.stopPropagation(),o}isFunctionKeyPressed(e){const{srcEvent:t}=e;return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const t=setTimeout(()=>{this._eventStartBlocked===t&&(this._eventStartBlocked=null)},e);this._eventStartBlocked=t}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:t}=e;this.inertia=Number.isFinite(t)?t:!0===t?300:0;const{scrollZoom:i=!0,dragPan:r=!0,dragRotate:o=!0,doubleClickZoom:s=!0,touchZoom:a=!0,touchRotate:c=!1,keyboard:l=!0}=e,d=!!this.onViewStateChange;this.toggleEvents(w__WHEEL,d&&i),this.toggleEvents(w__PAN,d&&(r||o)),this.toggleEvents(w__PINCH,d&&(a||c)),this.toggleEvents(w__TRIPLE_PAN,d&&c),this.toggleEvents(w__DOUBLE_TAP,d&&s),this.toggleEvents(w__KEYBOARD,d&&l),this.scrollZoom=i,this.dragPan=r,this.dragRotate=o,this.doubleClickZoom=s,this.touchZoom=a,this.touchRotate=c,this.keyboard=l}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,t){this.eventManager&&e.forEach(i=>{this._events[i]!==t&&(this._events[i]=t,t?this.eventManager.on(i,this.handleEvent):this.eventManager.off(i,this.handleEvent))})}updateViewport(e,t=null,i={}){const r={...e.getViewportProps(),...t},o=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(i),o){const s=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:r,interactionState:this._interactionState,oldViewState:s})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;let i=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(i=!i);const r=this.controllerState[i?"panStart":"rotateStart"]({pos:t});return this._panMove=i,this.updateViewport(r,Ih,{isDragging:!0}),!0}_onPan(e){return!!this.isDragging()&&(this._panMove?this._onPanMove(e):this._onPanRotate(e))}_onPanEnd(e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e))}_onPanMove(e){if(!this.dragPan)return!1;const t=this.getCenter(e),i=this.controllerState.pan({pos:t});return this.updateViewport(i,Ih,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:t}=this;if(this.dragPan&&t&&e.velocity){const i=this.getCenter(e),o=this.controllerState.pan({pos:[i[0]+e.velocityX*t/2,i[1]+e.velocityY*t/2]}).panEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:nS},{isDragging:!1,isPanning:!0})}else{const i=this.controllerState.panEnd();this.updateViewport(i,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const t=this.getCenter(e),i=this.controllerState.rotate({pos:t});return this.updateViewport(i,Ih,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:t}=this;if(this.dragRotate&&t&&e.velocity){const i=this.getCenter(e),o=this.controllerState.rotate({pos:[i[0]+e.velocityX*t/2,i[1]+e.velocityY*t/2]}).rotateEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:nS},{isDragging:!1,isRotating:!0})}else{const i=this.controllerState.rotateEnd();this.updateViewport(i,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;e.srcEvent.preventDefault();const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const{speed:i=.01,smooth:r=!1}=!0===this.scrollZoom?{}:this.scrollZoom,{delta:o}=e;let s=2/(1+Math.exp(-Math.abs(o*i)));o<0&&0!==s&&(s=1/s);const a=this.controllerState.zoom({pos:t,scale:s});return this.updateViewport(a,{...this._getTransitionProps({around:t}),transitionDuration:r?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.controllerState.rotateStart({pos:t});return this.updateViewport(i,Ih,{isDragging:!0}),!0}_onTriplePan(e){if(!this.touchRotate||!this.isDragging())return!1;const t=this.getCenter(e);t[0]-=e.deltaX;const i=this.controllerState.rotate({pos:t});return this.updateViewport(i,Ih,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this;if(this.touchRotate&&t&&e.velocityY){const i=this.getCenter(e),r=[i[0],i[1]+=e.velocityY*t/2],o=this.controllerState.rotate({pos:r});this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:nS},{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{const i=this.controllerState.rotateEnd();this.updateViewport(i,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return gp._startPinchRotation=e.rotation,gp._lastPinchEvent=e,this.updateViewport(i,Ih,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let t=this.controllerState;if(this.touchZoom){const{scale:i}=e,r=this.getCenter(e);t=t.zoom({pos:r,scale:i})}if(this.touchRotate){const{rotation:i}=e;t=t.rotate({deltaAngleX:gp._startPinchRotation-i})}return this.updateViewport(t,Ih,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),gp._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this,{_lastPinchEvent:i}=gp;if(this.touchZoom&&t&&i&&e.scale!==i.scale){const r=this.getCenter(e);let o=this.controllerState.rotateEnd();const s=Math.log2(e.scale),a=(s-Math.log2(i.scale))/(e.deltaTime-i.deltaTime),c=Math.pow(2,s+a*t/2);o=o.zoom({pos:r,scale:c}).zoomEnd(),this.updateViewport(o,{...this._getTransitionProps({around:r}),transitionDuration:t,transitionEasing:nS},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{const r=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(r,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return gp._startPinchRotation=null,gp._lastPinchEvent=null,!0}_onDoubleTap(e){if(!this.doubleClickZoom)return!1;const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.isFunctionKeyPressed(e),r=this.controllerState.zoom({pos:t,scale:i?.5:2});return this.updateViewport(r,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const t=this.isFunctionKeyPressed(e),{zoomSpeed:i,moveSpeed:r,rotateSpeedX:o,rotateSpeedY:s}=!0===this.keyboard?{}:this.keyboard,{controllerState:a}=this;let c;const l={};switch(e.srcEvent.code){case"Minus":c=t?a.zoomOut(i).zoomOut(i):a.zoomOut(i),l.isZooming=!0;break;case"Equal":c=t?a.zoomIn(i).zoomIn(i):a.zoomIn(i),l.isZooming=!0;break;case"ArrowLeft":t?(c=a.rotateLeft(o),l.isRotating=!0):(c=a.moveLeft(r),l.isPanning=!0);break;case"ArrowRight":t?(c=a.rotateRight(o),l.isRotating=!0):(c=a.moveRight(r),l.isPanning=!0);break;case"ArrowUp":t?(c=a.rotateUp(s),l.isRotating=!0):(c=a.moveUp(r),l.isPanning=!0);break;case"ArrowDown":t?(c=a.rotateDown(s),l.isRotating=!0):(c=a.moveDown(r),l.isPanning=!0);break;default:return!1}return this.updateViewport(c,this._getTransitionProps(),l),!0}_getTransitionProps(e){const{transition:t}=this;return t&&t.transitionInterpolator?e?{...t,transitionInterpolator:new tS({...e,...t.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:t:Ih}}class xG{constructor(e,t){Me(this,"_viewportProps",void 0),Me(this,"_state",void 0),this._viewportProps=this.applyConstraints(e),this._state=t}getViewportProps(){return this._viewportProps}getState(){return this._state}}class EG extends xG{constructor(e){const{width:t,height:i,rotationX:r=0,rotationOrbit:o=0,target:s=[0,0,0],zoom:a=0,minRotationX:c=-90,maxRotationX:l=90,minZoom:d=-1/0,maxZoom:h=1/0,startPanPosition:p,startRotatePos:_,startRotationX:w,startRotationOrbit:I,startZoomPosition:L,startZoom:K}=e;super({width:t,height:i,rotationX:r,rotationOrbit:o,target:s,zoom:a,minRotationX:c,maxRotationX:l,minZoom:d,maxZoom:h},{startPanPosition:p,startRotatePos:_,startRotationX:w,startRotationOrbit:I,startZoomPosition:L,startZoom:K}),Me(this,"makeViewport",void 0),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanPosition:this._unproject(e)})}pan({pos:e,startPosition:t}){const i=this.getState().startPanPosition||t;if(!i)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(i,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:i=0}){const{startRotatePos:r,startRotationX:o,startRotationOrbit:s}=this.getState(),{width:a,height:c}=this.getViewportProps();if(!r||void 0===o||void 0===s)return this;let l;if(e){let d=(e[0]-r[0])/a;(o<-90||o>90)&&(d*=-1),l={rotationX:o+(e[1]-r[1])/c*180,rotationOrbit:s+180*d}}else l={rotationX:o+i,rotationOrbit:s+t};return this._getUpdatedState(l)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(e){const t=e.getViewportProps(),i={...this.getViewportProps()},{rotationOrbit:r}=i;return Math.abs(r-t.rotationOrbit)>180&&(i.rotationOrbit=r<0?r+360:r-360),i}zoomStart({pos:e}){return this._getUpdatedState({startZoomPosition:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:t,scale:i}){let{startZoom:r,startZoomPosition:o}=this.getState();if(o||(r=this.getViewportProps().zoom,o=this._unproject(t)||this._unproject(e)),!o)return this;const s=this._calculateNewZoom({scale:i,startZoom:r}),a=this.makeViewport({...this.getViewportProps(),zoom:s});return this._getUpdatedState({zoom:s,...a.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:e})})}zoomOut(e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/e})})}moveLeft(e=50){return this._panFromCenter([-e,0])}moveRight(e=50){return this._panFromCenter([e,0])}moveUp(e=50){return this._panFromCenter([0,-e])}moveDown(e=50){return this._panFromCenter([0,e])}rotateLeft(e=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-e})}rotateRight(e=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+e})}rotateUp(e=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-e})}rotateDown(e=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_calculateNewZoom({scale:e,startZoom:t}){const{maxZoom:i,minZoom:r}=this.getViewportProps();return void 0===t&&(t=this.getViewportProps().zoom),ds(t+Math.log2(e),r,i)}_panFromCenter(e){const{width:t,height:i,target:r}=this.getViewportProps();return this.pan({startPosition:r,pos:[t/2+e[0],i/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}applyConstraints(e){const{maxZoom:t,minZoom:i,zoom:r,maxRotationX:o,minRotationX:s,rotationOrbit:a}=e;return e.zoom=Array.isArray(r)?[ds(r[0],i,t),ds(r[1],i,t)]:ds(r,i,t),e.rotationX=ds(e.rotationX,s,o),(a<-180||a>180)&&(e.rotationOrbit=function vpe(n,e){const t=n%e;return t<0?e+t:t}(a+180,360)-180),e}}class kve extends oR{constructor(...e){super(...e),Me(this,"ControllerState",EG),Me(this,"transition",{transitionDuration:300,transitionInterpolator:new tS({transitionProps:{compare:["target","zoom","rotationX","rotationOrbit"],required:["target","zoom"]}})})}}class Rve extends EG{constructor(e){super(e),Me(this,"zoomAxis",void 0),this.zoomAxis=e.zoomAxis||"all"}_calculateNewZoom({scale:e,startZoom:t}){const{maxZoom:i,minZoom:r}=this.getViewportProps();void 0===t&&(t=this.getViewportProps().zoom);let o=Math.log2(e);if(Array.isArray(t)){let[s,a]=t;switch(this.zoomAxis){case"X":s=ds(s+o,r,i);break;case"Y":a=ds(a+o,r,i);break;default:let c=Math.min(s+o,a+o);c<r&&(o+=r-c),c=Math.max(s+o,a+o),c>i&&(o+=i-c),s+=o,a+=o}return[s,a]}return ds(t+o,r,i)}}class Pve extends oR{constructor(...e){super(...e),Me(this,"ControllerState",Rve),Me(this,"transition",{transitionDuration:300,transitionInterpolator:new tS(["target","zoom"])}),Me(this,"dragMode","pan")}_onPanRotate(){return!1}}class sR extends iR{get ViewportType(){return Cve}get ControllerType(){return Pve}}Me(sR,"displayName","OrthographicView");const aR=Math.PI/180;function Nve({height:n,focalDistance:e,orbitAxis:t,rotationX:i,rotationOrbit:r,zoom:o}){const s="Z"===t?[0,0,1]:[0,1,0],a="Z"===t?[0,-e,0]:[0,0,e],c=(new Dt).lookAt({eye:a,up:s});c.rotateX(i*aR),"Z"===t?c.rotateZ(r*aR):c.rotateY(r*aR);const l=Math.pow(2,o)/n;return c.scale(l),c}class Fve extends Eh{constructor(e){const{height:t,projectionMatrix:i,fovy:r=50,orbitAxis:o="Z",target:s=[0,0,0],rotationX:a=0,rotationOrbit:c=0,zoom:l=0}=e,d=i?i[5]/2:f2(r);super({...e,longitude:void 0,viewMatrix:Nve({height:t||1,focalDistance:d,orbitAxis:o,rotationX:a,rotationOrbit:c,zoom:l}),fovy:r,focalDistance:d,position:s,zoom:l}),Me(this,"projectedCenter",void 0),this.projectedCenter=this.project(this.center)}unproject(e,{topLeft:t=!0}={}){const[i,r,o=this.projectedCenter[2]]=e,s=t?r:this.height-r,[a,c,l]=C0([i,s,o],this.pixelUnprojectionMatrix);return[a,c,l]}panByPosition(e,t){const i=this.project(e);return{target:this.unproject([this.width/2+i[0]-t[0],this.height/2+i[1]-t[1],this.projectedCenter[2]])}}}class CG extends iR{constructor(e={}){super(e),this.props.orbitAxis=e.orbitAxis||"Z"}get ViewportType(){return Fve}get ControllerType(){return kve}}Me(CG,"displayName","OrbitView");const Lve=[255,255,255],Bve=1;let Uve=0;class SG{constructor(e={}){Me(this,"id",void 0),Me(this,"color",void 0),Me(this,"intensity",void 0),Me(this,"type","ambient");const{color:t=Lve}=e,{intensity:i=Bve}=e;this.id=e.id||"ambient-".concat(Uve++),this.color=t,this.intensity=i}}const jve=[255,255,255],Vve=1,zve=[0,0,-1];let Hve=0;class AG{constructor(e={}){Me(this,"id",void 0),Me(this,"color",void 0),Me(this,"intensity",void 0),Me(this,"type","directional"),Me(this,"direction",void 0),Me(this,"shadow",void 0);const{color:t=jve}=e,{intensity:i=Vve}=e,{direction:r=zve}=e,{_shadow:o=!1}=e;this.id=e.id||"directional-".concat(Hve++),this.color=t,this.intensity=i,this.type="directional",this.direction=new Ps(r).normalize().toArray(),this.shadow=o}getProjectedLight(e){return this}}class Gve{constructor(e,t={id:"pass"}){Me(this,"id",void 0),Me(this,"gl",void 0),Me(this,"props",void 0);const{id:i}=t;this.id=i,this.gl=e,this.props={...t}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class iS extends Gve{constructor(...e){super(...e),Me(this,"_lastRenderIndex",-1)}render(e){return nu(this.gl,{framebuffer:e.target}),this._drawLayers(e)}_drawLayers(e){const{target:t,moduleParameters:i,viewports:r,views:o,onViewportActive:s,clearStack:a=!0,clearCanvas:c=!0}=e;e.pass=e.pass||"unknown";const l=this.gl;c&&function $ve(n){nu(n,{viewport:[0,0,n.drawingBufferWidth,n.drawingBufferHeight]}),n.clear(16640)}(l),a&&(this._lastRenderIndex=-1);const d=[];for(const h of r){const p=o&&o[h.id];s(h);const _=this._getDrawLayerParams(h,e),w=h.subViewports||[h];for(const I of w){const L=this._drawLayersInViewport(l,{target:t,moduleParameters:i,viewport:I,view:p,pass:e.pass,layers:e.layers},_);d.push(L)}}return d}_getDrawLayerParams(e,{layers:t,pass:i,layerFilter:r,cullRect:o,effects:s,moduleParameters:a}){const c=[],l=MG(this._lastRenderIndex+1),d={layer:t[0],viewport:e,isPicking:i.startsWith("picking"),renderPass:i,cullRect:o},h={};for(let p=0;p<t.length;p++){const _=t[p],w=this._shouldDrawLayer(_,d,r,h),I={shouldDrawLayer:w};w&&(I.layerRenderIndex=l(_,w),I.moduleParameters=this._getModuleParameters(_,s,i,a),I.layerParameters=this.getLayerParameters(_,p,e)),c[p]=I}return c}_drawLayersInViewport(e,{layers:t,moduleParameters:i,pass:r,target:o,viewport:s,view:a},c){const l=function Wve(n,{moduleParameters:e,target:t,viewport:i}){const r=t&&"default-framebuffer"!==t.id,o=e&&e.devicePixelRatio||n_(n);return[i.x*o,(r?t.height:n.drawingBufferHeight)-(i.y+i.height)*o,i.width*o,i.height*o]}(e,{moduleParameters:i,target:o,viewport:s});if(a&&a.props.clear){const h=!0===a.props.clear?{color:!0,depth:!0}:a.props.clear;mc(e,{scissorTest:!0,scissor:l},()=>Ak(e,h))}const d={totalCount:t.length,visibleCount:0,compositeCount:0,pickableCount:0};nu(e,{viewport:l});for(let h=0;h<t.length;h++){const p=t[h],{shouldDrawLayer:_,layerRenderIndex:w,moduleParameters:I,layerParameters:L}=c[h];if(_&&p.props.pickable&&d.pickableCount++,p.isComposite)d.compositeCount++;else if(_){d.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,w),I.viewport=s;try{p._drawLayer({moduleParameters:I,uniforms:{layerIndex:w},parameters:L})}catch(K){p.raiseError(K,"drawing ".concat(p," to ").concat(r))}}}return d}shouldDrawLayer(e){return!0}getModuleParameters(e,t){return null}getLayerParameters(e,t,i){return e.props.parameters}_shouldDrawLayer(e,t,i,r){if(!e.props.visible||!this.shouldDrawLayer(e))return!1;t.layer=e;let s=e.parent;for(;s;){if(!s.props.visible||!s.filterSubLayer(t))return!1;t.layer=s,s=s.parent}if(i){const a=t.layer.id;if(a in r||(r[a]=i(t)),!r[a])return!1}return e.activateViewport(t.viewport),!0}_getModuleParameters(e,t,i,r){var o;const s=Object.assign(Object.create((null===(o=e.internalState)||void 0===o?void 0:o.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:n_(this.gl)});if(t)for(const c of t){var a;Object.assign(s,null===(a=c.getModuleParameters)||void 0===a?void 0:a.call(c,e))}return Object.assign(s,this.getModuleParameters(e,t),r)}}function MG(n=0,e={}){const t={},i=(r,o)=>{const s=r.props._offset,a=r.id,c=r.parent&&r.parent.id;let l;if(c&&!(c in e)&&i(r.parent,!1),c in t){const d=t[c]=t[c]||MG(e[c],e);l=d(r,o),t[a]=d}else Number.isFinite(s)?(l=s+(e[c]||0),t[a]=null):l=n;return o&&l>=n&&(n=l+1),e[a]=l,l};return i}class Yve extends iS{constructor(e,t){super(e,t),Me(this,"shadowMap",void 0),Me(this,"depthBuffer",void 0),Me(this,"fbo",void 0),this.shadowMap=new ls(e,{width:1,height:1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.depthBuffer=new o_(e,{format:33189,width:1,height:1}),this.fbo=new vo(e,{id:"shadowmap",width:1,height:1,attachments:{36064:this.shadowMap,36096:this.depthBuffer}})}render(e){const t=this.fbo;mc(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},()=>{const i=e.viewports[0],r=n_(this.gl),o=i.width*r,s=i.height*r;(o!==t.width||s!==t.height)&&t.resize({width:o,height:s}),super.render({...e,target:t,pass:"shadow"})})}shouldDrawLayer(e){return!1!==e.props.shadowEnabled}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}const TG="#define SMOOTH_EDGE_RADIUS 0.5",Jve={name:"geometry",vs:"\n".concat(TG,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(TG,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")},Zve=Object.keys(Bi).map(n=>"const int COORDINATE_SYSTEM_".concat(n," = ").concat(Bi[n],";")).join(""),Qve=Object.keys(Wl).map(n=>"const int PROJECTION_MODE_".concat(n," = ").concat(Wl[n],";")).join(""),e0e=Object.keys(yC).map(n=>"const int UNIT_".concat(n.toUpperCase()," = ").concat(yC[n],";")).join(""),t0e="".concat(Zve,"\n").concat(Qve,"\n").concat(e0e,'\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0; // meters\nconst float GLOBE_RADIUS = 256.0;\n\n// returns an adjustment factor for uCommonUnitsPerMeter\nfloat project_size_at_latitude(float lat) {\n  float y = clamp(lat, -89.9, 89.9);\n  return 1.0 / cos(radians(y));\n}\n\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n\n    // uCommonUnitsPerMeter in low-zoom Web Mercator is non-linear\n    // Adjust by 1 / cos(latitude)\n    // If geometry.position (vertex in common space) is populated, use it\n    // Otherwise use geometry.worldPosition (anchor in world space)\n    \n    if (geometry.position.w == 0.0) {\n      return project_size_at_latitude(geometry.worldPosition.y);\n    }\n\n    // latitude from common y: 2.0 * (atan(exp(y / TILE_SIZE * 2.0 * PI - PI)) - PI / 4.0)\n    // Taylor series of 1 / cos(latitude)\n    // Max error < 0.003\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n\nfloat project_size_at_latitude(float meters, float lat) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);\n}\n\n//\n// Scaling offsets - scales meters to "world distance"\n// Note the scalar version of project_size is for scaling the z component only\n//\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\n\n// Get rotation matrix that aligns the z axis with the given up vector\n// Find 3 unit vectors ux, uy, uz that are perpendicular to each other and uz == up\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  // Tangent on XY plane\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\n\n//\n// Projects positions (defined by project_uCoordinateSystem) to common space (defined by project_uProjectionMode)\n//\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n\n  // Work around for a Mac+NVIDIA bug https://github.com/visgl/deck.gl/issues/4145\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size_at_latitude(position_world.z, position_world.y),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        // Too far from the projection center for offset mode to be accurate\n        // Only use high parts\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    // Subtract high part of 64 bit value. Convert remainder to float32, preserving precision.\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n\n  // Translation is already added to the high parts\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\n\n//\n// Projects from common space coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\n\n// Returns a clip space offset that corresponds to a given number of screen pixels\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  // UNIT_PIXELS\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n'),n0e={},cR={name:"project",dependencies:[{name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null},Jve],vs:t0e,getUniforms:function i0e(n=n0e){return"viewport"in n?function nbe({viewport:n,devicePixelRatio:e=1,modelMatrix:t=null,coordinateSystem:i=Bi.DEFAULT,coordinateOrigin:r=vH,autoWrapLongitude:o=!1}){i===Bi.DEFAULT&&(i=n.isGeospatial?Bi.LNGLAT:Bi.CARTESIAN);const s=ebe({viewport:n,devicePixelRatio:e,coordinateSystem:i,coordinateOrigin:r});return s.project_uWrapLongitude=o,s.project_uModelMatrix=t||yH,s}(n):{}}},s0e=jC(function u0e({viewport:n,center:e}){return new Dt(n.viewProjectionMatrix).invert().transform(e)}),a0e=jC(function h0e({viewport:n,shadowMatrices:e}){const t=[],i=n.pixelUnprojectionMatrix,r=n.isGeospatial?void 0:1,o=[[0,0,r],[n.width,0,r],[0,n.height,r],[n.width,n.height,r],[0,0,-1],[n.width,0,-1],[0,n.height,-1],[n.width,n.height,-1]].map(s=>function d0e(n,e){const[t,i,r]=n,o=C0([t,i,r],e);return Number.isFinite(r)?o:[o[0],o[1],0]}(s,i));for(const s of e){const a=s.clone().translate(new Ps(n.center).negate()),c=o.map(d=>a.transform(d)),l=(new Dt).ortho({left:Math.min(...c.map(d=>d[0])),right:Math.max(...c.map(d=>d[0])),bottom:Math.min(...c.map(d=>d[1])),top:Math.max(...c.map(d=>d[1])),near:Math.min(...c.map(d=>-d[2])),far:Math.max(...c.map(d=>-d[2]))});t.push(l.multiplyRight(s))}return t}),c0e=[0,0,0,1],l0e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],lR={name:"shadow",dependencies:[cR],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:(n={},e={})=>"viewport"in n&&(n.drawToShadowMap||n.shadowMaps&&n.shadowMaps.length>0)?function f0e(n,e){const{shadowEnabled:t=!0}=n;if(!t||!n.shadowMatrices||!n.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};const i={shadow_uDrawShadowMap:!!n.drawToShadowMap,shadow_uUseShadowMap:!!n.shadowMaps&&n.shadowMaps.length>0,shadow_uColor:n.shadowColor||c0e,shadow_uLightId:n.shadowLightId||0,shadow_uLightCount:n.shadowMatrices.length},r=s0e({viewport:n.viewport,center:e.project_uCenter}),o=[],s=a0e({shadowMatrices:n.shadowMatrices,viewport:n.viewport}).slice();for(let a=0;a<n.shadowMatrices.length;a++){const c=s[a],l=c.clone().translate(new Ps(n.viewport.center).negate());e.project_uCoordinateSystem===Bi.LNGLAT&&e.project_uProjectionMode===Wl.WEB_MERCATOR?(s[a]=l,o[a]=r):(s[a]=c.clone().multiplyRight(l0e),o[a]=l.transform(r))}for(let a=0;a<s.length;a++)i["shadow_uViewProjectionMatrices[".concat(a,"]")]=s[a],i["shadow_uProjectCenters[".concat(a,"]")]=o[a],i["shadow_uShadowMap".concat(a)]=n.shadowMaps&&n.shadowMaps.length>0?n.shadowMaps[a]:n.dummyShadowMap;return i}(n,e):{}},p0e={color:[255,255,255],intensity:1},IG=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],m0e=[0,0,0,200/255];class dR{constructor(e={}){Me(this,"id","lighting-effect"),Me(this,"props",null),Me(this,"shadowColor",m0e),Me(this,"shadow",void 0),Me(this,"ambientLight",null),Me(this,"directionalLights",[]),Me(this,"pointLights",[]),Me(this,"shadowPasses",[]),Me(this,"shadowMaps",[]),Me(this,"dummyShadowMap",null),Me(this,"programManager",void 0),Me(this,"shadowMatrices",void 0);for(const t in e){const i=e[t];switch(i.type){case"ambient":this.ambientLight=i;break;case"directional":this.directionalLights.push(i);break;case"point":this.pointLights.push(i)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(t=>t.shadow)}preRender(e,{layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s}){if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=v0.getDefaultProgramManager(e),lR&&this.programManager.addDefaultModule(lR)),this.dummyShadowMap||(this.dummyShadowMap=new ls(e,{width:1,height:1}));for(let a=0;a<this.shadowPasses.length;a++)this.shadowPasses[a].render({layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s,moduleParameters:{shadowLightId:a,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}getModuleParameters(e){const t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(i=>i.getProjectedLight({layer:e})),pointLights:this.pointLights.map(i=>i.getProjectedLight({layer:e}))},t}cleanup(){for(const e of this.shadowPasses)e.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(lR),this.programManager=null)}_calculateMatrices(){const e=[];for(const t of this.directionalLights){const i=(new Dt).lookAt({eye:new Ps(t.direction).negate()});e.push(i)}return e}_createShadowPasses(e){for(let t=0;t<this.directionalLights.length;t++){const i=new Yve(e);this.shadowPasses[t]=i,this.shadowMaps[t]=i.shadowMap}}_applyDefaultLights(){const{ambientLight:e,pointLights:t,directionalLights:i}=this;!e&&0===t.length&&0===i.length&&(this.ambientLight=new SG(p0e),this.directionalLights.push(new AG(IG[0]),new AG(IG[1])))}}let g0e=1,_0e=1;class DG{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(e){const{delay:t=0,duration:i=Number.POSITIVE_INFINITY,rate:r=1,repeat:o=1}=e,s=g0e++,a={time:0,delay:t,duration:i,rate:r,repeat:o};return this._setChannelTime(a,this.time),this.channels.set(s,a),s}removeChannel(e){this.channels.delete(e);for(const[t,i]of this.animations)i.channel===e&&this.detachAnimation(t)}isFinished(e){const t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}getTime(e){if(void 0===e)return this.time;const t=this.channels.get(e);return void 0===t?-1:t.time}setTime(e){this.time=Math.max(0,e);const t=this.channels.values();for(const r of t)this._setChannelTime(r,this.time);const i=this.animations.values();for(const r of i){const{animation:o,channel:s}=r;o.setTime(this.getTime(s))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,t){const i=_0e++;return this.animations.set(i,{animation:e,channel:t}),e.setTime(this.getTime(t)),i}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,t){const i=t-e.delay;i>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,i)%e.duration,e.time*=e.rate)}}class b0e{constructor(e,t,i){Me(this,"id",void 0),Me(this,"context",void 0),Me(this,"isLoaded",void 0),Me(this,"persistent",void 0),Me(this,"_loadCount",0),Me(this,"_subscribers",new Set),Me(this,"_data",void 0),Me(this,"_loader",void 0),Me(this,"_error",void 0),Me(this,"_content",void 0),this.id=e,this.context=i,this.setData(t)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(e,t){if(e===this._data&&!t)return;this._data=e;const i=++this._loadCount;let r=e;"string"==typeof e&&(r=T0(e)),r instanceof Promise?(this.isLoaded=!1,this._loader=r.then(o=>{this._loadCount===i&&(this.isLoaded=!0,this._error=void 0,this._content=o)}).catch(o=>{this._loadCount===i&&(this.isLoaded=!0,this._error=o||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const o of this._subscribers)o.onChange(this.getData())}}class y0e{constructor({gl:e,protocol:t}){Me(this,"protocol",void 0),Me(this,"_context",void 0),Me(this,"_resources",void 0),Me(this,"_consumers",void 0),Me(this,"_pruneRequest",void 0),this.protocol=t||"resource://",this._context={gl:e,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return!!e.startsWith(this.protocol)||e in this._resources}add({resourceId:e,data:t,forceUpdate:i=!1,persistent:r=!0}){let o=this._resources[e];o?o.setData(t,i):(o=new b0e(e,t,this._context),this._resources[e]=o),o.persistent=r}remove(e){const t=this._resources[e];t&&(t.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const t=this._consumers[e];if(t){for(const i in t){const r=t[i],o=this._resources[r.resourceId];o&&o.unsubscribe(r)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:t,consumerId:i,requestId:r="default"}){const{_resources:o,protocol:s}=this;e.startsWith(s)&&(o[e=e.replace(s,"")]||this.add({resourceId:e,data:null,persistent:!1}));const a=o[e];if(this._track(i,r,a,t),a)return a.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,t,i,r){const o=this._consumers,s=o[e]=o[e]||{},a=s[t]||{},c=a.resourceId&&this._resources[a.resourceId];c&&(c.unsubscribe(a),this.prune()),i&&(s[t]=a,a.onChange=r,a.resourceId=i.id,i.subscribe(a))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const t=this._resources[e];!t.persistent&&!t.inUse()&&(t.delete(),delete this._resources[e])}}}const v0e=[cR],w0e=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function x0e(n){const e=v0.getDefaultProgramManager(n);for(const t of v0e)e.addDefaultModule(t);for(const t of w0e)e.addShaderHook(t);return e}class S0e{constructor(e,{deck:t,stats:i,viewport:r,timeline:o}={}){Me(this,"layers",void 0),Me(this,"context",void 0),Me(this,"resourceManager",void 0),Me(this,"_lastRenderedLayers",[]),Me(this,"_needsRedraw",!1),Me(this,"_needsUpdate",!1),Me(this,"_nextLayers",null),Me(this,"_debug",!1),Me(this,"activateViewport",s=>{Ns("layerManager.activateViewport",this,s),s&&(this.context.viewport=s)}),this.layers=[],this.resourceManager=new y0e({gl:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:e,deck:t,programManager:e&&x0e(e),stats:i||new yk({id:"deck.gl"}),viewport:r||new Eh({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:o||new DG,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const i of this.layers){const r=i.getNeedsRedraw(e);t=t||r}return t}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter(t=>e.find(i=>0===t.id.indexOf(i))):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,t){Ns("layerManager.setLayers",this,t,e),this._lastRenderedLayers=e;const i=Nk(e,Boolean);for(const r of i)r.context=this.context;this._updateLayers(this.layers,i)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}_handleError(e,t,i){i.raiseError(t,"".concat(e," of ").concat(i))}_updateLayers(e,t){const i={};for(const s of e)i[s.id]?Oi.warn("Multiple old layers with same id ".concat(s.id))():i[s.id]=s;const r=[];this._updateSublayersRecursively(t,i,r),this._finalizeOldLayers(i);let o=!1;for(const s of r)if(s.hasUniformTransition()){o="Uniform transition in ".concat(s);break}this._needsUpdate=o,this.layers=r}_updateSublayersRecursively(e,t,i){for(const r of e){r.context=this.context;const o=t[r.id];null===o&&Oi.warn("Multiple new layers with same id ".concat(r.id))(),t[r.id]=null;let s=null;try{this._debug&&o!==r&&r.validateProps(),o?(this._transferLayerState(o,r),this._updateLayer(r)):this._initializeLayer(r),i.push(r),s=r.isComposite?r.getSubLayers():null}catch(a){this._handleError("matching",a,r)}s&&this._updateSublayersRecursively(s,t,i)}}_finalizeOldLayers(e){for(const t in e){const i=e[t];i&&this._finalizeLayer(i)}}_initializeLayer(e){try{e._initialize(),e.lifecycle="Initialized"}catch(t){this._handleError("initialization",t,e)}}_transferLayerState(e,t){t._transferState(e),t.lifecycle="Matched. State transferred from previous layer",t!==e&&(e.lifecycle="Discarded. Awaiting garbage collection")}_updateLayer(e){try{e._update()}catch(t){this._handleError("update",t,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle="No longer matched. Awaiting garbage collection";try{e._finalize(),e.lifecycle="Finalized! Awaiting garbage collection"}catch(t){this._handleError("finalization",t,e)}}}class A0e{constructor(e){Me(this,"width",void 0),Me(this,"height",void 0),Me(this,"views",void 0),Me(this,"viewState",void 0),Me(this,"controllers",void 0),Me(this,"timeline",void 0),Me(this,"_viewports",void 0),Me(this,"_viewportMap",void 0),Me(this,"_isUpdating",void 0),Me(this,"_needsRedraw",void 0),Me(this,"_needsUpdate",void 0),Me(this,"_eventManager",void 0),Me(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const t=this.controllers[e];t&&t.finalize()}this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const t=this.controllers[e];t&&t.updateTransition()}}getViewports(e){return e?this._viewports.filter(t=>t.containsPixel(e)):this._viewports}getViews(){const e={};return this.views.forEach(t=>{e[t.id]=t}),e}getView(e){return this.views.find(t=>t.id===e)}getViewState(e){const t="string"==typeof e?this.getView(e):e,i=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(i):i}getViewport(e){return this._viewportMap[e]}unproject(e,t){const i=this.getViewports(),r={x:e[0],y:e[1]};for(let o=i.length-1;o>=0;--o){const s=i[o];if(s.containsPixel(r)){const a=e.slice();return a[0]-=s.x,a[1]-=s.y,s.unproject(a,t)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,t){(e!==this.width||t!==this.height)&&(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}_setViews(e){e=Nk(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!b_(e,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):Oi.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(e,t){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange({...t,viewId:e})}_createController(e,t){return new(0,t.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,t.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:o=>{var s;return null===(s=this.getView(e.id))||void 0===s?void 0:s.makeViewport({viewState:o,width:this.width,height:this.height})}})}_updateController(e,t,i,r){const o=e.controller;if(o){const s={...t,...o,id:e.id,x:i.x,y:i.y,width:i.width,height:i.height};return r||(r=this._createController(e,s)),r&&r.setProps(s),r}return null}_rebuildViewports(){const{views:e}=this,t=this.controllers;this._viewports=[],this.controllers={};let i=!1;for(let r=e.length;r--;){const o=e[r],s=this.getViewState(o),a=o.makeViewport({viewState:s,width:this.width,height:this.height});let c=t[o.id];const l=!!o.controller;l&&!c&&(i=!0),(i||!l)&&c&&(c.finalize(),c=null),this.controllers[o.id]=this._updateController(o,s,a,c),this._viewports.unshift(a)}for(const r in t){const o=t[r];o&&!this.controllers[r]&&o.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)})}_diffViews(e,t){return e.length!==t.length||e.some((i,r)=>!e[r].equals(t[r]))}}class T0e extends xG{constructor(e){const{width:t,height:i,latitude:r,longitude:o,zoom:s,bearing:a=0,pitch:c=0,altitude:l=1.5,position:d=[0,0,0],maxZoom:h=20,minZoom:p=0,maxPitch:_=60,minPitch:w=0,startPanLngLat:I,startZoomLngLat:L,startRotatePos:K,startBearing:Q,startPitch:me,startZoom:Pe,normalize:We=!0}=e;us(Number.isFinite(o)),us(Number.isFinite(r)),us(Number.isFinite(s)),super({width:t,height:i,latitude:r,longitude:o,zoom:s,bearing:a,pitch:c,altitude:l,maxZoom:h,minZoom:p,maxPitch:_,minPitch:w,normalize:We,position:d},{startPanLngLat:I,startZoomLngLat:L,startRotatePos:K,startBearing:Q,startPitch:me,startZoom:Pe}),Me(this,"makeViewport",void 0),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:t}){const i=this.getState().startPanLngLat||this._unproject(t);if(!i)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(i,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:i=0}){const{startRotatePos:r,startBearing:o,startPitch:s}=this.getState();if(!r||void 0===o||void 0===s)return this;let a;return a=e?this._getNewRotation(e,r,s,o):{bearing:o+t,pitch:s+i},this._getUpdatedState(a)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:t,scale:i}){let{startZoom:r,startZoomLngLat:o}=this.getState();if(o||(r=this.getViewportProps().zoom,o=this._unproject(t)||this._unproject(e)),!o)return this;const{maxZoom:s,minZoom:a}=this.getViewportProps();let c=r+Math.log2(i);c=ds(c,a,s);const l=this.makeViewport({...this.getViewportProps(),zoom:c});return this._getUpdatedState({zoom:c,...l.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const t=e.getViewportProps(),i={...this.getViewportProps()},{bearing:r,longitude:o}=i;return Math.abs(r-t.bearing)>180&&(i.bearing=r<0?r+360:r-360),Math.abs(o-t.longitude)>180&&(i.longitude=o<0?o+360:o-360),i}applyConstraints(e){const{maxZoom:t,minZoom:i,zoom:r}=e;e.zoom=ds(r,i,t);const{maxPitch:o,minPitch:s,pitch:a}=e;e.pitch=ds(a,s,o);const{normalize:c=!0}=e;return c&&Object.assign(e,function wbe(n){const{width:e,height:t,pitch:i=0}=n;let{longitude:r,latitude:o,zoom:s,bearing:a=0}=n;(r<-180||r>180)&&(r=AH(r+180,360)-180),(a<-180||a>180)&&(a=AH(a+180,360)-180);const c=d2(t/512);if(s<=c)s=c,o=0;else{const l=t/2/Math.pow(2,s),d=__([0,l])[1];if(o<d)o=d;else{const h=__([0,512-l])[1];o>h&&(o=h)}}return{width:e,height:t,longitude:r,latitude:o,zoom:s,pitch:i,bearing:a}}(e)),e}_zoomFromCenter(e){const{width:t,height:i}=this.getViewportProps();return this.zoom({pos:[t/2,i/2],scale:e})}_panFromCenter(e){const{width:t,height:i}=this.getViewportProps();return this.pan({startPos:[t/2,i/2],pos:[t/2+e[0],i/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_getNewRotation(e,t,i,r){const o=e[0]-t[0],s=e[1]-t[1],a=e[1],c=t[1],{width:l,height:d}=this.getViewportProps(),h=o/l;let p=0;s>0?Math.abs(d-c)>5&&(p=s/(c-d)*1.2):s<0&&c>5&&(p=1-a/c),p=ds(p,-1,1);const{minPitch:_,maxPitch:w}=this.getViewportProps();let L=i;return p>0?L=i+p*(w-i):p<0&&(L=i-p*(_-i)),{pitch:L,bearing:r+180*h}}}class I0e extends oR{constructor(...e){super(...e),Me(this,"ControllerState",T0e),Me(this,"transition",{transitionDuration:300,transitionInterpolator:new tS({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),Me(this,"dragMode","pan")}setProps(e){e.position=e.position||[0,0,0];const t=this.props;super.setProps(e),(!t||t.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class kG extends iR{get ViewportType(){return Ch}get ControllerType(){return I0e}}Me(kG,"displayName","MapView");class D0e extends iS{constructor(e,t){super(e,t),Me(this,"maskMap",void 0),Me(this,"fbo",void 0);const{mapSize:i=2048}=t;this.maskMap=new ls(e,{width:i,height:i,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.fbo=new vo(e,{id:"maskmap",width:i,height:i,attachments:{36064:this.maskMap}})}render(e){const t=this.gl,i=[!1,!1,!1,!1];return i[e.channel]=!0,mc(t,{clearColor:[255,255,255,255],blend:!0,blendFunc:[0,1],blendEquation:32778,colorMask:i,depthTest:!1},()=>super.render({...e,target:this.fbo,pass:"mask"}))}shouldDrawLayer(e){return"mask"===e.props.operation}delete(){this.fbo.delete(),this.maskMap.delete()}}class P0e{constructor(){Me(this,"id","mask-effect"),Me(this,"props",null),Me(this,"useInPicking",!0),Me(this,"dummyMaskMap",void 0),Me(this,"channels",[]),Me(this,"masks",null),Me(this,"maskPass",void 0),Me(this,"maskMap",void 0),Me(this,"lastViewport",void 0)}preRender(e,{layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s}){this.dummyMaskMap||(this.dummyMaskMap=new ls(e,{width:1,height:1}));const a=t.filter(h=>h.props.visible&&"mask"===h.props.operation);if(0===a.length)return this.masks=null,void(this.channels.length=0);this.masks={},this.maskPass||(this.maskPass=new D0e(e,{id:"default-mask"}),this.maskMap=this.maskPass.maskMap);const c=this._sortMaskChannels(a),l=r[0],d=!this.lastViewport||!this.lastViewport.equals(l);for(const h in c)this._renderChannel(c[h],{layerFilter:i,onViewportActive:o,views:s,viewport:l,viewportChanged:d})}_renderChannel(e,{layerFilter:t,onViewportActive:i,views:r,viewport:o,viewportChanged:s}){const a=this.channels[e.index];if(!a)return;const c=e===a||a.layers.length!==e.layers.length||e.layerBounds.some((l,d)=>l!==a.layerBounds[d]);if(e.bounds=a.bounds,e.maskBounds=a.maskBounds,this.channels[e.index]=e,(c||s)&&(this.lastViewport=o,e.bounds=function O0e({layers:n,viewport:e}){let t=null;for(const o of n){const s=o.getBounds();s&&(t?(t[0]=Math.min(t[0],s[0][0]),t[1]=Math.min(t[1],s[0][1]),t[2]=Math.max(t[2],s[1][0]),t[3]=Math.max(t[3],s[1][1])):t=[s[0][0],s[0][1],s[1][0],s[1][1]])}const i=e.getBounds();if(!t)return i;const r=function R0e(n){const e_x=n[2]-n[0],e_y=n[3]-n[1],t_x=n[0]+.5*e_x,t_y=n[1]+.5*e_y;return[t_x-e_x,t_y-e_y,t_x+e_x,t_y+e_y]}(i);return t[2]-t[0]<r[2]-r[0]||t[3]-t[1]<r[3]-r[1]||(t[0]=Math.max(t[0],r[0]),t[1]=Math.max(t[1],r[1]),t[2]=Math.min(t[2],r[2]),t[3]=Math.min(t[3],r[3])),t}({layers:e.layers,viewport:o}),c||!s_(e.bounds,a.bounds))){const{maskPass:l,maskMap:d}=this,h=function k0e({bounds:n,viewport:e,width:t,height:i}){if(n[2]<=n[0]||n[3]<=n[1])return null;if(t-=2,i-=2,e instanceof Ch){const{longitude:a,latitude:c,zoom:l}=OH({width:t,height:i,bounds:[[n[0],n[1]],[n[2],n[3]]],maxZoom:20});return new Ch({longitude:a,latitude:c,zoom:l,x:1,y:1,width:t,height:i})}const o=[(n[0]+n[2])/2,(n[1]+n[3])/2,0],s=Math.min(20,t/(n[2]-n[0]),i/(n[3]-n[1]));return new sR({x:1,y:1}).makeViewport({width:t,height:i,viewState:{target:o,zoom:Math.log2(s)}})}({bounds:e.bounds,viewport:o,width:d.width,height:d.height});e.maskBounds=h?h.getBounds():[0,0,1,1],l.render({pass:"mask",channel:e.index,layers:e.layers,layerFilter:t,viewports:h?[h]:[],onViewportActive:i,views:r,moduleParameters:{devicePixelRatio:1}})}this.masks[e.id]={index:e.index,bounds:e.maskBounds,coordinateOrigin:e.coordinateOrigin,coordinateSystem:e.coordinateSystem}}_sortMaskChannels(e){const t={};let i=0;for(const r of e){const{id:o}=r.root;let s=t[o];if(!s){if(++i>4){Oi.warn("Too many mask layers. The max supported is 4")();continue}s={id:o,index:this.channels.findIndex(a=>a?.id===o),layers:[],layerBounds:[],coordinateOrigin:r.root.props.coordinateOrigin,coordinateSystem:r.root.props.coordinateSystem},t[o]=s}s.layers.push(r),s.layerBounds.push(r.getBounds())}for(let r=0;r<4;r++){const o=this.channels[r];(!o||!(o.id in t))&&(this.channels[r]=null)}for(const r in t){const o=t[r];o.index<0&&(o.index=this.channels.findIndex(s=>!s),this.channels[o.index]=o)}return t}getModuleParameters(){return{maskMap:this.masks?this.maskMap:this.dummyMaskMap,maskChannels:this.masks}}cleanup(){this.dummyMaskMap&&(this.dummyMaskMap.delete(),this.dummyMaskMap=void 0),this.maskPass&&(this.maskPass.delete(),this.maskPass=void 0,this.maskMap=void 0),this.lastViewport=void 0,this.masks=null,this.channels.length=0}}const N0e=new dR;class F0e{constructor(){Me(this,"effects",void 0),Me(this,"_internalEffects",void 0),Me(this,"_needsRedraw",void 0),this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}setProps(e){"effects"in e&&(e.effects.length!==this.effects.length||!b_(e.effects,this.effects))&&(this.setEffects(e.effects),this._needsRedraw="effects changed")}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}getEffects(){return this._internalEffects}finalize(){this.cleanup()}setEffects(e=[]){this.cleanup(),this.effects=e,this._internalEffects=e.slice(),this._internalEffects.push(new P0e),e.some(t=>t instanceof dR)||this._internalEffects.push(N0e)}cleanup(){for(const e of this.effects)e.cleanup();for(const e of this._internalEffects)e.cleanup();this.effects.length=0,this._internalEffects.length=0}}class L0e extends iS{shouldDrawLayer(e){return"draw"===e.props.operation}}const RG={blendFunc:[1,0,32771,0],blendEquation:32774};class PG extends iS{constructor(...e){super(...e),Me(this,"pickZ",void 0),Me(this,"_colors",null)}render(e){return e.pickingFBO?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:t,views:i,viewports:r,onViewportActive:o,pickingFBO:s,deviceRect:{x:a,y:c,width:l,height:d},cullRect:h,effects:p,pass:_="picking",pickZ:w}){const I=this.gl;this.pickZ=w;const L=w?null:{byLayer:new Map,byAlpha:[]};this._colors=L;const K=mc(I,{scissorTest:!0,scissor:[a,c,l,d],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...RG,blend:!w},()=>super.render({target:s,layers:e,layerFilter:t,views:i,viewports:r,onViewportActive:o,cullRect:h,effects:p?.filter(me=>me.useInPicking),pass:_}));return this._colors=null,{decodePickingColor:L&&U0e.bind(null,L),stats:K}}shouldDrawLayer(e){return e.props.pickable&&"draw"===e.props.operation}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(e,t,i){const r={...e.props.parameters};return this._colors?(Object.assign(r,RG),r.blend=!0,r.blendColor=function B0e(n,e,t){const{byLayer:i,byAlpha:r}=n;let o,s=i.get(e);return s?(s.viewports.push(t),o=s.a):(o=i.size+1,o<=255?(s={a:o,layer:e,viewports:[t]},i.set(e,s),r[o]=s):(Oi.warn("Too many pickable layers, only picking the first 255")(),o=0)),[0,0,0,o/255]}(this._colors,e,i)):r.blend=!1,r}}function U0e(n,e){const t=n.byAlpha[e[3]];return t&&{pickedLayer:t.layer,pickedViewports:t.viewports,pickedObjectIndex:t.layer.decodePickingColor(e)}}class V0e{constructor(e){this.gl=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new L0e(e),this.pickLayersPass=new PG(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){"layerFilter"in e&&this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in e&&this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){const t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;e.layerFilter=e.layerFilter||this.layerFilter,e.effects=e.effects||[],e.target=e.target||vo.getDefaultFramebuffer(this.gl),this._preRender(e.effects,e);const i=this.lastPostProcessEffect?this.renderBuffers[0]:e.target,r=t.render({...e,target:i});this._postRender(e.effects,e),this.renderCount++,Ns("deckRenderer.renderLayers",this,r,e)}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}finalize(){const{renderBuffers:e}=this;for(const t of e)t.delete();e.length=0}_preRender(e,t){let i=null;for(const r of e)r.preRender(this.gl,t),r.postRender&&(i=r);i&&this._resizeRenderBuffers(),this.lastPostProcessEffect=i}_resizeRenderBuffers(){const{renderBuffers:e}=this;0===e.length&&e.push(new vo(this.gl),new vo(this.gl));for(const t of e)t.resize()}_postRender(e,t){const{renderBuffers:i}=this,r={inputBuffer:i[0],swapBuffer:i[1],target:null};for(const o of e)if(o.postRender){if(o===this.lastPostProcessEffect){r.target=t.target,o.postRender(this.gl,r);break}const s=o.postRender(this.gl,r);r.inputBuffer=s,r.swapBuffer=s===i[0]?i[1]:i[0]}}}const z0e={pickedColor:null,pickedObjectIndex:-1};function H0e({pickedColors:n,decodePickingColor:e,deviceX:t,deviceY:i,deviceRadius:r,deviceRect:o}){const{x:s,y:a,width:c,height:l}=o;let d=r*r,h=-1,p=0;for(let _=0;_<l;_++){const w=_+a-i,I=w*w;if(I>d)p+=4*c;else for(let L=0;L<c;L++){if(n[p+3]-1>=0){const Q=L+s-t,me=Q*Q+I;me<=d&&(d=me,h=p)}p+=4}}if(h>=0){const _=n.slice(h,h+4),w=e(_);if(w){const I=Math.floor(h/4/c),L=h/4-I*c;return{...w,pickedColor:_,pickedX:s+L,pickedY:a+I}}Oi.error("Picked non-existent layer. Is picking buffer corrupt?")()}return z0e}function NG({pickInfo:n,viewports:e,pixelRatio:t,x:i,y:r,z:o}){let a,s=e[0];if(e.length>1&&(s=function $0e(n,e){for(let t=n.length-1;t>=0;t--){const i=n[t];if(i.containsPixel(e))return i}return n[0]}(n?.pickedViewports||e,{x:i,y:r})),s){const c=[i-s.x,r-s.y];void 0!==o&&(c[2]=o),a=s.unproject(c)}return{color:null,layer:null,viewport:s,index:-1,picked:!1,x:i,y:r,pixel:[i,r],coordinate:a,devicePixel:n&&"pickedX"in n?[n.pickedX,n.pickedY]:void 0,pixelRatio:t}}function W0e(n){const{pickInfo:e,lastPickedInfo:t,mode:i,layers:r}=n,{pickedColor:o,pickedLayer:s,pickedObjectIndex:a}=e,c=s?[s]:[];if("hover"===i){const p=t.layerId,_=s?s.props.id:null;if(_!==p||a!==t.index){if(_!==p){const w=r.find(I=>I.props.id===p);w&&c.unshift(w)}t.layerId=_,t.index=a,t.info=null}}const l=NG(n),d=new Map;return d.set(null,l),c.forEach(h=>{let p={...l};h===s&&(p.color=o,p.index=a,p.picked=!0),p=FG({layer:h,info:p,mode:i});const _=p.layer;h===s&&"hover"===i&&(t.info=p),d.set(_.id,p),"hover"===i&&_.updateAutoHighlight(p)}),d}function FG({layer:n,info:e,mode:t}){for(;n&&e;){const i=e.layer||null;e.sourceLayer=i,e.layer=n,e=n.getPickingInfo({info:e,mode:t,sourceLayer:i}),n=n.parent}return e}class Y0e{constructor(e){Me(this,"gl",void 0),Me(this,"pickingFBO",void 0),Me(this,"depthFBO",void 0),Me(this,"pickLayersPass",void 0),Me(this,"layerFilter",void 0),Me(this,"lastPickedInfo",void 0),Me(this,"_pickable",!0),this.gl=e,this.pickLayersPass=new PG(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:t,layers:i,viewports:r},o=this.lastPickedInfo.info){const s=o&&o.layer&&o.layer.id,a=o&&o.viewport&&o.viewport.id,c=s?i.find(p=>p.id===s):null,l=a&&r.find(p=>p.id===a)||r[0],d=l&&l.unproject([e-l.x,t-l.y]);return{...o,x:e,y:t,viewport:l,coordinate:d,layer:c}}_resizeBuffer(){var e,t;const{gl:i}=this;if(!this.pickingFBO&&(this.pickingFBO=new vo(i),vo.isSupported(i,{colorBufferFloat:!0}))){const r=new vo(i);r.attach({36064:new ls(i,{format:Ci(i)?34836:6408,type:5126})}),this.depthFBO=r}null===(e=this.pickingFBO)||void 0===e||e.resize({width:i.canvas.width,height:i.canvas.height}),null===(t=this.depthFBO)||void 0===t||t.resize({width:i.canvas.width,height:i.canvas.height})}_getPickable(e){if(!1===this._pickable)return null;const t=e.filter(i=>i.isPickable()&&!i.isComposite);return t.length?t:null}_pickClosestObject({layers:e,views:t,viewports:i,x:r,y:o,radius:s=0,depth:a=1,mode:c="query",unproject3D:l,onViewportActive:d,effects:h}){const p=this._getPickable(e),_=n_(this.gl);if(!p)return{result:[],emptyInfo:NG({viewports:i,x:r,y:o,pixelRatio:_})};this._resizeBuffer();const w=gk(this.gl,[r,o],!0),I=[w.x+Math.floor(w.width/2),w.y+Math.floor(w.height/2)],L=Math.round(s*_),{width:K,height:Q}=this.pickingFBO,me=this._getPickingRect({deviceX:I[0],deviceY:I[1],deviceRadius:L,deviceWidth:K,deviceHeight:Q}),Pe={x:r-s,y:o-s,width:2*s+1,height:2*s+1};let We;const tt=[],ut=new Set;for(let wt=0;wt<a;wt++){let vt,bt;vt=me?H0e({...this._drawAndSample({layers:p,views:t,viewports:i,onViewportActive:d,deviceRect:me,cullRect:Pe,effects:h,pass:"picking:".concat(c)}),deviceX:I[0],deviceY:I[1],deviceRadius:L,deviceRect:me}):{pickedColor:null,pickedObjectIndex:-1},vt.pickedLayer&&l&&this.depthFBO&&(bt=this._drawAndSample({layers:[vt.pickedLayer],views:t,viewports:i,onViewportActive:d,deviceRect:{x:vt.pickedX,y:vt.pickedY,width:1,height:1},cullRect:Pe,effects:h,pass:"picking:".concat(c,":z")},!0).pickedColors[0]),vt.pickedLayer&&wt+1<a&&(ut.add(vt.pickedLayer),vt.pickedLayer.disablePickingIndex(vt.pickedObjectIndex)),We=W0e({pickInfo:vt,lastPickedInfo:this.lastPickedInfo,mode:c,layers:p,viewports:i,x:r,y:o,z:bt,pixelRatio:_});for(const St of We.values())St.layer&&tt.push(St);if(!vt.pickedColor)break}for(const wt of ut)wt.restorePickingColors();return{result:tt,emptyInfo:We.get(null)}}_pickVisibleObjects({layers:e,views:t,viewports:i,x:r,y:o,width:s=1,height:a=1,mode:c="query",maxObjects:l=null,onViewportActive:d,effects:h}){const p=this._getPickable(e);if(!p)return[];this._resizeBuffer();const _=n_(this.gl),w=gk(this.gl,[r,o],!0),I=w.x,L=w.y+w.height,K=gk(this.gl,[r+s,o+a],!0),me=K.y,tt=function G0e({pickedColors:n,decodePickingColor:e}){const t=new Map;if(n)for(let i=0;i<n.length;i+=4)if(n[i+3]-1>=0){const o=n.slice(i,i+4),s=o.join(",");if(!t.has(s)){const a=e(o);a?t.set(s,{...a,color:o}):Oi.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(t.values())}(this._drawAndSample({layers:p,views:t,viewports:i,onViewportActive:d,deviceRect:{x:I,y:me,width:K.x+K.width-I,height:L-me},cullRect:{x:r,y:o,width:s,height:a},effects:h,pass:"picking:".concat(c)})),ut=new Map,wt=Number.isFinite(l);for(let vt=0;vt<tt.length&&!(wt&&l&&ut.size>=l);vt++){const bt=tt[vt];let St={color:bt.pickedColor,layer:null,index:bt.pickedObjectIndex,picked:!0,x:r,y:o,pixelRatio:_};St=FG({layer:bt.pickedLayer,info:St,mode:c}),ut.has(St.object)||ut.set(St.object,St)}return Array.from(ut.values())}_drawAndSample({layers:e,views:t,viewports:i,onViewportActive:r,deviceRect:o,cullRect:s,effects:a,pass:c},l=!1){const d=l?this.depthFBO:this.pickingFBO,{decodePickingColor:h}=this.pickLayersPass.render({layers:e,layerFilter:this.layerFilter,views:t,viewports:i,onViewportActive:r,pickingFBO:d,deviceRect:o,cullRect:s,effects:a,pass:c,pickZ:l}),{x:p,y:_,width:w,height:I}=o,L=new(l?Float32Array:Uint8Array)(w*I*4);return xC(d,{sourceX:p,sourceY:_,sourceWidth:w,sourceHeight:I,target:L}),{pickedColors:L,decodePickingColor:h}}_getPickingRect({deviceX:e,deviceY:t,deviceRadius:i,deviceWidth:r,deviceHeight:o}){const s=Math.max(0,e-i),a=Math.max(0,t-i),c=Math.min(r,e+i+1)-s,l=Math.min(o,t+i+1)-a;return c<=0||l<=0?null:{x:s,y:a,width:c,height:l}}}const X0e={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class K0e{constructor(e){Me(this,"el",null),Me(this,"isVisible",!1);const t=e.parentElement;t&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,X0e),t.appendChild(this.el))}setTooltip(e,t,i){const r=this.el;if(r){if("string"==typeof e)r.innerText=e;else{if(!e)return this.isVisible=!1,void(r.style.display="none");e.text&&(r.innerText=e.text),e.html&&(r.innerHTML=e.html),e.className&&(r.className=e.className),Object.assign(r.style,e.style)}this.isVisible=!0,r.style.display="block",r.style.transform="translate(".concat(t,"px, ").concat(i,"px)")}}remove(){this.el&&(this.el.remove(),this.el=null)}}function LG(n,e){if(!n)throw new Error(e||"loader assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const J0e=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),BG=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),{_parseImageNode:Z0e}=(BG&&parseFloat(BG[1]),globalThis),uR=typeof Image<"u",hR=typeof ImageBitmap<"u",fR=!!J0e||!!Z0e;function UG(n){const e=function VG(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&n instanceof Image?"image":n&&"object"==typeof n&&n.data&&n.width&&n.height?"data":null}(n);if(!e)throw new Error("Not an image");return e}const twe=/^data:image\/svg\+xml/,nwe=/\.svg((\?|#).*)?$/;function pR(n){return n&&(twe.test(n)||nwe.test(n))}function zG(n,e){if(pR(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(n)])}function HG(n,e,t){return mR.apply(this,arguments)}function mR(){return mR=_n(function*(n,e,t){const i=function iwe(n,e){if(pR(e)){let i=(new TextDecoder).decode(n);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(i=unescape(encodeURIComponent(i)))}catch(o){throw new Error(o.message)}return"data:image/svg+xml;base64,".concat(btoa(i))}return zG(n,e)}(n,t),r=self.URL||self.webkitURL,o="string"!=typeof i&&r.createObjectURL(i);try{return yield function rwe(n,e){return gR.apply(this,arguments)}(o||i,e)}finally{o&&r.revokeObjectURL(o)}}),mR.apply(this,arguments)}function gR(){return gR=_n(function*(n,e){const t=new Image;return t.src=n,e.image&&e.image.decode&&t.decode?(yield t.decode(),t):yield new Promise((i,r)=>{try{t.onload=()=>i(t),t.onerror=o=>r(new Error("Could not load image ".concat(n,": ").concat(o)))}catch(o){r(o)}})}),gR.apply(this,arguments)}const owe={};let GG=!0;function _R(){return _R=_n(function*(n,e,t){let i;i=pR(t)?yield HG(n,e,t):zG(n,t);const r=e&&e.imagebitmap;return yield function awe(n){return bR.apply(this,arguments)}(i,r)}),_R.apply(this,arguments)}function bR(){return bR=_n(function*(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((function cwe(n){for(const e in n||owe)return!1;return!0}(e)||!GG)&&(e=null),e)try{return yield createImageBitmap(n,e)}catch(t){console.warn(t),GG=!1}return yield createImageBitmap(n)}),bR.apply(this,arguments)}const Ql=!1,I0=!0;function WG(n){const e=D0(n);return function mwe(n){const e=D0(n);return e.byteLength>=24&&2303741511===e.getUint32(0,Ql)?{mimeType:"image/png",width:e.getUint32(16,Ql),height:e.getUint32(20,Ql)}:null}(e)||function bwe(n){const e=D0(n);if(!(e.byteLength>=3&&65496===e.getUint16(0,Ql)&&255===e.getUint8(2)))return null;const{tableMarkers:i,sofMarkers:r}=function ywe(){const n=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)n.add(t);return{tableMarkers:n,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let o=2;for(;o+9<e.byteLength;){const s=e.getUint16(o,Ql);if(r.has(s))return{mimeType:"image/jpeg",height:e.getUint16(o+5,Ql),width:e.getUint16(o+7,Ql)};if(!i.has(s))return null;o+=2,o+=e.getUint16(o,Ql)}return null}(e)||function gwe(n){const e=D0(n);return e.byteLength>=10&&1195984440===e.getUint32(0,Ql)?{mimeType:"image/gif",width:e.getUint16(6,I0),height:e.getUint16(8,I0)}:null}(e)||function _we(n){const e=D0(n);return e.byteLength>=14&&16973===e.getUint16(0,Ql)&&e.getUint32(2,I0)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,I0),height:e.getUint32(22,I0)}:null}(e)||function pwe(n){const t=function lwe(n){return function fwe(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=function hwe(n){return[...n].map(e=>e.charCodeAt(0))}(e);for(let r=0;r<i.length;++r)if(i[r]!==n[r+t])return!1;return!0}(n,"ftyp",4)&&96&n[8]?function dwe(n){switch(function uwe(n,e,t){return String.fromCharCode(...n.slice(e,t))}(n,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}(n):null}(new Uint8Array(n instanceof DataView?n.buffer:n));return t?{mimeType:t.mimeType,width:0,height:0}:null}(e)}function D0(n){if(n instanceof DataView)return n;if(ArrayBuffer.isView(n))return new DataView(n.buffer);if(n instanceof ArrayBuffer)return new DataView(n);throw new Error("toDataView")}function yR(){return yR=_n(function*(n,e){const{mimeType:t}=WG(n)||{},i=globalThis._parseImageNode;return LG(i),yield i(n,t)}),yR.apply(this,arguments)}function vR(){return vR=_n(function*(n,e,t){const r=((e=e||{}).image||{}).type||"auto",{url:o}=t||{},s=function xwe(n){switch(n){case"auto":case"data":return function ewe(){if(hR)return"imagebitmap";if(uR)return"image";if(fR)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function Q0e(n){switch(n){case"auto":return hR||uR||fR;case"imagebitmap":return hR;case"image":return uR;case"data":return fR;default:throw new Error("@loaders.gl/images: image ".concat(n," not supported in this environment"))}}(n),n}}(r);let a;switch(s){case"imagebitmap":a=yield function swe(n,e,t){return _R.apply(this,arguments)}(n,e,o);break;case"image":a=yield HG(n,e,o);break;case"data":a=yield function vwe(n,e){return yR.apply(this,arguments)}(n,e);break;default:LG(!1)}return"data"===r&&(a=function jG(n){switch(UG(n)){case"data":return n;case"image":case"imagebitmap":const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("getImageData");return e.width=n.width,e.height=n.height,t.drawImage(n,0,0),t.getImageData(0,0,n.width,n.height);default:throw new Error("getImageData")}}(a)),a}),vR.apply(this,arguments)}const $G={id:"image",module:"images",name:"Images",version:"3.4.14",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:function wwe(n,e,t){return vR.apply(this,arguments)},tests:[n=>!!WG(new DataView(n))],options:{image:{type:"auto",decode:!0}}},Cwe={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function Ewe(n){const e=n[0],t=n[n.length-1];return"{"===e&&"}"===t||"["===e&&"]"===t},parseTextSync:JSON.parse},O0="8.8.27",rS=globalThis.deck&&globalThis.deck.VERSION;if(rS&&rS!==O0)throw new Error("deck.gl - multiple versions detected: ".concat(rS," vs ").concat(O0));rS||(Oi.log(1,"deck.gl ".concat(O0))(),globalThis.deck={...globalThis.deck,VERSION:O0,version:O0,log:Oi,_registerLoggers:function kpe(n){Uk=n}},pG([Cwe,[$G,{imagebitmap:{premultiplyAlpha:"none"}}]]));const Swe=globalThis.deck;class oS extends iu{get[Symbol.toStringTag](){return"Query"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=Ci(e),r=s6(e,"TIMER_QUERY");let o=i||r;for(const s of t)switch(s){case"queries":o=o&&i;break;case"timers":o=o&&r;break;default:cn(!1)}return o}constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(35007)}beginOcclusionQuery(){let{conservative:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.begin(e?36202:35887)}beginTransformFeedbackQuery(){return this.begin(35976)}begin(e){return this._queryPending||(this.target=e,this.gl2.beginQuery(this.target,this.handle)),this}end(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}isResultAvailable(){if(!this._queryPending)return!1;const e=this.gl2.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}isTimerDisjoint(){return this.gl2.getParameter(36795)}getResult(){return this.gl2.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let t=0;return this._pollingPromise=new Promise((i,r)=>{const o=()=>{this.isResultAvailable()?(i(this.getResult()),this._pollingPromise=null):t++>e?(r("Timed out"),this._pollingPromise=null):requestAnimationFrame(o)};requestAnimationFrame(o)}),this._pollingPromise}_createHandle(){return oS.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}const YG=Gl()&&typeof document<"u";let Nwe=0;class Fwe{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onCreateContext:t=(L=>z5(L)),onAddHTML:i=null,onInitialize:r=(()=>{}),onRender:o=(()=>{}),onFinalize:s=(()=>{}),onError:a,gl:c=null,glOptions:l={},debug:d=!1,createFramebuffer:h=!1,autoResizeViewport:p=!0,autoResizeDrawingBuffer:_=!0,stats:w=lp.get("animation-loop-".concat(Nwe++))}=e;let{useDevicePixels:I=!0}=e;"useDevicePixelRatio"in e&&(Mn.deprecated("useDevicePixelRatio","useDevicePixels")(),I=e.useDevicePixelRatio),this.props={onCreateContext:t,onAddHTML:i,onInitialize:r,onRender:o,onFinalize:s,onError:a,gl:c,glOptions:l,debug:d,createFramebuffer:h},this.gl=c,this.needsRedraw=null,this.timeline=null,this.stats=w,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:p,autoResizeDrawingBuffer:_,useDevicePixels:I}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(e){return cn("string"==typeof e),this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;const t=this._getPageLoadPromise().then(()=>!this._running||this._initialized?null:(this._createWebGLContext(e),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=oS.isSupported(this.gl,["timers"])?new oS(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps))).then(i=>{this._running&&(this._addCallbackData(i||{}),!1!==i&&this._startLoop())});return this.props.onError&&t.catch(this.props.onError),this}redraw(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(e=>{this._resolveNextFrame=e})),this._nextFramePromise}toDataURL(){var e=this;return _n(function*(){return e.setNeedsRedraw("toDataURL"),yield e.waitForRender(),e.gl.canvas.toDataURL()})()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=document.getElementById(e);return i?Number(i.value):t}setViewParameters(){return Mn.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const e=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(e))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(e)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=YG?new Promise((e,t)=>{YG&&"complete"===document.readyState?e(document):window.addEventListener("load",()=>{e(document)})}):Promise.resolve({})),this._pageLoadPromise}_setDisplay(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_cancelAnimationFrame(e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(e):function Pwe(n){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(n):clearTimeout(n)}(e)}_requestAnimationFrame(e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(e):function Rwe(n){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(n):setTimeout(n,1e3/60)}(e)}_renderFrame(){this.display?this.display._renderFrame(...arguments):this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:e,height:t,aspect:i}=this._getSizeAndAspect();(e!==this.animationProps.width||t!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),i!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=t,this.animationProps.aspect=i,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(e){"object"==typeof e&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}_createWebGLContext(e){if(this.offScreen=e.canvas&&typeof OffscreenCanvas<"u"&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?bk(this.props.gl,e):this.onCreateContext(e),!vC(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");(function ife(n){nu(n,mk)})(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);const i=this.props.onAddHTML(t);i&&(t.innerHTML=i)}}_getSizeAndAspect(){const e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight;let i=1;const{canvas:r}=this.gl;return r&&r.clientHeight?i=r.clientWidth/r.clientHeight:e>0&&t>0&&(i=e/t),{width:e,height:t,aspect:i}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&function cfe(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.canvas){const i=function rfe(n){const e=typeof window>"u"?1:window.devicePixelRatio||1;return Number.isFinite(n)?n<=0?1:n:n?e:1}(e.useDevicePixels);return void function ffe(n,e,t){let i="width"in t?t.width:n.canvas.clientWidth,r="height"in t?t.height:n.canvas.clientHeight;(!i||!r)&&(Mn.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,i=n.canvas.width||1,r=n.canvas.height||1),n.luma=n.luma||{},n.luma.canvasSizeInfo=n.luma.canvasSizeInfo||{};const o=n.luma.canvasSizeInfo;if(o.clientWidth!==i||o.clientHeight!==r||o.devicePixelRatio!==e){let s=e;const a=Math.floor(i*s),c=Math.floor(r*s);n.canvas.width=a,n.canvas.height=c,(n.drawingBufferWidth!==a||n.drawingBufferHeight!==c)&&(Mn.warn("Device pixel ratio clamped")(),s=Math.min(n.drawingBufferWidth/i,n.drawingBufferHeight/r),n.canvas.width=Math.floor(i*s),n.canvas.height=Math.floor(r*s)),Object.assign(n.luma.canvasSizeInfo,{clientWidth:i,clientHeight:r,devicePixelRatio:e})}}(n,i,e)}const t=n.getExtension("STACKGL_resize_drawingbuffer");t&&"width"in e&&"height"in e&&t.resize(e.width,e.height)}(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new vo(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:e}=this.gl;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}_onMouseleave(e){this.animationProps._mousePosition=null}}var sS=m(7271);const Lwe={mousedown:1,mousemove:2,mouseup:4};(function Uwe(n){const e=n.prototype.handler;n.prototype.handler=function(i){const r=this.store;i.button>0&&"pointerdown"===i.type&&(function Bwe(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return!0;return!1}(r,o=>o.pointerId===i.pointerId)||r.push(i)),e.call(this,i)}})(sS.PointerEventInput),function jwe(n){n.prototype.handler=function(t){let i=Lwe[t.type];1&i&&t.button>=0&&(this.pressed=!0),2&i&&0===t.which&&(i=4),this.pressed&&(4&i&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}}(sS.MouseInput);const Vwe=sS.Manager,ed=sS;class aS{constructor(e,t,i){this.element=e,this.callback=t,this.options={enable:!0,...i}}}const zwe=ed?[[ed.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[ed.Rotate,{enable:!1}],[ed.Pinch,{enable:!1}],[ed.Swipe,{enable:!1}],[ed.Pan,{threshold:0,enable:!1}],[ed.Press,{enable:!1}],[ed.Tap,{event:"doubletap",taps:2,enable:!1}],[ed.Tap,{event:"anytap",enable:!1}],[ed.Tap,{enable:!1}]]:null,qG={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},Hwe={doubletap:["tap"]},Gwe={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},xR={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},Wwe={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},JG={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},$we=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",x_=typeof window<"u"?window:global;typeof global<"u"?global:window,typeof document<"u"&&document;let ER=!1;try{x_.addEventListener("test",null,{get passive(){return ER=!0,!0}}),x_.removeEventListener("test",null)}catch{ER=!1}const Ywe=-1!==$we.indexOf("firefox"),{WHEEL_EVENTS:Xwe}=xR,QG=4.000244140625;class Jwe extends aS{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{if(!this.options.enable)return;let o=r.deltaY;x_.WheelEvent&&(Ywe&&r.deltaMode===x_.WheelEvent.DOM_DELTA_PIXEL&&(o/=x_.devicePixelRatio),r.deltaMode===x_.WheelEvent.DOM_DELTA_LINE&&(o*=40)),0!==o&&o%QG==0&&(o=Math.floor(o/QG)),r.shiftKey&&o&&(o*=.25),this.callback({type:"wheel",center:{x:r.clientX,y:r.clientY},delta:-o,srcEvent:r,pointerType:"mouse",target:r.target})},this.events=(this.options.events||[]).concat(Xwe),this.events.forEach(r=>e.addEventListener(r,this.handleEvent,!!ER&&{passive:!1}))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){"wheel"===e&&(this.options.enable=t)}}const{MOUSE_EVENTS:Zwe}=xR,e9="pointermove",t9="pointerover",n9="pointerout",i9="pointerenter",r9="pointerleave";class Qwe extends aS{constructor(e,t,i){super(e,t,i),this.handleEvent=o=>{this.handleOverEvent(o),this.handleOutEvent(o),this.handleEnterEvent(o),this.handleLeaveEvent(o),this.handleMoveEvent(o)},this.pressed=!1;const{enable:r}=this.options;this.enableMoveEvent=r,this.enableLeaveEvent=r,this.enableEnterEvent=r,this.enableOutEvent=r,this.enableOverEvent=r,this.events=(this.options.events||[]).concat(Zwe),this.events.forEach(o=>e.addEventListener(o,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){e===e9&&(this.enableMoveEvent=t),e===t9&&(this.enableOverEvent=t),e===n9&&(this.enableOutEvent=t),e===i9&&(this.enableEnterEvent=t),e===r9&&(this.enableLeaveEvent=t)}handleOverEvent(e){this.enableOverEvent&&"mouseover"===e.type&&this._emit(t9,e)}handleOutEvent(e){this.enableOutEvent&&"mouseout"===e.type&&this._emit(n9,e)}handleEnterEvent(e){this.enableEnterEvent&&"mouseenter"===e.type&&this._emit(i9,e)}handleLeaveEvent(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this._emit(r9,e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this._emit(e9,e);break;case"mouseup":this.pressed=!1}}_emit(e,t){this.callback({type:e,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}const{KEY_EVENTS:exe}=xR,o9="keydown";class txe extends aS{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{const o=r.target||r.srcElement;"INPUT"===o.tagName&&"text"===o.type||"TEXTAREA"===o.tagName||(this.enableDownEvent&&"keydown"===r.type&&this.callback({type:o9,srcEvent:r,key:r.key,target:r.target}),this.enableUpEvent&&"keyup"===r.type&&this.callback({type:"keyup",srcEvent:r,key:r.key,target:r.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(exe),e.tabIndex=this.options.tabIndex||0,e.style.outline="none",this.events.forEach(r=>e.addEventListener(r,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){e===o9&&(this.enableDownEvent=t),"keyup"===e&&(this.enableUpEvent=t)}}const a9="contextmenu";class nxe extends aS{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{this.options.enable&&this.callback({type:a9,center:{x:r.clientX,y:r.clientY},srcEvent:r,pointerType:"mouse",target:r.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,t){e===a9&&(this.options.enable=t)}}const ixe={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function fxe(n){const e=ixe[n.srcEvent.type];if(!e)return null;const{buttons:t,button:i,which:r}=n.srcEvent;let o=!1,s=!1,a=!1;return 4===e||2===e&&!Number.isFinite(t)?(o=1===r,s=2===r,a=3===r):2===e?(o=!!(1&t),s=!!(4&t),a=!!(2&t)):1===e&&(o=0===i,s=1===i,a=2===i),{leftButton:o,middleButton:s,rightButton:a}}function pxe(n,e){const t=n.center;if(!t)return null;const i=e.getBoundingClientRect();return{center:t,offsetCenter:{x:(t.x-i.left-e.clientLeft)/(i.width/e.offsetWidth||1),y:(t.y-i.top-e.clientTop)/(i.height/e.offsetHeight||1)}}}const AR={srcElement:"root",priority:0};class mxe{constructor(e){this.handleEvent=t=>{if(this.isEmpty())return;const i=this._normalizeEvent(t);let r=t.srcEvent.target;for(;r&&r!==i.rootElement;){if(this._emit(i,r),i.handled)return;r=r.parentNode}this._emit(i,"root")},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,t,i,r=!1,o=!1){const{handlers:s,handlersByElement:a}=this;let c=AR;"string"==typeof i||i&&i.addEventListener?c={...AR,srcElement:i}:i&&(c={...AR,...i});let l=a.get(c.srcElement);l||(l=[],a.set(c.srcElement,l));const d={type:e,handler:t,srcElement:c.srcElement,priority:c.priority};r&&(d.once=!0),o&&(d.passive=!0),s.push(d),this._active=this._active||!d.passive;let h=l.length-1;for(;h>=0&&!(l[h].priority>=d.priority);)h--;l.splice(h+1,0,d)}remove(e,t){const{handlers:i,handlersByElement:r}=this;for(let o=i.length-1;o>=0;o--){const s=i[o];if(s.type===e&&s.handler===t){i.splice(o,1);const a=r.get(s.srcElement);a.splice(a.indexOf(s),1),0===a.length&&r.delete(s.srcElement)}}this._active=i.some(o=>!o.passive)}_emit(e,t){const i=this.handlersByElement.get(t);if(i){let r=!1;const o=()=>{e.handled=!0},s=()=>{e.handled=!0,r=!0},a=[];for(let c=0;c<i.length;c++){const{type:l,handler:d,once:h}=i[c];if(d({...e,type:l,stopPropagation:o,stopImmediatePropagation:s}),h&&a.push(i[c]),r)break}for(let c=0;c<a.length;c++){const{type:l,handler:d}=a[c];this.remove(l,d)}}}_normalizeEvent(e){const t=this.eventManager.getElement();return{...e,...fxe(e),...pxe(e,t),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:t}}}const gxe={events:null,recognizers:null,recognizerOptions:{},Manager:Vwe,touchAction:"none",tabIndex:0};class _xe{constructor(e=null,t){this._onBasicInput=r=>{const{srcEvent:o}=r,s=Gwe[o.type];s&&this.manager.emit(s,r)},this._onOtherEvent=r=>{this.manager.emit(r.type,r)},this.options={...gxe,...t},this.events=new Map,this.setElement(e);const{events:i}=this.options;i&&this.on(i)}getElement(){return this.element}setElement(e){if(this.element&&this.destroy(),this.element=e,!e)return;const{options:t}=this;this.manager=new(0,t.Manager)(e,{touchAction:t.touchAction,recognizers:t.recognizers||zwe}).on("hammer.input",this._onBasicInput),t.recognizers||Object.keys(qG).forEach(r=>{const o=this.manager.get(r);o&&qG[r].forEach(s=>{o.recognizeWith(s)})});for(const r in t.recognizerOptions){const o=this.manager.get(r);if(o){const s=t.recognizerOptions[r];delete s.enable,o.set(s)}}this.wheelInput=new Jwe(e,this._onOtherEvent,{enable:!1}),this.moveInput=new Qwe(e,this._onOtherEvent,{enable:!1}),this.keyInput=new txe(e,this._onOtherEvent,{enable:!1,tabIndex:t.tabIndex}),this.contextmenuInput=new nxe(e,this._onOtherEvent,{enable:!1});for(const[r,o]of this.events)o.isEmpty()||(this._toggleRecognizer(o.recognizerName,!0),this.manager.on(r,o.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(e,t,i){this._addEventHandler(e,t,i,!1)}once(e,t,i){this._addEventHandler(e,t,i,!0)}watch(e,t,i){this._addEventHandler(e,t,i,!1,!0)}off(e,t){this._removeEventHandler(e,t)}_toggleRecognizer(e,t){const{manager:i}=this;if(!i)return;const r=i.get(e);if(r&&r.options.enable!==t){r.set({enable:t});const o=Hwe[e];o&&!this.options.recognizers&&o.forEach(s=>{const a=i.get(s);t?(a.requireFailure(e),r.dropRequireFailure(s)):a.dropRequireFailure(e)})}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}_addEventHandler(e,t,i,r,o){if("string"!=typeof e){i=t;for(const d in e)this._addEventHandler(d,e[d],i,r,o);return}const{manager:s,events:a}=this,c=JG[e]||e;let l=a.get(c);l||(l=new mxe(this),a.set(c,l),l.recognizerName=Wwe[c]||c,s&&s.on(c,l.handleEvent)),l.add(e,t,i,r,o),l.isEmpty()||this._toggleRecognizer(l.recognizerName,!0)}_removeEventHandler(e,t){if("string"!=typeof e){for(const s in e)this._removeEventHandler(s,e[s]);return}const{events:i}=this,o=i.get(JG[e]||e);if(o&&(o.remove(e,t),o.isEmpty())){const{recognizerName:s}=o;let a=!1;for(const c of i.values())if(c.recognizerName===s&&!c.isEmpty()){a=!0;break}a||this._toggleRecognizer(s,!1)}}}function _p(){}const c9={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:_p,onResize:_p,onViewStateChange:_p,onInteractionStateChange:_p,onBeforeRender:_p,onAfterRender:_p,onLoad:_p,onError:n=>Oi.error(n.message)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:({isDragging:n})=>n?"grabbing":"grab",getTooltip:null,debug:!1,drawPickingColors:!1};class MR{constructor(e){Me(this,"props",void 0),Me(this,"width",0),Me(this,"height",0),Me(this,"userData",{}),Me(this,"canvas",null),Me(this,"viewManager",null),Me(this,"layerManager",null),Me(this,"effectManager",null),Me(this,"deckRenderer",null),Me(this,"deckPicker",null),Me(this,"eventManager",null),Me(this,"tooltip",null),Me(this,"metrics",void 0),Me(this,"animationLoop",void 0),Me(this,"stats",void 0),Me(this,"viewState",void 0),Me(this,"cursorState",void 0),Me(this,"_needsRedraw",void 0),Me(this,"_pickRequest",void 0),Me(this,"_lastPointerDownInfo",null),Me(this,"_metricsCounter",void 0),Me(this,"_onPointerMove",t=>{const{_pickRequest:i}=this;if("pointerleave"===t.type)i.x=-1,i.y=-1,i.radius=0;else{if(t.leftButton||t.rightButton)return;{const r=t.offsetCenter;if(!r)return;i.x=r.x,i.y=r.y,i.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:i.x,y:i.y}),i.event=t}),Me(this,"_onEvent",t=>{const i=A5[t.type],r=t.offsetCenter;if(!i||!r||!this.layerManager)return;const o=this.layerManager.getLayers(),s=this.deckPicker.getLastPickedObject({x:r.x,y:r.y,layers:o,viewports:this.getViewports(r)},this._lastPointerDownInfo),{layer:a}=s,c=a&&(a[i.handler]||a.props[i.handler]),l=this.props[i.handler];let d=!1;c&&(d=c.call(a,s,t)),!d&&l&&l(s,t)}),Me(this,"_onPointerDown",t=>{const i=t.offsetCenter,r=this._pick("pickObject","pickObject Time",{x:i.x,y:i.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=r.result[0]||r.emptyInfo}),this.props={...c9,...e},e=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},e.viewState&&e.initialViewState&&Oi.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===rH()&&Oi.warn("IE 11 is not supported")(),this.viewState=e.initialViewState,e.gl||typeof document<"u"&&(this.canvas=this._createCanvas(e)),this.animationLoop=this._createAnimationLoop(e),this.stats=new yk({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(e),e._typedArrayManagerProps&&f0.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,t,i,r,o,s,a,c;this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(e=this.layerManager)||void 0===e||e.finalize(),this.layerManager=null,null===(t=this.viewManager)||void 0===t||t.finalize(),this.viewManager=null,null===(i=this.effectManager)||void 0===i||i.finalize(),this.effectManager=null,null===(r=this.deckRenderer)||void 0===r||r.finalize(),this.deckRenderer=null,null===(o=this.deckPicker)||void 0===o||o.finalize(),this.deckPicker=null,null===(s=this.eventManager)||void 0===s||s.destroy(),this.eventManager=null,null===(a=this.tooltip)||void 0===a||a.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas||(null===(c=this.canvas.parentElement)||void 0===c||c.removeChild(this.canvas),this.canvas=null)}setProps(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&Oi.removed("onLayerHover","onHover")(),"onLayerClick"in e&&Oi.removed("onLayerClick","onClick")(),e.initialViewState&&!b_(this.props.initialViewState,e.initialViewState)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const t=Object.create(this.props);Object.assign(t,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(t),this.layerManager&&(this.viewManager.setProps(t),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(t),this.effectManager.setProps(t),this.deckRenderer.setProps(t),this.deckPicker.setProps(t)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const i=this.viewManager.needsRedraw(e),r=this.layerManager.needsRedraw(e),o=this.effectManager.needsRedraw(e),s=this.deckRenderer.needsRedraw(e);return t=t||i||r||o||s,t}redraw(e){if(!this.layerManager)return;let t=this.needsRedraw({clearRedrawFlags:!0});t=e||t,t&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}get isInitialized(){return null!==this.viewManager}getViews(){return us(this.viewManager),this.viewManager.views}getViewports(e){return us(this.viewManager),this.viewManager.getViewports(e)}pickObject(e){const t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,t=!1){for(const i in e)this.layerManager.resourceManager.add({resourceId:i,data:e[i],forceUpdate:t})}_removeResources(e){for(const t of e)this.layerManager.resourceManager.remove(t)}_pick(e,t,i){us(this.deckPicker);const{stats:r}=this;r.get("Pick Count").incrementCount(),r.get(t).timeStart();const o=this.deckPicker[e]({layers:this.layerManager.getLayers(i),views:this.viewManager.getViews(),viewports:this.getViewports(i),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...i});return r.get(t).timeEnd(),o}_createCanvas(e){let t=e.canvas;return"string"==typeof t&&(t=document.getElementById(t),us(t)),t||(t=document.createElement("canvas"),t.id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(t)),Object.assign(t.style,e.style),t}_setCanvasSize(e){if(!this.canvas)return;const{width:t,height:i}=e;if(t||0===t){const o=Number.isFinite(t)?"".concat(t,"px"):t;this.canvas.style.width=o}if(i||0===i){var r;const o=Number.isFinite(i)?"".concat(i,"px"):i;this.canvas.style.position=(null===(r=e.style)||void 0===r?void 0:r.position)||"absolute",this.canvas.style.height=o}}_updateCanvasSize(){const{canvas:e}=this;if(!e)return;const t=e.clientWidth||e.width,i=e.clientHeight||e.height;var r;t===this.width&&i===this.height||(this.width=t,this.height=i,null===(r=this.viewManager)||void 0===r||r.setProps({width:t,height:i}),this.props.onResize({width:t,height:i}))}_createAnimationLoop(e){const{width:t,height:i,gl:r,glOptions:o,debug:s,onError:a,onBeforeRender:c,onAfterRender:l,useDevicePixels:d}=e;return new Fwe({width:t,height:i,useDevicePixels:d,autoResizeViewport:!1,gl:r,onCreateContext:h=>z5({...o,...h,canvas:this.canvas,debug:s,onContextLost:()=>this._onContextLost()}),onInitialize:h=>this._setGLContext(h.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:c,onAfterRender:l,onError:a})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let e=this.props.views||[new kG({id:"default-view"})];return e=Array.isArray(e)?e:[e],e.length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:e}=this;if(e.event){const{result:i,emptyInfo:r}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=i.length>0;let o=r,s=!1;for(const a of i){var t;o=a,s=(null===(t=a.layer)||void 0===t?void 0:t.onHover(a,e.event))||s}if(!s&&this.props.onHover&&this.props.onHover(o,e.event),this.props.getTooltip&&this.tooltip){const a=this.props.getTooltip(o);this.tooltip.setTooltip(a,o.x,o.y)}e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setGLContext(e){if(this.layerManager)return;this.canvas||(this.canvas=e.canvas,bk(e,{enable:!0,copyState:!0})),this.tooltip=new K0e(this.canvas),nu(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);const t=new DG;t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new _xe(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const r in A5)this.eventManager.on(r,this._onEvent);this.viewManager=new A0e({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const i=this.viewManager.getViewports()[0];this.layerManager=new S0e(e,{deck:this,stats:this.stats,viewport:i,timeline:t}),this.effectManager=new F0e,this.deckRenderer=new V0e(e),this.deckPicker=new Y0e(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,t){const{gl:i}=this.layerManager.context;nu(i,this.props.parameters),this.props.onBeforeRender({gl:i}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:e,effects:this.effectManager.getEffects(),...t}),this.props.onAfterRender({gl:i})}_onRenderFrame(e){this._getFrameStats(),this._metricsCounter++%60==0&&(this._getMetrics(),this.stats.reset(),Oi.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:t},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:t}=this;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();const i=lp.get("Memory Usage");e.bufferMemory=i.get("Buffer Memory").count,e.textureMemory=i.get("Texture Memory").count,e.renderbufferMemory=i.get("Renderbuffer Memory").count,e.gpuMemory=i.get("GPU Memory").count}}Me(MR,"defaultProps",c9),Me(MR,"VERSION",Swe.VERSION);const lS={name:"project32",dependencies:[cR],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"},bxe={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1},dS={inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:#decl":"\nuniform bool picking_uAttribute;\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}},name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function yxe(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bxe;const e={};if(void 0!==n.pickingSelectedColor)if(n.pickingSelectedColor){const t=n.pickingSelectedColor.slice(0,3);e.picking_uSelectedColorValid=1,e.picking_uSelectedColor=t}else e.picking_uSelectedColorValid=0;if(n.pickingHighlightColor){const t=Array.from(n.pickingHighlightColor,i=>i/255);Number.isFinite(t[3])||(t[3]=1),e.picking_uHighlightColor=t}return void 0!==n.pickingActive&&(e.picking_uActive=!!n.pickingActive,e.picking_uAttribute=!!n.pickingAttribute),e}},l9={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class Dh{static get DRAW_MODE(){return l9}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Ca("geometry"),drawMode:i=l9.TRIANGLES,attributes:r={},indices:o=null,vertexCount:s=null}=e;this.id=t,this.drawMode=0|i,this.attributes={},this.userData={},this._setAttributes(r,o),this.vertexCount=s||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return"Geometry ".concat(this.id," attribute ").concat(e)}_setAttributes(e,t){t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t);for(const i in e){let r=e[i];r=ArrayBuffer.isView(r)?{value:r}:r,cn(ArrayBuffer.isView(r.value),"".concat(this._print(i),": must be typed array or object with value as typed array")),("POSITION"===i||"positions"===i)&&!r.size&&(r.size=3),"indices"===i?(cn(!this.indices),this.indices=r):this.attributes[i]=r}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(e,t){if(t)return t.value.length;let i=1/0;for(const r in e){const o=e[r],{value:s,size:a,constant:c}=o;!c&&s&&a>=1&&(i=Math.min(i,s.length/a))}return cn(Number.isFinite(i)),i}}const d9=()=>{},u9={10241:9987,10240:9729,10242:33071,10243:33071};function Cxe(n){return Math.pow(2,Math.ceil(Math.log2(n)))}function Sxe(n,e,t,i){return t===e.width&&i===e.height?e:(n.canvas.height=i,n.canvas.width=t,n.clearRect(0,0,n.canvas.width,n.canvas.height),n.drawImage(e,0,0,e.width,e.height,0,0,t,i),n.canvas)}function k0(n){return n&&(n.id||n.url)}function h9(n,e,t){for(let i=0;i<e.length;i++){const{icon:r,xOffset:o}=e[i];n[k0(r)]={...r,x:o,y:t}}}class Ixe{constructor(e,{onUpdate:t=d9,onError:i=d9}){Me(this,"gl",void 0),Me(this,"onUpdate",void 0),Me(this,"onError",void 0),Me(this,"_loadOptions",null),Me(this,"_texture",null),Me(this,"_externalTexture",null),Me(this,"_mapping",{}),Me(this,"_textureParameters",null),Me(this,"_pendingCount",0),Me(this,"_autoPacking",!1),Me(this,"_xOffset",0),Me(this,"_yOffset",0),Me(this,"_rowHeight",0),Me(this,"_buffer",4),Me(this,"_canvasWidth",1024),Me(this,"_canvasHeight",0),Me(this,"_canvas",null),this.gl=e,this.onUpdate=t,this.onError=i}finalize(){var e;null===(e=this._texture)||void 0===e||e.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(e){const t=this._autoPacking?k0(e):e;return this._mapping[t]||{}}setProps({loadOptions:e,autoPacking:t,iconAtlas:i,iconMapping:r,textureParameters:o}){var s;e&&(this._loadOptions=e),void 0!==t&&(this._autoPacking=t),r&&(this._mapping=r),i&&(null===(s=this._texture)||void 0===s||s.delete(),this._texture=null,this._externalTexture=i),o&&(this._textureParameters=o)}get isLoaded(){return 0===this._pendingCount}packIcons(e,t){if(!this._autoPacking||typeof document>"u")return;const i=Object.values(function Txe(n,e,t){if(!n||!e)return null;t=t||{};const i={},{iterable:r,objectInfo:o}=TC(n);for(const s of r){o.index++;const a=e(s,o),c=k0(a);if(!a)throw new Error("Icon is missing.");if(!a.url)throw new Error("Icon url is missing.");!i[c]&&(!t[c]||a.url!==t[c].url)&&(i[c]={...a,source:s,sourceIndex:o.index})}return i}(e,t,this._mapping)||{});if(i.length>0){const{mapping:r,xOffset:o,yOffset:s,rowHeight:a,canvasHeight:c}=function Mxe({icons:n,buffer:e,mapping:t={},xOffset:i=0,yOffset:r=0,rowHeight:o=0,canvasWidth:s}){let a=[];for(let c=0;c<n.length;c++){const l=n[c];if(!t[k0(l)]){const{height:h,width:p}=l;i+p+e>s&&(h9(t,a,r),i=0,r=o+r+e,o=0,a=[]),a.push({icon:l,xOffset:i}),i=i+p+e,o=Math.max(o,h)}}return a.length>0&&h9(t,a,r),{mapping:t,rowHeight:o,xOffset:i,yOffset:r,canvasWidth:s,canvasHeight:Cxe(o+r+e)}}({icons:i,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=a,this._mapping=r,this._xOffset=o,this._yOffset=s,this._canvasHeight=c,this._texture||(this._texture=new ls(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:this._textureParameters||u9})),this._texture.height!==this._canvasHeight&&(this._texture=function Axe(n,e,t,i){const r=n.width,o=n.height,s=new ls(n.gl,{width:e,height:t,parameters:i});return function Lfe(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{sourceX:i=0,sourceY:r=0,targetMipmaplevel:o=0,targetInternalFormat:s=6408}=t;let{targetX:a,targetY:c,targetZ:l,width:d,height:h}=t;const{framebuffer:p,deleteFramebuffer:_}=h0(n);cn(p);const{gl:w,handle:I}=p,L=typeof a<"u"||typeof c<"u"||typeof l<"u";a=a||0,c=c||0,l=l||0;const K=w.bindFramebuffer(36160,I);cn(e);let Q=null;if(e instanceof dp&&(Q=e,d=Number.isFinite(d)?d:Q.width,h=Number.isFinite(h)?h:Q.height,Q.bind(0),e=Q.target),L)switch(e){case 3553:case 34067:w.copyTexSubImage2D(e,o,a,c,i,r,d,h);break;case 35866:case 32879:Rs(w).copyTexSubImage3D(e,o,a,c,l,i,r,d,h)}else w.copyTexImage2D(e,o,s,i,r,d,h,0);Q&&Q.unbind(),w.bindFramebuffer(36160,K||null),_&&p.delete()}(n,s,{targetY:0,width:r,height:o}),n.delete(),s}(this._texture,this._canvasWidth,this._canvasHeight,this._textureParameters||u9)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(i)}}_loadIcons(e){const t=this._canvas.getContext("2d");for(const i of e)this._pendingCount++,T0(i.url,$G,this._loadOptions).then(r=>{const o=k0(i),{x:s,y:a,width:c,height:l}=this._mapping[o],d=Sxe(t,r,c,l);this._texture.setSubImageData({data:d,x:s,y:a,width:c,height:l}),this._texture.generateMipmap(),this.onUpdate()}).catch(r=>{this.onError({url:i.url,source:i.source,sourceIndex:i.sourceIndex,loadOptions:this._loadOptions,error:r})}).finally(()=>{this._pendingCount--})}}const f9=[0,0,0,255],Dxe={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:n=>n.position},getIcon:{type:"accessor",value:n=>n.icon},getColor:{type:"accessor",value:f9},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,compare:!1,optional:!0}};class TR extends mp{constructor(...e){super(...e),Me(this,"state",void 0)}getShaders(){return super.getShaders({vs:'#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  // convert size in meters to pixels, then scaled and clamp\n \n  // project meters to pixels and clamp to limits \n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n',fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[lS,dS]})}initializeState(){this.state={iconManager:new Ixe(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:f9},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(e){super.updateState(e);const{props:t,oldProps:i,changeFlags:r}=e,o=this.getAttributeManager(),{iconAtlas:s,iconMapping:a,data:c,getIcon:l,textureParameters:d}=t,{iconManager:h}=this.state,p=s||this.internalState.isAsyncPropLoading("iconAtlas");if(h.setProps({loadOptions:t.loadOptions,autoPacking:!p,iconAtlas:s,iconMapping:p?a:null,textureParameters:d}),p?i.iconMapping!==t.iconMapping&&o.invalidate("getIcon"):(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getIcon))&&h.packIcons(c,l),r.extensionsChanged){var _;const{gl:w}=this.context;null===(_=this.state.model)||void 0===_||_.delete(),this.state.model=this._getModel(w),o.invalidateAll()}}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(e){super.finalizeState(e),this.state.iconManager.finalize()}draw({uniforms:e}){const{sizeScale:t,sizeMinPixels:i,sizeMaxPixels:r,sizeUnits:o,billboard:s,alphaCutoff:a}=this.props,{iconManager:c}=this.state,l=c.getTexture();l&&this.state.model.setUniforms(e).setUniforms({iconsTexture:l,iconsTextureDim:[l.width,l.height],sizeUnits:yC[o],sizeScale:t,sizeMinPixels:i,sizeMaxPixels:r,billboard:s,alphaCutoff:a}).draw()}_getModel(e){return new h_(e,{...this.getShaders(),id:this.props.id,geometry:new Dh({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(e){var t;const i=null===(t=this.getCurrentLayer())||void 0===t?void 0:t.props.onIconError;i?i(e):Oi.error(e.error.message)()}getInstanceOffset(e){const{width:t,height:i,anchorX:r=t/2,anchorY:o=i/2}=this.state.iconManager.getIconMapping(e);return[t/2-r,i/2-o]}getInstanceColorMode(e){return this.state.iconManager.getIconMapping(e).mask?1:0}getInstanceIconFrame(e){const{x:t,y:i,width:r,height:o}=this.state.iconManager.getIconMapping(e);return[t,i,r,o]}}Me(TR,"defaultProps",Dxe),Me(TR,"layerName","IconLayer");const m9=[];class IR extends TR{constructor(...e){super(...e),Me(this,"state",void 0)}getShaders(){return{...super.getShaders(),fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float buffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    vec4 color = vColor;\n\n    // if enable sdf (signed distance fields)\n    if (sdf) {\n      float distance = alpha;\n      alpha = smoothstep(buffer - gamma, buffer + gamma, distance);\n\n      if (outlineBuffer > 0.0) {\n        float inFill = alpha;\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\n        color = mix(outlineColor, vColor, inFill);\n        alpha = inBorder;\n      }\n    }\n\n    // Take the global opacity and the alpha from color into account for the alpha component\n    float a = alpha * color.a;\n    \n    if (a < alphaCutoff) {\n      discard;\n    }\n\n    gl_FragColor = vec4(color.rgb, a * opacity);\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:(t,{index:i,target:r})=>this.encodePickingColor(i,r)}})}updateState(e){super.updateState(e);const{props:t,oldProps:i}=e;let{outlineColor:r}=t;r!==i.outlineColor&&(r=r.map(o=>o/255),r[3]=Number.isFinite(r[3])?r[3]:1,this.setState({outlineColor:r})),!t.sdf&&t.outlineWidth&&Oi.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}draw(e){const{sdf:t,smoothing:i,outlineWidth:r}=this.props,{outlineColor:o}=this.state;e.uniforms={...e.uniforms,buffer:.75,outlineBuffer:r?Math.max(i,.75*(1-r)):-1,gamma:i,sdf:!!t,outlineColor:o},super.draw(e)}getInstanceOffset(e){return e?Array.from(e).flatMap(t=>super.getInstanceOffset(t)):m9}getInstanceColorMode(e){return 1}getInstanceIconFrame(e){return e?Array.from(e).flatMap(t=>super.getInstanceIconFrame(t)):m9}}Me(IR,"defaultProps",{getIconOffsets:{type:"accessor",value:n=>n.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}}),Me(IR,"layerName","MultiIconLayer");var Rxe=m(822),Pxe=m.n(Rxe);const Nxe=32,Fxe=[];function Lxe(n){return Math.pow(2,Math.ceil(Math.log2(n)))}function g9(n,e,t,i){let r=0;for(let s=e;s<t;s++){var o;r+=(null===(o=i[n[s]])||void 0===o?void 0:o.width)||0}return r}function _9(n,e,t,i,r,o){let s=e,a=0;for(let c=e;c<t;c++){const l=g9(n,c,c+1,r);a+l>i&&(s<c&&o.push(c),s=c,a=0),a+=l}return a}function jxe(n,e,t,i,r=0,o){void 0===o&&(o=n.length);const s=[];return"break-all"===e?_9(n,r,o,t,i,s):function Uxe(n,e,t,i,r,o){let s=e,a=e,c=e,l=0;for(let d=e;d<t;d++)if((" "===n[d]||" "===n[d+1]||d+1===t)&&(c=d+1),c>a){let h=g9(n,a,c,r);l+h>i&&(s<a&&(o.push(a),s=a,l=0),h>i&&(h=_9(n,a,c,i,r,o),s=o[o.length-1])),a=c,l+=h}}(n,r,o,t,i,s),s}function Vxe(n,e,t,i,r,o){let s=0,a=0;for(let c=e;c<t;c++){const l=n[c],d=i[l];d?(a||(a=d.height),r[c]=s+d.width/2,s+=d.width):(Oi.warn("Missing character: ".concat(l," (").concat(l.codePointAt(0),")"))(),r[c]=s,s+=Nxe)}o[0]=s,o[1]=a}function b9(n,e,t,i,r){const o=Array.from(n),s=o.length,a=new Array(s),c=new Array(s),l=new Array(s),d=("break-word"===t||"break-all"===t)&&isFinite(i)&&i>0,h=[0,0],p=[0,0];let _=0,w=0,I=0;for(let L=0;L<=s;L++){const K=o[L];if(("\n"===K||L===s)&&(I=L),I>w){const Q=d?jxe(o,t,i,r,w,I):Fxe;for(let me=0;me<=Q.length;me++){const Pe=0===me?w:Q[me-1],We=me<Q.length?Q[me]:I;Vxe(o,Pe,We,r,a,p);for(let tt=Pe;tt<We;tt++)c[tt]=_+p[1]/2,l[tt]=p[0];_+=p[1]*e,h[0]=Math.max(h[0],p[0])}w=I}"\n"===K&&(a[w]=0,c[w]=0,l[w]=0,w++)}return h[1]=_,{x:a,y:c,rowWidth:l,size:h}}class y9{constructor(e=5){Me(this,"limit",void 0),Me(this,"_cache",{}),Me(this,"_order",[]),this.limit=e}get(e){const t=this._cache[e];return t&&(this._deleteOrder(e),this._appendOrder(e)),t}set(e,t){this._cache[e]?(this.delete(e),this._cache[e]=t,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=t,this._appendOrder(e))}delete(e){this._cache[e]&&(delete this._cache[e],this._deleteOrder(e))}_deleteOrder(e){const t=this._order.indexOf(e);t>=0&&this._order.splice(t,1)}_appendOrder(e){this._order.push(e)}}const R0={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function Hxe(){const n=[];for(let e=32;e<128;e++)n.push(String.fromCharCode(e));return n}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1};let uS=new y9(3);function $xe(n,e){for(let t=0;t<n.length;t++)e.data[4*t+3]=n[t]}function E9(n,e,t,i){n.font="".concat(i," ").concat(t,"px ").concat(e),n.fillStyle="#000",n.textBaseline="alphabetic",n.textAlign="left"}class Xxe{constructor(){Me(this,"props",{...R0}),Me(this,"_key",void 0),Me(this,"_atlas",void 0)}get texture(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){return 1.2}setProps(e={}){Object.assign(this.props,e);const t=this._key;this._key=this._getKey();const i=function Wxe(n,e){let t;t="string"==typeof e?new Set(Array.from(e)):new Set(e);const i=uS.get(n);if(!i)return t;for(const r in i.mapping)t.has(r)&&t.delete(r);return t}(this._key,this.props.characterSet),r=uS.get(this._key);if(r&&0===i.size)return void(this._key!==t&&(this._atlas=r));const o=this._generateFontAtlas(this._key,i,r);this._atlas=o,uS.set(this._key,o)}_generateFontAtlas(e,t,i){const{fontFamily:r,fontWeight:o,fontSize:s,buffer:a,sdf:c,radius:l,cutoff:d}=this.props;let h=i&&i.data;h||(h=document.createElement("canvas"),h.width=1024);const p=h.getContext("2d");E9(p,r,s,o);const{mapping:_,canvasHeight:w,xOffset:I,yOffset:L}=function Bxe({characterSet:n,getFontWidth:e,fontHeight:t,buffer:i,maxCanvasWidth:r,mapping:o={},xOffset:s=0,yOffset:a=0}){let c=0,l=s;for(const h of n)if(!o[h]){const p=e(h);l+p+2*i>r&&(l=0,c++),o[h]={x:l+i,y:a+c*(t+2*i)+i,width:p,height:t},l+=p+2*i}const d=t+2*i;return{mapping:o,xOffset:l,yOffset:a+c*d,canvasHeight:Lxe(a+(c+1)*d)}}({getFontWidth:K=>p.measureText(K).width,fontHeight:1.2*s,buffer:a,characterSet:t,maxCanvasWidth:1024,...i&&{mapping:i.mapping,xOffset:i.xOffset,yOffset:i.yOffset}});if(h.height!==w){const K=p.getImageData(0,0,h.width,h.height);h.height=w,p.putImageData(K,0,0)}if(E9(p,r,s,o),c){const K=new(Pxe())(s,a,l,d,r,o),Q=p.getImageData(0,0,K.size,K.size);for(const me of t)$xe(K.draw(me),Q),p.putImageData(Q,_[me].x-a,_[me].y+a)}else for(const K of t)p.fillText(K,_[K].x,_[K].y+.9*s);return{xOffset:I,yOffset:L,mapping:_,data:h,width:h.width,height:h.height}}_getKey(){const{fontFamily:e,fontWeight:t,fontSize:i,buffer:r,sdf:o,radius:s,cutoff:a}=this.props;return o?"".concat(e," ").concat(t," ").concat(i," ").concat(r," ").concat(s," ").concat(a):"".concat(e," ").concat(t," ").concat(i," ").concat(r)}}const Jxe={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:n=>n.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class DR extends mp{constructor(...e){super(...e),Me(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME text-background-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceRects;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec2 instancePixelOffsets;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = radians(angle);\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n  vLineWidth = instanceLineWidths;\n\n  // convert size in meters to pixels, then scaled and clamp\n\n  // project meters to pixels and clamp to limits\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\n    sizeMinPixels, sizeMaxPixels\n  );\n\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\n\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\n  pixelOffset += instancePixelOffsets;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME text-background-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec2 pixelPosition = uv * dimensions;\n  if (stroked) {\n    float distToEdge = min(\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\n    );\n    float isBorder = smoothedge(distToEdge, vLineWidth);\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[lS,dS]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){super.updateState(e);const{changeFlags:t}=e;if(t.extensionsChanged){var i;const{gl:r}=this.context;null===(i=this.state.model)||void 0===i||i.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}draw({uniforms:e}){const{billboard:t,sizeScale:i,sizeUnits:r,sizeMinPixels:o,sizeMaxPixels:s,getLineWidth:a}=this.props;let{padding:c}=this.props;c.length<4&&(c=[c[0],c[1],c[0],c[1]]),this.state.model.setUniforms(e).setUniforms({billboard:t,stroked:!!a,padding:c,sizeUnits:yC[r],sizeScale:i,sizeMinPixels:o,sizeMaxPixels:s}).draw()}_getModel(e){return new h_(e,{...this.getShaders(),id:this.props.id,geometry:new Dh({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,1,1,0,1])}}}),isInstanced:!0})}}Me(DR,"defaultProps",Jxe),Me(DR,"layerName","TextBackgroundLayer");const C9={start:1,middle:0,end:-1},S9={top:1,center:0,bottom:-1},OR=[0,0,0,255],Qxe={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:OR},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:R0.characterSet},fontFamily:R0.fontFamily,fontWeight:R0.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:OR},fontSettings:{},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:n=>n.text},getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:OR},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class kR extends nR{constructor(...e){super(...e),Me(this,"state",void 0),Me(this,"getBoundingRect",(t,i)=>{const r=this.state.fontAtlasManager.mapping,o=this.state.getText,{wordBreak:s,maxWidth:a,lineHeight:c,getTextAnchor:l,getAlignmentBaseline:d}=this.props,h=o(t,i)||"",{size:[p,_]}=b9(h,c,s,a,r);return[(C9["function"==typeof l?l(t,i):l]-1)*p/2,(S9["function"==typeof d?d(t,i):d]-1)*_/2,p,_]}),Me(this,"getIconOffsets",(t,i)=>{const r=this.state.fontAtlasManager.mapping,o=this.state.getText,{wordBreak:s,maxWidth:a,lineHeight:c,getTextAnchor:l,getAlignmentBaseline:d}=this.props,h=o(t,i)||"",{x:p,y:_,rowWidth:w,size:[I,L]}=b9(h,c,s,a,r),K=C9["function"==typeof l?l(t,i):l],Q=S9["function"==typeof d?d(t,i):d],me=p.length,Pe=new Array(2*me);let We=0;for(let tt=0;tt<me;tt++)Pe[We++]=(K-1)*I/2+(1-K)*(I-w[tt])/2+p[tt],Pe[We++]=(Q-1)*L/2+_[tt];return Pe})}initializeState(){this.state={styleVersion:0,fontAtlasManager:new Xxe}}updateState(e){const{props:t,oldProps:i,changeFlags:r}=e;(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this._updateText(),(this._updateFontAtlas()||t.lineHeight!==i.lineHeight||t.wordBreak!==i.wordBreak||t.maxWidth!==i.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:e}){return e.object=e.index>=0?this.props.data[e.index]:null,e}_updateFontAtlas(){const{fontSettings:e,fontFamily:t,fontWeight:i}=this.props,{fontAtlasManager:r,characterSet:o}=this.state,s={...e,characterSet:o,fontFamily:t,fontWeight:i};if(!r.mapping)return r.setProps(s),!0;for(const a in s)if(s[a]!==r.props[a])return r.setProps(s),!0;return!1}_updateText(){var e;const{data:t,characterSet:i}=this.props,r=null===(e=t.attributes)||void 0===e?void 0:e.getText;let a,{getText:o}=this.props,s=t.startIndices;const c="auto"===i&&new Set;if(r&&s){const{texts:l,characterCount:d}=function zxe({value:n,length:e,stride:t,offset:i,startIndices:r,characterSet:o}){const s=n.BYTES_PER_ELEMENT,a=t?t/s:1,c=i?i/s:0,l=r[e]||Math.ceil((n.length-c)/a),d=o&&new Set,h=new Array(e);let p=n;if(a>1||c>0){p=new(0,n.constructor)(l);for(let w=0;w<l;w++)p[w]=n[w*a+c]}for(let _=0;_<e;_++){const L=p.subarray(r[_],r[_+1]||l);h[_]=String.fromCodePoint.apply(null,L),d&&L.forEach(d.add,d)}if(d)for(const _ of d)o.add(String.fromCodePoint(_));return{texts:h,characterCount:l}}({...ArrayBuffer.isView(r)?{value:r}:r,length:t.length,startIndices:s,characterSet:c});a=d,o=(h,{index:p})=>l[p]}else{const{iterable:l,objectInfo:d}=TC(t);s=[0],a=0;for(const h of l){d.index++;const p=Array.from(o(h,d)||"");c&&p.forEach(c.add,c),a+=p.length,s.push(a)}}this.setState({getText:o,startIndices:s,numInstances:a,characterSet:c||i})}renderLayers(){const{startIndices:e,numInstances:t,getText:i,fontAtlasManager:{scale:r,texture:o,mapping:s},styleVersion:a}=this.state,{data:c,_dataDiff:l,getPosition:d,getColor:h,getSize:p,getAngle:_,getPixelOffset:w,getBackgroundColor:I,getBorderColor:L,getBorderWidth:K,backgroundPadding:Q,background:me,billboard:Pe,fontSettings:We,outlineWidth:tt,outlineColor:ut,sizeScale:wt,sizeUnits:vt,sizeMinPixels:bt,sizeMaxPixels:St,transitions:Rt,updateTriggers:gt}=this.props,xt=this.getSubLayerClass("characters",IR),Vt=this.getSubLayerClass("background",DR);return[me&&new Vt({getFillColor:I,getLineColor:L,getLineWidth:K,padding:Q,getPosition:d,getSize:p,getAngle:_,getPixelOffset:w,billboard:Pe,sizeScale:wt/this.state.fontAtlasManager.props.fontSize,sizeUnits:vt,sizeMinPixels:bt,sizeMaxPixels:St,transitions:Rt&&{getPosition:Rt.getPosition,getAngle:Rt.getAngle,getSize:Rt.getSize,getFillColor:Rt.getBackgroundColor,getLineColor:Rt.getBorderColor,getLineWidth:Rt.getBorderWidth,getPixelOffset:Rt.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:gt.getPosition,getAngle:gt.getAngle,getSize:gt.getSize,getFillColor:gt.getBackgroundColor,getLineColor:gt.getBorderColor,getLineWidth:gt.getBorderWidth,getPixelOffset:gt.getPixelOffset,getBoundingRect:{getText:gt.getText,getTextAnchor:gt.getTextAnchor,getAlignmentBaseline:gt.getAlignmentBaseline,styleVersion:a}}}),{data:c.attributes&&c.attributes.background?{length:c.length,attributes:c.attributes.background}:c,_dataDiff:l,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new xt({sdf:We.sdf,smoothing:Number.isFinite(We.smoothing)?We.smoothing:R0.smoothing,outlineWidth:tt,outlineColor:ut,iconAtlas:o,iconMapping:s,getPosition:d,getColor:h,getSize:p,getAngle:_,getPixelOffset:w,billboard:Pe,sizeScale:wt*r,sizeUnits:vt,sizeMinPixels:bt*r,sizeMaxPixels:St*r,transitions:Rt&&{getPosition:Rt.getPosition,getAngle:Rt.getAngle,getColor:Rt.getColor,getSize:Rt.getSize,getPixelOffset:Rt.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getIcon:gt.getText,getPosition:gt.getPosition,getAngle:gt.getAngle,getColor:gt.getColor,getSize:gt.getSize,getPixelOffset:gt.getPixelOffset,getIconOffsets:{getText:gt.getText,getTextAnchor:gt.getTextAnchor,getAlignmentBaseline:gt.getAlignmentBaseline,styleVersion:a}}}),{data:c,_dataDiff:l,startIndices:e,numInstances:t,getIconOffsets:this.getIconOffsets,getIcon:i})]}static set fontAtlasCacheLimit(e){!function Yxe(n){Oi.assert(Number.isFinite(n)&&n>=3,"Invalid cache limit"),uS=new y9(n)}(e)}}Me(kR,"defaultProps",Qxe),Me(kR,"layerName","TextLayer");const A9="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",e1e={lightSources:{}};function RR(){let{color:n=[0,0,0],intensity:e=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.map(t=>t*e/255)}const PR={name:"lights",vs:A9,fs:A9,getUniforms:function M9(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e1e;if("lightSources"in n){const{ambientLight:e,pointLights:t,directionalLights:i}=n.lightSources||{};return e||t&&t.length>0||i&&i.length>0?Object.assign({},function t1e(n){let{ambientLight:e,pointLights:t=[],directionalLights:i=[]}=n;const r={};return r["lighting_uAmbientLight.color"]=e?RR(e):[0,0,0],t.forEach((o,s)=>{r["lighting_uPointLight[".concat(s,"].color")]=RR(o),r["lighting_uPointLight[".concat(s,"].position")]=o.position,r["lighting_uPointLight[".concat(s,"].attenuation")]=o.attenuation||[1,0,0]}),r.lighting_uPointLightCount=t.length,i.forEach((o,s)=>{r["lighting_uDirectionalLight[".concat(s,"].color")]=RR(o),r["lighting_uDirectionalLight[".concat(s,"].direction")]=o.direction}),r.lighting_uDirectionalLightCount=i.length,r}({ambientLight:e,pointLights:t,directionalLights:i}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in n){const e={pointLights:[],directionalLights:[]};for(const t of n.lights||[])switch(t.type){case"ambient":e.ambientLight=t;break;case"directional":e.directionalLights.push(t);break;case"point":e.pointLights.push(t)}return M9({lightSources:e})}return{}},defines:{MAX_LIGHTS:3}},n1e={};const r1e={name:"phong-lighting",dependencies:[PR],fs:"\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",defines:{LIGHTING_FRAGMENT:1},getUniforms:function I9(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n1e;if(!("material"in n))return{};const{material:e}=n;return e?function i1e(n){const{ambient:e=.35,diffuse:t=.6,shininess:i=32,specularColor:r=[30,30,30]}=n;return{lighting_uAmbient:e,lighting_uDiffuse:t,lighting_uShininess:i,lighting_uSpecularColor:r.map(o=>o/255)}}(e):{lighting_uEnabled:!1}}},NR=Math.PI/180,hS=new Float32Array(16),D9=new Float32Array(12);function O9(n,e,t){const i=e[0]*NR,r=e[1]*NR,o=e[2]*NR,s=Math.sin(o),a=Math.sin(i),c=Math.sin(r),l=Math.cos(o),d=Math.cos(i),h=Math.cos(r),p=t[0],_=t[1],w=t[2];n[0]=p*h*d,n[1]=p*c*d,n[2]=p*-a,n[3]=_*(-c*l+h*a*s),n[4]=_*(h*l+c*a*s),n[5]=_*d*s,n[6]=w*(c*s+h*a*l),n[7]=w*(-h*s+c*a*l),n[8]=w*d*l}function k9(n){return n[0]=n[0],n[1]=n[1],n[2]=n[2],n[3]=n[4],n[4]=n[5],n[5]=n[6],n[6]=n[8],n[7]=n[9],n[8]=n[10],n[9]=n[12],n[10]=n[13],n[11]=n[14],n.subarray(0,12)}const R9={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update(n,{startRow:e,endRow:t}){const{data:i,getOrientation:r,getScale:o,getTranslation:s,getTransformMatrix:a}=this.props,c=Array.isArray(a),l=c&&16===a.length,d=Array.isArray(o),h=Array.isArray(r),p=Array.isArray(s),_=l||!c&&!!a(i[0]);n.constant=_?l:h&&d&&p;const w=n.value;if(n.constant){let I;_?(hS.set(a),I=k9(hS)):(I=D9,O9(I,r,o),I.set(s,9)),n.value=new Float32Array(I)}else{let I=e*n.size;const{iterable:L,objectInfo:K}=TC(i,e,t);for(const Q of L){let me;K.index++,_?(hS.set(l?a:a(Q,K)),me=k9(hS)):(me=D9,O9(me,h?r:r(Q,K),d?o:o(Q,K)),me.set(p?s:s(Q,K),9)),w[I++]=me[0],w[I++]=me[1],w[I++]=me[2],w[I++]=me[3],w[I++]=me[4],w[I++]=me[5],w[I++]=me[6],w[I++]=me[7],w[I++]=me[8],w[I++]=me[9],w[I++]=me[10],w[I++]=me[11]}}}};function P9(n,e){return e===Bi.CARTESIAN||e===Bi.METER_OFFSETS||e===Bi.DEFAULT&&!n.isGeospatial}function N9(n,e){(n.COLOR_0||n.colors)&&e||(n.colors={constant:!0,value:new Float32Array([1,1,1])}),Oi.assert(n.positions||n.POSITION,'no "postions" or "POSITION" attribute in mesh')}function a1e(n,e){if(n.attributes)return N9(n.attributes,e),n instanceof Dh?n:new Dh(n);if(n.positions||n.POSITION)return N9(n,e),new Dh({attributes:n});throw Error("Invalid mesh")}class FR extends mp{constructor(...e){super(...e),Me(this,"state",void 0)}getShaders(){const e=!Ci(this.context.gl),t={};return Ik(this.context.gl,"GLSL_DERIVATIVES")&&(t.DERIVATIVES_AVAILABLE=1),super.getShaders({vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\n\n// Scale the model\nuniform float sizeScale;\nuniform bool composeModelMatrix;\n\n// Primitive attributes\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Outputs to fragment shader\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n    geometry.position = position_commonspace;\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n    geometry.position = position_commonspace;\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n  }\n\n  geometry.normal = normals_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n\n// NOTE(Tarek): This is necessary because\n// headless.gl reports the extension as\n// available but does not support it in\n// the shader.\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[lS,r1e,dS],transpileToGLSL100:e,defines:t})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:5130,fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:5121,transition:!0,size:this.props.colorFormat.length,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:R9}),this.setState({emptyTexture:new ls(this.context.gl,{data:new Uint8Array(4),width:1,height:1})})}updateState(e){super.updateState(e);const{props:t,oldProps:i,changeFlags:r}=e;if(t.mesh!==i.mesh||r.extensionsChanged){var o;if(null===(o=this.state.model)||void 0===o||o.delete(),t.mesh){this.state.model=this.getModel(t.mesh);const s=t.mesh.attributes||t.mesh;this.setState({hasNormals:!(!s.NORMAL&&!s.normals)})}this.getAttributeManager().invalidateAll()}t.texture!==i.texture&&this.setTexture(t.texture),this.state.model&&this.state.model.setDrawMode(this.props.wireframe?3:4)}finalizeState(e){super.finalizeState(e),this.state.emptyTexture.delete()}draw({uniforms:e}){if(!this.state.model)return;const{viewport:t}=this.context,{sizeScale:i,coordinateSystem:r,_instanced:o}=this.props;this.state.model.setUniforms(e).setUniforms({sizeScale:i,composeModelMatrix:!o||P9(t,r),flatShading:!this.state.hasNormals}).draw()}getModel(e){const t=new h_(this.context.gl,{...this.getShaders(),id:this.props.id,geometry:a1e(e,this.props._useMeshColors),isInstanced:!0}),{texture:i}=this.props,{emptyTexture:r}=this.state;return t.setUniforms({sampler:i||r,hasTexture:!!i}),t}setTexture(e){const{emptyTexture:t,model:i}=this.state;i&&i.setUniforms({sampler:e||t,hasTexture:!!e})}}Me(FR,"defaultProps",{mesh:{type:"object",value:null,async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_useMeshColors:{type:"boolean",value:!1},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:[0,0,0,255]},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]}}),Me(FR,"layerName","SimpleMeshLayer");const F9={name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)\n# error PBR fragment shader: Texture LOD is not available\n#endif\n\n#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)\n# error PBR fragment shader: Derivatives are not available\n#endif\n\n\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n\nstruct PBRInfo\n{\n  float NdotL;\n  float NdotV;\n  float NdotH;\n  float LdotH;\n  float VdotH;\n  float perceptualRoughness;\n  float metalness;\n  vec3 reflectance0;\n  vec3 reflectance90;\n  float alphaRoughness;\n  vec3 diffuseColor;\n  vec3 specularColor;\n  vec3 n;\n  vec3 v;\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif\n  return vec4(linOut,srgbIn.w);;\n#else\n  return srgbIn;\n#endif\n}\n\nvec3 getNormal()\n{\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0;\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n\n\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n\n\n\n\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);\n  vec3 h = normalize(l+v);\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n\n\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n\n\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();\n    vec3 v = normalize(u_Camera - pbr_vPosition);\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0,\n      NdotV,\n      0.0,\n      0.0,\n      0.0,\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n#ifdef PBR_DEBUG\n\n\n\n\n\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[PR]};class E_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t}=e;this.id=t||Ca(this.constructor.name),this.display=!0,this.position=new Ps,this.rotation=new Ps,this.scale=new Ps(1,1,1),this.matrix=new Dt,this.userData={},this.props={},this._setScenegraphNodeProps(e)}delete(){}setProps(e){return this._setScenegraphNodeProps(e),this}toString(){return"{type: ScenegraphNode, id: ".concat(this.id,")}")}getBounds(){return null}setPosition(e){return cn(3===e.length,"setPosition requires vector argument"),this.position=e,this}setRotation(e){return cn(3===e.length,"setRotation requires vector argument"),this.rotation=e,this}setScale(e){return cn(3===e.length,"setScale requires vector argument"),this.scale=e,this}setMatrix(e){arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?this.matrix=e:this.matrix.copy(e)}setMatrixComponents(e){let{position:t,rotation:i,scale:r,update:o=!0}=e;return t&&this.setPosition(t),i&&this.setRotation(i),r&&this.setScale(r),o&&this.updateMatrix(),this}updateMatrix(){const e=this.position,t=this.rotation,i=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(i),this}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{position:t,rotation:i,scale:r}=e;return t&&this.setPosition(t),i&&this.setRotation(i),r&&this.setScale(r),this.updateMatrix(),this}getCoordinateUniforms(e,t){cn(e),t=t||this.matrix;const i=new Dt(e).multiplyRight(t),r=i.invert(),o=r.transpose();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:i,worldInverseMatrix:r,worldInverseTransposeMatrix:o}}_setScenegraphNodeProps(e){"display"in e&&(this.display=e.display),"position"in e&&this.setPosition(e.position),"rotation"in e&&this.setRotation(e.rotation),"scale"in e&&this.setScale(e.scale),"matrix"in e&&this.setMatrix(e.matrix),Object.assign(this.props,e)}}class P0 extends E_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Array.isArray(e)?{children:e}:e;const{children:t=[]}=e;Mn.assert(t.every(i=>i instanceof E_),"every child must an instance of ScenegraphNode"),super(e),this.children=t}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const r of t)Array.isArray(r)?this.add(...r):this.children.push(r);return this}remove(e){const t=this.children,i=t.indexOf(e);return i>-1&&t.splice(i,1),this}removeAll(){return this.children=[],this}delete(){this.children.forEach(e=>e.delete()),this.removeAll(),super.delete()}getBounds(){const e=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];return this.traverse((t,i)=>{let{worldMatrix:r}=i;const o=t.getBounds();if(!o)return;const[s,a]=o,c=new Ps(s).add(a).divide([2,2,2]);r.transformAsPoint(c,c);const l=new Ps(a).subtract(s).divide([2,2,2]);r.transformAsVector(l,l);for(let d=0;d<8;d++){const h=new Ps(1&d?-1:1,2&d?-1:1,4&d?-1:1).multiply(l).add(c);for(let p=0;p<3;p++)e[0][p]=Math.min(e[0][p],h[p]),e[1][p]=Math.max(e[1][p],h[p])}}),Number.isFinite(e[0][0])?e:null}traverse(e){let{worldMatrix:t=new Dt}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new Dt(t).multiplyRight(this.matrix);for(const r of this.children)r instanceof P0?r.traverse(e,{worldMatrix:i}):e(r,{worldMatrix:i})}}let fS;class LR extends d6{static get ZERO(){return fS||(fS=new LR(0,0,0,0),Object.freeze(fS)),fS}constructor(e=0,t=0,i=0,r=0){super(-0,-0,-0,-0),ru(e)&&1===arguments.length?this.copy(e):(lo.debug&&(gr(e),gr(t),gr(i),gr(r)),this[0]=e,this[1]=t,this[2]=i,this[3]=r)}set(e,t,i,r){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}fromObject(e){return lo.debug&&(gr(e.x),gr(e.y),gr(e.z),gr(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}get ELEMENTS(){return 4}get z(){return this[2]}set z(e){this[2]=gr(e)}get w(){return this[3]}set w(e){this[3]=gr(e)}transform(e){return kk(this,this,e),this.check()}transformByMatrix3(e){return function ype(n,e,t){const i=e[0],r=e[1],o=e[2];n[0]=t[0]*i+t[3]*r+t[6]*o,n[1]=t[1]*i+t[4]*r+t[7]*o,n[2]=t[2]*i+t[5]*r+t[8]*o,n[3]=e[3]}(this,this,e),this.check()}transformByMatrix2(e){return function bpe(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2],n[3]=e[3]}(this,this,e),this.check()}transformByQuaternion(e){return p6(this,this,e),this.check()}applyMatrix4(e){return e.transform(this,this),this}}function L9(){var n=new Aa(4);return Aa!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function B9(n,e,t){t*=.5;var i=Math.sin(t);return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=Math.cos(t),n}function U9(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=t[0],c=t[1],l=t[2],d=t[3];return n[0]=i*d+s*a+r*l-o*c,n[1]=r*d+s*c+o*a-i*l,n[2]=o*d+s*l+i*c-r*a,n[3]=s*d-i*a-r*c-o*l,n}var V9=_H,E1e=function(){var n=u6(),e=h6(1,0,0),t=h6(0,1,0);return function(i,r,o){var s=f6(r,o);return s<-.999999?(SC(n,e,r),function ope(n){return Math.hypot(n[0],n[1],n[2])}(n)<1e-6&&SC(n,t,r),function cpe(n,e){var t=e[0],i=e[1],r=e[2],o=t*t+i*i+r*r;o>0&&(o=1/Math.sqrt(o)),n[0]=e[0]*o,n[1]=e[1]*o,n[2]=e[2]*o}(n,n),B9(i,n,Math.PI),i):s>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(SC(n,r,o),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=1+s,function $_e(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*t+i*i+r*r+o*o;return s>0&&(s=1/Math.sqrt(s)),n[0]=t*s,n[1]=i*s,n[2]=r*s,n[3]=o*s,n}(i,i))}}();L9(),L9(),function l1e(){var n=new Aa(9);Aa!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1}();const C1e=[0,0,0,1],A1e={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},M1e={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function G9(n){if(!n._animation){const e=M1e[n.componentType],t=A1e[n.type],i=t*n.count,{buffer:r,byteOffset:o}=n.bufferView.data,s=new e(r,o+(n.byteOffset||0),i);if(1===t)n._animation=Array.from(s);else{const a=[];for(let c=0;c<s.length;c+=t)a.push(Array.from(s.slice(c,c+t)));n._animation=a}}return n._animation}const T1e=new Dt,BR=new class S1e extends Ok{constructor(e=0,t=0,i=0,r=1){super(-0,-0,-0,-0),Array.isArray(e)&&1===arguments.length?this.copy(e):this.set(e,t,i,r)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}set(e,t,i,r){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this.check()}fromObject(e){return this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this.check()}fromMatrix3(e){return function j9(n,e){var i,t=e[0]+e[4]+e[8];if(t>0)i=Math.sqrt(t+1),n[3]=.5*i,n[0]=(e[5]-e[7])*(i=.5/i),n[1]=(e[6]-e[2])*i,n[2]=(e[1]-e[3])*i;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var o=(r+1)%3,s=(r+2)%3;i=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*s+s]+1),n[r]=.5*i,n[3]=(e[3*o+s]-e[3*s+o])*(i=.5/i),n[o]=(e[3*o+r]+e[3*r+o])*i,n[s]=(e[3*s+r]+e[3*r+s])*i}return n}(this,e),this.check()}fromAxisRotation(e,t){return B9(this,e,t),this.check()}identity(){return function d1e(n){n[0]=0,n[1]=0,n[2]=0,n[3]=1}(this),this.check()}setAxisAngle(e,t){return this.fromAxisRotation(e,t)}get ELEMENTS(){return 4}get x(){return this[0]}set x(e){this[0]=gr(e)}get y(){return this[1]}set y(e){this[1]=gr(e)}get z(){return this[2]}set z(e){this[2]=gr(e)}get w(){return this[3]}set w(e){this[3]=gr(e)}len(){return function G_e(n){return Math.hypot(n[0],n[1],n[2],n[3])}(this)}lengthSquared(){return function W_e(n){var e=n[0],t=n[1],i=n[2],r=n[3];return e*e+t*t+i*i+r*r}(this)}dot(e){return function Y_e(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}(this,e)}rotationTo(e,t){return E1e(this,e,t),this.check()}add(e){return function H_e(n,e,t){n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3]}(this,this,e),this.check()}calculateW(){return function p1e(n,e){var t=e[0],i=e[1],r=e[2];n[0]=t,n[1]=i,n[2]=r,n[3]=Math.sqrt(Math.abs(1-t*t-i*i-r*r))}(this,this),this.check()}conjugate(){return function b1e(n,e){n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3]}(this,this),this.check()}invert(){return function _1e(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*t+i*i+r*r+o*o,a=s?1/s:0;n[0]=-t*a,n[1]=-i*a,n[2]=-r*a,n[3]=o*a}(this,this),this.check()}lerp(e,t,i){return void 0===i?this.lerp(this,e,t):(function X_e(n,e,t,i){var r=e[0],o=e[1],s=e[2],a=e[3];n[0]=r+i*(t[0]-r),n[1]=o+i*(t[1]-o),n[2]=s+i*(t[2]-s),n[3]=a+i*(t[3]-a)}(this,e,t,i),this.check())}multiplyRight(e){return U9(this,this,e),this.check()}multiplyLeft(e){return U9(this,e,this),this.check()}normalize(){const e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}rotateX(e){return function u1e(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c+s*a,n[1]=r*c+o*a,n[2]=o*c-r*a,n[3]=s*c-i*a}(this,this,e),this.check()}rotateY(e){return function h1e(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c-o*a,n[1]=r*c+s*a,n[2]=o*c+i*a,n[3]=s*c-r*a}(this,this,e),this.check()}rotateZ(e){return function f1e(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c+r*a,n[1]=r*c-i*a,n[2]=o*c+s*a,n[3]=s*c-o*a}(this,this,e),this.check()}scale(e){return V9(this,this,e),this.check()}slerp(e,t,i){let r,o,s;switch(arguments.length){case 1:({start:r=C1e,target:o,ratio:s}=e);break;case 2:r=this,o=e,s=t;break;default:r=e,o=t,s=i}return function pS(n,e,t,i){var p,_,w,I,L,r=e[0],o=e[1],s=e[2],a=e[3],c=t[0],l=t[1],d=t[2],h=t[3];return(_=r*c+o*l+s*d+a*h)<0&&(_=-_,c=-c,l=-l,d=-d,h=-h),1-_>Yl?(p=Math.acos(_),w=Math.sin(p),I=Math.sin((1-i)*p)/w,L=Math.sin(i*p)/w):(I=1-i,L=i),n[0]=I*r+L*c,n[1]=I*o+L*l,n[2]=I*s+L*d,n[3]=I*a+L*h,n}(this,r,o,s),this.check()}transformVector4(e,t=new LR){return function K_e(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2],l=t[3],d=l*i+a*o-c*r,h=l*r+c*i-s*o,p=l*o+s*r-a*i,_=-s*i-a*r-c*o;n[0]=d*l+_*-s+h*-c-p*-a,n[1]=h*l+_*-a+p*-s-d*-c,n[2]=p*l+_*-c+d*-a-h*-s,n[3]=e[3]}(t,e,this),CC(t,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(e,t){return this.setAxisAngle(e,t)}premultiply(e){return this.multiplyLeft(e)}multiply(e){return this.multiplyRight(e)}};class P1e{constructor(e){this.startTime=0,this.playing=!0,this.speed=1,this.channels=[],Object.assign(this,e)}animate(e){if(!this.playing)return;const i=(e/1e3-this.startTime)*this.speed;this.channels.forEach(r=>{let{sampler:o,target:s,path:a}=r;(function R1e(n,e,t,i){let{input:r,interpolation:o,output:s}=e;const c=n%r[r.length-1],l=r.findIndex(_=>_>=c),d=Math.max(0,l-1);if(!Array.isArray(t[i]))switch(i){case"translation":t[i]=[0,0,0];break;case"rotation":t[i]=[0,0,0,1];break;case"scale":t[i]=[1,1,1];break;default:Mn.warn("Bad animation path ".concat(i))()}cn(t[i].length===s[d].length);const h=r[d],p=r[l];switch(o){case"STEP":!function k1e(n,e,t){for(let i=0;i<t.length;i++)n[e][i]=t[i]}(t,i,s[d]);break;case"LINEAR":p>h&&function D1e(n,e,t,i,r){if("rotation"===e){BR.slerp({start:t,target:i,ratio:r});for(let o=0;o<BR.length;o++)n[e][o]=BR[o]}else for(let o=0;o<t.length;o++)n[e][o]=r*i[o]+(1-r)*t[o]}(t,i,s[d],s[l],(c-h)/(p-h));break;case"CUBICSPLINE":p>h&&function O1e(n,e,t){let{p0:i,outTangent0:r,inTangent1:o,p1:s,tDiff:a,ratio:c}=t;for(let l=0;l<n[e].length;l++){const d=r[l]*a,h=o[l]*a;n[e][l]=(2*Math.pow(c,3)-3*Math.pow(c,2)+1)*i[l]+(Math.pow(c,3)-2*Math.pow(c,2)+c)*d+(-2*Math.pow(c,3)+3*Math.pow(c,2))*s[l]+(Math.pow(c,3)-Math.pow(c,2))*h}}(t,i,{p0:s[3*d+1],outTangent0:s[3*d+2],inTangent1:s[3*l+0],p1:s[3*l+1],tDiff:p-h,ratio:(c-h)/(p-h)});break;default:Mn.warn("Interpolation ".concat(o," not supported"))()}})(i,o,s,a),function I1e(n,e){if(e.matrix.identity(),n.translation&&e.matrix.translate(n.translation),n.rotation){const t=T1e.fromQuaternion(n.rotation);e.matrix.multiplyRight(t)}n.scale&&e.matrix.scale(n.scale)}(s,s._node)})}}class N1e{constructor(e){this.animations=e.animations.map((t,i)=>{const r=t.name||"Animation-".concat(i),o=t.samplers.map(a=>{let{input:c,interpolation:l="LINEAR",output:d}=a;return{input:G9(e.accessors[c]),interpolation:l,output:G9(e.accessors[d])}}),s=t.channels.map(a=>{let{sampler:c,target:l}=a;return{sampler:o[c],target:e.nodes[l.node],path:l.path}});return new P1e({name:r,channels:s})})}animate(e){this.setTime(e)}setTime(e){this.animations.forEach(t=>t.animate(e))}getAnimations(){return this.animations}}class F1e extends E_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this.onBeforeRender=null,this.AfterRender=null,e instanceof h_?(this.model=e,this._setModelNodeProps(t)):this.model=new h_(e,t),this.bounds=null,this.managedResources=t.managedResources||[]}setProps(e){return super.setProps(e),this._setModelNodeProps(e),this}getBounds(){return this.bounds}delete(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach(e=>e.delete()),this.managedResources=[]}draw(){return this.model.draw(...arguments)}setUniforms(){return this.model.setUniforms(...arguments),this}setAttributes(){return this.model.setAttributes(...arguments),this}updateModuleSettings(){return this.model.updateModuleSettings(...arguments),this}_setModelNodeProps(e){this.model.setProps(e)}}class L1e{constructor(e,t){let{attributes:i,material:r,pbrDebug:o,imageBasedLightingEnvironment:s,lights:a,useTangents:c}=t;this.gl=e,this.defines={MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},Ik(e,"GLSL_TEXTURE_LOD")&&(this.defines.USE_TEX_LOD=1),this.uniforms={u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},this.parameters={},this.generatedTextures=[],s&&(this.uniforms.u_DiffuseEnvSampler=s.getDiffuseEnvSampler(),this.uniforms.u_SpecularEnvSampler=s.getSpecularEnvSampler(),this.uniforms.u_brdfLUT=s.getBrdfTexture(),this.uniforms.u_ScaleIBLAmbient=[1,1]),o&&(this.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],this.uniforms.u_ScaleFGDSpec=[0,0,0,0]),this.defineIfPresent(i.NORMAL,"HAS_NORMALS"),this.defineIfPresent(i.TANGENT&&c,"HAS_TANGENTS"),this.defineIfPresent(i.TEXCOORD_0,"HAS_UV"),this.defineIfPresent(s,"USE_IBL"),this.defineIfPresent(a,"USE_LIGHTS"),this.defineIfPresent(o,"PBR_DEBUG"),r&&this.parseMaterial(r)}defineIfPresent(e,t){e&&(this.defines[t]=1)}parseTexture(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=e.texture.source.image;let s,a={};o.compressed?(s=o,a={[this.gl.TEXTURE_MIN_FILTER]:o.data.length>1?this.gl.LINEAR_MIPMAP_NEAREST:this.gl.LINEAR}):s={data:o};const c=new ls(this.gl,{id:e.name||e.id,parameters:{...e.texture&&e.texture.sampler&&e.texture.sampler.parameters||{},...a},pixelStore:{[this.gl.UNPACK_FLIP_Y_WEBGL]:!1},...s});this.uniforms[t]=c,this.defineIfPresent(i,i),this.generatedTextures.push(c)}parsePbrMetallicRoughness(e){e.baseColorTexture&&this.parseTexture(e.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP"),this.uniforms.u_BaseColorFactor=e.baseColorFactor||[1,1,1,1],e.metallicRoughnessTexture&&this.parseTexture(e.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP");const{metallicFactor:t=1,roughnessFactor:i=1}=e;this.uniforms.u_MetallicRoughnessValues=[t,i]}parseMaterial(e){if(this.uniforms.pbr_uUnlit=!!e.unlit,e.pbrMetallicRoughness&&this.parsePbrMetallicRoughness(e.pbrMetallicRoughness),e.normalTexture){this.parseTexture(e.normalTexture,"u_NormalSampler","HAS_NORMALMAP");const{scale:t=1}=e.normalTexture;this.uniforms.u_NormalScale=t}if(e.occlusionTexture){this.parseTexture(e.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP");const{strength:t=1}=e.occlusionTexture;this.uniforms.u_OcclusionStrength=t}if(e.emissiveTexture&&(this.parseTexture(e.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP"),this.uniforms.u_EmissiveFactor=e.emissiveFactor||[0,0,0]),"MASK"===e.alphaMode){const{alphaCutoff:t=.5}=e;this.defines.ALPHA_CUTOFF=1,this.uniforms.u_AlphaCutoff=t}else"BLEND"===e.alphaMode&&(Mn.warn("BLEND alphaMode might not work well because it requires mesh sorting")(),Object.assign(this.parameters,{blend:!0,blendEquation:this.gl.FUNC_ADD,blendFunc:[this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA]}))}delete(){this.generatedTextures.forEach(e=>e.delete())}}function W9(n,e){return Ci(n)?"#version 300 es\n".concat(e):e}const V1e={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},z1e={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1};class H1e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.options=Object.assign({},z1e,t)}instantiate(e){return this.gltf=e,(e.scenes||[]).map(i=>this.createScene(i))}createAnimator(){return Array.isArray(this.gltf.animations)?new N1e(this.gltf):null}createScene(e){const i=(e.nodes||[]).map(o=>this.createNode(o));return new P0({id:e.name||e.id,children:i})}createNode(e){if(!e._node){const i=(e.children||[]).map(o=>this.createNode(o));e.mesh&&i.push(this.createMesh(e.mesh));const r=new P0({id:e.name||e.id,children:i});if(e.matrix)r.setMatrix(e.matrix);else{if(r.matrix.identity(),e.translation&&r.matrix.translate(e.translation),e.rotation){const o=(new Dt).fromQuaternion(e.rotation);r.matrix.multiplyRight(o)}e.scale&&r.matrix.scale(e.scale)}e._node=r}return e._node}createMesh(e){if(!e._mesh){const i=(e.primitives||[]).map((o,s)=>this.createPrimitive(o,s,e)),r=new P0({id:e.name||e.id,children:i});e._mesh=r}return e._mesh}getVertexCount(e){Mn.warn("getVertexCount() not found")()}createPrimitive(e,t,i){const r=function j1e(n,e){const{id:t,drawMode:i,vertexCount:r,attributes:o,modelOptions:s}=e,a=new L1e(n,e);Mn.info(4,"createGLTFModel defines: ",a.defines)();const c=[];c.push(...a.generatedTextures),c.push(...Object.values(o).map(d=>d.buffer));const l=new F1e(n,{id:t,drawMode:i,vertexCount:r,modules:[F9],parameters:a.parameters,vs:W9(n,"\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  _attr vec4 POSITION;\n\n  #ifdef HAS_NORMALS\n    _attr vec4 NORMAL;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    _attr vec2 TEXCOORD_0;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = NORMAL;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = TEXCOORD_0;\n    #endif\n\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * POSITION;\n  }\n"),fs:W9(n,"\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    fragmentColor = pbr_filterColor(vec4(0));\n  }\n"),managedResources:c,...s,defines:{...a.defines,...s.defines}});return l.setProps({attributes:o}),l.setUniforms(a.uniforms),l}(this.gl,Object.assign({id:e.name||"".concat(i.name||i.id,"-primitive-").concat(t),drawMode:e.mode||4,vertexCount:e.indices?e.indices.count:this.getVertexCount(e.attributes),attributes:this.createAttributes(e.attributes,e.indices),material:e.material},this.options));return r.bounds=[e.attributes.POSITION.min,e.attributes.POSITION.max],r}createAttributes(e,t){const i={};return Object.keys(e).forEach(r=>{i[r]=this.createAccessor(e[r],this.createBuffer(e[r],this.gl.ARRAY_BUFFER))}),t&&(i.indices=this.createAccessor(t,this.createBuffer(t,this.gl.ELEMENT_ARRAY_BUFFER))),Mn.info(4,"glTF Attributes",{attributes:e,indices:t,generated:i})(),i}createBuffer(e,t){e.bufferView||(e.bufferView={});const{bufferView:i}=e;return i.lumaBuffers||(i.lumaBuffers={}),i.lumaBuffers[t]||(i.lumaBuffers[t]=new cr(this.gl,{id:"from-".concat(i.id),data:i.data||e.value,target:t})),i.lumaBuffers[t]}createAccessor(e,t){return new Sa({buffer:t,offset:e.byteOffset||0,stride:e.bufferView.byteStride||0,type:e.componentType,size:V1e[e.type]})}createSampler(e){return e}needsPOT(){return!1}}var N0=m(9125);const Y1e="3.2.13",UR={};function bp(n){return jR.apply(this,arguments)}function jR(){return jR=_n(function*(n,e=null,t={}){return e&&(n=function X1e(n,e,t){if(n.startsWith("http"))return n;const i=t.modules||{};return i[n]?i[n]:Ah?t.CDN?(Kl(t.CDN.startsWith("http")),"".concat(t.CDN,"/").concat(e,"@").concat(Y1e,"/dist/libs/").concat(n)):k2?"../src/libs/".concat(n):"modules/".concat(e,"/src/libs/").concat(n):"modules/".concat(e,"/dist/libs/").concat(n)}(n,e,t)),UR[n]=UR[n]||function K1e(n){return VR.apply(this,arguments)}(n),yield UR[n]}),jR.apply(this,arguments)}function VR(){return VR=_n(function*(n){if(n.endsWith("wasm"))return yield(yield fetch(n)).arrayBuffer();if(!Ah)try{return N0&&N0.requireFromFile&&(yield N0.requireFromFile(n))}catch{return null}return k2?importScripts(n):function q1e(n,e){if(!Ah)return N0.requireFromString&&N0.requireFromString(n,e);if(k2)return eval.call(wye,n),null;const t=document.createElement("script");t.id=e;try{t.appendChild(document.createTextNode(n))}catch{t.text=n}return document.body.appendChild(t),null}(yield(yield fetch(n)).text(),n)}),VR.apply(this,arguments)}const J1e="https://unpkg.com/@loaders.gl/textures@".concat("3.2.13","/dist/libs/basis_encoder.wasm"),Z1e="https://unpkg.com/@loaders.gl/textures@".concat("3.2.13","/dist/libs/basis_encoder.js");let zR,WR;function Y9(n){return HR.apply(this,arguments)}function HR(){return HR=_n(function*(n){const e=n.modules||{};return e.basis?e.basis:(zR=zR||function Q1e(n){return GR.apply(this,arguments)}(n),yield zR)}),HR.apply(this,arguments)}function GR(){return GR=_n(function*(n){let e=null,t=null;return[e,t]=yield Promise.all([yield bp("basis_transcoder.js","textures",n),yield bp("basis_transcoder.wasm","textures",n)]),e=e||globalThis.BASIS,yield function eEe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n(t).then(r=>{const{BasisFile:o,initializeBasis:s}=r;s(),i({BasisFile:o})})})}(e,t)}),GR.apply(this,arguments)}function X9(n){return $R.apply(this,arguments)}function $R(){return $R=_n(function*(n){const e=n.modules||{};return e.basisEncoder?e.basisEncoder:(WR=WR||function tEe(n){return YR.apply(this,arguments)}(n),yield WR)}),$R.apply(this,arguments)}function YR(){return YR=_n(function*(n){let e=null,t=null;return[e,t]=yield Promise.all([yield bp(Z1e,"textures",n),yield bp(J1e,"textures",n)]),e=e||globalThis.BASIS,yield function nEe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n(t).then(r=>{const{BasisFile:o,KTX2File:s,initializeBasis:a,BasisEncoder:c}=r;a(),i({BasisFile:o,KTX2File:s,BasisEncoder:c})})})}(e,t)}),YR.apply(this,arguments)}const iEe=["","WEBKIT_","MOZ_"],K9={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let mS=null;var XR,gS,KR,_S,J9,qR,Z9,Q9;new Uint8Array([0]),function(n){n[n.NONE=0]="NONE",n[n.BASISLZ=1]="BASISLZ",n[n.ZSTD=2]="ZSTD",n[n.ZLIB=3]="ZLIB"}(XR||(XR={})),function(n){n[n.BASICFORMAT=0]="BASICFORMAT"}(gS||(gS={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.ETC1S=163]="ETC1S",n[n.UASTC=166]="UASTC"}(KR||(KR={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.SRGB=1]="SRGB"}(_S||(_S={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.LINEAR=1]="LINEAR",n[n.SRGB=2]="SRGB",n[n.ITU=3]="ITU",n[n.NTSC=4]="NTSC",n[n.SLOG=5]="SLOG",n[n.SLOG2=6]="SLOG2"}(J9||(J9={})),function(n){n[n.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",n[n.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(qR||(qR={})),function(n){n[n.RGB=0]="RGB",n[n.RRR=3]="RRR",n[n.GGG=4]="GGG",n[n.AAA=15]="AAA"}(Z9||(Z9={})),function(n){n[n.RGB=0]="RGB",n[n.RGBA=3]="RGBA",n[n.RRR=4]="RRR",n[n.RRRG=5]="RRRG"}(Q9||(Q9={}));const Ga=[171,75,84,88,32,50,48,187,13,10,26,10],lEe={etc1:{basisFormat:0,compressed:!0,format:36196},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:33776},bc3:{basisFormat:3,compressed:!0,format:33779},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:35840},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:35842},"astc-4x4":{basisFormat:10,compressed:!0,format:37808},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function ZR(){return ZR=_n(function*(n,e){if("auto"===e.basis.containerFormat){if(function cEe(n){const e=new Uint8Array(n);return!(e.byteLength<Ga.length||e[0]!==Ga[0]||e[1]!==Ga[1]||e[2]!==Ga[2]||e[3]!==Ga[3]||e[4]!==Ga[4]||e[5]!==Ga[5]||e[6]!==Ga[6]||e[7]!==Ga[7]||e[8]!==Ga[8]||e[9]!==Ga[9]||e[10]!==Ga[10]||e[11]!==Ga[11])}(n))return n7((yield X9(e)).KTX2File,n,e);const{BasisFile:t}=yield Y9(e);return QR(t,n,e)}if("encoder"===e.basis.module){const t=yield X9(e);return"ktx2"===e.basis.containerFormat?n7(t.KTX2File,n,e):QR(t.BasisFile,n,e)}{const{BasisFile:i}=yield Y9(e);return QR(i,n,e)}}),ZR.apply(this,arguments)}function QR(n,e,t){const i=new n(new Uint8Array(e));try{if(!i.startTranscoding())throw new Error("Failed to start basis transcoding");const r=i.getNumImages(),o=[];for(let s=0;s<r;s++){const a=i.getNumLevels(s),c=[];for(let l=0;l<a;l++)c.push(uEe(i,s,l,t));o.push(c)}return o}finally{i.close(),i.delete()}}function uEe(n,e,t,i){const r=n.getImageWidth(e,t),o=n.getImageHeight(e,t),s=n.getHasAlpha(),{compressed:a,format:c,basisFormat:l}=i7(i,s),d=n.getImageTranscodedSizeInBytes(e,t,l),h=new Uint8Array(d);if(!n.transcodeImage(h,e,t,l,0,0))throw new Error("failed to start Basis transcoding");return{width:r,height:o,data:h,compressed:a,format:c,hasAlpha:s}}function n7(n,e,t){const i=new n(new Uint8Array(e));try{if(!i.startTranscoding())throw new Error("failed to start KTX2 transcoding");const r=i.getLevels(),o=[];for(let s=0;s<r;s++){o.push(hEe(i,s,t));break}return[o]}finally{i.close(),i.delete()}}function hEe(n,e,t){const{alphaFlag:i,height:r,width:o}=n.getImageLevelInfo(e,0,0),{compressed:s,format:a,basisFormat:c}=i7(t,i),l=n.getImageTranscodedSizeInBytes(e,0,0,c),d=new Uint8Array(l);if(!n.transcodeImage(d,e,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:r,data:d,compressed:s,hasAlpha:i,format:a}}function i7(n,e){let t=n&&n.basis&&n.basis.format;return"auto"===t&&(t=r7()),"object"==typeof t&&(t=e?t.alpha:t.noAlpha),t=t.toLowerCase(),lEe[t]}function r7(){const n=function rEe(n){if(!mS){n=n||function oEe(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}()||void 0,mS=new Set;for(const e of iEe)for(const t in K9)n&&n.getExtension("".concat(e).concat(t))&&mS.add(K9[t])}return mS}();return n.has("astc")?"astc-4x4":n.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:n.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:n.has("etc1")?"etc1":n.has("etc2")?"etc2":"rgb565"}const fEe={name:"Basis",id:"basis",module:"textures",version:"3.2.13",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}},parse:function dEe(n,e){return ZR.apply(this,arguments)}};function yp(n,e){if(!n)throw new Error(e||"loader assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const yS=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),o7=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),{_parseImageNode:mEe}=(o7&&parseFloat(o7[1]),globalThis),eP=typeof Image<"u",tP=typeof ImageBitmap<"u",nP=!!yS||!!mEe;function s7(n){const e=function c7(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&n instanceof Image?"image":n&&"object"==typeof n&&n.data&&n.width&&n.height?"data":null}(n);if(!e)throw new Error("Not an image");return e}const bEe=/^data:image\/svg\+xml/,yEe=/\.svg((\?|#).*)?$/;function iP(n){return n&&(bEe.test(n)||yEe.test(n))}function l7(n,e){if(iP(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(n)])}function d7(n,e,t){return rP.apply(this,arguments)}function rP(){return rP=_n(function*(n,e,t){const i=function vEe(n,e){if(iP(e)){let i=(new TextDecoder).decode(n);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(i=unescape(encodeURIComponent(i)))}catch(o){throw new Error(o.message)}return"data:image/svg+xml;base64,".concat(btoa(i))}return l7(n,e)}(n,t),r=self.URL||self.webkitURL,o="string"!=typeof i&&r.createObjectURL(i);try{return yield function wEe(n,e){return oP.apply(this,arguments)}(o||i,e)}finally{o&&r.revokeObjectURL(o)}}),rP.apply(this,arguments)}function oP(){return oP=_n(function*(n,e){const t=new Image;return t.src=n,e.image&&e.image.decode&&t.decode?(yield t.decode(),t):yield new Promise((i,r)=>{try{t.onload=()=>i(t),t.onerror=o=>r(new Error("Could not load image ".concat(n,": ").concat(o)))}catch(o){r(o)}})}),oP.apply(this,arguments)}const xEe={};let u7=!0;function sP(){return sP=_n(function*(n,e,t){let i;i=iP(t)?yield d7(n,e,t):l7(n,t);const r=e&&e.imagebitmap;return yield function CEe(n){return aP.apply(this,arguments)}(i,r)}),sP.apply(this,arguments)}function aP(){return aP=_n(function*(n,e=null){if((function SEe(n){for(const e in n||xEe)return!1;return!0}(e)||!u7)&&(e=null),e)try{return yield createImageBitmap(n,e)}catch(t){console.warn(t),u7=!1}return yield createImageBitmap(n)}),aP.apply(this,arguments)}const nd=!1,L0=!0;function cP(n){const e=B0(n);return function AEe(n){const e=B0(n);return e.byteLength>=24&&2303741511===e.getUint32(0,nd)?{mimeType:"image/png",width:e.getUint32(16,nd),height:e.getUint32(20,nd)}:null}(e)||function IEe(n){const e=B0(n);if(!(e.byteLength>=3&&65496===e.getUint16(0,nd)&&255===e.getUint8(2)))return null;const{tableMarkers:i,sofMarkers:r}=function DEe(){const n=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)n.add(t);return{tableMarkers:n,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let o=2;for(;o+9<e.byteLength;){const s=e.getUint16(o,nd);if(r.has(s))return{mimeType:"image/jpeg",height:e.getUint16(o+5,nd),width:e.getUint16(o+7,nd)};if(!i.has(s))return null;o+=2,o+=e.getUint16(o,nd)}return null}(e)||function MEe(n){const e=B0(n);return e.byteLength>=10&&1195984440===e.getUint32(0,nd)?{mimeType:"image/gif",width:e.getUint16(6,L0),height:e.getUint16(8,L0)}:null}(e)||function TEe(n){const e=B0(n);return e.byteLength>=14&&16973===e.getUint16(0,nd)&&e.getUint32(2,L0)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,L0),height:e.getUint32(22,L0)}:null}(e)}function B0(n){if(n instanceof DataView)return n;if(ArrayBuffer.isView(n))return new DataView(n.buffer);if(n instanceof ArrayBuffer)return new DataView(n);throw new Error("toDataView")}function lP(){return lP=_n(function*(n,e){const{mimeType:t}=cP(n)||{},i=globalThis._parseImageNode;return yp(i),yield i(n,t)}),lP.apply(this,arguments)}function dP(){return dP=_n(function*(n,e,t){const r=((e=e||{}).image||{}).type||"auto",{url:o}=t||{},s=function REe(n){switch(n){case"auto":case"data":return function _Ee(){if(tP)return"imagebitmap";if(eP)return"image";if(nP)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function gEe(n){switch(n){case"auto":return tP||eP||nP;case"imagebitmap":return tP;case"image":return eP;case"data":return nP;default:throw new Error("@loaders.gl/images: image ".concat(n," not supported in this environment"))}}(n),n}}(r);let a;switch(s){case"imagebitmap":a=yield function EEe(n,e,t){return sP.apply(this,arguments)}(n,e,o);break;case"image":a=yield d7(n,e,o);break;case"data":a=yield function OEe(n,e){return lP.apply(this,arguments)}(n,e);break;default:yp(!1)}return"data"===r&&(a=function a7(n){switch(s7(n)){case"data":return n;case"image":case"imagebitmap":const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("getImageData");return e.width=n.width,e.height=n.height,t.drawImage(n,0,0),t.getImageData(0,0,n.width,n.height);default:throw new Error("getImageData")}}(a)),a}),dP.apply(this,arguments)}const PEe={id:"image",module:"images",name:"Images",version:"3.2.13",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:function kEe(n,e,t){return dP.apply(this,arguments)},tests:[n=>!!cP(new DataView(n))],options:{image:{type:"auto",decode:!0}}};function h7(n,e,t){if(n.byteLength<=e+t)return"";const i=new DataView(n);let r="";for(let o=0;o<t;o++)r+=String.fromCharCode(i.getUint8(e+o));return r}function f7(n,e,t){const i=void 0!==t?new Uint8Array(n).subarray(e,e+t):new Uint8Array(n).subarray(e);return new Uint8Array(i).buffer}function Wa(n,e){if(!n)throw new Error(e||"assert failed: gltf")}function p7(n,e){if(n.startsWith("data:")||n.startsWith("http:")||n.startsWith("https:"))return n;const i=e.baseUri||e.uri;if(!i)throw new Error("'baseUri' must be provided to resolve relative url ".concat(n));return i.substr(0,i.lastIndexOf("/")+1)+n}function U0(n,e){return yp(n>=0),yp(e>0),n+(e-1)&~(e-1)}function LEe(n,e,t){let i;return i=n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer||n.arrayBuffer,n.byteOffset,n.byteLength),e.set(i,t),t+U0(i.byteLength,4)}const g7=["SCALAR","VEC2","VEC3","VEC4"],BEe=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],UEe=new Map(BEe),jEe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},VEe={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},zEe={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function _7(n){return g7[n-1]||g7[0]}function b7(n){const e=UEe.get(n.constructor);if(!e)throw new Error("Illegal typed array");return e}function y7(n,e){const t=zEe[n.componentType],i=jEe[n.type],o=n.count*i,s=n.count*i*VEe[n.componentType];return Wa(s>=0&&s<=e.byteLength),{ArrayType:t,length:o,byteLength:s}}const HEe={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]};class _c{constructor(e){Me(this,"gltf",void 0),Me(this,"sourceBuffers",void 0),Me(this,"byteLength",void 0),this.gltf=e||{json:{...HEe},buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(e){return this.json[e]}getExtraData(e){return(this.json.extras||{})[e]}getExtension(e){return this.getUsedExtensions().find(r=>r===e)?(this.json.extensions||{})[e]||!0:null}getRequiredExtension(e){return this.getRequiredExtensions().find(i=>i===e)?this.getExtension(e):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getObjectExtension(e,t){return(e.extensions||{})[t]}getScene(e){return this.getObject("scenes",e)}getNode(e){return this.getObject("nodes",e)}getSkin(e){return this.getObject("skins",e)}getMesh(e){return this.getObject("meshes",e)}getMaterial(e){return this.getObject("materials",e)}getAccessor(e){return this.getObject("accessors",e)}getTexture(e){return this.getObject("textures",e)}getSampler(e){return this.getObject("samplers",e)}getImage(e){return this.getObject("images",e)}getBufferView(e){return this.getObject("bufferViews",e)}getBuffer(e){return this.getObject("buffers",e)}getObject(e,t){if("object"==typeof t)return t;const i=this.json[e]&&this.json[e][t];if(!i)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return i}getTypedArrayForBufferView(e){e=this.getBufferView(e);const i=this.gltf.buffers[e.buffer];return Wa(i),new Uint8Array(i.arrayBuffer,(e.byteOffset||0)+i.byteOffset,e.byteLength)}getTypedArrayForAccessor(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),r=this.getBuffer(t.buffer).data,{ArrayType:o,length:s}=y7(e,t);return new o(r,t.byteOffset+e.byteOffset,s)}getTypedArrayForImageData(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),r=this.getBuffer(t.buffer).data;return new Uint8Array(r,t.byteOffset||0,t.byteLength)}addApplicationData(e,t){return this.json[e]=t,this}addExtraData(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}addObjectExtension(e,t,i){return e.extensions=e.extensions||{},e.extensions[t]=i,this.registerUsedExtension(t),this}setObjectExtension(e,t,i){(e.extensions||{})[t]=i}removeObjectExtension(e,t){const i=e.extensions||{},r=i[t];return delete i[t],r}addExtension(e,t={}){return Wa(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}addRequiredExtension(e,t={}){return Wa(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}registerUsedExtension(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(t=>t===e)||this.json.extensionsUsed.push(e)}registerRequiredExtension(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(t=>t===e)||this.json.extensionsRequired.push(e)}removeExtension(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}setDefaultScene(e){this.json.scene=e}addScene(e){const{nodeIndices:t}=e;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}addNode(e){const{meshIndex:t,matrix:i}=e;this.json.nodes=this.json.nodes||[];const r={mesh:t};return i&&(r.matrix=i),this.json.nodes.push(r),this.json.nodes.length-1}addMesh(e){const{attributes:t,indices:i,material:r,mode:o=4}=e,a={primitives:[{attributes:this._addAttributes(t),mode:o}]};if(i){const c=this._addIndices(i);a.primitives[0].indices=c}return Number.isFinite(r)&&(a.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(a),this.json.meshes.length-1}addPointCloud(e){const i={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(i),this.json.meshes.length-1}addImage(e,t){const i=cP(e),r=t||i?.mimeType,s={bufferView:this.addBufferView(e),mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(s),this.json.images.length-1}addBufferView(e){const t=e.byteLength;Wa(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);const i={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=U0(t,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(i),this.json.bufferViews.length-1}addAccessor(e,t){const i={bufferView:e,type:_7(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(i),this.json.accessors.length-1}addBinaryBuffer(e,t={size:3}){const i=this.addBufferView(e);let r={min:t.min,max:t.max};(!r.min||!r.max)&&(r=this._getAccessorMinMax(e,t.size));const o={size:t.size,componentType:b7(e),count:Math.round(e.length/t.size),min:r.min,max:r.max};return this.addAccessor(i,Object.assign(o,t))}addTexture(e){const{imageIndex:t}=e,i={source:t};return this.json.textures=this.json.textures||[],this.json.textures.push(i),this.json.textures.length-1}addMaterial(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}createBinaryChunk(){var e,t;this.gltf.buffers=[];const i=this.byteLength,r=new ArrayBuffer(i),o=new Uint8Array(r);let s=0;for(const a of this.sourceBuffers||[])s=LEe(a,o,s);null!==(e=this.json)&&void 0!==e&&null!==(t=e.buffers)&&void 0!==t&&t[0]?this.json.buffers[0].byteLength=i:this.json.buffers=[{byteLength:i}],this.gltf.binary=r,this.sourceBuffers=[r]}_removeStringFromArray(e,t){let i=!0;for(;i;){const r=e.indexOf(t);r>-1?e.splice(r,1):i=!1}}_addAttributes(e={}){const t={};for(const i in e){const r=e[i],o=this._getGltfAttributeName(i),s=this.addBinaryBuffer(r.value,r);t[o]=s}return t}_addIndices(e){return this.addBinaryBuffer(e,{size:1})}_getGltfAttributeName(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}_getAccessorMinMax(e,t){const i={min:null,max:null};if(e.length<t)return i;i.min=[],i.max=[];const r=e.subarray(0,t);for(const o of r)i.min.push(o),i.max.push(o);for(let o=t;o<e.length;o+=t)for(let s=0;s<t;s++)i.min[0+s]=Math.min(i.min[0+s],e[o+s]),i.max[0+s]=Math.max(i.max[0+s],e[o+s]);return i}}const WEe="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",$Ee="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",YEe=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),XEe=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),v7={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},KEe={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};function pP(){return pP=_n(function*(n,e,t,i,r,o="NONE"){const s=yield function vS(){return gP.apply(this,arguments)}();!function wS(n,e,t,i,r,o,s){const a=n.exports.sbrk,c=i+3&-4,l=a(c*r),d=a(o.length),h=new Uint8Array(n.exports.memory.buffer);h.set(o,d);const p=e(l,i,r,d,o.length);if(0===p&&s&&s(l,c,r),t.set(h.subarray(l,l+i*r)),a(l-a(0)),0!==p)throw new Error("Malformed buffer data: ".concat(p))}(s,s.exports[KEe[r]],n,e,t,i,s.exports[v7[o||"NONE"]])}),pP.apply(this,arguments)}let mP;function gP(){return gP=_n(function*(){return mP||(mP=function JEe(){return _P.apply(this,arguments)}()),mP}),gP.apply(this,arguments)}function _P(){return _P=_n(function*(){let n=WEe;WebAssembly.validate(YEe)&&(n=$Ee,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const e=yield WebAssembly.instantiate(function ZEe(n){const e=new Uint8Array(n.length);for(let i=0;i<n.length;++i){const r=n.charCodeAt(i);e[i]=r>96?r-71:r>64?r-65:r>47?r+4:r>46?63:62}let t=0;for(let i=0;i<n.length;++i)e[t++]=e[i]<60?XEe[e[i]]:64*(e[i]-60)+e[++i];return e.buffer.slice(0,t)}(n),{});return yield e.instance.exports.__wasm_call_ctors(),e.instance}),_P.apply(this,arguments)}const bP="EXT_meshopt_compression",QEe=bP;function eCe(n,e){return yP.apply(this,arguments)}function yP(){return yP=_n(function*(n,e){var t;const i=new _c(n);if(null==e||null===(t=e.gltf)||void 0===t||!t.decompressMeshes)return;const r=[];for(const o of n.json.bufferViews||[])r.push(tCe(i,o));yield Promise.all(r),i.removeExtension(bP)}),yP.apply(this,arguments)}function tCe(n,e){return vP.apply(this,arguments)}function vP(){return vP=_n(function*(n,e){const t=n.getObjectExtension(e,bP);if(t){const{byteOffset:i=0,byteLength:r=0,byteStride:o,count:s,mode:a,filter:c="NONE",buffer:l}=t,d=n.gltf.buffers[l],h=new Uint8Array(d.arrayBuffer,d.byteOffset+i,r),p=new Uint8Array(n.gltf.buffers[e.buffer].arrayBuffer,e.byteOffset,e.byteLength);return yield function qEe(n,e,t,i,r){return pP.apply(this,arguments)}(p,s,o,h,a,c),p}return null}),vP.apply(this,arguments)}const nCe=["image/png","image/jpeg","image/gif"],wP={};const S_="EXT_texture_webp",sCe=S_;function aCe(n,e){const t=new _c(n);if(!function iCe(n){return void 0===wP[n]&&(wP[n]=function rCe(n){switch(n){case"image/webp":return function oCe(){if(!yS)return!1;try{return 0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch{return!1}}();case"image/svg":return yS;default:if(!yS){const{_parseImageNode:e}=globalThis;return!!e&&nCe.includes(n)}return!0}}(n)),wP[n]}("image/webp")){if(t.getRequiredExtensions().includes(S_))throw new Error("gltf: Required extension ".concat(S_," not supported by browser"));return}const{json:i}=t;for(const r of i.textures||[]){const o=t.getObjectExtension(r,S_);o&&(r.source=o.source),t.removeObjectExtension(r,S_)}t.removeExtension(S_)}const xS="KHR_texture_basisu",cCe=xS;function lCe(n,e){const t=new _c(n),{json:i}=t;for(const r of i.textures||[]){const o=t.getObjectExtension(r,xS);o&&(r.source=o.source),t.removeObjectExtension(r,xS)}t.removeExtension(xS)}const x7={name:"Draco",id:"draco",module:"draco",shapes:["mesh"],version:"3.2.13",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};class ES{constructor(e,t,i=!1,r=new Map){Me(this,"name",void 0),Me(this,"type",void 0),Me(this,"nullable",void 0),Me(this,"metadata",void 0),this.name=e,this.type=t,this.nullable=i,this.metadata=r}get typeId(){return this.type&&this.type.typeId}clone(){return new ES(this.name,this.type,this.nullable,this.metadata)}compareTo(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}toString(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}let lr,E7,C7,S7,A7,M7,T7,I7,D7;!function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"}(lr||(lr={}));class vp{static isNull(e){return e&&e.typeId===lr.Null}static isInt(e){return e&&e.typeId===lr.Int}static isFloat(e){return e&&e.typeId===lr.Float}static isBinary(e){return e&&e.typeId===lr.Binary}static isUtf8(e){return e&&e.typeId===lr.Utf8}static isBool(e){return e&&e.typeId===lr.Bool}static isDecimal(e){return e&&e.typeId===lr.Decimal}static isDate(e){return e&&e.typeId===lr.Date}static isTime(e){return e&&e.typeId===lr.Time}static isTimestamp(e){return e&&e.typeId===lr.Timestamp}static isInterval(e){return e&&e.typeId===lr.Interval}static isList(e){return e&&e.typeId===lr.List}static isStruct(e){return e&&e.typeId===lr.Struct}static isUnion(e){return e&&e.typeId===lr.Union}static isFixedSizeBinary(e){return e&&e.typeId===lr.FixedSizeBinary}static isFixedSizeList(e){return e&&e.typeId===lr.FixedSizeList}static isMap(e){return e&&e.typeId===lr.Map}static isDictionary(e){return e&&e.typeId===lr.Dictionary}get typeId(){return lr.NONE}compareTo(e){return this===e}}Symbol,Symbol,E7=Symbol.toStringTag;class A_ extends vp{constructor(e,t){super(),Me(this,"isSigned",void 0),Me(this,"bitWidth",void 0),this.isSigned=e,this.bitWidth=t}get typeId(){return lr.Int}get[E7](){return"Int"}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}class uCe extends A_{constructor(){super(!0,8)}}class hCe extends A_{constructor(){super(!0,16)}}class fCe extends A_{constructor(){super(!0,32)}}class pCe extends A_{constructor(){super(!1,8)}}class mCe extends A_{constructor(){super(!1,16)}}class gCe extends A_{constructor(){super(!1,32)}}C7=Symbol.toStringTag;class O7 extends vp{constructor(e){super(),Me(this,"precision",void 0),this.precision=e}get typeId(){return lr.Float}get[C7](){return"Float"}toString(){return"Float".concat(this.precision)}}class _Ce extends O7{constructor(){super(32)}}class bCe extends O7{constructor(){super(64)}}Symbol,Symbol,S7=Symbol.toStringTag,A7=Symbol.toStringTag,M7=Symbol.toStringTag,T7=Symbol.toStringTag,I7=Symbol.toStringTag;class yCe extends vp{constructor(e,t){super(),Me(this,"listSize",void 0),Me(this,"children",void 0),this.listSize=e,this.children=[t]}get typeId(){return lr.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[I7](){return"FixedSizeList"}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}D7=Symbol.toStringTag;class M_{constructor(e,t){Me(this,"fields",void 0),Me(this,"metadata",void 0),function ECe(n,e){if(!n)throw new Error(e||"loader assertion failed.")}(Array.isArray(e)),function CCe(n){const e={};for(const t of n)e[t.name]&&console.warn("Schema: duplicated field name",t.name,t),e[t.name]=!0}(e),this.fields=e,this.metadata=t||new Map}compareTo(e){if(this.metadata!==e.metadata||this.fields.length!==e.fields.length)return!1;for(let t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}select(...e){const t=Object.create(null);for(const r of e)t[r]=!0;const i=this.fields.filter(r=>t[r.name]);return new M_(i,this.metadata)}selectAt(...e){const t=e.map(i=>this.fields[i]).filter(Boolean);return new M_(t,this.metadata)}assign(e){let t,i=this.metadata;if(e instanceof M_){const s=e;t=s.fields,i=R7(R7(new Map,this.metadata),s.metadata)}else t=e;const r=Object.create(null);for(const s of this.fields)r[s.name]=s;for(const s of t)r[s.name]=s;const o=Object.values(r);return new M_(o,i)}}function R7(n,e){return new Map([...n||new Map,...e||new Map])}function P7(n,e,t){return function k7(n,e,t){const i=function vCe(n){switch(n.constructor){case Int8Array:return new uCe;case Uint8Array:return new pCe;case Int16Array:return new hCe;case Uint16Array:return new mCe;case Int32Array:return new fCe;case Uint32Array:return new gCe;case Float32Array:return new _Ce;case Float64Array:return new bCe;default:throw new Error("array type not supported")}}(e.value),r=t||function xCe(n){const e=new Map;return"byteOffset"in n&&e.set("byteOffset",n.byteOffset.toString(10)),"byteStride"in n&&e.set("byteStride",n.byteStride.toString(10)),"normalized"in n&&e.set("normalized",n.normalized.toString()),e}(e);return new ES(n,new yCe(e.size,new ES("value",i)),!1,r)}(n,e,t?N7(t.metadata):void 0)}function N7(n){const e=new Map;for(const t in n)e.set("".concat(t,".string"),JSON.stringify(n[t]));return e}const F7={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},MCe={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array};class ICe{constructor(e){Me(this,"draco",void 0),Me(this,"decoder",void 0),Me(this,"metadataQuerier",void 0),this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e,t={}){const i=new this.draco.DecoderBuffer;i.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);const r=this.decoder.GetEncodedGeometryType(i),o=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let s;switch(r){case this.draco.TRIANGULAR_MESH:s=this.decoder.DecodeBufferToMesh(i,o);break;case this.draco.POINT_CLOUD:s=this.decoder.DecodeBufferToPointCloud(i,o);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!s.ok()||!o.ptr){const p="DRACO decompression failed: ".concat(s.error_msg());throw new Error(p)}const a=this._getDracoLoaderData(o,r,t),c=this._getMeshData(o,a,t),l=function dCe(n){let e=1/0,t=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;const a=n.POSITION?n.POSITION.value:[],c=a&&a.length;for(let l=0;l<c;l+=3){const d=a[l],h=a[l+1],p=a[l+2];e=d<e?d:e,t=h<t?h:t,i=p<i?p:i,r=d>r?d:r,o=h>o?h:o,s=p>s?p:s}return[[e,t,i],[r,o,s]]}(c.attributes),d=function SCe(n,e,t){const i=N7(e.metadata),r=[],o=function ACe(n){const e={};for(const t in n){const i=n[t];e[i.name||"undefined"]=i}return e}(e.attributes);for(const s in n){const c=P7(s,n[s],o[s]);r.push(c)}if(t){const s=P7("indices",t);r.push(s)}return new M_(r,i)}(c.attributes,a,c.indices);return{loader:"draco",loaderData:a,header:{vertexCount:o.num_points(),boundingBox:l},...c,schema:d}}finally{this.draco.destroy(i),o&&this.draco.destroy(o)}}_getDracoLoaderData(e,t,i){const r=this._getTopLevelMetadata(e),o=this._getDracoAttributes(e,i);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:r,attributes:o}}_getDracoAttributes(e,t){const i={};for(let r=0;r<e.num_attributes();r++){const o=this.decoder.GetAttribute(e,r),s=this._getAttributeMetadata(e,r);i[o.unique_id()]={unique_id:o.unique_id(),attribute_type:o.attribute_type(),data_type:o.data_type(),num_components:o.num_components(),byte_offset:o.byte_offset(),byte_stride:o.byte_stride(),normalized:o.normalized(),attribute_index:r,metadata:s};const a=this._getQuantizationTransform(o,t);a&&(i[o.unique_id()].quantization_transform=a);const c=this._getOctahedronTransform(o,t);c&&(i[o.unique_id()].octahedron_transform=c)}return i}_getMeshData(e,t,i){const r=this._getMeshAttributes(t,e,i);if(!r.POSITION)throw new Error("DRACO: No position attribute found.");return e instanceof this.draco.Mesh?"triangle-strip"===i.topology?{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(e),size:1}}:{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(e),size:1}}:{topology:"point-list",mode:0,attributes:r}}_getMeshAttributes(e,t,i){const r={};for(const o of Object.values(e.attributes)){const s=this._deduceAttributeName(o,i);o.name=s;const{value:a,size:c}=this._getAttributeValues(t,o);r[s]={value:a,size:c,byteOffset:o.byte_offset,byteStride:o.byte_stride,normalized:o.normalized}}return r}_getTriangleListIndices(e){const i=3*e.num_faces(),r=4*i,o=this.draco._malloc(r);try{return this.decoder.GetTrianglesUInt32Array(e,r,o),new Uint32Array(this.draco.HEAPF32.buffer,o,i).slice()}finally{this.draco._free(o)}}_getTriangleStripIndices(e){const t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),function kCe(n){const e=n.size(),t=new Int32Array(e);for(let i=0;i<e;i++)t[i]=n.GetValue(i);return t}(t)}finally{this.draco.destroy(t)}}_getAttributeValues(e,t){const i=MCe[t.data_type],r=t.num_components,s=e.num_points()*r,a=s*i.BYTES_PER_ELEMENT,c=function DCe(n,e){switch(e){case Float32Array:return n.DT_FLOAT32;case Int8Array:return n.DT_INT8;case Int16Array:return n.DT_INT16;case Int32Array:return n.DT_INT32;case Uint8Array:return n.DT_UINT8;case Uint16Array:return n.DT_UINT16;case Uint32Array:return n.DT_UINT32;default:return n.DT_INVALID}}(this.draco,i);let l;const d=this.draco._malloc(a);try{const h=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,h,c,a,d),l=new i(this.draco.HEAPF32.buffer,d,s).slice()}finally{this.draco._free(d)}return{value:l,size:r}}_deduceAttributeName(e,t){const i=e.unique_id;for(const[s,a]of Object.entries(t.extraAttributes||{}))if(a===i)return s;const r=e.attribute_type;for(const s in F7)if(this.draco[s]===r)return F7[s];const o=t.attributeNameEntry||"name";return e.metadata[o]?e.metadata[o].string:"CUSTOM_ATTRIBUTE_".concat(i)}_getTopLevelMetadata(e){const t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}_getAttributeMetadata(e,t){const i=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(i)}_getDracoMetadata(e){if(!e||!e.ptr)return{};const t={},i=this.metadataQuerier.NumEntries(e);for(let r=0;r<i;r++){const o=this.metadataQuerier.GetEntryName(e,r);t[o]=this._getDracoMetadataField(e,o)}return t}_getDracoMetadataField(e,t){const i=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,i);const r=function OCe(n){const e=n.size(),t=new Int32Array(e);for(let i=0;i<e;i++)t[i]=n.GetValue(i);return t}(i);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:r}}finally{this.draco.destroy(i)}}_disableAttributeTransforms(e){const{quantizedAttributes:t=[],octahedronAttributes:i=[]}=e,r=[...t,...i];for(const o of r)this.decoder.SkipAttributeTransform(this.draco[o])}_getQuantizationTransform(e,t){const{quantizedAttributes:i=[]}=t,r=e.attribute_type();if(i.map(s=>this.decoder[s]).includes(r)){const s=new this.draco.AttributeQuantizationTransform;try{if(s.InitFromAttribute(e))return{quantization_bits:s.quantization_bits(),range:s.range(),min_values:new Float32Array([1,2,3]).map(a=>s.min_value(a))}}finally{this.draco.destroy(s)}}return null}_getOctahedronTransform(e,t){const{octahedronAttributes:i=[]}=t,r=e.attribute_type();if(i.map(s=>this.decoder[s]).includes(r)){const s=new this.draco.AttributeQuantizationTransform;try{if(s.InitFromAttribute(e))return{quantization_bits:s.quantization_bits()}}finally{this.draco.destroy(s)}}return null}}const CS="1.4.1",RCe="https://www.gstatic.com/draco/versioned/decoders/".concat(CS,"/draco_decoder.js"),PCe="https://www.gstatic.com/draco/versioned/decoders/".concat(CS,"/draco_wasm_wrapper.js"),NCe="https://www.gstatic.com/draco/versioned/decoders/".concat(CS,"/draco_decoder.wasm");let j0;function SP(){return SP=_n(function*(n){const e=n.modules||{};return j0=e.draco3d?j0||e.draco3d.createDecoderModule({}).then(t=>({draco:t})):j0||function BCe(n){return MP.apply(this,arguments)}(n),yield j0}),SP.apply(this,arguments)}function MP(){return MP=_n(function*(n){let e,t;return"js"===(n.draco&&n.draco.decoderType)?e=yield bp(RCe,"draco",n):[e,t]=yield Promise.all([yield bp(PCe,"draco",n),yield bp(NCe,"draco",n)]),e=e||globalThis.DracoDecoderModule,yield function UCe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n({...t,onModuleLoaded:r=>i({draco:r})})})}(e,t)}),MP.apply(this,arguments)}"https://raw.githubusercontent.com/google/draco/".concat(CS,"/javascript/draco_encoder.js");const IP={...x7,parse:function VCe(n,e){return DP.apply(this,arguments)}};function DP(){return DP=_n(function*(n,e){const{draco:t}=yield function LCe(n){return SP.apply(this,arguments)}(e),i=new ICe(t);try{return i.parseSync(n,e?.draco)}finally{i.destroy()}}),DP.apply(this,arguments)}function L7(n){const{buffer:e,size:t,count:i}=function HCe(n){let e=n,t=1,i=0;return n&&n.value&&(e=n.value,t=n.size||1),e&&(ArrayBuffer.isView(e)||(e=function GCe(n,e,t=!1){return n?Array.isArray(n)?new e(n):!t||n instanceof e?n:new e(n):null}(e,Float32Array)),i=e.length/t),{buffer:e,size:t,count:i}}(n);return{value:e,size:t,byteOffset:0,count:i,type:_7(t),componentType:b7(e)}}const wp="KHR_draco_mesh_compression",WCe=wp;function $Ce(n,e,t){const i=new _c(n);for(const r of B7(i))i.getObjectExtension(r,wp)}function YCe(n,e,t){return OP.apply(this,arguments)}function OP(){return OP=_n(function*(n,e,t){var i;if(null==e||null===(i=e.gltf)||void 0===i||!i.decompressMeshes)return;const r=new _c(n),o=[];for(const s of B7(r))r.getObjectExtension(s,wp)&&o.push(KCe(r,s,e,t));yield Promise.all(o),r.removeExtension(wp)}),OP.apply(this,arguments)}function XCe(n,e={}){const t=new _c(n);for(const i of t.json.meshes||[])qCe(i),t.addRequiredExtension(wp)}function KCe(n,e,t,i){return kP.apply(this,arguments)}function kP(){return kP=_n(function*(n,e,t,i){const r=n.getObjectExtension(e,wp);if(!r)return;const o=n.getTypedArrayForBufferView(r.bufferView),s=f7(o.buffer,o.byteOffset),{parse:a}=i,c={...t};delete c["3d-tiles"];const l=yield a(s,IP,c,i),d=function zCe(n){const e={};for(const t in n)if("indices"!==t){const r=L7(n[t]);e[t]=r}return e}(l.attributes);for(const[h,p]of Object.entries(d))if(h in e.attributes){const w=n.getAccessor(e.attributes[h]);null!=w&&w.min&&null!=w&&w.max&&(p.min=w.min,p.max=w.max)}e.attributes=d,l.indices&&(e.indices=L7(l.indices)),function JCe(n){if(!n.attributes&&Object.keys(n.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(e)}),kP.apply(this,arguments)}function qCe(n,e,t=4,i,r){var o;if(!i.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const s=i.DracoWriter.encodeSync({attributes:n}),a=null==r||null===(o=r.parseSync)||void 0===o?void 0:o.call(r,{attributes:n}),c=i._addFauxAttributes(a.attributes),l=i.addBufferView(s);return{primitives:[{attributes:c,mode:t,extensions:{[wp]:{bufferView:l,attributes:c}}}]}}function*B7(n){for(const e of n.json.meshes||[])for(const t of e.primitives)yield t}const xp="KHR_lights_punctual",ZCe=xp;function QCe(n){return RP.apply(this,arguments)}function RP(){return RP=_n(function*(n){const e=new _c(n),{json:t}=e,i=e.getExtension(xp);i&&(e.json.lights=i.lights,e.removeExtension(xp));for(const r of t.nodes||[]){const o=e.getObjectExtension(r,xp);o&&(r.light=o.light),e.removeObjectExtension(r,xp)}}),RP.apply(this,arguments)}function eSe(n){return PP.apply(this,arguments)}function PP(){return PP=_n(function*(n){const e=new _c(n),{json:t}=e;if(t.lights){const i=e.addExtension(xp);Wa(!i.lights),i.lights=t.lights,delete t.lights}if(e.json.lights){for(const i of e.json.lights)e.addObjectExtension(i.node,xp,i);delete e.json.lights}}),PP.apply(this,arguments)}const z0="KHR_materials_unlit",tSe=z0;function nSe(n){return NP.apply(this,arguments)}function NP(){return NP=_n(function*(n){const e=new _c(n),{json:t}=e;e.removeExtension(z0);for(const i of t.materials||[])i.extensions&&i.extensions.KHR_materials_unlit&&(i.unlit=!0),e.removeObjectExtension(i,z0)}),NP.apply(this,arguments)}function iSe(n){const e=new _c(n),{json:t}=e;if(e.materials)for(const i of t.materials||[])i.unlit&&(delete i.unlit,e.addObjectExtension(i,z0,{}),e.addExtension(z0))}const H0="KHR_techniques_webgl",rSe=H0;function oSe(n){return FP.apply(this,arguments)}function FP(){return FP=_n(function*(n){const e=new _c(n),{json:t}=e,i=e.getExtension(H0);if(i){const r=function aSe(n,e){const{programs:t=[],shaders:i=[],techniques:r=[]}=n,o=new TextDecoder;return i.forEach(s=>{if(!Number.isFinite(s.bufferView))throw new Error("KHR_techniques_webgl: no shader code");s.code=o.decode(e.getTypedArrayForBufferView(s.bufferView))}),t.forEach(s=>{s.fragmentShader=i[s.fragmentShader],s.vertexShader=i[s.vertexShader]}),r.forEach(s=>{s.program=t[s.program]}),r}(i,e);for(const o of t.materials||[]){const s=e.getObjectExtension(o,H0);s&&(o.technique=Object.assign({},s,r[s.technique]),o.technique.values=cSe(o.technique,e)),e.removeObjectExtension(o,H0)}e.removeExtension(H0)}}),FP.apply(this,arguments)}function sSe(n,e){return LP.apply(this,arguments)}function LP(){return(LP=_n(function*(n,e){})).apply(this,arguments)}function cSe(n,e){const t=Object.assign({},n.values);return Object.keys(n.uniforms||{}).forEach(i=>{n.uniforms[i].value&&!(i in t)&&(t[i]=n.uniforms[i].value)}),Object.keys(t).forEach(i=>{"object"==typeof t[i]&&void 0!==t[i].index&&(t[i].texture=e.getTexture(t[i].index))}),t}const U7=[A,b,R,S,P,g,y];function BP(){return BP=_n(function*(n,e={},t){const i=U7.filter(o=>j7(o.name,e));for(const o of i){var r;yield null===(r=o.decode)||void 0===r?void 0:r.call(o,n,e,t)}}),BP.apply(this,arguments)}function j7(n,e){var t;const i=(null==e||null===(t=e.gltf)||void 0===t?void 0:t.excludeExtensions)||{};return!(n in i&&!i[n])}const UP="KHR_binary_glTF",V7={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},hSe={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class fSe{constructor(){Me(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),Me(this,"json",void 0)}normalize(e,t){this.json=e.json;const i=e.json;switch(i.asset&&i.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(i.asset.version))}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(i),this._convertTopLevelObjectsToArrays(i),function uSe(n){const e=new _c(n),{json:t}=e;for(const i of t.images||[]){const r=e.getObjectExtension(i,UP);r&&Object.assign(i,r),e.removeObjectExtension(i,UP)}t.buffers&&t.buffers[0]&&delete t.buffers[0].uri,e.removeExtension(UP)}(e),this._convertObjectIdsToArrayIndices(i),this._updateObjects(i),this._updateMaterial(i)}_addAsset(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(e){for(const t in V7)this._convertTopLevelObjectToArray(e,t)}_convertTopLevelObjectToArray(e,t){const i=e[t];if(i&&!Array.isArray(i)){e[t]=[];for(const r in i){const o=i[r];o.id=o.id||r;const s=e[t].length;e[t].push(o),this.idToIndexMap[t][r]=s}}}_convertObjectIdsToArrayIndices(e){for(const t in V7)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));for(const t of e.textures)this._convertTextureIds(t);for(const t of e.meshes)this._convertMeshIds(t);for(const t of e.nodes)this._convertNodeIds(t);for(const t of e.scenes)this._convertSceneIds(t)}_convertTextureIds(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}_convertMeshIds(e){for(const t of e.primitives){const{attributes:i,indices:r,material:o}=t;for(const s in i)i[s]=this._convertIdToIndex(i[s],"accessor");r&&(t.indices=this._convertIdToIndex(r,"accessor")),o&&(t.material=this._convertIdToIndex(o,"material"))}}_convertNodeIds(e){e.children&&(e.children=e.children.map(t=>this._convertIdToIndex(t,"node"))),e.meshes&&(e.meshes=e.meshes.map(t=>this._convertIdToIndex(t,"mesh")))}_convertSceneIds(e){e.nodes&&(e.nodes=e.nodes.map(t=>this._convertIdToIndex(t,"node")))}_convertIdsToIndices(e,t){e[t]||(console.warn("gltf v1: json doesn't contain attribute ".concat(t)),e[t]=[]);for(const i of e[t])for(const r in i){const s=this._convertIdToIndex(i[r],r);i[r]=s}}_convertIdToIndex(e,t){const i=hSe[t];if(i in this.idToIndexMap){const r=this.idToIndexMap[i][e];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return r}return e}_updateObjects(e){for(const t of this.json.buffers)delete t.type}_updateMaterial(e){for(const o of e.materials){var t,i,r;o.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const s=(null===(t=o.values)||void 0===t?void 0:t.tex)||(null===(i=o.values)||void 0===i?void 0:i.texture2d_0)||(null===(r=o.values)||void 0===r?void 0:r.diffuseTex),a=e.textures.findIndex(c=>c.id===s);-1!==a&&(o.pbrMetallicRoughness.baseColorTexture={index:a})}}}const mSe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},gSe={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},_Se={magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243},bSe={10240:9729,10241:9986,10242:10497,10243:10497};class wSe{constructor(){Me(this,"baseUri",""),Me(this,"json",{}),Me(this,"buffers",[]),Me(this,"images",[])}postProcess(e,t={}){const{json:i,buffers:r=[],images:o=[],baseUri:s=""}=e;return Wa(i),this.baseUri=s,this.json=i,this.buffers=r,this.images=o,this._resolveTree(this.json,t),this.json}_resolveTree(e,t={}){e.bufferViews&&(e.bufferViews=e.bufferViews.map((i,r)=>this._resolveBufferView(i,r))),e.images&&(e.images=e.images.map((i,r)=>this._resolveImage(i,r))),e.samplers&&(e.samplers=e.samplers.map((i,r)=>this._resolveSampler(i,r))),e.textures&&(e.textures=e.textures.map((i,r)=>this._resolveTexture(i,r))),e.accessors&&(e.accessors=e.accessors.map((i,r)=>this._resolveAccessor(i,r))),e.materials&&(e.materials=e.materials.map((i,r)=>this._resolveMaterial(i,r))),e.meshes&&(e.meshes=e.meshes.map((i,r)=>this._resolveMesh(i,r))),e.nodes&&(e.nodes=e.nodes.map((i,r)=>this._resolveNode(i,r))),e.skins&&(e.skins=e.skins.map((i,r)=>this._resolveSkin(i,r))),e.scenes&&(e.scenes=e.scenes.map((i,r)=>this._resolveScene(i,r))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}getScene(e){return this._get("scenes",e)}getNode(e){return this._get("nodes",e)}getSkin(e){return this._get("skins",e)}getMesh(e){return this._get("meshes",e)}getMaterial(e){return this._get("materials",e)}getAccessor(e){return this._get("accessors",e)}getCamera(e){return null}getTexture(e){return this._get("textures",e)}getSampler(e){return this._get("samplers",e)}getImage(e){return this._get("images",e)}getBufferView(e){return this._get("bufferViews",e)}getBuffer(e){return this._get("buffers",e)}_get(e,t){if("object"==typeof t)return t;const i=this.json[e]&&this.json[e][t];return i||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),i}_resolveScene(e,t){return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map(i=>this.getNode(i)),e}_resolveNode(e,t){return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map(i=>this.getNode(i))),void 0!==e.mesh?e.mesh=this.getMesh(e.mesh):void 0!==e.meshes&&e.meshes.length&&(e.mesh=e.meshes.reduce((i,r)=>{const o=this.getMesh(r);return i.id=o.id,i.primitives=i.primitives.concat(o.primitives),i},{primitives:[]})),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}_resolveSkin(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}_resolveMesh(e,t){return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map(i=>{const r=(i={...i}).attributes;i.attributes={};for(const o in r)i.attributes[o]=this.getAccessor(r[o]);return void 0!==i.indices&&(i.indices=this.getAccessor(i.indices)),void 0!==i.material&&(i.material=this.getMaterial(i.material)),i})),e}_resolveMaterial(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture={...e.normalTexture},e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture={...e.occlustionTexture},e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture={...e.emmisiveTexture},e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.emissiveFactor||(e.emissiveFactor=e.emmisiveTexture?[1,1,1]:[0,0,0]),e.pbrMetallicRoughness){e.pbrMetallicRoughness={...e.pbrMetallicRoughness};const i=e.pbrMetallicRoughness;i.baseColorTexture&&(i.baseColorTexture={...i.baseColorTexture},i.baseColorTexture.texture=this.getTexture(i.baseColorTexture.index)),i.metallicRoughnessTexture&&(i.metallicRoughnessTexture={...i.metallicRoughnessTexture},i.metallicRoughnessTexture.texture=this.getTexture(i.metallicRoughnessTexture.index))}return e}_resolveAccessor(e,t){if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=function ySe(n){return gSe[n]}(e.componentType),e.components=function vSe(n){return mSe[n]}(e.type),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){const i=e.bufferView.buffer,{ArrayType:r,byteLength:o}=y7(e,e.bufferView),s=(e.bufferView.byteOffset||0)+(e.byteOffset||0)+i.byteOffset;let a=i.arrayBuffer.slice(s,s+o);e.bufferView.byteStride&&(a=this._getValueFromInterleavedBuffer(i,s,e.bufferView.byteStride,e.bytesPerElement,e.count)),e.value=new r(a)}return e}_getValueFromInterleavedBuffer(e,t,i,r,o){const s=new Uint8Array(o*r);for(let a=0;a<o;a++){const c=t+a*i;s.set(new Uint8Array(e.arrayBuffer.slice(c,c+r)),a*r)}return s.buffer}_resolveTexture(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):bSe,e.source=this.getImage(e.source),e}_resolveSampler(e,t){e.id=e.id||"sampler-".concat(t),e.parameters={};for(const i in e){const r=this._enumSamplerParameter(i);void 0!==r&&(e.parameters[r]=e[i])}return e}_enumSamplerParameter(e){return _Se[e]}_resolveImage(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));const i=this.images[t];return i&&(e.image=i),e}_resolveBufferView(e,t){const i=e.buffer,r={id:"bufferView-".concat(t),...e,buffer:this.buffers[i]};let s=this.buffers[i].byteOffset||0;return"byteOffset"in e&&(s+=e.byteOffset),r.data=new Uint8Array(this.buffers[i].arrayBuffer,s,e.byteLength),r}_resolveCamera(e,t){return e.id=e.id||"camera-".concat(t),e}}const z7=1735152710,jP=12,SS=8,ESe=1313821514,CSe=5130562,SSe=0,ASe=1,MSe=0,T_=!0;function VP(n,e,t,i){const r=new Uint8Array(e.buffer,t,i),s=new TextDecoder("utf8").decode(r);return n.json=JSON.parse(s),U0(i,4)}function zP(n,e,t,i){return n.header.hasBinChunk=!0,n.binChunks.push({byteOffset:t,byteLength:i,arrayBuffer:e.buffer}),U0(i,4)}function HP(){return HP=_n(function*(n,e,t=0,i,r){var o,s,a,c;(function NSe(n,e,t,i){if(i.uri&&(n.baseUri=i.uri),e instanceof ArrayBuffer&&!function ISe(n,e=0,t={}){const i=new DataView(n),{magic:r=z7}=t,o=i.getUint32(e,!1);return o===r||o===z7}(e,t,i)&&(e=(new TextDecoder).decode(e)),"string"==typeof e)n.json=function FEe(n){try{return JSON.parse(n)}catch{throw new Error('Failed to parse JSON from data starting with "'.concat(function NEe(n,e=5){return"string"==typeof n?n.slice(0,e):ArrayBuffer.isView(n)?h7(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?h7(n,0,e):""}(n),'"'))}}(e);else if(e instanceof ArrayBuffer){const s={};t=function DSe(n,e,t=0,i={}){const r=new DataView(e),o=function TSe(n,e=0){return"".concat(String.fromCharCode(n.getUint8(e+0))).concat(String.fromCharCode(n.getUint8(e+1))).concat(String.fromCharCode(n.getUint8(e+2))).concat(String.fromCharCode(n.getUint8(e+3)))}(r,t+0),s=r.getUint32(t+4,T_),a=r.getUint32(t+8,T_);switch(Object.assign(n,{header:{byteOffset:t,byteLength:a,hasBinChunk:!1},type:o,version:s,json:{},binChunks:[]}),t+=jP,n.version){case 1:return function OSe(n,e,t){yp(n.header.byteLength>jP+SS);const i=e.getUint32(t+0,T_),r=e.getUint32(t+4,T_);return t+=SS,yp(r===MSe),VP(n,e,t,i),(t+=i)+zP(n,e,t,n.header.byteLength)}(n,r,t);case 2:return function kSe(n,e,t,i){return yp(n.header.byteLength>jP+SS),function RSe(n,e,t,i){for(;t+8<=n.header.byteLength;){const r=e.getUint32(t+0,T_),o=e.getUint32(t+4,T_);switch(t+=SS,o){case ESe:VP(n,e,t,r);break;case CSe:zP(n,e,t,r);break;case SSe:i.strict||VP(n,e,t,r);break;case ASe:i.strict||zP(n,e,t,r)}t+=U0(r,4)}}(n,e,t,i),t+n.header.byteLength}(n,r,t,{});default:throw new Error("Invalid GLB version ".concat(n.version,". Only supports v1 and v2."))}}(s,e,t,i.glb),Wa("glTF"===s.type,"Invalid GLB magic string ".concat(s.type)),n._glb=s,n.json=s.json}else Wa(!1,"GLTF: must be ArrayBuffer or string");if(n.buffers=new Array((n.json.buffers||[]).length).fill(null),n._glb&&n._glb.header.hasBinChunk){const{binChunks:s}=n._glb;n.buffers[0]={arrayBuffer:s[0].arrayBuffer,byteOffset:s[0].byteOffset,byteLength:s[0].byteLength}}n.images=new Array((n.json.images||[]).length).fill({})})(n,e,t,i),function pSe(n,e={}){(new fSe).normalize(n,e)}(n,{normalize:null==i||null===(o=i.gltf)||void 0===o?void 0:o.normalize}),function lSe(n,e={},t){const i=U7.filter(o=>j7(o.name,e));for(const o of i){var r;null===(r=o.preprocess)||void 0===r||r.call(o,n,e,t)}}(n,i,r);const l=[];if(null!=i&&null!==(s=i.gltf)&&void 0!==s&&s.loadBuffers&&n.json.buffers&&(yield function FSe(n,e,t){return GP.apply(this,arguments)}(n,i,r)),null!=i&&null!==(a=i.gltf)&&void 0!==a&&a.loadImages){const h=function LSe(n,e,t){return WP.apply(this,arguments)}(n,i,r);l.push(h)}const d=function dSe(n){return BP.apply(this,arguments)}(n,i,r);return l.push(d),yield Promise.all(l),null!=i&&null!==(c=i.gltf)&&void 0!==c&&c.postProcess?function xSe(n,e){return(new wSe).postProcess(n,e)}(n,i):n}),HP.apply(this,arguments)}function GP(){return GP=_n(function*(n,e,t){const i=n.json.buffers||[];for(let s=0;s<i.length;++s){const a=i[s];if(a.uri){var r,o;const{fetch:c}=t;Wa(c);const l=p7(a.uri,e),d=yield null==t||null===(r=t.fetch)||void 0===r?void 0:r.call(t,l),h=yield null==d||null===(o=d.arrayBuffer)||void 0===o?void 0:o.call(d);n.buffers[s]={arrayBuffer:h,byteOffset:0,byteLength:h.byteLength},delete a.uri}else null===n.buffers[s]&&(n.buffers[s]={arrayBuffer:new ArrayBuffer(a.byteLength),byteOffset:0,byteLength:a.byteLength})}}),GP.apply(this,arguments)}function WP(){return WP=_n(function*(n,e,t){const i=function BSe(n){const e=new Set,t=n.json.textures||[];for(const i of t)void 0!==i.source&&e.add(i.source);return Array.from(e).sort()}(n),r=n.json.images||[],o=[];for(const s of i)o.push(USe(n,r[s],s,e,t));return yield Promise.all(o)}),WP.apply(this,arguments)}function USe(n,e,t,i,r){return $P.apply(this,arguments)}function $P(){return $P=_n(function*(n,e,t,i,r){const{fetch:o,parse:s}=r;let a;if(e.uri&&!e.hasOwnProperty("bufferView")){const l=p7(e.uri,i);a=yield(yield o(l)).arrayBuffer()}if(Number.isFinite(e.bufferView)){const l=function m7(n,e,t){const i=n.bufferViews[t];Wa(i);const o=e[i.buffer];return Wa(o),new Uint8Array(o.arrayBuffer,(i.byteOffset||0)+o.byteOffset,i.byteLength)}(n.json,n.buffers,e.bufferView);a=f7(l.buffer,l.byteOffset,l.byteLength)}Wa(a,"glTF image has no data");let c=yield s(a,[PEe,fEe],{mimeType:e.mimeType,basis:i.basis||{format:r7()}},r);c&&c[0]&&(c={compressed:!0,mipmaps:!1,width:c[0].width,height:c[0].height,data:c[0]}),n.images=n.images||[],n.images[t]=c}),$P.apply(this,arguments)}const I_={name:"glTF",id:"gltf",module:"gltf",version:"3.2.13",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function jSe(n){return YP.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};function YP(){return YP=_n(function*(n,e={},t){(e={...I_.options,...e}).gltf={...I_.options.gltf,...e.gltf};const{byteOffset:i=0}=e;return yield function PSe(n,e){return HP.apply(this,arguments)}({},n,i,e,t)}),YP.apply(this,arguments)}function XP(){return XP=_n(function*(n){const e=[];return n.scenes.forEach(t=>{t.traverse(i=>{Object.values(i.model.getUniforms()).forEach(r=>{!1===r.loaded&&e.push(r)})})}),yield function zSe(n){return KP.apply(this,arguments)}(()=>e.some(t=>!t.loaded))}),XP.apply(this,arguments)}function KP(){return KP=_n(function*(n){for(;n();)yield new Promise(e=>requestAnimationFrame(e))}),KP.apply(this,arguments)}const H7=[255,255,255,255],WSe={scenegraph:{type:"object",value:null,async:!0},getScene:n=>n&&n.scenes?"object"==typeof n.scene?n.scene:n.scenes[n.scene||0]:n,getAnimator:n=>n&&n.animator,_animations:null,sizeScale:{type:"number",value:1,min:0},sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:H7},_lighting:"flat",_imageBasedLightingEnvironment:null,getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},loaders:[I_]};class qP extends mp{constructor(...e){super(...e),Me(this,"state",void 0)}getShaders(){const e=[lS,dS];return"pbr"===this.props._lighting&&e.push(F9),{vs:"#version 300 es\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Uniforms\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform mat4 sceneModelMatrix;\nuniform bool composeModelMatrix;\n\n// Attributes\nin vec4 POSITION;\n\n#ifdef HAS_UV\n  in vec2 TEXCOORD_0;\n#endif\n\n#ifdef MODULE_PBR\n  #ifdef HAS_NORMALS\n    in vec4 NORMAL;\n  #endif\n#endif\n\n// Varying\nout vec4 vColor;\n\n// MODULE_PBR contains all the varying definitions needed\n#ifndef MODULE_PBR\n  #ifdef HAS_UV\n    out vec2 vTEXCOORD_0;\n  #endif\n#endif\n\n// Main\nvoid main(void) {\n  #if defined(HAS_UV) && !defined(MODULE_PBR)\n    vTEXCOORD_0 = TEXCOORD_0;\n    geometry.uv = vTEXCOORD_0;\n  #endif\n\n  geometry.worldPosition = instancePositions;\n  geometry.pickingColor = instancePickingColors;\n\n  vec3 normal = vec3(0.0, 0.0, 1.0);\n  #ifdef MODULE_PBR\n    #ifdef HAS_NORMALS\n      normal = instanceModelMatrix * (sceneModelMatrix * vec4(NORMAL.xyz, 0.0)).xyz;\n    #endif\n  #endif\n\n  float originalSize = project_size_to_pixel(sizeScale);\n  float clampedSize = clamp(originalSize, sizeMinPixels, sizeMaxPixels);\n\n  vec3 pos = (instanceModelMatrix * (sceneModelMatrix * POSITION).xyz) * sizeScale * (clampedSize / originalSize) + instanceTranslation;\n  if(composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    geometry.normal = project_normal(normal);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);\n    geometry.normal = project_normal(normal);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    // set PBR data\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = TEXCOORD_0;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n\n// Uniforms\nuniform float opacity;\n\n// Varying\nin vec4 vColor;\n\nout vec4 fragmentColor;\n\n// MODULE_PBR contains all the varying definitions needed\n#ifndef MODULE_PBR\n  #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n    in vec2 vTEXCOORD_0;\n    uniform sampler2D u_BaseColorSampler;\n  #endif\n#endif\n\nvoid main(void) {\n  #ifdef MODULE_PBR\n    fragmentColor = vColor * pbr_filterColor(vec4(0));\n    geometry.uv = pbr_vUV;\n  #else\n    #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n      fragmentColor = vColor * texture2D(u_BaseColorSampler, vTEXCOORD_0);\n      geometry.uv = vTEXCOORD_0;\n    #else\n      fragmentColor = vColor;\n    #endif\n  #endif\n\n  fragmentColor.a *= opacity;\n  DECKGL_FILTER_COLOR(fragmentColor, geometry);\n}\n",modules:e}}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),accessor:"getPosition",transition:!0},instanceColors:{type:5121,size:this.props.colorFormat.length,accessor:"getColor",normalized:!0,defaultValue:H7,transition:!0},instanceModelMatrix:R9})}updateState(e){super.updateState(e);const{props:t,oldProps:i}=e;t.scenegraph!==i.scenegraph?this._updateScenegraph():t._animations!==i._animations&&this._applyAnimationsProp(this.state.scenegraph,this.state.animator,t._animations)}finalizeState(e){super.finalizeState(e),this._deleteScenegraph()}_updateScenegraph(){const e=this.props,{gl:t}=this.context;let i=null;if(e.scenegraph instanceof E_)i={scenes:[e.scenegraph]};else if(e.scenegraph&&!e.scenegraph.gltf){const a=e.scenegraph,c=function G1e(n,e,t){const i=new H1e(n,t);return{scenes:i.instantiate(e),animator:i.createAnimator()}}(t,a,this._getModelOptions());i={gltf:a,...c},function VSe(n){return XP.apply(this,arguments)}(c).then(()=>this.setNeedsRedraw())}else e.scenegraph&&(Oi.deprecated("ScenegraphLayer.props.scenegraph","Use GLTFLoader instead of GLTFScenegraphLoader")(),i=e.scenegraph);const r={layer:this,gl:t},o=e.getScene(i,r),s=e.getAnimator(i,r);o instanceof E_?(this._deleteScenegraph(),this._applyAllAttributes(o),this._applyAnimationsProp(o,s,e._animations),this.setState({scenegraph:o,animator:s})):null!==o&&Oi.warn("invalid scenegraph:",o)()}_applyAllAttributes(e){if(this.state.attributesAvailable){const t=this.getAttributeManager().getAttributes();e.traverse(i=>{this._setModelAttributes(i.model,t)})}}_applyAnimationsProp(e,t,i){if(!e||!t||!i)return;const r=t.getAnimations();Object.keys(i).sort().forEach(o=>{const s=i[o];if("*"===o)r.forEach(a=>{Object.assign(a,s)});else if(Number.isFinite(Number(o))){const a=Number(o);a>=0&&a<r.length?Object.assign(r[a],s):Oi.warn("animation ".concat(o," not found"))()}else{const a=r.find(({name:c})=>c===o);a?Object.assign(a,s):Oi.warn("animation ".concat(o," not found"))()}})}_deleteScenegraph(){const{scenegraph:e}=this.state;e instanceof E_&&e.delete()}_getModelOptions(){const{_imageBasedLightingEnvironment:e}=this.props;let t=null;return e&&(t="function"==typeof e?e({gl:this.context.gl,layer:this}):e),{gl:this.context.gl,waitForFullLoad:!0,imageBasedLightingEnvironment:t,modelOptions:{isInstanced:!0,transpileToGLSL100:!Ci(this.context.gl),...this.getShaders()},useTangents:!1}}updateAttributes(e){this.setState({attributesAvailable:!0}),this.state.scenegraph&&this.state.scenegraph.traverse(t=>{this._setModelAttributes(t.model,e)})}draw({moduleParameters:e=null,parameters:t={},context:i}){if(!this.state.scenegraph)return;this.props._animations&&this.state.animator&&(this.state.animator.animate(i.timeline.getTime()),this.setNeedsRedraw());const{viewport:r}=this.context,{sizeScale:o,sizeMinPixels:s,sizeMaxPixels:a,opacity:c,coordinateSystem:l}=this.props,d=this.getNumInstances();this.state.scenegraph.traverse((h,{worldMatrix:p})=>{h.model.setInstanceCount(d),h.updateModuleSettings(e),h.draw({parameters:t,uniforms:{sizeScale:o,opacity:c,sizeMinPixels:s,sizeMaxPixels:a,composeModelMatrix:P9(r,l),sceneModelMatrix:p,u_Camera:h.model.getUniforms().project_uCameraPosition}})})}}Me(qP,"defaultProps",WSe),Me(qP,"layerName","ScenegraphLayer");class $Se extends Dh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Ca("sphere-geometry")}=e,{indices:i,attributes:r}=function YSe(n){const{nlat:e=10,nlong:t=10}=n;let{radius:i=1}=n;const s=Math.PI-0,l=2*Math.PI-0,d=(e+1)*(t+1);if("number"==typeof i){const K=i;i=(Q,me,Pe,We,tt)=>K}const h=new Float32Array(3*d),p=new Float32Array(3*d),_=new Float32Array(2*d),I=new(d>65535?Uint32Array:Uint16Array)(e*t*6);for(let K=0;K<=e;K++)for(let Q=0;Q<=t;Q++){const me=Q/t,Pe=K/e,We=Q+K*(t+1),tt=2*We,ut=3*We,wt=l*me,vt=s*Pe,bt=Math.sin(wt),St=Math.cos(wt),Rt=Math.sin(vt),xt=St*Rt,Vt=Math.cos(vt),_t=bt*Rt,Ut=i(xt,Vt,_t,me,Pe);h[ut+0]=Ut*xt,h[ut+1]=Ut*Vt,h[ut+2]=Ut*_t,p[ut+0]=xt,p[ut+1]=Vt,p[ut+2]=_t,_[tt+0]=me,_[tt+1]=1-Pe}const L=t+1;for(let K=0;K<t;K++)for(let Q=0;Q<e;Q++){const me=6*(K*e+Q);I[me+0]=Q*L+K,I[me+1]=Q*L+K+1,I[me+2]=(Q+1)*L+K,I[me+3]=(Q+1)*L+K,I[me+4]=Q*L+K+1,I[me+5]=(Q+1)*L+K+1}return{indices:{size:1,value:I},attributes:{POSITION:{size:3,value:h},NORMAL:{size:3,value:p},TEXCOORD_0:{size:2,value:_}}}}(e);super({...e,id:t,indices:i,attributes:{...r,...e.attributes}})}}const XSe={x:[2,0,1],y:[0,1,2],z:[1,2,0]};class G7 extends Dh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Ca("truncated-code-geometry")}=e,{indices:i,attributes:r}=function KSe(n){const{bottomRadius:e=0,topRadius:t=0,height:i=1,nradial:r=10,nvertical:o=10,verticalAxis:s="y",topCap:a=!1,bottomCap:c=!1}=n,l=(a?2:0)+(c?2:0),d=(r+1)*(o+1+l),h=Math.atan2(e-t,i),p=Math.sin,_=Math.cos,w=Math.PI,I=_(h),L=p(h),K=a?-2:0,Q=o+(c?2:0),me=r+1,Pe=new Uint16Array(r*(o+l)*6),We=XSe[s],tt=new Float32Array(3*d),ut=new Float32Array(3*d),wt=new Float32Array(2*d);let vt=0,bt=0;for(let St=K;St<=Q;St++){let xt,Rt=St/o,gt=i*Rt;St<0?(gt=0,Rt=1,xt=e):St>o?(gt=i,Rt=1,xt=t):xt=e+St/o*(t-e),(-2===St||St===o+2)&&(xt=0,Rt=0),gt-=i/2;for(let Vt=0;Vt<me;Vt++){const _t=p(Vt*w*2/r),Ut=_(Vt*w*2/r);tt[vt+We[0]]=_t*xt,tt[vt+We[1]]=gt,tt[vt+We[2]]=Ut*xt,ut[vt+We[0]]=St<0||St>o?0:_t*I,ut[vt+We[1]]=St<0?-1:St>o?1:L,ut[vt+We[2]]=St<0||St>o?0:Ut*I,wt[bt+0]=Vt/r,wt[bt+1]=Rt,bt+=2,vt+=3}}for(let St=0;St<o+l;St++)for(let Rt=0;Rt<r;Rt++){const gt=6*(St*r+Rt);Pe[gt+0]=me*(St+0)+0+Rt,Pe[gt+1]=me*(St+0)+1+Rt,Pe[gt+2]=me*(St+1)+1+Rt,Pe[gt+3]=me*(St+0)+0+Rt,Pe[gt+4]=me*(St+1)+1+Rt,Pe[gt+5]=me*(St+1)+0+Rt}return{indices:Pe,attributes:{POSITION:{size:3,value:tt},NORMAL:{size:3,value:ut},TEXCOORD_0:{size:2,value:wt}}}}(e);super({...e,id:t,indices:i,attributes:{...r,...e.attributes}})}}class qSe extends G7{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Ca("cone-geometry"),radius:i=1,cap:r=!0}=e;super({...e,id:t,topRadius:0,topCap:!!r,bottomCap:!!r,bottomRadius:i})}}class JSe extends G7{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Ca("cylinder-geometry"),radius:i=1}=e;super({...e,id:t,bottomRadius:i,topRadius:i})}}const ZSe=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),QSe=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),eAe=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),tAe=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),nAe={POSITION:{size:3,value:new Float32Array(QSe)},NORMAL:{size:3,value:new Float32Array(eAe)},TEXCOORD_0:{size:2,value:new Float32Array(tAe)}};class iAe extends Dh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Ca("cube-geometry")}=e;super({...e,id:t,indices:{size:1,value:new Uint16Array(ZSe)},attributes:{...nAe,...e.attributes}})}}class el{constructor(e){void 0===e&&(e=[0,0,0,0,0,0,0,0,0]),this.elements=e}identity(){const e=this.elements;e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1}setZero(){const e=this.elements;e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0}setTrace(e){const t=this.elements;t[0]=e.x,t[4]=e.y,t[8]=e.z}getTrace(e){void 0===e&&(e=new xe);const t=this.elements;return e.x=t[0],e.y=t[4],e.z=t[8],e}vmult(e,t){void 0===t&&(t=new xe);const i=this.elements,r=e.x,o=e.y,s=e.z;return t.x=i[0]*r+i[1]*o+i[2]*s,t.y=i[3]*r+i[4]*o+i[5]*s,t.z=i[6]*r+i[7]*o+i[8]*s,t}smult(e){for(let t=0;t<this.elements.length;t++)this.elements[t]*=e}mmult(e,t){void 0===t&&(t=new el);const i=this.elements,r=e.elements,o=t.elements,s=i[0],a=i[1],c=i[2],l=i[3],d=i[4],h=i[5],p=i[6],_=i[7],w=i[8],I=r[0],L=r[1],K=r[2],Q=r[3],me=r[4],Pe=r[5],We=r[6],tt=r[7],ut=r[8];return o[0]=s*I+a*Q+c*We,o[1]=s*L+a*me+c*tt,o[2]=s*K+a*Pe+c*ut,o[3]=l*I+d*Q+h*We,o[4]=l*L+d*me+h*tt,o[5]=l*K+d*Pe+h*ut,o[6]=p*I+_*Q+w*We,o[7]=p*L+_*me+w*tt,o[8]=p*K+_*Pe+w*ut,t}scale(e,t){void 0===t&&(t=new el);const i=this.elements,r=t.elements;for(let o=0;3!==o;o++)r[3*o+0]=e.x*i[3*o+0],r[3*o+1]=e.y*i[3*o+1],r[3*o+2]=e.z*i[3*o+2];return t}solve(e,t){void 0===t&&(t=new xe);const o=[];let s,a;for(s=0;s<12;s++)o.push(0);for(s=0;s<3;s++)for(a=0;a<3;a++)o[s+4*a]=this.elements[s+3*a];o[3]=e.x,o[7]=e.y,o[11]=e.z;let c=3;const l=c;let d,p;do{if(s=l-c,0===o[s+4*s])for(a=s+1;a<l;a++)if(0!==o[s+4*a]){d=4;do{p=4-d,o[p+4*s]+=o[p+4*a]}while(--d);break}if(0!==o[s+4*s])for(a=s+1;a<l;a++){const _=o[s+4*a]/o[s+4*s];d=4;do{p=4-d,o[p+4*a]=p<=s?0:o[p+4*a]-o[p+4*s]*_}while(--d)}}while(--c);if(t.z=o[11]/o[10],t.y=(o[7]-o[6]*t.z)/o[5],t.x=(o[3]-o[2]*t.z-o[1]*t.y)/o[0],isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||t.x===1/0||t.y===1/0||t.z===1/0)throw`Could not solve equation! Got x=[${t.toString()}], b=[${e.toString()}], A=[${this.toString()}]`;return t}e(e,t,i){if(void 0===i)return this.elements[t+3*e];this.elements[t+3*e]=i}copy(e){for(let t=0;t<e.elements.length;t++)this.elements[t]=e.elements[t];return this}toString(){let e="";for(let i=0;i<9;i++)e+=this.elements[i]+",";return e}reverse(e){void 0===e&&(e=new el);const r=rAe;let o,s;for(o=0;o<3;o++)for(s=0;s<3;s++)r[o+6*s]=this.elements[o+3*s];r[3]=1,r[9]=0,r[15]=0,r[4]=0,r[10]=1,r[16]=0,r[5]=0,r[11]=0,r[17]=1;let a=3;const c=a;let l,h;do{if(o=c-a,0===r[o+6*o])for(s=o+1;s<c;s++)if(0!==r[o+6*s]){l=6;do{h=6-l,r[h+6*o]+=r[h+6*s]}while(--l);break}if(0!==r[o+6*o])for(s=o+1;s<c;s++){const p=r[o+6*s]/r[o+6*o];l=6;do{h=6-l,r[h+6*s]=h<=o?0:r[h+6*s]-r[h+6*o]*p}while(--l)}}while(--a);o=2;do{s=o-1;do{const p=r[o+6*s]/r[o+6*o];l=6;do{h=6-l,r[h+6*s]=r[h+6*s]-r[h+6*o]*p}while(--l)}while(s--)}while(--o);o=2;do{const p=1/r[o+6*o];l=6;do{h=6-l,r[h+6*o]=r[h+6*o]*p}while(--l)}while(o--);o=2;do{s=2;do{if(h=r[3+s+6*o],isNaN(h)||h===1/0)throw`Could not reverse! A=[${this.toString()}]`;e.e(o,s,h)}while(s--)}while(o--);return e}setRotationFromQuaternion(e){const t=e.x,i=e.y,r=e.z,o=e.w,s=t+t,a=i+i,c=r+r,l=t*s,d=t*a,h=t*c,p=i*a,_=i*c,w=r*c,I=o*s,L=o*a,K=o*c,Q=this.elements;return Q[0]=1-(p+w),Q[1]=d-K,Q[2]=h+L,Q[3]=d+K,Q[4]=1-(l+w),Q[5]=_-I,Q[6]=h-L,Q[7]=_+I,Q[8]=1-(l+p),this}transpose(e){void 0===e&&(e=new el);const t=this.elements,i=e.elements;let r;return i[0]=t[0],i[4]=t[4],i[8]=t[8],r=t[1],i[1]=t[3],i[3]=r,r=t[2],i[2]=t[6],i[6]=r,r=t[5],i[5]=t[7],i[7]=r,e}}const rAe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];class xe{constructor(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.x=e,this.y=t,this.z=i}cross(e,t){void 0===t&&(t=new xe);const i=e.x,r=e.y,o=e.z,s=this.x,a=this.y,c=this.z;return t.x=a*o-c*r,t.y=c*i-s*o,t.z=s*r-a*i,t}set(e,t,i){return this.x=e,this.y=t,this.z=i,this}setZero(){this.x=this.y=this.z=0}vadd(e,t){if(!t)return new xe(this.x+e.x,this.y+e.y,this.z+e.z);t.x=e.x+this.x,t.y=e.y+this.y,t.z=e.z+this.z}vsub(e,t){if(!t)return new xe(this.x-e.x,this.y-e.y,this.z-e.z);t.x=this.x-e.x,t.y=this.y-e.y,t.z=this.z-e.z}crossmat(){return new el([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])}normalize(){const e=this.x,t=this.y,i=this.z,r=Math.sqrt(e*e+t*t+i*i);if(r>0){const o=1/r;this.x*=o,this.y*=o,this.z*=o}else this.x=0,this.y=0,this.z=0;return r}unit(e){void 0===e&&(e=new xe);const t=this.x,i=this.y,r=this.z;let o=Math.sqrt(t*t+i*i+r*r);return o>0?(o=1/o,e.x=t*o,e.y=i*o,e.z=r*o):(e.x=1,e.y=0,e.z=0),e}length(){const e=this.x,t=this.y,i=this.z;return Math.sqrt(e*e+t*t+i*i)}lengthSquared(){return this.dot(this)}distanceTo(e){const t=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z;return Math.sqrt((o-t)*(o-t)+(s-i)*(s-i)+(a-r)*(a-r))}distanceSquared(e){const t=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z;return(o-t)*(o-t)+(s-i)*(s-i)+(a-r)*(a-r)}scale(e,t){void 0===t&&(t=new xe);const r=this.y,o=this.z;return t.x=e*this.x,t.y=e*r,t.z=e*o,t}vmul(e,t){return void 0===t&&(t=new xe),t.x=e.x*this.x,t.y=e.y*this.y,t.z=e.z*this.z,t}addScaledVector(e,t,i){return void 0===i&&(i=new xe),i.x=this.x+e*t.x,i.y=this.y+e*t.y,i.z=this.z+e*t.z,i}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}isZero(){return 0===this.x&&0===this.y&&0===this.z}negate(e){return void 0===e&&(e=new xe),e.x=-this.x,e.y=-this.y,e.z=-this.z,e}tangents(e,t){const i=this.length();if(i>0){const r=oAe,o=1/i;r.set(this.x*o,this.y*o,this.z*o);const s=sAe;Math.abs(r.x)<.9?(s.set(1,0,0),r.cross(s,e)):(s.set(0,1,0),r.cross(s,e)),r.cross(e,t)}else e.set(1,0,0),t.set(0,1,0)}toString(){return`${this.x},${this.y},${this.z}`}toArray(){return[this.x,this.y,this.z]}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}lerp(e,t,i){const r=this.x,o=this.y,s=this.z;i.x=r+(e.x-r)*t,i.y=o+(e.y-o)*t,i.z=s+(e.z-s)*t}almostEquals(e,t){return void 0===t&&(t=1e-6),!(Math.abs(this.x-e.x)>t||Math.abs(this.y-e.y)>t||Math.abs(this.z-e.z)>t)}almostZero(e){return void 0===e&&(e=1e-6),!(Math.abs(this.x)>e||Math.abs(this.y)>e||Math.abs(this.z)>e)}isAntiparallelTo(e,t){return this.negate(W7),W7.almostEquals(e,t)}clone(){return new xe(this.x,this.y,this.z)}}xe.ZERO=new xe(0,0,0),xe.UNIT_X=new xe(1,0,0),xe.UNIT_Y=new xe(0,1,0),xe.UNIT_Z=new xe(0,0,1);const oAe=new xe,sAe=new xe,W7=new xe;class dr{constructor(e){void 0===e&&(e={}),this.lowerBound=new xe,this.upperBound=new xe,e.lowerBound&&this.lowerBound.copy(e.lowerBound),e.upperBound&&this.upperBound.copy(e.upperBound)}setFromPoints(e,t,i,r){const o=this.lowerBound,s=this.upperBound,a=i;o.copy(e[0]),a&&a.vmult(o,o),s.copy(o);for(let c=1;c<e.length;c++){let l=e[c];a&&(a.vmult(l,$7),l=$7),l.x>s.x&&(s.x=l.x),l.x<o.x&&(o.x=l.x),l.y>s.y&&(s.y=l.y),l.y<o.y&&(o.y=l.y),l.z>s.z&&(s.z=l.z),l.z<o.z&&(o.z=l.z)}return t&&(t.vadd(o,o),t.vadd(s,s)),r&&(o.x-=r,o.y-=r,o.z-=r,s.x+=r,s.y+=r,s.z+=r),this}copy(e){return this.lowerBound.copy(e.lowerBound),this.upperBound.copy(e.upperBound),this}clone(){return(new dr).copy(this)}extend(e){this.lowerBound.x=Math.min(this.lowerBound.x,e.lowerBound.x),this.upperBound.x=Math.max(this.upperBound.x,e.upperBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,e.lowerBound.y),this.upperBound.y=Math.max(this.upperBound.y,e.upperBound.y),this.lowerBound.z=Math.min(this.lowerBound.z,e.lowerBound.z),this.upperBound.z=Math.max(this.upperBound.z,e.upperBound.z)}overlaps(e){const t=this.lowerBound,i=this.upperBound,r=e.lowerBound,o=e.upperBound;return(r.x<=i.x&&i.x<=o.x||t.x<=o.x&&o.x<=i.x)&&(r.y<=i.y&&i.y<=o.y||t.y<=o.y&&o.y<=i.y)&&(r.z<=i.z&&i.z<=o.z||t.z<=o.z&&o.z<=i.z)}volume(){const e=this.lowerBound,t=this.upperBound;return(t.x-e.x)*(t.y-e.y)*(t.z-e.z)}contains(e){const t=this.lowerBound,i=this.upperBound,r=e.lowerBound,o=e.upperBound;return t.x<=r.x&&i.x>=o.x&&t.y<=r.y&&i.y>=o.y&&t.z<=r.z&&i.z>=o.z}getCorners(e,t,i,r,o,s,a,c){const l=this.lowerBound,d=this.upperBound;e.copy(l),t.set(d.x,l.y,l.z),i.set(d.x,d.y,l.z),r.set(l.x,d.y,d.z),o.set(d.x,l.y,d.z),s.set(l.x,d.y,l.z),a.set(l.x,l.y,d.z),c.copy(d)}toLocalFrame(e,t){const i=Y7;this.getCorners(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);for(let p=0;8!==p;p++){const _=i[p];e.pointToLocal(_,_)}return t.setFromPoints(i)}toWorldFrame(e,t){const i=Y7;this.getCorners(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);for(let p=0;8!==p;p++){const _=i[p];e.pointToWorld(_,_)}return t.setFromPoints(i)}overlapsRay(e){const{direction:t,from:i}=e,r=1/t.x,o=1/t.y,s=1/t.z,a=(this.lowerBound.x-i.x)*r,c=(this.upperBound.x-i.x)*r,l=(this.lowerBound.y-i.y)*o,d=(this.upperBound.y-i.y)*o,h=(this.lowerBound.z-i.z)*s,p=(this.upperBound.z-i.z)*s,_=Math.max(Math.max(Math.min(a,c),Math.min(l,d)),Math.min(h,p)),w=Math.min(Math.min(Math.max(a,c),Math.max(l,d)),Math.max(h,p));return!(w<0||_>w)}}const $7=new xe,Y7=[new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe];class aAe{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;return void 0===i[e]&&(i[e]=[]),i[e].includes(t)||i[e].push(t),this}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return!(void 0===i[e]||!i[e].includes(t))}hasAnyEventListener(e){return void 0!==this._listeners&&void 0!==this._listeners[e]}removeEventListener(e,t){if(void 0===this._listeners)return this;const i=this._listeners;if(void 0===i[e])return this;const r=i[e].indexOf(t);return-1!==r&&i[e].splice(r,1),this}dispatchEvent(e){if(void 0===this._listeners)return this;const i=this._listeners[e.type];if(void 0!==i){e.target=this;for(let r=0,o=i.length;r<o;r++)i[r].call(this,e)}return this}}class eo{constructor(e,t,i,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=1),this.x=e,this.y=t,this.z=i,this.w=r}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}toString(){return`${this.x},${this.y},${this.z},${this.w}`}toArray(){return[this.x,this.y,this.z,this.w]}setFromAxisAngle(e,t){const i=Math.sin(.5*t);return this.x=e.x*i,this.y=e.y*i,this.z=e.z*i,this.w=Math.cos(.5*t),this}toAxisAngle(e){void 0===e&&(e=new xe),this.normalize();const t=2*Math.acos(this.w),i=Math.sqrt(1-this.w*this.w);return i<.001?(e.x=this.x,e.y=this.y,e.z=this.z):(e.x=this.x/i,e.y=this.y/i,e.z=this.z/i),[e,t]}setFromVectors(e,t){if(e.isAntiparallelTo(t)){const i=cAe;e.tangents(i,lAe),this.setFromAxisAngle(i,Math.PI)}else{const i=e.cross(t);this.x=i.x,this.y=i.y,this.z=i.z,this.w=Math.sqrt(e.length()**2*t.length()**2)+e.dot(t),this.normalize()}return this}mult(e,t){void 0===t&&(t=new eo);const i=this.x,r=this.y,o=this.z,s=this.w,a=e.x,c=e.y,l=e.z,d=e.w;return t.x=i*d+s*a+r*l-o*c,t.y=r*d+s*c+o*a-i*l,t.z=o*d+s*l+i*c-r*a,t.w=s*d-i*a-r*c-o*l,t}inverse(e){void 0===e&&(e=new eo);const t=this.x,i=this.y,r=this.z,o=this.w;this.conjugate(e);const s=1/(t*t+i*i+r*r+o*o);return e.x*=s,e.y*=s,e.z*=s,e.w*=s,e}conjugate(e){return void 0===e&&(e=new eo),e.x=-this.x,e.y=-this.y,e.z=-this.z,e.w=this.w,e}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=0):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}normalizeFast(){const e=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;return 0===e?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}vmult(e,t){void 0===t&&(t=new xe);const i=e.x,r=e.y,o=e.z,s=this.x,a=this.y,c=this.z,l=this.w,d=l*i+a*o-c*r,h=l*r+c*i-s*o,p=l*o+s*r-a*i,_=-s*i-a*r-c*o;return t.x=d*l+_*-s+h*-c-p*-a,t.y=h*l+_*-a+p*-s-d*-c,t.z=p*l+_*-c+d*-a-h*-s,t}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}toEuler(e,t){let i,r,o;void 0===t&&(t="YZX");const s=this.x,a=this.y,c=this.z,l=this.w;if("YZX"!==t)throw new Error(`Euler order ${t} not supported yet.`);{const d=s*a+c*l;if(d>.499&&(i=2*Math.atan2(s,l),r=Math.PI/2,o=0),d<-.499&&(i=-2*Math.atan2(s,l),r=-Math.PI/2,o=0),void 0===i){const h=s*s,_=c*c;i=Math.atan2(2*a*l-2*s*c,1-a*a*2-2*_),r=Math.asin(2*d),o=Math.atan2(2*s*l-2*a*c,1-2*h-2*_)}}e.y=i,e.z=r,e.x=o}setFromEuler(e,t,i,r){void 0===r&&(r="XYZ");const o=Math.cos(e/2),s=Math.cos(t/2),a=Math.cos(i/2),c=Math.sin(e/2),l=Math.sin(t/2),d=Math.sin(i/2);return"XYZ"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a-c*l*d):"YXZ"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a+c*l*d):"ZXY"===r?(this.x=c*s*a-o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a-c*l*d):"ZYX"===r?(this.x=c*s*a-o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a+c*l*d):"YZX"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a-c*l*d):"XZY"===r&&(this.x=c*s*a-o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a+c*l*d),this}clone(){return new eo(this.x,this.y,this.z,this.w)}slerp(e,t,i){void 0===i&&(i=new eo);const r=this.x,o=this.y,s=this.z,a=this.w;let p,_,w,I,L,c=e.x,l=e.y,d=e.z,h=e.w;return _=r*c+o*l+s*d+a*h,_<0&&(_=-_,c=-c,l=-l,d=-d,h=-h),1-_>1e-6?(p=Math.acos(_),w=Math.sin(p),I=Math.sin((1-t)*p)/w,L=Math.sin(t*p)/w):(I=1-t,L=t),i.x=I*r+L*c,i.y=I*o+L*l,i.z=I*s+L*d,i.w=I*a+L*h,i}integrate(e,t,i,r){void 0===r&&(r=new eo);const o=e.x*i.x,s=e.y*i.y,a=e.z*i.z,c=this.x,l=this.y,d=this.z,h=this.w,p=.5*t;return r.x+=p*(o*h+s*d-a*l),r.y+=p*(s*h+a*c-o*d),r.z+=p*(a*h+o*l-s*c),r.w+=p*(-o*c-s*l-a*d),r}}const cAe=new xe,lAe=new xe,dAe={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256};let Tn=(()=>{class n{constructor(t){void 0===t&&(t={}),this.id=n.idCounter++,this.type=t.type||0,this.boundingSphereRadius=0,this.collisionResponse=!t.collisionResponse||t.collisionResponse,this.collisionFilterGroup=void 0!==t.collisionFilterGroup?t.collisionFilterGroup:1,this.collisionFilterMask=void 0!==t.collisionFilterMask?t.collisionFilterMask:-1,this.material=t.material?t.material:null,this.body=null}updateBoundingSphereRadius(){throw`computeBoundingSphereRadius() not implemented for shape type ${this.type}`}volume(){throw`volume() not implemented for shape type ${this.type}`}calculateLocalInertia(t,i){throw`calculateLocalInertia() not implemented for shape type ${this.type}`}calculateWorldAABB(t,i,r,o){throw`calculateWorldAABB() not implemented for shape type ${this.type}`}}return n.idCounter=0,n.types=dAe,n})();class Vi{constructor(e){void 0===e&&(e={}),this.position=new xe,this.quaternion=new eo,e.position&&this.position.copy(e.position),e.quaternion&&this.quaternion.copy(e.quaternion)}pointToLocal(e,t){return Vi.pointToLocalFrame(this.position,this.quaternion,e,t)}pointToWorld(e,t){return Vi.pointToWorldFrame(this.position,this.quaternion,e,t)}vectorToWorldFrame(e,t){return void 0===t&&(t=new xe),this.quaternion.vmult(e,t),t}static pointToLocalFrame(e,t,i,r){return void 0===r&&(r=new xe),i.vsub(e,r),t.conjugate(K7),K7.vmult(r,r),r}static pointToWorldFrame(e,t,i,r){return void 0===r&&(r=new xe),t.vmult(i,r),r.vadd(e,r),r}static vectorToWorldFrame(e,t,i){return void 0===i&&(i=new xe),e.vmult(t,i),i}static vectorToLocalFrame(e,t,i,r){return void 0===r&&(r=new xe),t.w*=-1,t.vmult(i,r),t.w*=-1,r}}const K7=new eo;class Ep extends Tn{constructor(e){void 0===e&&(e={});const{vertices:t=[],faces:i=[],normals:r=[],axes:o,boundingSphereRadius:s}=e;super({type:Tn.types.CONVEXPOLYHEDRON}),this.vertices=t,this.faces=i,this.faceNormals=r,0===this.faceNormals.length&&this.computeNormals(),s?this.boundingSphereRadius=s:this.updateBoundingSphereRadius(),this.worldVertices=[],this.worldVerticesNeedsUpdate=!0,this.worldFaceNormals=[],this.worldFaceNormalsNeedsUpdate=!0,this.uniqueAxes=o?o.slice():null,this.uniqueEdges=[],this.computeEdges()}computeEdges(){const e=this.faces,t=this.vertices,i=this.uniqueEdges;i.length=0;const r=new xe;for(let o=0;o!==e.length;o++){const s=e[o],a=s.length;for(let c=0;c!==a;c++){t[s[c]].vsub(t[s[(c+1)%a]],r),r.normalize();let d=!1;for(let h=0;h!==i.length;h++)if(i[h].almostEquals(r)||i[h].almostEquals(r)){d=!0;break}d||i.push(r.clone())}}}computeNormals(){this.faceNormals.length=this.faces.length;for(let e=0;e<this.faces.length;e++){for(let r=0;r<this.faces[e].length;r++)if(!this.vertices[this.faces[e][r]])throw new Error(`Vertex ${this.faces[e][r]} not found!`);const t=this.faceNormals[e]||new xe;if(this.getFaceNormal(e,t),t.negate(t),this.faceNormals[e]=t,t.dot(this.vertices[this.faces[e][0]])<0){console.error(`.faceNormals[${e}] = Vec3(${t.toString()}) looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.`);for(let r=0;r<this.faces[e].length;r++)console.warn(`.vertices[${this.faces[e][r]}] = Vec3(${this.vertices[this.faces[e][r]].toString()})`)}}}getFaceNormal(e,t){const i=this.faces[e];Ep.computeNormal(this.vertices[i[0]],this.vertices[i[1]],this.vertices[i[2]],t)}static computeNormal(e,t,i,r){const o=new xe,s=new xe;t.vsub(e,s),i.vsub(t,o),o.cross(s,r),r.isZero()||r.normalize()}clipAgainstHull(e,t,i,r,o,s,a,c,l){const d=new xe;let h=-1,p=-Number.MAX_VALUE;for(let w=0;w<i.faces.length;w++){d.copy(i.faceNormals[w]),o.vmult(d,d);const I=d.dot(s);I>p&&(p=I,h=w)}const _=[];for(let w=0;w<i.faces[h].length;w++){const I=i.vertices[i.faces[h][w]],L=new xe;L.copy(I),o.vmult(L,L),r.vadd(L,L),_.push(L)}h>=0&&this.clipFaceAgainstHull(s,e,t,_,a,c,l)}findSeparatingAxis(e,t,i,r,o,s,a,c){const l=new xe,d=new xe,h=new xe,p=new xe,_=new xe,w=new xe;let I=Number.MAX_VALUE;const L=this;if(L.uniqueAxes)for(let K=0;K!==L.uniqueAxes.length;K++){i.vmult(L.uniqueAxes[K],l);const Q=L.testSepAxis(l,e,t,i,r,o);if(!1===Q)return!1;Q<I&&(I=Q,s.copy(l))}else{const K=a?a.length:L.faces.length;for(let Q=0;Q<K;Q++){l.copy(L.faceNormals[a?a[Q]:Q]),i.vmult(l,l);const Pe=L.testSepAxis(l,e,t,i,r,o);if(!1===Pe)return!1;Pe<I&&(I=Pe,s.copy(l))}}if(e.uniqueAxes)for(let K=0;K!==e.uniqueAxes.length;K++){o.vmult(e.uniqueAxes[K],d);const Q=L.testSepAxis(d,e,t,i,r,o);if(!1===Q)return!1;Q<I&&(I=Q,s.copy(d))}else{const K=c?c.length:e.faces.length;for(let Q=0;Q<K;Q++){d.copy(e.faceNormals[c?c[Q]:Q]),o.vmult(d,d);const Pe=L.testSepAxis(d,e,t,i,r,o);if(!1===Pe)return!1;Pe<I&&(I=Pe,s.copy(d))}}for(let K=0;K!==L.uniqueEdges.length;K++){i.vmult(L.uniqueEdges[K],p);for(let Q=0;Q!==e.uniqueEdges.length;Q++)if(o.vmult(e.uniqueEdges[Q],_),p.cross(_,w),!w.almostZero()){w.normalize();const me=L.testSepAxis(w,e,t,i,r,o);if(!1===me)return!1;me<I&&(I=me,s.copy(w))}}return r.vsub(t,h),h.dot(s)>0&&s.negate(s),!0}testSepAxis(e,t,i,r,o,s){Ep.project(this,e,i,r,JP),Ep.project(t,e,o,s,ZP);const c=JP[0],l=JP[1],d=ZP[0],h=ZP[1];if(c<h||d<l)return!1;const p=c-h,_=d-l;return p<_?p:_}calculateLocalInertia(e,t){const i=new xe,r=new xe;this.computeLocalAABB(r,i);const o=i.x-r.x,s=i.y-r.y,a=i.z-r.z;t.x=1/12*e*(2*s*2*s+2*a*2*a),t.y=1/12*e*(2*o*2*o+2*a*2*a),t.z=1/12*e*(2*s*2*s+2*o*2*o)}getPlaneConstantOfFace(e){return-this.faceNormals[e].dot(this.vertices[this.faces[e][0]])}clipFaceAgainstHull(e,t,i,r,o,s,a){const c=new xe,l=new xe,d=new xe,h=new xe,p=new xe,_=new xe,w=new xe,I=new xe,L=this,Q=r,me=[];let Pe=-1,We=Number.MAX_VALUE;for(let bt=0;bt<L.faces.length;bt++){c.copy(L.faceNormals[bt]),i.vmult(c,c);const St=c.dot(e);St<We&&(We=St,Pe=bt)}if(Pe<0)return;const tt=L.faces[Pe];tt.connectedFaces=[];for(let bt=0;bt<L.faces.length;bt++)for(let St=0;St<L.faces[bt].length;St++)-1!==tt.indexOf(L.faces[bt][St])&&bt!==Pe&&-1===tt.connectedFaces.indexOf(bt)&&tt.connectedFaces.push(bt);const ut=tt.length;for(let bt=0;bt<ut;bt++){const St=L.vertices[tt[bt]];St.vsub(L.vertices[tt[(bt+1)%ut]],l),d.copy(l),i.vmult(d,d),t.vadd(d,d),h.copy(this.faceNormals[Pe]),i.vmult(h,h),t.vadd(h,h),d.cross(h,p),p.negate(p),_.copy(St),i.vmult(_,_),t.vadd(_,_);const gt=tt.connectedFaces[bt];w.copy(this.faceNormals[gt]);const xt=this.getPlaneConstantOfFace(gt);I.copy(w),i.vmult(I,I);const Vt=xt-I.dot(t);for(this.clipFaceAgainstPlane(Q,me,I,Vt);Q.length;)Q.shift();for(;me.length;)Q.push(me.shift())}w.copy(this.faceNormals[Pe]);const wt=this.getPlaneConstantOfFace(Pe);I.copy(w),i.vmult(I,I);const vt=wt-I.dot(t);for(let bt=0;bt<Q.length;bt++){let St=I.dot(Q[bt])+vt;St<=o&&(console.log(`clamped: depth=${St} to minDist=${o}`),St=o),St<=s&&St<=1e-6&&a.push({point:Q[bt],normal:I,depth:St})}}clipFaceAgainstPlane(e,t,i,r){let o,s;const a=e.length;if(a<2)return t;let c=e[e.length-1],l=e[0];o=i.dot(c)+r;for(let d=0;d<a;d++){if(l=e[d],s=i.dot(l)+r,o<0)if(s<0){const h=new xe;h.copy(l),t.push(h)}else{const h=new xe;c.lerp(l,o/(o-s),h),t.push(h)}else if(s<0){const h=new xe;c.lerp(l,o/(o-s),h),t.push(h),t.push(l)}c=l,o=s}return t}computeWorldVertices(e,t){for(;this.worldVertices.length<this.vertices.length;)this.worldVertices.push(new xe);const i=this.vertices,r=this.worldVertices;for(let o=0;o!==this.vertices.length;o++)t.vmult(i[o],r[o]),e.vadd(r[o],r[o]);this.worldVerticesNeedsUpdate=!1}computeLocalAABB(e,t){const i=this.vertices;e.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),t.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(let r=0;r<this.vertices.length;r++){const o=i[r];o.x<e.x?e.x=o.x:o.x>t.x&&(t.x=o.x),o.y<e.y?e.y=o.y:o.y>t.y&&(t.y=o.y),o.z<e.z?e.z=o.z:o.z>t.z&&(t.z=o.z)}}computeWorldFaceNormals(e){const t=this.faceNormals.length;for(;this.worldFaceNormals.length<t;)this.worldFaceNormals.push(new xe);const i=this.faceNormals,r=this.worldFaceNormals;for(let o=0;o!==t;o++)e.vmult(i[o],r[o]);this.worldFaceNormalsNeedsUpdate=!1}updateBoundingSphereRadius(){let e=0;const t=this.vertices;for(let i=0;i!==t.length;i++){const r=t[i].lengthSquared();r>e&&(e=r)}this.boundingSphereRadius=Math.sqrt(e)}calculateWorldAABB(e,t,i,r){const o=this.vertices;let s,a,c,l,d,h,p=new xe;for(let _=0;_<o.length;_++)p.copy(o[_]),t.vmult(p,p),e.vadd(p,p),(void 0===s||p.x<s)&&(s=p.x),(void 0===l||p.x>l)&&(l=p.x),(void 0===a||p.y<a)&&(a=p.y),(void 0===d||p.y>d)&&(d=p.y),(void 0===c||p.z<c)&&(c=p.z),(void 0===h||p.z>h)&&(h=p.z);i.set(s,a,c),r.set(l,d,h)}volume(){return 4*Math.PI*this.boundingSphereRadius/3}getAveragePointLocal(e){void 0===e&&(e=new xe);const t=this.vertices;for(let i=0;i<t.length;i++)e.vadd(t[i],e);return e.scale(1/t.length,e),e}transformAllPoints(e,t){const i=this.vertices.length,r=this.vertices;if(t){for(let o=0;o<i;o++){const s=r[o];t.vmult(s,s)}for(let o=0;o<this.faceNormals.length;o++){const s=this.faceNormals[o];t.vmult(s,s)}}if(e)for(let o=0;o<i;o++){const s=r[o];s.vadd(e,s)}}pointIsInside(e){const t=this.vertices,i=this.faces,r=this.faceNormals,s=new xe;this.getAveragePointLocal(s);for(let a=0;a<this.faces.length;a++){let c=r[a];const l=t[i[a][0]],d=new xe;e.vsub(l,d);const h=c.dot(d),p=new xe;s.vsub(l,p);const _=c.dot(p);if(h<0&&_>0||h>0&&_<0)return!1}return-1}static project(e,t,i,r,o){const s=e.vertices.length,a=hAe;let c=0,l=0;const d=fAe,h=e.vertices;d.setZero(),Vi.vectorToLocalFrame(i,r,t,a),Vi.pointToLocalFrame(i,r,d,d);const p=d.dot(a);l=c=h[0].dot(a);for(let _=1;_<s;_++){const w=h[_].dot(a);w>c&&(c=w),w<l&&(l=w)}if(l-=p,c-=p,l>c){const _=l;l=c,c=_}o[0]=c,o[1]=l}}const JP=[],ZP=[],hAe=(new xe,new xe),fAe=new xe;class AS extends Tn{constructor(e){super({type:Tn.types.BOX}),this.halfExtents=e,this.convexPolyhedronRepresentation=null,this.updateConvexPolyhedronRepresentation(),this.updateBoundingSphereRadius()}updateConvexPolyhedronRepresentation(){const e=this.halfExtents.x,t=this.halfExtents.y,i=this.halfExtents.z,r=xe,o=[new r(-e,-t,-i),new r(e,-t,-i),new r(e,t,-i),new r(-e,t,-i),new r(-e,-t,i),new r(e,-t,i),new r(e,t,i),new r(-e,t,i)],a=[new r(0,0,1),new r(0,1,0),new r(1,0,0)],c=new Ep({vertices:o,faces:[[3,2,1,0],[4,5,6,7],[5,4,0,1],[2,3,7,6],[0,4,7,3],[1,2,6,5]],axes:a});this.convexPolyhedronRepresentation=c,c.material=this.material}calculateLocalInertia(e,t){return void 0===t&&(t=new xe),AS.calculateInertia(this.halfExtents,e,t),t}static calculateInertia(e,t,i){const r=e;i.x=1/12*t*(2*r.y*2*r.y+2*r.z*2*r.z),i.y=1/12*t*(2*r.x*2*r.x+2*r.z*2*r.z),i.z=1/12*t*(2*r.y*2*r.y+2*r.x*2*r.x)}getSideNormals(e,t){const i=e,r=this.halfExtents;if(i[0].set(r.x,0,0),i[1].set(0,r.y,0),i[2].set(0,0,r.z),i[3].set(-r.x,0,0),i[4].set(0,-r.y,0),i[5].set(0,0,-r.z),void 0!==t)for(let o=0;o!==i.length;o++)t.vmult(i[o],i[o]);return i}volume(){return 8*this.halfExtents.x*this.halfExtents.y*this.halfExtents.z}updateBoundingSphereRadius(){this.boundingSphereRadius=this.halfExtents.length()}forEachWorldCorner(e,t,i){const r=this.halfExtents,o=[[r.x,r.y,r.z],[-r.x,r.y,r.z],[-r.x,-r.y,r.z],[-r.x,-r.y,-r.z],[r.x,-r.y,-r.z],[r.x,r.y,-r.z],[-r.x,r.y,-r.z],[r.x,-r.y,r.z]];for(let s=0;s<o.length;s++)kh.set(o[s][0],o[s][1],o[s][2]),t.vmult(kh,kh),e.vadd(kh,kh),i(kh.x,kh.y,kh.z)}calculateWorldAABB(e,t,i,r){const o=this.halfExtents;id[0].set(o.x,o.y,o.z),id[1].set(-o.x,o.y,o.z),id[2].set(-o.x,-o.y,o.z),id[3].set(-o.x,-o.y,-o.z),id[4].set(o.x,-o.y,-o.z),id[5].set(o.x,o.y,-o.z),id[6].set(-o.x,o.y,-o.z),id[7].set(o.x,-o.y,o.z);const s=id[0];t.vmult(s,s),e.vadd(s,s),r.copy(s),i.copy(s);for(let a=1;a<8;a++){const c=id[a];t.vmult(c,c),e.vadd(c,c);const l=c.x,d=c.y,h=c.z;l>r.x&&(r.x=l),d>r.y&&(r.y=d),h>r.z&&(r.z=h),l<i.x&&(i.x=l),d<i.y&&(i.y=d),h<i.z&&(i.z=h)}}}const kh=new xe,id=[new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe];class In extends aAe{constructor(e){void 0===e&&(e={}),super(),this.id=In.idCounter++,this.index=-1,this.world=null,this.vlambda=new xe,this.collisionFilterGroup="number"==typeof e.collisionFilterGroup?e.collisionFilterGroup:1,this.collisionFilterMask="number"==typeof e.collisionFilterMask?e.collisionFilterMask:-1,this.collisionResponse="boolean"!=typeof e.collisionResponse||e.collisionResponse,this.position=new xe,this.previousPosition=new xe,this.interpolatedPosition=new xe,this.initPosition=new xe,e.position&&(this.position.copy(e.position),this.previousPosition.copy(e.position),this.interpolatedPosition.copy(e.position),this.initPosition.copy(e.position)),this.velocity=new xe,e.velocity&&this.velocity.copy(e.velocity),this.initVelocity=new xe,this.force=new xe;const t="number"==typeof e.mass?e.mass:0;this.mass=t,this.invMass=t>0?1/t:0,this.material=e.material||null,this.linearDamping="number"==typeof e.linearDamping?e.linearDamping:.01,this.type=t<=0?In.STATIC:In.DYNAMIC,typeof e.type==typeof In.STATIC&&(this.type=e.type),this.allowSleep=!(typeof e.allowSleep<"u")||e.allowSleep,this.sleepState=In.AWAKE,this.sleepSpeedLimit=typeof e.sleepSpeedLimit<"u"?e.sleepSpeedLimit:.1,this.sleepTimeLimit=typeof e.sleepTimeLimit<"u"?e.sleepTimeLimit:1,this.timeLastSleepy=0,this.wakeUpAfterNarrowphase=!1,this.torque=new xe,this.quaternion=new eo,this.initQuaternion=new eo,this.previousQuaternion=new eo,this.interpolatedQuaternion=new eo,e.quaternion&&(this.quaternion.copy(e.quaternion),this.initQuaternion.copy(e.quaternion),this.previousQuaternion.copy(e.quaternion),this.interpolatedQuaternion.copy(e.quaternion)),this.angularVelocity=new xe,e.angularVelocity&&this.angularVelocity.copy(e.angularVelocity),this.initAngularVelocity=new xe,this.shapes=[],this.shapeOffsets=[],this.shapeOrientations=[],this.inertia=new xe,this.invInertia=new xe,this.invInertiaWorld=new el,this.invMassSolve=0,this.invInertiaSolve=new xe,this.invInertiaWorldSolve=new el,this.fixedRotation=typeof e.fixedRotation<"u"&&e.fixedRotation,this.angularDamping=typeof e.angularDamping<"u"?e.angularDamping:.01,this.linearFactor=new xe(1,1,1),e.linearFactor&&this.linearFactor.copy(e.linearFactor),this.angularFactor=new xe(1,1,1),e.angularFactor&&this.angularFactor.copy(e.angularFactor),this.aabb=new dr,this.aabbNeedsUpdate=!0,this.boundingRadius=0,this.wlambda=new xe,this.isTrigger=!!e.isTrigger,e.shape&&this.addShape(e.shape),this.updateMassProperties()}wakeUp(){const e=this.sleepState;this.sleepState=In.AWAKE,this.wakeUpAfterNarrowphase=!1,e===In.SLEEPING&&this.dispatchEvent(In.wakeupEvent)}sleep(){this.sleepState=In.SLEEPING,this.velocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.wakeUpAfterNarrowphase=!1}sleepTick(e){if(this.allowSleep){const t=this.sleepState,i=this.velocity.lengthSquared()+this.angularVelocity.lengthSquared(),r=this.sleepSpeedLimit**2;t===In.AWAKE&&i<r?(this.sleepState=In.SLEEPY,this.timeLastSleepy=e,this.dispatchEvent(In.sleepyEvent)):t===In.SLEEPY&&i>r?this.wakeUp():t===In.SLEEPY&&e-this.timeLastSleepy>this.sleepTimeLimit&&(this.sleep(),this.dispatchEvent(In.sleepEvent))}}updateSolveMassProperties(){this.sleepState===In.SLEEPING||this.type===In.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve.setZero(),this.invInertiaWorldSolve.setZero()):(this.invMassSolve=this.invMass,this.invInertiaSolve.copy(this.invInertia),this.invInertiaWorldSolve.copy(this.invInertiaWorld))}pointToLocalFrame(e,t){return void 0===t&&(t=new xe),e.vsub(this.position,t),this.quaternion.conjugate().vmult(t,t),t}vectorToLocalFrame(e,t){return void 0===t&&(t=new xe),this.quaternion.conjugate().vmult(e,t),t}pointToWorldFrame(e,t){return void 0===t&&(t=new xe),this.quaternion.vmult(e,t),t.vadd(this.position,t),t}vectorToWorldFrame(e,t){return void 0===t&&(t=new xe),this.quaternion.vmult(e,t),t}addShape(e,t,i){const r=new xe,o=new eo;return t&&r.copy(t),i&&o.copy(i),this.shapes.push(e),this.shapeOffsets.push(r),this.shapeOrientations.push(o),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=this,this}removeShape(e){const t=this.shapes.indexOf(e);return-1===t?(console.warn("Shape does not belong to the body"),this):(this.shapes.splice(t,1),this.shapeOffsets.splice(t,1),this.shapeOrientations.splice(t,1),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=null,this)}updateBoundingRadius(){const e=this.shapes,t=this.shapeOffsets,i=e.length;let r=0;for(let o=0;o!==i;o++){const s=e[o];s.updateBoundingSphereRadius();const a=t[o].length(),c=s.boundingSphereRadius;a+c>r&&(r=a+c)}this.boundingRadius=r}updateAABB(){const e=this.shapes,t=this.shapeOffsets,i=this.shapeOrientations,r=e.length,o=pAe,s=mAe,a=this.quaternion,c=this.aabb,l=gAe;for(let d=0;d!==r;d++){const h=e[d];a.vmult(t[d],o),o.vadd(this.position,o),a.mult(i[d],s),h.calculateWorldAABB(o,s,l.lowerBound,l.upperBound),0===d?c.copy(l):c.extend(l)}this.aabbNeedsUpdate=!1}updateInertiaWorld(e){const t=this.invInertia;if(t.x!==t.y||t.y!==t.z||e){const i=_Ae,r=bAe;i.setRotationFromQuaternion(this.quaternion),i.transpose(r),i.scale(t,i),i.mmult(r,this.invInertiaWorld)}}applyForce(e,t){if(void 0===t&&(t=new xe),this.type!==In.DYNAMIC)return;this.sleepState===In.SLEEPING&&this.wakeUp();const i=vAe;t.cross(e,i),this.force.vadd(e,this.force),this.torque.vadd(i,this.torque)}applyLocalForce(e,t){if(void 0===t&&(t=new xe),this.type!==In.DYNAMIC)return;const i=wAe,r=xAe;this.vectorToWorldFrame(e,i),this.vectorToWorldFrame(t,r),this.applyForce(i,r)}applyTorque(e){this.type===In.DYNAMIC&&(this.sleepState===In.SLEEPING&&this.wakeUp(),this.torque.vadd(e,this.torque))}applyImpulse(e,t){if(void 0===t&&(t=new xe),this.type!==In.DYNAMIC)return;this.sleepState===In.SLEEPING&&this.wakeUp();const i=t,r=EAe;r.copy(e),r.scale(this.invMass,r),this.velocity.vadd(r,this.velocity);const o=CAe;i.cross(e,o),this.invInertiaWorld.vmult(o,o),this.angularVelocity.vadd(o,this.angularVelocity)}applyLocalImpulse(e,t){if(void 0===t&&(t=new xe),this.type!==In.DYNAMIC)return;const i=SAe,r=AAe;this.vectorToWorldFrame(e,i),this.vectorToWorldFrame(t,r),this.applyImpulse(i,r)}updateMassProperties(){const e=MAe;this.invMass=this.mass>0?1/this.mass:0;const t=this.inertia,i=this.fixedRotation;this.updateAABB(),e.set((this.aabb.upperBound.x-this.aabb.lowerBound.x)/2,(this.aabb.upperBound.y-this.aabb.lowerBound.y)/2,(this.aabb.upperBound.z-this.aabb.lowerBound.z)/2),AS.calculateInertia(e,this.mass,t),this.invInertia.set(t.x>0&&!i?1/t.x:0,t.y>0&&!i?1/t.y:0,t.z>0&&!i?1/t.z:0),this.updateInertiaWorld(!0)}getVelocityAtWorldPoint(e,t){const i=new xe;return e.vsub(this.position,i),this.angularVelocity.cross(i,t),this.velocity.vadd(t,t),t}integrate(e,t,i){if(this.previousPosition.copy(this.position),this.previousQuaternion.copy(this.quaternion),this.type!==In.DYNAMIC&&this.type!==In.KINEMATIC||this.sleepState===In.SLEEPING)return;const r=this.velocity,o=this.angularVelocity,s=this.position,a=this.force,c=this.torque,l=this.quaternion,h=this.invInertiaWorld,p=this.linearFactor,_=this.invMass*e;r.x+=a.x*_*p.x,r.y+=a.y*_*p.y,r.z+=a.z*_*p.z;const w=h.elements,I=this.angularFactor,L=c.x*I.x,K=c.y*I.y,Q=c.z*I.z;o.x+=e*(w[0]*L+w[1]*K+w[2]*Q),o.y+=e*(w[3]*L+w[4]*K+w[5]*Q),o.z+=e*(w[6]*L+w[7]*K+w[8]*Q),s.x+=r.x*e,s.y+=r.y*e,s.z+=r.z*e,l.integrate(this.angularVelocity,e,this.angularFactor,l),t&&(i?l.normalizeFast():l.normalize()),this.aabbNeedsUpdate=!0,this.updateInertiaWorld()}}In.idCounter=0,In.COLLIDE_EVENT_NAME="collide",In.DYNAMIC=1,In.STATIC=2,In.KINEMATIC=4,In.AWAKE=0,In.SLEEPY=1,In.SLEEPING=2,In.wakeupEvent={type:"wakeup"},In.sleepyEvent={type:"sleepy"},In.sleepEvent={type:"sleep"};const pAe=new xe,mAe=new eo,gAe=new dr,_Ae=new el,bAe=new el,vAe=(new el,new xe),wAe=new xe,xAe=new xe,EAe=new xe,CAe=new xe,SAe=new xe,AAe=new xe,MAe=new xe;new xe,new xe,new eo,new xe,new xe,new xe,new xe;class G0{constructor(){this.rayFromWorld=new xe,this.rayToWorld=new xe,this.hitNormalWorld=new xe,this.hitPointWorld=new xe,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}reset(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}abort(){this.shouldStop=!0}set(e,t,i,r,o,s,a){this.rayFromWorld.copy(e),this.rayToWorld.copy(t),this.hitNormalWorld.copy(i),this.hitPointWorld.copy(r),this.shape=o,this.body=s,this.distance=a}}let q7,J7,Z7,Q7,eW,tW,nW;q7=Tn.types.SPHERE,J7=Tn.types.PLANE,Z7=Tn.types.BOX,Q7=Tn.types.CYLINDER,eW=Tn.types.CONVEXPOLYHEDRON,tW=Tn.types.HEIGHTFIELD,nW=Tn.types.TRIMESH;class wo{get[q7](){return this._intersectSphere}get[J7](){return this._intersectPlane}get[Z7](){return this._intersectBox}get[Q7](){return this._intersectConvex}get[eW](){return this._intersectConvex}get[tW](){return this._intersectHeightfield}get[nW](){return this._intersectTrimesh}constructor(e,t){void 0===e&&(e=new xe),void 0===t&&(t=new xe),this.from=e.clone(),this.to=t.clone(),this.direction=new xe,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=wo.ANY,this.result=new G0,this.hasHit=!1,this.callback=i=>{}}intersectWorld(e,t){return this.mode=t.mode||wo.ANY,this.result=t.result||new G0,this.skipBackfaces=!!t.skipBackfaces,this.collisionFilterMask=typeof t.collisionFilterMask<"u"?t.collisionFilterMask:-1,this.collisionFilterGroup=typeof t.collisionFilterGroup<"u"?t.collisionFilterGroup:-1,this.checkCollisionResponse=!(typeof t.checkCollisionResponse<"u")||t.checkCollisionResponse,t.from&&this.from.copy(t.from),t.to&&this.to.copy(t.to),this.callback=t.callback||(()=>{}),this.hasHit=!1,this.result.reset(),this.updateDirection(),this.getAABB(iW),nN.length=0,e.broadphase.aabbQuery(e,iW,nN),this.intersectBodies(nN),this.hasHit}intersectBody(e,t){t&&(this.result=t,this.updateDirection());const i=this.checkCollisionResponse;if(i&&!e.collisionResponse||!(this.collisionFilterGroup&e.collisionFilterMask)||!(e.collisionFilterGroup&this.collisionFilterMask))return;const r=PAe,o=NAe;for(let s=0,a=e.shapes.length;s<a;s++){const c=e.shapes[s];if((!i||c.collisionResponse)&&(e.quaternion.mult(e.shapeOrientations[s],o),e.quaternion.vmult(e.shapeOffsets[s],r),r.vadd(e.position,r),this.intersectShape(c,o,r,e),this.result.shouldStop))break}}intersectBodies(e,t){t&&(this.result=t,this.updateDirection());for(let i=0,r=e.length;!this.result.shouldStop&&i<r;i++)this.intersectBody(e[i])}updateDirection(){this.to.vsub(this.from,this.direction),this.direction.normalize()}intersectShape(e,t,i,r){if(function JAe(n,e,t){t.vsub(n,Cp);const i=Cp.dot(e);return e.scale(i,TS),TS.vadd(n,TS),t.distanceTo(TS)}(this.from,this.direction,i)>e.boundingSphereRadius)return;const a=this[e.type];a&&a.call(this,e,t,i,r,e)}_intersectBox(e,t,i,r,o){return this._intersectConvex(e.convexPolyhedronRepresentation,t,i,r,o)}_intersectPlane(e,t,i,r,o){const s=this.from,a=this.to,c=this.direction,l=new xe(0,0,1);t.vmult(l,l);const d=new xe;s.vsub(i,d);const h=d.dot(l);if(a.vsub(i,d),h*d.dot(l)>0||s.distanceTo(a)<h)return;const _=l.dot(c);if(Math.abs(_)<this.precision)return;const w=new xe,I=new xe,L=new xe;s.vsub(i,w);const K=-l.dot(w)/_;c.scale(K,I),s.vadd(I,L),this.reportIntersection(l,L,o,r,-1)}getAABB(e){const{lowerBound:t,upperBound:i}=e,r=this.to,o=this.from;t.x=Math.min(r.x,o.x),t.y=Math.min(r.y,o.y),t.z=Math.min(r.z,o.z),i.x=Math.max(r.x,o.x),i.y=Math.max(r.y,o.y),i.z=Math.max(r.z,o.z)}_intersectHeightfield(e,t,i,r,o){const s=FAe;s.from.copy(this.from),s.to.copy(this.to),Vi.pointToLocalFrame(i,t,s.from,s.from),Vi.pointToLocalFrame(i,t,s.to,s.to),s.updateDirection();const a=LAe;let c,l,d,h;c=l=0,d=h=e.data.length-1;const p=new dr;s.getAABB(p),e.getIndexOfPosition(p.lowerBound.x,p.lowerBound.y,a,!0),c=Math.max(c,a[0]),l=Math.max(l,a[1]),e.getIndexOfPosition(p.upperBound.x,p.upperBound.y,a,!0),d=Math.min(d,a[0]+1),h=Math.min(h,a[1]+1);for(let _=c;_<d;_++)for(let w=l;w<h;w++){if(this.result.shouldStop)return;if(e.getAabbAtIndex(_,w,p),p.overlapsRay(s)){if(e.getConvexTrianglePillar(_,w,!1),Vi.pointToWorldFrame(i,t,e.pillarOffset,MS),this._intersectConvex(e.pillarConvex,t,MS,r,o,rW),this.result.shouldStop)return;e.getConvexTrianglePillar(_,w,!0),Vi.pointToWorldFrame(i,t,e.pillarOffset,MS),this._intersectConvex(e.pillarConvex,t,MS,r,o,rW)}}}_intersectSphere(e,t,i,r,o){const s=this.from,a=this.to,l=(a.x-s.x)**2+(a.y-s.y)**2+(a.z-s.z)**2,d=2*((a.x-s.x)*(s.x-i.x)+(a.y-s.y)*(s.y-i.y)+(a.z-s.z)*(s.z-i.z)),p=d**2-4*l*((s.x-i.x)**2+(s.y-i.y)**2+(s.z-i.z)**2-e.radius**2),_=BAe,w=UAe;if(!(p<0))if(0===p)s.lerp(a,p,_),_.vsub(i,w),w.normalize(),this.reportIntersection(w,_,o,r,-1);else{const I=(-d-Math.sqrt(p))/(2*l),L=(-d+Math.sqrt(p))/(2*l);if(I>=0&&I<=1&&(s.lerp(a,I,_),_.vsub(i,w),w.normalize(),this.reportIntersection(w,_,o,r,-1)),this.result.shouldStop)return;L>=0&&L<=1&&(s.lerp(a,L,_),_.vsub(i,w),w.normalize(),this.reportIntersection(w,_,o,r,-1))}}_intersectConvex(e,t,i,r,o,s){const a=jAe,c=oW,l=s&&s.faceList||null,d=e.faces,h=e.vertices,p=e.faceNormals,_=this.direction,w=this.from,L=w.distanceTo(this.to),K=l?l.length:d.length,Q=this.result;for(let me=0;!Q.shouldStop&&me<K;me++){const Pe=l?l[me]:me,We=d[Pe],tt=p[Pe],ut=t,wt=i;c.copy(h[We[0]]),ut.vmult(c,c),c.vadd(wt,c),c.vsub(w,c),ut.vmult(tt,a);const vt=_.dot(a);if(Math.abs(vt)<this.precision)continue;const bt=a.dot(c)/vt;if(!(bt<0)){_.scale(bt,Ma),Ma.vadd(w,Ma),tl.copy(h[We[0]]),ut.vmult(tl,tl),wt.vadd(tl,tl);for(let St=1;!Q.shouldStop&&St<We.length-1;St++){rd.copy(h[We[St]]),od.copy(h[We[St+1]]),ut.vmult(rd,rd),ut.vmult(od,od),wt.vadd(rd,rd),wt.vadd(od,od);const Rt=Ma.distanceTo(w);!wo.pointInTriangle(Ma,tl,rd,od)&&!wo.pointInTriangle(Ma,rd,tl,od)||Rt>L||this.reportIntersection(a,Ma,o,r,Pe)}}}}_intersectTrimesh(e,t,i,r,o,s){const a=HAe,c=KAe,l=qAe,d=oW,h=GAe,p=WAe,_=$Ae,w=XAe,I=YAe,L=e.indices,K=this.from,Q=this.to,me=this.direction;l.position.copy(i),l.quaternion.copy(t),Vi.vectorToLocalFrame(i,t,me,h),Vi.pointToLocalFrame(i,t,K,p),Vi.pointToLocalFrame(i,t,Q,_),_.x*=e.scale.x,_.y*=e.scale.y,_.z*=e.scale.z,p.x*=e.scale.x,p.y*=e.scale.y,p.z*=e.scale.z,_.vsub(p,h),h.normalize();const Pe=p.distanceSquared(_);e.tree.rayQuery(this,l,c);for(let We=0,tt=c.length;!this.result.shouldStop&&We!==tt;We++){const ut=c[We];e.getNormal(ut,a),e.getVertex(L[3*ut],tl),tl.vsub(p,d);const wt=h.dot(a),vt=a.dot(d)/wt;if(vt<0)continue;h.scale(vt,Ma),Ma.vadd(p,Ma),e.getVertex(L[3*ut+1],rd),e.getVertex(L[3*ut+2],od);const bt=Ma.distanceSquared(p);!wo.pointInTriangle(Ma,rd,tl,od)&&!wo.pointInTriangle(Ma,tl,rd,od)||bt>Pe||(Vi.vectorToWorldFrame(t,a,I),Vi.pointToWorldFrame(i,t,Ma,w),this.reportIntersection(I,w,o,r,ut))}c.length=0}reportIntersection(e,t,i,r,o){const s=this.from,a=this.to,c=s.distanceTo(t),l=this.result;if(!(this.skipBackfaces&&e.dot(this.direction)>0))switch(l.hitFaceIndex=typeof o<"u"?o:-1,this.mode){case wo.ALL:this.hasHit=!0,l.set(s,a,e,t,i,r,c),l.hasHit=!0,this.callback(l);break;case wo.CLOSEST:(c<l.distance||!l.hasHit)&&(this.hasHit=!0,l.hasHit=!0,l.set(s,a,e,t,i,r,c));break;case wo.ANY:this.hasHit=!0,l.hasHit=!0,l.set(s,a,e,t,i,r,c),l.shouldStop=!0}}static pointInTriangle(e,t,i,r){r.vsub(t,Cp),i.vsub(t,W0),e.vsub(t,iN);const o=Cp.dot(Cp),s=Cp.dot(W0),a=Cp.dot(iN),c=W0.dot(W0),l=W0.dot(iN);let d,h;return(d=c*a-s*l)>=0&&(h=o*l-s*a)>=0&&d+h<o*c-s*s}}wo.CLOSEST=1,wo.ANY=2,wo.ALL=4;const iW=new dr,nN=[],W0=new xe,iN=new xe,PAe=new xe,NAe=new eo,Ma=new xe,tl=new xe,rd=new xe,od=new xe;new xe,new G0;const rW={faceList:[0]},MS=new xe,FAe=new wo,LAe=[],BAe=new xe,UAe=new xe,jAe=new xe,oW=(new xe,new xe,new xe),HAe=new xe,GAe=new xe,WAe=new xe,$Ae=new xe,YAe=new xe,XAe=new xe;new dr;const KAe=[],qAe=new Vi,Cp=new xe,TS=new xe;new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new wo,new xe,new xe,new xe,new xe(1,0,0),new xe(0,1,0),new xe(0,0,1),new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new dr,new xe,new dr,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new dr,new xe,new Vi,new dr,new xe,new xe,new xe,new xe,new xe,new eo,new eo,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new dr,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new eo,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new xe,new dr,new wo;const Do=globalThis.performance||{};if(!Do.now){let n=Date.now();Do.timing&&Do.timing.navigationStart&&(n=Do.timing.navigationStart),Do.now=()=>Date.now()-n}new xe;var sd=m(1979);function R_(n,e,t){e||(e=new Dt(Dt.IDENTITY));const i=new Dt(Dt.IDENTITY);if(!n)return!0;if(n.matrix)i.copy(n.matrix);else{if(i.identity(),n.translation&&i.translate(n.translation),n.rotation){const o=new Dt(Dt.IDENTITY).fromQuaternion(n.rotation);i.multiplyRight(o)}n.scale&&i.scale(n.scale)}const r=new Dt(e).multiplyRight(i);if(!1===t(n,r,e))return!1;for(const o of n.nodes||n.children||[])if(!1===R_(o,r,t))return!1;return!0}function OW(){pG([x7,I_])}function kW(n,e){const t=e.nodes?.find(i=>i.name===n);if(t){let i=!1;for(const r of e.scenes)i||R_(r,new Dt(Dt.IDENTITY),(o,s)=>o!==t||(o.matrix=s,o.translation=void 0,o.rotation=void 0,o.scale=void 0,i=!0,!1));return e.scene={id:n,name:n,nodes:[t]},e.scenes=[e.scene],{scene:e.scene,scenes:e.scenes}}return e}function aN(n,e){return cN.apply(this,arguments)}function cN(){return cN=_n(function*(n,e){const t=n.scenegraph;let i;i=e?e[t]||(e[t]=fetch(t).then(o=>o.blob())):fetch(t);const r=yield eS(i,I_,{DracoLoader:IP,gltf:{decompressMeshes:!0,postProcess:!0}});return r.nodes||console.log("WARNING: Empty Scene",t,r),kW(n.scenegraphNode,r)}),cN.apply(this,arguments)}function tDe(n,e){return lN.apply(this,arguments)}function lN(){return lN=_n(function*(n,e){return kW(n,yield e)}),lN.apply(this,arguments)}function dN(){return dN=_n(function*(n){console.log("Starting Collisioning");const e=n.filter(s=>!s.scenegraph&&"wireframe"!==s.geometry).map(s=>{const a=new Dt(s.transformMatrix),c=a.transformAsPoint([-1,-1,-1],[]),l=a.transformAsPoint([1,1,1],[]);return{"@id":s["@id"],name:s.tooltip,entityId:s.entityId,bbox:new dr({lowerBound:new xe(...c.map((d,h)=>Math.min(d,l[h]))),upperBound:new xe(...l.map((d,h)=>Math.max(d,c[h])))})}}),t=[];for(const s of n.filter(a=>!!a.scenegraph)){const a=yield T0(s.scenegraph,I_,{DracoLoader:IP,decompress:!0,postProcess:!0});for(const c of a.scenes)R_(c,new Dt(s.transformMatrix),(l,d)=>{if(l.mesh&&l.mesh.primitives&&l.mesh.primitives.length>0)for(const h of l.mesh.primitives)if(h.attributes.POSITION&&h.attributes.POSITION.min){const p=d.transformAsPoint(h.attributes.POSITION.min,[]),_=d.transformAsPoint(h.attributes.POSITION.max,[]);t.push({"@id":s["@id"],name:l.name,entityId:s.entityId,bbox:new dr({lowerBound:new xe(...p.map((w,I)=>Math.min(w,_[I]))),upperBound:new xe(..._.map((w,I)=>Math.max(w,p[I])))}),gltf:a})}return!0})}const i=[],r=[];for(const s of e){const a=[];for(const c of t)s.bbox.overlaps(c.bbox)&&a.push({"@id":c["@id"],name:c.name});a.length>0?i.push({"@id":s.entityId,name:s.name,hits:a}):r.push(s)}console.log({sourceBoxes:e,targetBoxes:t,report:i,sad:r,maxHits:Math.max(...i.map(s=>s.hits.length))});const o=[];for(const s of i){o.push({"Tissue ID":s["@id"],"Tissue Name":s.name,"Hit ID":"","Hit Name":""});for(const a of s.hits)o.push({"Tissue ID":s["@id"],"Tissue Name":s.name,"Hit ID":a["@id"],"Hit Name":a.name})}return console.log(o),i}),dN.apply(this,arguments)}function uN(n,e,t){if(e&&0!==e.length){let i;switch(t.geometry){case"sphere":i=new $Se;break;case"cone":i=new qSe;break;case"cylinder":i=new JSe;break;default:i=new iAe}return new FR({id:n,pickable:!0,autoHighlight:!1,highlightColor:[30,136,229,255],coordinateSystem:Bi.CARTESIAN,data:e,mesh:i,wireframe:!1,getColor:r=>r.color||[255,255,255,229.5],getTransformMatrix:r=>r.transformMatrix,...t})}}function RW(n,e,t){if(e&&0!==e.length)return new kR({id:n,pickable:!0,data:e.map(i=>({...i,position:new Dt(i.transformMatrix).getTranslation()})),getText:i=>i.text,getPosition:i=>i.position,getColor:i=>i.color,...t})}let iDe=(()=>{class n extends nR{static#e=this.layerName="BodyUILayer";static#t=this.gltfCache={};initializeState(){const{data:t}=this.props;this.setState({data:t??[],zoomOpacity:.8,doCollisions:!1}),OW()}renderLayers(){const t=this.state,i={sphere:[],cone:[],cylinder:[],cube:[],text:[],wireframe:[],scenegraph:[]};for(const s of t.data){const a=s.geometry??"cube";s.scenegraph?i.scenegraph.push(s):void 0!==i[a]&&i[a].push(s)}const r={};for(const s of i.scenegraph)s.scenegraph&&s.scenegraphNode&&!Object.prototype.hasOwnProperty.call(r,s.scenegraph)&&(r[s.scenegraph]=aN({scenegraph:s.scenegraph},n.gltfCache));const o=[];for(const[s,a]of Object.entries(i))if("scenegraph"===s)for(const c of a)o.push(new qP({id:"models-"+c["@id"],opacity:c.zoomBasedOpacity?t.zoomOpacity:c.opacity??1,pickable:!c.unpickable,coordinateSystem:Bi.CARTESIAN,data:[c],scenegraph:c.scenegraphNode?tDe(c.scenegraphNode,r[c.scenegraph]):c.scenegraph,_lighting:c._lighting,getTransformMatrix:c.transformMatrix,getColor:c.color??[0,255,0,127.5],parameters:{depthMask:!c.zoomBasedOpacity&&(void 0===c.opacity||1===c.opacity)}}));else"text"===s?(o.push(RW("text",a.filter(c=>c.unpickable),{pickable:!1})),o.push(RW("textPickable",a.filter(c=>!c.unpickable),{pickable:!0}))):"wireframe"===s?o.push(uN(s,a,{wireframe:!0,pickable:!1,geometry:s})):(o.push(uN(s,a.filter(c=>c.unpickable),{wireframe:!1,pickable:!1,geometry:s})),o.push(uN(`${s}Pickable`,a.filter(c=>!c.unpickable),{wireframe:!1,pickable:!0,geometry:s})));return t.doCollisions&&function nDe(n){dN.apply(this,arguments)}(t.data),o.filter(s=>!!s)}getPickingInfo(t){return t.info}}return n})();function PW(n,e=[]){for(const t of n.nodes||n.children||[])e.push(t.name),PW(t,e);return e}function hN(){return hN=_n(function*(n,e,t,i){OW();const r=yield aN({scenegraph:n,scenegraphNode:t},i),o={},s=[];for(const a of r.scenes)R_(a,e=new Dt(e||Dt.IDENTITY),(c,l)=>{const d={"@id":c.name||c.id,"@type":"ProcessedNode",transformMatrix:new Dt(l),geometry:"wireframe",node:c};if(s.push({"@id":`GLTF:${d["@id"]}`,"@type":"GLTFNode",scenegraph:n,scenegraphNode:d["@id"],transformMatrix:new Dt(e||Dt.IDENTITY),tooltip:c.name||c.id,color:[255,255,255,255],_lighting:"pbr",zoomBasedOpacity:!0,node:c}),c.mesh&&c.mesh.primitives&&c.mesh.primitives.length>0)for(const h of c.mesh.primitives)if(h.attributes.POSITION&&h.attributes.POSITION.min){const p=l.transformAsPoint(h.attributes.POSITION.min,[]),_=l.transformAsPoint(h.attributes.POSITION.max,[]);d.bbox=new dr({lowerBound:new xe(...p.map((w,I)=>Math.min(w,_[I]))),upperBound:new xe(..._.map((w,I)=>Math.max(w,p[I])))})}return o[d["@id"]]=d,!0});for(const a of Object.values(o).filter(c=>!c.bbox)){for(const c of PW(a.node).map(l=>o[l]).filter(l=>l.bbox))a.bbox?a.bbox.extend(c.bbox):a.bbox=c.bbox.clone();a.bbox||delete o[a["@id"]]}for(const a of Object.values(o)){const c=a.bbox.lowerBound,h=(a.size=a.bbox.upperBound.clone().vsub(c)).clone().vmul(new xe(.5,.5,.5)),p=a.center=c.clone().vadd(h);a.transformMatrix=new Dt(Dt.IDENTITY).translate(p.toArray()).scale(h.toArray())}for(const a of s)o[a["@id"]]=a;return o}),hN.apply(this,arguments)}let oDe=(()=>{class n{constructor(t){this.deckProps=t,this.bodyUILayer=new iDe({}),this.nodeClickSubject=new j,this.nodeHoverStartSubject=new j,this.nodeHoverStopSubject=new j,this.sceneRotationSubject=new Ei([0,0]),this.nodeDragStartSubject=new j,this.nodeDragSubject=new j,this.nodeDragEndSubject=new j,this.nodeClick$=this.nodeClickSubject.pipe(vs()),this.nodeHoverStart$=this.nodeHoverStartSubject.pipe(vs()),this.nodeHoverStop$=this.nodeHoverStopSubject.pipe(vs()),this.sceneRotation$=this.sceneRotationSubject.pipe(vs()),this.nodeDragStart$=this.nodeDragStartSubject.pipe(vs()),this.nodeDrag$=this.nodeDragSubject.pipe(vs()),this.nodeDragEnd$=this.nodeDragEndSubject.pipe(vs());const i={...t,views:["orthographic"===t.camera?new sR({flipY:!1,near:-1e3}):new CG({orbitAxis:"Y"})],controller:t.interactive??!0,layers:[this.bodyUILayer],onHover:this._onHover,onClick:this._onClick,onViewStateChange:this._onViewStateChange,onDragStart:this._onDragStart,onDrag:this._onDrag,onDragEnd:this._onDragEnd,getCursor:r=>this.cursor??(r.isDragging?"grabbing":"grab")};t.legacyLighting&&(i.effects=[new dR({ambientLight:new SG({color:[255,255,255],intensity:10})})]),this.deck=new MR(i),this.deck.setProps({viewState:{orbitAxis:"Y",minRotationX:t.minRotationX??-15,maxRotationX:t.maxRotationX??15,target:t.target??[.5,.5,0],rotationX:0,rotationOrbit:t.rotation??0,zoom:t.zoom??9.5,camera:t.camera}}),t.rotation&&this.sceneRotationSubject.next([t.rotation,0])}initialize(){var t=this;return _n(function*(){for(;!t.bodyUILayer.state;)yield new Promise(i=>{setTimeout(i,200)})})()}finalize(){this.deck.finalize()}setScene(t){if(t?.length>0){let i=this.bodyUILayer.state.zoomOpacity,r=!1;for(const o of t)o.zoomToOnLoad&&(this.zoomTo(o),r=!0);i=r?.05:i,this.deckProps.debugSceneNodeProcessing?this.debugSceneNodeProcessing(t,i):this.bodyUILayer.setState({data:t,zoomOpacity:i})}}debugSceneNodeProcessing(t,i){const r="https://hubmapconsortium.github.io/ccf-3d-reference-object-library/VH_Female/United/VHF_United_Color.glb",o=new Dt([.076,0,0,0,0,.076,16875389974302382e-33,0,0,-16875389974302382e-33,.076,0,.49,.034,.11,1]);(function rDe(n,e,t,i){return hN.apply(this,arguments)})(r,o,"VHF_Kidney_L_Low1").then(s=>{console.log("results",s),console.log("data",t),(t=t.concat(Object.values(s))).push({"@id":"TEST","@type":"TEST",scenegraph:r,scenegraphNode:"VHF_Kidney_R_Low",transformMatrix:o,color:[255,255,255,200],_lighting:"pbr",zoomBasedOpacity:!1}),this.bodyUILayer.setState({data:t,zoomOpacity:i})})}zoomTo(t){const i=new Dt(t.transformMatrix);this.deck.setProps({viewState:{...this.deck.props.viewState,target:i.getTranslation(),rotationX:0,rotationOrbit:0,zoom:11.5}})}setRotation(t){this.deck.setProps({viewState:{...this.deck.props.viewState,rotationOrbit:t}})}setRotationX(t){this.deck.setProps({viewState:{...this.deck.props.viewState,rotationX:t}})}setZoom(t){this.deck.setProps({viewState:{...this.deck.props.viewState,zoom:t}})}setTarget(t){this.deck.setProps({viewState:{...this.deck.props.viewState,target:t}})}setInteractive(t){this.deck.setProps({controller:t})}_onHover(t){const{lastHovered:i}=this;this.cursor=t.picked?"pointer":void 0,t.picked&&t.object?.["@id"]?i!==t.object&&(i&&this.nodeHoverStopSubject.next(i),this.lastHovered=t.object,this.nodeHoverStartSubject.next(t.object)):i&&(this.nodeHoverStopSubject.next(i),this.lastHovered=void 0)}_onClick(t,i){t.picked&&t.object?.["@id"]&&this.nodeClickSubject.next({node:t.object,ctrlClick:i?.srcEvent?.ctrlKey??void 0})}_onViewStateChange(t){if(t.interactionState?.isZooming){const i=this.bodyUILayer.state,r=Math.min(Math.max(1-(t.viewState.zoom-8.9)/2,.05),1);i.zoomOpacity!==r&&this.bodyUILayer.setState({data:i.data,zoomOpacity:r})}this.deck.setProps({viewState:{...t.viewState}}),this.sceneRotationSubject.next([t.viewState.rotationOrbit,t.viewState.rotationX])}_onDragStart(t,i){this._dragEvent(t,i,this.nodeDragStartSubject)}_onDrag(t,i){this._dragEvent(t,i,this.nodeDragSubject)}_onDragEnd(t,i){this._dragEvent(t,i,this.nodeDragEndSubject)}_dragEvent(t,i,r){t?.object?.["@id"]&&r.next({node:t.object,info:t,e:i})}}return ke([sd.ak],n.prototype,"_onHover",null),ke([sd.ak],n.prototype,"_onClick",null),ke([sd.ak],n.prototype,"_onViewStateChange",null),ke([sd.ak],n.prototype,"_onDragStart",null),ke([sd.ak],n.prototype,"_onDrag",null),ke([sd.ak],n.prototype,"_onDragEnd",null),n})();const J0=D(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});let NW=(()=>{class n{constructor(){this.bootstrap$=new Xf(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aDe(n,e){return n===e}function pN(n,e=aDe){let t=null,i=null;function r(){return function cDe(n,e,t){if(null===e||null===t||e.length!==t.length)return!1;const i=e.length;for(let r=0;r<i;r++)if(!n(e[r],t[r]))return!1;return!0}(e,t,arguments)||(i=n.apply(null,arguments)),t=arguments,i}return r.reset=function(){t=null,i=null},r}let lDe=(()=>{class n{static set(t){this._value=t}static pop(){const t=this._value;return this._value={},t}}return n._value={},n})();const FW=new yt("INITIAL_STATE_TOKEN",{providedIn:"root",factory:()=>lDe.pop()}),LW=new yt("\u0275NGXS_STATE_FACTORY"),BW=new yt("\u0275NGXS_STATE_CONTEXT_FACTORY");function Tp(n){return!!n&&(n instanceof Ye||F(n.lift)&&F(n.subscribe))}function UW(n,e){return e?t=>t.pipe(UW((i,r)=>er(n(i,r)).pipe(E((o,s)=>e(i,o,r,s))))):he((t,i)=>{let r=0,o=null,s=!1;t.subscribe(Z(i,a=>{o||(o=Z(i,void 0,()=>{o=null,s&&i.complete()}),er(n(a,r++)).subscribe(o))},()=>{s=!0,!o&&i.complete()}))})}function P_(n){return he((e,t)=>{let i=!1;e.subscribe(Z(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Ip(n){return n.constructor&&n.constructor.type?n.constructor.type:n.type}const mN=(n,e,t)=>{n=Object.assign({},n);const i=e.split("."),r=i.length-1;return i.reduce((o,s,a)=>(o[s]=a===r?t:Array.isArray(o[s])?o[s].slice():Object.assign({},o[s]),o&&o[s]),n),n},Z0=(n,e)=>e.split(".").reduce((t,i)=>t&&t[i],n),gN=n=>n&&"object"==typeof n&&!Array.isArray(n),_N=(n,...e)=>{if(!e.length)return n;const t=e.shift();if(gN(n)&&gN(t))for(const i in t)gN(t[i])?(n[i]||Object.assign(n,{[i]:{}}),_N(n[i],t[i])):Object.assign(n,{[i]:t[i]});return _N(n,...e)};let jW=(()=>{class n{constructor(t,i){this._ngZone=t,this._platformId=i}enter(t){return Av(this._platformId)?this.runInsideAngular(t):this.runOutsideAngular(t)}leave(t){return this.runInsideAngular(t)}runInsideAngular(t){return un.isInAngularZone()?t():this._ngZone.run(t)}runOutsideAngular(t){return un.isInAngularZone()?this._ngZone.runOutsideAngular(t):t()}}return n.\u0275fac=function(t){return new(t||n)(Ze(un),Ze(Zs))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VW=new yt("ROOT_OPTIONS"),zW=new yt("ROOT_STATE_TOKEN"),HW=new yt("FEATURE_STATE_TOKEN"),bN=new yt("NGXS_PLUGINS"),mu="NGXS_META",GW="NGXS_OPTIONS_META",yN="NGXS_SELECTOR_META";let FS=(()=>{class n{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=jW}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Tt({token:n,factory:function(t){let i=null;return t?i=new t:(r=Ze(VW),i=_N(new n,r)),i;var r},providedIn:"root"}),n})();class yDe{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}}let vDe=(()=>{class n{enter(t){return t()}leave(t){return t()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WW=new yt("USER_PROVIDED_NGXS_EXECUTION_STRATEGY"),wDe=new yt("NGXS_EXECUTION_STRATEGY",{providedIn:"root",factory:()=>{const n=Kt(ng),e=n.get(WW);return n.get(e||(typeof Gi.Zone<"u"?jW:vDe))}});function vN(n){if(!n.hasOwnProperty(mu)){const e={name:null,actions:{},defaults:{},path:null,makeRootSelector:t=>t.getStateGetter(e.name),children:[]};Object.defineProperty(n,mu,{value:e})}return Dp(n)}function Dp(n){return n[mu]}function wN(n){return n.hasOwnProperty(yN)||Object.defineProperty(n,yN,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),LS(n)}function LS(n){return n[yN]}function $W(n,e){return e&&e.compatibility&&e.compatibility.strictContentSecurityPolicy?function xDe(n){const e=n.slice();return t=>e.reduce((i,r)=>i&&i[r],t)}(n):function EDe(n){const e=n;let t="store."+e[0],i=0;const r=e.length;let o=t;for(;++i<r;)o=o+" && "+(t=t+"."+e[i]);return new Function("store","return "+o+";")}(n)}function IDe(...n){return function N_(n,e,t=kDe){const i=function RDe(n){return n.reduce((e,t)=>(e[Ip(t)]=!0,e),{})}(n),r=e&&function PDe(n){return n.reduce((e,t)=>(e[t]=!0,e),{})}(e);return function(o){return o.pipe(function DDe(n,e){return ui(t=>{const i=Ip(t.action);return n[i]&&(!e||e[t.status])})}(i,r),t())}}(n,["DISPATCHED"])}function kDe(){return E(n=>n.action)}function BS(n){return e=>new Ye(t=>e.subscribe({next(i){n.leave(()=>t.next(i))},error(i){n.leave(()=>t.error(i))},complete(){n.leave(()=>t.complete())}}))}let YW=(()=>{class n{constructor(t){this._executionStrategy=t}enter(t){return this._executionStrategy.enter(t)}leave(t){return this._executionStrategy.leave(t)}}return n.\u0275fac=function(t){return new(t||n)(Ze(wDe))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XW(n){const e=[];let t=!1;return function(...r){if(t)e.unshift(r);else{for(t=!0,n(...r);e.length>0;){const o=e.pop();o&&n(...o)}t=!1}}}class NDe extends j{constructor(){super(...arguments),this._orderedNext=XW(e=>super.next(e))}next(e){this._orderedNext(e)}}class FDe extends Ei{constructor(e){super(e),this._orderedNext=XW(t=>super.next(t)),this._currentValue=e}getValue(){return this._currentValue}next(e){this._currentValue=e,this._orderedNext(e)}}let KW=(()=>{class n extends NDe{ngOnDestroy(){this.complete()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=ti(n)))(i||n)}}(),n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qW=n=>(...e)=>n.shift()(...e,(...i)=>qW(n)(...i));let JW=(()=>{class n{constructor(t){this._injector=t,this._errorHandler=null}reportErrorSafely(t){null===this._errorHandler&&(this._errorHandler=this._injector.get(Pa));try{this._errorHandler.handleError(t)}catch{}}}return n.\u0275fac=function(t){return new(t||n)(Ze(Li))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xN=(()=>{class n extends FDe{constructor(){super({})}ngOnDestroy(){this.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EN=(()=>{class n{constructor(t,i){this._parentManager=t,this._pluginHandlers=i,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const t=this.getPluginHandlers();this.rootPlugins.push(...t)}getPluginHandlers(){return(this._pluginHandlers||[]).map(i=>i.handle?i.handle.bind(i):i)}}return n.\u0275fac=function(t){return new(t||n)(Ze(n,12),Ze(bN,8))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac}),n})(),ZW=(()=>{class n extends j{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=ti(n)))(i||n)}}(),n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BDe=(()=>{class n{constructor(t,i,r,o,s,a){this._actions=t,this._actionResults=i,this._pluginManager=r,this._stateStream=o,this._ngxsExecutionStrategy=s,this._internalErrorReporter=a}dispatch(t){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(t)).pipe(function LDe(n,e){return t=>{let i=!1;return t.subscribe({error:r=>{e.enter(()=>Promise.resolve().then(()=>{i||e.leave(()=>n.reportErrorSafely(r))}))}}),new Ye(r=>(i=!0,t.pipe(BS(e)).subscribe(r)))}}(this._internalErrorReporter,this._ngxsExecutionStrategy))}dispatchByEvents(t){return Array.isArray(t)?0===t.length?sn(this._stateStream.getValue()):jv(t.map(i=>this.dispatchSingle(i))):this.dispatchSingle(t)}dispatchSingle(t){const i=this._stateStream.getValue();return qW([...this._pluginManager.plugins,(o,s)=>{o!==i&&this._stateStream.next(o);const a=this.getActionResultStream(s);return a.subscribe(c=>this._actions.next(c)),this._actions.next({action:s,status:"DISPATCHED"}),this.createDispatchObservable(a)}])(i,t).pipe(dc())}getActionResultStream(t){return this._actionResults.pipe(ui(i=>i.action===t&&"DISPATCHED"!==i.status),Qi(1),dc())}createDispatchObservable(t){return t.pipe(UW(i=>{switch(i.status){case"SUCCESSFUL":return sn(this._stateStream.getValue());case"ERRORED":return Qd(i.error);default:return ee}})).pipe(dc())}}return n.\u0275fac=function(t){return new(t||n)(Ze(KW),Ze(ZW),Ze(EN),Ze(xN),Ze(YW),Ze(JW))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q0=(()=>{class n{constructor(t,i,r){this._stateStream=t,this._dispatcher=i,this._config=r}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:i=>this._stateStream.next(i),dispatch:i=>this._dispatcher.dispatch(i)}}setStateToTheCurrentWithNew(t){const i=this.getRootStateOperations(),r=i.getState();i.setState(Object.assign(Object.assign({},r),t.defaults))}}return n.\u0275fac=function(t){return new(t||n)(Ze(xN),Ze(BDe),Ze(FS))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CN=(()=>{class n{constructor(t){this._internalStateOperations=t}createStateContext(t){const i=this._internalStateOperations.getRootStateOperations();function r(c){return Z0(c,t.path)}function o(c,l){const d=mN(c,t.path,l);return i.setState(d),d}function s(c,l){return o(c,l(r(c)))}return{getState:()=>r(i.getState()),patchState(c){const l=i.getState(),d=function UDe(n){return e=>{const t=Object.assign({},e);for(const i in n)t[i]=n[i];return t}}(c);return s(l,d)},setState(c){const l=i.getState();return function a(c){return"function"==typeof c}(c)?s(l,c):o(l,c)},dispatch:c=>i.dispatch(c)}}}return n.\u0275fac=function(t){return new(t||n)(Ze(Q0))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();new RegExp("^[a-zA-Z0-9_]+$");class AN{static get type(){return"@@INIT"}}class MN{constructor(e){this.addedStates=e}static get type(){return"@@UPDATE_STATE"}}new yt("NGXS_DEVELOPMENT_OPTIONS",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})});let F_=(()=>{class n{constructor(t,i,r,o,s,a,c){this._injector=t,this._config=i,this._parentFactory=r,this._actions=o,this._actionResults=s,this._stateContextFactory=a,this._initialState=c,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=pN(()=>{const l=this;function d(p){const _=l.statePaths[p];return _?$W(_.split("."),l._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(p){let _=d(p);return _||((...w)=>(_||(_=d(p)),_?_(...w):void 0))},getSelectorOptions:p=>Object.assign(Object.assign({},l._config.selectorOptions),p||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static cloneDefaults(t){let i={};return i=Array.isArray(t)?t.slice():function TDe(n){return"object"==typeof n&&null!==n||"function"==typeof n}(t)?Object.assign({},t):void 0===t?{}:t,i}ngOnDestroy(){var t;null===(t=this._actionsSubscription)||void 0===t||t.unsubscribe()}add(t){const{newStates:i}=this.addToStatesMap(t);if(!i.length)return[];const r=function CDe(n){const e=t=>n.find(r=>r===t)[mu].name;return n.reduce((t,i)=>{const{name:r,children:o}=i[mu];return t[r]=(o||[]).map(e),t},{})}(i),o=function MDe(n){const e=[],t={},i=(r,o=[])=>{Array.isArray(o)||(o=[]),o.push(r),t[r]=!0,n[r].forEach(s=>{t[s]||i(s,o.slice(0))}),e.indexOf(r)<0&&e.push(r)};return Object.keys(n).forEach(r=>i(r)),e.reverse()}(r),s=function ADe(n,e={}){const t=(i,r)=>{for(const o in i)if(i.hasOwnProperty(o)&&i[o].indexOf(r)>=0){const s=t(i,o);return null!==s?`${s}.${o}`:o}return null};for(const i in n)if(n.hasOwnProperty(i)){const r=t(n,i);e[i]=r?`${r}.${i}`:i}return e}(r),a=function SDe(n){return n.reduce((e,t)=>(e[t[mu].name]=t,e),{})}(i),c=[];for(const l of o){const d=a[l],h=s[l],p=d[mu];this.addRuntimeInfoToMeta(p,h);const _={name:l,path:h,isInitialised:!1,actions:p.actions,instance:this._injector.get(d),defaults:n.cloneDefaults(p.defaults)};this.hasBeenMountedAndBootstrapped(l,h)||c.push(_),this.states.push(_)}return c}addAndReturnDefaults(t){const r=this.add(t||[]);return{defaults:r.reduce((s,a)=>mN(s,a.path,a.defaults),{}),states:r}}connectActionHandlers(){if(this._parentFactory||null!==this._actionsSubscription)return;const t=new j;this._actionsSubscription=this._actions.pipe(ui(i=>"DISPATCHED"===i.status),ve(i=>{t.next(i);const r=i.action;return this.invokeActions(t,r).pipe(E(()=>({action:r,status:"SUCCESSFUL"})),P_({action:r,status:"CANCELED"}),xa(o=>sn({action:r,status:"ERRORED",error:o})))})).subscribe(i=>this._actionResults.next(i))}invokeActions(t,i){const r=Ip(i),o=[];let s=!1;for(const a of this.states){const c=a.actions[r];if(c)for(const l of c){const d=this._stateContextFactory.createStateContext(a);try{let h=a.instance[l.fn](d,i);h instanceof Promise&&(h=Hi(h)),Tp(h)?(h=h.pipe(ve(p=>p instanceof Promise?Hi(p):Tp(p)?p:sn(p)),P_({})),l.options.cancelUncompleted&&(h=h.pipe(ai(t.pipe(IDe(i)))))):h=sn({}).pipe(dc()),o.push(h)}catch(h){o.push(Qd(h))}s=!0}}return o.length||o.push(sn({})),jv(o)}addToStatesMap(t){const i=[],r=this.statesByName;for(const o of t){const s=Dp(o).name;!r[s]&&(i.push(o),r[s]=o)}return{newStates:i}}addRuntimeInfoToMeta(t,i){this.statePaths[t.name]=i,t.path=i}hasBeenMountedAndBootstrapped(t,i){const r=void 0!==Z0(this._initialState,i);return this.statesByName[t]&&r}}return n.\u0275fac=function(t){return new(t||n)(Ze(Li),Ze(FS),Ze(n,12),Ze(KW),Ze(ZW),Ze(CN),Ze(FW,8))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac}),n})();function e$(n){const e=LS(n)||Dp(n);return e&&e.makeRootSelector||(()=>n)}let ad=(()=>{class n{constructor(t,i,r,o,s,a){this._stateStream=t,this._internalStateOperations=i,this._config=r,this._internalExecutionStrategy=o,this._stateFactory=s,this._selectableStateStream=this._stateStream.pipe(BS(this._internalExecutionStrategy),dc({bufferSize:1,refCount:!0})),this.initStateStream(a)}dispatch(t){return this._internalStateOperations.getRootStateOperations().dispatch(t)}select(t){const i=this.getStoreBoundSelectorFn(t);return this._selectableStateStream.pipe(E(i),xa(r=>{const{suppressErrors:o}=this._config.selectorOptions;return r instanceof TypeError&&o?sn(void 0):Qd(r)}),Ue(),BS(this._internalExecutionStrategy))}selectOnce(t){return this.select(t).pipe(Qi(1))}selectSnapshot(t){return this.getStoreBoundSelectorFn(t)(this._stateStream.getValue())}subscribe(t){return this._selectableStateStream.pipe(BS(this._internalExecutionStrategy)).subscribe(t)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(t){return this._internalStateOperations.getRootStateOperations().setState(t)}getStoreBoundSelectorFn(t){return e$(t)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(t){const i=this._stateStream.value;if(!i||0===Object.keys(i).length){const s=Object.keys(this._config.defaultsState).length>0?Object.assign(Object.assign({},this._config.defaultsState),t):t;this._stateStream.next(s)}}}return n.\u0275fac=function(t){return new(t||n)(Ze(xN),Ze(Q0),Ze(FS),Ze(YW),Ze(F_),Ze(FW,8))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),US=(()=>{class n{constructor(t,i){n.store=t,n.config=i}ngOnDestroy(){n.store=null,n.config=null}}return n.store=null,n.config=null,n.\u0275fac=function(t){return new(t||n)(Ze(ad),Ze(FS))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t$=(()=>{class n{constructor(t,i,r,o,s){this._store=t,this._internalErrorReporter=i,this._internalStateOperations=r,this._stateContextFactory=o,this._bootstrapper=s,this._destroy$=new j}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(t,i){this._internalStateOperations.getRootStateOperations().dispatch(t).pipe(ui(()=>!!i),Zi(()=>this._invokeInitOnStates(i.states)),ve(()=>this._bootstrapper.appBootstrapped$),ui(r=>!!r),xa(r=>(this._internalErrorReporter.reportErrorSafely(r),ee)),ai(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(i.states))}_invokeInitOnStates(t){for(const i of t){const r=i.instance;r.ngxsOnChanges&&this._store.select(o=>Z0(o,i.path)).pipe(yo(void 0),he((n,e)=>{let t,i=!1;n.subscribe(Z(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))}),ai(this._destroy$)).subscribe(([o,s])=>{const a=new yDe(o,s,!i.isInitialised);r.ngxsOnChanges(a)}),r.ngxsOnInit&&r.ngxsOnInit(this._getStateContext(i)),i.isInitialised=!0}}_invokeBootstrapOnStates(t){for(const i of t){const r=i.instance;r.ngxsAfterBootstrap&&r.ngxsAfterBootstrap(this._getStateContext(i))}}_getStateContext(t){return this._stateContextFactory.createStateContext(t)}}return n.\u0275fac=function(t){return new(t||n)(Ze(ad),Ze(JW),Ze(Q0),Ze(CN),Ze(NW))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XDe=(()=>{class n{constructor(t,i,r,o,s=[],a){const c=t.addAndReturnDefaults(s);i.setStateToTheCurrentWithNew(c),t.connectActionHandlers(),a.ngxsBootstrap(new AN,c)}}return n.\u0275fac=function(t){return new(t||n)(Ze(F_),Ze(Q0),Ze(ad),Ze(US),Ze(zW,8),Ze(t$))},n.\u0275mod=$t({type:n}),n.\u0275inj=Wt({}),n})(),KDe=(()=>{class n{constructor(t,i,r,o=[],s){const a=n.flattenStates(o),c=r.addAndReturnDefaults(a);c.states.length&&(i.setStateToTheCurrentWithNew(c),s.ngxsBootstrap(new MN(c.defaults),c))}static flattenStates(t=[]){return t.reduce((i,r)=>i.concat(r),[])}}return n.\u0275fac=function(t){return new(t||n)(Ze(ad),Ze(Q0),Ze(F_),Ze(HW,8),Ze(t$))},n.\u0275mod=$t({type:n}),n.\u0275inj=Wt({}),n})(),n$=(()=>{class n{static forRoot(t=[],i={}){return{ngModule:XDe,providers:[F_,EN,...t,...n.ngxsTokenProviders(t,i)]}}static forFeature(t=[]){return{ngModule:KDe,providers:[F_,EN,...t,{provide:HW,multi:!0,useValue:t}]}}static ngxsTokenProviders(t,i){return[{provide:WW,useValue:i.executionStrategy},{provide:zW,useValue:t},{provide:VW,useValue:i},{provide:wv,useFactory:n.appBootstrapListenerFactory,multi:!0,deps:[NW]},{provide:BW,useExisting:CN},{provide:LW,useExisting:F_}]}static appBootstrapListenerFactory(t){return()=>t.bootstrap()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Wt({}),n})();function IN(n,e){return(t,i)=>{const r=vN(t.constructor);Array.isArray(n)||(n=[n]);for(const o of n){const s=o.type;r.actions[s]||(r.actions[s]=[]),r.actions[s].push({fn:i,options:e||{},type:s})}}}function gu(n){return i=>{const r=i,o=vN(r),s=Object.getPrototypeOf(r),a=function e(i){return Object.assign(Object.assign({},i[GW]||{}),n)}(s);(function t(i){const{meta:r,inheritedStateClass:o,optionsWithInheritance:s}=i,{children:a,defaults:c,name:l}=s,d="string"==typeof l?l:l&&l.getName()||null;if(o.hasOwnProperty(mu)){const h=o[mu]||{};r.actions=Object.assign(Object.assign({},r.actions),h.actions)}r.children=a,r.defaults=c,r.name=d})({meta:o,inheritedStateClass:s,optionsWithInheritance:a}),r[GW]=a}}const qDe=36;function jS(n,...e){return function(t,i){const r=i.toString(),o=`__${r}__selector`,s=function ZDe(n,e,t=[]){return e=e||function QDe(n){const e=n.length-1;return n.charCodeAt(e)===qDe?n.slice(0,e):n}(n),"string"==typeof e?$W(t.length?[e,...t]:e.split("."),US.config):e}(r,n,e);Object.defineProperties(t,{[o]:{writable:!0,enumerable:!1,configurable:!0},[r]:{enumerable:!0,configurable:!0,get(){return this[o]||(this[o]=function JDe(n){return US.store||function bDe(){throw new Error("You have forgotten to import the NGXS module!")}(),US.store.select(n)}(s))}}})}}const i$="NGXS_SELECTOR_OPTIONS_META",VS={getOptions:n=>n&&n[i$]||{},defineOptions:(n,e)=>{n&&(n[i$]=e)}};function ew(n,e,t){const i=function WDe(n,e){const t=e&&e.containerClass,r=pN(function(...s){const a=n.apply(t,s);return a instanceof Function?pN.apply(null,[a]):a});return Object.setPrototypeOf(r,n),r}(e,t),r=function eOe(n,e){const t=wN(n);t.originalFn=n;let i=()=>({});e&&(t.containerClass=e.containerClass,t.selectorName=e.selectorName||null,i=e.getSelectorOptions||i);const r=Object.assign({},t);return t.getSelectorOptions=()=>function tOe(n,e){return Object.assign(Object.assign(Object.assign(Object.assign({},VS.getOptions(n.containerClass)||{}),VS.getOptions(n.originalFn)||{}),n.getSelectorOptions()||{}),e)}(r,i()),t}(e,t);return r.makeRootSelector=function GDe(n,e,t){return i=>{const{argumentSelectorFunctions:r,selectorOptions:o}=function $De(n,e,t=[]){const i=e.getSelectorOptions(),r=n.getSelectorOptions(i),s=function YDe(n=[],e,t){const i=[];return t&&(0===n.length||e.injectContainerState)&&Dp(t)&&i.push(t),n&&i.push(...n),i}(t,r,e.containerClass).map(a=>e$(a)(n));return{selectorOptions:r,argumentSelectorFunctions:s}}(i,n,e);return function(a){const c=r.map(l=>l(a));try{return t(...c)}catch(l){if(l instanceof TypeError&&o.suppressErrors)return;throw l}}}}(r,n,i),i}function L_(n){return(e,t,i)=>{i||(i=Object.getOwnPropertyDescriptor(e,t));const r=i?.value,o=ew(n,r,{containerClass:e,selectorName:t.toString(),getSelectorOptions:()=>({})}),s={configurable:!0,get:()=>o};return s.originalFn=r,s}}class nOe{constructor(e){this.name=e,wN(this).makeRootSelector=i=>i.getStateGetter(this.name)}getName(){return this.name}toString(){return`StateToken[${this.name}]`}}let r$=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Nl),Ce(vn))};static#t=this.\u0275dir=Nt({type:n})}return n})(),Op=(()=>{class n extends r${static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=ti(n)))(r||n)}}();static#t=this.\u0275dir=Nt({type:n,features:[dn]})}return n})();const ps=new yt("NgValueAccessor"),oOe={provide:ps,useExisting:Rn(()=>B_),multi:!0},aOe=new yt("CompositionEventMode");let B_=(()=>{class n extends r${constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sOe(){const n=lh()?lh().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Nl),Ce(vn),Ce(aOe,8))};static#t=this.\u0275dir=Nt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Mt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[zn([oOe]),dn]})}return n})();function Rh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function s$(n){return null!=n&&"number"==typeof n.length}const Xo=new yt("NgValidators"),Ph=new yt("NgAsyncValidators"),cOe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kp{static min(e){return function a$(n){return e=>{if(Rh(e.value)||Rh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function c$(n){return e=>{if(Rh(e.value)||Rh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function l$(n){return Rh(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function d$(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function u$(n){return Rh(n.value)||cOe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function h$(n){return e=>Rh(e.value)||!s$(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return f$(e)}static pattern(e){return function p$(n){if(!n)return HS;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Rh(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return v$(e)}static composeAsync(e){return w$(e)}}function f$(n){return e=>s$(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function HS(n){return null}function m$(n){return null!=n}function g$(n){return Cg(n)?Hi(n):n}function _$(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function b$(n,e){return e.map(t=>t(n))}function y$(n){return n.map(e=>function lOe(n){return!n.validate}(e)?e:t=>e.validate(t))}function v$(n){if(!n)return null;const e=n.filter(m$);return 0==e.length?null:function(t){return _$(b$(t,e))}}function ON(n){return null!=n?v$(y$(n)):null}function w$(n){if(!n)return null;const e=n.filter(m$);return 0==e.length?null:function(t){return jv(b$(t,e).map(g$)).pipe(E(_$))}}function kN(n){return null!=n?w$(y$(n)):null}function x$(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function E$(n){return n._rawValidators}function C$(n){return n._rawAsyncValidators}function RN(n){return n?Array.isArray(n)?n:[n]:[]}function GS(n,e){return Array.isArray(n)?n.includes(e):n===e}function S$(n,e){const t=RN(e);return RN(n).forEach(r=>{GS(t,r)||t.push(r)}),t}function A$(n,e){return RN(e).filter(t=>!GS(n,t))}class M${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ON(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class oa extends M${get formDirective(){return null}get path(){return null}}class nl extends M${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class T${constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let WS=(()=>{class n extends T${constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(nl,2))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&tn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[dn]})}return n})();const tw="VALID",YS="INVALID",U_="PENDING",nw="DISABLED";function FN(n){return(XS(n)?n.validators:n)||null}function LN(n,e){return(XS(e)?e.asyncValidators:n)||null}function XS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class R${constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tw}get invalid(){return this.status===YS}get pending(){return this.status==U_}get disabled(){return this.status===nw}get enabled(){return this.status!==nw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(S$(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(S$(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(A$(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(A$(e,this._rawAsyncValidators))}hasValidator(e){return GS(this._rawValidators,e)}hasAsyncValidator(e){return GS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=U_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nw,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tw,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tw||this.status===U_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nw:tw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=U_,this._hasOwnPendingAsyncValidator=!0;const t=g$(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new jt,this.statusChanges=new jt}_calculateStatus(){return this._allControlsDisabled()?nw:this.errors?YS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(U_)?U_:this._anyControlsHaveStatus(YS)?YS:tw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){XS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function fOe(n){return Array.isArray(n)?ON(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function pOe(n){return Array.isArray(n)?kN(n):n||null}(this._rawAsyncValidators)}}class BN extends R${constructor(e,t,i){super(FN(t),LN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function k$(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new At(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function O$(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new At(1e3,"");if(!i[t])throw new At(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Rp=new yt("CallSetDisabledState",{providedIn:"root",factory:()=>iw}),iw="always";function rw(n,e,t=iw){UN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function _Oe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&P$(n,e)})}(n,e),function yOe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function bOe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&P$(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function gOe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function qS(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ZS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function JS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function UN(n,e){const t=E$(n);null!==e.validator?n.setValidators(x$(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=C$(n);null!==e.asyncValidator?n.setAsyncValidators(x$(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();JS(e._rawValidators,r),JS(e._rawAsyncValidators,r)}function ZS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=E$(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=C$(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return JS(e._rawValidators,i),JS(e._rawAsyncValidators,i),t}function P$(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function N$(n,e){UN(n,e)}function VN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function F$(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function zN(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===B_?t=o:function xOe(n){return Object.getPrototypeOf(n.constructor)===Op}(o)?i=o:r=o}),r||i||t||null}const COe={provide:oa,useExisting:Rn(()=>Pp)},ow=(()=>Promise.resolve())();let Pp=(()=>{class n extends oa{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new jt,this.form=new BN({},ON(t),kN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ow.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),rw(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ow.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ow.then(()=>{const i=this._findContainer(t.path),r=new BN({});N$(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ow.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ow.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,F$(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Xo,10),Ce(Ph,10),Ce(Rp,8))};static#t=this.\u0275dir=Nt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Mt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zn([COe]),dn]})}return n})();function L$(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function B$(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const QS=class extends R${constructor(e=null,t,i){super(FN(t),LN(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),XS(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=B$(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){L$(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){L$(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){B$(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},sw=QS,MOe={provide:nl,useExisting:Rn(()=>HN)},V$=(()=>Promise.resolve())();let HN=(()=>{class n extends nl{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new QS,this._registered=!1,this.name="",this.update=new jt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=zN(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),VN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){V$.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&function Og(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(i);V$.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function KS(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(oa,9),Ce(Xo,10),Ce(Ph,10),Ce(ps,10),Ce(Ri,8),Ce(Rp,8))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[zn([MOe]),dn,vr]})}return n})(),G$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({})}return n})();const GN=new yt("NgModelWithFormControlWarning"),kOe={provide:nl,useExisting:Rn(()=>aw)};let aw=(()=>{class n extends nl{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new jt,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=zN(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&qS(i,this,!1),rw(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}VN(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&qS(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static#t=this.\u0275fac=function(i){return new(i||n)(Ce(Xo,10),Ce(Ph,10),Ce(ps,10),Ce(GN,8),Ce(Rp,8))};static#n=this.\u0275dir=Nt({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[zn([kOe]),dn,vr]})}return n})();const ROe={provide:oa,useExisting:Rn(()=>j_)};let j_=(()=>{class n extends oa{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new jt,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ZS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return rw(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){qS(t.control||null,t,!1),function EOe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,F$(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(qS(i||null,t),(n=>n instanceof QS)(r)&&(rw(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);N$(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function vOe(n,e){return ZS(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){UN(this.form,this),this._oldForm&&ZS(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Xo,10),Ce(Ph,10),Ce(Rp,8))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Mt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zn([ROe]),dn,vr]})}return n})();let Np=(()=>{class n{constructor(){this._validator=HS}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):HS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Nt({type:n,features:[vr]})}return n})();const KOe={provide:Xo,useExisting:Rn(()=>qN),multi:!0};let qN=(()=>{class n extends Np{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function Z$(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>f$(t)}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=ti(n)))(r||n)}}();static#t=this.\u0275dir=Nt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Vn("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[zn([KOe]),dn]})}return n})(),oY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[G$]})}return n})(),tA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Rp,useValue:t.callSetDisabledState??iw}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[oY]})}return n})(),nA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:GN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Rp,useValue:t.callSetDisabledState??iw}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[oY]})}return n})();function V_(n){return new Ye(e=>{er(n()).subscribe(e)})}function JN(n){return E(()=>n)}function sY(n,e){return e?t=>Nv(e.pipe(Qi(1),function ZOe(){return he((n,e)=>{n.subscribe(Z(e,V))})}()),t.pipe(sY(n))):ve((t,i)=>er(n(t,i)).pipe(Qi(1),JN(t)))}function aY(n,e=Fg){const t=Yv(n,e);return sY(()=>t)}const uY=Kf({passive:!0});let pke=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ee;const i=Kd(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new j,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,uY),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,uY)}}),o}stopMonitoring(t){const i=Kd(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Ur),Ze(un))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mke=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({})}return n})();const gke=new yt("MAT_INPUT_VALUE_ACCESSOR"),_ke=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let bke=0;const yke=MO(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new j}});let Fp=(()=>{class n extends yke{get disabled(){return this._disabled}set disabled(t){this._disabled=gn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(kp.required)??!1}set required(t){this._required=gn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&YV().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=gn(t)}constructor(t,i,r,o,s,a,c,l,d,h){super(a,o,s,r),this._elementRef=t,this._platform=i,this._autofillMonitor=l,this._formField=h,this._uid="mat-input-"+bke++,this.focused=!1,this.stateChanges=new j,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(w=>YV().has(w)),this._iOSKeyupListener=w=>{const I=w.target;!I.value&&0===I.selectionStart&&0===I.selectionEnd&&(I.setSelectionRange(1,1),I.setSelectionRange(0,0))};const p=this._elementRef.nativeElement,_=p.nodeName.toLowerCase();this._inputValueAccessor=c||p,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&d.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===_,this._isTextarea="textarea"===_,this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){_ke.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(Ur),Ce(nl,10),Ce(Pp,8),Ce(j_,8),Ce(jE),Ce(gke,10),Ce(pke),Ce(un),Ce(Uv,8))};static#t=this.\u0275dir=Nt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Mt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(cs("id",r.id)("disabled",r.disabled)("required",r.required),Vn("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),tn("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[zn([{provide:GE,useExisting:n}]),dn,vr]})}return n})(),Lp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Ti,Zd,Zd,mke,Ti]})}return n})();function ZN(...n){const e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return E(t=>{let i=t;for(let r=0;r<e;r++){const o=i?.[n[r]];if(!(typeof o<"u"))return;i=o}return i})}function hY(n,e){return he((t,i)=>{const{leading:r=!0,trailing:o=!1}=e??{};let s=!1,a=null,c=null,l=!1;const d=()=>{c?.unsubscribe(),c=null,o&&(_(),l&&i.complete())},h=()=>{c=null,l&&i.complete()},p=w=>c=er(n(w)).subscribe(Z(i,d,h)),_=()=>{if(s){s=!1;const w=a;a=null,i.next(w),!l&&p(w)}};t.subscribe(Z(i,w=>{s=!0,a=w,(!c||c.closed)&&(r?_():p(w))},()=>{l=!0,(!(o&&s&&c)||c.closed)&&i.complete()}))})}function fY(n,e=Fg,t){const i=Yv(n,e);return hY(()=>i,t)}var pY=m(1563);const vke=["tooltip"],mY=new yt("mat-tooltip-scroll-strategy"),Eke={provide:mY,deps:[Ea],useFactory:function xke(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},Ske=new yt("mat-tooltip-default-options",{providedIn:"root",factory:function Cke(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),gY="tooltip-panel",_Y=Kf({passive:!0});let Oke=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=gn(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=gn(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=wa(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=wa(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,r,o,s,a,c,l,d,h,p,_){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=c,this._focusMonitor=l,this._dir=h,this._defaultOptions=p,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new j,this._scrollStrategy=d,this._document=_,p&&(this._showDelay=p.showDelay,this._hideDelay=p.hideDelay,p.position&&(this.position=p.position),p.positionAtOrigin&&(this.positionAtOrigin=p.positionAtOrigin),p.touchGestures&&(this.touchGestures=p.touchGestures)),h.change.pipe(ai(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(ai(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,_Y)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Xg(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(ai(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&o._origin instanceof vn)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(ai(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${gY}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(ai(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(ai(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(ai(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!ks(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Qi(1),ai(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:o}=t;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const c=`${this._cssClassPrefix}-${gY}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,_Y)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){zd()};static#t=this.\u0275dir=Nt({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return n})(),yc=(()=>{class n extends Oke{constructor(t,i,r,o,s,a,c,l,d,h,p,_){super(t,i,r,o,s,a,c,l,d,h,p,_),this._tooltipComponent=Rke,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Ea),Ce(vn),Ce(C8),Ce(Go),Ce(un),Ce(Ur),Ce(Qse),Ce(qc),Ce(mY),Ce(Kc,8),Ce(Ske,8),Ce(Nn))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&tn("mat-mdc-tooltip-disabled",r.disabled)},exportAs:["matTooltip"],features:[dn]})}return n})(),kke=(()=>{class n{constructor(t,i){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new j,this._animationsDisabled="NoopAnimations"===i}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:r),i.classList.add(t?r:o),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Ri),Ce(xr,8))};static#t=this.\u0275dir=Nt({type:n})}return n})(),Rke=(()=>{class n extends kke{constructor(t,i,r){super(t,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Ri),Ce(vn),Ce(xr,8))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&xi(vke,7),2&i){let o;hn(o=fn())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&Mt("mouseleave",function(s){return r._handleMouseLeave(s)}),2&i&&cv("zoom",r.isVisible()?1:null)},features:[dn],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){1&i&&($e(0,"div",0,1),Mt("animationend",function(s){return r._handleAnimationEnd(s)}),$e(2,"div",2),kt(3),Qe()()),2&i&&(tn("mdc-tooltip--multiline",r._isMultiline),ct("ngClass",r.tooltipClass),ot(3),Tr(r.message))},dependencies:[CE],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),$a=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:[Eke],imports:[Ez,Hn,Zg,Ti,Ti,Xv]})}return n})();const Pke=["sliderWrapper"],vc=Kf({passive:!1}),Uke={provide:ps,useExisting:Rn(()=>QN),multi:!0};class jke{}const Vke=Jd(zg(Vg(class{constructor(n){this._elementRef=n}}),"accent"));let QN=(()=>{class n extends Vke{get invert(){return this._invert}set invert(t){this._invert=gn(t)}get max(){return this._max}set max(t){this._max=wa(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=wa(t,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=wa(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=gn(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?wa(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let i=wa(t,0);this._roundToDecimal&&i!==this.min&&i!==this.max&&(i=parseFloat(i.toFixed(this._roundToDecimal))),this._value=i,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=gn(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const i=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${i})`}}_getTrackFillStyles(){const t=this.percent,r=this.vertical?`1, ${t}, 1`:`${t}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${r})`,display:0===t?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let t=100*this._tickIntervalPercent,a={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const c=this._shouldInvertAxis();let l;l=this.vertical?c?"Bottom":"Top":c?"Right":"Left",a[`padding${l}`]=`${this._getThumbGap()}px`}return a}_getThumbContainerStyles(){const t=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?t:!t)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const t=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?t:!t}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}constructor(t,i,r,o,s,a,c,l){super(t),this._focusMonitor=i,this._changeDetectorRef=r,this._dir=o,this._ngZone=a,this._animationMode=l,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new jt,this.input=new jt,this.valueChange=new jt,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=C.EMPTY,this._pointerDown=d=>{this.disabled||this._isSliding||!cw(d)&&0!==d.button||this._ngZone.run(()=>{this._touchId=cw(d)?function zke(n,e){for(let t=0;t<n.touches.length;t++){const i=n.touches[t].target;if(e===i||e.contains(i))return n.touches[t].identifier}}(d,this._elementRef.nativeElement):void 0;const h=yY(d,this._touchId);if(h){const p=this.value;this._isSliding="pointer",this._lastPointerEvent=d,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(d),this._focusHostElement(),this._updateValueFromPosition(h),this._valueOnSlideStart=p,d.cancelable&&d.preventDefault(),p!=this.value&&this._emitInputEvent()}})},this._pointerMove=d=>{if("pointer"===this._isSliding){const h=yY(d,this._touchId);if(h){d.cancelable&&d.preventDefault();const p=this.value;this._lastPointerEvent=d,this._updateValueFromPosition(h),p!=this.value&&this._emitInputEvent()}}},this._pointerUp=d=>{"pointer"===this._isSliding&&(!cw(d)||"number"!=typeof this._touchId||eF(d.changedTouches,this._touchId))&&(d.cancelable&&d.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=c,this.tabIndex=parseInt(s)||0,a.runOutsideAngular(()=>{const d=t.nativeElement;d.addEventListener("mousedown",this._pointerDown,vc),d.addEventListener("touchstart",this._pointerDown,vc)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,vc),t.removeEventListener("touchstart",this._pointerDown,vc),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||ks(t)||this._isSliding&&"keyboard"!==this._isSliding)return;const i=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}i!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",t.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(t){const i=this._document,r=cw(t),s=r?"touchend":"mouseup";i.addEventListener(r?"touchmove":"mousemove",this._pointerMove,vc),i.addEventListener(s,this._pointerUp,vc),r&&i.addEventListener("touchcancel",this._pointerUp,vc);const a=this._getWindow();typeof a<"u"&&a&&a.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;t.removeEventListener("mousemove",this._pointerMove,vc),t.removeEventListener("mouseup",this._pointerUp,vc),t.removeEventListener("touchmove",this._pointerMove,vc),t.removeEventListener("touchend",this._pointerUp,vc),t.removeEventListener("touchcancel",this._pointerUp,vc);const i=this._getWindow();typeof i<"u"&&i&&i.removeEventListener("blur",this._windowBlur)}_increment(t){const i=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(i+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let s=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(s=1-s),0===s)this.value=this.min;else if(1===s)this.value=this.max;else{const a=this._calculateValue(s),c=Math.round((a-this.min)/this.step)*this.step+this.min;this.value=this._clamp(c,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let t;if("auto"==this.tickInterval){let i=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;t=Math.ceil(30/(i*this.step/(this.max-this.min)))*this.step/i}else t=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=bY(t)?t:0}_createChangeEvent(t=this.value){let i=new jke;return i.source=this,i.value=t,i}_calculatePercentage(t){const i=((t||0)-this.min)/(this.max-this.min);return bY(i)?i:0}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,i=0,r=1){return Math.max(i,Math.min(t,r))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(qc),Ce(Ri),Ce(Kc,8),As("tabindex"),Ce(un),Ce(Nn),Ce(xr,8))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-slider"]],viewQuery:function(i,r){if(1&i&&xi(Pke,5),2&i){let o;hn(o=fn())&&(r._sliderWrapper=o.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(i,r){1&i&&Mt("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()})("keydown",function(s){return r._onKeydown(s)})("keyup",function(){return r._onKeyup()})("mouseenter",function(){return r._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&i&&(cs("tabIndex",r.tabIndex),Vn("aria-disabled",r.disabled)("aria-valuemax",r.max)("aria-valuemin",r.min)("aria-valuenow",r.value)("aria-valuetext",null==r.valueText?r.displayValue:r.valueText)("aria-orientation",r.vertical?"vertical":"horizontal"),tn("mat-slider-disabled",r.disabled)("mat-slider-has-ticks",r.tickInterval)("mat-slider-horizontal",!r.vertical)("mat-slider-axis-inverted",r._shouldInvertAxis())("mat-slider-invert-mouse-coords",r._shouldInvertMouseCoords())("mat-slider-sliding",r._isSliding)("mat-slider-thumb-label-showing",r.thumbLabel)("mat-slider-vertical",r.vertical)("mat-slider-min-value",r._isMinValue())("mat-slider-hide-last-tick",r.disabled||r._isMinValue()&&r._getThumbGap()&&r._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[zn([Uke]),dn],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(i,r){1&i&&($e(0,"div",0,1)(2,"div",2),on(3,"div",3)(4,"div",4),Qe(),$e(5,"div",5),on(6,"div",6),Qe(),$e(7,"div",7),on(8,"div",8)(9,"div",9),$e(10,"div",10)(11,"span",11),kt(12),Qe()()()()),2&i&&(ot(3),ct("ngStyle",r._getTrackBackgroundStyles()),ot(1),ct("ngStyle",r._getTrackFillStyles()),ot(1),ct("ngStyle",r._getTicksContainerStyles()),ot(1),ct("ngStyle",r._getTicksStyles()),ot(1),ct("ngStyle",r._getThumbContainerStyles()),ot(5),Tr(r.displayValue))},dependencies:[bV],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid rgba(0,0,0,0);border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}'],encapsulation:2,changeDetection:0})}return n})();function bY(n){return!isNaN(n)&&isFinite(n)}function cw(n){return"t"===n.type[0]}function yY(n,e){let t;return t=cw(n)?"number"==typeof e?eF(n.touches,e)||eF(n.changedTouches,e):n.touches[0]||n.changedTouches[0]:n,t?{x:t.clientX,y:t.clientY}:void 0}function eF(n,e){for(let t=0;t<n.length;t++)if(n[t].identifier===e)return n[t]}let vY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,Ti,Ti]})}return n})();function Hke(n,e){}class iA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let wY=(()=>{class n extends JE{constructor(t,i,r,o,s,a,c,l){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const h=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),h},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=OE(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=OE();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=OE())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(CO),Ce(Nn,8),Ce(iA),Ce(BE),Ce(un),Ce(Jv),Ce(qc))};static#t=this.\u0275cmp=rn({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&xi(qg,7),2&i){let o;hn(o=fn())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Vn("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[dn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Yt(0,Hke,0,0,"ng-template",0)},dependencies:[qg],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class tF{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new j,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!ks(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const xY=new yt("DialogScrollStrategy"),Gke=new yt("DialogData"),Wke=new yt("DefaultDialogConfig"),Yke={provide:xY,deps:[Ea],useFactory:function $ke(n){return()=>n.scrollStrategies.block()}};let Xke=0,EY=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new j,this._afterOpenedAtThisLevel=new j,this._ariaHiddenElements=new Map,this.afterAllClosed=V_(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yo(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new iA,...i}).id=i.id||"cdk-dialog-"+Xke++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new tF(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){nF(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){nF(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),nF(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new Kv({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:iA,useValue:r},{provide:tF,useValue:i},{provide:Jv,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=wY;const c=new Xg(a,r.viewContainerRef,Li.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,o){if(t instanceof ba){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new Kg(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new Xg(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:Gke,useValue:t.data},{provide:tF,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(Kc,null,{optional:!0}))&&a.push({provide:Kc,useValue:{value:t.direction,change:sn()}}),Li.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Ea),Ze(Li),Ze(Wke,8),Ze(n,12),Ze(qv),Ze(xY))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();function nF(n,e){let t=n.length;for(;t--;)e(n[t])}let Kke=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:[EY,Yke],imports:[Zg,Jg,Ez,Jg]})}return n})();function qke(n,e){}class rA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const iF="mdc-dialog--open",CY="mdc-dialog--opening",SY="mdc-dialog--closing";let Qke=(()=>{class n extends wY{constructor(t,i,r,o,s,a,c,l){super(t,i,r,o,s,a,c,l),this._animationStateChanged=new jt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(CO),Ce(Nn,8),Ce(rA),Ce(BE),Ce(un),Ce(Jv),Ce(qc))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ng-component"]],features:[dn],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();const AY="--mat-dialog-transition-duration";function MY(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?wa(n.substring(0,n.length-2)):n.endsWith("s")?1e3*wa(n.substring(0,n.length-1)):"0"===n?0:null}let e2e=(()=>{class n extends Qke{constructor(t,i,r,o,s,a,c,l,d){super(t,i,r,o,s,a,c,d),this._animationMode=l,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?MY(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?MY(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(AY,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(CY,iF)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(iF),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(iF),this._animationsEnabled?(this._hostElement.style.setProperty(AY,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(SY)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(CY,SY)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(CO),Ce(Nn,8),Ce(rA),Ce(BE),Ce(un),Ce(Jv),Ce(xr,8),Ce(qc))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(cs("id",r._config.id),Vn("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),tn("_mat-animation-noopable",!r._animationsEnabled))},features:[dn],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&($e(0,"div",0)(1,"div",1),Yt(2,qke,0,0,"ng-template",2),Qe()())},dependencies:[qg],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();class lw{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new j,this._beforeClosed=new j,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(ui(r=>"opened"===r.state),Qi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(ui(r=>"closed"===r.state),Qi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),hr(this.backdropClick(),this.keydownEvents().pipe(ui(r=>27===r.keyCode&&!this.disableClose&&!ks(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function t2e(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(ui(t=>"closing"===t.state),Qi(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const rF=new yt("MatMdcDialogData"),n2e=new yt("mat-mdc-dialog-default-options"),TY=new yt("mat-mdc-dialog-scroll-strategy"),r2e={provide:TY,deps:[Ea],useFactory:function i2e(n){return()=>n.scrollStrategies.block()}};let o2e=0,s2e=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,c,l,d,h){this._overlay=t,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=c,this._dialogContainerType=l,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new j,this._afterOpenedAtThisLevel=new j,this._idPrefix="mat-dialog-",this.dialogConfigClass=rA,this.afterAllClosed=V_(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yo(void 0))),this._scrollStrategy=a,this._dialog=i.get(EY)}open(t,i){let r;(i={...this._defaultOptions||new rA,...i}).id=i.id||`${this._idPrefix}${o2e++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:iA,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static#e=this.\u0275fac=function(i){zd()};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})(),z_=(()=>{class n extends s2e{constructor(t,i,r,o,s,a,c,l){super(t,i,o,a,c,s,lw,e2e,rF,l),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Ea),Ze(Li),Ze(Ev,8),Ze(n2e,8),Ze(TY),Ze(n,12),Ze(qv),Ze(xr,8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})(),a2e=0,oF=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+a2e++}ngOnInit(){this._dialogRef||(this._dialogRef=function c2e(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const t=this._dialogRef?._containerInstance?._ariaLabelledByQueue;t&&Promise.resolve().then(()=>{const i=t.indexOf(this.id);i>-1&&t.splice(i,1)})}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(lw,8),Ce(vn),Ce(z_))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&cs("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return n})(),sF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Nt({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return n})(),dw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:[z_,r2e],imports:[Kke,Zg,Jg,Ti,Ti]})}return n})();class aF{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new j,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}let cF=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const DY=new yt("CdkAccordion");let l2e=0,d2e=(()=>{class n{get expanded(){return this._expanded}set expanded(t){t=gn(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=gn(t)}constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=C.EMPTY,this.closed=new jt,this.opened=new jt,this.destroyed=new jt,this.expandedChange=new jt,this.id="cdk-accordion-child-"+l2e++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(DY,12),Ce(Ri),Ce(cF))};static#t=this.\u0275dir=Nt({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[zn([{provide:DY,useValue:void 0}])]})}return n})(),u2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({})}return n})();const h2e=["body"];function f2e(n,e){}const p2e=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],m2e=["mat-expansion-panel-header","*","mat-action-row"];function g2e(n,e){1&n&&on(0,"span",2),2&n&&ct("@indicatorRotate",Qt()._getExpandedState())}const _2e=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],b2e=["mat-panel-title","mat-panel-description","*"],OY=new yt("MAT_ACCORDION"),kY="225ms cubic-bezier(0.4,0.0,0.2,1)",RY={indicatorRotate:uc("indicatorRotate",[co("collapsed, void",$i({transform:"rotate(0deg)"})),co("expanded",$i({transform:"rotate(180deg)"})),$o("expanded <=> collapsed, void => collapsed",Wo(kY))]),bodyExpansion:uc("bodyExpansion",[co("collapsed, void",$i({height:"0px",visibility:"hidden"})),co("expanded",$i({height:"*",visibility:""})),$o("expanded <=> collapsed, void => collapsed",Wo(kY))])},PY=new yt("MAT_EXPANSION_PANEL");let y2e=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(ba),Ce(PY,8))};static#t=this.\u0275dir=Nt({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]})}return n})(),v2e=0;const NY=new yt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let oA=(()=>{class n extends d2e{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=gn(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,r,o,s,a,c){super(t,i,r),this._viewContainerRef=o,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new jt,this.afterCollapse=new jt,this._inputChanges=new j,this._headerId="mat-expansion-panel-header-"+v2e++,this._bodyAnimationDone=new j,this.accordion=t,this._document=s,this._bodyAnimationDone.pipe(Ue((l,d)=>l.fromState===d.fromState&&l.toState===d.toState)).subscribe(l=>{"void"!==l.fromState&&("expanded"===l.toState?this.afterExpand.emit():"collapsed"===l.toState&&this.afterCollapse.emit())}),c&&(this.hideToggle=c.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(yo(null),ui(()=>this.expanded&&!this._portal),Qi(1)).subscribe(()=>{this._portal=new Kg(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(OY,12),Ce(Ri),Ce(cF),Ce(Go),Ce(Nn),Ce(xr,8),Ce(NY,8))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,o){if(1&i&&ki(o,y2e,5),2&i){let s;hn(s=fn())&&(r._lazyContent=s.first)}},viewQuery:function(i,r){if(1&i&&xi(h2e,5),2&i){let o;hn(o=fn())&&(r._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){2&i&&tn("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[zn([{provide:OY,useValue:void 0},{provide:PY,useExisting:n}]),dn,vr],ngContentSelectors:m2e,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){1&i&&(Wi(p2e),bn(0),$e(1,"div",0,1),Mt("@bodyExpansion.done",function(s){return r._bodyAnimationDone.next(s)}),$e(3,"div",2),bn(4,1),Yt(5,f2e,0,0,"ng-template",3),Qe(),bn(6,2),Qe()),2&i&&(ot(1),ct("@bodyExpansion",r._getExpandedState())("id",r.id),Vn("aria-labelledby",r._headerId),ot(4),ct("cdkPortalOutlet",r._portal))},dependencies:[qg],styles:['.mat-expansion-panel{--mat-expansion-container-shape:4px;box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[RY.bodyExpansion]},changeDetection:0})}return n})();class w2e{}const x2e=Jd(w2e);let lF=(()=>{class n extends x2e{constructor(t,i,r,o,s,a,c){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=a,this._parentChangeSubscription=C.EMPTY;const l=t.accordion?t.accordion._stateChanges.pipe(ui(d=>!(!d.hideToggle&&!d.togglePosition))):ee;this.tabIndex=parseInt(c||"")||0,this._parentChangeSubscription=hr(t.opened,t.closed,l,t._inputChanges.pipe(ui(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(ui(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:ks(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(oA,1),Ce(vn),Ce(qc),Ce(Ri),Ce(NY,8),Ce(xr,8),As("tabindex"))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){1&i&&Mt("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),2&i&&(Vn("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),cv("height",r._getHeaderHeight()),tn("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[dn],ngContentSelectors:b2e,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(i,r){1&i&&(Wi(_2e),$e(0,"span",0),bn(1),bn(2,1),bn(3,2),Qe(),Yt(4,g2e,1,1,"span",1)),2&i&&(tn("mat-content-hide-toggle",!r._showToggle()),ot(4),ct("ngIf",r._showToggle()))},dependencies:[Dr],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[RY.indicatorRotate]},changeDetection:0})}return n})(),FY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Nt({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return n})(),dF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,Ti,u2e,Jg]})}return n})();function LY(n,e,t){return t?LY(n,e).pipe(Pv(t)):new Ye(i=>{const r=(...s)=>i.next(1===s.length?s[0]:s),o=n(r);return F(e)?()=>e(r,o):void 0})}class hF extends Ye{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,it(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new C;const t=this.getSubject();e.add(this.source.subscribe(Z(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=C.EMPTY)}return e}refCount(){return function uF(){return he((n,e)=>{let t=null;n._refCount++;const i=Z(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}()(this)}}const C2e={connector:()=>new j};function BY(n,e=C2e){const{connector:t}=e;return he((i,r)=>{const o=t();er(n(function E2e(n){return new Ye(e=>n.subscribe(e))}(o))).subscribe(r),r.add(i.subscribe(o))})}function sA(...n){const e=It(n);return he((t,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let c=0;c<r;c++)er(n[c]).subscribe(Z(i,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Se))&&(s=null))},V));t.subscribe(Z(i,c=>{if(a){const l=[c,...o];i.next(e?e(...l):l)}}))})}const{isArray:T2e}=Array;function I2e(n){return 1===n.length&&T2e(n[0])?n[0]:n}function jY(...n){const e=It(n);return e?Ke(jY(...n),Pv(e)):he((t,i)=>{oz([t,...I2e(n)])(i)})}const O2e=["youtubeContainer"];let HY=(()=>{class n{get videoId(){return this._videoId.value}set videoId(t){this._videoId.next(t)}get height(){return this._height.value}set height(t){this._height.next(t||390)}get width(){return this._width.value}set width(t){this._width.next(t||640)}set startSeconds(t){this._startSeconds.next(t)}set endSeconds(t){this._endSeconds.next(t)}set suggestedQuality(t){this._suggestedQuality.next(t)}get playerVars(){return this._playerVars.value}set playerVars(t){this._playerVars.next(t)}get disableCookies(){return this._disableCookies.value}set disableCookies(t){this._disableCookies.next(!!t)}constructor(t,i){this._ngZone=t,this._youtubeContainer=new j,this._destroyed=new j,this._playerChanges=new Ei(void 0),this._videoId=new Ei(void 0),this._height=new Ei(390),this._width=new Ei(640),this._startSeconds=new Ei(void 0),this._endSeconds=new Ei(void 0),this._suggestedQuality=new Ei(void 0),this._playerVars=new Ei(void 0),this._disableCookies=new Ei(!1),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=dh(i)}ngOnInit(){if(!this._isBrowser)return;let t=sn(!0);if(!window.YT||!window.YT.Player){const o=new j;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>o.next(!0))},t=o.pipe(Qi(1),yo(!1))}const i=this._disableCookies.pipe(E(o=>o?"https://www.youtube-nocookie.com":void 0)),r=function N2e(n,e,t,i,r,o,s,a){const c=mr([e,t,s]).pipe(sA(mr([r,o])),E(([l,d])=>{const[h,p,_]=l,[w,I]=d;if(h||_?.list&&_?.listType)return{videoId:h,playerVars:_,width:w,height:I,host:p}}));return mr([n,c,sn(a)]).pipe(function F2e(n){return Ke(jY(n),function D2e(n){return he((e,t)=>{let i=!1,r=0;e.subscribe(Z(t,o=>(i||(i=!n(o,r++)))&&t.next(o)))})}(([e,t])=>!t),E(([e])=>e))}(i),function UY(n,e){return he(function M2e(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Z(s,d=>{const h=l++;c=a?n(c,d,h):(a=!0,d),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}(L2e,void 0),Ue())}(this._youtubeContainer,this._videoId,i,t,this._width,this._height,this._playerVars,this._ngZone).pipe(Zi(o=>{this._playerChanges.next(o)}),function P2e(n){return ve(e=>e?GY(e)?sn(e):new Ye(t=>{let i=!1,r=!1;const o=s=>{r=!0,i||(s.target.removeEventListener("onReady",o),t.next(s.target))};return e.addEventListener("onReady",o),()=>{i=!0,r||n(e)}}).pipe(Qi(1),yo(void 0)):sn(void 0))}(o=>{GY(o)||o.destroy()}),ai(this._destroyed),function A2e(n){return n?e=>BY(n)(e):e=>function S2e(n,e){const t=F(n)?n:()=>n;return F(e)?BY(e,{connector:t}):i=>new hF(i,t)}(new j)(e)}());r.subscribe(o=>{this._player=o,o&&this._pendingPlayerState&&this._initializePlayer(o,this._pendingPlayerState),this._pendingPlayerState=void 0}),function k2e(n,e,t){mr([n,e,t]).subscribe(([i,r,o])=>i&&i.setSize(r,o))}(r,this._width,this._height),function R2e(n,e){mr([n,e]).subscribe(([t,i])=>t&&i&&t.setPlaybackQuality(i))}(r,this._suggestedQuality),function B2e(n,e,t,i,r,o){const s=mr([t,i]).pipe(E(([d,h])=>({startSeconds:d,endSeconds:h}))),a=s.pipe(fF(n,d=>!!d&&!function U2e(n){const e=n.getPlayerState();return e!==YT.PlayerState.UNSTARTED&&e!==YT.PlayerState.CUED}(d))),c=e.pipe(fF(n,(d,h)=>!!d&&d.videoId!==h));hr(n.pipe(fF(mr([e,s]),([d,h],p)=>!(!p||d==p.videoId&&!h.startSeconds&&!h.endSeconds))),c,a).pipe(sA(mr([n,e,s,r])),E(([d,h])=>h),ai(o)).subscribe(([d,h,p,_])=>{!h||!d||(d.videoId=h,d.cueVideoById({videoId:h,suggestedQuality:_,...p}))})}(r,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),r.connect()}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(t,i){this._player?this._player.seekTo(t,i):this._getPendingState().seek={seconds:t,allowSeekAhead:i}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(t){this._player?this._player.setVolume(t):this._getPendingState().volume=t}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(t){if(this._player)return this._player.setPlaybackRate(t);this._getPendingState().playbackRate=t}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(t,i){const{playbackState:r,playbackRate:o,volume:s,muted:a,seek:c}=i;switch(r){case YT.PlayerState.PLAYING:t.playVideo();break;case YT.PlayerState.PAUSED:t.pauseVideo();break;case YT.PlayerState.CUED:t.stopVideo()}null!=o&&t.setPlaybackRate(o),null!=s&&t.setVolume(s),null!=a&&(a?t.mute():t.unMute()),null!=c&&t.seekTo(c.seconds,c.allowSeekAhead)}_getLazyEmitter(t){return this._playerChanges.pipe(Oe(i=>i?LY(r=>{i.addEventListener(t,r)},r=>{try{i.removeEventListener&&i.removeEventListener(t,r)}catch{}}):sn()),i=>new Ye(r=>i.subscribe({next:o=>this._ngZone.run(()=>r.next(o)),error:o=>r.error(o),complete:()=>r.complete()})),ai(this._destroyed))}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(un),Ce(Zs))};static#t=this.\u0275cmp=rn({type:n,selectors:[["youtube-player"]],viewQuery:function(i,r){if(1&i&&xi(O2e,5),2&i){let o;hn(o=fn())&&(r.youtubeContainer=o.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:"disableCookies",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(i,r){1&i&&on(0,"div",null,0)},encapsulation:2,changeDetection:0})}return n})();function L2e(n,[e,t,i]){if(n&&t&&(n.playerVars!==t.playerVars||n.host!==t.host))n.destroy();else{if(!t)return void(n&&n.destroy());if(n)return n}const r=i.runOutsideAngular(()=>new YT.Player(e,t));return r.videoId=t.videoId,r.playerVars=t.playerVars,r.host=t.host,r}function GY(n){return"getPlayerStatus"in n}function fF(n,e){return Ke(sA(n),ui(([t,i])=>e(i,t)),E(([t])=>t))}let j2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({})}return n})();function WY(n=V2e){return he((e,t)=>{let i=!1;e.subscribe(Z(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function V2e(){return new J0}let Bp={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const YY=/[&<>"']/,H2e=new RegExp(YY.source,"g"),XY=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,G2e=new RegExp(XY.source,"g"),W2e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},KY=n=>W2e[n];function Ls(n,e){if(e){if(YY.test(n))return n.replace(H2e,KY)}else if(XY.test(n))return n.replace(G2e,KY);return n}const $2e=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function qY(n){return n.replace($2e,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const Y2e=/(^|[^\[])\^/g;function _r(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(i,r)=>(r=(r=r.source||r).replace(Y2e,"$1"),n=n.replace(i,r),t),getRegex:()=>new RegExp(n,e)};return t}const X2e=/[^\w:]/g,K2e=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function JY(n,e,t){if(n){let i;try{i=decodeURIComponent(qY(t)).replace(X2e,"").toLowerCase()}catch{return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}e&&!K2e.test(t)&&(t=function Q2e(n,e){aA[" "+n]||(aA[" "+n]=q2e.test(n)?n+"/":lA(n,"/",!0));const t=-1===(n=aA[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(J2e,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(Z2e,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const aA={},q2e=/^[^:]+:\/*[^/]*$/,J2e=/^([^:]+:)[\s\S]*$/,Z2e=/^([^:]+:\/*[^/]*)[\s\S]*$/,cA={exec:function(){}};function ZY(n,e){const i=n.replace(/\|/g,(o,s,a)=>{let c=!1,l=s;for(;--l>=0&&"\\"===a[l];)c=!c;return c?"|":" |"}).split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function lA(n,e,t){const i=n.length;if(0===i)return"";let r=0;for(;r<i;){const o=n.charAt(i-r-1);if(o!==e||t){if(o===e||!t)break;r++}else r++}return n.slice(0,i-r)}function QY(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function eX(n,e,t,i){const r=e.href,o=e.title?Ls(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){i.state.inLink=!0;const a={type:"link",raw:t,href:r,title:o,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,a}return{type:"image",raw:t,href:r,title:o,text:Ls(s)}}class pF{constructor(e){this.options=e||Bp}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:lA(i,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],r=function nRe(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const i=t[1];return e.split("\n").map(r=>{const o=r.match(/^\s+/);if(null===o)return r;const[s]=o;return s.length>=i.length?r.slice(i.length):r}).join("\n")}(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const r=lA(i,"#");(this.options.pedantic||!r||/ $/.test(r))&&(i=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const i=t[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(i);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:o,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i,r,o,s,a,c,l,d,h,p,_,w,I=t[1].trim();const L=I.length>1,K={type:"list",raw:"",ordered:L,start:L?+I.slice(0,-1):"",loose:!1,items:[]};I=L?`\\d{1,9}\\${I.slice(-1)}`:`\\${I}`,this.options.pedantic&&(I=L?I:"[*+-]");const Q=new RegExp(`^( {0,3}${I})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(w=!1,(t=Q.exec(e))&&!this.rules.block.hr.test(e));){if(i=t[0],e=e.substring(i.length),d=t[2].split("\n",1)[0].replace(/^\t+/,Pe=>" ".repeat(3*Pe.length)),h=e.split("\n",1)[0],this.options.pedantic?(s=2,_=d.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,_=d.slice(s),s+=t[1].length),c=!1,!d&&/^ *$/.test(h)&&(i+=h+"\n",e=e.substring(h.length+1),w=!0),!w){const Pe=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),We=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),tt=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),ut=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(p=e.split("\n",1)[0],h=p,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(tt.test(h)||ut.test(h)||Pe.test(h)||We.test(e)));){if(h.search(/[^ ]/)>=s||!h.trim())_+="\n"+h.slice(s);else{if(c||d.search(/[^ ]/)>=4||tt.test(d)||ut.test(d)||We.test(d))break;_+="\n"+h}!c&&!h.trim()&&(c=!0),i+=p+"\n",e=e.substring(p.length+1),d=h.slice(s)}}K.loose||(l?K.loose=!0:/\n *\n *$/.test(i)&&(l=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(_),r&&(o="[ ] "!==r[0],_=_.replace(/^\[[ xX]\] +/,""))),K.items.push({type:"list_item",raw:i,task:!!r,checked:o,loose:!1,text:_}),K.raw+=i}K.items[K.items.length-1].raw=i.trimRight(),K.items[K.items.length-1].text=_.trimRight(),K.raw=K.raw.trimRight();const me=K.items.length;for(a=0;a<me;a++)if(this.lexer.state.top=!1,K.items[a].tokens=this.lexer.blockTokens(K.items[a].text,[]),!K.loose){const Pe=K.items[a].tokens.filter(tt=>"space"===tt.type),We=Pe.length>0&&Pe.some(tt=>/\n.*\n/.test(tt.raw));K.loose=We}if(K.loose)for(a=0;a<me;a++)K.items[a].loose=!0;return K}}html(e){const t=this.rules.block.html.exec(e);if(t){const i={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(t[0]):Ls(t[0]);i.type="paragraph",i.text=r,i.tokens=this.lexer.inline(r)}return i}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:r,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(t){const i={type:"table",header:ZY(t[1]).map(r=>({text:r})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(i.header.length===i.align.length){i.raw=t[0];let o,s,a,c,r=i.align.length;for(o=0;o<r;o++)i.align[o]=/^ *-+: *$/.test(i.align[o])?"right":/^ *:-+: *$/.test(i.align[o])?"center":/^ *:-+ *$/.test(i.align[o])?"left":null;for(r=i.rows.length,o=0;o<r;o++)i.rows[o]=ZY(i.rows[o],i.header.length).map(l=>({text:l}));for(r=i.header.length,s=0;s<r;s++)i.header[s].tokens=this.lexer.inline(i.header[s].text);for(r=i.rows.length,s=0;s<r;s++)for(c=i.rows[s],a=0;a<c.length;a++)c[a].tokens=this.lexer.inline(c[a].text);return i}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ls(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Ls(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const s=lA(i.slice(0,-1),"\\");if((i.length-s.length)%2==0)return}else{const s=function eRe(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let i=0,r=0;for(;r<t;r++)if("\\"===n[r])r++;else if(n[r]===e[0])i++;else if(n[r]===e[1]&&(i--,i<0))return r;return-1}(t[2],"()");if(s>-1){const c=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);s&&(r=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(r=this.options.pedantic&&!/>$/.test(i)?r.slice(1):r.slice(1,-1)),eX(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r){const o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return eX(i,r,i[0],this.lexer)}}emStrong(e,t,i=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))return;const o=r[1]||r[2]||"";if(!o||o&&(""===i||this.rules.inline.punctuation.exec(i))){const s=r[0].length-1;let a,c,l=s,d=0;const h="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+s);null!=(r=h.exec(t));){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(c=a.length,r[3]||r[4]){l+=c;continue}if((r[5]||r[6])&&s%3&&!((s+c)%3)){d+=c;continue}if(l-=c,l>0)continue;c=Math.min(c,c+l+d);const p=e.slice(0,s+r.index+(r[0].length-a.length)+c);if(Math.min(s,c)%2){const w=p.slice(1,-1);return{type:"em",raw:p,text:w,tokens:this.lexer.inlineTokens(w)}}const _=p.slice(2,-2);return{type:"strong",raw:p,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const r=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return r&&o&&(i=i.substring(1,i.length-1)),i=Ls(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const i=this.rules.inline.autolink.exec(e);if(i){let r,o;return"@"===i[2]?(r=Ls(this.options.mangle?t(i[1]):i[1]),o="mailto:"+r):(r=Ls(i[1]),o=r),{type:"link",raw:i[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}url(e,t){let i;if(i=this.rules.inline.url.exec(e)){let r,o;if("@"===i[2])r=Ls(this.options.mangle?t(i[0]):i[0]),o="mailto:"+r;else{let s;do{s=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0]}while(s!==i[0]);r=Ls(i[0]),o="www."===i[1]?"http://"+i[0]:i[0]}return{type:"link",raw:i[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,t){const i=this.rules.inline.text.exec(e);if(i){let r;return r=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):Ls(i[0]):i[0]:Ls(this.options.smartypants?t(i[0]):i[0]),{type:"text",raw:i[0],text:r}}}}const Gn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:cA,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Gn.def=_r(Gn.def).replace("label",Gn._label).replace("title",Gn._title).getRegex(),Gn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Gn.listItemStart=_r(/^( *)(bull) */).replace("bull",Gn.bullet).getRegex(),Gn.list=_r(Gn.list).replace(/bull/g,Gn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Gn.def.source+")").getRegex(),Gn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Gn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Gn.html=_r(Gn.html,"i").replace("comment",Gn._comment).replace("tag",Gn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Gn.paragraph=_r(Gn._paragraph).replace("hr",Gn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gn._tag).getRegex(),Gn.blockquote=_r(Gn.blockquote).replace("paragraph",Gn.paragraph).getRegex(),Gn.normal={...Gn},Gn.gfm={...Gn.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Gn.gfm.table=_r(Gn.gfm.table).replace("hr",Gn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gn._tag).getRegex(),Gn.gfm.paragraph=_r(Gn._paragraph).replace("hr",Gn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Gn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gn._tag).getRegex(),Gn.pedantic={...Gn.normal,html:_r("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Gn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:cA,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:_r(Gn.normal._paragraph).replace("hr",Gn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Gn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const En={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:cA,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:cA,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function iRe(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function tX(n){let t,i,e="";const r=n.length;for(t=0;t<r;t++)i=n.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),e+="&#"+i+";";return e}En._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",En.punctuation=_r(En.punctuation).replace(/punctuation/g,En._punctuation).getRegex(),En.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,En.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,En._comment=_r(Gn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),En.emStrong.lDelim=_r(En.emStrong.lDelim).replace(/punct/g,En._punctuation).getRegex(),En.emStrong.rDelimAst=_r(En.emStrong.rDelimAst,"g").replace(/punct/g,En._punctuation).getRegex(),En.emStrong.rDelimUnd=_r(En.emStrong.rDelimUnd,"g").replace(/punct/g,En._punctuation).getRegex(),En._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,En._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,En._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,En.autolink=_r(En.autolink).replace("scheme",En._scheme).replace("email",En._email).getRegex(),En._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,En.tag=_r(En.tag).replace("comment",En._comment).replace("attribute",En._attribute).getRegex(),En._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,En._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,En._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,En.link=_r(En.link).replace("label",En._label).replace("href",En._href).replace("title",En._title).getRegex(),En.reflink=_r(En.reflink).replace("label",En._label).replace("ref",Gn._label).getRegex(),En.nolink=_r(En.nolink).replace("ref",Gn._label).getRegex(),En.reflinkSearch=_r(En.reflinkSearch,"g").replace("reflink",En.reflink).replace("nolink",En.nolink).getRegex(),En.normal={...En},En.pedantic={...En.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:_r(/^!?\[(label)\]\((.*?)\)/).replace("label",En._label).getRegex(),reflink:_r(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",En._label).getRegex()},En.gfm={...En.normal,escape:_r(En.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},En.gfm.url=_r(En.gfm.url,"i").replace("email",En.gfm._extended_email).getRegex(),En.breaks={...En.gfm,br:_r(En.br).replace("{2,}","*").getRegex(),text:_r(En.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Nh{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Bp,this.options.tokenizer=this.options.tokenizer||new pF,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Gn.normal,inline:En.normal};this.options.pedantic?(t.block=Gn.pedantic,t.inline=En.pedantic):this.options.gfm&&(t.block=Gn.gfm,t.inline=this.options.breaks?En.breaks:En.gfm),this.tokenizer.rules=t}static get rules(){return{block:Gn,inline:En}}static lex(e,t){return new Nh(t).lex(e)}static lexInline(e,t){return new Nh(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let i,r,o,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,c,l)=>c+"    ".repeat(l.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(i=a.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),1===i.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(i):(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(r.raw+="\n"+i.raw,r.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=e.slice(1);let l;this.options.extensions.startBlock.forEach(function(d){l=d.call({lexer:this},c),"number"==typeof l&&l>=0&&(a=Math.min(a,l))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){r=t[t.length-1],s&&"paragraph"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i),s=o.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,r,o,a,c,l,s=e;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+QY("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+QY("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(c||(l=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>!!(i=d.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,s,l)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e,tX)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e,tX))){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const h=e.slice(1);let p;this.options.extensions.startInline.forEach(function(_){p=_.call({lexer:this},h),"number"==typeof p&&p>=0&&(d=Math.min(d,p))}),d<1/0&&d>=0&&(o=e.substring(0,d+1))}if(i=this.tokenizer.inlineText(o,iRe)){e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),c=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}return t}}class uw{constructor(e){this.options=e||Bp}code(e,t,i){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const o=this.options.highlight(e,r);null!=o&&o!==e&&(i=!0,e=o)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+Ls(r)+'">'+(i?e:Ls(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:Ls(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,i,r){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+r.slug(i)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,i){const r=t?"ol":"ul";return"<"+r+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+e+`</${i}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,i){if(null===(e=JY(this.options.sanitize,this.options.baseUrl,e)))return i;let r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+i+"</a>",r}image(e,t,i){if(null===(e=JY(this.options.sanitize,this.options.baseUrl,e)))return i;let r=`<img src="${e}" alt="${i}"`;return t&&(r+=` title="${t}"`),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class nX{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class iX{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let i=e,r=0;if(this.seen.hasOwnProperty(i)){r=this.seen[e];do{r++,i=e+"-"+r}while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=r,this.seen[i]=0),i}slug(e,t={}){const i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)}}class Fh{constructor(e){this.options=e||Bp,this.options.renderer=this.options.renderer||new uw,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new nX,this.slugger=new iX}static parse(e,t){return new Fh(t).parse(e)}static parseInline(e,t){return new Fh(t).parseInline(e)}parse(e,t=!0){let r,o,s,a,c,l,d,h,p,_,w,I,L,K,Q,me,Pe,We,tt,i="";const ut=e.length;for(r=0;r<ut;r++)if(_=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[_.type]&&(tt=this.options.extensions.renderers[_.type].call({parser:this},_),!1!==tt||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(_.type)))i+=tt||"";else switch(_.type){case"space":continue;case"hr":i+=this.renderer.hr();continue;case"heading":i+=this.renderer.heading(this.parseInline(_.tokens),_.depth,qY(this.parseInline(_.tokens,this.textRenderer)),this.slugger);continue;case"code":i+=this.renderer.code(_.text,_.lang,_.escaped);continue;case"table":for(h="",d="",a=_.header.length,o=0;o<a;o++)d+=this.renderer.tablecell(this.parseInline(_.header[o].tokens),{header:!0,align:_.align[o]});for(h+=this.renderer.tablerow(d),p="",a=_.rows.length,o=0;o<a;o++){for(l=_.rows[o],d="",c=l.length,s=0;s<c;s++)d+=this.renderer.tablecell(this.parseInline(l[s].tokens),{header:!1,align:_.align[s]});p+=this.renderer.tablerow(d)}i+=this.renderer.table(h,p);continue;case"blockquote":p=this.parse(_.tokens),i+=this.renderer.blockquote(p);continue;case"list":for(w=_.ordered,I=_.start,L=_.loose,a=_.items.length,p="",o=0;o<a;o++)Q=_.items[o],me=Q.checked,Pe=Q.task,K="",Q.task&&(We=this.renderer.checkbox(me),L?Q.tokens.length>0&&"paragraph"===Q.tokens[0].type?(Q.tokens[0].text=We+" "+Q.tokens[0].text,Q.tokens[0].tokens&&Q.tokens[0].tokens.length>0&&"text"===Q.tokens[0].tokens[0].type&&(Q.tokens[0].tokens[0].text=We+" "+Q.tokens[0].tokens[0].text)):Q.tokens.unshift({type:"text",text:We}):K+=We),K+=this.parse(Q.tokens,L),p+=this.renderer.listitem(K,Pe,me);i+=this.renderer.list(p,w,I);continue;case"html":i+=this.renderer.html(_.text);continue;case"paragraph":i+=this.renderer.paragraph(this.parseInline(_.tokens));continue;case"text":for(p=_.tokens?this.parseInline(_.tokens):_.text;r+1<ut&&"text"===e[r+1].type;)_=e[++r],p+="\n"+(_.tokens?this.parseInline(_.tokens):_.text);i+=t?this.renderer.paragraph(p):p;continue;default:{const wt='Token with "'+_.type+'" type was not found.';if(this.options.silent)return void console.error(wt);throw new Error(wt)}}return i}parseInline(e,t){t=t||this.renderer;let r,o,s,i="";const a=e.length;for(r=0;r<a;r++)if(o=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(s=this.options.extensions.renderers[o.type].call({parser:this},o),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)))i+=s||"";else switch(o.type){case"escape":case"text":i+=t.text(o.text);break;case"html":i+=t.html(o.text);break;case"link":i+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break;case"image":i+=t.image(o.href,o.title,o.text);break;case"strong":i+=t.strong(this.parseInline(o.tokens,t));break;case"em":i+=t.em(this.parseInline(o.tokens,t));break;case"codespan":i+=t.codespan(o.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(o.tokens,t));break;default:{const c='Token with "'+o.type+'" type was not found.';if(this.options.silent)return void console.error(c);throw new Error(c)}}return i}}class mF{constructor(e){this.options=e||Bp}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function rX(n,e){return(t,i,r)=>{"function"==typeof i&&(r=i,i=null);const o={...i},s=function rRe(n,e,t){return i=>{if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",n){const r="<p>An error occurred:</p><pre>"+Ls(i.message+"",!0)+"</pre>";return e?Promise.resolve(r):t?void t(null,r):r}if(e)return Promise.reject(i);if(!t)throw i;t(i)}}((i={...Wn.defaults,...o}).silent,i.async,r);if(typeof t>"u"||null===t)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(function tRe(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(i),i.hooks&&(i.hooks.options=i),r){const a=i.highlight;let c;try{i.hooks&&(t=i.hooks.preprocess(t)),c=n(t,i)}catch(h){return s(h)}const l=function(h){let p;if(!h)try{i.walkTokens&&Wn.walkTokens(c,i.walkTokens),p=e(c,i),i.hooks&&(p=i.hooks.postprocess(p))}catch(_){h=_}return i.highlight=a,h?s(h):r(null,p)};if(!a||a.length<3||(delete i.highlight,!c.length))return l();let d=0;return Wn.walkTokens(c,function(h){"code"===h.type&&(d++,setTimeout(()=>{a(h.text,h.lang,function(p,_){if(p)return l(p);null!=_&&_!==h.text&&(h.text=_,h.escaped=!0),d--,0===d&&l()})},0))}),void(0===d&&l())}if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(t):t).then(a=>n(a,i)).then(a=>i.walkTokens?Promise.all(Wn.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>e(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(s);try{i.hooks&&(t=i.hooks.preprocess(t));const a=n(t,i);i.walkTokens&&Wn.walkTokens(a,i.walkTokens);let c=e(a,i);return i.hooks&&(c=i.hooks.postprocess(c)),c}catch(a){return s(a)}}}function Wn(n,e,t){return rX(Nh.lex,Fh.parse)(n,e,t)}Wn.options=Wn.setOptions=function(n){return function z2e(n){Bp=n}(Wn.defaults={...Wn.defaults,...n}),Wn},Wn.getDefaults=function $Y(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Wn.defaults=Bp,Wn.use=function(...n){const e=Wn.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const i={...t};if(i.async=Wn.defaults.async||i.async||!1,t.extensions&&(t.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if(r.renderer){const o=e.renderers[r.name];e.renderers[r.name]=o?function(...s){let a=r.renderer.apply(this,s);return!1===a&&(a=o.apply(this,s)),a}:r.renderer}if(r.tokenizer){if(!r.level||"block"!==r.level&&"inline"!==r.level)throw new Error("extension level must be 'block' or 'inline'");e[r.level]?e[r.level].unshift(r.tokenizer):e[r.level]=[r.tokenizer],r.start&&("block"===r.level?e.startBlock?e.startBlock.push(r.start):e.startBlock=[r.start]:"inline"===r.level&&(e.startInline?e.startInline.push(r.start):e.startInline=[r.start]))}r.childTokens&&(e.childTokens[r.name]=r.childTokens)}),i.extensions=e),t.renderer){const r=Wn.defaults.renderer||new uw;for(const o in t.renderer){const s=r[o];r[o]=(...a)=>{let c=t.renderer[o].apply(r,a);return!1===c&&(c=s.apply(r,a)),c}}i.renderer=r}if(t.tokenizer){const r=Wn.defaults.tokenizer||new pF;for(const o in t.tokenizer){const s=r[o];r[o]=(...a)=>{let c=t.tokenizer[o].apply(r,a);return!1===c&&(c=s.apply(r,a)),c}}i.tokenizer=r}if(t.hooks){const r=Wn.defaults.hooks||new mF;for(const o in t.hooks){const s=r[o];r[o]=mF.passThroughHooks.has(o)?a=>{if(Wn.defaults.async)return Promise.resolve(t.hooks[o].call(r,a)).then(l=>s.call(r,l));const c=t.hooks[o].call(r,a);return s.call(r,c)}:(...a)=>{let c=t.hooks[o].apply(r,a);return!1===c&&(c=s.apply(r,a)),c}}i.hooks=r}if(t.walkTokens){const r=Wn.defaults.walkTokens;i.walkTokens=function(o){let s=[];return s.push(t.walkTokens.call(this,o)),r&&(s=s.concat(r.call(this,o))),s}}Wn.setOptions(i)})},Wn.walkTokens=function(n,e){let t=[];for(const i of n)switch(t=t.concat(e.call(Wn,i)),i.type){case"table":for(const r of i.header)t=t.concat(Wn.walkTokens(r.tokens,e));for(const r of i.rows)for(const o of r)t=t.concat(Wn.walkTokens(o.tokens,e));break;case"list":t=t.concat(Wn.walkTokens(i.items,e));break;default:Wn.defaults.extensions&&Wn.defaults.extensions.childTokens&&Wn.defaults.extensions.childTokens[i.type]?Wn.defaults.extensions.childTokens[i.type].forEach(function(r){t=t.concat(Wn.walkTokens(i[r],e))}):i.tokens&&(t=t.concat(Wn.walkTokens(i.tokens,e)))}return t},Wn.parseInline=rX(Nh.lexInline,Fh.parseInline),Wn.Parser=Fh,Wn.parser=Fh.parse,Wn.Renderer=uw,Wn.TextRenderer=nX,Wn.Lexer=Nh,Wn.lexer=Nh.lex,Wn.Tokenizer=pF,Wn.Slugger=iX,Wn.Hooks=mF,Wn.parse=Wn;const oRe=["*"];let oX=(()=>{class n{constructor(){this._buttonClick$=new j,this.copied$=this._buttonClick$.pipe(Oe(()=>hr(sn(!0),Yv(3e3).pipe(JN(!1)))),Ue(),dc(1)),this.copiedText$=this.copied$.pipe(yo(!1),E(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=rn({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(i,r){1&i&&($e(0,"button",0),Mt("click",function(){return r.onCopyToClipboardClick()}),Bn(1,"async"),kt(2),Bn(3,"async"),Qe()),2&i&&(tn("copied",Jn(1,3,r.copied$)),ot(2),Tr(Jn(3,5,r.copiedText$)))},dependencies:[jl],encapsulation:2,changeDetection:0})}return n})();class cRe{}var gF=function(n){return n.CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",n}(gF||{});class dRe{}const sX=new yt("SECURITY_CONTEXT");let _F=(()=>{class n{get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}constructor(t,i,r,o,s,a){this.platform=t,this.securityContext=i,this.http=r,this.clipboardOptions=o,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new uw},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new j,this.reload$=this._reload$.asObservable(),this.options=s}parse(t,i=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:r,inline:o,emoji:s,mermaid:a,disableSanitizer:c}=i,l={...this.options,...i.markedOptions};a&&(this.renderer=this.extendRenderer(l.renderer||new uw));const d=this.trimIndentation(t),h=r?this.decodeHtml(d):d,p=s?this.parseEmoji(h):h,_=this.parseMarked(p,l,o);return(c?_:this.sanitizer.sanitize(this.securityContext,_))||""}render(t,i=this.DEFAULT_RENDER_OPTIONS,r){const{clipboard:o,clipboardOptions:s,katex:a,katexOptions:c,mermaid:l,mermaidOptions:d}=i;o&&this.renderClipboard(t,r,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...c}),l&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...d}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(E(i=>this.handleExtension(t,i)))}highlight(t){if(!dh(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const i=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(i,r=>r.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!dh(this.platform))return t;const i=document.createElement("textarea");return i.innerHTML=t,i.value}extendRenderer(t){const i=t;if(!0===i.\u0275NgxMarkdownRendererExtended)return t;const r=t.code;return t.code=function(o,s,a){return"mermaid"===s?`<div class="mermaid">${o}</div>`:r.call(this,o,s,a)},i.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,i){const r=t.lastIndexOf("://"),o=r>-1?t.substring(r+4):t,s=o.lastIndexOf("/"),a=s>-1?o.substring(s+1).split("?")[0]:"",c=a.lastIndexOf("."),l=c>-1?a.substring(c+1):"";return l&&"md"!==l?"```"+l+"\n"+i+"\n```":i}parseMarked(t,i,r=!1){return r?Wn.parseInline(t,i):Wn.parse(t,i)}parseEmoji(t){if(!dh(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,i){if(dh(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,i)}}renderClipboard(t,i,r){if(!dh(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!i)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:o,buttonTemplate:s}=r,a=t.querySelectorAll("pre");for(let c=0;c<a.length;c++){const l=a.item(c),d=document.createElement("div");d.style.position="relative",l.parentNode.insertBefore(d,l),d.appendChild(l);const h=document.createElement("div");let p,_;h.style.position="absolute",h.style.top=".5em",h.style.right=".5em",h.style.opacity="0",h.style.transition="opacity 250ms ease-out",d.insertAdjacentElement("beforeend",h),l.onmouseover=()=>h.style.opacity="1",l.onmouseout=()=>h.style.opacity="0",p=o?i.createComponent(o).hostView:s?i.createEmbeddedView(s):i.createComponent(oX).hostView,p.rootNodes.forEach(w=>{w.onmouseover=()=>h.style.opacity="1",h.appendChild(w),_=new ClipboardJS(w,{text:()=>l.innerText})}),p.onDestroy(()=>_.destroy())}}renderMermaid(t,i=this.DEFAULT_MERMAID_OPTIONS){if(!dh(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const r=t.querySelectorAll(".mermaid");0!==r.length&&(mermaid.initialize(i),mermaid.init(r))}trimIndentation(t){if(!t)return"";let i;return t.split("\n").map(r=>{let o=i;return r.length>0&&(o=isNaN(o)?r.search(/\S|$/):Math.min(r.search(/\S|$/),o)),isNaN(i)&&(i=o),o?r.substring(o):r}).join("\n")}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Zs),Ze(sX),Ze($g,8),Ze(cRe,8),Ze(dRe,8),Ze(Pg))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})(),aX=(()=>{class n{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(t){this._srcRelativeLink=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}constructor(t,i,r){this.element=t,this.markdownService=i,this.viewContainerRef=r,this.error=new jt,this.load=new jt,this.ready=new jt,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new j}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(ai(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,i=!1){let r;this.src&&this.srcRelativeLink&&(r={baseUrl:new URL(this.src,location.origin).pathname});const s={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(t,{decodeHtml:i,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:r,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t),this.load.emit(t)},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,gF.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,gF.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,i){const r=t.querySelectorAll("pre");for(let o=0;o<r.length;o++){const s=i instanceof Array?i:[i];r.item(o).classList.add(...s)}}setPluginOptions(t,i){const r=t.querySelectorAll("pre");for(let o=0;o<r.length;o++)Object.keys(i).forEach(s=>{const a=i[s];if(a){const c=this.toLispCase(s);r.item(o).setAttribute(c,a.toString())}})}toLispCase(t){const i=t.match(/([A-Z])/g);if(!i)return t;let r=t.toString();for(let o=0,s=i.length;o<s;o++)r=r.replace(new RegExp(i[o]),"-"+i[o].toLowerCase());return"-"===r.slice(0,1)&&(r=r.slice(1)),r}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(_F),Ce(Go))};static#t=this.\u0275cmp=rn({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[vr],ngContentSelectors:oRe,decls:1,vars:0,template:function(i,r){1&i&&(Wi(),bn(0))},encapsulation:2})}return n})(),_Re=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[_F,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:sX,useValue:t&&null!=t.sanitize?t.sanitize:go.HTML}]}}static forChild(){return{ngModule:n}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn]})}return n})();var cX;!function(n){let e;var r;let t,i;(r=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",r.Loose="loose",r.Antiscript="antiscript",r.Sandbox="sandbox",function(r){r.Base="base",r.Forest="forest",r.Dark="dark",r.Default="default",r.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(r){r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.Fatal=5]="Fatal"}(i=n.LogLevel||(n.LogLevel={}))}(cX||(cX={}));let lX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Nt({type:n,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-mdc-card-sm-image","mdc-card__media"]})}return n})();function H_(n){return!0===n}function ms(n){return null===n||typeof n>"u"}function Bs(n){return!ms(n)}function bF(n){return!!n}function mX(n){return ms(n)?n:JSON.parse(JSON.stringify(n))}function gX(n){return Bs(n)&&"object"==typeof n&&function yF(n){return"[object Object]"===Object.prototype.toString.call(n)}(n)}const rPe="NGXS_COMPUTED_OPTION",yX="NGXS_DATA_META",vF="NGXS_META",vX="NGXS_ARGUMENT_REGISTRY_META";let wX=(()=>{class n{constructor(t){this.subscription=null,this.sequence$=new Ei(0),t&&(this.subscription=t.subscribe(()=>this.updateSequence()))}get sequenceValue(){return this.sequence$.getValue()}ngOnDestroy(){this.sequence$.next(0),this.subscription?.unsubscribe()}updateSequence(){this.sequence$.next(this.sequenceValue+1)}}return n.\u0275fac=function(t){return new(t||n)(Ze(ad,8))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac}),n})();function fw(n){return n[yX]}let wc=(()=>{class n{constructor(t,i,r){n.store=t.get(ad),n.ngZone=t.get(un),n.factory=i,n.context=r,n.computed=t.get(wX),n.injector=t}}return n.store=null,n.computed=null,n.context=null,n.factory=null,n.ngZone=null,n.injector=null,n.\u0275fac=function(t){return new(t||n)(Ze(Li),Ze(LW),Ze(BW))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac}),n})();class uo{constructor(){uo.statesCachedMeta.clear()}static createStateContext(e){return wc.context.createStateContext(e)}static ensureMappedState(e){if(ms(wc.factory)||ms(e))throw new Error("Metadata not created \n Maybe you forgot to import the NgxsDataPluginModule\n Also, you cannot use this.ctx.* until the application is fully rendered \n (use by default ngxsOnInit(ctx: StateContext), or ngxsAfterBootstrap(ctx: StateContext) !!!");return(Bs(e.name)?uo.statesCachedMeta.get(e.name):null)||uo.ensureMeta(e)}static getRepositoryByInstance(e){const i=fw(uo.getStateClassByInstance(e))??null;if(ms(i))throw new Error("You forgot add decorator @StateRepository or initialize state!\nExample: NgxsModule.forRoot([ .. ]), or NgxsModule.forFeature([ .. ])");return i}static getStateClassByInstance(e){return(e??{}).constructor}static clearMetaByInstance(e){const t=uo.getRepositoryByInstance(e);t.stateMeta.actions={},t.operations={}}static createPayload(e,t){const i={},r=Array.from(e);for(const[o,s]of r.entries()){const a=t?.getPayloadTypeByIndex(o);Bs(a)&&(i[a]=s)}return Object.keys(i).length>0?i:null}static createAction(e,t,i){const r=uo.createPayload(t,i),o=function cPe(n){return class{constructor(t){if(t)for(const i of Object.keys(t))this[i]=t[i]}static get type(){return n}}}(e.type);return new o(r)}static ensureMeta(e){const t=Bs(e.name)?wc.factory.states?.find(i=>i.name===e.name):null;return Bs(t)&&Bs(e.name)&&uo.statesCachedMeta.set(e.name,t),t}}uo.statesCachedMeta=new Map,uo.\u0275fac=function(e){return new(e||uo)},uo.\u0275prov=Tt({token:uo,factory:uo.\u0275fac}),new class lPe{constructor(){this.subject=new Xf(1)}init(){this.subject.next()}onInit(e){this.subject.pipe(function _u(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ui((r,o)=>n(r,o,i)):Se,Qi(1),t?P_(e):WY(()=>new J0))}()).subscribe(e)}reset(){this.subject.complete(),this.subject=new Xf(1)}};class uPe extends Error{constructor(e){super(`Child states can only be added to an object. Cannot convert ${Bs(e?.constructor)?e.constructor.name:e} to PlainObject`)}}function xX(n){return n.NGXS_OPTIONS_META??{name:""}}function EX(n){const e=xX(n),t=e.children??[],r=mX(void 0===e.defaults?{}:e.defaults);if(t.length>0){if(gX(r))return function hPe(n,e){return e.reduce((t,i)=>{const r=xX(i);if(function hw(n){const e="string"==typeof n?n.trim():n;return[void 0,null,NaN,"",1/0].includes(e)}(r.name))throw new Error("State name not provided in class");return t[r.name.toString()]=EX(i),t},n??{})}(r,t);throw new uPe(r)}return r}function CX(){return`__${rPe}__`}function SX(n){return n[CX()]??null}function AX(){return wc?.computed?.sequenceValue??0}function mPe(n){let e=!1;return Tp(n)&&(e=!0),e}function wF(n){return n[vX]}class gPe extends Error{constructor(e,t){super(`An argument with the name '${e}' already exists in the method '${t}'`)}}class _Pe{constructor(){this.payloadMap=new Map,this.argumentMap=new Map}getPayloadTypeByIndex(e){return this.payloadMap.get(e)??null}getArgumentNameByIndex(e){return this.argumentMap.get(e)??null}createPayloadType(e,t,i){this.checkDuplicateName(e,t),this.payloadMap.set(i,e),this.payloadMap.set(e,e)}createArgumentName(e,t,i){this.checkDuplicateName(e,t),this.argumentMap.set(i,e),this.argumentMap.set(e,e)}checkDuplicateName(e,t){if(bF(this.argumentMap.has(e))||bF(this.payloadMap.has(e)))throw new gPe(e,t)}}function xPe(n){return{enumerable:!0,configurable:!0,get(){const e=fw(n),t=uo.ensureMappedState(e.stateMeta);return uo.createStateContext(t)}}}function EF(n){if(!n)throw new Error("You forgot add decorator @StateRepository or initialize state!\nExample: NgxsModule.forRoot([ .. ]), or NgxsModule.forFeature([ .. ])");return{...n,getState:()=>n.getState(),setState(e){n.setState(e)},patchState(e){n.patchState(e)}}}const MPe={dataActionSubscribeRequired:!0},TPe=new yt("NGXS_DATA_CONFIG",{providedIn:"root",factory:()=>MPe});let IPe=(()=>{class n{constructor(t,i){this.accessor=t,this.injector=i}static forRoot(t=[]){return{ngModule:n,providers:[uo,wc,wX,...t]}}}return n.\u0275fac=function(t){return new(t||n)(Ze(uo,2),Ze(wc,2))},n.\u0275mod=$t({type:n}),n.\u0275inj=Wt({}),n})();function zi(){return(n,e,t)=>{!function aPe(n,e){if(!function KRe(n,e){let t=n,i=!1;if(gX(t))for(;null!==t;){if(H_(t?.hasOwnProperty(e))){i=!!Object.getOwnPropertyDescriptor(t,e)?.get;break}t=Object.getPrototypeOf(t)}return i}(n,e?.toString()))throw new Error(`The method must be a getter for the computed decorator to work properly.\nExample: \n@Computed() get ${e.toString()}() { \n\t .. \n}`)}(n,e);const i=t.get;return t.get=function(...r){const o=function pPe(n){return ms(SX(n))&&Object.defineProperties(n,{[CX()]:{enumerable:!0,configurable:!0,value:new WeakMap}}),SX(n)}(this),s=o?.get(i);if(H_(s?.isObservable))return s?.value;if(ms(s)||s.sequenceId!==AX()){o.delete(i);const c=i.apply(this,r);return o.set(i,{value:c,sequenceId:AX(),isObservable:mPe(c)}),c}return s?.value},t}}const DPe={cancelUncompleted:!0,insideZone:!1,subscribeRequired:!0};function Kn(n={}){const e=function OPe(n){const e=wc?.injector?.get(TPe,void 0,yi.Optional),t={...DPe};return Bs(e)&&void 0!==e?.dataActionSubscribeRequired&&(t.subscribeRequired=e.dataActionSubscribeRequired),{...t,...n}}(n);return(t,i,r)=>{!function sPe(n,e){if(n.hasOwnProperty("prototype"))throw new Error("Cannot support static methods with @DataAction()");if(void 0===e)throw new Error("@DataAction() can only decorate a method implementation")}(t,r);const o=r.value,s=i.toString();return r.value=function(...a){const c=this;let l=null;const d=uo.getRepositoryByInstance(c),h=d.operations;let p=h[s];const _=d.stateMeta,w=wF(o);if(ms(p)){const me=function APe(n){return String(n).replace(/\/\/.*$/gm,"").replace(/\s+/g,"").replace(/\/\*[^*/]*\*\//g,"").split("){",1)?.[0]?.replace(/^[^(]*\(/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean)??[]}(o),Pe=function dPe(n){const{statePath:e,argumentsNames:t,methodName:i,argumentRegistry:r}=n;let o="";for(let s=0;s<t.length;s++)Bs(r?.getArgumentNameByIndex(s))?o+=r?.getArgumentNameByIndex(s):Bs(r?.getPayloadTypeByIndex(s))?o+=r?.getPayloadTypeByIndex(s):o+=`$arg${s}`,s!==t.length-1&&(o+=", ");return`@${e.replace(/\./g,"/")}.${i}(${o})`}({statePath:_.path,methodName:s,argumentsNames:me,argumentRegistry:w});p=h[s]={type:Pe,options:{cancelUncompleted:e.cancelUncompleted??!1}},Bs(p)&&(_.actions[p.type]=[{type:p.type,options:p.options,fn:p.type}])}uo.ensureMappedState(_).instance[p.type]=()=>(H_(e.insideZone)?wc.ngZone?.run(()=>{l=o.apply(c,a)}):l=o.apply(c,a),Tp(l)&&H_(e.subscribeRequired)?sn(null).pipe(E(()=>l)):l);const K=uo.createAction(p,a,w),Q=wc.store.dispatch(K);return Tp(l)?function fPe(n,e){return jv([n,e]).pipe(E(t=>t.pop()))}(Q,l):l},r}}function Oo(n){return(e,t,i)=>{const r=n.trim();if(!r)throw new Error("Payload name should be initialized");(function bPe(n,e){const t=n[e];return ms(wF(t))&&Object.defineProperties(t,{[vX]:{enumerable:!0,configurable:!0,value:new _Pe}}),wF(t)})(e,t).createPayloadType(r,t,i)}}function Lh(){return n=>{const e=function SPe(n){if(function BRe(n){return!bF(n)}(n.hasOwnProperty(vF))){const e={name:null,actions:{},defaults:{},path:null,makeRootSelector:t=>t.getStateGetter(e.name),children:[]};Object.defineProperty(n,vF,{value:e})}return function CPe(n){return n?.[vF]}(n)}(n);if(ms(e.name))throw new Error("@StateRepository should be add before decorator @State");!function wPe(n,e){(function vPe(n){const e=fw(n)??null;return(ms(e)||e?.stateClass!==n)&&function yPe(n){Object.defineProperty(n,yX,{writable:!0,configurable:!0,enumerable:!0,value:{stateMeta:null,operations:{},stateClass:n}})}(n),fw(n)}(n)).stateMeta=e}(n,e),function RPe(n,e,t){Object.defineProperties(n.prototype,{name:{enumerable:!0,configurable:!0,value:e.name},initialState:{enumerable:!0,configurable:!0,get:()=>mX(t)},context:xPe(n)})}(n,e,EX(n)),function EPe(n){const t=fw(n)?.stateMeta?.name??null;if(Bs(t)){const i=`__${t}__selector`;Object.defineProperties(n.prototype,{[i]:{writable:!0,enumerable:!1,configurable:!0},state$:{enumerable:!0,configurable:!0,get(){if(Bs(this[i]))return this[i];if(ms(wc.store))throw new Error("Metadata not created \n Maybe you forgot to import the NgxsDataPluginModule\n Also, you cannot use this.ctx.* until the application is fully rendered \n (use by default ngxsOnInit(ctx: StateContext), or ngxsAfterBootstrap(ctx: StateContext) !!!");return this[i]=wc.store.select(n).pipe(E(r=>r),dc({refCount:!0,bufferSize:1})),this[i]}}})}}(n)}}var MX=function(n){return n.ID="id",n}(MX||{}),CF=function(n){return n.ASC="asc",n.DESC="desc",n}(CF||{});let SF=(()=>{class n{constructor(){this._dirty=!0,this.browserStorageEvents$=new j,this.isInitialised=!1,this.isBootstrapped=!1}get dirty(){return this._dirty}set dirty(t){this._dirty=t}ngxsOnChanges(t){this.dirty&&this.isBootstrapped&&(this.dirty=!1,this.ngxsDataDoCheck?.())}ngxsOnInit(){this.isInitialised=!0}ngxsAfterBootstrap(){this.isBootstrapped=!0,this.dirty&&(this.dirty=!1,this.ngxsDataDoCheck?.())}markAsDirtyAfterReset(){this.dirty=!0,this.ngxsDataAfterReset?.()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Tt({token:n,factory:n.\u0275fac}),n})(),NPe=(()=>{class n extends SF{get snapshot(){return this.getState()}get ctx(){return EF(this.context)}patchState(t){this.ctx.patchState(t)}setState(t){this.ctx.setState(t)}reset(){this.ctx.setState(this.initialState),this.markAsDirtyAfterReset()}getState(){return this.ctx.getState()}dispatch(t){return this.ctx.dispatch(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=ti(n)))(i||n)}}(),n.\u0275prov=Tt({token:n,factory:n.\u0275fac}),ke([zi(),fe("design:type",Object),fe("design:paramtypes",[])],n.prototype,"snapshot",null),ke([Kn(),ft(0,Oo("patchValue")),fe("design:type",Function),fe("design:paramtypes",[Object]),fe("design:returntype",void 0)],n.prototype,"patchState",null),ke([Kn(),ft(0,Oo("stateValue")),fe("design:type",Function),fe("design:paramtypes",[Object]),fe("design:returntype",void 0)],n.prototype,"setState",null),ke([Kn(),fe("design:type",Function),fe("design:paramtypes",[]),fe("design:returntype",void 0)],n.prototype,"reset",null),n})(),FPe=(()=>{class n extends SF{constructor(){super(...arguments),this.primaryKey=MX.ID,this.comparator=null}get snapshot(){return this.getState()}get ids(){return this.snapshot.ids}get entities(){return this.snapshot.entities}get entitiesArray(){const t=this.snapshot;return t.ids.map(i=>t.entities[i])}get ids$(){return this.state$.pipe(E(t=>t.ids))}get entities$(){return this.state$.pipe(E(t=>t.entities))}get entitiesArray$(){return this.state$.pipe(E(t=>t.ids.map(i=>t.entities[i])))}get ctx(){return EF(this.context)}reset(){this.setEntitiesState(this.initialState),this.markAsDirtyAfterReset()}addOne(t){this.addEntityOne(t)}addMany(t){this.addEntitiesMany(t)}setOne(t){this.setEntityOne(t)}setMany(t){this.setEntitiesMany(t)}setAll(t){this.setEntitiesAll(t)}updateOne(t){this.updateEntitiesMany([t])}updateMany(t){this.updateEntitiesMany(t)}upsertOne(t){this.upsertEntitiesMany([t])}upsertMany(t){this.upsertEntitiesMany(t)}removeOne(t){this.removeEntitiesMany([t])}removeMany(t){this.removeEntitiesMany(t)}removeByEntity(t){const i=this.selectId(t);this.removeEntitiesMany([i])}removeByEntities(t){const i=[];for(const r of t){const o=this.selectId(r);i.push(o)}this.removeEntitiesMany(i)}removeAll(){this.setAll([])}sort(t){this.comparator=t??this.comparator,ms(this.comparator)?console.warn("You must set the compare function before sorting."):this.setEntitiesState(this.getState())}patchState(t){this.ctx.patchState(t)}setComparator(t){return this.comparator=t,this}dispatch(t){return this.ctx.dispatch(t)}getState(){return this.ctx.getState()}selectId(t){return t?.[this.primaryKey]}selectOne(t){return this.snapshot.entities[t]??null}selectAll(){const t=this.getState();return t.ids.map(i=>t.entities[i])}addEntityOne(t){const i=this.getState(),r=this.selectIdValue(t);r in i.entities||this.setEntitiesState({...i,ids:[...i.ids,r],entities:{...i.entities,[r]:t}})}addEntitiesMany(t){const i=this.getState(),r={},o=[];for(const s of t){const a=this.selectIdValue(s);a in i.entities||a in r||(o.push(a),r[a]=s)}o.length>0&&this.setEntitiesState({...i,ids:[...i.ids,...o],entities:{...i.entities,...r}})}setEntitiesAll(t){const i=this.getState(),r={},o=[];for(const s of t){const a=this.selectIdValue(s);a in r||(o.push(a),r[a]=s)}this.setEntitiesState({...i,ids:o,entities:r})}setEntityOne(t){const i=this.getState(),r=this.selectIdValue(t);this.setEntitiesState(r in i.entities?{...i,entities:{...i.entities,[r]:t}}:{...i,ids:[...i.ids,r],entities:{...i.entities,[r]:t}})}setEntitiesMany(t){for(const i of t)this.setEntityOne(i)}updateEntitiesMany(t){const i=this.getState(),r=t.filter(a=>a.id in i.entities);if(0===r.length)return;const o=this.generateKeyMap(i),s={...i.entities};for(const a of r){const c=this.updateOrigin(s,a),l=this.selectIdValue(c);l!==a.id&&(delete o[a.id],delete s[a.id]),o[a.id]=l,s[l]=c}this.setEntitiesState({...i,ids:i.ids.map(a=>o[a]??a),entities:s})}upsertEntitiesMany(t){const i=this.getState(),r=[],o=[];for(const s of t){const a=this.selectIdValue(s);a in i.entities?r.push({id:a,changes:s}):o.push(s)}this.updateMany(r),this.addMany(o)}removeEntitiesMany(t){const i=this.getState(),r=this.generateKeyMap(i),o={...i.entities};for(const s of t)s in o&&(delete r[s],delete o[s]);this.setEntitiesState({...i,ids:i.ids.filter(s=>s in r),entities:o})}setEntitiesState(t){const i=this.sortKeysByComparator(t.ids,t.entities);this.ctx.patchState({...t,ids:i,entities:t.entities})}sortKeysByComparator(t,i){if(ms(this.comparator))return t;const r=t.slice(),o=this.comparator;return"function"==typeof o?r.sort((s,a)=>o(i[s],i[a])):this.sortByComparatorOptions(r,o,i)}sortByComparatorOptions(t,i,r){switch(i?.sortByOrder){case CF.ASC:return t.sort((o,s)=>function ZRe(n,e,t){return e?.[n]>t?.[n]?1:e?.[n]<t?.[n]?-1:0}(i?.sortBy,r[o],r[s]));case CF.DESC:return t.sort((o,s)=>function QRe(n,e,t){return e?.[n]>t?.[n]?-1:e?.[n]<t?.[n]?1:0}(i?.sortBy,r[o],r[s]));default:return t}}generateKeyMap(t){return t.ids.reduce((i,r)=>(i[r]=r,i),{})}updateOrigin(t,i){return{...t[i.id],...i.changes}}selectIdValue(t){const i=this.selectId(t);return ms(i),i}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=ti(n)))(i||n)}}(),n.\u0275prov=Tt({token:n,factory:n.\u0275fac}),ke([zi(),fe("design:type",Object),fe("design:paramtypes",[])],n.prototype,"snapshot",null),ke([zi(),fe("design:type",Array),fe("design:paramtypes",[])],n.prototype,"ids",null),ke([zi(),fe("design:type",Object),fe("design:paramtypes",[])],n.prototype,"entities",null),ke([zi(),fe("design:type",Array),fe("design:paramtypes",[])],n.prototype,"entitiesArray",null),ke([zi(),fe("design:type",Ye),fe("design:paramtypes",[])],n.prototype,"ids$",null),ke([zi(),fe("design:type",Ye),fe("design:paramtypes",[])],n.prototype,"entities$",null),ke([zi(),fe("design:type",Ye),fe("design:paramtypes",[])],n.prototype,"entitiesArray$",null),ke([Kn(),fe("design:type",Function),fe("design:paramtypes",[]),fe("design:returntype",void 0)],n.prototype,"reset",null),ke([Kn(),ft(0,Oo("entity")),fe("design:type",Function),fe("design:paramtypes",[Object]),fe("design:returntype",void 0)],n.prototype,"addOne",null),ke([Kn(),ft(0,Oo("entities")),fe("design:type",Function),fe("design:paramtypes",[Array]),fe("design:returntype",void 0)],n.prototype,"addMany",null),ke([Kn(),ft(0,Oo("entity")),fe("design:type",Function),fe("design:paramtypes",[Object]),fe("design:returntype",void 0)],n.prototype,"setOne",null),ke([Kn(),ft(0,Oo("entities")),fe("design:type",Function),fe("design:paramtypes",[Array]),fe("design:returntype",void 0)],n.prototype,"setMany",null),ke([Kn(),ft(0,Oo("entities")),fe("design:type",Function),fe("design:paramtypes",[Array]),fe("design:returntype",void 0)],n.prototype,"setAll",null),ke([Kn(),ft(0,Oo("update")),fe("design:type",Function),fe("design:paramtypes",[Object]),fe("design:returntype",void 0)],n.prototype,"updateOne",null),ke([Kn(),ft(0,Oo("updates")),fe("design:type",Function),fe("design:paramtypes",[Array]),fe("design:returntype",void 0)],n.prototype,"updateMany",null),ke([Kn(),ft(0,Oo("entity")),fe("design:type",Function),fe("design:paramtypes",[Object]),fe("design:returntype",void 0)],n.prototype,"upsertOne",null),ke([Kn(),ft(0,Oo("entities")),fe("design:type",Function),fe("design:paramtypes",[Array]),fe("design:returntype",void 0)],n.prototype,"upsertMany",null),ke([Kn(),ft(0,Oo("id")),fe("design:type",Function),fe("design:paramtypes",[Object]),fe("design:returntype",void 0)],n.prototype,"removeOne",null),ke([Kn(),ft(0,Oo("ids")),fe("design:type",Function),fe("design:paramtypes",[Array]),fe("design:returntype",void 0)],n.prototype,"removeMany",null),ke([Kn(),ft(0,Oo("entity")),fe("design:type",Function),fe("design:paramtypes",[Object]),fe("design:returntype",void 0)],n.prototype,"removeByEntity",null),ke([Kn(),ft(0,Oo("entities")),fe("design:type",Function),fe("design:paramtypes",[Array]),fe("design:returntype",void 0)],n.prototype,"removeByEntities",null),ke([Kn(),fe("design:type",Function),fe("design:paramtypes",[]),fe("design:returntype",void 0)],n.prototype,"removeAll",null),ke([Kn(),ft(0,Oo("comparator")),fe("design:type",Function),fe("design:paramtypes",[Object]),fe("design:returntype",void 0)],n.prototype,"sort",null),ke([Kn(),ft(0,Oo("patchValue")),fe("design:type",Function),fe("design:paramtypes",[Object]),fe("design:returntype",void 0)],n.prototype,"patchState",null),n})(),G_=(()=>{class n extends SF{get snapshot(){return this.getState()}get ctx(){return EF(this.context)}patchState(t){this.ctx.patchState(t)}setState(t){this.ctx.setState(t)}reset(){this.ctx.setState(this.initialState),this.markAsDirtyAfterReset()}getState(){return this.ctx.getState()}dispatch(t){return this.ctx.dispatch(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=ti(n)))(i||n)}}(),n.\u0275prov=Tt({token:n,factory:n.\u0275fac}),ke([zi(),fe("design:type",Object),fe("design:paramtypes",[])],n.prototype,"snapshot",null),ke([Kn(),ft(0,Oo("patchValue")),fe("design:type",Function),fe("design:paramtypes",[Object]),fe("design:returntype",void 0)],n.prototype,"patchState",null),ke([Kn(),ft(0,Oo("stateValue")),fe("design:type",Function),fe("design:paramtypes",[Object]),fe("design:returntype",void 0)],n.prototype,"setState",null),ke([Kn(),fe("design:type",Function),fe("design:paramtypes",[]),fe("design:returntype",void 0)],n.prototype,"reset",null),n})();function AF(){return ui(n=>null!=n)}const LPe={};function MF(...n){const e=n[n.length-1];let t=n,i=LPe;return"object"==typeof e&&(i=e,t=t.slice(0,-1)),r=>r.pipe(ZN(...t),Ue(i.compare),dc(1))}const IA=new yt("ngx-google-analytics-settings",{factory:()=>({trackingCode:"",enableTracing:!1})}),JF=new yt("ngx-window",{providedIn:"root",factory:()=>{const{defaultView:n}=Kt(Nn);if(!n)throw new Error("Window is not available");return n}}),$Fe=new yt("ngx-data-layer",{providedIn:"root",factory:()=>function WFe(n){return n?n.dataLayer=n.dataLayer||[]:null}(Kt(JF))}),TK=new yt("ngx-gtag-fn",{providedIn:"root",factory:()=>function YFe(n,e){return n?n.gtag=n.gtag||function(){e.push(arguments)}:null}(Kt(JF),Kt($Fe))});let Us=(()=>{class n{constructor(t,i,r){this.settings=t,this._document=i,this._gtag=r}get document(){return this._document}throw(t){this.settings.enableTracing&&console&&console.error&&console.error(t)}toKeyValue(t){return t.size>0?Array.from(t).reduce((i,[r,o])=>Object.defineProperty(i,r,{value:o,enumerable:!0}),{}):void 0}gtag(...t){try{this._gtag(...t.filter(i=>void 0!==i))}catch(i){this.throw(i)}}event(t,i,r,o,s,a){try{const c=new Map;i&&c.set("event_category",i),r&&c.set("event_label",r),o&&c.set("value",o),void 0!==s&&c.set("interaction",s),a&&Object.entries(a).map(([d,h])=>c.set(d,h));const l=this.toKeyValue(c);l?this.gtag("event",t,l):this.gtag("event",t)}catch(c){this.throw(c)}}pageView(t,i,r,o){try{const s=new Map([["page_path",t]]);i&&s.set("page_title",i),(r||this.document)&&s.set("page_location",r||this.document.location.href),o&&Object.entries(o).map(([a,c])=>s.set(a,c)),this.gtag("config",this.settings.trackingCode,this.toKeyValue(s))}catch(s){this.throw(s)}}appView(t,i,r,o,s){try{const a=new Map([["screen_name",t],["app_name",i]]);r&&a.set("app_id",r),o&&a.set("app_version",o),s&&a.set("app_installer_id",s),this.gtag("event","screen_view",this.toKeyValue(a))}catch(a){this.throw(a)}}set(...t){try{this._gtag("set",...t)}catch(i){this.throw(i)}}exception(t,i){try{const r=new Map;t&&r.set("description",t),i&&r.set("fatal",i),this.toKeyValue(r)?this.gtag("event","exception",this.toKeyValue(r)):this.gtag("event","exception")}catch(r){this.throw(r)}}}return n.\u0275fac=function(t){return new(t||n)(Ze(IA),Ze(Nn),Ze(TK))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KFe={provide:gD,multi:!0,useFactory:function qFe(n,e,t){return _n(function*(){if(!n.trackingCode)return void console.error("Empty tracking code for Google Analytics. Make sure to provide one when initializing NgxGoogleAnalyticsModule.");if(!e)return void console.error("Was not possible create or read gtag() fn. Make sure this module is running on a Browser w/ access to Window interface.");t||console.error("Was not possible to access Document interface. Make sure this module is running on a Browser w/ access do Document interface."),n.uri=n.uri||`https://www.googletagmanager.com/gtag/js?id=${n.trackingCode}`,n.initCommands=n?.initCommands??[],n.initCommands.find(o=>"config"===o.command)||n.initCommands.unshift({command:"config",values:[n.trackingCode]}),n.initCommands.find(o=>"js"===o.command)||n.initCommands.unshift({command:"js",values:[new Date]});for(const o of n.initCommands)e(o.command,...o.values);const i=t.createElement("script");i.async=!0,i.src=n.uri,n.nonce&&i.setAttribute("nonce",n.nonce),t.getElementsByTagName("head")[0].appendChild(i)})},deps:[IA,TK,Nn]};new yt("ngx-google-analytics-routing-settings",{factory:()=>({})});let DK=(()=>{class n{static forRoot(t,i=[],r,o,s){return{ngModule:n,providers:[{provide:IA,useValue:{trackingCode:t,initCommands:i,uri:r,enableTracing:o,nonce:s}},KFe]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Wt({}),n})(),Dw=(()=>{class n{constructor(){this.consent="not-set",this.consentChange=new Xf(1),this.consentChange.next(this.consent)}ngOnDestroy(){this.consentChange.complete()}setConsent(t){this.consent!==t&&(this.consent=t,this.consentChange.next(t))}unsetConsent(){this.setConsent("not-set")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})(),QFe=(()=>{class n{constructor(t,i,{trackingCode:r}){this.window=i,this.subscriptions=new C,this.token=r,this.subscriptions.add(t.consentChange.subscribe(o=>this.toggleGoogleAnalytics("rescinded"===o)))}ngOnDestroy(){this.subscriptions.unsubscribe()}toggleGoogleAnalytics(t){this.window&&(this.window[`ga-disable-${this.token}`]=t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Dw),Ze(JF),Ze(IA))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();const eLe=new yt("Key under which consent is stored",{providedIn:"root",factory:()=>"ALLOW_TELEMETRY"}),OK=[Dw,QFe,(()=>{class n{constructor(t,i){this.key=i,this.subscriptions=new C;try{this.storage=localStorage}catch{}t.setConsent(this.loadConsent()),this.subscriptions.add(t.consentChange.subscribe(r=>this.saveConsent(r)))}ngOnDestroy(){this.subscriptions.unsubscribe()}loadConsent(){const t=this.storage?.getItem?.(this.key);if(null==t)return"not-set";const i=t.trim().toLowerCase();switch(i){case"given":case"rescinded":return i;default:return"not-set"}}saveConsent(t){this.storage?.setItem?.(this.key,t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Dw),Ze(eLe))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})()];function tLe(n){return Object.entries(n).reduce((e,[t,i])=>(null!=i&&(e[t]=`${i}`),e),{})}let iLe=(()=>{class n{static forRoot(t){const{providers:i=[]}=DK.forRoot(t.gaToken,function nLe(n){const{appName:e,projectName:t,developmentMode:i}=n;return[{command:"set",values:[tLe({appName:e,projectName:t,developmentMode:i})]}]}(t));return{ngModule:n,providers:i}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:[...OK,{provide:gD,multi:!0,useFactory:()=>()=>{},deps:OK}],imports:[DK]})}return n})();class kK extends Error{constructor(){super(...arguments),this.message="NgxsDispatchPluginModule is not imported"}}class lLe{constructor(){this.cancelUncompleted$=new j}cancelPreviousAction(){this.cancelUncompleted$.next()}}const ZF="\u0275fac",RK=Symbol("InjectorInstance"),PK=Symbol("FactoryHasBeenDecorated");function NK(n,e){const t=n[RK];return t?t.get(e):null}const hLe={cancelUncompleted:!1};function FK(n=hLe){return(e,t,i)=>{let r;const o=function dLe(n){return n?new lLe:null}(n.cancelUncompleted);function s(){null!==o&&o.cancelPreviousAction();const a=NK(this,ad)||function aLe(){throw new kK}(),c=NK(this,un)||function cLe(){throw new kK}(),l=r.apply(this,arguments);return c.runOutsideAngular(()=>function sLe(n,e,t){return Cg(e)?function oLe(n,e){return e.then(t=>(n.dispatch(t),t))}(n,e):Tp(e)?function rLe(n,e,t){return null!==t&&(e=e.pipe(ai(t.cancelUncompleted$))),e.subscribe({next:i=>n.dispatch(i)}),e}(n,e,t):(n.dispatch(e),e)}(a,l,o))}"function"==typeof i?.value?(r=i.value,i.value=s):Object.defineProperty(e,t,{set:a=>r=a,get:()=>s}),function uLe(n){if(PK in n.constructor.prototype)return;const e=n.constructor;"function"==typeof e[ZF]&&function QF(n){const e=n[ZF];if("function"!=typeof e)return;const t=n.\u0275prov||n.\u0275pipe||n.\u0275cmp||n.\u0275dir,i=()=>{const r=e();return r[RK]=Ce(ng),r};t&&(t.factory=i),Object.defineProperty(n,ZF,{get:()=>i})}(e),n.constructor.prototype[PK]=!0}(e)}}const fLe=["input"],pLe=["label"],mLe=["*"],gLe=new yt("mat-checkbox-default-options",{providedIn:"root",factory:LK});function LK(){return{color:"accent",clickAction:"check-indeterminate"}}const _Le={provide:ps,useExisting:Rn(()=>eL),multi:!0};class bLe{}let yLe=0;const BK=LK(),vLe=Jd(zg(Qf(Vg(class{constructor(n){this._elementRef=n}}))));let wLe=(()=>{class n extends vLe{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=gn(t)}constructor(t,i,r,o,s,a,c){super(i),this._changeDetectorRef=r,this._ngZone=o,this._animationMode=a,this._options=c,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new jt,this.indeterminateChange=new jt,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||BK,this.color=this.defaultColor=this._options.color||BK.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`${t}${++yLe}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const i=gn(t);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const i=gn(t);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=gn(t),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_transitionCheckState(t){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}static#e=this.\u0275fac=function(i){zd()};static#t=this.\u0275dir=Nt({type:n,viewQuery:function(i,r){if(1&i&&(xi(fLe,5),xi(pLe,5),xi(hc,5)),2&i){let o;hn(o=fn())&&(r._inputElement=o.first),hn(o=fn())&&(r._labelElement=o.first),hn(o=fn())&&(r.ripple=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[dn]})}return n})(),eL=(()=>{class n extends wLe{constructor(t,i,r,o,s,a){super("mat-mdc-checkbox-",t,i,r,o,s,a),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const i=new bLe;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(Ri),Ce(un),As("tabindex"),Ce(xr,8),Ce(gLe,8))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&(cs("id",r.id),Vn("tabindex",null)("aria-label",null)("aria-labelledby",null),tn("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[zn([_Le]),dn],ngContentSelectors:mLe,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(i,r){if(1&i&&(Wi(),$e(0,"div",0),Mt("click",function(s){return r._preventBubblingFromLabel(s)}),$e(1,"div",1,2)(3,"div",3),Mt("click",function(){return r._onTouchTargetClick()}),Qe(),$e(4,"input",4,5),Mt("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(s){return r._onInteractionEvent(s)}),Qe(),on(6,"div",6),$e(7,"div",7),Nc(),$e(8,"svg",8),on(9,"path",9),Qe(),hf(),on(10,"div",10),Qe(),on(11,"div",11),Qe(),$e(12,"label",12,13),bn(14),Qe()()),2&i){const o=Jr(2);tn("mdc-form-field--align-end","before"==r.labelPosition),ot(4),tn("mdc-checkbox--selected",r.checked),ct("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),Vn("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("name",r.name)("value",r.value),ot(7),ct("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),ot(1),ct("for",r.inputId)}},dependencies:[hc],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),UK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({})}return n})(),jK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Ti,La,UK,Ti,UK]})}return n})(),VK=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=gn(t)}get inset(){return this._inset}set inset(t){this._inset=gn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(Vn("aria-orientation",r.vertical?"vertical":"horizontal"),tn("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{--mat-divider-width:1px;display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return n})(),DA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Ti,Ti]})}return n})();const tBe=["bodyCanvas"];let nBe=(()=>{class n{constructor(){this.clsName="ccf-body-ui",this.rotationChange=new jt,this.nodeDrag=new jt,this.nodeClick=new jt,this.nodeHoverStart=new jt,this.nodeHoverStop=new jt,this.initialized=new jt,this._interactive=!0,this._rotation=0,this._rotationX=0,this._zoom=9.5,this._target=[0,0,0],this._scene=[],this.subscriptions=[]}get scene(){return this._scene}set scene(t){this._scene=t,this.bodyUI?.setScene(t)}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this.bodyUI?.setRotation(t)}get rotationX(){return this._rotationX}set rotationX(t){this._rotationX=t,this.bodyUI?.setRotationX(t)}get zoom(){return this._zoom}set zoom(t){this._zoom=t,this.bodyUI?.setZoom(t)}get target(){return this._target}set target(t){this._target=t,this.bodyUI?.setTarget(t)}get bounds(){return this._bounds}set bounds(t){this._bounds=t,this.zoomToBounds(t)}get camera(){return this._camera}set camera(t){this._camera=t}get interactive(){return this._interactive}set interactive(t){this._interactive=t,this.bodyUI&&this.recreateBodyUI()}ngAfterViewInit(){this.setupBodyUI()}zoomToBounds(t,i={x:48,y:48}){if(this.bodyCanvas){const{width:r,height:o}=this.bodyCanvas.nativeElement,s=window.devicePixelRatio,a=Math.min(Math.log2((r-i.x)/s/t.x),Math.log2((o-i.y)/s/t.y));this.zoom=a}}setupBodyUI(){var t=this;return _n(function*(){const i=t.bodyCanvas.nativeElement,r=new oDe({id:"body-ui",canvas:i,zoom:t.zoom,target:[0,0,0],rotation:0,minRotationX:-75,maxRotationX:75,interactive:t.interactive,camera:t.camera});i.addEventListener("contextmenu",o=>o.preventDefault()),yield r.initialize(),t.bodyUI=r,window.bodyUI=r,t.scene?.length>0&&t.bodyUI.setScene(t.scene),t.bounds&&t.zoomToBounds(t.bounds),t.target&&t.bodyUI.setTarget(t.target),t.subscriptions=[t.bodyUI.sceneRotation$.subscribe(o=>t.rotationChange.next(o)),t.bodyUI.nodeDrag$.subscribe(o=>t.nodeDrag.emit(o)),t.bodyUI.nodeClick$.subscribe(o=>t.nodeClick.emit(o)),t.bodyUI.nodeHoverStart$.subscribe(o=>t.nodeHoverStart.emit(o)),t.bodyUI.nodeHoverStop$.subscribe(o=>t.nodeHoverStop.emit(o))],t.initialized.emit()})()}recreateBodyUI(){this.clearSubscriptions(),this.bodyUI.finalize(),this.setupBodyUI()}clearSubscriptions(){this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions=[]}ngOnDestroy(){this.clearSubscriptions()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-body-ui"]],viewQuery:function(i,r){if(1&i&&xi(tBe,5,vn),2&i){let o;hn(o=fn())&&(r.bodyCanvas=o.first)}},hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{scene:"scene",rotation:"rotation",rotationX:"rotationX",zoom:"zoom",target:"target",bounds:"bounds",camera:"camera",interactive:"interactive"},outputs:{rotationChange:"rotationChange",nodeDrag:"nodeDrag",nodeClick:"nodeClick",nodeHoverStart:"nodeHoverStart",nodeHoverStop:"nodeHoverStop",initialized:"initialized"},decls:2,vars:0,consts:[[1,"body-ui"],["bodyCanvas",""]],template:function(i,r){1&i&&on(0,"canvas",0,1)},styles:["[_nghost-%COMP%]{height:100%;display:block}[_nghost-%COMP%]   .body-ui[_ngcontent-%COMP%]{position:relative!important;background-color:#000;border-radius:.5rem}"],changeDetection:0})}return n})(),iBe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn]})}return n})();function cBe(n,e){if(1&n&&($e(0,"li",4),kt(1),Bn(2,"json"),Qe()),2&n){const t=e.$implicit;ot(1),J1(" ",t[0],": ",Jn(2,2,t[1])," ")}}function lBe(n,e){if(1&n&&($e(0,"div",1)(1,"div"),kt(2),Qe(),$e(3,"ul",2),Yt(4,cBe,3,4,"li",3),Qe()()),2&n){const t=e.$implicit;ot(2),Tr(t[0]),ot(2),ct("ngForOf",t[1])}}let dBe=(()=>{class n{get data(){return Object.entries(this.root).map(([o,s])=>[o,Object.entries(s)]).filter(([o,s])=>s.length>0)}constructor(t,i){this.clsName="ccf-store-debug",this.root={},this.subscriptions=new C;const r=t.subscribe(o=>{this.root=o,i.markForCheck()});this.subscriptions.add(r)}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(ad),Ce(Ri))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-store-debug"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},decls:1,vars:1,consts:[["class","state",4,"ngFor","ngForOf"],[1,"state"],[1,"kvlist"],["class","kvpair",4,"ngFor","ngForOf"],[1,"kvpair"]],template:function(i,r){1&i&&Yt(0,lBe,5,2,"div",0),2&i&&ct("ngForOf",r.data)},dependencies:[va,vV],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})(),uBe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn]})}return n})();new yt("Maximum number of autocomplete options displayed",{providedIn:"root",factory:()=>10});const kw=[{src:"app:skin",organ:"Skin",name:"Skin",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002097"},{src:"app:brain",organ:"Brain",name:"Brain",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000955"},{disabled:!0,src:"app:lymph-nodes",organ:"Lymph Node",name:"Lymph Node",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000029"},{src:"app:lymph-nodes",organ:"Lymph Node",name:"Lymph Node",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002509"},{disabled:!0,src:"app:eye",organ:"Eye",name:"Eye, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000970"},{src:"app:eye",organ:"Eye",name:"Eye, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004548"},{src:"app:eye",organ:"Eye",name:"Eye, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004549"},{disabled:!0,src:"app:fallopian-tube-left",organ:"Fallopian Tube",name:"Fallopian Tube, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0003889"},{src:"app:fallopian-tube-left",organ:"Fallopian Tube",name:"Fallopian Tube, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001303"},{src:"app:fallopian-tube-right",organ:"Fallopian Tube",name:"Fallopian Tube, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001302"},{src:"app:heart",organ:"Heart",name:"Heart",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000948"},{disabled:!0,src:"app:kidney-left",organ:"Kidney",name:"Kidney, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002113"},{src:"app:kidney-left",organ:"Kidney",name:"Kidney, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004538"},{src:"app:kidney-right",organ:"Kidney",name:"Kidney, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004539"},{disabled:!0,src:"app:knee",organ:"Knee",name:"Knee, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001465"},{src:"app:knee",organ:"Knee",name:"Knee, L",side:"left",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma24978"},{src:"app:knee",organ:"Knee",name:"Knee, R",side:"right",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma24977"},{src:"app:liver",organ:"Liver",name:"Liver",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002107"},{disabled:!0,src:"app:lung",organ:"Lung",name:"Lungs",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002048"},{src:"app:lung",organ:"Lung",name:"Lungs",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001004"},{disabled:!0,src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001911"},{src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma57991"},{src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma57987"},{disabled:!0,src:"app:ovary-left",organ:"Ovary",name:"Ovary, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0000992"},{src:"app:ovary-left",organ:"Ovary",name:"Ovary, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma7214"},{src:"app:ovary-right",organ:"Ovary",name:"Ovary, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma7213"},{src:"app:larynx",organ:"Larynx",name:"Larynx",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001737"},{src:"app:main-bronchus",organ:"Main Bronchus",name:"Main Bronchus",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002182"},{disabled:!0,src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002373"},{src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, L",side:"left",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma54974"},{src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, R",side:"right",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma54973"},{src:"app:pancreas",organ:"Pancreas",name:"Pancreas",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001264"},{src:"app:pelvis-f",organ:"Pelvis",name:"Pelvis",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001270"},{src:"app:placenta",organ:"Placenta",name:"Placenta",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001987"},{src:"app:prostate",organ:"Prostate",name:"Prostate",hasSex:!1,sex:"male",id:"http://purl.obolibrary.org/obo/UBERON_0002367",disabled:!0},{src:"app:prostate",organ:"Prostate",name:"Prostate",hasSex:!1,sex:"male",id:"http://purl.obolibrary.org/obo/UBERON_0000079"},{src:"app:small-intestine",organ:"Small Intestine",name:"Small Intestine",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002108"},{src:"app:large-intestine",organ:"Large Intestine",name:"Large Intestine",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000059"},{src:"app:spinal-cord",organ:"Spinal Cord",name:"Spinal Cord",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002240"},{src:"app:spleen",organ:"Spleen",name:"Spleen",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002106"},{src:"app:thymus",organ:"Thymus",name:"Thymus",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002370"},{src:"app:trachea",organ:"Trachea",name:"Trachea",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0003126"},{disabled:!0,src:"app:ureter-left",organ:"Ureter",name:"Ureter, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000056"},{src:"app:ureter-left",organ:"Ureter",name:"Ureter, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001223"},{src:"app:ureter-right",organ:"Ureter",name:"Ureter, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001222"},{src:"app:bladder",organ:"Urinary Bladder",name:"Urinary Bladder",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001255"},{src:"app:uterus",organ:"Uterus",name:"Uterus",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0000995"},{src:"app:vasculature-thick",organ:"Blood Vasculature",name:"Blood Vasculature",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004537"},{disabled:!0,src:"app:vasculature-thick",organ:"Blood Vasculature",name:"Blood Vasculature",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002049"}].sort((n,e)=>n.name.localeCompare(e.name)).filter(n=>!0!==n.disabled);let EBe=(()=>{class n{constructor(){this.clsName="ccf-opacity-slider",this.opacity=20,this.visible=!0,this.opacityChange=new jt,this.visibilityToggle=new jt,this.opacityReset=new jt}ngOnInit(){this.prevOpacity=this.visible?0:20}reset(){this.prevOpacity=20}changeOpacity(t){this.opacity=parseInt(t,10),this.opacityChange.emit(this.opacity)}toggleVisibility(){const t=this.opacity;this.opacity=this.prevOpacity,this.prevOpacity=t,this.visibilityToggle.emit(),this.opacityChange.emit(this.opacity)}resetOpacity(){this.prevOpacity=0,this.opacityReset.emit()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-opacity-slider"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{opacity:"opacity",visible:"visible"},outputs:{opacityChange:"opacityChange",visibilityToggle:"visibilityToggle",opacityReset:"opacityReset"},decls:10,vars:17,consts:[[1,"slider-box"],[1,"slider-and-label"],[1,"slider",3,"step","min","max","value","input"],[1,"opacity-value"],[1,"icons"],["matRipple","","svgIcon","app:visibility_off",1,"visibility","icon","invisible",3,"matRippleCentered","matRippleUnbounded","click"],["matRipple","","svgIcon","app:visibility_on",1,"visibility","icon","visible",3,"matRippleCentered","matRippleUnbounded","click"],["matRipple","",1,"icon","reset",3,"matRippleCentered","matRippleUnbounded","click"]],template:function(i,r){1&i&&($e(0,"div",0)(1,"div",1)(2,"mat-slider",2),Mt("input",function(s){return r.changeOpacity(s.value)}),Qe(),$e(3,"span",3),kt(4),Qe()(),$e(5,"div",4)(6,"mat-icon",5),Mt("click",function(){return r.toggleVisibility()}),Qe(),$e(7,"mat-icon",6),Mt("click",function(){return r.toggleVisibility()}),Qe(),$e(8,"mat-icon",7),Mt("click",function(){return r.resetOpacity()}),kt(9,"refresh"),Qe()()()),2&i&&(ot(2),tn("disabled",!r.visible),ct("step",1)("min",0)("max",100)("value",r.opacity),ot(2),Ir("",r.opacity,"%"),ot(2),tn("hidden",r.visible),ct("matRippleCentered",!0)("matRippleUnbounded",!0),ot(1),tn("hidden",!r.visible),ct("matRippleCentered",!0)("matRippleUnbounded",!0),ot(1),ct("matRippleCentered",!0)("matRippleUnbounded",!0))},dependencies:[Yo,QN,hc],styles:["[_nghost-%COMP%]{height:2.25rem;display:flex;align-items:center;justify-content:space-between;border-radius:.1875rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;height:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]{width:60%;display:flex;align-items:center;height:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]     .mat-slider-wrapper{top:1.125rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   .slider.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   .opacity-value[_ngcontent-%COMP%]{width:1.5rem;margin-left:.5rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;cursor:pointer!important}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{margin-right:1rem;padding:.25rem;cursor:pointer;transition:.6s;border-radius:.25rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .visibility[_ngcontent-%COMP%]{transition:.6s;cursor:pointer;padding:.25rem;border-radius:.25rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .visibility.hidden[_ngcontent-%COMP%]{display:none}"],changeDetection:0})}return n})(),JK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,Or,vY,La]})}return n})();function CBe(n,e){if(1&n&&($e(0,"div",16),on(1,"youtube-player",17),Qe()),2&n){const t=Qt(3);ot(1),av("videoId",t.videoID)}}function SBe(n,e){if(1&n&&($e(0,"mat-expansion-panel",11)(1,"mat-expansion-panel-header")(2,"h2",12),kt(3),Qe()(),$e(4,"div",13),on(5,"markdown",14),Yt(6,CBe,2,1,"div",15),Qe()()),2&n){const t=Qt(),i=t.index,r=t.$implicit;ct("expanded",0===i),ot(3),Tr(r.title),ot(2),tn("first",0===i),ct("data",r.content),ot(1),ct("ngIf",0===i)}}function ABe(n,e){if(1&n&&($e(0,"div",9),Yt(1,SBe,7,6,"mat-expansion-panel",10),Qe()),2&n){const t=e.$implicit;ot(1),ct("ngIf",t)}}let ZK=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.documentationContents=i.content||[],this.infoTitle=i.title||"",this.videoID=i.videoID}ngOnInit(){const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.body.appendChild(t)}close(){document.getElementsByClassName("modal-animated")[0]?.classList.add("modal-animate-fade-out"),setTimeout(()=>{this.dialogRef.close()},250)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(lw),Ce(rF))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-info-dialog"]],decls:11,vars:2,consts:[[1,"about","wrapper"],[1,"container"],[1,"content"],[1,"header"],["mat-dialog-title","",1,"title"],[1,"close"],[1,"material-icons","close-icon",3,"click"],[1,"mat-typography","dialog-content"],["class","panel",4,"ngFor","ngForOf"],[1,"panel"],[3,"expanded",4,"ngIf"],[3,"expanded"],[1,"no-header-margin"],[1,"top-padding"],[1,"variable-binding",3,"data"],["class","video-player",4,"ngIf"],[1,"video-player"],[3,"videoId"]],template:function(i,r){1&i&&($e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),kt(5),Qe(),$e(6,"div",5)(7,"mat-icon",6),Mt("click",function(){return r.close()}),kt(8,"clear"),Qe()()(),$e(9,"mat-dialog-content",7),Yt(10,ABe,2,1,"div",8),Qe()()()()),2&i&&(ot(5),Tr(r.infoTitle),ot(5),ct("ngForOf",r.documentationContents))},dependencies:[va,Dr,oF,sF,Yo,oA,lF,HY,aX],styles:[".mat-dialog-container{padding:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1.5rem;text-align:left}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:3rem;margin-bottom:2.25rem;position:relative}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5rem;margin-bottom:1rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{cursor:pointer;height:3rem;width:3rem;line-height:3rem;text-align:center;transition:.6s}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 auto;line-height:3rem;height:3rem;justify-self:center;display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;margin-top:0;margin-bottom:.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{margin-bottom:1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .no-header-margin[_ngcontent-%COMP%]{font-weight:300;margin-bottom:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .top-padding[_ngcontent-%COMP%]{display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .top-padding[_ngcontent-%COMP%]   markdown[_ngcontent-%COMP%]     ul{margin-top:0;padding-left:1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:50rem;min-height:10rem;padding:0 1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]{font-weight:300;display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding.first[_ngcontent-%COMP%]{padding-right:1rem;width:73%}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]     ul{margin:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]     img{margin-left:1rem;float:right}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{position:relative;width:50%}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]     iframe{width:100%;height:100%}"],changeDetection:0})}return n})(),MBe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,dw,Or,dF,j2e,_Re.forRoot({})]})}return n})(),QK=(()=>{class n{constructor(t){this.http=t,this.panelContent=new Ei({content:[],infoTitle:"",videoID:""})}updateData(t,i,r){this.http.get(t,{responseType:"text"}).subscribe(o=>{const s={content:this.parseMarkdown(o),infoTitle:r,videoID:i};this.panelContent.next(s)})}parseMarkdown(t){const i=[],r=t.split("# ");for(const o of r)if(o.length){const s=o.includes("\n\n")?"\n\n":"\r\n\r\n",a=o.split(s);i.push({title:a[0],content:a.splice(1).join(s)})}return i}static#e=this.\u0275fac=function(i){return new(i||n)(Ze($g))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TBe=(()=>{class n{constructor(t,i){this.dialog=t,this.infoButtonService=i,this.infoTitle="",this.subscriptions=new C,this.subscriptions.add(i.panelContent.subscribe(r=>{r.content.length&&this.launchInfoDialog(r)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}launchInfoDialog(t){0==this.dialog.openDialogs.length&&this.dialog.open(ZK,{autoFocus:!1,panelClass:"modal-animated",width:"72rem",data:{title:t.infoTitle,content:t.content,videoID:t.videoID}})}onDialogButtonClick(){this.infoButtonService.updateData(this.documentationUrl,this.videoID,this.infoTitle)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(z_),Ce(QK))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-info-button"]],inputs:{infoTitle:"infoTitle",videoID:"videoID",documentationUrl:"documentationUrl"},decls:3,vars:0,consts:[[1,"info-button-wrapper"],["aria-hidden","false","aria-label","Page information",1,"ccf-info-button",3,"click"]],template:function(i,r){1&i&&($e(0,"div",0)(1,"mat-icon",1),Mt("click",function(){return r.onDialogButtonClick()}),kt(2," info "),Qe()())},dependencies:[Yo],styles:[".info-button-wrapper[_ngcontent-%COMP%]{border-radius:.25rem;padding:.65rem;transition:.6s}.info-button-wrapper[_ngcontent-%COMP%]   .ccf-info-button[_ngcontent-%COMP%]{cursor:pointer;transition:color .6s;font-size:1.5rem;vertical-align:sub}"],changeDetection:0})}return n})(),IBe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,MBe,Or,p8]})}return n})(),DBe=(()=>{class n{constructor(){this.clsName="ccf-call-to-action",this.callToActionClicked=new jt,this.closeClicked=new jt}close(){this.closeClicked.emit()}onDialogButtonClick(){this.callToActionClicked.emit()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-call-to-action"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{infoTitle:"infoTitle",imageUrl:"imageUrl",message:"message",callToAction:"callToAction"},outputs:{callToActionClicked:"callToActionClicked",closeClicked:"closeClicked"},decls:13,vars:4,consts:[[1,"rui-about","wrapper"],[1,"container"],[1,"content"],[1,"first-row"],["mat-dialog-title","",1,"title"],[1,"cta-mat-icon","material-icons","close-icon",3,"click"],["mat-card-sm-image","","alt","preview","layout-fill","",1,"cta-image",3,"src"],[1,"mat-typography","dialog-content"],[1,"message"],["mat-button","",1,"mat-button",3,"text","click"]],template:function(i,r){1&i&&($e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),kt(5),Qe(),$e(6,"mat-icon",5),Mt("click",function(){return r.close()}),kt(7,"clear"),Qe()(),on(8,"img",6),$e(9,"mat-dialog-content",7)(10,"div",8),kt(11),Qe(),$e(12,"a",9),Mt("click",function(){return r.onDialogButtonClick()}),Qe()()()()()),2&i&&(ot(5),Tr(r.infoTitle),ot(3),ct("src",r.imageUrl,tg),ot(3),Ir(" ",r.message,""),ot(1),ct("text",r.callToAction))},dependencies:[Yo,oF,sF,lX],styles:["[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:block;align-content:center;padding-left:1.6rem;padding-right:1.6rem;border-radius:.25rem}[_nghost-%COMP%]   .info-button-wrapper[_ngcontent-%COMP%]{border-radius:.25rem;padding:.6rem;transition:.6s}[_nghost-%COMP%]   .info-button-wrapper[_ngcontent-%COMP%]   .ccf-info-button[_ngcontent-%COMP%]{cursor:pointer;transition:color .6s;font-size:1.2rem;vertical-align:sub}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]{display:flex;width:100%;line-height:.9rem}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-right:7rem;padding-left:.2rem;font-size:.875rem;padding-top:.75rem}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]   .cta-mat-icon[_ngcontent-%COMP%]{height:30%;line-height:3.4rem}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{padding:.5rem}[_nghost-%COMP%]   .cta-image[_ngcontent-%COMP%]{align-self:center;object-fit:cover;width:100%;border-radius:.25rem}[_nghost-%COMP%]   .mat-button[_ngcontent-%COMP%]{background-color:#444a65;font-size:.75rem;position:relative;margin-bottom:1rem;width:100%;height:2rem;color:#fff}"],changeDetection:0})}return n})(),kBe=(()=>{class n{constructor(t){this.el=t}onInputChange(t){const i=this.el.nativeElement.value;this.el.nativeElement.value=i.replace(/[^0-9]*/g,""),i!==this.el.nativeElement.value&&t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn))};static#t=this.\u0275dir=Nt({type:n,selectors:[["input","ccfNumbersOnly",""]],hostBindings:function(i,r){1&i&&Mt("input",function(s){return r.onInputChange(s)})}})}return n})(),RBe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({})}return n})(),eq=(()=>{class n{get obj(){const t=this.findGlobalObject();return Object.defineProperties(this,{obj:{configurable:!1,writable:!1,value:t}}),t}has(t){const{obj:i}=this;return null!=i&&t in i}get(t,i){const{obj:r}=this;return(r&&r[t])??i}set(t,i){const{obj:r}=this;r&&(r[t]=i)}remove(t){const{obj:i}=this;i&&delete i[t]}findGlobalObject(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self;try{return new Function("return this;")()}catch{}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vu=(()=>{let n=class Gw extends G_{constructor(){super(...arguments),this.optionCache=new Map}get config$(){return this.state$.pipe(AF(),dc(1))}setConfig(t){this.setState(t)}patchConfig(t){this.patchState(t)}getProperty(t){return this.config$.pipe(ZN(...t),Ue(),dc(1))}getOption(...t){const i=this.getPathKey(t);if(this.optionCache.has(i))return this.optionCache.get(i);const r=this.config$.pipe(ZN(...t),Ue(),dc(1));return this.optionCache.set(i,r),r}getPathKey(t){return`${t.length}:${t.join(".")}`}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=ti(Gw)))(r||Gw)}}();static#t=this.\u0275prov=Tt({token:Gw,factory:Gw.\u0275fac})};return ke([zi()],n.prototype,"config$",null),n=ke([Lh(),gu({name:"globalConfig",defaults:null})],n),n})();!function NBe(){const n=localStorage.getItem("ALLOW_TELEMETRY");null===n||n.toLowerCase()}();let LBe=(()=>{class n{constructor(t,i){t&&function FBe(n,e){ip(n,"mousemove").pipe(fY(1e3),E(r=>{const{clientWidth:o,clientHeight:s}=n,{clientX:a,clientY:c}=r;return[a,c,o,s].join("_")})).subscribe(r=>e.event("webpage","mousemove",r))}(t.body,i)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Nn),Ze(Us))};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({})}return n})();function BBe(n,e){if(1&n){const t=$r();$e(0,"button",1),Mt("click",function(){return oi(t),Xn(Qt().submit(!0))}),kt(1),Qe()}if(2&n){const t=Qt();ot(1),Ir(" ","not-set"===t.allowTelemetry?"I understand":"Opt in","\n")}}function UBe(n,e){if(1&n){const t=$r();$e(0,"button",1),Mt("click",function(){return oi(t),Xn(Qt().submit(!1))}),kt(1,"Opt out"),Qe()}}let jBe=(()=>{class n{get allowTelemetry(){return this.consentService.consent}constructor(t,i,r){this.consentService=i,this.data=r,this.clsName="ccf-tracking-popup",this.container=t.nativeElement}dismiss(){this.data.preClose()}submit(t){this.consentService.setConsent(t?"given":"rescinded"),this.dismiss()}showButton(t){const{allowTelemetry:i}=this;return"not-set"===i||("opt-in"===t?"rescinded"===i:"given"===i)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(Dw),Ce(zO))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-tracking-popup"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},decls:4,vars:2,consts:[["mat-button","","color","basic",3,"click",4,"ngIf"],["mat-button","","color","basic",3,"click"]],template:function(i,r){1&i&&($e(0,"p"),kt(1,"We log usage to improve this service."),Qe(),Yt(2,BBe,2,1,"button",0),Yt(3,UBe,2,0,"button",0)),2&i&&(ot(2),ct("ngIf",r.showButton("opt-in")),ot(1),ct("ngIf",r.showButton("opt-out")))},dependencies:[Dr,Yg],styles:["[_nghost-%COMP%]{display:flex;align-items:center;min-width:400px;color:#ffffffb3;background:#323232;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;z-index:9999}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin:24px}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem;min-width:6rem;background-color:#007cbe;display:flex;justify-content:center}"],changeDetection:0})}return n})(),VBe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,eu]})}return n})();new j;let nL=(()=>{class n{static#e=this.type="[CallToAction] Learn More"}return n})(),iL=(()=>{class n{static#e=this.type="[CallToAction] Open Dialog"}return n})(),rL=(()=>{class n{static#e=this.type="[CallToAction] Close Dialog"}return n})();var oL;class ol{static#e=this.storage=(()=>{let e;try{e=window.localStorage;const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length?e:void 0}})();get length(){return ol.storage?.length??0}key(e){return ol.storage?.key(e)??null}getItem(e,t){return ol.storage?.getItem(e)??t??null}setItem(e,t){try{return ol.storage?.setItem(e,t),!0}catch{return!1}}removeItem(e){ol.storage?.removeItem(e)}clear(){ol.storage?.clear()}static#t=this.\u0275fac=function(t){return new(t||ol)};static#n=this.\u0275prov=Tt({token:ol,factory:ol.\u0275fac,providedIn:"root"})}const iq="callToActionPopupShown";let Uh=(()=>{let n=class nM{static#e=oL=this;static ctaDatePassed(t,i=Date.now){return+i()>+new Date(t)}constructor(t,i,r,o,s){this.dialog=t,this.ga=i,this.storage=r,this.infoService=o,this.http=s}ngxsOnInit(t){const{expirationDate:i,popupShown:r}=t.getState(),o=this.storage.getItem(iq,`${r}`),s=oL.ctaDatePassed(i);"true"!==o&&!s&&t.dispatch(new iL)}getDialogData(){return this.http.get("assets/docs/SPATIAL_SEARCH_README.md",{responseType:"text"}).pipe(E(t=>this.infoService.parseMarkdown(t)))}launchLearnMore(t){this.dialog.open(ZK,{autoFocus:!1,panelClass:"modal-animated",width:"72rem",data:{title:"Spatial Search",content:t,videoID:"UfxMpzatowE"}})}learnMore(t){return this.dialog.closeAll(),this.ga.event("open_learn_more","call_to_action"),this.getDialogData().pipe(Zi(i=>this.launchLearnMore(i)))}open(t){this.dialog.open(HBe,{autoFocus:!1,panelClass:"modal-animated",width:"30.75rem",height:"36.688rem"}),this.ga.event("open","call_to_action"),this.storage.setItem(iq,"true"),t.patchState({popupShown:!0})}close(t){this.dialog.closeAll(),this.ga.event("close","call_to_action")}static#t=this.\u0275fac=function(i){return new(i||nM)(Ze(z_),Ze(Us),Ze(ol),Ze(QK),Ze($g))};static#n=this.\u0275prov=Tt({token:nM,factory:nM.\u0275fac})};return ke([IN(nL)],n.prototype,"learnMore",null),ke([IN(iL)],n.prototype,"open",null),ke([IN(rL)],n.prototype,"close",null),n})();Uh=oL=ke([gu({name:"callToAction",defaults:{title:"New to the Exploration User Interface",message:"Spatial Search has arrived!",callToAction:"Learn More",imageUrl:"assets/images/spatial_search.gif",expirationDate:"Dec 1, 2022",popupShown:!1}})],Uh);let OA=(()=>{class n{static title(t){return t.title}static message(t){return t.message}static callToAction(t){return t.callToAction}static imageUrl(t){return t.imageUrl}static expirationDate(t){return t.expirationDate}static popupShown(t){return t.popupShown}}return ke([L_([Uh])],n,"title",null),ke([L_([Uh])],n,"message",null),ke([L_([Uh])],n,"callToAction",null),ke([L_([Uh])],n,"imageUrl",null),ke([L_([Uh])],n,"expirationDate",null),ke([L_([Uh])],n,"popupShown",null),n})(),HBe=(()=>{class n{constructor(){this.close=()=>new rL,this.learnMore=()=>new nL}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-call-to-action-behavior"]],decls:5,vars:12,consts:[[3,"infoTitle","message","callToAction","imageUrl","callToActionClicked","closeClicked"]],template:function(i,r){1&i&&($e(0,"ccf-call-to-action",0),Mt("callToActionClicked",function(){return r.learnMore()})("closeClicked",function(){return r.close()}),Bn(1,"async"),Bn(2,"async"),Bn(3,"async"),Bn(4,"async"),Qe()),2&i&&ct("infoTitle",Jn(1,4,r.title$))("message",Jn(2,6,r.message$))("callToAction",Jn(3,8,r.callToAction$))("imageUrl",Jn(4,10,r.imageUrl$))},dependencies:[DBe,jl],changeDetection:0})}return ke([jS(OA.title)],n.prototype,"title$",void 0),ke([jS(OA.message)],n.prototype,"message$",void 0),ke([jS(OA.callToAction)],n.prototype,"callToAction$",void 0),ke([jS(OA.imageUrl)],n.prototype,"imageUrl$",void 0),ke([FK()],n.prototype,"close",void 0),ke([FK()],n.prototype,"learnMore",void 0),n})();function $Be(n,e){if(1&n&&($e(0,"mat-icon",8),kt(1),Qe()),2&n){const t=e.$implicit;tn("active",Qt().currentKey===t.key),ot(1),Ir("",t.direction," ")}}function YBe(n,e){1&n&&($e(0,"div",9),kt(1,"SHIFT"),Qe())}let XBe=(()=>{class n{constructor(){this.className="ccf-spatial-search-keyboard-ui",this.keyClicked=new jt,this.keyHovered=new jt,this.keyMap=[{key:"w",direction:"north"},{key:"s",direction:"south"},{key:"a",direction:"west"},{key:"d",direction:"east"},{key:"e",direction:"north_east"},{key:"q",direction:"south_west"}]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-spatial-search-keyboard-ui"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.className)},inputs:{currentKey:"currentKey",shiftPressed:"shiftPressed"},outputs:{keyClicked:"keyClicked",keyHovered:"keyHovered"},decls:18,vars:14,consts:[[1,"direction-arrow"],["class","arrow",3,"active",4,"ngFor","ngForOf"],[1,"keys"],[1,"keyrow"],[1,"key","blue",3,"mousedown","mouseover","mouseout"],[1,"key","green",3,"mousedown","mouseover","mouseout"],[1,"key","red",3,"mousedown","mouseover","mouseout"],["class","shift",4,"ngIf"],[1,"arrow"],[1,"shift"]],template:function(i,r){1&i&&($e(0,"div",0),Yt(1,$Be,2,3,"mat-icon",1),Qe(),$e(2,"div",2)(3,"div",3)(4,"div",4),Mt("mousedown",function(){return r.keyClicked.emit("q")})("mouseover",function(){return r.keyHovered.emit("q")})("mouseout",function(){return r.keyHovered.emit()}),kt(5,"Q"),Qe(),$e(6,"div",5),Mt("mousedown",function(){return r.keyClicked.emit("w")})("mouseover",function(){return r.keyHovered.emit("w")})("mouseout",function(){return r.keyHovered.emit()}),kt(7,"W"),Qe(),$e(8,"div",4),Mt("mousedown",function(){return r.keyClicked.emit("e")})("mouseover",function(){return r.keyHovered.emit("e")})("mouseout",function(){return r.keyHovered.emit()}),kt(9,"E"),Qe()(),$e(10,"div",3)(11,"div",6),Mt("mousedown",function(){return r.keyClicked.emit("a")})("mouseover",function(){return r.keyHovered.emit("a")})("mouseout",function(){return r.keyHovered.emit()}),kt(12,"A"),Qe(),$e(13,"div",5),Mt("mousedown",function(){return r.keyClicked.emit("s")})("mouseover",function(){return r.keyHovered.emit("s")})("mouseout",function(){return r.keyHovered.emit()}),kt(14,"S"),Qe(),$e(15,"div",6),Mt("mousedown",function(){return r.keyClicked.emit("d")})("mouseover",function(){return r.keyHovered.emit("d")})("mouseout",function(){return r.keyHovered.emit()}),kt(16,"D"),Qe()(),Yt(17,YBe,2,0,"div",7),Qe()),2&i&&(ot(1),ct("ngForOf",r.keyMap),ot(3),tn("highlighted","q"===r.currentKey),ot(2),tn("highlighted","w"===r.currentKey),ot(2),tn("highlighted","e"===r.currentKey),ot(3),tn("highlighted","a"===r.currentKey),ot(2),tn("highlighted","s"===r.currentKey),ot(2),tn("highlighted","d"===r.currentKey),ot(2),ct("ngIf",r.shiftPressed))},dependencies:[va,Dr,Yo],styles:["[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,.5fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;margin-bottom:1rem;width:7rem}[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{grid-area:1/3/2/4;opacity:0;transition:.5s}[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]   .arrow.active[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:0;gap:.5rem;width:7rem;height:7rem;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .keyrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0;gap:.5rem}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .keyrow[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:.25rem;width:2rem;height:2rem;border:2px solid;border-radius:.5rem;cursor:pointer}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .shift[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:.25rem;width:7rem;height:2rem;border:2px solid;border-radius:.5rem}"],changeDetection:0})}return n})(),KBe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,Or]})}return n})(),qBe=(()=>{class n{constructor(){this.className="ccf-spatial-search-keyboard-ui-behavior",this.delta=1,this.shiftDelta=2,this.disablePositionChange=!1,this.changePosition=new jt,this.shiftPressed=!1}updatePosition(t){if(this.currentDelta=this.shiftPressed?this.shiftDelta:this.delta,"Shift"===t)this.shiftPressed=!0;else{switch(this.currentKey=t.toLowerCase(),this.currentKey){case"q":this.position={...this.position,z:this.position.z+this.currentDelta};break;case"e":this.position={...this.position,z:this.position.z-this.currentDelta};break;case"w":this.position={...this.position,y:this.position.y+this.currentDelta};break;case"s":this.position={...this.position,y:this.position.y-this.currentDelta};break;case"a":this.position={...this.position,x:this.position.x-this.currentDelta};break;case"d":this.position={...this.position,x:this.position.x+this.currentDelta}}this.changePosition.emit(this.position)}}handleKey(t){this.disablePositionChange||(t.preventDefault(),this.updatePosition(t.key))}keyUp(t){"Shift"===t.key?this.shiftPressed=!1:this.currentKey=void 0}keyClick(t){this.updatePosition(t)}keyHover(t){this.currentKey=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-spatial-search-keyboard-ui-behavior"]],hostVars:2,hostBindings:function(i,r){1&i&&Mt("keydown",function(s){return r.handleKey(s)},0,ug)("keyup",function(s){return r.keyUp(s)},!1,ug),2&i&&Mi(r.className)},inputs:{delta:"delta",shiftDelta:"shiftDelta",position:"position",disablePositionChange:"disablePositionChange"},outputs:{changePosition:"changePosition"},decls:1,vars:2,consts:[[3,"currentKey","shiftPressed","keyClicked","keyHovered"]],template:function(i,r){1&i&&($e(0,"ccf-spatial-search-keyboard-ui",0),Mt("keyClicked",function(s){return r.keyClick(s)})("keyHovered",function(s){return r.keyHover(s)}),Qe()),2&i&&ct("currentKey",r.currentKey)("shiftPressed",r.shiftPressed)},dependencies:[XBe],encapsulation:2,changeDetection:0})}return n})(),JBe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,KBe]})}return n})();const ZBe={initialConfig:{},parse:{},rename:{}};class QBe{constructor(e,t){this.configState=e,this.storedChanges={},this.options={...ZBe,...t}}addChanges(e){this.storedChanges={...this.storedChanges,...e}}applyChanges(e,t={}){void 0===e&&(e=this.storedChanges,this.storedChanges={});const{configState:i,options:{initialConfig:r}}=this,s={...r,...i.snapshot,...t};for(const[a,c]of Object.entries(e))this.processChange(a,c,s);i.setConfig(s)}processChange(e,t,i){const{options:{parse:r,rename:o}}=this,s=o[e]??e,a=t.currentValue,c=r[e]??r[s];if(null==a)delete i[s];else if(c)try{i[s]=c(a)}catch(l){console.warn(`Failed to parse ${e} = ${a} (${typeof a})`,l.message)}else i[s]=a}}let e3e=(()=>{class n{constructor(t,i,r={}){this.configState=t,this.cdr=i,this.options=r,this.initialized=!1,this.configManager=new QBe(this.configState,this.options)}ngOnInit(){this._init=setTimeout(()=>this.initialize(),this.options.initialDelay??0)}ngOnDestroy(){this._init&&clearTimeout(this._init)}ngOnChanges(t){this.configManager.addChanges(t),this.initialized&&this.configManager.applyChanges()}initialize(){this._init=void 0,!this.initialized&&(this.configManager.applyChanges(),this.initialized=!0,this.cdr.markForCheck())}static#e=this.\u0275fac=function(i){zd()};static#t=this.\u0275dir=Nt({type:n,features:[vr]})}return n})();const rq={boolean:n=>"false"!=`${n}`,json:n=>"string"==typeof n?JSON.parse(n):n,stringArray:n=>"string"==typeof n?Array.from(n).filter(e=>!"[], ".includes(e)):n,function:n=>{if("function"!=typeof n)throw new Error("Expected a javascript function");return n}},dd={production:!0,disableDbWorker:!0,dbOptions:{ccfOwlUrl:"https://ccf-ontology.hubmapconsortium.org/v2.1.0/ccf.owl",ccfContextUrl:"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld",hubmapDataService:"search-api",hubmapPortalUrl:"https://portal.hubmapconsortium.org/",hubmapDataUrl:"",hubmapAssetsUrl:"https://assets.hubmapconsortium.org",hubmapToken:localStorage.getItem("HUBMAP_TOKEN")??""},customization:{theme:"hubmap",header:!0,homeUrl:"https://portal.hubmapconsortium.org/",logoTooltip:"Human BioMolecular Atlas Project"},skipUnsavedChangesConfirmation:!1,googleAnalyticsToken:"portal.hubmapconsortium.org"===window.location.hostname?"G-1WRJHN9FM6":"G-J9HWV9QPJ4"};var oq=m(6990);function sL(n){return"function"==typeof n}function sq(n){return typeof n>"u"}function i3e(n,e,t){return function(r){let o=!!n;return function aL(n){return"function"==typeof n}(n)&&(o=n(r)),function lq(n,e){return sL(n)?n(e):sq(n)?e:n}(o?e:t,r)}}function r3e(n,e){return function(i){if(function n3e(n){return null===n||sq(n)}(n)&&i)return i;if(!Array.isArray(i))return[n];const r=i.slice();let o=0;return e>0&&(o=e),r.splice(o,0,n),r}}function zp(n){return function(t){let i=null;for(const r in n){const o=n[r],s=t[r],a=sL(o)?o(s):o;a!==s&&(i||(i=Object.assign({},t)),i[r]=a)}return i||t}}var o3e=m(217);const dq={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let kA;const s3e=new Uint8Array(16);function a3e(){if(!kA&&(kA=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!kA))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kA(s3e)}const gs=[];for(let n=0;n<256;++n)gs.push((n+256).toString(16).slice(1));const l3e=function c3e(n,e,t){if(dq.randomUUID&&!e&&!n)return dq.randomUUID();const i=(n=n||{}).random||(n.rng||a3e)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){t=t||0;for(let r=0;r<16;++r)e[t+r]=i[r];return e}return function uq(n,e=0){return gs[n[e+0]]+gs[n[e+1]]+gs[n[e+2]]+gs[n[e+3]]+"-"+gs[n[e+4]]+gs[n[e+5]]+"-"+gs[n[e+6]]+gs[n[e+7]]+"-"+gs[n[e+8]]+gs[n[e+9]]+"-"+gs[n[e+10]]+gs[n[e+11]]+gs[n[e+12]]+gs[n[e+13]]+gs[n[e+14]]+gs[n[e+15]]}(i)};function Ta(n){return new Promise((e,t)=>{n.oncomplete=n.onsuccess=()=>e(n.result),n.onabort=n.onerror=()=>t(n.error)})}let cL;function sl(){return cL||(cL=function u3e(n,e){const t=indexedDB.open(n);t.onupgradeneeded=()=>t.result.createObjectStore(e);const i=Ta(t);return(r,o)=>i.then(s=>o(s.transaction(e,r).objectStore(e)))}("keyval-store","keyval")),cL}function h3e(n,e=sl()){return e("readonly",t=>Ta(t.get(n)))}function f3e(n,e=sl()){return e("readwrite",t=>(n.forEach(i=>t.put(i[1],i[0])),Ta(t.transaction)))}function p3e(n,e=sl()){return e("readwrite",t=>(n.forEach(i=>t.delete(i)),Ta(t.transaction)))}function hq(n,e,t,i,r){return n.readQuads(e,t,i,r)}m(5020),m(7661),m(2821),m(8905);const Rw="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Pw="http://www.w3.org/2001/XMLSchema#",fL="http://www.w3.org/2000/10/swap/",m3e={xsd:{decimal:`${Pw}decimal`,boolean:`${Pw}boolean`,double:`${Pw}double`,integer:`${Pw}integer`,string:`${Pw}string`},rdf:{type:`${Rw}type`,nil:`${Rw}nil`,first:`${Rw}first`,rest:`${Rw}rest`,langString:`${Rw}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${fL}reify#forSome`,forAll:`${fL}reify#forAll`},log:{implies:`${fL}log#implies`}},{rdf:g3e,xsd:Hp}=m3e;let Nw,_3e=0;const pL={namedNode:function E3e(n){return new mq(n)},blankNode:function C3e(n){return new y3e(n||"n3-"+_3e++)},variable:function A3e(n){return new v3e(n)},literal:function S3e(n,e){if("string"==typeof e)return new Q_(`"${n}"@${e.toLowerCase()}`);let t=e?e.value:"";return""===t&&("boolean"==typeof n?t=Hp.boolean:"number"==typeof n&&(Number.isFinite(n)?t=Number.isInteger(n)?Hp.integer:Hp.double:(t=Hp.double,Number.isNaN(n)||(n=n>0?"INF":"-INF")))),new Q_(""===t||t===Hp.string?`"${n}"`:`"${n}"^^${t}`)},defaultGraph:function M3e(){return Nw},quad:gq,triple:gq},jh=pL;class wu{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof wu?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class mq extends wu{get termType(){return"NamedNode"}}class Q_ extends wu{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new mq(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,i=t<e.length?e[t]:"";return"^"===i?e.substr(t+2):"@"!==i?Hp.string:g3e.langString}equals(e){return e instanceof Q_?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class y3e extends wu{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class v3e extends wu{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}Nw=new class w3e extends wu{constructor(){return super(""),Nw||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};class x3e extends wu{constructor(e,t,i,r){super(""),this._subject=e,this._predicate=t,this._object=i,this._graph=r||Nw}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function gq(n,e,t,i){return new x3e(n,e,t,i)}m(4938),m(7991),m(5440),m(7184);var D3e=m(9689);m(6030),Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1}),Math,Math;const Pr={};function P3e(n,{precision:e=Pr.precision||4}={}){return n=function R3e(n){return Math.round(n/Pr.EPSILON)*Pr.EPSILON}(n),"".concat(parseFloat(n.toPrecision(e)))}function Vh(n){return Array.isArray(n)||ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Fw(n,e,t){const i=Pr.EPSILON;t&&(Pr.EPSILON=t);try{if(n===e)return!0;if(Vh(n)&&Vh(e)){if(n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(!Fw(n[r],e[r]))return!1;return!0}return n&&n.equals?n.equals(e):e&&e.equals?e.equals(n):!(!Number.isFinite(n)||!Number.isFinite(e))&&Math.abs(n-e)<=Pr.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))}finally{Pr.EPSILON=i}}function Eu(n,e){if(!n)throw new Error("math.gl assertion ".concat(e))}Pr.EPSILON=1e-12,Pr.debug=!1,Pr.precision=4,Pr.printTypes=!1,Pr.printDegrees=!1,Pr.printRowMajor=!0;class yq extends(function j3e(n){function e(){var t=Reflect.construct(n,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return e.prototype=Object.create(n.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n,e}(Array)){get ELEMENTS(){return Eu(!1),0}clone(){return(new this.constructor).copy(this)}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}fromArray(e,t=0){for(let i=0;i<this.ELEMENTS;++i)this[i]=e[i+t];return this.check()}to(e){return e===this?this:Vh(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toArray(e=[],t=0){for(let i=0;i<this.ELEMENTS;++i)e[t+i]=this[i];return e}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Pr)}formatString(e){let t="";for(let i=0;i<this.ELEMENTS;++i)t+=(i>0?", ":"")+P3e(this[i],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!Fw(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,i){void 0===i&&(i=t,t=e,e=this);for(let r=0;r<this.ELEMENTS;++r){const o=e[r];this[r]=o+i*(t[r]-o)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e[i]),t[i]);return this.check()}add(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]+=t[i];return this.check()}subtract(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]-=t[i];return this.check()}scale(e){if(Array.isArray(e))return this.multiply(e);for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.scale(1/e)}clampScalar(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e),t);return this.check()}multiplyByScalar(e){return this.scale(e)}get elements(){return this}check(){if(Pr.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}}function Ya(n){if(!Number.isFinite(n))throw new Error("Invalid number ".concat(n));return n}const vq={};function gL(n,e){vq[n]||(vq[n]=!0,console.warn("".concat(n," has been removed in version ").concat(e,", see upgrade guide for more information")))}class H3e extends yq{get ELEMENTS(){return Eu(!1),0}copy(e){return Eu(!1),this}get x(){return this[0]}set x(e){this[0]=Ya(e)}get y(){return this[1]}set y(e){this[1]=Ya(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let i=0;i<this.ELEMENTS;++i){const r=this[i]-e[i];t+=r*r}return Ya(t)}dot(e){let t=0;for(let i=0;i<this.ELEMENTS;++i)t+=this[i]*e[i];return Ya(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]*=t[i];return this.check()}divide(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]/=t[i];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return Eu(e>=0&&e<this.ELEMENTS,"index is out of range"),Ya(this[e])}setComponent(e,t){return Eu(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}var Lw=typeof Float32Array<"u"?Float32Array:Array;function wq(n,e,t){var i=e[0],r=e[1],o=e[2];return n[0]=i*t[0]+r*t[3]+o*t[6],n[1]=i*t[1]+r*t[4]+o*t[7],n[2]=i*t[2]+r*t[5]+o*t[8],n}Math,Math,Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)}),function $3e(){var n=new Lw(3);Lw!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0)}();const _L=[0,0,0],xq={};class ci extends H3e{static get ZERO(){return xq.ZERO=xq.ZERO||Object.freeze(new ci(0,0,0,0))}constructor(e=0,t=0,i=0){super(-0,-0,-0),1===arguments.length&&Vh(e)?this.copy(e):(Pr.debug&&(Ya(e),Ya(t),Ya(i)),this[0]=e,this[1]=t,this[2]=i)}set(e,t,i){return this[0]=e,this[1]=t,this[2]=i,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return Pr.debug&&(Ya(e.x),Ya(e.y),Ya(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Ya(e)}angle(e){return function e4e(n,e){var t=n[0],i=n[1],r=n[2],o=e[0],s=e[1],a=e[2],d=Math.sqrt(t*t+i*i+r*r)*Math.sqrt(o*o+s*s+a*a),h=d&&function Y3e(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}(n,e)/d;return Math.acos(Math.min(Math.max(h,-1),1))}(this,e)}cross(e){return function X3e(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2];n[0]=r*c-o*a,n[1]=o*s-i*c,n[2]=i*a-r*s}(this,this,e),this.check()}rotateX({radians:e,origin:t=_L}){return function J3e(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateY({radians:e,origin:t=_L}){return function Z3e(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=_L}){return function Q3e(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return function K3e(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o+t[15];n[0]=(t[0]*i+t[4]*r+t[8]*o+t[12])/(s=s||1),n[1]=(t[1]*i+t[5]*r+t[9]*o+t[13])/s,n[2]=(t[2]*i+t[6]*r+t[10]*o+t[14])/s}(this,this,e),this.check()}transformAsVector(e){return function t4e(n,e,t){const i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o||1;n[0]=(t[0]*i+t[4]*r+t[8]*o)/s,n[1]=(t[1]*i+t[5]*r+t[9]*o)/s,n[2]=(t[2]*i+t[6]*r+t[10]*o)/s}(this,this,e),this.check()}transformByMatrix3(e){return wq(this,this,e),this.check()}transformByMatrix2(e){return function n4e(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2]}(this,this,e),this.check()}transformByQuaternion(e){return function q3e(n,e,t){var i=t[0],r=t[1],o=t[2],a=e[0],c=e[1],l=e[2],d=r*l-o*c,h=o*a-i*l,p=i*c-r*a,_=r*p-o*h,w=o*d-i*p,I=i*h-r*d,L=2*t[3];h*=L,p*=L,w*=2,I*=2,n[0]=a+(d*=L)+(_*=2),n[1]=c+h+w,n[2]=l+p+I}(this,this,e),this.check()}}new ci,new ci,new ci,new ci,new ci,new ci,new ci,new ci,new ci,new ci,new ci;const Tq=new ci,Iq=new ci;class bL{constructor(e=[0,0,1],t=0){this.normal=new ci,this.distance=-0,this.fromNormalDistance(e,t)}fromNormalDistance(e,t){return Eu(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}fromPointNormal(e,t){e=Tq.from(e),this.normal.from(t).normalize();const i=-this.normal.dot(e);return this.distance=i,this}fromCoefficients(e,t,i,r){return this.normal.set(e,t,i),Eu(Fw(this.normal.len(),1)),this.distance=r,this}clone(e){return new bL(this.normal,this.distance)}equals(e){return Fw(this.distance,e.distance)&&Fw(this.normal,e.normal)}getPointDistance(e){return this.normal.dot(e)+this.distance}transform(e){const t=Iq.copy(this.normal).transformAsVector(e).normalize(),i=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(i,t)}projectPointOntoPlane(e,t=[0,0,0]){e=Tq.from(e);const i=this.getPointDistance(e),r=Iq.copy(this.normal).scale(i);return e.subtract(r).to(t)}}new ci([1,0,0]),new ci([0,1,0]),new ci([0,0,1]),new ci,new ci,new bL(new ci(1,0,0),0),new ci,new ci,new ci,new ci,new ci,new ci,new ci,new ci,new ci,new ci,new ci,new ci,new ci,new ci,new ci,new ci,new ci,Math;class M4e extends yq{get ELEMENTS(){return Eu(!1),0}get RANK(){return Eu(!1),0}toString(){let e="[";if(Pr.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let i=0;i<this.RANK;++i)e+=" ".concat(this[i*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,i){return this[t*this.RANK+e]=Ya(i),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)t[r]=this[i+r];return t}setColumn(e,t){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)this[i+r]=t[r];return this}}function kq(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],p=t[0],_=t[1],w=t[2],I=t[3],L=t[4],K=t[5],Q=t[6],me=t[7],Pe=t[8];return n[0]=p*i+_*s+w*l,n[1]=p*r+_*a+w*d,n[2]=p*o+_*c+w*h,n[3]=I*i+L*s+K*l,n[4]=I*r+L*a+K*d,n[5]=I*o+L*c+K*h,n[6]=Q*i+me*s+Pe*l,n[7]=Q*r+me*a+Pe*d,n[8]=Q*o+me*c+Pe*h,n}function Rq(n,e,t){var i=t[0],r=t[1];return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=r*e[3],n[4]=r*e[4],n[5]=r*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}!function P4e(){var n=new Lw(2);Lw!=Float32Array&&(n[0]=0,n[1]=0)}();const Pq=Object.freeze([1,0,0,0,1,0,0,0,1]),F4e=Object.freeze([0,0,0,0,0,0,0,0,0]),L4e=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),tb={};class al extends M4e{static get IDENTITY(){return tb.IDENTITY=tb.IDENTITY||Object.freeze(new al(Pq)),tb.IDENTITY}static get ZERO(){return tb.ZERO=tb.ZERO||Object.freeze(new al(F4e)),tb.ZERO}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return L4e}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}set(e,t,i,r,o,s,a,c,l){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this[4]=o,this[5]=s,this[6]=a,this[7]=c,this[8]=l,this.check()}setRowMajor(e,t,i,r,o,s,a,c,l){return this[0]=e,this[1]=r,this[2]=a,this[3]=t,this[4]=o,this[5]=c,this[6]=i,this[7]=s,this[8]=l,this.check()}determinant(){return function D4e(n){var r=n[3],o=n[4],s=n[5],a=n[6],c=n[7],l=n[8];return n[0]*(l*o-s*c)+n[1]*(-l*r+s*a)+n[2]*(c*r-o*a)}(this)}identity(){return this.copy(Pq)}fromQuaternion(e){return function R4e(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t+t,a=i+i,c=r+r,l=t*s,d=i*s,h=i*a,p=r*s,_=r*a,w=r*c,I=o*s,L=o*a,K=o*c;n[0]=1-h-w,n[3]=d-K,n[6]=p+L,n[1]=d+K,n[4]=1-l-w,n[7]=_-I,n[2]=p-L,n[5]=_+I,n[8]=1-l-h}(this,e),this.check()}transpose(){return function T4e(n,e){if(n===e){var t=e[1],i=e[2],r=e[5];n[1]=e[3],n[2]=e[6],n[3]=t,n[5]=e[7],n[6]=i,n[7]=r}else n[0]=e[0],n[1]=e[3],n[2]=e[6],n[3]=e[1],n[4]=e[4],n[5]=e[7],n[6]=e[2],n[7]=e[5],n[8]=e[8]}(this,this),this.check()}invert(){return function I4e(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],d=e[8],h=d*s-a*l,p=-d*o+a*c,_=l*o-s*c,w=t*h+i*p+r*_;w&&(n[0]=h*(w=1/w),n[1]=(-d*i+r*l)*w,n[2]=(a*i-r*s)*w,n[3]=p*w,n[4]=(d*t-r*c)*w,n[5]=(-a*t+r*o)*w,n[6]=_*w,n[7]=(-l*t+i*c)*w,n[8]=(s*t-i*o)*w)}(this,this),this.check()}multiplyLeft(e){return kq(this,e,this),this.check()}multiplyRight(e){return kq(this,this,e),this.check()}rotate(e){return function k4e(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],p=Math.sin(t),_=Math.cos(t);n[0]=_*i+p*s,n[1]=_*r+p*a,n[2]=_*o+p*c,n[3]=_*s-p*i,n[4]=_*a-p*r,n[5]=_*c-p*o,n[6]=l,n[7]=d,n[8]=h}(this,this,e),this.check()}scale(e){return Array.isArray(e)?Rq(this,this,e):Rq(this,this,[e,e,e]),this.check()}translate(e){return function O4e(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],p=t[0],_=t[1];n[0]=i,n[1]=r,n[2]=o,n[3]=s,n[4]=a,n[5]=c,n[6]=p*i+_*s+l,n[7]=p*r+_*a+d,n[8]=p*o+_*c+h}(this,this,e),this.check()}transform(e,t){switch(e.length){case 2:t=function N4e(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[3]*r+t[6],n[1]=t[1]*i+t[4]*r+t[7],n}(t||[-0,-0],e,this);break;case 3:t=wq(t||[-0,-0,-0],e,this);break;case 4:t=function i4e(n,e,t){const i=e[0],r=e[1],o=e[2];return n[0]=t[0]*i+t[3]*r+t[6]*o,n[1]=t[1]*i+t[4]*r+t[7]*o,n[2]=t[2]*i+t[5]*r+t[8]*o,n[3]=e[3],n}(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return function z3e(n,e,t=""){if(Pr.debug&&!function V3e(n,e){if(n.length!==e)return!1;for(let t=0;t<n.length;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n,e))throw new Error("math.gl: ".concat(t," some fields set to invalid numbers'"));return n}(t,e.length),t}transformVector(e,t){return gL("Matrix3.transformVector"),this.transform(e,t)}transformVector2(e,t){return gL("Matrix3.transformVector"),this.transform(e,t)}transformVector3(e,t){return gL("Matrix3.transformVector"),this.transform(e,t)}}new al,new al,new al,new al,new al,new ci,new ci,new ci,new ci,new ci,new al,new al,new al;var K4e=m(7659);const rr=function _q(n,e){const t=Object.create(null);for(const r in n)i(r,n[r]);function i(r,o){if("string"==typeof o){const s=Object.create(null);t[r]=a=>s[a]||(s[a]=e.namedNode(o+a))}else if(!(r in t))throw new Error(`Unknown prefix: ${r}`);return t[r]}return e=e||jh,i}({base:"http://purl.org/ccf/latest/ccf.owl#",ccf:"http://purl.org/ccf/",fma:"http://purl.org/sig/ont/fma/fma",obo:"http://purl.obolibrary.org/obo/",uberon:"http://purl.obolibrary.org/obo/UBERON_",cl:"http://purl.obolibrary.org/obo/CL_",lmha:"http://purl.obolibrary.org/obo/LMHA_",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/"},jh),pn=(rr("rdf"),rr("rdf")("type"),rr("rdfs"),rr("rdfs")("label"),rr("rdfs")("comment"),rr("rdfs")("isDefinedBy"),rr("rdfs")("seeAlso"),rr("ccf")),Si=(rr("ccf")("has_registration_location"),rr("rdfs")("label"),rr("rdfs")("comment"),pn("url"),pn("sex"),pn("age"),pn("bmi"),jh.literal("Male"),jh.literal("Female"),pn("consortium_name"),pn("tissue_provider_name"),pn("tissue_provider_uuid"),pn("comes_from"),pn("subdivided_into_sections"),pn("generates_dataset"),pn("sample_type"),jh.literal("Tissue Block"),jh.literal("Tissue Section"),jh.literal("Non-standard"),pn("section_count"),pn("section_size"),pn("section_size_unit"),pn("section_number"),pn("has_registration_location"),pn("has_ontology_term"),pn("has_cell_type_term"),pn("has_biomarker_term"),pn("technology"),pn("thumbnail"),{x:pn,base:rr("base"),ontologyNode:{label:pn("ccf_pref_label"),parent:pn("ccf_part_of"),children:pn("ccf_part_of"),rui_rank:pn("rui_rank"),synonymLabels:jh.namedNode("http://www.geneontology.org/formats/oboInOwl#hasExactSynonym")},asctb:{part_of:pn("ccf_part_of"),ct_is_a:pn("ccf_ct_isa"),located_in:pn("ccf_located_in"),characterizes:pn("ccf_characterizes"),bm_located_in:pn("ccf_bm_located_in")},spatial:{Female:rr("base")("VHFemale"),Male:rr("base")("VHMale"),BothSexes:rr("base")("VHBothSexes"),FemaleOrgans:rr("base")("VHFemaleOrgans"),MaleOrgans:rr("base")("VHMaleOrgans")},SpatialObjectReference:pn("spatial_object_reference"),SpatialEntity:pn("spatial_entity"),SpatialPlacement:pn("spatial_placement"),spatialObjectReference:{file:pn("file_url"),file_format:pn("file_format"),file_subpath:pn("file_subpath")},extractionSet:{label:rr("rdfs")("label"),rui_rank:pn("rui_rank")},spatialEntity:{label:rr("rdfs")("label"),description:rr("rdfs")("comment"),creator:rr("dcterms")("creator"),creator_first_name:pn("creator_first_name"),creator_last_name:pn("creator_last_name"),creator_middle_name:pn("creator_middle_name"),creator_orcid:pn("creator_orcid"),creation_date:rr("dcterms")("created"),updated_date:pn("updated_date"),ccf_annotations:pn("collides_with"),representation_of:pn("representation_of"),reference_organ:pn("has_reference_organ"),extraction_set_for:pn("extraction_set_for"),extraction_set:pn("has_extraction_set"),sex:pn("organ_owner_sex"),side:pn("organ_side"),rui_rank:pn("rui_rank"),slice_thickness:pn("slice_thickness"),slice_count:pn("slice_count"),x_dimension:pn("x_dimension"),y_dimension:pn("y_dimension"),z_dimension:pn("z_dimension"),dimension_units:pn("dimension_unit"),object:pn("has_object_reference")},spatialPlacement:{source:pn("placement_for"),target:pn("placement_relative_to"),placement_date:rr("dcterms")("created"),x_scaling:pn("x_scaling"),y_scaling:pn("y_scaling"),z_scaling:pn("z_scaling"),scaling_units:pn("scaling_unit"),x_rotation:pn("x_rotation"),y_rotation:pn("y_rotation"),z_rotation:pn("z_rotation"),w_rotation:pn("theta_rotation"),rotation_order:pn("rotation_order"),rotation_units:pn("rotation_unit"),x_translation:pn("x_translation"),y_translation:pn("y_translation"),z_translation:pn("z_translation"),translation_units:pn("translation_unit")}}),mi={x:rr("uberon"),body:rr("uberon")("0013702")},J4e={x:rr("cl"),cell:rr("cl")("0000000")},jw={x:rr("fma")},cl=(rr("lmha"),{body:mi.body,cell:J4e.cell,respiratory_system:mi.x("0001004"),colon:mi.x("0001155"),left_lung:mi.x("0002168"),right_lung:mi.x("0002167"),left_bronchus:mi.x("0002178"),right_bronchus:mi.x("0002177"),kidney:mi.x("0002113"),ureter:mi.x("0000056"),eye:mi.x("0000970"),fallopian_tube:mi.x("0003889"),knee:mi.x("0001465"),ovary:mi.x("0000992"),trachea:mi.x("0003126"),aorta:mi.x("0000947"),blood:mi.x("0000178"),bone_marrow:mi.x("0002371"),male_reproductive_system:mi.x("0000079"),lymph_node:mi.x("0000029"),blood_vasculature:mi.x("0004537"),brain:mi.x("0000955"),eye_left:mi.x("0004548"),eye_right:jw.x("54449"),fallopian_tube_left:mi.x("0001303"),fallopian_tube_right:mi.x("0001302"),heart:mi.x("0000948"),kidney_left:mi.x("0004538"),kidney_right:mi.x("0004539"),knee_left:jw.x("24978"),knee_right:jw.x("24977"),large_intestine:mi.x("0000059"),liver:mi.x("0002107"),lungs:mi.x("0002048"),mesenteric_lymph_node:mi.x("0002509"),ovary_left:jw.x("7214"),ovary_right:jw.x("7213"),pancreas:mi.x("0001264"),pelvis:mi.x("0001270"),prostate_gland:mi.x("0002367"),skin:mi.x("0002097"),small_intestine:mi.x("0002108"),spleen:mi.x("0002106"),thymus:mi.x("0002370"),ureter_left:mi.x("0001223"),ureter_right:mi.x("0001222"),urinary_bladder:mi.x("0001255"),uterus:mi.x("0000995")});function CL(n){const e={};return Object.entries(n).forEach(([t,i])=>{e[i.id]=t}),e}CL(Si.spatialObjectReference),CL(Si.spatialEntity),CL(Si.spatialPlacement);function zUe(n,e,t){const i={"@id":e,"@type":"OntologyTreeNode",id:e,parent:"",children:[],synonymLabels:[],label:""},r={[Si.ontologyNode.label.id]:"label",[t]:"parent",[Si.ontologyNode.synonymLabels.id]:"synonymLabels"};for(const[o,s]of function*jA(n,e,t){for(const[i,r]of Object.entries(t))for(const o of hq(n,e,i,null,null)){const s="Literal"===o.object.termType?(0,D3e.fromRdf)(o.object):o.object.id;yield[r,s]}}(n,e,r))"synonymLabels"===o?i.synonymLabels.push(s):i[o]=s;return i.children=n.getSubjects(t,e,null).map(o=>o.id),i}function Gq(n,e,t,i){const r={root:e,nodes:{}},o=new Set;for(const a of hq(n,null,i,null,null))o.add(a.subject.id),o.add(a.object.id);for(const a of o)r.nodes[a]=zUe(n,a,i);r.nodes[e]||(r.nodes[e]={"@id":e,"@type":"OntologyTreeNode",id:e,label:t,children:[],synonymLabels:[]});const s=n.getSubjects(i,e,null).map(a=>a.id).sort((a,c)=>r.nodes[a].label.localeCompare(r.nodes[c].label));return r.nodes[e].children=s,Wq(r),r}function Wq(n,e=void 0,t=new Set){const i=n.nodes[e??n.root];if(i){i.children=i.children.filter(r=>!t.has(r)),i.children.forEach(r=>t.add(r));for(const r of i.children)Wq(n,r,t),n.nodes[r]&&(n.nodes[r].parent=i["@id"])}}K4e(function HUe(n){const e=Gq(n,cl.body.id,"body",Si.asctb.part_of.id);return e.nodes[cl.body.id].children=["http://purl.obolibrary.org/obo/UBERON_0000955","http://purl.obolibrary.org/obo/UBERON_0000029","http://purl.obolibrary.org/obo/UBERON_0000970","http://purl.obolibrary.org/obo/UBERON_0003889","http://purl.obolibrary.org/obo/UBERON_0000948","http://purl.obolibrary.org/obo/UBERON_0002113","http://purl.obolibrary.org/obo/UBERON_0001465","http://purl.obolibrary.org/obo/UBERON_0001737","http://purl.obolibrary.org/obo/UBERON_0002107","http://purl.obolibrary.org/obo/UBERON_0002048","http://purl.obolibrary.org/obo/UBERON_0002182","http://purl.obolibrary.org/obo/UBERON_0001911","http://purl.obolibrary.org/obo/UBERON_0000992","http://purl.obolibrary.org/obo/UBERON_0002373","http://purl.obolibrary.org/obo/UBERON_0001264","http://purl.obolibrary.org/obo/UBERON_0001270","http://purl.obolibrary.org/obo/UBERON_0001987","http://purl.obolibrary.org/obo/UBERON_0002367","http://purl.obolibrary.org/obo/UBERON_0002097","http://purl.obolibrary.org/obo/UBERON_0002108","http://purl.obolibrary.org/obo/UBERON_0002240","http://purl.obolibrary.org/obo/UBERON_0000059","http://purl.obolibrary.org/obo/UBERON_0002106","http://purl.obolibrary.org/obo/UBERON_0002370","http://purl.obolibrary.org/obo/UBERON_0003126","http://purl.obolibrary.org/obo/UBERON_0000056","http://purl.obolibrary.org/obo/UBERON_0001255","http://purl.obolibrary.org/obo/UBERON_0000995","http://purl.obolibrary.org/obo/UBERON_0004537"].filter(t=>t in e.nodes),e},()=>"");const cje=[204,204,204,255],$p=[213,0,0,255],Yp=[29,204,101,255],Xp=[41,121,255,255],dje=[204,204,204,255],$A=[213,0,0,255],YA=[29,204,101,255],XA=[41,121,255,255];let Kp=class iM extends G_{constructor(e,t){super(),this.globals=e,this.globalConfig=t}ngxsOnInit(){super.ngxsOnInit(),this.getSourceDB().subscribe(e=>{this.setState(e),dd.production||this.globals.set("db",e)})}getSourceDB(){return this.globalConfig.getOption("baseHref").pipe(E(e=>(e??"")+"assets/reference-organ-data.json"),Oe(e=>Hi(fetch(e)).pipe(Oe(t=>t.json()),xa(()=>ee))))}normalizePlacement(e){const i=this.snapshot.placementPatches[e?.target];if(i){const r=function hje(n,e){const t=e;let i;switch(t.translation_units){case"centimeter":i=.01;break;case"millimeter":i=.001;break;default:i=1}const r=[t.x_translation,t.y_translation,t.z_translation].map(a=>a*i),o=[t.x_rotation,t.y_rotation,t.z_rotation].map(Yr),s=[t.x_scaling,t.y_scaling,t.z_scaling];return n.translate(r).rotateXYZ(o).scale(s)}(new Dt(Dt.IDENTITY),i),o={x:e.x_translation,y:e.y_translation,z:e.z_translation},[s,a,c]=r.transformAsPoint([o.x,o.y,o.z],[]),l={...e,target:i.target};return l.x_translation=s,l.y_translation=a,l.z_translation=c,l}return e}getReferenceOrganIri(e,t,i,r){const o=this.snapshot;"KIDNEY"!==e.toUpperCase()&&(i=""),r?.sex&&(t=r.sex);const s=[e,t,i||r?.side].join("|").toUpperCase(),a=Object.keys(o.organIRILookup).find(c=>c.toUpperCase().endsWith(s));return this.getLatestIri(a?o.organIRILookup[a]:void 0)}getOrganData(e){const t=this.getLatestIri(e),r=this.snapshot.organSpatialEntities[t];if(!r)return;const o=r.label??"",s=kw.find(a=>o.endsWith(a.organ)&&(!r.side||r.side.toLowerCase()===a.side));return s?{organ:s,sex:r.sex?.toLowerCase(),side:r.side?.toLowerCase()}:void 0}getLatestIri(e){if(!e)return"";const t=this.snapshot.placementPatches[e];return t?this.getLatestIri(t.target):e}static#e=this.\u0275fac=function(t){return new(t||iM)(Ze(eq),Ze(vu))};static#t=this.\u0275prov=Tt({token:iM,factory:iM.\u0275fac})};function Kq(n){const e=new Dt(n.transformMatrix),t=e.transformAsPoint([-1,-1,-1],[]),i=e.transformAsPoint([1,1,1],[]);return new dr({lowerBound:new xe(...t.map((r,o)=>Math.min(r,i[o]))),upperBound:new xe(...i.map((r,o)=>Math.max(r,t[o])))})}Kp=ke([Lh(),gu({name:"reference",defaults:{organIRILookup:{},organSpatialEntities:{},anatomicalStructures:{},extractionSets:{},sceneNodeLookup:{},simpleSceneNodeLookup:{},placementPatches:{}}})],Kp);let sa=class rM extends G_{get nodes$(){return mr([this.placementCube$,this.referenceOrganNodes$,this.previousRegistrationNodes$,this.nodeCollisions$,this.spatialKeyBoardAxis$]).pipe(E(([e,t,i,r,o])=>[...e,...i,...t,...o,...this.snapshot.showCollisions?r:[]]))}get rotatedNodes$(){return mr([this.rotation$,this.nodes$]).pipe(E(([e,t])=>0===e?t:t.map(i=>({...i,transformMatrix:new Dt(Dt.IDENTITY).rotateY(Yr(e)).multiplyRight(i.transformMatrix)}))))}get referenceOrganNodes$(){return mr([this.model.anatomicalStructures$,this.model.extractionSites$,this.model.organIri$]).pipe(E(([e,t,i])=>{const r=this.getOrganSpatialEntity(i),o=i?function uje(n,e=!1,t=!1){const i=n.x_dimension/1e3,r=n.y_dimension/1e3,o=n.z_dimension/1e3,s=.05*Math.max(i,r,o),a=.1*s,c=t?[i,r,o].map(l=>-.5*l):[0,0,0];return[{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginSphere","@type":"SpatialSceneNode",unpickable:!0,geometry:"sphere",transformMatrix:new Dt(Dt.IDENTITY).translate(c).scale(s),color:dje},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginX","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Dt(Dt.IDENTITY).translate(c).translate([i/2,0,0]).rotateZ(Yr(-90)).scale([a,i,a]),color:$A},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Dt(Dt.IDENTITY).translate(c).translate([i,0,0]).rotateZ(Yr(-90)).scale([s,3*s,s]),color:$A},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXALabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"A",transformMatrix:new Dt(Dt.IDENTITY).translate(c).translate([2*-s,0,0]).scale(s),color:$A},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXDLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"D",transformMatrix:new Dt(Dt.IDENTITY).translate(c).translate([i+2*s,0,0]).scale(s),color:$A},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginY","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Dt(Dt.IDENTITY).translate(c).translate([0,r/2,0]).scale([a,r,a]),color:YA},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Dt(Dt.IDENTITY).translate(c).translate([0,r,0]).scale([s,3*s,s]),color:YA},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYSLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"S",transformMatrix:new Dt(Dt.IDENTITY).translate(c).translate([1.5*s,1.5*s,0]).scale(s),color:YA},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYWLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"W",transformMatrix:new Dt(Dt.IDENTITY).translate(c).translate([0,r+2*s,0]).scale(s),color:YA},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Dt(Dt.IDENTITY).translate(c).translate([0,0,o/2]).rotateX(Yr(90)).scale([a,o,a]),color:XA},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Dt(Dt.IDENTITY).translate(c).translate([0,0,o]).rotateX(Yr(90)).scale([s,3*s,s]),color:XA},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZQLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"Q",transformMatrix:new Dt(Dt.IDENTITY).translate(c).translate([1.5*s,1.5*-s,0]).scale(s),color:XA},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZELabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"E",transformMatrix:new Dt(Dt.IDENTITY).translate(c).translate([0,0,o+2*s]).scale(s),color:XA}].filter(l=>e&&"text"===l.geometry&&l.text||!l.text)}(r,!1,!0):[];return[...o,...this.createSceneNodes(i,[...e,...t])]}))}get referenceOrganSimpleNodes$(){return mr([this.model.anatomicalStructures$,this.model.organIri$,this.referenceData.state$]).pipe(E(([e,t,i])=>e.map(r=>i.sceneNodeLookup[r.id]?[{...i.simpleSceneNodeLookup[r.id],opacity:(r.opacity??100)/100,color:[255,255,255,255]}]:(i.anatomicalStructures[t]||[]).filter(o=>o.representation_of===r.id).map(o=>({...i.simpleSceneNodeLookup[o["@id"]],opacity:(r.opacity??100)/100,color:[255,255,255,255]}))).reduce((r,o)=>r.concat(o),[])))}get nodeCollisions$(){return mr([this.referenceOrganSimpleNodes$,this.placementCube$]).pipe(ui(([e,t])=>t.length>0),E(([e,t])=>{const i=Kq(t[0]);return e.filter(r=>i.overlaps(Kq(r)))}))}get previousRegistrationNodes$(){return mr([this.model.organIri$,this.model.showPrevious$,this.registration.previousRegistrations$]).pipe(E(([e,t,i])=>t?i.map(r=>{const o=Array.isArray(r.placement)?r.placement[0]:r.placement;if(o.target===e){const s=this.model.snapshot.organDimensions,a=[s.x,s.y,s.z].map(c=>-c/1e3/2);return{"@id":r["@id"],"@type":"SpatialSceneNode",transformMatrix:new Dt(Dt.IDENTITY).translate([o.x_translation,o.y_translation,o.z_translation].map((c,l)=>c/1e3+a[l])).rotateXYZ([o.x_rotation,o.y_rotation,o.z_rotation].map(Yr)).scale([r.x_dimension,r.y_dimension,r.z_dimension].map(c=>c/1e3/2)),color:[25,118,210,200],tooltip:r.label,unpickable:!0}}}).filter(r=>!!r):[]))}get spatialKeyBoardAxis$(){return mr([this.model.organIri$.pipe(ui(e=>""!==e)),this.model.position$]).pipe(E(([e,t])=>{const i=this.getOrganSpatialEntity(e),r=this.model.snapshot.blockSize,o=this.model.snapshot.rotation;return i?function lje(n,e){const t=n.x_dimension/1e3,i=n.y_dimension/1e3,r=n.z_dimension/1e3,o=.1*Math.max(t,i,r),s=Math.max(t,i,r),a=.05*s,c=2*s,l=4*a,d={radius:s/1e3/2,x:e.x_translation/1e3,y:e.y_translation/1e3,z:e.z_translation/1e3,rx:Yr(e.x_rotation),ry:Yr(e.y_rotation),rz:Yr(e.z_rotation),sx:n.x_dimension/1e3,sy:n.y_dimension/1e3,sz:n.z_dimension/1e3};return[{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginSphere","@type":"SpatialSceneNode",unpickable:!0,geometry:"sphere",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Dt(Dt.IDENTITY).translate([-d.sx/2,-d.sy/2,-d.sz/2]).scale(o)),color:cje},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginX","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Dt(Dt.IDENTITY).translate([0,-d.sy/2,-d.sz/2]).rotateZ(Yr(-90)).scale([a,d.sx,a])),color:$p},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginY","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Dt(Dt.IDENTITY).translate([-d.sx/2,0,-d.sz/2]).scale([a,d.sy,a])),color:Yp},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginZ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Dt(Dt.IDENTITY).translate([-d.sx/2,-d.sy/2,0]).rotateX(Yr(90)).scale([a,d.sz,a])),color:Xp},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXD","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x+d.radius+c/2,d.y,d.z]).rotateZ(Yr(-90)).scale([a,c,a]),color:$p},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXDCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x+d.radius+c,d.y,d.z]).rotateZ(Yr(-90)).scale([l,3*l,l]),color:$p},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXDLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"D",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x+d.radius+c+3*l,d.y,d.z]).scale(l),color:$p},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXA","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x-d.radius-c/2,d.y,d.z]).rotateZ(Yr(-90)).scale([a,c,a]),color:$p},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXACone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x-d.radius-c,d.y,d.z]).rotateZ(Yr(90)).scale([l,3*l,l]),color:$p},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXALabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"A",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x-d.radius-c-3.5*l,d.y,d.z]).scale(l),color:$p},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYW","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y+d.radius+c/2,d.z]).scale([a,c,a]),color:Yp},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYWCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y+d.radius+c,d.z]).scale([l,3*l,l]),color:Yp},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYWLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"W",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y+d.radius+c+3*l,d.z]).scale(l),color:Yp},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYS","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y-d.radius-c/2,d.z]).scale([a,c,a]),color:Yp},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYSCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y-d.radius-c,d.z]).rotateZ(Yr(180)).scale([l,3*l,l]),color:Yp},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYSLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"S",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y-d.radius-c-3.5*l,d.z]).scale(l),color:Yp},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c/2]).rotateX(Yr(90)).scale([a,c,a]),color:Xp},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c]).rotateX(Yr(90)).scale([l,3*l,l]),color:Xp},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"Q",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c+3*l]).scale(l),color:Xp},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZE","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c/2]).rotateX(Yr(-90)).scale([a,c,a]),color:Xp},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZECone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c]).rotateX(Yr(-90)).scale([l,3*l,l]),color:Xp},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZELabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"E",transformMatrix:new Dt(Dt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c-3.5*l]).scale(l),color:Xp}]}({x_dimension:r.x,y_dimension:r.y,z_dimension:r.z},{x_translation:t.x-i.x_dimension/2,y_translation:t.y-i.y_dimension/2,z_translation:t.z-i.z_dimension/2,x_rotation:o.x,y_rotation:o.y,z_rotation:o.z,x_scaling:1,y_scaling:1,z_scaling:1}):[]}))}get placementCube$(){return mr([this.model.viewType$,this.model.blockSize$,this.model.rotation$,this.model.position$,this.model.organ$]).pipe(E(([e,t,i,r,o])=>""===o.src?[]:[this.placementCube]))}get placementCube(){const{viewType:e,blockSize:t,rotation:i,position:r,organDimensions:o}=this.model.snapshot,s=[o.x,o.y,o.z].map(a=>-a/1e3/2);return{"@id":"#DraftPlacement","@type":"SpatialSceneNode",transformMatrix:new Dt(Dt.IDENTITY).translate([r.x,r.y,r.z].map((a,c)=>a/1e3+s[c])).rotateXYZ([i.x,i.y,i.z].map(Yr)).scale([t.x,t.y,t.z].map(a=>a/1e3/2)),color:[255,255,0,200],tooltip:"Draft Placement",unpickable:"3d"===e}}get rotation$(){return this.model.viewSide$.pipe(E(e=>{let t=0;switch(e){case"left":t=-90;break;case"right":t=90;break;case"posterior":t=180}return t}))}constructor(e){super(),this.injector=e,this.gizmo$=sn([{"@id":"http://purl.org/ccf/latest/ccf.owl#VHMaleOrgans_VHM_Spleen_Colic_Surface","@type":"SpatialSceneNode",scenegraph:"https://hubmapconsortium.github.io/ccf-3d-reference-object-library/Assets/body4Mesh_1338.glb",transformMatrix:new Dt(Dt.IDENTITY).scale([2,2,2]).rotateY(Yr(0)),tooltip:"Gizmo",unpickable:!0,_lighting:"pbr",zoomBasedOpacity:!1,color:[255,255,255,255],opacity:1}])}ngxsOnInit(){super.ngxsOnInit(),this.model=this.injector.get(or),this.registration=this.injector.get(xo),this.referenceData=this.injector.get(Kp)}createSceneNodes(e,t){const i=this.referenceData.snapshot;return t.filter(r=>r.visible&&r.opacity&&r.opacity>0).map(r=>i.sceneNodeLookup[r.id]?[{...i.sceneNodeLookup[r.id],opacity:(r.opacity??100)/100,color:[255,255,255,255]}]:(i.anatomicalStructures[e]||[]).filter(o=>o.representation_of===r.id).map(o=>({...i.sceneNodeLookup[o["@id"]],opacity:(r.opacity??100)/100,color:[255,255,255,255]}))).reduce((r,o)=>r.concat(o),[])}getOrganSpatialEntity(e){return this.referenceData.snapshot.organSpatialEntities[e]}static#e=this.\u0275fac=function(t){return new(t||rM)(Ze(Li))};static#t=this.\u0275prov=Tt({token:rM,factory:rM.\u0275fac})};ke([zi()],sa.prototype,"nodes$",null),ke([zi()],sa.prototype,"rotatedNodes$",null),ke([zi()],sa.prototype,"referenceOrganNodes$",null),ke([zi()],sa.prototype,"referenceOrganSimpleNodes$",null),ke([zi()],sa.prototype,"nodeCollisions$",null),ke([zi()],sa.prototype,"previousRegistrationNodes$",null),ke([zi()],sa.prototype,"spatialKeyBoardAxis$",null),ke([zi()],sa.prototype,"placementCube$",null),ke([zi()],sa.prototype,"placementCube",null),ke([zi()],sa.prototype,"rotation$",null),sa=ke([Lh(),gu({name:"scene",defaults:{showCollisions:!dd.production}})],sa);let fd=class oM extends FPe{get tags$(){return mr([this.entities$,this.scene.nodeCollisions$]).pipe(E(([e,t])=>{const i=[],r=new Set,o=new Set;Object.entries(e).forEach(([s,a])=>{"removed"===a.type?o.add(s):(r.add(s),i.push(a))});for(const s of t){const a=s.representation_of;a&&!o.has(a)&&!r.has(a)&&(r.add(a),i.push({id:a,label:s.tooltip,type:"assigned"}))}return i}))}get latestTags(){return this._latestTags}constructor(e){super(),this.injector=e,this._latestTags=[]}ngxsOnInit(){super.ngxsOnInit(),this.model=this.injector.get(or),this.scene=this.injector.get(sa),this.page=this.injector.get(jr),this.tags$.subscribe(e=>{this._latestTags=e}),this.entities$.subscribe(()=>this.page.setHasChanges())}addTags(e){for(const t of e)this.addTagRaw(t)}addTag(e){this.addTagRaw(e)}removeTag(e){this.snapshot.entities[e.id]?this.updateEntitiesMany([{id:e.id,changes:{type:"removed"}}]):this.addEntityOne({...e,type:"removed"})}searchExternal(e,t){const i=this.model.snapshot.anatomicalStructures.filter(r=>-1!==r.name.toLowerCase().indexOf(e.toLowerCase()));return[{totalCount:i.length,results:i.map(r=>({id:r.id,label:r.name,type:"added"})).slice(0,t)}]}addTagRaw(e){this.snapshot.entities[e.id]?this.updateEntitiesMany([{id:e.id,changes:{type:"added"}}]):this.addEntityOne({...e,type:"added"})}static#e=this.\u0275fac=function(t){return new(t||oM)(Ze(Li))};static#t=this.\u0275prov=Tt({token:oM,factory:oM.\u0275fac})};ke([zi()],fd.prototype,"tags$",null),ke([Kn()],fd.prototype,"addTags",null),ke([Kn()],fd.prototype,"addTag",null),ke([Kn()],fd.prototype,"removeTag",null),ke([sd.ak],fd.prototype,"searchExternal",null),fd=ke([Lh(),gu({name:"tags",defaults:{...function d3e(n){return n??{ids:[],entities:{}}}()}})],fd);let xo=class sM extends G_{get metadata$(){return mr([this.page.state$,this.model.state$,this.tags.tags$]).pipe(E(([e,t,i])=>this.buildMetadata(e,t,i)))}get jsonld$(){return mr([this.page.state$,this.model.state$,this.tags.tags$]).pipe(E(([e,t,i])=>this.buildJsonLd(e,t,i)))}get valid$(){return mr([this.page.state$,this.model.state$]).pipe(E(()=>this.isValid))}get previousRegistrations$(){const{globalConfig:e,state$:t}=this;return mr([t.pipe(E(o=>o?.registrations)),e.getOption("fetchPreviousRegistrations").pipe(Oe(o=>o?.()??[[]]),yo([]))]).pipe(E(([o,s])=>[...o,...s]))}get currentIdentifier(){return l3e()}get currentDate(){return(new Date).toISOString().split("T")[0]}constructor(e,t){super(),this.injector=e,this.globalConfig=t,this.displayErrors$=this.state$.pipe(E(i=>i?.displayErrors))}ngxsOnInit(){super.ngxsOnInit(),this.page=this.injector.get(jr),this.model=this.injector.get(or),this.tags=this.injector.get(fd),this.refData=this.injector.get(Kp),this.refData.state$.subscribe(()=>{this.globalConfig.config$.pipe(Qi(1),Zi(({useDownload:e,register:t,organOptions:i})=>{this.ctx.patchState({useRegistrationCallback:!(e||!t)}),this.page.setOrcidId(),this.model.setOrganDefaults(),this.setOrganSelection(i)})).subscribe(),this.globalConfig.getOption("editRegistration").pipe(AF(),Zi(e=>{this.editRegistration(e)})).subscribe()})}editRegistration(e){var t=this;return _n(function*(){t.ctx.patchState({initialRegistration:e});const i=t.refData.normalizePlacement(Array.isArray(e.placement)?e.placement[0]:e.placement),r=t.refData.getOrganData(i.target);t.page.setUserName({firstName:e.creator_first_name,middleName:e.creator_middle_name,lastName:e.creator_last_name});const o=t.page.uriToOrcid(e.creator_orcid);t.page.setOrcidId(o),r&&(t.model.setOrgan(r.organ),r.sex&&t.model.setSex(r.sex),r.side&&t.model.setSide(r.side)),t.model.setBlockSize({x:e.x_dimension,y:e.y_dimension,z:e.z_dimension}),t.model.setRotation({x:i.x_rotation,y:i.y_rotation,z:i.z_rotation}),t.model.setSlicesConfig({thickness:e.slice_thickness||NaN,numSlices:e.slice_count||NaN}),t.model.setPosition({x:i.x_translation,y:i.y_translation,z:i.z_translation});const s=new Set(e.ccf_annotations);t.tags.addTags(t.model.snapshot.anatomicalStructures.filter(a=>s.has(a.id)).map(a=>({id:a.id,label:a.name,type:"added"}))),t.page.registrationStarted()})()}setUseRegistrationCallback(e){this.ctx.patchState({useRegistrationCallback:e})}setDisplayErrors(e){this.ctx.patchState({displayErrors:e})}addRegistration(e){this.ctx.setState(zp({registrations:r3e(e)})),this.page.registrationStarted()}setOrganSelection(e=[]){this.page.patchState({organOptions:this.organListOptions(e)})}isDataValid(e,t){return[e.user.firstName,e.user.lastName,e.orcidValid,t.organ.src,t.organ.name,t.organ.organ].every(r=>!!r)}get isValid(){return this.isDataValid(this.page.snapshot,this.model.snapshot)}register(e){if(this.page.registrationStarted(),!this.isValid)return;const{globalConfig:{snapshot:{register:t}},page:i,model:r,snapshot:o}=this,s=this.buildJsonLd(i.snapshot,r.snapshot,this.tags.latestTags),a=JSON.stringify(s,void 0,2);if(e??(void 0===e&&o.useRegistrationCallback))t?.(a);else{const c=new Blob([a],{type:"application/json",endings:"native"});(0,o3e.saveAs)(c,"registration-data.json")}this.setDisplayErrors(!1),this.page.clearHasChanges(),this.addRegistration(s)}setToInitialRegistration(){const{page:e}=this,t={...this.snapshot.initialRegistration,creator_first_name:e.snapshot.user.firstName,creator_last_name:e.snapshot.user.lastName,creator_middle_name:e.snapshot.user.middleName,creator_orcid:e.snapshot.user.orcidId};this.editRegistration(t)}buildMetadata(e,t,i){const r=[];return e.registrationCallbackSet||r.push({label:"First Name",value:e.user.firstName},{label:"Last Name",value:e.user.lastName}),r.push({label:"Reference Organ Name",value:t.organ.name},{label:"Tissue Block Dimensions (mm)",value:this.xyzTripletToString(t.blockSize)},{label:"Tissue Block Position (mm)",value:this.xyzTripletToString(t.position)},{label:"Tissue Block Rotation",value:this.xyzTripletToString(t.rotation)},{label:"Anatomical Structure Tags",value:i.map(o=>o.label).join(", ")},{label:"Time Stamp",value:this.currentDate},{label:"Alignment ID",value:this.currentIdentifier}),r}buildJsonLd(e,t,i){return{"@context":"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld","@id":`http://purl.org/ccf/1.5/${this.currentIdentifier}`,"@type":"SpatialEntity",label:t.label||void 0,creator:`${e.user.firstName} ${e.user.middleName?e.user.middleName+" ":""}${e.user.lastName}`,creator_first_name:e.user.firstName,creator_last_name:e.user.lastName,creator_middle_name:e.user.middleName,creator_orcid:e.user.orcidId,creation_date:this.currentDate,ccf_annotations:i.map(r=>r.id),slice_thickness:t.slicesConfig?.thickness||void 0,slice_count:t.slicesConfig?.numSlices||void 0,x_dimension:+t.blockSize.x.toFixed(3),y_dimension:+t.blockSize.y.toFixed(3),z_dimension:+t.blockSize.z.toFixed(3),dimension_units:"millimeter",placement:{"@context":"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld","@id":`http://purl.org/ccf/1.5/${this.currentIdentifier}_placement`,"@type":"SpatialPlacement",target:t.organIri,placement_date:this.currentDate,x_scaling:1,y_scaling:1,z_scaling:1,scaling_units:"ratio",x_rotation:+t.rotation.x.toFixed(3),y_rotation:+t.rotation.y.toFixed(3),z_rotation:+t.rotation.z.toFixed(3),rotation_order:"XYZ",rotation_units:"degree",x_translation:+t.position.x.toFixed(3),y_translation:+t.position.y.toFixed(3),z_translation:+t.position.z.toFixed(3),translation_units:"millimeter"}}}xyzTripletToString(e){return`${Math.round(e.x)}, ${Math.round(e.y)}, ${Math.round(e.z)}`}organListOptions(e){return e&&e.length>0?NL.filter(t=>!!t.id&&e.includes(t.id)):NL}static#e=this.\u0275fac=function(t){return new(t||sM)(Ze(Li),Ze(vu))};static#t=this.\u0275prov=Tt({token:sM,factory:sM.\u0275fac})};ke([zi()],xo.prototype,"metadata$",null),ke([zi()],xo.prototype,"jsonld$",null),ke([zi()],xo.prototype,"valid$",null),ke([zi()],xo.prototype,"previousRegistrations$",null),ke([zi()],xo.prototype,"currentIdentifier",null),ke([zi()],xo.prototype,"currentDate",null),ke([Kn()],xo.prototype,"setUseRegistrationCallback",null),ke([Kn()],xo.prototype,"setDisplayErrors",null),ke([Kn()],xo.prototype,"addRegistration",null),ke([Kn()],xo.prototype,"setOrganSelection",null),ke([zi()],xo.prototype,"isValid",null),xo=ke([Lh(),gu({name:"registration",defaults:{useRegistrationCallback:!1,displayErrors:!1,registrations:[]}})],xo);let jr=class aM extends G_{get skipConfirmation$(){return this.state$.pipe(MF("skipConfirmation"))}get globalSkipConfirmation$(){return this.globalConfig.getOption("skipUnsavedChangesConfirmation").pipe(E(e=>e??dd.skipUnsavedChangesConfirmation),Ue())}get hasChanges$(){return this.state$.pipe(MF("hasChanges"))}constructor(e,t){super(),this.globalConfig=e,this.reg=t,this.user$=this.state$.pipe(E(i=>i?.user)),this.registrationStarted$=this.state$.pipe(MF("registrationStarted")),this.useCancelRegistrationCallback$=this.state$.pipe(E(i=>i?.useCancelRegistrationCallback)),this.registrationCallbackSet$=this.state$.pipe(E(i=>i?.registrationCallbackSet)),this.organOptions$=this.state$.pipe(E(i=>i?.organOptions)),this.orcidValid$=this.state$.pipe(E(i=>i?.orcidValid))}ngxsOnInit(){super.ngxsOnInit(),mr([this.reg.state$,this.globalConfig.config$]).pipe(Zi(([e,t])=>{this.setState(zp({registrationCallbackSet:!!e.useRegistrationCallback&&!!t.register,useCancelRegistrationCallback:!!t.cancelRegistration,user:i3e(!!t.user,t.user),registrationStarted:!!(t.user??e.initialRegistration)||void 0}))})).subscribe(),this.initSkipConfirmationListeners()}cancelRegistration(){const{globalConfig:{snapshot:{cancelRegistration:e}},snapshot:{useCancelRegistrationCallback:t,skipConfirmation:i}}=this;t&&(i||confirm("Changes you made may not be saved."))&&e?.()}setUseCancelRegistrationCallback(e){this.ctx.patchState({useCancelRegistrationCallback:e})}setUserName(e){this.ctx.setState(zp({user:zp({firstName:e.firstName,lastName:e.lastName,middleName:""!==e.middleName?e.middleName:void 0})}))}setOrcidId(e){this.ctx.setState(zp({user:zp({orcidId:e?this.orcidToUri(e):void 0})})),this.ctx.patchState({orcidValid:!e||this.isOrcidValid()})}registrationStarted(){this.ctx.setState(zp({registrationStarted:!0}))}setHasChanges(){const{snapshot:{registrationStarted:e,hasChanges:t}}=this;e&&!t&&this.ctx.patchState({hasChanges:!0})}clearHasChanges(){this.ctx.patchState({hasChanges:!1})}initSkipConfirmationListeners(){const e=i=>this.patchState({skipConfirmation:i});this.globalSkipConfirmation$.pipe(ui(i=>i)).subscribe(e),this.hasChanges$.pipe(sA(this.globalSkipConfirmation$),E(([i,r])=>r||!i),Ue()).subscribe(e);const t=i=>(i.preventDefault(),i.returnValue="Changes you made may not be saved.",i.returnValue);this.skipConfirmation$.subscribe(i=>{i?removeEventListener("beforeunload",t):addEventListener("beforeunload",t)})}isOrcidValid(){const e=this.uriToOrcid(this.snapshot.user.orcidId);return!(e&&!e.match("^[a-zA-Z0-9]{4}(-[a-zA-Z0-9]{4}){3}$"))}uriToOrcid(e){return e?e.split("/").slice(-1)[0]:""}orcidToUri(e){return"https://orcid.org/"+e.replace(/-/g,"").replace(/(.{1,4})/g,"$1-").slice(0,-1)}static#e=this.\u0275fac=function(t){return new(t||aM)(Ze(vu),Ze(xo))};static#t=this.\u0275prov=Tt({token:aM,factory:aM.\u0275fac})};ke([zi()],jr.prototype,"skipConfirmation$",null),ke([zi()],jr.prototype,"globalSkipConfirmation$",null),ke([zi()],jr.prototype,"hasChanges$",null),ke([Kn()],jr.prototype,"setUseCancelRegistrationCallback",null),ke([Kn()],jr.prototype,"setUserName",null),ke([Kn()],jr.prototype,"setOrcidId",null),ke([Kn()],jr.prototype,"registrationStarted",null),ke([Kn()],jr.prototype,"setHasChanges",null),ke([Kn()],jr.prototype,"clearHasChanges",null),jr=ke([Lh(),gu({name:"page",defaults:{user:{firstName:"",lastName:""},registrationStarted:!1,useCancelRegistrationCallback:!1,registrationCallbackSet:!1,skipConfirmation:!0,hasChanges:!1,organOptions:[],orcidValid:!1}})],jr);const NL=kw;let or=class cM extends G_{get modelChanged$(){const e=["viewType","viewSide","showPrevious"],t=Object.keys(this.initialState).filter(i=>!e.includes(i));return this.state$.pipe(fY(0,void 0,{leading:!1,trailing:!0}),Ue((i,r)=>{for(const o of t)if(i[o]!==r[o])return!1;return!0}),E(()=>{}))}constructor(e,t,i){super(),this.ga=e,this.injector=t,this.globalConfig=i,this.id$=this.state$.pipe(E(r=>r?.id)),this.blockSize$=this.state$.pipe(E(r=>r?.blockSize)),this.rotation$=this.state$.pipe(E(r=>r?.rotation)),this.position$=this.state$.pipe(E(r=>r?.position)),this.slicesConfig$=this.state$.pipe(E(r=>r?.slicesConfig)),this.viewType$=this.state$.pipe(E(r=>r?.viewType)),this.viewSide$=this.state$.pipe(E(r=>r?.viewSide)),this.organ$=this.state$.pipe(E(r=>r?.organ)),this.organIri$=this.state$.pipe(E(r=>r?.organIri)),this.organDimensions$=this.state$.pipe(E(r=>r?.organDimensions)),this.sex$=this.state$.pipe(E(r=>r?.sex)),this.side$=this.state$.pipe(E(r=>r?.side)),this.showPrevious$=this.state$.pipe(E(r=>r?.showPrevious)),this.extractionSites$=this.state$.pipe(E(r=>r?.extractionSites)),this.anatomicalStructures$=this.state$.pipe(E(r=>r?.anatomicalStructures)),this.extractionSets$=this.state$.pipe(E(r=>r?.extractionSets))}ngxsOnInit(){super.ngxsOnInit(),this.referenceData=this.injector.get(Kp),this.page=this.injector.get(jr),this.referenceData.state$.subscribe(()=>this.onReferenceDataChange())}idMatches(e,t){return kw.find(i=>!(!e||i.id!==e||i.side&&i.side!==t))}nameMatches(e,t){return kw.find(i=>i.side?i.organ.toLowerCase()===e&&i.side===t:i.organ.toLowerCase()===e)}setBlockSize(e){this.ctx.patchState({blockSize:e})}setRotation(e){this.ctx.patchState({rotation:e})}setPosition(e){this.ga.event("placement",`${this.snapshot.organ?.name}_placement`,`${e.x.toFixed(1)}_${e.y.toFixed(1)}_${e.z.toFixed(1)}`),this.ctx.patchState({position:e})}setSlicesConfig(e){this.ctx.patchState({slicesConfig:e})}setViewType(e){this.ctx.patchState({viewType:e})}setViewSide(e){this.ctx.patchState({viewSide:e})}get defaultPosition(){const e=this.snapshot.organDimensions;return{x:e.x+2*this.snapshot.blockSize.x,y:e.y/2,z:e.z/2}}setOrgan(e){e&&(this.ga.event("organ_select","organ",e.name),this.ctx.patchState({organ:e}),this.ctx.patchState(e.side?{side:e.side}:{side:void 0}),this.onOrganIriChange())}setOrganDefaults(){this.ctx.patchState({position:this.defaultPosition,rotation:{x:0,y:0,z:0}})}setSex(e){this.ctx.patchState({sex:e}),this.onOrganIriChange()}setSide(e){this.ctx.patchState({side:e}),this.onOrganIriChange()}setShowPrevious(e){this.ctx.patchState({showPrevious:e})}setExtractionSites(e){this.ctx.patchState({extractionSites:e})}setAnatomicalStructures(e){this.ctx.patchState({anatomicalStructures:e})}setExtractionSets(e){this.ctx.patchState({extractionSets:e})}toggleRegistrationBlocksVisibility(e,t){if(this.setShowPrevious(e),e){const i=t.map(r=>({...r,opacity:Math.min(20,r.opacity??20)}));this.setAnatomicalStructures(i)}else this.setAnatomicalStructures(t)}onOrganIriChange(){const e=this.referenceData.getReferenceOrganIri(this.snapshot.organ?.organ||"",this.snapshot.sex,this.snapshot.side,this.snapshot.organ),t={x:100,y:100,z:100};if(this.snapshot.organ?.sex&&this.ctx.patchState({sex:this.snapshot.organ?.sex}),e){const i=this.referenceData.snapshot,r={};for(const a of i.anatomicalStructures[e]||[]){const c=a.representation_of??a["@id"];r[c]||(r[c]={id:a.representation_of??a["@id"],name:a.label,visible:!0,opacity:20,tooltip:a.comment})}this.ctx.patchState({anatomicalStructures:[{id:"all",name:"all anatomical structures",opacity:20,visible:!0},...Object.values(r)]});const o=(i.extractionSets[e]||[]).map(a=>({name:a.label,sites:[{id:"all",name:"all landmarks",visible:!0,opacity:0}].concat((0,oq.sortBy)(a.extractionSites.map(c=>({id:c["@id"],name:c.label,visible:!0,opacity:0,tooltip:c.comment})),"name"))}));this.ctx.patchState({extractionSets:o}),this.ctx.patchState({extractionSites:o.length>0?o[0].sites:[]});const s=i.organSpatialEntities[e];t.x=s.x_dimension,t.y=s.y_dimension,t.z=s.z_dimension}this.ctx.patchState({organIri:e,organDimensions:t})}onReferenceDataChange(){this.globalConfig.getOption("organ").pipe(AF(),aY(0),Oe(e=>this.onOrganChange(e))).subscribe(),this.modelChanged$.pipe(function t3e(n){return he((e,t)=>{let i=!1;const r=Z(t,()=>{r?.unsubscribe(),i=!0},V);er(n).subscribe(r),e.subscribe(Z(t,o=>i&&t.next(o)))})}(this.page.registrationStarted$.pipe(ui(e=>e)))).subscribe(()=>this.page.setHasChanges())}onOrganChange(e){let t,i;if("string"==typeof e){const r=this.referenceData.getOrganData(e);i=r?.sex?.toLowerCase(),t=r?.organ}else{const r=e.name.toLowerCase(),o=e.side,s=e.ontologyId;i=e.sex?.toLowerCase(),t=this.idMatches(s,o),t||(t=this.nameMatches(r,o))}return t?(this.ctx.patchState({organ:t,sex:i,side:t?.side?.toLowerCase()}),this.referenceData.state$.pipe(Zi(()=>this.onOrganIriChange()))):ee}static#e=this.\u0275fac=function(t){return new(t||cM)(Ze(Us),Ze(Li),Ze(vu))};static#t=this.\u0275prov=Tt({token:cM,factory:cM.\u0275fac})};ke([zi()],or.prototype,"modelChanged$",null),ke([Kn()],or.prototype,"setBlockSize",null),ke([Kn()],or.prototype,"setRotation",null),ke([Kn()],or.prototype,"setPosition",null),ke([Kn()],or.prototype,"setSlicesConfig",null),ke([Kn()],or.prototype,"setViewType",null),ke([Kn()],or.prototype,"setViewSide",null),ke([zi()],or.prototype,"defaultPosition",null),ke([Kn()],or.prototype,"setOrgan",null),ke([Kn()],or.prototype,"setOrganDefaults",null),ke([Kn()],or.prototype,"setSex",null),ke([Kn()],or.prototype,"setSide",null),ke([Kn()],or.prototype,"setShowPrevious",null),ke([Kn()],or.prototype,"setExtractionSites",null),ke([Kn()],or.prototype,"setAnatomicalStructures",null),ke([Kn()],or.prototype,"setExtractionSets",null),or=ke([Lh(),gu({name:"model",defaults:{id:"",label:"",organ:{src:"",name:""},organIri:"",organDimensions:{x:90,y:90,z:90},sex:"male",blockSize:{x:10,y:10,z:10},rotation:{x:0,y:0,z:0},position:{x:0,y:0,z:0},slicesConfig:{thickness:NaN,numSlices:NaN},viewType:"register",viewSide:"anterior",showPrevious:!1,extractionSites:[],anatomicalStructures:[],extractionSets:[]}})],or);const qq=new yt("Default theme class");let FL=(()=>{class n{static initialize(t){const{injector:i,location:r}=t;i.get(n).initialize(r,i)}constructor(t){this.defaultTheme=this.theme=t??""}getTheme(){return this.theme}setTheme(t){t!==this.theme&&(this.applyThemeClass(this.theme,"remove"),this.applyThemeClass(t),this.theme=t)}resetTheme(){this.setTheme(this.defaultTheme)}initialize(t,i){this.element=t,this.injector=i,this.applyThemeClass(this.getTheme())}applyThemeClass(t,i="add"){const{element:r,injector:o}=this;if(!t||!r||!o)return;const s=o.get(Nl,null);if(!s)return;const a=r.nativeElement,c=o.get(qv,null)?.getContainerElement(),l="add"===i?"addClass":"removeClass";s[l](a,t),c&&s[l](c,t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(qq,8))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac})}return n})();const Jq={isolated:!0},Zq=new yt("Message service configuration",{providedIn:"root",factory:()=>Jq});let fje=(()=>{class n{static#e=this.counter=0;constructor(t,i,r){this.source=t,this.channel=i,this.messages=r}sendMessage(t){this.channel.next({id:this.nextMessageId(),source:this.source,payload:t})}getMessages(){return this.messages.pipe(ui(t=>t.source!==this.source))}getMessagesFromSource(t){return this.getMessages().pipe(ui(i=>i.source===t))}getMessagesFromSources(t){return this.getMessages().pipe(ui(i=>t.includes(i.source)))}nextMessageId(){return n.counter++}}return n})();const Hw=(()=>{class n{constructor(t,i){this.config=t,this.parent=i,this.channel=new j,this.messages=t.isolated||!i?this.channel.asObservable():Hi([this.channel,i.messages.pipe(A8(()=>!this.channel.closed))]).pipe(z())}ngOnDestroy(){this.channel.complete()}connect(t){return new fje(t,this.channel,this.messages)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Zq),Ze(n,12))};static#t=this.\u0275prov=Tt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pje=["*"];let KA=(()=>{class n{constructor(t,i){this.className="ccf-drawer-content",this.animationsEnabled=!1,this.leftMargin=0,this.rightMargin=0,this.faded=!1,this.drawers=[],this.subscriptions=new C;const r=t.connect(this).getMessages();this.subscriptions.add(r.subscribe(o=>{this.handleMessage(o)&&i.markForCheck()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){switch(t.payload.type){case"drawer-containers-changed":return this.drawers=t.payload.drawers,this.updateFaded(),!0;case"drawer-initialized":return this.animationsEnabled=!0,!0;case"drawer-toggled":{const i=t.source.position,{opened:r,width:o,margin:s}=t.payload;return this.updateMargin(i,r,o,s),this.updateFaded(),!0}default:return!1}}updateMargin(t,i,r,o){const s=i?r+o:o;"start"===t?this.leftMargin=s:this.rightMargin=s}updateFaded(){const[t,i]=this.drawers;this.faded=!!(t?.opened&&t?.expanded||i?.opened&&i?.expanded)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Hw),Ce(Ri))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-drawer-content"]],hostVars:9,hostBindings:function(i,r){2&i&&(dv("@fadeInOut",r.faded),Mi(r.className),cv("margin-left",r.leftMargin,"px")("margin-right",r.rightMargin,"px"),tn("cff-drawer-content-animations",r.animationsEnabled))},ngContentSelectors:pje,decls:1,vars:0,template:function(i,r){1&i&&(Wi(),bn(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;z-index:2;overflow:auto}.cff-drawer-content-animations[_nghost-%COMP%]{transition-duration:.5s;transition-timing-function:ease-in-out;transition-property:margin-left,margin-right}"],data:{animation:[uc("fadeInOut",[co("false",$i({opacity:1})),co("true",$i({opacity:0})),$o("false <=> true",Wo("1s"))])]},changeDetection:0})}return n})();const mje=["*"],LL={params:{width:0,margin:0,margin2:0}};class gje{constructor(){this.initialized=!1,this.deferred=new Promise(e=>{this.resolve=e})}set(){this.initialized=!0,this.resolve()}wait(){var e=this;return _n(function*(){return e.deferred})()}valueOf(){return this.initialized}}let BL=(()=>{class n{get classEnd(){return"end"===this.position}get position(){return this._position}set position(t){this._position=t||"start"}get opened(){return this._opened}set opened(t){this.toggle(gn(t))}get expanded(){return this._expanded}set expanded(t){this.toggleExpanded(gn(t))}get expandedStateObj(){return{value:this.expandedState2,params:{width:this.width,margin:this.measuredMargin,margin2:this.margin2}}}get measuredWidth(){if(this._measuredWidth>0)return this._measuredWidth;const t=this.element.nativeElement;if(!t)return 0;const i=t.getBoundingClientRect(),r=i.right-i.left;return 0===r?0:(this._measuredWidth=r,r)}get measuredMargin(){if(this._measuredMargin>0)return this._measuredMargin;const t=this.element.nativeElement;if(!t)return 0;const o=globalThis.getComputedStyle(t).getPropertyValue("start"===this.position?"margin-right":"margin-left"),s=Number(o.slice(0,-2));return this._measuredMargin=s,s}constructor(t,i,r){this.element=r,this.className="ccf-drawer",this._position="start",this._opened=!1,this._expanded=!1,this.openedChange=new jt(!0),this.expandedChange=new jt(!0),this.stateChange=new jt(!0),this.openedState="closed",this.expandedState="closed",this.expandedState2="collapsed",this._measuredWidth=0,this.width=0,this._measuredMargin=0,this.margin2=0,this.initialized=new gje,this.subscriptions=new C,this.channel=t.connect(this),this.subscriptions.add(this.channel.getMessages().subscribe(o=>{this.handleMessage(o)&&i.markForCheck()}))}ngAfterViewInit(){this.initialized.set(),setTimeout(()=>this.channel.sendMessage({type:"drawer-initialized"}))}ngOnDestroy(){this.subscriptions.unsubscribe()}open(){this.toggle(!0)}close(){this.toggle(!1)}toggle(t=!this.opened){this.opened!==t&&(t?this.openedState=this.initialized.valueOf()?"open":"open-instant":(this.openedState="closed",this.expandedState="closed",this.expandedState2="collapsed",this._expanded=!1),this._opened=t,this.sendToggle())}openExpanded(){this.toggleExpanded(!0)}closeExpanded(){this.toggleExpanded(!1)}toggleExpanded(t=!this.expanded){this.expanded!==t&&(t?this.expandedState=this.initialized.valueOf()?"open":"open-instant":(this.expandedState="closed",this.expandedState2="collapsed"),this._expanded=t,this.sendToggle())}closeOpenDone(){this.openedChange.emit(this.opened)}expandCollapseDone(){this.expandedChange.emit(this.expanded)}sendToggle(){var t=this;return _n(function*(){yield t.initialized.wait(),t.channel.sendMessage({type:"drawer-toggled",opened:t.opened,expanded:t.expanded,width:t.measuredWidth,margin:t.measuredMargin}),t.stateChange.emit()})()}handleMessage(t){return"drawer-toggled"===t.payload.type&&(this.syncExpanded(t.source),!0)}syncExpanded(t){(this.expanded||t.expanded)&&(this.expanded&&t.expanded?this.expandedState2=t.expandedState2="half":this.expanded?t.opened?(this.expandedState2="extended",this.width=t.measuredWidth+t.measuredMargin):(this.expandedState2="full",this.margin2=t.measuredMargin):this.opened?(t.expandedState2="extended",t.width=this.measuredWidth+this.measuredMargin):(t.expandedState2="full",t.margin2=this.measuredMargin))}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Hw),Ce(Ri),Ce(vn))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-drawer"]],hostVars:10,hostBindings:function(i,r){1&i&&X1("@openClose.done",function(){return r.closeOpenDone()})("@expandCollapse.done",function(){return r.expandCollapseDone()}),2&i&&(dv("@openClose",r.openedState)("@expandCollapse",r.expandedStateObj),Mi(r.className),tn("ccf-drawer-end",r.classEnd)("ccf-drawer-opened",r.opened)("ccf-drawer-expanded",r.expanded))},inputs:{position:"position",opened:"opened",expanded:"expanded"},outputs:{openedChange:"openedChange",expandedChange:"expandedChange",stateChange:"stateChange"},exportAs:["ccfDrawer"],ngContentSelectors:mje,decls:2,vars:0,consts:[[1,"cff-drawer-inner-container"]],template:function(i,r){1&i&&(Wi(),$e(0,"div",0),bn(1),Qe())},styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;bottom:0;z-index:2;outline:0;transform:translate3d(-100%,0,0)}.ccf-drawer-end[_nghost-%COMP%]{right:0;transform:translate3d(100%,0,0)}[_nghost-%COMP%]   .cff-drawer-inner-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch;scrollbar-width:thin}"],data:{animation:[uc("openClose",[co("open, open-instant",$i({transform:"none"})),co("closed",$i({})),$o("closed => open-instant",Wo(0)),$o("closed <=> open, open-instant => closed",Wo(".5s ease-in-out"))]),uc("expandCollapse",[co("collapsed",$i({})),co("half",$i({width:"calc(50% - {{ margin }}px)"}),LL),co("extended",$i({width:"calc(100% - {{ width }}px - {{ margin }}px)"}),LL),co("full",$i({width:"calc(100% - {{ margin }}px - {{ margin2 }}px)"}),LL),$o("* <=> *",Wo(".5s ease-in-out"))])]},changeDetection:0})}return n})();function _je(n,e){1&n&&($e(0,"ccf-drawer-content"),bn(1,2),Qe())}const bje=[[["ccf-drawer"]],[["ccf-drawer-content"]],"*"],yje=["ccf-drawer","ccf-drawer-content","*"];function Qq(n){throw new Error(`Multiple drawers in position ${n}`)}let vje=(()=>{class n{get content(){return this.content1.first??this.content2.first}get hasWrappedContent(){return 0!==this.content1.length}constructor(t,i){this.cdr=i,this.className="ccf-drawer-container",this.subscriptions=new C,this.channel=t.connect(this),this.subscriptions.add(this.channel.getMessages().subscribe(r=>{this.handleMessage(r)&&i.markForCheck()}))}ngAfterViewInit(){this.drawers.changes.pipe(yo(null)).subscribe(()=>{const t=this.validateDrawers();this.channel.sendMessage({type:"drawer-containers-changed",drawers:t}),this.cdr.markForCheck()}),this.content1.changes.pipe(yo(null)).subscribe(()=>{this.channel.sendMessage({type:"content-container-changed",content:this.content}),this.cdr.markForCheck()})}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){return!0}validateDrawers(){const t=this.drawers.toArray(),i=t.filter(o=>"start"===o.position),r=t.filter(o=>"end"===o.position);return i.length>1&&Qq("start"),r.length>1&&Qq("end"),[i[0],r[0]]}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Hw),Ce(Ri))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(ki(o,BL,5),ki(o,KA,5)),2&i){let s;hn(s=fn())&&(r.drawers=s),hn(s=fn())&&(r.content1=s)}},viewQuery:function(i,r){if(1&i&&xi(KA,5),2&i){let o;hn(o=fn())&&(r.content2=o)}},hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.className)},exportAs:["ccfDrawerContainer"],features:[zn([Hw])],ngContentSelectors:yje,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(i,r){1&i&&(Wi(bje),bn(0),bn(1,1),Yt(2,_je,2,0,"ccf-drawer-content",0)),2&i&&(ot(2),ct("ngIf",!r.hasWrappedContent))},dependencies:[Dr,KA],styles:["[_nghost-%COMP%]{display:block;position:relative;z-index:1;overflow:hidden;-webkit-overflow-scrolling:touch}"],changeDetection:0})}return n})(),wje=(()=>{class n{get classEnd(){return"end"===this.position}get icon(){let t="arrow_right",i="arrow_left";return"end"===this.position&&([t,i]=[i,t]),this.opened?i:t}constructor(t,i,r){this.drawer=t,this.cdr=r,this.className="ccf-drawer-toggle-button",this.position="start",this.opened=!1,this.subscriptions=new C;const o=i.connect(this);this.subscriptions.add(o.getMessagesFromSource(t).subscribe(s=>{this.handleMessage(s)&&r.markForCheck()}))}ngAfterViewInit(){setTimeout(()=>{this.position=this.drawer.position,this.cdr.markForCheck()})}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){return"drawer-toggled"===t.payload.type&&(this.opened=t.payload.opened,!0)}toggle(){const t=this.drawer,{opened:i,expanded:r}=t;i?r?t.closeExpanded():t.close():t.open()}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(BL),Ce(Hw),Ce(Ri))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-drawer-toggle-button"]],hostVars:4,hostBindings:function(i,r){2&i&&(Mi(r.className),tn("ccf-drawer-toggle-button-end",r.classEnd))},decls:4,vars:4,consts:[["aria-hidden","false","aria-label","Close side drawer",1,"expand-collapse-icon",3,"click"]],template:function(i,r){1&i&&($e(0,"mat-icon",0),Mt("click",function(){return r.toggle()}),kt(1," arrow_right\n"),Qe(),$e(2,"mat-icon",0),Mt("click",function(){return r.toggle()}),kt(3," arrow_left\n"),Qe()),2&i&&(tn("hidden","arrow_left"===r.icon),ot(2),tn("hidden","arrow_right"===r.icon))},dependencies:[Yo],styles:["[_nghost-%COMP%]{position:absolute;top:calc(50% - 2.0625rem);right:-1.0625rem;width:1.0625rem;height:3rem;border-radius:0rem .25rem .25rem 0rem;cursor:pointer;transition:.25s}.ccf-drawer-toggle-button-end[_nghost-%COMP%]{right:unset;left:calc(-1rem - 1px);border-radius:.25rem 0rem 0rem .25rem}[_nghost-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{position:absolute;right:0rem;transition:.6s;padding-left:.15rem}[_nghost-%COMP%]   .expand-collapse-icon.hidden[_ngcontent-%COMP%]{opacity:0}.ccf-drawer-toggle-button-end[_nghost-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{right:unset;left:-.25rem}.mat-icon[_ngcontent-%COMP%]{right:.3rem;top:.675rem;padding-top:.05rem}"],changeDetection:0})}return n})();function xje(n,e){1&n&&HI(0)}function Eje(n,e){if(1&n){const t=$r();$e(0,"div",4),Mt("click",function(){return oi(t),Xn(Qt().page.cancelRegistration())}),$e(1,"mat-icon",5),kt(2,"chevron_left"),Qe(),$e(3,"span",6),kt(4,"BACK"),Qe()()}}function Cje(n,e){if(1&n&&($e(0,"a",7),on(1,"div",8),Qe()),2&n){const t=Qt();ct("href",t.homeUrl,tg)("matTooltip",t.logoTooltip)}}let Sje=(()=>{class n{constructor(t){this.page=t,this.clsName="ccf-header"}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(jr))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-header"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{homeUrl:"homeUrl",logoTooltip:"logoTooltip"},decls:7,vars:5,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["backButton",""],["logo",""],[1,"filler"],["rel","noreferrer noopener",1,"link","home",3,"click"],[1,"icon","backbutton"],[1,"text"],["rel","noreferrer noopener","matTooltipPosition","right",1,"link","portal",3,"href","matTooltip"],["aria-hidden","false","aria-label","Reset tool",1,"logo"]],template:function(i,r){if(1&i&&(Yt(0,xje,1,0,"ng-container",0),Bn(1,"async"),Yt(2,Eje,5,0,"ng-template",null,1,Gd),Yt(4,Cje,2,2,"ng-template",null,2,Gd),on(6,"div",3)),2&i){const o=Jr(3),s=Jr(5);ct("ngIf",Jn(1,3,r.page.useCancelRegistrationCallback$))("ngIfThen",o)("ngIfElse",s)}},dependencies:[Dr,Yo,yc,jl],styles:["[_nghost-%COMP%]{display:flex;align-items:center;min-height:4rem;padding:0 1.5rem;border-bottom-width:1px;border-bottom-style:solid}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{padding:.25rem 0;height:2rem;display:flex;align-items:center;font-weight:lighter;font-size:1.5rem}[_nghost-%COMP%]   .link[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;text-decoration:none;padding:.25rem 0}[_nghost-%COMP%]   .home[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:color .6s}[_nghost-%COMP%]   .home[_ngcontent-%COMP%]   .backbutton[_ngcontent-%COMP%]{font-size:2.25rem;width:2.25rem;height:2.25rem}[_nghost-%COMP%]   .portal[_ngcontent-%COMP%]{height:100%;width:25rem;align-items:center;display:flex}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%;height:50%;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1;margin:0}"],changeDetection:0})}return n})();function eJ(n,e){return Ue((t,i)=>e?e(t[n],i[n]):t[n]===i[n])}const Aje=["input"],Mje=["*"];let tJ=0;class nJ{constructor(e,t){this.source=e,this.value=t}}const Tje={provide:ps,useExisting:Rn(()=>UL),multi:!0},iJ=new yt("MatRadioGroup"),Ije=new yt("mat-radio-default-options",{providedIn:"root",factory:function Dje(){return{color:"accent"}}});let Oje=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=gn(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=gn(t),this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+tJ++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new jt}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new nJ(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Ri))};static#t=this.\u0275dir=Nt({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}})}return n})();class kje{constructor(e){this._elementRef=e}}const Rje=Qf(Jd(kje));let Pje=(()=>{class n extends Rje{get checked(){return this._checked}set checked(t){const i=gn(t);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(gn(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=gn(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a,c,l){super(i),this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=s,this._providerOverride=c,this._uniqueId="mat-radio-"+ ++tJ,this.id=this._uniqueId,this.change=new jt,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===a,l&&(this.tabIndex=wa(l,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new nJ(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static#e=this.\u0275fac=function(i){zd()};static#t=this.\u0275dir=Nt({type:n,viewQuery:function(i,r){if(1&i&&xi(Aje,5),2&i){let o;hn(o=fn())&&(r._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[dn]})}return n})(),UL=(()=>{class n extends Oje{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=ti(n)))(r||n)}}();static#t=this.\u0275dir=Nt({type:n,selectors:[["mat-radio-group"]],contentQueries:function(i,r,o){if(1&i&&ki(o,jL,5),2&i){let s;hn(s=fn())&&(r._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[zn([Tje,{provide:iJ,useExisting:n}]),dn]})}return n})(),jL=(()=>{class n extends Pje{constructor(t,i,r,o,s,a,c,l){super(t,i,r,o,s,a,c,l)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(iJ,8),Ce(vn),Ce(Ri),Ce(qc),Ce(cF),Ce(xr,8),Ce(Ije,8),As("tabindex"))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,r){1&i&&Mt("focus",function(){return r._inputElement.nativeElement.focus()}),2&i&&(Vn("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),tn("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[dn],ngContentSelectors:Mje,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i&&(Wi(),$e(0,"div",0,1)(2,"div",2)(3,"div",3),Mt("click",function(s){return r._onTouchTargetClick(s)}),Qe(),$e(4,"input",4,5),Mt("change",function(s){return r._onInputInteraction(s)}),Qe(),$e(6,"div",6),on(7,"div",7)(8,"div",8),Qe(),$e(9,"div",9),on(10,"div",10),Qe()(),$e(11,"label",11),bn(12),Qe()()),2&i){const o=Jr(1);tn("mdc-form-field--align-end","before"==r.labelPosition),ot(2),tn("mdc-radio--disabled",r.disabled),ot(2),ct("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),Vn("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),ot(5),ct("matRippleTrigger",o)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),ot(2),ct("for",r.inputId)}},dependencies:[hc],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return n})(),rJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Ti,Hn,La,Ti]})}return n})();const Nje=["switch"];function Fje(n,e){1&n&&($e(0,"div",12),Nc(),$e(1,"svg",13),on(2,"path",14),Qe(),$e(3,"svg",15),on(4,"path",16),Qe()())}const Lje=["*"],Bje=new yt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),Uje={provide:ps,useExisting:Rn(()=>sJ),multi:!0};class oJ{constructor(e,t){this.source=e,this.checked=t}}let jje=0;const Vje=Jd(zg(Qf(Vg(class{constructor(n){this._elementRef=n}}))));let zje=(()=>{class n extends Vje{get required(){return this._required}set required(t){this._required=gn(t)}get checked(){return this._checked}set checked(t){this._checked=gn(t),this._changeDetectorRef.markForCheck()}get hideIcon(){return this._hideIcon}set hideIcon(t){this._hideIcon=gn(t)}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a,c){super(t),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=s,this._onChange=l=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this._hideIcon=!1,this.change=new jt,this.toggleChange=new jt,this.tabIndex=parseInt(o)||0,this.color=this.defaultColor=s.color||"accent",this._noopAnimations="NoopAnimations"===a,this.id=this._uniqueId=`${c}${++jje}`,this._hideIcon=s.hideIcon??!1}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}static#e=this.\u0275fac=function(i){zd()};static#t=this.\u0275dir=Nt({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked",hideIcon:"hideIcon"},outputs:{change:"change",toggleChange:"toggleChange"},features:[dn]})}return n})(),sJ=(()=>{class n extends zje{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,i,r,o,s,a){super(t,i,r,o,s,a,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new oJ(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new oJ(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(qc),Ce(Ri),As("tabindex"),Ce(Bje),Ce(xr,8))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&xi(Nje,5),2&i){let o;hn(o=fn())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(i,r){2&i&&(cs("id",r.id),Vn("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),tn("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[zn([Uje]),dn],ngContentSelectors:Lje,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons",4,"ngIf"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i&&(Wi(),$e(0,"div",0)(1,"button",1,2),Mt("click",function(){return r._handleClick()}),on(3,"div",3),$e(4,"div",4)(5,"div",5)(6,"div",6),on(7,"div",7),Qe(),$e(8,"div",8),on(9,"div",9),Qe(),Yt(10,Fje,5,0,"div",10),Qe()()(),$e(11,"label",11),Mt("click",function(s){return s.stopPropagation()}),bn(12),Qe()()),2&i){const o=Jr(2);tn("mdc-form-field--align-end","before"==r.labelPosition),ot(1),tn("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),ct("tabIndex",r.tabIndex)("disabled",r.disabled),Vn("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),ot(8),ct("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),ot(1),ct("ngIf",!r.hideIcon),ot(1),ct("for",r.buttonId),Vn("id",r._labelId)}},dependencies:[hc,Dr],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width);--mdc-switch-disabled-handle-opacity:0.38;--mdc-switch-disabled-selected-icon-opacity:0.38;--mdc-switch-disabled-track-opacity:0.12;--mdc-switch-disabled-unselected-icon-opacity:0.38;--mdc-switch-handle-height:20px;--mdc-switch-handle-shape:10px;--mdc-switch-handle-width:20px;--mdc-switch-selected-icon-size:18px;--mdc-switch-track-height:14px;--mdc-switch-track-shape:7px;--mdc-switch-track-width:36px;--mdc-switch-unselected-icon-size:18px;--mdc-switch-state-layer-size:40px;--mdc-switch-selected-focus-state-layer-opacity:0.12;--mdc-switch-selected-hover-state-layer-opacity:0.04;--mdc-switch-selected-pressed-state-layer-opacity:0.1;--mdc-switch-unselected-focus-state-layer-opacity:0.12;--mdc-switch-unselected-hover-state-layer-opacity:0.04;--mdc-switch-unselected-pressed-state-layer-opacity:0.1}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return n})(),aJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({})}return n})(),Wje=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[aJ,Ti,La,Hn,aJ,Ti]})}return n})(),$je=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-labeled-slide-toggle",this.labels=["Left","Right"],this.value="Left",this.disabled=!1,this.valueChange=new jt}get left(){const{value:t,labels:i}=this;return t!==i[1]}updateToggle(t){this.value=t?this.labels[0]:this.labels[1],this.ga.event("slide_toggle_toggled","slide_toggle",this.value),this.valueChange.emit(this.value)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Us))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-labeled-slide-toggle"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{labels:"labels",value:"value",disabled:"disabled"},outputs:{valueChange:"valueChange"},decls:6,vars:12,consts:[[1,"slide-label",3,"click"],["hideIcon","",1,"slider",3,"disabled","checked","change"],["toggle",""]],template:function(i,r){if(1&i){const o=$r();$e(0,"span",0),Mt("click",function(){oi(o);const a=Jr(3);return r.left||a.toggle(),Xn(r.updateToggle(!0))}),kt(1),Qe(),$e(2,"mat-slide-toggle",1,2),Mt("change",function(a){return r.updateToggle(!a.checked)}),Qe(),$e(4,"span",0),Mt("click",function(){oi(o);const a=Jr(3);return r.left&&a.toggle(),Xn(r.updateToggle(!1))}),kt(5),Qe()}2&i&&(tn("disabled",r.disabled)("highlighted",r.left),ot(1),Tr(r.labels[0]),ot(1),ct("disabled",r.disabled)("checked",!r.left),ot(2),tn("disabled",r.disabled)("highlighted",!r.left),ot(1),Tr(r.labels[1]))},dependencies:[sJ],styles:["[_nghost-%COMP%]   .slide-label[_ngcontent-%COMP%]{margin:0 1rem;transition:color .6s;cursor:pointer}[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:30%;cursor:not-allowed}"],changeDetection:0})}return n})();const Yje=["label"],Xje=["options"],Kje=function(){return["Register","3D\xa0Preview"]};let qje=(()=>{class n{set useDropdownMenu(t){this.isDropdownActive=t,this.isDropdownHidden=!0}get labelEl(){return this.labelRef.nativeElement}get optionsEl(){return this.optionsRef.nativeElement}constructor(t){this.ga=t,this.clsName="ccf-stage-nav",this.side="anterior",this.view3D=!1,this.sideChange=new jt,this.view3DChange=new jt,this.isDropdownActive=!1,this.isDropdownHidden=!0}handleClick(t){const{isDropdownHidden:i,labelEl:r,optionsEl:o}=this;r.contains(t)?this.isDropdownHidden=!i:o.contains(t)||(this.isDropdownHidden=!0)}updateSide(t){this.ga.event("side_update","stage_nav",t),"3D"===t?this.updateView(!0):(this.updateView(!1),this.side=t,this.sideChange.emit(this.side))}updateView(t){this.view3D=t,this.ga.event("view_update","stage_nav",t?"3D":"Register"),this.view3DChange.emit(this.view3D)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Us))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-stage-nav"]],viewQuery:function(i,r){if(1&i&&(xi(Yje,7),xi(Xje,7)),2&i){let o;hn(o=fn())&&(r.labelRef=o.first),hn(o=fn())&&(r.optionsRef=o.first)}},hostVars:2,hostBindings:function(i,r){1&i&&Mt("click",function(s){return r.handleClick(s.target)},0,ug),2&i&&Mi(r.clsName)},inputs:{useDropdownMenu:"useDropdownMenu",side:"side",view3D:"view3D"},outputs:{sideChange:"sideChange",view3DChange:"view3DChange"},decls:18,vars:10,consts:[[1,"dropdown-label"],["label",""],[1,"stage-options"],["options",""],[1,"input-group",3,"value","change"],["value","left",1,"nav-input"],["value","right",1,"nav-input"],["value","anterior","checked","",1,"nav-input"],["value","posterior",1,"nav-input"],["matTooltip","Change view.",1,"view-slider",3,"labels","value","valueChange"]],template:function(i,r){1&i&&($e(0,"div",0,1)(2,"mat-label"),kt(3,"Options"),Qe(),$e(4,"mat-icon"),kt(5,"arrow_drop_down"),Qe()(),$e(6,"div",2,3)(8,"mat-radio-group",4),Mt("change",function(s){return r.updateSide(s.value)}),$e(9,"mat-radio-button",5),kt(10,"Left"),Qe(),$e(11,"mat-radio-button",6),kt(12,"Right"),Qe(),$e(13,"mat-radio-button",7),kt(14,"Anterior"),Qe(),$e(15,"mat-radio-button",8),kt(16,"Posterior"),Qe()(),$e(17,"ccf-labeled-slide-toggle",9),Mt("valueChange",function(s){return r.updateView("Register"!==s)}),Qe()()),2&i&&(tn("dropdown",r.isDropdownActive),ot(6),tn("dropdowncontainer",r.isDropdownActive)("hidden",r.isDropdownActive&&r.isDropdownHidden),ot(2),ct("value",r.side),ot(9),ct("labels",rD(9,Kje))("value",r.view3D?"3D\xa0Preview":"Register"))},dependencies:[UL,jL,hh,Yo,$je,yc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}[_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]{display:none;align-items:center}[_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:1.5rem}[_nghost-%COMP%]   .dropdown-label.dropdown[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:start}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]{margin-right:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]     .mdc-label{font-size:1.25rem}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]{white-space:nowrap;display:flex}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]     .slider{display:flex}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]     .slide-label{font-size:1.25rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:.25rem;position:absolute;top:3.5rem;z-index:11;transition:opacity .25s}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-top:.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{margin-bottom:.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-left:.875rem;margin-right:0;display:flex;flex-wrap:wrap}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]{display:flex;margin:0;margin-right:.875rem;height:2.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]     .mdc-label{padding-left:0}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;margin:0 .5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{visibility:visible;border-top:2px solid}[_nghost-%COMP%]   .stage-options.hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:visibility .25s,opacity .25s}[_nghost-%COMP%]   .stage-options.hidden[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0})}return n})();function Jje(n,e){if(1&n){const t=$r();$e(0,"ccf-body-ui",17),Mt("rotationChange",function(r){oi(t),Qt();const o=Jr(13);return o.rotation=r[0],Xn(o.rotationX=r[1])}),Bn(1,"async"),Bn(2,"async"),Bn(3,"async"),Qe()}if(2&n){const t=Qt();ct("scene",Jn(1,5,t.scene.nodes$))("rotation",Jn(2,7,t.scene.rotation$))("bounds",Jn(3,9,t.bounds$))("zoom",11.5)("interactive",!0)}}function Zje(n,e){if(1&n){const t=$r();$e(0,"ccf-body-ui",18),Mt("nodeDrag",function(r){return oi(t),Xn(Qt().handleNodeDrag(r))}),Bn(1,"async"),Bn(2,"async"),Qe()}if(2&n){const t=Qt();ct("scene",Jn(1,4,t.scene.rotatedNodes$))("interactive",!1)("bounds",Jn(2,6,t.bounds$))("zoom",11.5)}}function Qje(n,e){if(1&n&&(on(0,"ccf-spatial-search-keyboard-ui-behavior",19),Bn(1,"async")),2&n){const t=Qt();ct("delta",1)("shiftDelta",2)("position",Jn(1,4,t.position$))("disablePositionChange",t.disablePositionChange)}}function eVe(n,e){1&n&&on(0,"ccf-store-debug",20)}function tVe(n,e){if(1&n){const t=$r();$e(0,"div",21)(1,"button",22),Mt("click",function(){oi(t);const r=Qt();return Xn(r.debugMode=!r.debugMode)}),kt(2,"State"),Qe(),$e(3,"button",23),Mt("click",function(){return oi(t),Xn(Qt().registration.setUseRegistrationCallback(!0))}),kt(4,"Use callback"),Qe(),$e(5,"button",23),Mt("click",function(){return oi(t),Xn(Qt().registration.setUseRegistrationCallback(!1))}),kt(6,"Use download"),Qe()()}}let nVe=(()=>{class n{constructor(t,i,r,o,s,a){this.model=t,this.page=i,this.registration=r,this.scene=o,this.rootRef=s,this.cdr=a,this.clsName="ccf-content",this.disablePositionChange=!1,this.position$=this.model.position$.pipe(E(c=>({x:Math.floor(c.x),y:Math.floor(c.y),z:Math.floor(c.z)}))),this.is3DView$=this.model.viewType$.pipe(E(c=>"3d"===c)),this.bounds$=this.model.organDimensions$.pipe(E(c=>({x:Math.max(c.x,this.model.defaultPosition.x+40)/1e3,y:Math.max(c.y,this.model.defaultPosition.y+40)/1e3,z:Math.max(c.z,this.model.defaultPosition.z+40)/1e3})),eJ("x"),eJ("y")),this.isNarrowView=!1,this.debugMode=!1,this.showDebugButtons=!dd.production}ngOnInit(){this.sensor=new pY.ResizeSensor(this.rootRef.nativeElement,({width:t})=>{const i=t<440;this.isNarrowView!==i&&(this.isNarrowView=i,this.cdr.markForCheck())})}ngOnDestroy(){this.sensor.detach()}setViewType(t){this.model.setViewType(t?"3d":"register")}resetStage(){this.registration.snapshot.initialRegistration?this.registration.setToInitialRegistration():this.model.setOrganDefaults(),this.model.setViewSide("anterior"),this.model.setViewType("register")}handleNodeDrag(t){if("#DraftPlacement"===t.node["@id"]&&t.info.coordinate){const[i,r]=t.info.coordinate.map(d=>1e3*d),{position:o,viewSide:s,organDimensions:a}=this.model.snapshot,c=[a.x,a.y,a.z].map(d=>d/2);let l=o;switch(s){case"anterior":l={x:i+c[0],y:r+c[1],z:o.z};break;case"posterior":l={x:-i+c[0],y:r+c[1],z:o.z};break;case"left":l={x:o.x,y:r+c[1],z:-i+c[2]};break;case"right":l={x:o.x,y:r+c[1],z:i+c[2]}}this.model.setPosition(l)}}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(or),Ce(jr),Ce(xo),Ce(sa),Ce(vn),Ce(Ri))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-content"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{disablePositionChange:"disablePositionChange"},decls:31,vars:37,consts:[[1,"top-bar"],[3,"useDropdownMenu","view3D","side","view3DChange","sideChange"],["matRipple","","matRippleColor","rgba(204, 204, 204, 0.25)",1,"icon","reset",3,"matRippleCentered","matRippleUnbounded","click"],[1,"main-content"],["class","body-ui","camera","perspective",3,"scene","rotation","bounds","zoom","interactive","rotationChange",4,"ngIf"],["class","body-ui","camera","orthographic",3,"scene","interactive","bounds","zoom","nodeDrag",4,"ngIf"],[1,"gizmo-area"],[1,"gizmo",3,"scene","rotation","interactive","zoom"],["gizmo",""],[3,"delta","shiftDelta","position","disablePositionChange",4,"ngIf"],[1,"position-display"],[1,"position"],[1,"x"],[1,"y"],[1,"z"],["class","debug",4,"ngIf"],["style","position: absolute; bottom: 1rem; display: flex; flex-direction: row; justify-content: space-between; width: 7rem;",4,"ngIf"],["camera","perspective",1,"body-ui",3,"scene","rotation","bounds","zoom","interactive","rotationChange"],["camera","orthographic",1,"body-ui",3,"scene","interactive","bounds","zoom","nodeDrag"],[3,"delta","shiftDelta","position","disablePositionChange"],[1,"debug"],[2,"position","absolute","bottom","1rem","display","flex","flex-direction","row","justify-content","space-between","width","7rem"],[2,"width","3rem","font-size",".7rem",3,"click"],[3,"click"]],template:function(i,r){if(1&i&&($e(0,"div",0)(1,"ccf-stage-nav",1),Mt("view3DChange",function(s){return r.setViewType(s)})("sideChange",function(s){return r.model.setViewSide(s)}),Bn(2,"async"),Bn(3,"async"),Qe(),$e(4,"mat-icon",2),Mt("click",function(){return r.resetStage()}),kt(5,"refresh"),Qe()(),$e(6,"div",3),Yt(7,Jje,4,11,"ccf-body-ui",4),Bn(8,"async"),Yt(9,Zje,3,8,"ccf-body-ui",5),Bn(10,"async"),$e(11,"div",6),on(12,"ccf-body-ui",7,8),Bn(14,"async"),Bn(15,"async"),Yt(16,Qje,2,6,"ccf-spatial-search-keyboard-ui-behavior",9),Bn(17,"async"),$e(18,"div",10)(19,"div",11)(20,"div",12),kt(21),Bn(22,"async"),Qe(),$e(23,"div",13),kt(24),Bn(25,"async"),Qe(),$e(26,"div",14),kt(27),Bn(28,"async"),Qe()()()()(),Yt(29,eVe,1,0,"ccf-store-debug",15),Yt(30,tVe,7,0,"div",16)),2&i){let o,s,a;ot(1),ct("useDropdownMenu",r.isNarrowView)("view3D",Jn(2,17,r.is3DView$))("side",Jn(3,19,r.model.viewSide$)),ot(3),ct("matRippleCentered",!0)("matRippleUnbounded",!0),ot(3),ct("ngIf","3d"===Jn(8,21,r.model.viewType$)),ot(2),ct("ngIf","register"===Jn(10,23,r.model.viewType$)),ot(3),ct("scene",Jn(14,25,r.scene.gizmo$))("rotation",Jn(15,27,r.scene.rotation$))("interactive",!1)("zoom",9.5),ot(4),ct("ngIf",Jn(17,29,r.page.registrationStarted$)),ot(5),Ir("X: ",null==(o=Jn(22,31,r.position$))?null:o.x,""),ot(3),Ir("Y: ",null==(s=Jn(25,33,r.position$))?null:s.y,""),ot(3),Ir("Z: ",null==(a=Jn(28,35,r.position$))?null:a.z,""),ot(2),ct("ngIf",r.showDebugButtons&&r.debugMode),ot(1),ct("ngIf",r.showDebugButtons)}},dependencies:[Dr,qje,Yo,dBe,hc,qBe,nBe,jl],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;padding:.5rem;overflow:hidden}[_nghost-%COMP%]   .top-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .top-bar[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s;font-size:2rem;height:2rem;width:2rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .minimap-scene[_ngcontent-%COMP%]{margin:1.5rem;width:12.75rem;height:11rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .minimap-scene[_ngcontent-%COMP%]     .body-ui{background-color:#232f3a}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   ccf-spatial-search-keyboard-ui-behavior[_ngcontent-%COMP%]{margin:1.5rem;display:flex;justify-content:center}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   ccf-xyz-position[_ngcontent-%COMP%]{margin:1.5rem;padding-left:5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{display:flex;height:calc(100% - 1rem)}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .body-ui[_ngcontent-%COMP%]{flex:auto;transition:opacity 1s}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]{width:7rem;margin-top:1.5rem;margin-left:1.5rem;z-index:10;right:1.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .position-display[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .gizmo[_ngcontent-%COMP%]{height:5.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .gizmo[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{opacity:0;z-index:0}[_nghost-%COMP%]   .ccf-store-debug[_ngcontent-%COMP%]{color:#fff;position:absolute;top:.5rem;max-width:55rem}"],changeDetection:0})}return n})();const iVe=["trigger"],rVe=["panel"];function oVe(n,e){if(1&n&&($e(0,"span",10),kt(1),Qe()),2&n){const t=Qt();ot(1),Tr(t.placeholder)}}function sVe(n,e){if(1&n&&($e(0,"span",14),kt(1),Qe()),2&n){const t=Qt(2);ot(1),Tr(t.triggerValue)}}function aVe(n,e){1&n&&bn(0,0,["*ngSwitchCase","true"])}function cVe(n,e){1&n&&($e(0,"span",11),Yt(1,sVe,2,1,"span",12),Yt(2,aVe,1,0,"ng-content",13),Qe()),2&n&&(ct("ngSwitch",!!Qt().customTrigger),ot(2),ct("ngSwitchCase",!0))}function lVe(n,e){if(1&n){const t=$r();Nc(),hf(),$e(0,"div",15,16),Mt("@transformPanel.done",function(r){return oi(t),Xn(Qt()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return oi(t),Xn(Qt()._handleKeydown(r))}),bn(2,1),Qe()}if(2&n){const t=Qt();(function G4(n,e,t){$c(qs,Bl,gg(Bt(),n,e,t),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),ct("ngClass",t.panelClass)("@transformPanel","showing"),Vn("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const dVe=[[["mat-select-trigger"]],"*"],uVe=["mat-select-trigger","*"],hVe={transformPanelWrap:uc("transformPanelWrap",[$o("* => void",dO("@transformPanel",[lO()],{optional:!0}))]),transformPanel:uc("transformPanel",[co("void",$i({opacity:0,transform:"scale(1, 0.8)"})),$o("void => showing",Wo("120ms cubic-bezier(0, 0, 0.2, 1)",$i({opacity:1,transform:"scale(1, 1)"}))),$o("* => void",Wo("100ms linear",$i({opacity:0})))])};let cJ=0;const lJ=new yt("mat-select-scroll-strategy"),pVe=new yt("MAT_SELECT_CONFIG"),mVe={provide:lJ,deps:[Ea],useFactory:function fVe(n){return()=>n.scrollStrategies.reposition()}},gVe=new yt("MatSelectTrigger");class _Ve{constructor(e,t){this.source=e,this.value=t}}const bVe=Qf(Jd(Vg(MO(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new j}}))));let yVe=(()=>{class n extends bVe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(kp.required)??!1}set required(t){this._required=gn(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=gn(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=gn(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=wa(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,i,r,o,s,a,c,l,d,h,p,_,w,I){super(s,o,c,l,h),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._parentFormField=d,this._liveAnnouncer=w,this._defaultOptions=I,this._panelOpen=!1,this._compareWith=(L,K)=>L===K,this._uid="mat-select-"+cJ++,this._triggerAriaLabelledBy=null,this._destroy=new j,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+cJ++,this._panelDoneAnimatingStream=new j,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=V_(()=>{const L=this.options;return L?L.changes.pipe(yo(L),Oe(()=>hr(...L.map(K=>K.onSelectionChange)))):this._ngZone.onStable.pipe(Qi(1),Oe(()=>this.optionSelectionChanges))}),this.openedChange=new jt,this._openedStream=this.openedChange.pipe(ui(L=>L),E(()=>{})),this._closedStream=this.openedChange.pipe(ui(L=>!L),E(()=>{})),this.selectionChange=new jt,this.valueChange=new jt,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=I?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=I.typeaheadDebounceInterval),this._scrollStrategyFactory=_,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(p)||0,this.id=this.id}ngOnInit(){this._selectionModel=new aF(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ue(),ai(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(ai(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(yo(null),ai(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const i=`${this.id}-panel`;this._trackedModal&&Ug(this._trackedModal,"aria-owns",i),NE(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(Ug(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!ks(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(t);const c=this.selected;c&&a!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||ks(t))if(!s&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const a=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(a?c.select():c.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(t),this._multiple&&o&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Qi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_skipPredicate(t){return t.disabled}_initKeyManager(){this._keyManager=new fz(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=hr(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ai(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),hr(...this.options.map(i=>i._stateChanges)).pipe(ai(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){t=i;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(eC),Ce(Ri),Ce(un),Ce(jE),Ce(vn),Ce(Kc,8),Ce(Pp,8),Ce(j_,8),Ce(Uv,8),Ce(nl,10),As("tabindex"),Ce(lJ),Ce(SO),Ce(pVe,8))};static#t=this.\u0275dir=Nt({type:n,viewQuery:function(i,r){if(1&i&&(xi(iVe,5),xi(rVe,5),xi(F8,5)),2&i){let o;hn(o=fn())&&(r.trigger=o.first),hn(o=fn())&&(r.panel=o.first),hn(o=fn())&&(r._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[dn,vr]})}return n})(),dJ=(()=>{class n extends yVe{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=t=>!this.panelOpen&&t.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(ai(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const r=this.panel.nativeElement,o=function Rz(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}(t,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===t&&1===o?0:function Pz(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new _Ve(this,t)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof jO?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=gn(t),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=ti(n)))(r||n)}}();static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(1&i&&(ki(o,gVe,5),ki(o,Bv,5),ki(o,IO,5)),2&i){let s;hn(s=fn())&&(r.customTrigger=s.first),hn(s=fn())&&(r.options=s),hn(s=fn())&&(r.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&Mt("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(Vn("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),tn("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[zn([{provide:GE,useExisting:n},{provide:TO,useExisting:n}]),dn],ngContentSelectors:uVe,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(Wi(dVe),$e(0,"div",0,1),Mt("click",function(){return r.toggle()}),$e(3,"div",2),Yt(4,oVe,2,1,"span",3),Yt(5,cVe,3,2,"span",4),Qe(),$e(6,"div",5)(7,"div",6),Nc(),$e(8,"svg",7),on(9,"path",8),Qe()()()(),Yt(10,lVe,3,9,"ng-template",9),Mt("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const o=Jr(1);ot(3),ct("ngSwitch",r.empty),Vn("id",r._valueId),ot(1),ct("ngSwitchCase",!0),ot(1),ct("ngSwitchCase",!1),ot(5),ct("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[CE,Rg,SE,gV,F8,jO],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[hVe.transformPanel]},changeDetection:0})}return n})(),VL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:[mVe],imports:[Hn,Zg,VE,Ti,Xv,Zd,VE,Ti]})}return n})();function vVe(n,e){if(1&n&&($e(0,"mat-option",5),kt(1),Qe()),2&n){const t=e.$implicit;ct("value",t),ot(1),J1(" ",t.name," (",t.sites.length,") ")}}function wVe(n,e){if(1&n){const t=$r();$e(0,"mat-form-field",1)(1,"mat-label",2),kt(2,"Landmark Set"),Qe(),$e(3,"mat-select",3),Mt("selectionChange",function(r){return oi(t),Xn(Qt().extractionSetChanged(r.value))}),Yt(4,vVe,2,3,"mat-option",4),Qe()()}if(2&n){const t=Qt();ot(3),ct("value",t.sets[0]),ot(1),ct("ngForOf",t.sets)}}let xVe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-extraction-set-dropdown",this.setChange=new jt}extractionSetChanged(t){this.selected=t,this.ga.event("selected_extraction_set_change","extraction_set_dropdown",t.name),this.setChange.emit(t)}isMultiple(){return this.sets.length>1}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Us))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-extraction-set-dropdown"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{sets:"sets"},outputs:{setChange:"setChange"},decls:1,vars:1,consts:[["class","dropdown-form-field","appearance","fill",4,"ngIf"],["appearance","fill",1,"dropdown-form-field"],[1,"extraction-dropdown-label"],["disableOptionCentering","true","panelClass","extraction-set-panel",3,"value","selectionChange"],["class","extraction-set-options",3,"value",4,"ngFor","ngForOf"],[1,"extraction-set-options",3,"value"]],template:function(i,r){1&i&&Yt(0,wVe,5,2,"mat-form-field",0),2&i&&ct("ngIf",r.isMultiple())},dependencies:[va,Dr,fh,hh,dJ,Bv],styles:[".extraction-set-panel{position:absolute!important;box-shadow:0 0 .3rem .1rem #9e9e9e!important;top:-3.5rem}  .extraction-set-panel .extraction-set-options{height:2.5rem;min-height:inherit}[_nghost-%COMP%]     .mat-mdc-form-field{width:10.5rem}[_nghost-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{padding:0}  .cdk-overlay-pane{min-width:0rem!important}"],changeDetection:0})}return n})();function EVe(n,e){if(1&n){const t=$r();$e(0,"mat-icon",2),Mt("click",function(){return oi(t),Xn(Qt().setAllOpacity(20))}),kt(1,"refresh"),Qe()}2&n&&ct("matRippleCentered",!0)("matRippleUnbounded",!0)}function CVe(n,e){if(1&n){const t=$r();$e(0,"div",3),Mt("mouseenter",function(){const o=oi(t).$implicit;return Xn(Qt().mouseOver(o))})("mouseleave",function(){return oi(t),Xn(Qt().mouseOut())}),on(1,"mat-icon",4),$e(2,"div",5),kt(3),Qe(),$e(4,"div",6)(5,"ccf-opacity-slider",7,8),Mt("opacityChange",function(r){return oi(t),Xn(Qt().updateOpacity(r))})("opacityReset",function(){return oi(t),Xn(Qt().resetItem())})("visibilityToggle",function(){const o=oi(t).$implicit;return Xn(Qt().toggleVisibility(o))}),Qe()()()}if(2&n){const t=e.$implicit,i=Qt();tn("selected",!!i.selection&&i.getId(0,i.selection)===i.getId(0,t)),ot(1),tn("fade",!t.visible),ot(1),tn("hidden",t.id===(null==i.selection?null:i.selection.id)),av("title",t.name),ot(1),Tr(t.name),ot(1),tn("hidden",t.id!==(null==i.selection?null:i.selection.id)),ot(1),ct("visible",t.visible)("opacity",i.selection?null==i.selection?null:i.selection.opacity:20)}}let SVe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-visibility-menu",this.hover=new jt,this.itemsChange=new jt}toggleVisibility(t){t={...t,visible:!t.visible},this.selection&&t.id===this.selection.id&&(this.selection={...this.selection,visible:t.visible}),this.ga.event("visibility_toggled","visibility_menu",""+t.id,+t.visible),this.updateOpacity(t.opacity)}mouseOver(t){this.selection=t===this.selection?void 0:t,this.hover.emit(t)}mouseOut(){this.selection=void 0,this.hover.emit(void 0)}updateOpacity(t){if(!this.selection)return;const i={...this.selection,opacity:t};this.selection=i,"all"===i.id?this.setAllOpacity(i.opacity):(this.items=this.items.map(r=>r.id===i.id?i:r),this.ga.event("opacity_update","visibility_menu",""+i.id,i.opacity)),this.itemsChange.emit(this.items)}resetItem(){if(this.selection){const t={...this.selection,opacity:20,visible:!0};this.selection=t,"all"===this.selection.id?this.setAllOpacity(t.opacity):(this.items=this.items.map(i=>i.id===t.id?t:i),this.ga.event("item_reset","visibility_menu",""+t.id)),this.itemsChange.emit(this.items)}}setAllOpacity(t){this.items=this.items.map(i=>({...i,opacity:t,visible:!0})),this.ga.event("all_items_opacity_update","visibility_menu",void 0,t),this.itemsChange.emit(this.items)}getId(t,i){return i.id}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Us))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-visibility-menu"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{items:"items",selection:"selection"},outputs:{hover:"hover",itemsChange:"itemsChange"},decls:2,vars:3,consts:[["class","icon reset","matRipple","",3,"matRippleCentered","matRippleUnbounded","click",4,"ngIf"],["class","item-entry",3,"selected","mouseenter","mouseleave",4,"ngFor","ngForOf","ngForTrackBy"],["matRipple","",1,"icon","reset",3,"matRippleCentered","matRippleUnbounded","click"],[1,"item-entry",3,"mouseenter","mouseleave"],["svgIcon","app:opacity",1,"opacity-icon"],[1,"item-name",3,"title"],[1,"slider"],[3,"visible","opacity","opacityChange","opacityReset","visibilityToggle"],["slider",""]],template:function(i,r){1&i&&(Yt(0,EVe,2,2,"mat-icon",0),Yt(1,CVe,7,12,"div",1)),2&i&&(ct("ngIf",r.items.length),ot(1),ct("ngForOf",r.items)("ngForTrackBy",r.getId))},dependencies:[va,Dr,Yo,hc,EBe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;margin-right:0;margin-left:0;max-height:40vh;overflow-y:auto;scrollbar-width:thin}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{border-radius:.25rem}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s;position:absolute;top:3rem}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]{display:flex;height:2.25rem;align-items:center;flex-shrink:0;position:relative}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity-icon[_ngcontent-%COMP%]{z-index:1;transition:.6s}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity-icon[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-left:.5rem;opacity:1;transition-duration:.4s;transition-timing-function:ease-in-out;transition-property:opacity;max-width:calc(100% - 2.5rem)}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .item-name.hidden[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:calc(100% - 2rem);transition-duration:.3s;transition-timing-function:ease-in-out;transition-property:opacity;left:2rem;position:absolute;opacity:1}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .slider.hidden[_ngcontent-%COMP%]{opacity:0;transition-duration:.1s;transition-timing-function:ease-in-out;transition-property:opacity}"],changeDetection:0})}return n})();function AVe(n,e){if(1&n){const t=$r();$e(0,"div",5)(1,"ccf-extraction-set-dropdown",11,12),Mt("setChange",function(r){return oi(t),Xn(Qt().model.setExtractionSites(r.sites))}),Bn(3,"async"),Qe(),$e(4,"ccf-visibility-menu",13),Mt("itemsChange",function(r){return oi(t),Xn(Qt().model.setExtractionSites(r))})("hover",function(r){return oi(t),Xn(Qt().updateExtractionSiteTooltip(r))}),Bn(5,"async"),Qe()()}if(2&n){const t=Qt();ot(1),ct("sets",Jn(3,2,t.model.extractionSets$)),ot(3),ct("items",Jn(5,4,t.model.extractionSites$))}}function MVe(n,e){if(1&n&&($e(0,"div",14),kt(1),Qe()),2&n){const t=Qt();ot(1),Ir(" ",t.extractionSiteTooltip," ")}}let TVe=(()=>{class n{constructor(t,i,r){this.page=t,this.model=i,this.registration=r,this.clsName="ccf-left-sidebar",this.modalClosed=!1,this.organSelected$=this.model.organ$.pipe(E(o=>void 0!==o)),this.extractionSiteTooltip=""}updateExtractionSiteTooltip(t){this.extractionSiteTooltip=t?.tooltip?t.tooltip:""}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(jr),Ce(or),Ce(xo))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-left-sidebar"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{modalClosed:"modalClosed"},decls:19,vars:13,consts:[[1,"scroll-wrapper"],[1,"container"],[1,"anatomical-structures-menu",3,"expanded"],[1,"expansion-header"],["matTooltip","Use opacity icons to change visibility of anatomical structures",1,"expansion-title"],[1,"expansion-content"],[3,"items","itemsChange"],[1,"extraction-menu",3,"expanded"],["matTooltip","Some organs have predefined landmarks to guide manual tissue registration--you can turn these on/off.",1,"expansion-title"],["class","expansion-content",4,"ngIf"],["class","extraction-site-tooltip mat-elevation-z8",4,"ngIf"],[3,"sets","setChange"],["dropdown",""],[3,"items","itemsChange","hover"],[1,"extraction-site-tooltip","mat-elevation-z8"]],template:function(i,r){1&i&&($e(0,"div",0)(1,"div",1)(2,"mat-expansion-panel",2),Bn(3,"async"),$e(4,"mat-expansion-panel-header",3)(5,"mat-panel-title",4),kt(6,"Anatomical Structures"),Qe()(),$e(7,"div",5)(8,"ccf-visibility-menu",6),Mt("itemsChange",function(s){return r.model.setAnatomicalStructures(s)}),Bn(9,"async"),Qe()()(),on(10,"mat-divider"),$e(11,"mat-expansion-panel",7),Bn(12,"async"),$e(13,"mat-expansion-panel-header",3)(14,"mat-panel-title",8),kt(15,"Landmarks"),Qe()(),Yt(16,AVe,6,6,"div",9),Bn(17,"async"),Qe(),Yt(18,MVe,2,1,"div",10),Qe()()),2&i&&(ot(2),ct("expanded",Jn(3,5,r.organSelected$)),ot(6),ct("items",Jn(9,7,r.model.anatomicalStructures$)),ot(3),ct("expanded",Jn(12,9,r.organSelected$)),ot(5),ct("ngIf",Jn(17,11,r.organSelected$)),ot(2),ct("ngIf",r.extractionSiteTooltip.length>0))},dependencies:[Dr,oA,lF,FY,yc,VK,xVe,SVe,jl],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 2.5rem);margin-top:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]{overflow-y:scroll;height:100%;margin-right:.375rem;scrollbar-width:thin}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:1.5rem;margin-right:.375rem;min-height:100%}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-top-width:3px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .ccf-organ-selector[_ngcontent-%COMP%]{margin-top:1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]{display:flex;height:3rem;align-items:center}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]   .slider-label[_ngcontent-%COMP%]{font-weight:600}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .expansion-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]     .expansion-header, [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]     .expansion-header{-webkit-user-select:none;-moz-user-select:none;padding:0;font-weight:700;height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]     .expansion-header .mat-expansion-indicator, [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]     .expansion-header .mat-expansion-indicator{display:flex;align-items:center;justify-content:center;height:24px;width:24px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]{margin-bottom:.75rem;text-align:center;margin-top:1.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]   .expansion-placeholder[_ngcontent-%COMP%], [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]   .expansion-placeholder[_ngcontent-%COMP%]{width:100%;font-size:.9rem;font-weight:400}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-site-tooltip[_ngcontent-%COMP%]{position:absolute;top:4rem;left:27rem;width:21rem;padding:1rem;border-radius:.5rem;border:1px solid;z-index:2}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();const uJ={x:10,y:10,z:10};let IVe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-block-size-input",this.blockSize=uJ,this.blockSizeChange=new jt}updateBlockSizes(t,i){this.blockSize={...this.blockSize,[i]:+t.target.value},this.ga.event("block_size_change","block_size_input",i,this.blockSize[i]),this.blockSizeChange.emit(this.blockSize)}refreshBlockSize(){this.blockSize=uJ,this.ga.event("block_size_reset","block_size_input"),this.blockSizeChange.emit(this.blockSize)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Us))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-block-size-input"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{blockSize:"blockSize"},outputs:{blockSizeChange:"blockSizeChange"},decls:19,vars:5,consts:[["matTooltip","Set the tissue block width, height and depth (dimensions)",1,"header"],[1,"text","title"],[1,"filler"],["matRipple","",1,"icon","refresh",3,"matRippleCentered","matRippleUnbounded","click"],[1,"size-inputs"],[1,"field"],[1,"text","form-input-label"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block width.",1,"input",3,"value","keyup"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block height.",1,"input",3,"value","keyup"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block depth.",1,"input",3,"value","keyup"]],template:function(i,r){1&i&&($e(0,"div",0)(1,"span",1),kt(2,"Tissue Block Dimensions (mm)"),Qe(),on(3,"div",2),$e(4,"mat-icon",3),Mt("click",function(){return r.refreshBlockSize()}),kt(5,"refresh"),Qe()(),$e(6,"div",4)(7,"mat-form-field",5)(8,"mat-label",6),kt(9,"Width (X)"),Qe(),$e(10,"input",7),Mt("keyup",function(s){return r.updateBlockSizes(s,"x")}),Qe()(),$e(11,"mat-form-field",5)(12,"mat-label",6),kt(13,"Height (Y)"),Qe(),$e(14,"input",8),Mt("keyup",function(s){return r.updateBlockSizes(s,"y")}),Qe()(),$e(15,"mat-form-field",5)(16,"mat-label",6),kt(17,"Depth (Z)"),Qe(),$e(18,"input",9),Mt("keyup",function(s){return r.updateBlockSizes(s,"z")}),Qe()()()),2&i&&(ot(4),ct("matRippleCentered",!0)("matRippleUnbounded",!0),ot(6),ct("value",r.blockSize.x),ot(4),ct("value",r.blockSize.y),ot(4),ct("value",r.blockSize.z))},dependencies:[Fp,fh,hh,Yo,hc,yc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:20rem;margin:0 auto}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:4.5rem}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-infix{padding-bottom:0;min-height:inherit}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-icon-suffix{padding:1rem 0 0px .25rem}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();function DVe(n,e){if(1&n&&($e(0,"div",11)(1,"div",12),kt(2),Qe(),$e(3,"div",13),kt(4),Qe()()),2&n){const t=e.$implicit;ot(2),Tr(t.label),ot(2),Tr(t.value)}}let OVe=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.clsName="ccf-review-modal",this.metaData=i.metaData,this.registrationCallbackSet=i.registrationCallbackSet}close(){document.getElementsByClassName("modal-animated")[0]?.classList.add("modal-animate-fade-out"),setTimeout(()=>{this.dialogRef.close()},250)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(lw),Ce(rF))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-review-modal"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},decls:14,vars:2,consts:[[1,"ccf-about","wrapper"],[1,"container"],[1,"close"],[1,"material-icons","close-icon",3,"click"],[1,"content"],["mat-dialog-title","",1,"title"],[1,"mat-typography"],[1,"display-fields"],["class","field",4,"ngFor","ngForOf"],[1,"footer"],["mat-button","",1,"download-button",3,"click"],[1,"field"],[1,"label"],[1,"data"]],template:function(i,r){1&i&&($e(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),Mt("click",function(){return r.close()}),kt(4,"clear"),Qe()(),$e(5,"div",4)(6,"h2",5),kt(7,"Registration Review"),Qe(),$e(8,"mat-dialog-content",6)(9,"div",7),Yt(10,DVe,5,2,"div",8),Qe()(),$e(11,"div",9)(12,"button",10),Mt("click",function(){return r.dialogRef.close(!0)}),kt(13),Qe()()()()()),2&i&&(ot(10),ct("ngForOf",r.metaData),ot(3),Tr(r.registrationCallbackSet?"REGISTER":"DOWNLOAD REGISTRATION DATA"))},dependencies:[va,oF,sF,Yo,Yg],styles:["[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{float:right;margin-top:1rem;margin-right:1rem;cursor:pointer}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:2rem;background-color:#fff}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;margin-bottom:0;font-weight:500}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]{justify-content:space-around;display:flex;font-weight:500;font-size:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem;width:100%}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{width:50%;text-align:left;padding-left:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding-top:1.5rem;display:flex;justify-content:space-around}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{padding:0 1rem;transition:.6s}"],changeDetection:0})}return n})(),kVe=(()=>{class n{constructor(t,i,r){this.dialog=t,this.ga=i,this.page=r,this.clsName="ccf-review-button",this.registrationCallbackSet=!0,this.metaData=[],this.displayErrors=!0,this.userValid=!1,this.registerData=new jt,this.enterErrorMode=new jt,this.registrationIsValid=!1}ngOnChanges(){const t=this.metaDataLookup("Reference Organ Name"),i=this.metaDataLookup("Tissue Block Dimensions (mm)"),r=this.metaDataLookup("Tissue Block Position (mm)"),o=this.metaDataLookup("Anatomical Structure Tags");this.registrationIsValid=this.userValid&&[t,i,r,o].every(s=>""!==s)}get disabled(){return!this.registrationIsValid}metaDataLookup(t){return this.metaData.find(i=>i.label===t)?.value}registerButtonClick(t){return t&&t.preventDefault(),this.enterErrorMode.emit(),this.registrationIsValid&&(this.ga.event("review_start","review_button"),this.launchReviewModal()),!1}launchReviewModal(){this.page.patchState({registrationStarted:!1}),this.dialog.open(OVe,{panelClass:"modal-animated",width:"60rem",data:{registrationCallbackSet:this.registrationCallbackSet,metaData:this.metaData}}).afterClosed().subscribe(i=>{this.page.registrationStarted(),i&&(this.ga.event("register","review_button"),this.registerData.emit())})}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(z_),Ce(Us),Ce(jr))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-review-button"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{registrationCallbackSet:"registrationCallbackSet",metaData:"metaData",displayErrors:"displayErrors",userValid:"userValid"},outputs:{registerData:"registerData",enterErrorMode:"enterErrorMode"},features:[vr],decls:2,vars:4,consts:[["mat-button","",1,"review-button",3,"matTooltip","click"]],template:function(i,r){1&i&&($e(0,"button",0),Mt("click",function(s){return r.registerButtonClick(s)}),kt(1),Qe()),2&i&&(tn("disabled",r.disabled),ct("matTooltip",r.disabled?"Required: Enter valid user info, select an organ and position tissue block inside organ.":"Review registration and submit/download."),ot(1),Ir(" ",r.registrationCallbackSet?"Review and Register":"Review and Download","\n"))},dependencies:[Yg,yc],styles:[".review-button[_ngcontent-%COMP%]{width:100%;height:2.25rem;transition:.6s;font-weight:500}.review-button.disabled[_ngcontent-%COMP%]{cursor:not-allowed}"],changeDetection:0})}return n})();const RVe={x:0,y:0,z:0};let PVe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-rotation-slider",this.rotation=RVe,this.rotationChange=new jt}changeRotation(t,i){const r=+t>180?180:+t<-180?-180:+t;this.rotation={...this.rotation,[i]:+r},this.ga.event("rotation_update","rotation_slider",i,+r),this.rotationChange.emit(this.rotation)}resetRotation(t){this.rotation={...this.rotation,[t]:0},this.ga.event("rotation_reset","rotation_slider"),this.rotationChange.emit(this.rotation)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Us))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-rotation-slider"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{rotation:"rotation"},outputs:{rotationChange:"rotationChange"},decls:28,vars:29,consts:[[1,"header"],["matTooltip","Use sliders below to rotate tissue block for registration",1,"text","title"],[1,"filler"],[1,"refresh-button-container"],["matRipple","",1,"icon","reset",3,"matRippleCentered","matRippleUnbounded","click"],[1,"slider-box","red"],[1,"text","label"],[1,"slider-container"],[1,"slider",3,"max","min","step","thumbLabel","tickInterval","value","input"],["matInput","","type","number",1,"input",3,"value","min","max","change"],[1,"slider-box","green"],[1,"slider-box","blue"]],template:function(i,r){1&i&&($e(0,"div",0)(1,"span",1),kt(2,"Tissue Block Rotation"),Qe(),on(3,"div",2),$e(4,"div",3)(5,"mat-icon",4),Mt("click",function(){return r.resetRotation("x"),r.resetRotation("y"),r.resetRotation("z")}),kt(6,"refresh"),Qe()()(),$e(7,"div",5)(8,"span",6),kt(9,"X"),Qe(),$e(10,"div",7)(11,"mat-slider",8),Mt("input",function(s){return r.changeRotation(s.value,"x")}),Qe()(),$e(12,"mat-form-field")(13,"input",9),Mt("change",function(s){return r.changeRotation(s.target.value,"x")}),Qe()()(),$e(14,"div",10)(15,"span",6),kt(16,"Y"),Qe(),$e(17,"div",7)(18,"mat-slider",8),Mt("input",function(s){return r.changeRotation(s.value,"y")}),Qe()(),$e(19,"mat-form-field")(20,"input",9),Mt("change",function(s){return r.changeRotation(s.target.value,"y")}),Qe()()(),$e(21,"div",11)(22,"span",6),kt(23,"Z"),Qe(),$e(24,"div",7)(25,"mat-slider",8),Mt("input",function(s){return r.changeRotation(s.value,"z")}),Qe()(),$e(26,"mat-form-field")(27,"input",9),Mt("change",function(s){return r.changeRotation(s.target.value,"z")}),Qe()()()),2&i&&(ot(5),ct("matRippleCentered",!0)("matRippleUnbounded",!0),ot(6),ct("max",180)("min",-180)("step",1)("thumbLabel",!0)("tickInterval",180)("value",r.rotation.x),ot(2),ct("value",r.rotation.x)("min",-180)("max",180),ot(5),ct("max",180)("min",-180)("step",1)("thumbLabel",!0)("tickInterval",180)("value",r.rotation.y),ot(2),ct("value",r.rotation.y)("min",-180)("max",180),ot(5),ct("max",180)("min",-180)("step",1)("thumbLabel",!0)("tickInterval",180)("value",r.rotation.z),ot(2),ct("value",r.rotation.z)("min",-180)("max",180))},dependencies:[Yo,QN,hc,yc,Fp,fh],styles:["[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;padding:.5rem 0}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .refresh-button-container[_ngcontent-%COMP%]{display:flex;height:1rem;justify-content:flex-end}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:4rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{height:100%;width:5rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]{width:100%;padding-left:.5rem;padding-right:1.5rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:not(.cdk-focused)     .mat-slider-thumb{width:1.25rem;height:1.25rem;transform:none}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]     .mat-slider-horizontal .mat-slider-wrapper{right:.625rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]     .mat-slider-horizontal .mat-slider-wrapper:after{margin-top:-.25rem;height:.625rem!important}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]     .mat-slider-horizontal .mat-slider-thumb-label-text{font-size:12px}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]     .mat-slider-horizontal .mat-slider-ticks-container{margin-top:-.25rem;height:.625rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]     .mat-slider-horizontal .mat-slider-ticks-container .mat-slider-ticks{height:.625rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();const hJ={thickness:NaN,numSlices:NaN};let NVe=(()=>{class n{get hasThicknessValue(){return!isNaN(this.slicesConfig.thickness)}constructor(t){this.ga=t,this.clsName="ccf-slices-input",this.slicesConfig=hJ,this.slicesConfigChange=new jt}updateSlicesData(t,i){const{value:r}=t.target;this.slicesConfig={...this.slicesConfig,[i]:""!==r?+r:NaN},this.ga.event("slice_config_update","slice_input",i,this.slicesConfig[i]),this.slicesConfigChange.emit(this.slicesConfig)}refreshSlices(){this.slicesConfig=hJ,this.ga.event("slice_config_reset","slice_input"),this.slicesConfigChange.emit(this.slicesConfig)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Us))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-slices-input"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{slicesConfig:"slicesConfig"},outputs:{slicesConfigChange:"slicesConfigChange"},decls:17,vars:6,consts:[[1,"header"],["matTooltip","Add thickness of tissue sections and the total number of sections",1,"text","title"],[1,"filler"],["matRipple","",1,"icon","refresh",3,"matRippleCentered","matRippleUnbounded","click"],[1,"slices-inputs"],[1,"field"],[1,"text","form-input-label"],["matInput","","ccfNumbersOnly","","type","number","matTooltip","Enter thickness of tissue sections",1,"input",3,"value","keyup"],["matSuffix","",1,"suffix"],["matInput","","ccfNumbersOnly","","type","number","matTooltip","Enter total number of sections",1,"input",3,"value","keyup"]],template:function(i,r){1&i&&($e(0,"div",0)(1,"span",1),kt(2,"Tissue Sections"),Qe(),on(3,"div",2),$e(4,"mat-icon",3),Mt("click",function(){return r.refreshSlices()}),kt(5," refresh "),Qe()(),$e(6,"div",4)(7,"mat-form-field",5)(8,"mat-label",6),kt(9,"Thickness"),Qe(),$e(10,"input",7),Mt("keyup",function(s){return r.updateSlicesData(s,"thickness")}),Qe(),$e(11,"div",8),kt(12,"\u03bcm"),Qe()(),$e(13,"mat-form-field",5)(14,"mat-label",6),kt(15,"# Sections"),Qe(),$e(16,"input",9),Mt("keyup",function(s){return r.updateSlicesData(s,"numSlices")}),Qe()()()),2&i&&(ot(4),ct("matRippleCentered",!0)("matRippleUnbounded",!0),ot(6),ct("value",r.slicesConfig.thickness),ot(1),tn("show",r.hasThicknessValue),ot(5),ct("value",r.slicesConfig.numSlices))},dependencies:[Fp,fh,hh,kO,Yo,hc,yc,kBe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.5rem}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:20rem;margin:0 auto}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:9rem}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field.mat-focused[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%], [_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix.show[_ngcontent-%COMP%]{display:initial}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-infix{padding-bottom:0;min-height:inherit}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-icon-suffix{padding:1.5rem 0 0}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();function FVe(n,e){1&n&&($e(0,"span",7),bn(1,1),Qe())}function LVe(n,e){1&n&&($e(0,"span",8),bn(1,2),Qe())}const fJ=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],pJ=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function BVe(n,e){1&n&&($e(0,"span",8),bn(1,1),$e(2,"span",9),Nc(),$e(3,"svg",10),on(4,"path",11),Qe()()())}function UVe(n,e){1&n&&($e(0,"span",12),bn(1,2),Qe())}const zL=["*"],qA=new yt("mat-chips-default-options"),HL=new yt("MatChipAvatar"),GL=new yt("MatChipTrailingIcon"),WL=new yt("MatChipRemove"),JA=new yt("MatChip");class KVe{}const qVe=Jd(KVe,-1);let ab=(()=>{class n extends qVe{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(t){this._disabled=gn(t)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(t,i){super(),this._elementRef=t,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===t.nativeElement.nodeName&&t.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(t){!this.disabled&&this.isInteractive&&this._isPrimary&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(JA))};static#t=this.\u0275dir=Nt({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(i,r){1&i&&Mt("click",function(s){return r._handleClick(s)})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(Vn("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),tn("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--trailing",!r._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[dn]})}return n})(),_J=(()=>{class n extends ab{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(t){this.disabled||(t.stopPropagation(),t.preventDefault(),this._parentChip.remove())}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!this.disabled&&(t.stopPropagation(),t.preventDefault(),this._parentChip.remove())}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=ti(n)))(r||n)}}();static#t=this.\u0275dir=Nt({type:n,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(i,r){2&i&&Vn("aria-hidden",null)},features:[zn([{provide:WL,useExisting:n}]),dn]})}return n})(),QVe=0;const eze=Jd(zg(Qf(Vg(class{constructor(n){this._elementRef=n}})),"primary"),-1);let qp=(()=>{class n extends eze{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(t){this._value=t}get removable(){return this._removable}set removable(t){this._removable=gn(t)}get highlighted(){return this._highlighted}set highlighted(t){this._highlighted=gn(t)}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}constructor(t,i,r,o,s,a,c,l){super(i),this._changeDetectorRef=t,this._ngZone=r,this._focusMonitor=o,this._globalRippleOptions=c,this._onFocus=new j,this._onBlur=new j,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+QVe++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new jt,this.destroyed=new jt,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=Kt(Bz),this._document=s,this._animationsDisabled="NoopAnimations"===a,null!=l&&(this.tabIndex=parseInt(l)??this.defaultTabIndex),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const t=this._elementRef.nativeElement;this._isBasicChip=t.hasAttribute(this.basicChipAttrName)||t.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=hr(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(t){(8===t.keyCode||46===t.keyCode)&&(t.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(t){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===t||r.contains(t)})}_getActions(){const t=[];return this.primaryAction&&t.push(this.primaryAction),this.removeIcon&&t.push(this.removeIcon),this.trailingIcon&&t.push(this.trailingIcon),t}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const i=null!==t;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(Qi(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Ri),Ce(vn),Ce(un),Ce(qc),Ce(Nn),Ce(xr,8),Ce(ep,8),As("tabindex"))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,r,o){if(1&i&&(ki(o,HL,5),ki(o,GL,5),ki(o,WL,5),ki(o,HL,5),ki(o,GL,5),ki(o,WL,5)),2&i){let s;hn(s=fn())&&(r.leadingIcon=s.first),hn(s=fn())&&(r.trailingIcon=s.first),hn(s=fn())&&(r.removeIcon=s.first),hn(s=fn())&&(r._allLeadingIcons=s),hn(s=fn())&&(r._allTrailingIcons=s),hn(s=fn())&&(r._allRemoveIcons=s)}},viewQuery:function(i,r){if(1&i&&xi(ab,5),2&i){let o;hn(o=fn())&&(r.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(i,r){1&i&&Mt("keydown",function(s){return r._handleKeydown(s)}),2&i&&(cs("id",r.id),Vn("role",r.role)("tabindex",r.role?r.tabIndex:null)("aria-label",r.ariaLabel),tn("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[zn([{provide:JA,useExisting:n}]),dn],ngContentSelectors:pJ,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(Wi(fJ),on(0,"span",0),$e(1,"span",1)(2,"span",2),Yt(3,FVe,2,0,"span",3),$e(4,"span",4),bn(5),on(6,"span",5),Qe()()(),Yt(7,LVe,2,0,"span",6)),2&i&&(ot(2),ct("isInteractive",!1),ot(1),ct("ngIf",r.leadingIcon),ot(4),ct("ngIf",r._hasTrailingIcon()))},dependencies:[Dr,ab],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),bJ=(()=>{class n extends qp{constructor(){super(...arguments),this._defaultOptions=Kt(qA,{optional:!0}),this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new jt}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=gn(t),this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(t){this._setSelectedState(gn(t),!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(t=!1){return this._setSelectedState(!this.selected,t,!0),this.selected}_handlePrimaryActionInteraction(){this.disabled||(this.focus(),this.selectable&&this.toggleSelected(!0))}_hasLeadingGraphic(){return!!this.leadingIcon||!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(t,i,r){t!==this.selected&&(this._selected=t,r&&this.selectionChange.emit({source:this,isUserInput:i,selected:this.selected}),this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=ti(n)))(r||n)}}();static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(i,r){2&i&&(cs("id",r.id),Vn("tabindex",null)("aria-label",null)("aria-description",null)("role",r.role),tn("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--filter",!r._isBasicChip)("mdc-evolution-chip--selectable",!r._isBasicChip)("mat-mdc-chip-selected",r.selected)("mat-mdc-chip-multiple",r._chipListMultiple)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-chip-with-avatar",r.leadingIcon)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--selected",r.selected)("mdc-evolution-chip--selecting",!r._animationsDisabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-primary-graphic",r._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",selectable:"selectable",selected:"selected"},outputs:{selectionChange:"selectionChange"},features:[zn([{provide:qp,useExisting:n},{provide:JA,useExisting:n}]),dn],ngContentSelectors:pJ,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"tabIndex","_allowFocusWhenDisabled"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false","aria-hidden","true",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(Wi(fJ),on(0,"span",0),$e(1,"span",1)(2,"button",2),Yt(3,BVe,5,0,"span",3),$e(4,"span",4),bn(5),on(6,"span",5),Qe()()(),Yt(7,UVe,2,0,"span",6),$e(8,"span",7),kt(9),Qe()),2&i&&(ot(2),ct("tabIndex",r.tabIndex)("_allowFocusWhenDisabled",!0),Vn("aria-selected",r.ariaSelected)("aria-label",r.ariaLabel)("aria-describedby",r._ariaDescriptionId),ot(1),ct("ngIf",r._hasLeadingGraphic()),ot(4),ct("ngIf",r._hasTrailingIcon()),ot(1),ct("id",r._ariaDescriptionId),ot(1),Tr(r.ariaDescription))},dependencies:[Dr,ab],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();class tze{constructor(e){}}const nze=Jd(tze);let $L=(()=>{class n extends nze{get chipFocusChanges(){return this._getChipStream(t=>t._onFocus)}get chipDestroyedChanges(){return this._getChipStream(t=>t.destroyed)}get disabled(){return this._disabled}set disabled(t){this._disabled=gn(t),this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(t){this._explicitRole=t}get focused(){return this._hasFocusedChip()}constructor(t,i,r){super(t),this._elementRef=t,this._changeDetectorRef=i,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new j,this._defaultRole="presentation",this._disabled=!1,this._explicitRole=null,this._chipActions=new Tg}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(t=>t._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(t=>{t.disabled=this._disabled,t._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(t){this._originatesFromChip(t)&&this._keyManager.onKeydown(t)}_isValidIndex(t){return t>=0&&t<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const t=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=t)}}_getChipStream(t){return this._chips.changes.pipe(yo(null),Oe(()=>hr(...this._chips.map(t))))}_originatesFromChip(t){let i=t.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(yo(this._chips)).subscribe(t=>{const i=[];t.forEach(r=>r._getActions().forEach(o=>i.push(o))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new pz(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(t=>this._skipPredicate(t)),this.chipFocusChanges.pipe(ai(this._destroyed)).subscribe(({chip:t})=>{const i=t._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(ai(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t))}_skipPredicate(t){return!t.isInteractive||t.disabled}_trackChipSetChanges(){this._chips.changes.pipe(yo(null),ai(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(ai(this._destroyed)).subscribe(t=>{const r=this._chips.toArray().indexOf(t.chip);this._isValidIndex(r)&&t.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const t=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[t];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vn),Ce(Ri),Ce(Kc,8))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-chip-set"]],contentQueries:function(i,r,o){if(1&i&&ki(o,qp,5),2&i){let s;hn(s=fn())&&(r._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,r){1&i&&Mt("keydown",function(s){return r._handleKeydown(s)}),2&i&&Vn("role",r.role)},inputs:{disabled:"disabled",role:"role"},features:[dn],ngContentSelectors:zL,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(Wi(),$e(0,"div",0),bn(1),Qe())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})();class ize{constructor(e,t){this.source=e,this.value=t}}const rze={provide:ps,useExisting:Rn(()=>YL),multi:!0};let YL=(()=>{class n extends $L{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._defaultOptions=Kt(qA,{optional:!0}),this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(t,i)=>t===i,this._required=!1,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.change=new jt,this._chips=void 0}get multiple(){return this._multiple}set multiple(t){this._multiple=gn(t),this._syncListboxProperties()}get selected(){const t=this._chips.toArray().filter(i=>i.selected);return this.multiple?t:t[0]}get selectable(){return this._selectable}set selectable(t){this._selectable=gn(t),this._syncListboxProperties()}get required(){return this._required}set required(t){this._required=gn(t)}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=gn(t),this._syncListboxProperties()}get chipSelectionChanges(){return this._getChipStream(t=>t.selectionChange)}get chipBlurChanges(){return this._getChipStream(t=>t._onBlur)}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(yo(null),ai(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(ai(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(ai(this._destroyed)).subscribe(t=>{this.multiple||this._chips.forEach(i=>{i!==t.source&&i._setSelectedState(!1,!1,!1)}),t.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const t=this._getFirstSelectedChip();t&&!t.disabled?t.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(t){this._chips?this._setSelectionByValue(t,!1):null!=t&&(this._pendingInitialValue=t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_setSelectionByValue(t,i=!0){this._clearSelection(),Array.isArray(t)?t.forEach(r=>this._selectValue(r,i)):this._selectValue(t,i)}_blur(){this.disabled||setTimeout(()=>{this.focused||this._markAsTouched()})}_keydown(t){9===t.keyCode&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let t=null;t=Array.isArray(this.selected)?this.selected.map(i=>i.value):this.selected?this.selected.value:void 0,this._value=t,this.change.emit(new ize(this,t)),this._onChange(t),this._changeDetectorRef.markForCheck()}_clearSelection(t){this._chips.forEach(i=>{i!==t&&i.deselect()})}_selectValue(t,i){const r=this._chips.find(o=>null!=o.value&&this.compareWith(o.value,t));return r&&(i?r.selectViaInteraction():r.select()),r}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(t=>{t._chipListMultiple=this.multiple,t.chipListSelectable=this._selectable,t._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,t._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(t){return!t.isInteractive}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=ti(n)))(r||n)}}();static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(i,r,o){if(1&i&&ki(o,bJ,5),2&i){let s;hn(s=fn())&&(r._chips=s)}},hostAttrs:["ngSkipHydration","",1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(i,r){1&i&&Mt("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(s){return r._keydown(s)}),2&i&&(cs("tabIndex",r.empty?-1:r.tabIndex),Vn("role",r.role)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-multiselectable",r.multiple)("aria-orientation",r.ariaOrientation),tn("mat-mdc-chip-list-disabled",r.disabled)("mat-mdc-chip-list-required",r.required))},inputs:{tabIndex:"tabIndex",multiple:"multiple",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",compareWith:"compareWith",required:"required",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",value:"value"},outputs:{change:"change"},features:[zn([rze]),dn],ngContentSelectors:zL,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(Wi(),$e(0,"div",0),bn(1),Qe())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),vJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:[jE,{provide:qA,useValue:{separatorKeyCodes:[13]}}],imports:[Ti,Hn,La,Ti]})}return n})();function dze(n,e){if(1&n){const t=$r();$e(0,"mat-chip",2),Mt("removed",function(){const o=oi(t).$implicit;return Xn(Qt().removeTag(o))}),kt(1),$e(2,"mat-icon",3),kt(3,"cancel"),Qe()()}if(2&n){const t=e.$implicit;Mi(Qt().tagClasses(t)),ot(1),Ir(" ",t.label," ")}}let uze=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-tag-list",this.tagRemoved=new jt,this.tagsChange=new jt}tagId(t,i){return i.id}tagClasses(t){return"added"===t.type?["added"]:["assigned"]}removeTag(t){this.tags=this.tags.filter(i=>i!==t),this.ga.event("tag_removed","tag_list",t.label),this.tagRemoved.emit(t),this.tagsChange.emit(this.tags)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Us))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-tag-list"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{tags:"tags"},outputs:{tagRemoved:"tagRemoved",tagsChange:"tagsChange"},decls:2,vars:2,consts:[["selectable","false"],["removable","","disableRipple","",3,"class","removed",4,"ngFor","ngForOf","ngForTrackBy"],["removable","","disableRipple","",3,"removed"],["matChipRemove","",1,"icon","remove"]],template:function(i,r){1&i&&($e(0,"mat-chip-listbox",0),Yt(1,dze,4,3,"mat-chip",1),Qe()),2&i&&(ot(1),ct("ngForOf",r.tags)("ngForTrackBy",r.tagId))},dependencies:[va,qp,YL,_J,Yo],styles:["[_nghost-%COMP%]{display:block;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]     .mdc-evolution-chip-set__chips{margin:0!important}[_nghost-%COMP%]     .mdc-evolution-chip-set__chips .mdc-evolution-chip__text-label{font-size:14px}"],changeDetection:0})}return n})();const fze=["closeSearch"];function pze(n,e){if(1&n){const t=$r();$e(0,"div",12)(1,"mat-checkbox",13),Mt("ngModelChange",function(r){const s=oi(t).$implicit;return Xn(Qt(2).checkedResults[s.id]=r)}),kt(2),Qe()()}if(2&n){const t=e.$implicit,i=Qt(2);ot(1),ct("ngModel",i.checkedResults[t.id]),ot(1),Ir(" ",t.label," ")}}function mze(n,e){if(1&n&&($e(0,"div",9),Yt(1,pze,3,2,"div",10),$e(2,"div",11),kt(3),Bn(4,"i18nPlural"),Qe()()),2&n){const t=Qt();ot(1),ct("ngForOf",t.searchResults.results)("ngForTrackBy",t.tagId),ot(2),Ir(" ",_v(4,3,t.searchResults.totalCount,t.countMapping)," ")}}const wJ=5,QA={totalCount:0,results:[]};class cb{constructor(e,t,i){this.el=e,this.ga=t,this.clsName="ccf-tag-search",this.placeholder="Add Anatomical Structures ...",this.added=new jt,this.countMapping={"=1":"1 result",other:"# results"},this.searchControl=new sw,this.searchResults=QA,this.checkedResults={},this.resultsVisible=!1,this.destroy$=new j,this.searchControl.valueChanges.pipe(ai(this.destroy$),hY(()=>function hze(n=0,e=Fg){return n<0&&(n=0),Yv(n,n,e)}(this.searchThrottle??100),{leading:!0,trailing:!0}),Oe(this.executeSearch)).subscribe(r=>{this.searchResults=r,this.checkedResults=this.getUpdatedCheckedResults(r),i.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}tagId(e,t){return t.id}hasCheckedTags(){return Object.values(this.checkedResults).some(e=>e)}addTags(){const{searchControl:e,searchResults:t,checkedResults:i}=this,r=t.results.filter(o=>i[o.id]);r.length>0&&(e.reset(),this.searchResults=QA,this.checkedResults={},this.ga.event("tags_added","tag_search",r.map(o=>o.label).join(",")),this.added.emit(r))}openResults(){this.resultsVisible||(this.resultsVisible=!0)}closeResults(e){const{closeSearch:t}=this;this.resultsVisible&&e.target instanceof Node&&(!this.el.nativeElement.contains(e.target)||t.nativeElement.contains(e.target))&&(this.resultsVisible=!1)}executeSearch(e){const{search:t,searchLimit:i=wJ}=this;return e&&t?Hi(t(e,i)).pipe(xa(()=>[QA]),E(this.truncateResults)):[QA]}truncateResults(e){const{searchLimit:t=wJ}=this,i=e.results;return i.length>t?{...e,results:i.slice(0,t)}:e}getUpdatedCheckedResults(e){const t=this.checkedResults;return e.results.reduce((i,{id:r})=>(i[r]=t[r]??!1,i),{})}static#e=this.\u0275fac=function(t){return new(t||cb)(Ce(vn),Ce(Us),Ce(Ri))};static#t=this.\u0275cmp=rn({type:cb,selectors:[["ccf-tag-search"]],viewQuery:function(t,i){if(1&t&&xi(fze,5,vn),2&t){let r;hn(r=fn())&&(i.closeSearch=r.first)}},hostVars:2,hostBindings:function(t,i){1&t&&Mt("click",function(){return i.openResults()})("focusin",function(){return i.openResults()})("click",function(o){return i.closeResults(o)},!1,EI)("focusin",function(o){return i.closeResults(o)},!1,EI),2&t&&Mi(i.clsName)},inputs:{placeholder:"placeholder",search:"search",searchLimit:"searchLimit",searchThrottle:"searchThrottle"},outputs:{added:"added"},decls:10,vars:8,consts:[[1,"spacer"],["appearance","outline","subscriptSizing","dynamic",1,"overlay"],[1,"search-box"],["matInput","","type","search",3,"placeholder","formControl"],["search",""],["matSuffix","",1,"add-button",3,"disabled","click"],["closeSearch",""],[1,"icon"],["class","results",4,"ngIf"],[1,"results"],["class","item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"count"],[1,"item"],["labelPosition","after",3,"ngModel","ngModelChange"]],template:function(t,i){if(1&t){const r=$r();on(0,"div",0),$e(1,"mat-form-field",1)(2,"div",2),on(3,"input",3,4),$e(5,"button",5,6),Mt("click",function(){oi(r);const s=Jr(4);return i.addTags(),Xn(s.focus())}),$e(7,"mat-icon",7),kt(8,"add"),Qe()()(),Yt(9,mze,5,6,"div",8),Qe()}2&t&&(ot(1),tn("expanded",i.resultsVisible),ot(2),ct("placeholder",i.placeholder)("formControl",i.searchControl),ot(2),tn("active",i.hasCheckedTags()),ct("disabled",!i.hasCheckedTags()),ot(4),ct("ngIf",i.resultsVisible))},dependencies:[va,Dr,B_,WS,HN,aw,eL,fh,kO,Yo,Fp,yV],styles:["[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{height:3.5rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;z-index:10}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;height:3rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{border-radius:.25rem;border:none;display:flex;justify-content:center;align-items:center;cursor:pointer;height:100%}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{margin-top:.5rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.75rem;text-align:end}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{min-height:inherit;padding:0}"],changeDetection:0})}ke([sd.ak],cb.prototype,"executeSearch",null),ke([sd.ak],cb.prototype,"truncateResults",null);let _ze=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this.firstNameValidator.setValue(t?.firstName||""),this.lastNameValidator.setValue(t?.lastName||""),this.middleNameValidator.setValue(t?.middleName||"")}constructor(t){this.ga=t,this.clsName="ccf-name-input",this.firstNameValidator=new sw("",[kp.required]),this.lastNameValidator=new sw("",[kp.required]),this.middleNameValidator=new sw("",[kp.required]),this._name={firstName:"",middleName:"",lastName:""},this.nameChange=new jt}updateName(t,i){this.name={...this.name,[i]:t.target.value},this.ga.event("name_updated","name_input",i),this.nameChange.emit(this.name)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Us))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-name-input"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{name:"name"},outputs:{nameChange:"nameChange"},decls:12,vars:3,consts:[["subscriptSizing","dynamic",1,"field"],[1,"text","form-input-label"],["matInput","","matTooltip","Add your first name.","required","","title","",1,"input",3,"value","input"],["matInput","","matTooltip","Add your middle name.",1,"input",3,"value","input"],["matInput","","matTooltip","Add your last name.","required","","title","",1,"input",3,"value","input"]],template:function(i,r){1&i&&($e(0,"mat-form-field",0)(1,"mat-label",1),kt(2,"First Name "),Qe(),$e(3,"input",2),Mt("input",function(s){return r.updateName(s,"firstName")}),Qe()(),$e(4,"mat-form-field",0)(5,"mat-label",1),kt(6,"Middle Name "),Qe(),$e(7,"input",3),Mt("input",function(s){return r.updateName(s,"middleName")}),Qe()(),$e(8,"mat-form-field",0)(9,"mat-label",1),kt(10,"Last Name "),Qe(),$e(11,"input",4),Mt("input",function(s){return r.updateName(s,"lastName")}),Qe()()),2&i&&(ot(3),ct("value",r.firstNameValidator.value),ot(4),ct("value",r.middleNameValidator.value),ot(4),ct("value",r.lastNameValidator.value))},dependencies:[Fp,fh,hh,yc],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:left;width:100%;font-size:1rem}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}"],changeDetection:0})}return n})();const bze=["fileInput"];let yze=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-json-file-reader",this.label="Upload",this.parsedJson=new jt}triggerFileInput(){this.fileInput.nativeElement.click()}handleFile(t){const i=t.target;if(!i.files)return;const r=i.files[0],o=new FileReader;o.onload=()=>{const s=JSON.parse(o.result);this.ga.event("json_file_load_end","json_file_reader"),this.parsedJson.emit(s)},this.ga.event("json_file_load_start","json_file_reader"),o.readAsText(r)}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(Us))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-json-file-reader"]],viewQuery:function(i,r){if(1&i&&xi(bze,5),2&i){let o;hn(o=fn())&&(r.fileInput=o.first)}},hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{label:"label"},outputs:{parsedJson:"parsedJson"},decls:4,vars:1,consts:[["mat-button","",1,"upload-button",3,"click"],["type","file","accept","application/JSON","name","fileInput","id","fileInput",2,"display","none",3,"change"],["fileInput",""]],template:function(i,r){1&i&&($e(0,"button",0),Mt("click",function(){return r.triggerFileInput()}),kt(1),Qe(),$e(2,"input",1,2),Mt("change",function(s){return r.handleFile(s)}),Qe()),2&i&&(ot(1),Tr(r.label))},dependencies:[Yg],styles:["[_nghost-%COMP%]   .upload-button[_ngcontent-%COMP%]{width:100%;height:2.25rem;transition:.6s;cursor:pointer;font-weight:500}"],changeDetection:0})}return n})();function vze(n,e){if(1&n&&($e(0,"mat-error"),kt(1),Qe()),2&n){const t=Qt();ot(1),Tr(t.getErrorMessage())}}function wze(n,e){1&n&&($e(0,"div",8),kt(1,"Organs"),Qe())}function xze(n,e){if(1&n&&($e(0,"mat-option",19),kt(1),Qe()),2&n){const t=e.$implicit;ct("value",t),ot(1),Ir(" ",t.name," ")}}let xJ=(()=>{class n{constructor(t,i,r){this.model=t,this.registration=i,this.page=r,this.registrationSelected=new jt,this.orcidControl=new QS("",[kp.pattern("^[a-zA-Z0-9]{4}(-[a-zA-Z0-9]{4}){3}$")]),r.user$.subscribe(o=>{this.checkNameValid(o),this.orcId=r.uriToOrcid(o.orcidId)}),i.state$.subscribe(o=>{this.uploadText=o.initialRegistration?"File(s) uploaded":"No file(s) uploaded"})}getErrorMessage(){return this.orcidControl.hasError("pattern")?"Not a valid ORCID":""}updateOrcid(t){this.page.setOrcidId(t)}handleRegistrationUpload(t){this.registrationSelected.emit(),this.registration.editRegistration(t)}checkNameValid(t){this.nameValid=t.firstName.length>0&&t.lastName.length>0}setSexFromLabel(t){this.model.setSex(t.toLowerCase())}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(or),Ce(xo),Ce(jr))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-registration-metadata"]],outputs:{registrationSelected:"registrationSelected"},decls:38,vars:19,consts:[[1,"author-section"],[1,"section-title"],[3,"name","nameChange"],[1,"orcid-input"],["matInput","","matTooltip","Add ORCID id.","maxlength","19",1,"input",3,"value","formControl","input"],[4,"ngIf"],[1,"donor-section"],[1,"sex-toggle"],[1,"label"],[1,"radio-group",3,"value","change"],["value","male",1,"radio"],["value","female",1,"radio"],[1,"organ-selector"],["appearance","fill","subscriptSizing","dynamic",1,"form-field"],["class","label",4,"ngIf"],["disableOptionCentering","true","panelClass","organ-select","hideSingleSelectionIndicator","true",3,"value","selectionChange"],["class","organ-select-option",3,"value",4,"ngFor","ngForOf"],[1,"upload-registration"],["label","Upload","matTooltip","Upload a preexisting registration",3,"parsedJson"],[1,"organ-select-option",3,"value"]],template:function(i,r){1&i&&($e(0,"div",0)(1,"h2",1),kt(2,"Author Data"),Qe(),$e(3,"ccf-name-input",2),Mt("nameChange",function(s){return r.page.setUserName(s),r.checkNameValid(s)}),Bn(4,"async"),Qe(),$e(5,"mat-form-field",3)(6,"mat-label"),kt(7,"ORCID identifier (optional)"),Qe(),$e(8,"input",4),Mt("input",function(s){return r.updateOrcid(s.target.value)}),Qe(),Yt(9,vze,2,1,"mat-error",5),Qe()(),$e(10,"div",6)(11,"h2",1),kt(12,"Donor Data"),Qe(),$e(13,"div",7)(14,"div",8),kt(15,"Donor Sex: "),Qe(),$e(16,"mat-radio-group",9),Mt("change",function(s){return r.setSexFromLabel(s.value)}),Bn(17,"async"),$e(18,"mat-radio-button",10),kt(19,"Male"),Qe(),$e(20,"mat-radio-button",11),kt(21,"Female"),Qe()()(),$e(22,"div",12)(23,"div",8),kt(24,"Select an organ: "),Qe(),$e(25,"mat-form-field",13),Yt(26,wze,2,0,"div",14),Bn(27,"async"),$e(28,"mat-select",15),Mt("selectionChange",function(s){return r.model.setOrgan(s.value),r.model.setOrganDefaults()}),Bn(29,"async"),Yt(30,xze,2,2,"mat-option",16),Bn(31,"async"),Qe()()(),$e(32,"div",17)(33,"div",8),kt(34,"Upload previous registration data (optional):"),Qe(),$e(35,"ccf-json-file-reader",18),Mt("parsedJson",function(s){return r.handleRegistrationUpload(s)}),Qe(),$e(36,"div"),kt(37),Qe()()()),2&i&&(ot(3),ct("name",Jn(4,9,r.page.user$)),ot(5),ct("value",r.orcId)("formControl",r.orcidControl),ot(1),ct("ngIf",r.orcidControl.invalid),ot(7),ct("value",Jn(17,11,r.model.sex$)),ot(10),ct("ngIf",void 0===Jn(27,13,r.model.organ$)),ot(2),ct("value",Jn(29,15,r.model.organ$)),ot(2),ct("ngForOf",Jn(31,17,r.page.organOptions$)),ot(7),Tr(r.uploadText))},dependencies:[va,Dr,Fp,fh,hh,ace,B_,WS,qN,aw,yc,_ze,UL,jL,dJ,Bv,yze,jl],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:2rem}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:400;line-height:1.5rem;margin:0;padding-bottom:1.5rem}[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;line-height:1.5rem}[_nghost-%COMP%]     .mat-mdc-form-field-infix{padding-bottom:0!important;min-height:inherit}[_nghost-%COMP%]     .mdc-text-field{padding:0;padding-bottom:.3rem!important}[_nghost-%COMP%]   .author-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .author-section[_ngcontent-%COMP%]   .orcid-input[_ngcontent-%COMP%]{width:100%;font-size:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:1.5rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-right:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;gap:3rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .organ-selector[_ngcontent-%COMP%]{padding-bottom:1.5rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .organ-selector[_ngcontent-%COMP%]     .mat-mdc-select-value{font-size:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .upload-registration[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .upload-registration[_ngcontent-%COMP%]   ccf-json-file-reader[_ngcontent-%COMP%]     button{width:10rem;height:2rem;padding:.25rem 1rem;border-radius:.125rem}[_nghost-%COMP%]     .mdc-line-ripple:before, [_nghost-%COMP%]   .mdc-line-ripple[_ngcontent-%COMP%]:after{border-bottom-width:.125rem!important}"],changeDetection:0})}return n})();function Eze(n,e){if(1&n){const t=$r();$e(0,"ccf-tag-list",23),Mt("tagRemoved",function(r){return oi(t),Xn(Qt().astags.removeTag(r))}),Bn(1,"async"),Qe()}2&n&&ct("tags",Jn(1,1,Qt().astags.tags$))}function Cze(n,e){}const Sze=function(){return[]};let Aze=(()=>{class n{constructor(t,i,r,o){this.model=t,this.registration=i,this.page=r,this.astags=o,this.clsName="ccf-right-sidebar",this.modalClosed=!1,this.registrationExpanded=new jt}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(or),Ce(xo),Ce(jr),Ce(fd))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-right-sidebar"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},inputs:{modalClosed:"modalClosed"},outputs:{registrationExpanded:"registrationExpanded"},decls:44,vars:29,consts:[[1,"info-button-container"],["videoID","j4f9_xdBrK0","infoTitle","CCF Registration User Interface","documentationUrl","assets/docs/README.md"],[1,"scroll-wrapper"],[1,"container"],[1,"registration-metadata-panel",3,"opened","closed"],[1,"header"],["matTooltip",""],[1,"tissue-block-controls-panel",3,"expanded"],[3,"blockSize","blockSizeChange"],[3,"slicesConfig","slicesConfigChange"],[3,"rotation","rotationChange"],[1,"tags-container",3,"expanded"],["matTooltip","Review tags generated via collision detection. Add or delete tags as needed."],[3,"search","added"],["class","tag-list",3,"tags","tagRemoved",4,"ngIf","ngIfElse"],["tagListPlaceholder",""],[1,"legend"],[1,"dot","assigned"],[1,"text","assigned"],[1,"dot","added"],[1,"text","added"],[1,"filler"],[1,"review-button",3,"registrationCallbackSet","displayErrors","userValid","metaData","registerData","enterErrorMode"],[1,"tag-list",3,"tags","tagRemoved"]],template:function(i,r){if(1&i&&($e(0,"div",0),on(1,"ccf-info-button",1),Qe(),$e(2,"div",2)(3,"div",3)(4,"mat-expansion-panel",4),Mt("opened",function(){return r.registrationExpanded.emit(!0)})("closed",function(){return r.registrationExpanded.emit(!1)}),$e(5,"mat-expansion-panel-header",5)(6,"mat-panel-title",6),kt(7,"Registration Metadata"),Qe()(),on(8,"ccf-registration-metadata"),Qe(),on(9,"mat-divider"),$e(10,"mat-expansion-panel",7)(11,"mat-expansion-panel-header",5)(12,"mat-panel-title",6),kt(13,"Tissue Block Controls"),Qe()(),$e(14,"ccf-block-size-input",8),Mt("blockSizeChange",function(s){return r.model.setBlockSize(s)}),Bn(15,"async"),Qe(),$e(16,"ccf-slices-input",9),Mt("slicesConfigChange",function(s){return r.model.setSlicesConfig(s)}),Bn(17,"async"),Qe(),$e(18,"ccf-rotation-slider",10),Mt("rotationChange",function(s){return r.model.setRotation(s)}),Bn(19,"async"),Qe()(),on(20,"mat-divider"),$e(21,"mat-expansion-panel",11)(22,"mat-expansion-panel-header",5)(23,"mat-panel-title",12),kt(24,"Anatomical Structure Tags"),Qe()(),$e(25,"ccf-tag-search",13),Mt("added",function(s){return r.astags.addTags(s)}),Qe(),Yt(26,Eze,2,3,"ccf-tag-list",14),Bn(27,"async"),Yt(28,Cze,0,0,"ng-template",null,15,Gd),$e(30,"div",16),on(31,"span",17),$e(32,"span",18),kt(33,"Assigned"),Qe(),on(34,"span",19),$e(35,"span",20),kt(36,"Added"),Qe()()(),on(37,"mat-divider")(38,"div",21),$e(39,"ccf-review-button",22),Mt("registerData",function(){return r.registration.register()})("enterErrorMode",function(){return r.registration.setDisplayErrors(!r.registration.isValid)}),Bn(40,"async"),Bn(41,"async"),Bn(42,"async"),Bn(43,"async"),Qe()()()),2&i){const o=Jr(29);let s,a;ot(10),ct("expanded",!0),ot(4),ct("blockSize",Jn(15,12,r.model.blockSize$)),ot(2),ct("slicesConfig",Jn(17,14,r.model.slicesConfig$)),ot(2),ct("rotation",Jn(19,16,r.model.rotation$)),ot(3),ct("expanded",!0),ot(4),ct("search",r.astags.searchExternal),ot(1),ct("ngIf",null==(s=Jn(27,18,r.model.organ$))?null:s.name)("ngIfElse",o),ot(13),ct("registrationCallbackSet",Jn(40,20,r.page.registrationCallbackSet$))("displayErrors",Jn(41,22,r.registration.displayErrors$))("userValid",Jn(42,24,r.registration.valid$))("metaData",null!==(a=Jn(43,26,r.registration.metadata$))&&void 0!==a?a:rD(28,Sze))}},dependencies:[Dr,oA,lF,FY,VK,yc,IVe,kVe,PVe,NVe,uze,cb,TBe,xJ,jl],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 2.5rem);margin-top:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .info-button-container[_ngcontent-%COMP%]{height:3.75rem;display:flex;justify-content:flex-end}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100% - 6rem);scrollbar-width:thin}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;margin:0 1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .review-button[_ngcontent-%COMP%]{position:absolute;bottom:1.5rem;z-index:999;width:calc(100% - 3.5rem)}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-top-width:3px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 .5rem 0 0;font-weight:700;-webkit-user-select:none;-moz-user-select:none;font-size:1rem;height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding-left:0;padding-right:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding-left:0;padding-right:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .icon.add[_ngcontent-%COMP%]{position:absolute;width:3.625rem;height:3.625rem;font-size:3.625rem;top:-1.9375rem;right:-1.1875rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .tag-list[_ngcontent-%COMP%]{max-height:32rem;margin-left:-1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .tag-list-placeholder[_ngcontent-%COMP%]{display:flex;height:4rem;align-items:center;justify-content:center;font-weight:400}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:1.5rem;align-items:center;font-size:.9rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;border-radius:50%}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot.assigned[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot.added[_ngcontent-%COMP%]{margin-left:1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})(),Mze=(()=>{class n{constructor(t,i,r,o){this.page=t,this.model=i,this.dialogRef=r,this.clsName="ccf-registration-content",this.sexByLabel$=this.model.sex$.pipe(E(s=>"female"===s?"Female":"Male")),this.organList=NL,this.registrationSelected=!1,t.user$.subscribe(s=>{this.checkNameValid(s),this.orcidValid=t.isOrcidValid(),o.markForCheck()}),i.organ$.subscribe(s=>{this.organSelected=""!==s.src,o.markForCheck()}),this.sexByLabel$.subscribe(s=>{this.setSexFromLabel(s),o.markForCheck()}),r.disableClose=!0,this.page.organOptions$.subscribe(s=>{this.organList=s,o.markForCheck()})}setSexFromLabel(t){this.currentSex=t,this.sexSelected=!0}checkNameValid(t){this.nameValid=t.firstName.length>0&&t.lastName.length>0}organSelect(t){this.currentOrgan=t,this.organSelected=!0}registerButtonClick(t){t&&t.preventDefault(),this.organSelected&&this.nameValid&&this.closeDialog()}handleRegistrationSelect(){this.registrationSelected=!0}closeDialog(){this.model.setSex("Female"===this.currentSex?"female":"male"),this.model.setOrgan(this.currentOrgan),this.registrationSelected||this.model.setOrganDefaults(),this.dialogRef.close(!0),this.page.registrationStarted()}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(jr),Ce(or),Ce(lw),Ce(Ri))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-registration-content"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},decls:6,vars:3,consts:[[1,"modal"],[1,"title"],[3,"registrationSelected"],["mat-button","",1,"registration-button",3,"matTooltip","click"]],template:function(i,r){1&i&&($e(0,"div",0)(1,"div",1),kt(2,"Start Registration"),Qe(),$e(3,"ccf-registration-metadata",2),Mt("registrationSelected",function(){return r.handleRegistrationSelect()}),Qe(),$e(4,"button",3),Mt("click",function(s){return r.registerButtonClick(s)}),kt(5,"Continue"),Qe()()),2&i&&(ot(4),tn("disabled",!r.organSelected||!r.nameValid||!r.orcidValid),ct("matTooltip",r.organSelected&&r.nameValid?"":"Required: Enter first and last name, and select an organ"))},dependencies:[yc,xJ,Yg],styles:[".modal[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;max-width:47rem;display:flex;flex-direction:column;gap:2rem}.modal[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]{display:flex;height:3rem;align-items:center}.modal[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]   .slider-label[_ngcontent-%COMP%]{font-weight:600}.modal[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{font-weight:600;height:3rem;line-height:3rem}.modal[_ngcontent-%COMP%]   .selector-container[_ngcontent-%COMP%]{margin:0 auto}.modal[_ngcontent-%COMP%]   .registration-button[_ngcontent-%COMP%]{transition:.6s;display:flex;width:10rem;height:2rem;padding:.25rem 1rem;justify-content:center;align-items:center;border-radius:.125rem;box-shadow:0 2px 6px #00000029;cursor:pointer}.modal[_ngcontent-%COMP%]   .registration-button.disabled[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0})}return n})(),Tze=(()=>{class n{constructor(t,i,r,o,s){this.dialog=t,this.page=i,this.model=r,this.referenceData=o,this.globalConfig=s,this.clsName="ccf-registration-modal",this.dialogOpen=!1}ngOnInit(){mr([this.page.state$,this.model.state$,this.referenceData.state$,this.globalConfig.state$]).pipe(Zi(([t,i,r,o])=>{this.dialogOpen||o.editRegistration||0!==Object.keys(r.organIRILookup).length&&(""!==t.user.firstName&&""!==t.user.lastName&&""!==i.organ.src||(this.dialogOpen=!0,this.openDialog()))})).subscribe()}openDialog(){this.dialog.open(Mze,{autoFocus:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(z_),Ce(jr),Ce(or),Ce(Kp),Ce(vu))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-registration-modal"]],hostVars:2,hostBindings:function(i,r){2&i&&Mi(r.clsName)},decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})(),Ize=(()=>{class n{get isLightTheme(){return this.theming.getTheme().endsWith("light")}constructor(t,i,r,o,s,a,c,l,d){this.model=t,this.page=i,this.consentService=r,this.snackbar=o,this.theming=s,this.globalConfig=l,this.registrationStarted=!1,this.disablePositionChange=!1,this.registrationExpanded=!1,this.theme$=this.globalConfig.getOption("theme"),this.themeMode$=new Xf(1),this.header$=this.globalConfig.getOption("header"),this.homeUrl$=this.globalConfig.getOption("homeUrl"),this.logoTooltip$=this.globalConfig.getOption("logoTooltip"),this.subscriptions=new C,s.initialize(a,c),this.subscriptions.add(i.registrationStarted$.subscribe(h=>{this.registrationStarted=h})),this.theme$.subscribe(h=>{this.theme=h}),this.globalConfig.getOption("homeUrl").subscribe(h=>{this.homeUrl=h}),this.globalConfig.getOption("logoTooltip").subscribe(h=>{this.logoTooltip=h}),mr([this.theme$,this.themeMode$]).subscribe(([h,p])=>{this.theming.setTheme(`${h}-theme-${p}`),d.markForCheck()})}ngOnInit(){const t=this.snackbar.openFromComponent(jBe,{data:{preClose:()=>{t.dismiss()}},duration:"not-set"===this.consentService.consent?1/0:3e3});this.themeMode$.next("light"),this.theming.setTheme(`${this.theme}-theme-light`)}toggleScheme(){this.themeMode$.next(this.isLightTheme?"dark":"light")}registrationToggle(t){this.registrationExpanded=t,this.registrationExpanded||(this.disablePositionChange=!1)}handleKey(t){const i=this.model.snapshot.position;if(this.disablePositionChange||!this.registrationStarted)return;t.preventDefault();const r=t.repeat?1:.5;let o=i;switch(t.key){case"q":o={...i,z:i.z+r};break;case"e":o={...i,z:i.z-r};break;case"w":o={...i,y:i.y+r};break;case"s":o={...i,y:i.y-r};break;case"a":o={...i,x:i.x-r};break;case"d":o={...i,x:i.x+r}}this.model.setPosition(o)}handleClick(t){const i=["mat-mdc-input-element","form-input-label"];for(const r of i)if(t.className.includes(r))return void(this.disablePositionChange=!0);this.disablePositionChange=!1}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(or),Ce(jr),Ce(Dw),Ce(ade),Ce(FL),Ce(vn),Ce(Li),Ce(vu),Ce(Ri))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-root"]],hostBindings:function(i,r){1&i&&Mt("keydown",function(s){return r.handleKey(s)},0,ug)("mousedown",function(s){return r.handleClick(s.target)},!1,ug)},decls:14,vars:13,consts:[[3,"logoTooltip","homeUrl"],["opened",""],[3,"modalClosed"],["position","end","opened",""],[3,"modalClosed","registrationExpanded"],[1,"stage-content",3,"disablePositionChange"]],template:function(i,r){1&i&&(on(0,"ccf-registration-modal")(1,"ccf-header",0),Bn(2,"async"),Bn(3,"async"),Bn(4,"async"),$e(5,"ccf-drawer-container")(6,"ccf-drawer",1),on(7,"ccf-left-sidebar",2)(8,"ccf-drawer-toggle-button"),Qe(),$e(9,"ccf-drawer",3)(10,"ccf-right-sidebar",4),Mt("registrationExpanded",function(s){return r.registrationToggle(s)}),Qe(),on(11,"ccf-drawer-toggle-button"),Qe(),$e(12,"ccf-drawer-content"),on(13,"ccf-content",5),Qe()()),2&i&&(ot(1),tn("header-hidden",!1===Jn(2,7,r.header$)),ct("logoTooltip",Jn(3,9,r.logoTooltip$))("homeUrl",Jn(4,11,r.homeUrl$)),ot(6),ct("modalClosed",r.registrationStarted),ot(3),ct("modalClosed",r.registrationStarted),ot(3),ct("disablePositionChange",r.disablePositionChange))},dependencies:[vje,KA,BL,wje,Sje,nVe,TVe,Aze,Tze,jl],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:hidden;font-size:1rem;color:#000}[_nghost-%COMP%]   .header-hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer[_ngcontent-%COMP%]{width:25.5rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]{position:relative;z-index:1}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]{top:0rem;display:flex;flex-direction:column;position:relative;height:5.688rem;transition:all .5s ease-in-out}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer.expanded[_ngcontent-%COMP%]{height:15rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   ccf-organ-selector[_ngcontent-%COMP%]{height:100%;padding-top:.5rem;transition:all .5s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   ccf-organ-selector.closed[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;height:0;z-index:2}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{cursor:pointer;transition:.6s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{width:3rem;height:1.2rem;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:#fff;border-bottom-left-radius:.2rem;border-bottom-right-radius:.2rem;transition:.6s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]:hover{background-color:#ececec}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer.closed[_ngcontent-%COMP%]{height:3rem;top:-2.9rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .stage-content[_ngcontent-%COMP%]{border-radius:.5rem;height:calc(100% - 2.5rem)}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .expanded-stage[_ngcontent-%COMP%]{height:calc(100% - 1.5rem);padding-bottom:1rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .retracted-stage[_ngcontent-%COMP%]{height:calc(100% - 16.688rem)}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-content[_ngcontent-%COMP%]{position:absolute;transition-duration:.5s;transition-timing-function:ease-in-out;transition-property:all;bottom:1.5rem;z-index:1}  .mdc-snackbar__surface{box-shadow:none!important}"],changeDetection:0})}return n})();function Dze(n,e){1&n&&on(0,"ccf-root")}function Oze(n){try{return rq.json(n)}catch{return""+n}}let kze=(()=>{class n extends e3e{constructor(t,i){super(t,i,{initialConfig:{...dd.dbOptions,...globalThis.ruiConfig,...dd.customization},parse:{useDownload:rq.boolean,user:rq.json,organ:Oze,editRegistration:rq.json,register:rq.function,cancelRegistration:rq.function,fetchPreviousRegistrations:rq.function,skipUnsavedChangesConfirmation:rq.boolean,header:rq.boolean,organOptions:rq.stringArray}})}static#e=this.\u0275fac=function(i){return new(i||n)(Ce(vu),Ce(Ri))};static#t=this.\u0275cmp=rn({type:n,selectors:[["ccf-root-wc"]],inputs:{baseHref:"baseHref",useDownload:"useDownload",user:"user",organ:"organ",editRegistration:"editRegistration",register:"register",cancelRegistration:"cancelRegistration",fetchPreviousRegistrations:"fetchPreviousRegistrations",skipUnsavedChangesConfirmation:"skipUnsavedChangesConfirmation",theme:"theme",header:"header",homeUrl:"homeUrl",logoTooltip:"logoTooltip",organOptions:"organOptions"},features:[dn],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(i,r){1&i&&Yt(0,Dze,1,0,"ccf-root",0),2&i&&ct("ngIf",r.initialized)},dependencies:[Dr,Ize],encapsulation:2,changeDetection:0})}return n})();const Rze=new yt("Global configuration object");function Pze(n){return n.get("ruiConfig",{user:{firstName:"",lastName:""}})}let Nze=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:[{provide:Rze,useFactory:Pze,deps:[eq]}]})}return n})(),Fze=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:[{provide:wv,useValue:FL.initialize,multi:!0},FL]})}return n})();const eM=(n,e)=>((n,e)=>new Array(e+1).join("0"))(0,e-n.toString().length)+n;class Uze{constructor(e,t,i){this.action=e,this.store=t,this.logWriter=i}dispatched(e){const t=Ip(this.action),i=function Bze(n){return eM(n.getHours(),2)+":"+eM(n.getMinutes(),2)+":"+eM(n.getSeconds(),2)+"."+eM(n.getMilliseconds(),3)}(new Date);this.logWriter.startGroup(`action ${t} @ ${i}`),this._hasPayload(this.action)&&this.logWriter.logGrey("payload",Object.assign({},this.action)),this.logWriter.logGrey("prev state",e)}completed(e){this.logWriter.logGreen("next state",e),this.logWriter.endGroup()}errored(e){this.logWriter.logRedish("next state after error",this.store.snapshot()),this.logWriter.logRedish("error",e),this.logWriter.endGroup()}_hasPayload(e){return this._getNonEmptyProperties(e).length>0}_getNonEmptyProperties(e){return Object.keys(e).map(r=>e[r]).filter(r=>void 0!==r)}}class jze{constructor(e){this.options=e,this.options=this.options||{},this.logger=e.logger||console}startGroup(e){const t=this.options.collapsed?this.logger.groupCollapsed:this.logger.group;try{t.call(this.logger,e)}catch{console.log(e)}}endGroup(){try{this.logger.groupEnd()}catch{this.logger.log("\u2014\u2014 log end \u2014\u2014")}}logGrey(e,t){this.log(e,"color: #9E9E9E; font-weight: bold",t)}logGreen(e,t){this.log(e,"color: #4CAF50; font-weight: bold",t)}logRedish(e,t){this.log(e,"color: #FD8182; font-weight: bold",t)}log(e,t,i){this.isIE()?this.logger.log(e,i):this.logger.log("%c "+e,t,i)}isIE(){const e=typeof window<"u"&&window.navigator.userAgent?window.navigator.userAgent:"";let t=!1;const i=e.indexOf("MSIE "),r=e.indexOf("Trident/");return(i>-1||r>-1)&&(t=!0),t}}const EJ=new yt("NGXS_LOGGER_PLUGIN_OPTIONS");let Vze=(()=>{class n{constructor(t,i){this._options=t,this._injector=i}handle(t,i,r){if(this._options.disabled||!this._options.filter(i,t))return r(t,i);this._logWriter=this._logWriter||new jze(this._options),this._store=this._store||this._injector.get(ad);const o=new Uze(i,this._store,this._logWriter);return o.dispatched(t),r(t,i).pipe(Zi(s=>{o.completed(s)}),xa(s=>{throw o.errored(s),s}))}}return n.\u0275fac=function(t){return new(t||n)(Ze(EJ),Ze(Li))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac}),n})();const CJ=new yt("LOGGER_USER_OPTIONS");function zze(n){return Object.assign(Object.assign({},{logger:console,collapsed:!1,disabled:!1,filter:()=>!0}),n)}let Hze=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:bN,useClass:Vze,multi:!0},{provide:CJ,useValue:t},{provide:EJ,useFactory:zze,deps:[CJ]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Wt({}),n})();const XL=new yt("NGXS_STORAGE_PLUGIN_OPTIONS"),SJ=new yt("STORAGE_ENGINE"),KL="@@STATE";function Gze(n){return Object.assign({key:[KL],storage:0,serialize:JSON.stringify,deserialize:JSON.parse,beforeSerialize:e=>e,afterDeserialize:e=>e},n)}function Wze(n,e){return Av(e)?null:0===n.storage?localStorage:1===n.storage?sessionStorage:null}function AJ(n,e){return e&&e.namespace?`${e.namespace}:${n}`:n}function MJ(n){return null!=n&&!!n.engine}const TJ="NGXS_OPTIONS_META",IJ=new yt("FINAL_NGXS_STORAGE_PLUGIN_OPTIONS");function Yze(n,e){const i=(Array.isArray(e.key)?e.key:[e.key]).map(r=>{const o=function $ze(n){return MJ(n)&&(n=n.key),n.hasOwnProperty(TJ)&&(n=n[TJ].name),n instanceof nOe?n.getName():n}(r);return{key:o,engine:MJ(r)?n.get(r.engine):n.get(SJ)}});return Object.assign(Object.assign({},e),{keysWithEngines:i})}let Xze=(()=>{class n{constructor(t,i){this._options=t,this._platformId=i,this._keysWithEngines=this._options.keysWithEngines,this._usesDefaultStateKey=1===this._keysWithEngines.length&&this._keysWithEngines[0].key===KL}handle(t,i,r){if(Av(this._platformId))return r(t,i);const o=function uDe(n){const e=Ip(n);return function(t){return e===Ip(t)}}(i),s=o(AN),a=o(MN),c=s||a;let l=!1;if(c){const d=a&&i.addedStates;for(const{key:h,engine:p}of this._keysWithEngines){if(!this._usesDefaultStateKey&&d){const I=h.indexOf(Kze),L=I>-1?h.slice(0,I):h;if(!d.hasOwnProperty(L))continue}const _=AJ(h,this._options);let w=p.getItem(_);if("undefined"!==w&&null!=w){try{const I=this._options.deserialize(w);w=this._options.afterDeserialize(I,h)}catch{w={}}this._options.migrations&&this._options.migrations.forEach(I=>{I.version===Z0(w,I.versionKey||"version")&&(!I.key&&this._usesDefaultStateKey||I.key===h)&&(w=I.migrate(w),l=!0)}),this._usesDefaultStateKey?(w&&d&&Object.keys(d).length>0&&(w=Object.keys(d).reduce((I,L)=>(w.hasOwnProperty(L)&&(I[L]=w[L]),I),{})),t=Object.assign(Object.assign({},t),w)):t=mN(t,h,w)}}}return r(t,i).pipe(Zi(d=>{if(!c||c&&l)for(const{key:h,engine:p}of this._keysWithEngines){let _=d;const w=AJ(h,this._options);h!==KL&&(_=Z0(d,h));try{const I=this._options.beforeSerialize(_,h);p.setItem(w,this._options.serialize(I))}catch{}}}))}}return n.\u0275fac=function(t){return new(t||n)(Ze(IJ),Ze(Zs))},n.\u0275prov=Tt({token:n,factory:n.\u0275fac}),n})();const Kze=".",DJ=new yt("USER_OPTIONS");let qze=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:bN,useClass:Xze,multi:!0},{provide:DJ,useValue:t},{provide:XL,useFactory:Gze,deps:[DJ]},{provide:SJ,useFactory:Wze,deps:[XL,Zs]},{provide:IJ,useFactory:Yze,deps:[Li,XL]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Wt({}),n})();new yt("LOCAL_STORAGE_ENGINE",{providedIn:"root",factory:()=>localStorage}),new yt("SESSION_STORAGE_ENGINE",{providedIn:"root",factory:()=>sessionStorage});const OJ=[{name:"bladder",namespace:"app",url:"assets/icons/organs/ico-organs-bladder.svg"},{name:"blood",namespace:"app",url:"assets/icons/organs/ico-organs-blood.svg"},{name:"bone-marrow",namespace:"app",url:"assets/icons/organs/ico-organs-bone-marrow.svg"},{name:"brain",namespace:"app",url:"assets/icons/organs/ico-organs-brain.svg"},{name:"eye",namespace:"app",url:"assets/icons/organs/ico-organs-eye.svg"},{name:"fallopian-tube-left",namespace:"app",url:"assets/icons/organs/ico-organs-fallopian-tube-left.svg"},{name:"fallopian-tube-right",namespace:"app",url:"assets/icons/organs/ico-organs-fallopian-tube-right.svg"},{name:"heart",namespace:"app",url:"assets/icons/organs/ico-organs-heart.svg"},{name:"kidney-left",namespace:"app",url:"assets/icons/organs/ico-organs-kidney-left.svg"},{name:"kidney-right",namespace:"app",url:"assets/icons/organs/ico-organs-kidney-right.svg"},{name:"kidney",namespace:"app",url:"assets/icons/organs/ico-organs-kidney.svg"},{name:"knee",namespace:"app",url:"assets/icons/organs/ico-organs-knee.svg"},{name:"large-intestine",namespace:"app",url:"assets/icons/organs/ico-organs-large-intestine.svg"},{name:"larynx",namespace:"app",url:"assets/icons/organs/ico-organs-larynx.svg"},{name:"liver",namespace:"app",url:"assets/icons/organs/ico-organs-liver.svg"},{name:"lung-left",namespace:"app",url:"assets/icons/organs/ico-organs-lung-left.svg"},{name:"lung-right",namespace:"app",url:"assets/icons/organs/ico-organs-lung-right.svg"},{name:"lung",namespace:"app",url:"assets/icons/organs/ico-organs-lung.svg"},{name:"lymph-nodes",namespace:"app",url:"assets/icons/organs/ico-organs-lymph-nodes.svg"},{name:"main-bronchus",namespace:"app",url:"assets/icons/organs/ico-organs-extrapulmonary bronchus.svg"},{name:"mammary-gland",namespace:"app",url:"assets/icons/organs/ico-organs-breast.svg"},{name:"neuron",namespace:"app",url:"assets/icons/organs/ico-organs-neuron.svg"},{name:"ovaries",namespace:"app",url:"assets/icons/organs/ico-organs-ovaries.svg"},{name:"ovary-left",namespace:"app",url:"assets/icons/organs/ico-organs-ovary-left.svg"},{name:"ovary-right",namespace:"app",url:"assets/icons/organs/ico-organs-ovary-right.svg"},{name:"palatine-tonsil",namespace:"app",url:"assets/icons/organs/ico-organs-palatine tonsil.svg"},{name:"pancreas",namespace:"app",url:"assets/icons/organs/ico-organs-pancreas.svg"},{name:"pelvis-f",namespace:"app",url:"assets/icons/organs/ico-organs-pelvis-f.svg"},{name:"placenta",namespace:"app",url:"assets/icons/organs/ico-organs-placenta.svg"},{name:"prostate",namespace:"app",url:"assets/icons/organs/ico-organs-prostate.svg"},{name:"skin",namespace:"app",url:"assets/icons/organs/ico-organs-skin.svg"},{name:"small-intestine",namespace:"app",url:"assets/icons/organs/ico-organs-small intestine.svg"},{name:"spinal-cord",namespace:"app",url:"assets/icons/organs/ico-organs-spinal-cord.svg"},{name:"spleen",namespace:"app",url:"assets/icons/organs/ico-organs-spleen.svg"},{name:"stomach",namespace:"app",url:"assets/icons/organs/ico-organs-stomach.svg"},{name:"thymus",namespace:"app",url:"assets/icons/organs/ico-organs-thymus.svg"},{name:"trachea",namespace:"app",url:"assets/icons/organs/ico-organs-trachea.svg"},{name:"ureter-left",namespace:"app",url:"assets/icons/organs/ico-organs-ureter-left.svg"},{name:"ureter-right",namespace:"app",url:"assets/icons/organs/ico-organs-ureter-right.svg"},{name:"uterus",namespace:"app",url:"assets/icons/organs/ico-organs-uterus.svg"},{name:"vasculature-thick",namespace:"app",url:"assets/icons/organs/ico-organs-vasculature-thick.svg"},{name:"vasculature-thin",namespace:"app",url:"assets/icons/organs/ico-organs-vasculature-thin.svg"},{name:"opacity",namespace:"app",url:"assets/icons/opacity-24px.svg"},{name:"visibility_on",namespace:"app",url:"assets/icons/visibility-on-24px.svg"},{name:"visibility_off",namespace:"app",url:"assets/icons/visibility-off-24px.svg"},{name:"visibility_off_cube",namespace:"app",url:"assets/icons/ico-cube.svg"}];let tM=class lM extends NPe{constructor(e,t,i){super(),this.registry=e,this.sanitizer=t,this.globalConfig=i}ngxsOnInit(){OJ.filter(e=>void 0!==e.html).map(e=>({...e,html:this.sanitizer.bypassSecurityTrustHtml(e.html)})).forEach(e=>this.registerIconImpl(e)),this.registry?.addSvgIconResolver((e,t)=>{const i=OJ.find(o=>(o.name??"")===e&&(o.namespace??"")===t);return void 0===i?.url?null:this.sanitizer.bypassSecurityTrustResourceUrl((this.globalConfig.snapshot.baseHref??"")+i.url)})}registerIcon(e){return this.registerIconImpl(e)}registerIconImpl(e){if(!this.registry||!e.url&&!e.html)return!1;const t=this.registry,r=t[this.getMethodName(e)],o=this.getArguments(e);if(!r)return!1;try{return r.apply(t,o),!0}catch{return!1}}getMethodName({name:e,namespace:t,url:i}){const r=["addSvgIcon"];return e||r.push("Set"),i||r.push("Literal"),t&&r.push("InNamespace"),r.join("")}getArguments({name:e,namespace:t,url:i,html:r}){return[t,e,i??r].filter(s=>!!s)}static#e=this.\u0275fac=function(t){return new(t||lM)(Ze(Wv,8),Ze(Pg),Ze(vu))};static#t=this.\u0275prov=Tt({token:lM,factory:lM.\u0275fac})};ke([Kn()],tM.prototype,"registerIcon",null),tM=ke([Lh(),gu({name:"iconRegistry"})],tM);const Jze=[vu,tM,jr,or,fd,Kp,xo,sa];let Zze=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[IPe.forRoot(),n$.forRoot(Jze,{developmentMode:!dd.production}),qze.forRoot({key:["registration.registrations"]}),Hze.forRoot({disabled:dd.production})]})}return n})(),Qze=(()=>{class n{constructor(t){if(t)throw new Error("The core module should only be imported once in the root module")}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(n,12))};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[p8,iLe.forRoot({gaToken:dd.googleAnalyticsToken,appName:"rui"}),LBe,Nze,Zze,Fze]})}return n})(),e8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,Wje]})}return n})(),t8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,rJ,VL,Or,DA,e8e,$a]})}return n})(),n8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,Or]})}return n})(),i8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,t8e,Or,uBe,n8e,La,JBe,iBe]})}return n})(),r8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,Or,$a]})}return n})(),o8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,VL]})}return n})(),kJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,Lp,tA,nA,$a]})}return n})(),s8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,Or,La,JK]})}return n})(),RJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,Or,vJ]})}return n})(),a8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,dF,Or,$a,DA,kJ,RJ,o8e,JK,s8e,RJ]})}return n})(),c8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,eu]})}return n})(),PJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,Lp,tA,nA,$a,kJ,rJ,Zd,VL,eu,$a,c8e]})}return n})(),l8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,$a,PJ,eu]})}return n})(),d8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,dw,Or,l8e]})}return n})(),u8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,Lp,Or,La,$a,Zd]})}return n})(),h8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,Or,vY,La,$a,Lp,Zd]})}return n})(),f8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,Lp,Or,La,$a,RBe,Zd]})}return n})(),p8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,vJ,Or]})}return n})(),m8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,tA,nA,eu,jK,Zd,Or,Lp]})}return n})(),g8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,dw,Or,eu]})}return n})(),_8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,g8e,eu,$a]})}return n})(),b8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({imports:[Hn,dF,DA,Or,hk,$a,u8e,_8e,h8e,f8e,p8e,m8e,IBe,PJ]})}return n})(),y8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:[{provide:Zq,useValue:Jq}],imports:[tO,hk,Or]})}return n})(),v8e=(()=>{class n{constructor(t){this.injector=t}ngDoBootstrap(){const t=function mse(n,e){const t=function cse(n,e){return e.get(Hc).resolveComponentFactory(n).inputs}(n,e.injector),i=e.strategyFactory||new hse(n,e.injector),r=function ase(n){const e={};return n.forEach(({propName:t,templateName:i,transform:r})=>{e[function nse(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(i)]=[t,r]}),e}(t);class o extends pse{static#e=this.observedAttributes=Object.keys(r);get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=i.create(this.injector||e.injector);t.forEach(({propName:c,transform:l})=>{if(!this.hasOwnProperty(c))return;const d=this[c];delete this[c],a.setInputValue(c,d,l)})}return this._ngElementStrategy}constructor(a){super(),this.injector=a}attributeChangedCallback(a,c,l,d){const[h,p]=r[a];this.ngElementStrategy.setInputValue(h,l,p)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const c=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(c)})}}return t.forEach(({propName:s,transform:a})=>{Object.defineProperty(o.prototype,s,{get(){return this.ngElementStrategy.getInputValue(s)},set(c){this.ngElementStrategy.setInputValue(s,c,a)},configurable:!0,enumerable:!0})}),o}(kze,{injector:this.injector});customElements.define("ccf-rui",t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ze(Li))};static#t=this.\u0275mod=$t({type:n});static#n=this.\u0275inj=Wt({providers:[{provide:qq,useValue:"hubmap-theme-light"},{provide:Xz,useValue:{floatLabel:!0}}],imports:[tO,hk,Qze,Or,y8e,r8e,i8e,a8e,b8e,d8e,VBe,L8]})}return n})();Xoe().bootstrapModule(v8e).catch(n=>console.error(n))},2323:re=>{re.exports=function(m,A){var b=A.length;if(0!==b){var R=m.length;m.length+=b;for(var S=0;S<b;S++)m[R+S]=A[S]}}},3982:re=>{"use strict";const{AbortController:q,AbortSignal:m}=typeof self<"u"?self:typeof window<"u"?window:void 0;re.exports=q,re.exports.AbortSignal=m,re.exports.default=q},9919:(re,q)=>{"use strict";q.byteLength=function y(C){var W=g(C),Y=W[1];return 3*(W[0]+Y)/4-Y},q.toByteArray=function F(C){var W,v,ce=g(C),Y=ce[0],ie=ce[1],ne=new b(function T(C,W,ce){return 3*(W+ce)/4-ce}(0,Y,ie)),X=0,V=ie>0?Y-4:Y;for(v=0;v<V;v+=4)W=A[C.charCodeAt(v)]<<18|A[C.charCodeAt(v+1)]<<12|A[C.charCodeAt(v+2)]<<6|A[C.charCodeAt(v+3)],ne[X++]=W>>16&255,ne[X++]=W>>8&255,ne[X++]=255&W;return 2===ie&&(W=A[C.charCodeAt(v)]<<2|A[C.charCodeAt(v+1)]>>4,ne[X++]=255&W),1===ie&&(W=A[C.charCodeAt(v)]<<10|A[C.charCodeAt(v+1)]<<4|A[C.charCodeAt(v+2)]>>2,ne[X++]=W>>8&255,ne[X++]=255&W),ne},q.fromByteArray=function te(C){for(var W,ce=C.length,Y=ce%3,ie=[],X=0,V=ce-Y;X<V;X+=16383)ie.push(B(C,X,X+16383>V?V:X+16383));return 1===Y?ie.push(m[(W=C[ce-1])>>2]+m[W<<4&63]+"=="):2===Y&&ie.push(m[(W=(C[ce-2]<<8)+C[ce-1])>>10]+m[W>>4&63]+m[W<<2&63]+"="),ie.join("")};for(var m=[],A=[],b=typeof Uint8Array<"u"?Uint8Array:Array,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0;S<64;++S)m[S]=R[S],A[R.charCodeAt(S)]=S;function g(C){var W=C.length;if(W%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ce=C.indexOf("=");return-1===ce&&(ce=W),[ce,ce===W?0:4-ce%4]}function D(C){return m[C>>18&63]+m[C>>12&63]+m[C>>6&63]+m[63&C]}function B(C,W,ce){for(var ie=[],ne=W;ne<ce;ne+=3)ie.push(D((C[ne]<<16&16711680)+(C[ne+1]<<8&65280)+(255&C[ne+2])));return ie.join("")}A["-".charCodeAt(0)]=62,A["_".charCodeAt(0)]=63},1979:(re,q)=>{"use strict";var A=function(R){return R.typeOfFunction="function",R.boolTrue=!0,R}(A||{});q.ak=function b(R,S,P){if(!P||typeof P.value!==A.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+S+"> is not a method!");return{configurable:A.boolTrue,get:function(){var g=P.value.bind(this);return Object.defineProperty(this,S,{value:g,configurable:A.boolTrue,writable:A.boolTrue}),g}}}},9007:(re,q,m)=>{"use strict";var A=m(9919),b=m(2601);q.Buffer=g,q.SlowBuffer=function Y($){return+$!=$&&($=0),g.alloc(+$)},q.INSPECT_MAX_BYTES=50;var R=2147483647;function P($){if($>R)throw new RangeError('The value "'+$+'" is invalid for option "size"');var E=new Uint8Array($);return E.__proto__=g.prototype,E}function g($,E,N){if("number"==typeof $){if("string"==typeof E)throw new TypeError('The "string" argument must be of type string. Received type number');return D($)}return y($,E,N)}function y($,E,N){if("string"==typeof $)return function B($,E){if(("string"!=typeof E||""===E)&&(E="utf8"),!g.isEncoding(E))throw new TypeError("Unknown encoding: "+E);var N=0|ie($,E),de=P(N),pe=de.write($,E);return pe!==N&&(de=de.slice(0,pe)),de}($,E);if(ArrayBuffer.isView($))return te($);if(null==$)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(he($,ArrayBuffer)||$&&he($.buffer,ArrayBuffer))return function C($,E,N){if(E<0||$.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<E+(N||0))throw new RangeError('"length" is outside of buffer bounds');var de;return(de=void 0===E&&void 0===N?new Uint8Array($):void 0===N?new Uint8Array($,E):new Uint8Array($,E,N)).__proto__=g.prototype,de}($,E,N);if("number"==typeof $)throw new TypeError('The "value" argument must not be of type number. Received type number');var de=$.valueOf&&$.valueOf();if(null!=de&&de!==$)return g.from(de,E,N);var pe=function W($){if(g.isBuffer($)){var E=0|ce($.length),N=P(E);return 0===N.length||$.copy(N,0,0,E),N}return void 0!==$.length?"number"!=typeof $.length||Z($.length)?P(0):te($):"Buffer"===$.type&&Array.isArray($.data)?te($.data):void 0}($);if(pe)return pe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof $[Symbol.toPrimitive])return g.from($[Symbol.toPrimitive]("string"),E,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function T($){if("number"!=typeof $)throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function D($){return T($),P($<0?0:0|ce($))}function te($){for(var E=$.length<0?0:0|ce($.length),N=P(E),de=0;de<E;de+=1)N[de]=255&$[de];return N}function ce($){if($>=R)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+R.toString(16)+" bytes");return 0|$}function ie($,E){if(g.isBuffer($))return $.length;if(ArrayBuffer.isView($)||he($,ArrayBuffer))return $.byteLength;if("string"!=typeof $)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);var N=$.length,de=arguments.length>2&&!0===arguments[2];if(!de&&0===N)return 0;for(var pe=!1;;)switch(E){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return O($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*N;case"hex":return N>>>1;case"base64":return Be($).length;default:if(pe)return de?-1:O($).length;E=(""+E).toLowerCase(),pe=!0}}function ne($,E,N){var de=!1;if((void 0===E||E<0)&&(E=0),E>this.length||((void 0===N||N>this.length)&&(N=this.length),N<=0)||(N>>>=0)<=(E>>>=0))return"";for($||($="utf8");;)switch($){case"hex":return Le(this,E,N);case"utf8":case"utf-8":return Re(this,E,N);case"ascii":return qe(this,E,N);case"latin1":case"binary":return Ee(this,E,N);case"base64":return we(this,E,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,E,N);default:if(de)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),de=!0}}function X($,E,N){var de=$[E];$[E]=$[N],$[N]=de}function V($,E,N,de,pe){if(0===$.length)return-1;if("string"==typeof N?(de=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),Z(N=+N)&&(N=pe?0:$.length-1),N<0&&(N=$.length+N),N>=$.length){if(pe)return-1;N=$.length-1}else if(N<0){if(!pe)return-1;N=0}if("string"==typeof E&&(E=g.from(E,de)),g.isBuffer(E))return 0===E.length?-1:v($,E,N,de,pe);if("number"==typeof E)return E&=255,"function"==typeof Uint8Array.prototype.indexOf?pe?Uint8Array.prototype.indexOf.call($,E,N):Uint8Array.prototype.lastIndexOf.call($,E,N):v($,[E],N,de,pe);throw new TypeError("val must be string, number or Buffer")}function v($,E,N,de,pe){var Ct,He=1,ke=$.length,ft=E.length;if(void 0!==de&&("ucs2"===(de=String(de).toLowerCase())||"ucs-2"===de||"utf16le"===de||"utf-16le"===de)){if($.length<2||E.length<2)return-1;He=2,ke/=2,ft/=2,N/=2}function Ht(J,M){return 1===He?J[M]:J.readUInt16BE(M*He)}if(pe){var en=-1;for(Ct=N;Ct<ke;Ct++)if(Ht($,Ct)===Ht(E,-1===en?0:Ct-en)){if(-1===en&&(en=Ct),Ct-en+1===ft)return en*He}else-1!==en&&(Ct-=Ct-en),en=-1}else for(N+ft>ke&&(N=ke-ft),Ct=N;Ct>=0;Ct--){for(var xn=!0,fe=0;fe<ft;fe++)if(Ht($,Ct+fe)!==Ht(E,fe)){xn=!1;break}if(xn)return Ct}return-1}function U($,E,N,de){N=Number(N)||0;var pe=$.length-N;de?(de=Number(de))>pe&&(de=pe):de=pe;var He=E.length;de>He/2&&(de=He/2);for(var ke=0;ke<de;++ke){var ft=parseInt(E.substr(2*ke,2),16);if(Z(ft))return ke;$[N+ke]=ft}return ke}function k($,E,N,de){return it(O(E,$.length-N),$,N,de)}function ue($,E,N,de){return it(function se($){for(var E=[],N=0;N<$.length;++N)E.push(255&$.charCodeAt(N));return E}(E),$,N,de)}function G($,E,N,de){return ue($,E,N,de)}function Te($,E,N,de){return it(Be(E),$,N,de)}function le($,E,N,de){return it(function j($,E){for(var N,de,He=[],ke=0;ke<$.length&&!((E-=2)<0);++ke)de=(N=$.charCodeAt(ke))>>8,He.push(N%256),He.push(de);return He}(E,$.length-N),$,N,de)}function we($,E,N){return A.fromByteArray(0===E&&N===$.length?$:$.slice(E,N))}function Re($,E,N){N=Math.min($.length,N);for(var de=[],pe=E;pe<N;){var Ht,Ct,en,xn,He=$[pe],ke=null,ft=He>239?4:He>223?3:He>191?2:1;if(pe+ft<=N)switch(ft){case 1:He<128&&(ke=He);break;case 2:128==(192&(Ht=$[pe+1]))&&(xn=(31&He)<<6|63&Ht)>127&&(ke=xn);break;case 3:Ct=$[pe+2],128==(192&(Ht=$[pe+1]))&&128==(192&Ct)&&(xn=(15&He)<<12|(63&Ht)<<6|63&Ct)>2047&&(xn<55296||xn>57343)&&(ke=xn);break;case 4:Ct=$[pe+2],en=$[pe+3],128==(192&(Ht=$[pe+1]))&&128==(192&Ct)&&128==(192&en)&&(xn=(15&He)<<18|(63&Ht)<<12|(63&Ct)<<6|63&en)>65535&&xn<1114112&&(ke=xn)}null===ke?(ke=65533,ft=1):ke>65535&&(de.push((ke-=65536)>>>10&1023|55296),ke=56320|1023&ke),de.push(ke),pe+=ft}return function Je($){var E=$.length;if(E<=Ie)return String.fromCharCode.apply(String,$);for(var N="",de=0;de<E;)N+=String.fromCharCode.apply(String,$.slice(de,de+=Ie));return N}(de)}q.kMaxLength=R,!(g.TYPED_ARRAY_SUPPORT=function S(){try{var $=new Uint8Array(1);return $.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===$.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),g.poolSize=8192,g.from=function($,E,N){return y($,E,N)},g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array,g.alloc=function($,E,N){return function F($,E,N){return T($),$<=0?P($):void 0!==E?"string"==typeof N?P($).fill(E,N):P($).fill(E):P($)}($,E,N)},g.allocUnsafe=function($){return D($)},g.allocUnsafeSlow=function($){return D($)},g.isBuffer=function(E){return null!=E&&!0===E._isBuffer&&E!==g.prototype},g.compare=function(E,N){if(he(E,Uint8Array)&&(E=g.from(E,E.offset,E.byteLength)),he(N,Uint8Array)&&(N=g.from(N,N.offset,N.byteLength)),!g.isBuffer(E)||!g.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===N)return 0;for(var de=E.length,pe=N.length,He=0,ke=Math.min(de,pe);He<ke;++He)if(E[He]!==N[He]){de=E[He],pe=N[He];break}return de<pe?-1:pe<de?1:0},g.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(E,N){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(0===E.length)return g.alloc(0);var de;if(void 0===N)for(N=0,de=0;de<E.length;++de)N+=E[de].length;var pe=g.allocUnsafe(N),He=0;for(de=0;de<E.length;++de){var ke=E[de];if(he(ke,Uint8Array)&&(ke=g.from(ke)),!g.isBuffer(ke))throw new TypeError('"list" argument must be an Array of Buffers');ke.copy(pe,He),He+=ke.length}return pe},g.byteLength=ie,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var E=this.length;if(E%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<E;N+=2)X(this,N,N+1);return this},g.prototype.swap32=function(){var E=this.length;if(E%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<E;N+=4)X(this,N,N+3),X(this,N+1,N+2);return this},g.prototype.swap64=function(){var E=this.length;if(E%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<E;N+=8)X(this,N,N+7),X(this,N+1,N+6),X(this,N+2,N+5),X(this,N+3,N+4);return this},g.prototype.toLocaleString=g.prototype.toString=function(){var E=this.length;return 0===E?"":0===arguments.length?Re(this,0,E):ne.apply(this,arguments)},g.prototype.equals=function(E){if(!g.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E||0===g.compare(this,E)},g.prototype.inspect=function(){var E="",N=q.INSPECT_MAX_BYTES;return E=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(E+=" ... "),"<Buffer "+E+">"},g.prototype.compare=function(E,N,de,pe,He){if(he(E,Uint8Array)&&(E=g.from(E,E.offset,E.byteLength)),!g.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(void 0===N&&(N=0),void 0===de&&(de=E?E.length:0),void 0===pe&&(pe=0),void 0===He&&(He=this.length),N<0||de>E.length||pe<0||He>this.length)throw new RangeError("out of range index");if(pe>=He&&N>=de)return 0;if(pe>=He)return-1;if(N>=de)return 1;if(this===E)return 0;for(var ke=(He>>>=0)-(pe>>>=0),ft=(de>>>=0)-(N>>>=0),Ht=Math.min(ke,ft),Ct=this.slice(pe,He),en=E.slice(N,de),xn=0;xn<Ht;++xn)if(Ct[xn]!==en[xn]){ke=Ct[xn],ft=en[xn];break}return ke<ft?-1:ft<ke?1:0},g.prototype.includes=function(E,N,de){return-1!==this.indexOf(E,N,de)},g.prototype.indexOf=function(E,N,de){return V(this,E,N,de,!0)},g.prototype.lastIndexOf=function(E,N,de){return V(this,E,N,de,!1)},g.prototype.write=function(E,N,de,pe){if(void 0===N)pe="utf8",de=this.length,N=0;else if(void 0===de&&"string"==typeof N)pe=N,de=this.length,N=0;else{if(!isFinite(N))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");N>>>=0,isFinite(de)?(de>>>=0,void 0===pe&&(pe="utf8")):(pe=de,de=void 0)}var He=this.length-N;if((void 0===de||de>He)&&(de=He),E.length>0&&(de<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");for(var ke=!1;;)switch(pe){case"hex":return U(this,E,N,de);case"utf8":case"utf-8":return k(this,E,N,de);case"ascii":return ue(this,E,N,de);case"latin1":case"binary":return G(this,E,N,de);case"base64":return Te(this,E,N,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,E,N,de);default:if(ke)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),ke=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ie=4096;function qe($,E,N){var de="";N=Math.min($.length,N);for(var pe=E;pe<N;++pe)de+=String.fromCharCode(127&$[pe]);return de}function Ee($,E,N){var de="";N=Math.min($.length,N);for(var pe=E;pe<N;++pe)de+=String.fromCharCode($[pe]);return de}function Le($,E,N){var de=$.length;(!E||E<0)&&(E=0),(!N||N<0||N>de)&&(N=de);for(var pe="",He=E;He<N;++He)pe+=H($[He]);return pe}function Ne($,E,N){for(var de=$.slice(E,N),pe="",He=0;He<de.length;He+=2)pe+=String.fromCharCode(de[He]+256*de[He+1]);return pe}function ze($,E,N){if($%1!=0||$<0)throw new RangeError("offset is not uint");if($+E>N)throw new RangeError("Trying to access beyond buffer length")}function ge($,E,N,de,pe,He){if(!g.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>pe||E<He)throw new RangeError('"value" argument is out of bounds');if(N+de>$.length)throw new RangeError("Index out of range")}function Se($,E,N,de,pe,He){if(N+de>$.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function Ke($,E,N,de,pe){return E=+E,N>>>=0,pe||Se($,0,N,4),b.write($,E,N,de,23,4),N+4}function dt($,E,N,de,pe){return E=+E,N>>>=0,pe||Se($,0,N,8),b.write($,E,N,de,52,8),N+8}g.prototype.slice=function(E,N){var de=this.length;(E=~~E)<0?(E+=de)<0&&(E=0):E>de&&(E=de),(N=void 0===N?de:~~N)<0?(N+=de)<0&&(N=0):N>de&&(N=de),N<E&&(N=E);var pe=this.subarray(E,N);return pe.__proto__=g.prototype,pe},g.prototype.readUIntLE=function(E,N,de){E>>>=0,N>>>=0,de||ze(E,N,this.length);for(var pe=this[E],He=1,ke=0;++ke<N&&(He*=256);)pe+=this[E+ke]*He;return pe},g.prototype.readUIntBE=function(E,N,de){E>>>=0,N>>>=0,de||ze(E,N,this.length);for(var pe=this[E+--N],He=1;N>0&&(He*=256);)pe+=this[E+--N]*He;return pe},g.prototype.readUInt8=function(E,N){return E>>>=0,N||ze(E,1,this.length),this[E]},g.prototype.readUInt16LE=function(E,N){return E>>>=0,N||ze(E,2,this.length),this[E]|this[E+1]<<8},g.prototype.readUInt16BE=function(E,N){return E>>>=0,N||ze(E,2,this.length),this[E]<<8|this[E+1]},g.prototype.readUInt32LE=function(E,N){return E>>>=0,N||ze(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+16777216*this[E+3]},g.prototype.readUInt32BE=function(E,N){return E>>>=0,N||ze(E,4,this.length),16777216*this[E]+(this[E+1]<<16|this[E+2]<<8|this[E+3])},g.prototype.readIntLE=function(E,N,de){E>>>=0,N>>>=0,de||ze(E,N,this.length);for(var pe=this[E],He=1,ke=0;++ke<N&&(He*=256);)pe+=this[E+ke]*He;return pe>=(He*=128)&&(pe-=Math.pow(2,8*N)),pe},g.prototype.readIntBE=function(E,N,de){E>>>=0,N>>>=0,de||ze(E,N,this.length);for(var pe=N,He=1,ke=this[E+--pe];pe>0&&(He*=256);)ke+=this[E+--pe]*He;return ke>=(He*=128)&&(ke-=Math.pow(2,8*N)),ke},g.prototype.readInt8=function(E,N){return E>>>=0,N||ze(E,1,this.length),128&this[E]?-1*(255-this[E]+1):this[E]},g.prototype.readInt16LE=function(E,N){E>>>=0,N||ze(E,2,this.length);var de=this[E]|this[E+1]<<8;return 32768&de?4294901760|de:de},g.prototype.readInt16BE=function(E,N){E>>>=0,N||ze(E,2,this.length);var de=this[E+1]|this[E]<<8;return 32768&de?4294901760|de:de},g.prototype.readInt32LE=function(E,N){return E>>>=0,N||ze(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},g.prototype.readInt32BE=function(E,N){return E>>>=0,N||ze(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},g.prototype.readFloatLE=function(E,N){return E>>>=0,N||ze(E,4,this.length),b.read(this,E,!0,23,4)},g.prototype.readFloatBE=function(E,N){return E>>>=0,N||ze(E,4,this.length),b.read(this,E,!1,23,4)},g.prototype.readDoubleLE=function(E,N){return E>>>=0,N||ze(E,8,this.length),b.read(this,E,!0,52,8)},g.prototype.readDoubleBE=function(E,N){return E>>>=0,N||ze(E,8,this.length),b.read(this,E,!1,52,8)},g.prototype.writeUIntLE=function(E,N,de,pe){E=+E,N>>>=0,de>>>=0,pe||ge(this,E,N,de,Math.pow(2,8*de)-1,0);var ke=1,ft=0;for(this[N]=255&E;++ft<de&&(ke*=256);)this[N+ft]=E/ke&255;return N+de},g.prototype.writeUIntBE=function(E,N,de,pe){E=+E,N>>>=0,de>>>=0,pe||ge(this,E,N,de,Math.pow(2,8*de)-1,0);var ke=de-1,ft=1;for(this[N+ke]=255&E;--ke>=0&&(ft*=256);)this[N+ke]=E/ft&255;return N+de},g.prototype.writeUInt8=function(E,N,de){return E=+E,N>>>=0,de||ge(this,E,N,1,255,0),this[N]=255&E,N+1},g.prototype.writeUInt16LE=function(E,N,de){return E=+E,N>>>=0,de||ge(this,E,N,2,65535,0),this[N]=255&E,this[N+1]=E>>>8,N+2},g.prototype.writeUInt16BE=function(E,N,de){return E=+E,N>>>=0,de||ge(this,E,N,2,65535,0),this[N]=E>>>8,this[N+1]=255&E,N+2},g.prototype.writeUInt32LE=function(E,N,de){return E=+E,N>>>=0,de||ge(this,E,N,4,4294967295,0),this[N+3]=E>>>24,this[N+2]=E>>>16,this[N+1]=E>>>8,this[N]=255&E,N+4},g.prototype.writeUInt32BE=function(E,N,de){return E=+E,N>>>=0,de||ge(this,E,N,4,4294967295,0),this[N]=E>>>24,this[N+1]=E>>>16,this[N+2]=E>>>8,this[N+3]=255&E,N+4},g.prototype.writeIntLE=function(E,N,de,pe){if(E=+E,N>>>=0,!pe){var He=Math.pow(2,8*de-1);ge(this,E,N,de,He-1,-He)}var ke=0,ft=1,Ht=0;for(this[N]=255&E;++ke<de&&(ft*=256);)E<0&&0===Ht&&0!==this[N+ke-1]&&(Ht=1),this[N+ke]=(E/ft>>0)-Ht&255;return N+de},g.prototype.writeIntBE=function(E,N,de,pe){if(E=+E,N>>>=0,!pe){var He=Math.pow(2,8*de-1);ge(this,E,N,de,He-1,-He)}var ke=de-1,ft=1,Ht=0;for(this[N+ke]=255&E;--ke>=0&&(ft*=256);)E<0&&0===Ht&&0!==this[N+ke+1]&&(Ht=1),this[N+ke]=(E/ft>>0)-Ht&255;return N+de},g.prototype.writeInt8=function(E,N,de){return E=+E,N>>>=0,de||ge(this,E,N,1,127,-128),E<0&&(E=255+E+1),this[N]=255&E,N+1},g.prototype.writeInt16LE=function(E,N,de){return E=+E,N>>>=0,de||ge(this,E,N,2,32767,-32768),this[N]=255&E,this[N+1]=E>>>8,N+2},g.prototype.writeInt16BE=function(E,N,de){return E=+E,N>>>=0,de||ge(this,E,N,2,32767,-32768),this[N]=E>>>8,this[N+1]=255&E,N+2},g.prototype.writeInt32LE=function(E,N,de){return E=+E,N>>>=0,de||ge(this,E,N,4,2147483647,-2147483648),this[N]=255&E,this[N+1]=E>>>8,this[N+2]=E>>>16,this[N+3]=E>>>24,N+4},g.prototype.writeInt32BE=function(E,N,de){return E=+E,N>>>=0,de||ge(this,E,N,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[N]=E>>>24,this[N+1]=E>>>16,this[N+2]=E>>>8,this[N+3]=255&E,N+4},g.prototype.writeFloatLE=function(E,N,de){return Ke(this,E,N,!0,de)},g.prototype.writeFloatBE=function(E,N,de){return Ke(this,E,N,!1,de)},g.prototype.writeDoubleLE=function(E,N,de){return dt(this,E,N,!0,de)},g.prototype.writeDoubleBE=function(E,N,de){return dt(this,E,N,!1,de)},g.prototype.copy=function(E,N,de,pe){if(!g.isBuffer(E))throw new TypeError("argument should be a Buffer");if(de||(de=0),!pe&&0!==pe&&(pe=this.length),N>=E.length&&(N=E.length),N||(N=0),pe>0&&pe<de&&(pe=de),pe===de||0===E.length||0===this.length)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),E.length-N<pe-de&&(pe=E.length-N+de);var He=pe-de;if(this===E&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(N,de,pe);else if(this===E&&de<N&&N<pe)for(var ke=He-1;ke>=0;--ke)E[ke+N]=this[ke+de];else Uint8Array.prototype.set.call(E,this.subarray(de,pe),N);return He},g.prototype.fill=function(E,N,de,pe){if("string"==typeof E){if("string"==typeof N?(pe=N,N=0,de=this.length):"string"==typeof de&&(pe=de,de=this.length),void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!g.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(1===E.length){var He=E.charCodeAt(0);("utf8"===pe&&He<128||"latin1"===pe)&&(E=He)}}else"number"==typeof E&&(E&=255);if(N<0||this.length<N||this.length<de)throw new RangeError("Out of range index");if(de<=N)return this;var ke;if(N>>>=0,de=void 0===de?this.length:de>>>0,E||(E=0),"number"==typeof E)for(ke=N;ke<de;++ke)this[ke]=E;else{var ft=g.isBuffer(E)?E:g.from(E,pe),Ht=ft.length;if(0===Ht)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(ke=0;ke<de-N;++ke)this[ke+N]=ft[ke%Ht]}return this};var Ye=/[^+/0-9A-Za-z-_]/g;function H($){return $<16?"0"+$.toString(16):$.toString(16)}function O($,E){E=E||1/0;for(var N,de=$.length,pe=null,He=[],ke=0;ke<de;++ke){if((N=$.charCodeAt(ke))>55295&&N<57344){if(!pe){if(N>56319){(E-=3)>-1&&He.push(239,191,189);continue}if(ke+1===de){(E-=3)>-1&&He.push(239,191,189);continue}pe=N;continue}if(N<56320){(E-=3)>-1&&He.push(239,191,189),pe=N;continue}N=65536+(pe-55296<<10|N-56320)}else pe&&(E-=3)>-1&&He.push(239,191,189);if(pe=null,N<128){if((E-=1)<0)break;He.push(N)}else if(N<2048){if((E-=2)<0)break;He.push(N>>6|192,63&N|128)}else if(N<65536){if((E-=3)<0)break;He.push(N>>12|224,N>>6&63|128,63&N|128)}else{if(!(N<1114112))throw new Error("Invalid code point");if((E-=4)<0)break;He.push(N>>18|240,N>>12&63|128,N>>6&63|128,63&N|128)}}return He}function Be($){return A.toByteArray(function be($){if(($=($=$.split("=")[0]).trim().replace(Ye,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}($))}function it($,E,N,de){for(var pe=0;pe<de&&!(pe+N>=E.length||pe>=$.length);++pe)E[pe+N]=$[pe];return pe}function he($,E){return $ instanceof E||null!=$&&null!=$.constructor&&null!=$.constructor.name&&$.constructor.name===E.name}function Z($){return $!=$}},1563:(re,q,m)=>{re.exports={ResizeSensor:m(884),ElementQueries:m(8381)}},8381:function(re,q,m){"use strict";var A,b,R;typeof window<"u"&&window,b=[m(884)],void 0!==(R="function"==typeof(A=function(S){var P=function(){var y,T={},F=[];function D(G){G||(G=document.documentElement);var Te=window.getComputedStyle(G,null).fontSize;return parseFloat(Te)||16}function te(G,Te){var le=Te.split(/\d/),we=le[le.length-1];switch(Te=parseFloat(Te),we){case"px":default:return Te;case"em":return Te*D(G);case"rem":return Te*D();case"vw":return Te*document.documentElement.clientWidth/100;case"vh":return Te*document.documentElement.clientHeight/100;case"vmin":case"vmax":var Re=document.documentElement.clientWidth/100,Ie=document.documentElement.clientHeight/100;return Te*(0,Math["vmin"===we?"min":"max"])(Re,Ie)}}function C(G,Te){this.element=G;var le,we,Re,Ie,Je,qe,Ee,Le,Ne=["min-width","min-height","max-width","max-height"];this.call=function(){for(le in Re=function B(G){if(!G.getBoundingClientRect)return{width:G.offsetWidth,height:G.offsetHeight};var Te=G.getBoundingClientRect();return{width:Math.round(Te.width),height:Math.round(Te.height)}}(this.element),qe={},T[Te])T[Te].hasOwnProperty(le)&&(Ie=te(this.element,(we=T[Te][le]).value),Je="width"===we.property?Re.width:Re.height,Ee="","min"===we.mode&&Je>=Ie&&(Ee+=we.value),"max"===we.mode&&Je<=Ie&&(Ee+=we.value),qe[Le=we.mode+"-"+we.property]||(qe[Le]=""),Ee&&-1===(" "+qe[Le]+" ").indexOf(" "+Ee+" ")&&(qe[Le]+=" "+Ee));for(var ze in Ne)Ne.hasOwnProperty(ze)&&(qe[Ne[ze]]?this.element.setAttribute(Ne[ze],qe[Ne[ze]].substr(1)):this.element.removeAttribute(Ne[ze]))}}function W(G,Te){G.elementQueriesSetupInformation||(G.elementQueriesSetupInformation=new C(G,Te)),G.elementQueriesSensor||(G.elementQueriesSensor=new S(G,function(){G.elementQueriesSetupInformation.call()}))}function ce(G,Te,le,we){if(typeof T[G]>"u"){T[G]=[];var Re=F.length;y.innerHTML+="\n"+G+" {animation: 0.1s element-queries;}",y.innerHTML+="\n"+G+" > .resize-sensor {min-width: "+Re+"px;}",F.push(G)}T[G].push({mode:Te,property:le,value:we})}function Y(G){var Te;if(document.querySelectorAll&&(Te=G?G.querySelectorAll.bind(G):document.querySelectorAll.bind(document)),!Te&&typeof $$<"u"&&(Te=$$),!Te&&typeof jQuery<"u"&&(Te=jQuery),!Te)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return Te}function ne(G){var Te=[],le=[],we=[],Re=0,Ie=-1,Je=[];for(var qe in G.children)if(G.children.hasOwnProperty(qe)&&G.children[qe].tagName&&"img"===G.children[qe].tagName.toLowerCase()){Te.push(G.children[qe]);var Ee=G.children[qe].getAttribute("min-width")||G.children[qe].getAttribute("data-min-width"),Le=G.children[qe].getAttribute("data-src")||G.children[qe].getAttribute("url");we.push(Le),le.push({minWidth:Ee}),Ee?G.children[qe].style.display="none":(Re=Te.length-1,G.children[qe].style.display="block")}function ze(){var Se,ge=!1;for(Se in Te)Te.hasOwnProperty(Se)&&le[Se].minWidth&&G.offsetWidth>le[Se].minWidth&&(ge=Se);if(ge||(ge=Re),Ie!==ge)if(Je[ge])Te[Ie].style.display="none",Te[ge].style.display="block",Ie=ge;else{var Ke=new Image;Ke.onload=function(){Te[ge].src=we[ge],Te[Ie].style.display="none",Te[ge].style.display="block",Je[ge]=!0,Ie=ge},Ke.src=we[ge]}else Te[ge].src=we[ge]}Ie=Re,G.resizeSensorInstance=new S(G,ze),ze()}var V=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,v=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function U(G){var Te,le,we,Re;for(G=G.replace(/'/g,'"');null!==(Te=V.exec(G));)for(le=Te[1]+Te[3],we=Te[2];null!==(Re=v.exec(we));)ce(le,Re[1],Re[2],Re[3])}function k(G){var Te="";if(G)if("string"==typeof G)(-1!==(G=G.toLowerCase()).indexOf("min-width")||-1!==G.indexOf("max-width"))&&U(G);else for(var le=0,we=G.length;le<we;le++)1===G[le].type?(-1!==(Te=G[le].selectorText||G[le].cssText).indexOf("min-height")||-1!==Te.indexOf("max-height")||-1!==Te.indexOf("min-width")||-1!==Te.indexOf("max-width"))&&U(Te):4===G[le].type?k(G[le].cssRules||G[le].rules):3===G[le].type&&G[le].styleSheet.hasOwnProperty("cssRules")&&k(G[le].styleSheet.cssRules)}var ue=!1;this.init=function(){var G="animationstart";typeof document.documentElement.style.webkitAnimationName<"u"?G="webkitAnimationStart":typeof document.documentElement.style.MozAnimationName<"u"?G="mozanimationstart":typeof document.documentElement.style.OAnimationName<"u"&&(G="oanimationstart"),document.body.addEventListener(G,function(we){var Re=we.target,Ie=Re&&window.getComputedStyle(Re,null),Je=Ie&&Ie.getPropertyValue("animation-name");if(Je&&-1!==Je.indexOf("element-queries")){Re.elementQueriesSensor=new S(Re,function(){Re.elementQueriesSetupInformation&&Re.elementQueriesSetupInformation.call()});var Le=window.getComputedStyle(Re.resizeSensor,null).getPropertyValue("min-width");Le=parseInt(Le.replace("px","")),W(we.target,F[Le])}}),ue||((y=document.createElement("style")).type="text/css",y.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",y.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(y),ue=!0);for(var Te=0,le=document.styleSheets.length;Te<le;Te++)try{document.styleSheets[Te].href&&0===document.styleSheets[Te].href.indexOf("file://")&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[Te].href),k(document.styleSheets[Te].cssRules||document.styleSheets[Te].rules||document.styleSheets[Te].cssText)}catch{}!function X(){for(var Te=Y()("[data-responsive-image],[responsive-image]"),le=0,we=Te.length;le<we;le++)ne(Te[le])}()},this.findElementQueriesElements=function(G){!function ie(G){var Te=Y(G);for(var le in T)if(T.hasOwnProperty(le))for(var we=Te(le,G),Re=0,Ie=we.length;Re<Ie;Re++)W(we[Re],le)}(G)},this.update=function(){this.init()}};P.update=function(){P.instance.update()},P.detach=function(y){y.elementQueriesSetupInformation?(y.elementQueriesSensor.detach(),delete y.elementQueriesSetupInformation,delete y.elementQueriesSensor):y.resizeSensorInstance&&(y.resizeSensorInstance.detach(),delete y.resizeSensorInstance)},P.init=function(){P.instance||(P.instance=new P),P.instance.init()};return P.findElementQueriesElements=function(y){P.instance.findElementQueriesElements(y)},P.listen=function(){!function(y){if(document.addEventListener)document.addEventListener("DOMContentLoaded",y,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var T=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(y(),clearInterval(T))},10);else window.onload=y}(P.init)},P})?A.apply(q,b):A)&&(re.exports=R)},884:function(re,q,m){"use strict";var A,b;typeof window<"u"&&window,void 0!==(b="function"==typeof(A=function(){if(typeof window>"u")return null;var R=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")(),S=R.requestAnimationFrame||R.mozRequestAnimationFrame||R.webkitRequestAnimationFrame||function(B){return R.setTimeout(B,20)},P=R.cancelAnimationFrame||R.mozCancelAnimationFrame||R.webkitCancelAnimationFrame||function(B){R.clearTimeout(B)};function g(B,te){var C=Object.prototype.toString.call(B),W="[object Array]"===C||"[object NodeList]"===C||"[object HTMLCollection]"===C||"[object Object]"===C||typeof jQuery<"u"&&B instanceof jQuery||typeof Elements<"u"&&B instanceof Elements,ce=0,Y=B.length;if(W)for(;ce<Y;ce++)te(B[ce]);else te(B)}function y(B){if(!B.getBoundingClientRect)return{width:B.offsetWidth,height:B.offsetHeight};var te=B.getBoundingClientRect();return{width:Math.round(te.width),height:Math.round(te.height)}}function T(B,te){Object.keys(te).forEach(function(C){B.style[C]=te[C]})}var F=function(B,te){var C=0;function W(){var ie,ne,Y=[];this.add=function(X){Y.push(X)},this.call=function(X){for(ie=0,ne=Y.length;ie<ne;ie++)Y[ie].call(this,X)},this.remove=function(X){var V=[];for(ie=0,ne=Y.length;ie<ne;ie++)Y[ie]!==X&&V.push(Y[ie]);Y=V},this.length=function(){return Y.length}}function ce(Y,ie){if(Y){if(Y.resizedAttached)return void Y.resizedAttached.add(ie);Y.resizedAttached=new W,Y.resizedAttached.add(ie),Y.resizeSensor=document.createElement("div"),Y.resizeSensor.dir="ltr",Y.resizeSensor.className="resize-sensor";var ne={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},X={position:"absolute",left:"0px",top:"0px",transition:"0s"};T(Y.resizeSensor,ne);var V=document.createElement("div");V.className="resize-sensor-expand",T(V,ne);var v=document.createElement("div");T(v,X),V.appendChild(v);var U=document.createElement("div");U.className="resize-sensor-shrink",T(U,ne);var k=document.createElement("div");T(k,X),T(k,{width:"200%",height:"200%"}),U.appendChild(k),Y.resizeSensor.appendChild(V),Y.resizeSensor.appendChild(U),Y.appendChild(Y.resizeSensor);var ue=window.getComputedStyle(Y),G=ue?ue.getPropertyValue("position"):null;"absolute"!==G&&"relative"!==G&&"fixed"!==G&&"sticky"!==G&&(Y.style.position="relative");var Te=!1,le=0,we=y(Y),Re=0,Ie=0,Je=!0;C=0;var Ee=function(){if(Je){if(0===Y.offsetWidth&&0===Y.offsetHeight)return void(C||(C=S(function(){C=0,Ee()})));Je=!1}var ge,Se;Se=Y.offsetHeight,v.style.width=(ge=Y.offsetWidth)+10+"px",v.style.height=Se+10+"px",V.scrollLeft=ge+10,V.scrollTop=Se+10,U.scrollLeft=ge+10,U.scrollTop=Se+10};Y.resizeSensor.resetSensor=Ee;var Le=function(){le=0,Te&&(Re=we.width,Ie=we.height,Y.resizedAttached&&Y.resizedAttached.call(we))},Ne=function(){we=y(Y),(Te=we.width!==Re||we.height!==Ie)&&!le&&(le=S(Le)),Ee()},ze=function(ge,Se,Ke){ge.attachEvent?ge.attachEvent("on"+Se,Ke):ge.addEventListener(Se,Ke)};ze(V,"scroll",Ne),ze(U,"scroll",Ne),C=S(function(){C=0,Ee()})}}g(B,function(Y){ce(Y,te)}),this.detach=function(Y){C||(P(C),C=0),F.detach(B,Y)},this.reset=function(){B.resizeSensor.resetSensor()}};if(F.reset=function(B){g(B,function(te){te.resizeSensor.resetSensor()})},F.detach=function(B,te){g(B,function(C){C&&(C.resizedAttached&&"function"==typeof te&&(C.resizedAttached.remove(te),C.resizedAttached.length())||C.resizeSensor&&(C.contains(C.resizeSensor)&&C.removeChild(C.resizeSensor),delete C.resizeSensor,delete C.resizedAttached))})},typeof MutationObserver<"u"){var D=new MutationObserver(function(B){for(var te in B)if(B.hasOwnProperty(te))for(var C=B[te].addedNodes,W=0;W<C.length;W++)C[W].resizeSensor&&F.reset(C[W])});document.addEventListener("DOMContentLoaded",function(B){D.observe(document.body,{childList:!0,subtree:!0})})}return F})?A.call(q,m,q,re):A)&&(re.exports=b)},2016:re=>{"use strict";var A,q="object"==typeof Reflect?Reflect:null,m=q&&"function"==typeof q.apply?q.apply:function(V,v,U){return Function.prototype.apply.call(V,v,U)};A=q&&"function"==typeof q.ownKeys?q.ownKeys:Object.getOwnPropertySymbols?function(V){return Object.getOwnPropertyNames(V).concat(Object.getOwnPropertySymbols(V))}:function(V){return Object.getOwnPropertyNames(V)};var R=Number.isNaN||function(V){return V!=V};function S(){S.init.call(this)}re.exports=S,re.exports.once=function Y(X,V){return new Promise(function(v,U){function k(G){X.removeListener(V,ue),U(G)}function ue(){"function"==typeof X.removeListener&&X.removeListener("error",k),v([].slice.call(arguments))}ne(X,V,ue,{once:!0}),"error"!==V&&function ie(X,V,v){"function"==typeof X.on&&ne(X,"error",V,v)}(X,k,{once:!0})})},S.EventEmitter=S,S.prototype._events=void 0,S.prototype._eventsCount=0,S.prototype._maxListeners=void 0;var P=10;function g(X){if("function"!=typeof X)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof X)}function y(X){return void 0===X._maxListeners?S.defaultMaxListeners:X._maxListeners}function T(X,V,v,U){var k,ue,G;if(g(v),void 0===(ue=X._events)?(ue=X._events=Object.create(null),X._eventsCount=0):(void 0!==ue.newListener&&(X.emit("newListener",V,v.listener?v.listener:v),ue=X._events),G=ue[V]),void 0===G)G=ue[V]=v,++X._eventsCount;else if("function"==typeof G?G=ue[V]=U?[v,G]:[G,v]:U?G.unshift(v):G.push(v),(k=y(X))>0&&G.length>k&&!G.warned){G.warned=!0;var Te=new Error("Possible EventEmitter memory leak detected. "+G.length+" "+String(V)+" listeners added. Use emitter.setMaxListeners() to increase limit");Te.name="MaxListenersExceededWarning",Te.emitter=X,Te.type=V,Te.count=G.length,function b(X){console&&console.warn&&console.warn(X)}(Te)}return X}function F(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function D(X,V,v){var U={fired:!1,wrapFn:void 0,target:X,type:V,listener:v},k=F.bind(U);return k.listener=v,U.wrapFn=k,k}function B(X,V,v){var U=X._events;if(void 0===U)return[];var k=U[V];return void 0===k?[]:"function"==typeof k?v?[k.listener||k]:[k]:v?function ce(X){for(var V=new Array(X.length),v=0;v<V.length;++v)V[v]=X[v].listener||X[v];return V}(k):C(k,k.length)}function te(X){var V=this._events;if(void 0!==V){var v=V[X];if("function"==typeof v)return 1;if(void 0!==v)return v.length}return 0}function C(X,V){for(var v=new Array(V),U=0;U<V;++U)v[U]=X[U];return v}function ne(X,V,v,U){if("function"==typeof X.on)U.once?X.once(V,v):X.on(V,v);else{if("function"!=typeof X.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof X);X.addEventListener(V,function k(ue){U.once&&X.removeEventListener(V,k),v(ue)})}}Object.defineProperty(S,"defaultMaxListeners",{enumerable:!0,get:function(){return P},set:function(X){if("number"!=typeof X||X<0||R(X))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+X+".");P=X}}),S.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},S.prototype.setMaxListeners=function(V){if("number"!=typeof V||V<0||R(V))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+V+".");return this._maxListeners=V,this},S.prototype.getMaxListeners=function(){return y(this)},S.prototype.emit=function(V){for(var v=[],U=1;U<arguments.length;U++)v.push(arguments[U]);var k="error"===V,ue=this._events;if(void 0!==ue)k=k&&void 0===ue.error;else if(!k)return!1;if(k){var G;if(v.length>0&&(G=v[0]),G instanceof Error)throw G;var Te=new Error("Unhandled error."+(G?" ("+G.message+")":""));throw Te.context=G,Te}var le=ue[V];if(void 0===le)return!1;if("function"==typeof le)m(le,this,v);else{var we=le.length,Re=C(le,we);for(U=0;U<we;++U)m(Re[U],this,v)}return!0},S.prototype.on=S.prototype.addListener=function(V,v){return T(this,V,v,!1)},S.prototype.prependListener=function(V,v){return T(this,V,v,!0)},S.prototype.once=function(V,v){return g(v),this.on(V,D(this,V,v)),this},S.prototype.prependOnceListener=function(V,v){return g(v),this.prependListener(V,D(this,V,v)),this},S.prototype.off=S.prototype.removeListener=function(V,v){var U,k,ue,G,Te;if(g(v),void 0===(k=this._events))return this;if(void 0===(U=k[V]))return this;if(U===v||U.listener===v)0==--this._eventsCount?this._events=Object.create(null):(delete k[V],k.removeListener&&this.emit("removeListener",V,U.listener||v));else if("function"!=typeof U){for(ue=-1,G=U.length-1;G>=0;G--)if(U[G]===v||U[G].listener===v){Te=U[G].listener,ue=G;break}if(ue<0)return this;0===ue?U.shift():function W(X,V){for(;V+1<X.length;V++)X[V]=X[V+1];X.pop()}(U,ue),1===U.length&&(k[V]=U[0]),void 0!==k.removeListener&&this.emit("removeListener",V,Te||v)}return this},S.prototype.removeAllListeners=function(V){var v,U,k;if(void 0===(U=this._events))return this;if(void 0===U.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==U[V]&&(0==--this._eventsCount?this._events=Object.create(null):delete U[V]),this;if(0===arguments.length){var G,ue=Object.keys(U);for(k=0;k<ue.length;++k)"removeListener"!==(G=ue[k])&&this.removeAllListeners(G);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(v=U[V]))this.removeListener(V,v);else if(void 0!==v)for(k=v.length-1;k>=0;k--)this.removeListener(V,v[k]);return this},S.prototype.listeners=function(V){return B(this,V,!0)},S.prototype.rawListeners=function(V){return B(this,V,!1)},S.listenerCount=function(X,V){return"function"==typeof X.listenerCount?X.listenerCount(V):te.call(X,V)},S.prototype.listenerCount=te,S.prototype.eventNames=function(){return this._eventsCount>0?A(this._events):[]}},217:function(re,q){var m,b;void 0!==(b="function"==typeof(m=function(){"use strict";function S(D,B,te){var C=new XMLHttpRequest;C.open("GET",D),C.responseType="blob",C.onload=function(){F(C.response,B,te)},C.onerror=function(){console.error("could not download file")},C.send()}function P(D){var B=new XMLHttpRequest;B.open("HEAD",D,!1);try{B.send()}catch{}return 200<=B.status&&299>=B.status}function g(D){try{D.dispatchEvent(new MouseEvent("click"))}catch{var B=document.createEvent("MouseEvents");B.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),D.dispatchEvent(B)}}var y="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,T=y.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),F=y.saveAs||("object"!=typeof window||window!==y?function(){}:"download"in HTMLAnchorElement.prototype&&!T?function(D,B,te){var C=y.URL||y.webkitURL,W=document.createElement("a");W.download=B=B||D.name||"download",W.rel="noopener","string"==typeof D?(W.href=D,W.origin===location.origin?g(W):P(W.href)?S(D,B,te):g(W,W.target="_blank")):(W.href=C.createObjectURL(D),setTimeout(function(){C.revokeObjectURL(W.href)},4e4),setTimeout(function(){g(W)},0))}:"msSaveOrOpenBlob"in navigator?function(D,B,te){if(B=B||D.name||"download","string"!=typeof D)navigator.msSaveOrOpenBlob(function R(D,B){return typeof B>"u"?B={autoBom:!1}:"object"!=typeof B&&(console.warn("Deprecated: Expected third argument to be a object"),B={autoBom:!B}),B.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(D.type)?new Blob(["\ufeff",D],{type:D.type}):D}(D,te),B);else if(P(D))S(D,B,te);else{var C=document.createElement("a");C.href=D,C.target="_blank",setTimeout(function(){g(C)})}}:function(D,B,te,C){if((C=C||open("","_blank"))&&(C.document.title=C.document.body.innerText="downloading..."),"string"==typeof D)return S(D,B,te);var W="application/octet-stream"===D.type,ce=/constructor/i.test(y.HTMLElement)||y.safari,Y=/CriOS\/[\d]+/.test(navigator.userAgent);if((Y||W&&ce||T)&&typeof FileReader<"u"){var ie=new FileReader;ie.onloadend=function(){var V=ie.result;V=Y?V:V.replace(/^data:[^;]*;/,"data:attachment/file;"),C?C.location.href=V:location=V,C=null},ie.readAsDataURL(D)}else{var ne=y.URL||y.webkitURL,X=ne.createObjectURL(D);C?C.location=X:location.href=X,C=null,setTimeout(function(){ne.revokeObjectURL(X)},4e4)}});y.saveAs=F.saveAs=F,re.exports=F})?m.apply(q,[]):m)&&(re.exports=b)},7991:(re,q,m)=>{var A=m(6943),b=m(9151),R=m(2323);function S(B,te,C){if(!A(B))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<3)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 3.");if(!B.hasNode(te))throw new Error('graphology-shortest-path: the "'+te+'" source node does not exist in the given graph.');if(!B.hasNode(C))throw new Error('graphology-shortest-path: the "'+C+'" target node does not exist in the given graph.');if((te=""+te)==(C=""+C))return[te];var W=B.inboundNeighbors.bind(B),ce=B.outboundNeighbors.bind(B),Y={},ie={};Y[te]=null,ie[C]=null;var V,v,U,k,ue,G,Te,le,ne=[te],X=[C],we=!1;e:for(;ne.length&&X.length;)if(ne.length<=X.length){for(V=ne,ne=[],ue=0,Te=V.length;ue<Te;ue++)for(G=0,le=(U=ce(v=V[ue])).length;G<le;G++)if((k=U[G])in Y||(ne.push(k),Y[k]=v),k in ie){we=!0;break e}}else for(V=X,X=[],ue=0,Te=V.length;ue<Te;ue++)for(v=V[ue],U=W(v),G=0,le=U.length;G<le;G++)if(k=U[G],k in ie||(X.push(k),ie[k]=v),k in Y){we=!0;break e}if(!we)return null;for(var Re=[];k;)Re.unshift(k),k=Y[k];for(k=ie[Re[Re.length-1]];k;)Re.push(k),k=ie[k];return Re.length?Re:null}function P(B,te){if(!A(B))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<2)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 2.");if(!B.hasNode(te))throw new Error('graphology-shortest-path: the "'+te+'" source node does not exist in the given graph.');var ce,Y,ie,ne,X,V,C={},W={};for(C[te=""+te]=!0,W[te]=[te];Object.keys(C).length;)for(ie in ce=C,C={},ce)for(X=0,V=(Y=B.outboundNeighbors(ie)).length;X<V;X++)W[ne=Y[X]]||(W[ne]=W[ie].concat(ne),C[ne]=!0);return W}function g(B,te,C){if(!A(te))throw new Error("graphology-shortest-path: invalid graphology instance.");if(!te.hasNode(C))throw new Error('graphology-shortest-path: the "'+C+'" source node does not exist in the given graph.');C=""+C;var W=new Set,ce={},Y=0;ce[C]=0;for(var ne,X,V,ie=[C];0!==ie.length;){var v=[];for(ne=0,X=ie.length;ne<X;ne++)!W.has(V=ie[ne])&&(W.add(V),R(v,te[B](V)),ce[V]=Y);Y++,ie=v}return ce}var y=g.bind(null,"outboundNeighbors"),T=g.bind(null,"neighbors");function F(B,te,C){return arguments.length<3?P(B,te):S(B,te,C)}F.bidirectional=S,F.singleSource=P,F.singleSourceLength=y,F.undirectedSingleSourceLength=T,F.brandes=function D(B,te){te=""+te;var ie,ne,X,V,v,U,k,ue,G,C=[],W={},ce={},Y=B.nodes();for(U=0,ue=Y.length;U<ue;U++)W[V=Y[U]]=[],ce[V]=0;var Te={};ce[te]=1,Te[te]=0;for(var le=b.of(te);le.size;)for(V=le.dequeue(),C.push(V),ie=Te[V],ne=ce[V],k=0,G=(X=B.outboundNeighbors(V)).length;k<G;k++)(v=X[k])in Te||(le.enqueue(v),Te[v]=ie+1),Te[v]===ie+1&&(ce[v]+=ne,W[v].push(V));return[C,W,ce]},re.exports=F},6943:re=>{re.exports=function(m){return null!==m&&"object"==typeof m&&"function"==typeof m.addUndirectedEdgeWithKey&&"function"==typeof m.dropNode&&"boolean"==typeof m.multi}},4938:function(re){re.exports=function(){"use strict";function q(_e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(De){return typeof De}:function(De){return De&&"function"==typeof Symbol&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De})(_e)}function m(_e,De){_e.prototype=Object.create(De.prototype),_e.prototype.constructor=_e,b(_e,De)}function A(_e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(De){return De.__proto__||Object.getPrototypeOf(De)})(_e)}function b(_e,De){return(b=Object.setPrototypeOf||function(ve,z){return ve.__proto__=z,ve})(_e,De)}function S(_e,De,ve){return(S=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(z,ee,ye){var je=[null];je.push.apply(je,ee);var Xe=new(Function.bind.apply(z,je));return ye&&b(Xe,ye.prototype),Xe}).apply(null,arguments)}function P(_e){var De="function"==typeof Map?new Map:void 0;return(P=function(ve){if(null===ve||-1===Function.toString.call(ve).indexOf("[native code]"))return ve;if("function"!=typeof ve)throw new TypeError("Super expression must either be null or a function");if(void 0!==De){if(De.has(ve))return De.get(ve);De.set(ve,ee)}function ee(){return S(ve,arguments,A(this).constructor)}return ee.prototype=Object.create(ve.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),b(ee,ve)})(_e)}function g(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}var y=function(){for(var _e=arguments[0],De=1,ve=arguments.length;De<ve;De++)if(arguments[De])for(var z in arguments[De])_e[z]=arguments[De][z];return _e};function T(_e,De,ve,z){var ee=_e._nodes.get(De),ye=null;return ee?ye="mixed"===z?ee.out&&ee.out[ve]||ee.undirected&&ee.undirected[ve]:"directed"===z?ee.out&&ee.out[ve]:ee.undirected&&ee.undirected[ve]:ye}function D(_e){return"object"===q(_e)&&null!==_e&&_e.constructor===Object}function B(_e){var De;for(De in _e)return!1;return!0}function te(_e,De,ve){Object.defineProperty(_e,De,{enumerable:!1,configurable:!1,writable:!0,value:ve})}function C(_e,De,ve){var z={enumerable:!0,configurable:!0};"function"==typeof ve?z.get=ve:(z.value=ve,z.writable=!1),Object.defineProperty(_e,De,z)}function W(_e){return!(!D(_e)||_e.attributes&&!Array.isArray(_e.attributes))}"function"==typeof Object.assign&&(y=Object.assign);var ce,Y={exports:{}},ie="object"==typeof Reflect?Reflect:null,ne=ie&&"function"==typeof ie.apply?ie.apply:function(_e,De,ve){return Function.prototype.apply.call(_e,De,ve)};ce=ie&&"function"==typeof ie.ownKeys?ie.ownKeys:Object.getOwnPropertySymbols?function(_e){return Object.getOwnPropertyNames(_e).concat(Object.getOwnPropertySymbols(_e))}:function(_e){return Object.getOwnPropertyNames(_e)};var X=Number.isNaN||function(_e){return _e!=_e};function V(){V.init.call(this)}Y.exports=V,Y.exports.once=function(_e,De){return new Promise(function(ve,z){function ee(je){_e.removeListener(De,ye),z(je)}function ye(){"function"==typeof _e.removeListener&&_e.removeListener("error",ee),ve([].slice.call(arguments))}var je;Ie(_e,De,ye,{once:!0}),"error"!==De&&("function"==typeof(je=_e).on&&Ie(je,"error",ee,{once:!0}))})},V.EventEmitter=V,V.prototype._events=void 0,V.prototype._eventsCount=0,V.prototype._maxListeners=void 0;var v=10;function U(_e){if("function"!=typeof _e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _e)}function k(_e){return void 0===_e._maxListeners?V.defaultMaxListeners:_e._maxListeners}function ue(_e,De,ve,z){var ee,ye,je;if(U(ve),void 0===(ye=_e._events)?(ye=_e._events=Object.create(null),_e._eventsCount=0):(void 0!==ye.newListener&&(_e.emit("newListener",De,ve.listener?ve.listener:ve),ye=_e._events),je=ye[De]),void 0===je)je=ye[De]=ve,++_e._eventsCount;else if("function"==typeof je?je=ye[De]=z?[ve,je]:[je,ve]:z?je.unshift(ve):je.push(ve),(ee=k(_e))>0&&je.length>ee&&!je.warned){je.warned=!0;var at=new Error("Possible EventEmitter memory leak detected. "+je.length+" "+String(De)+" listeners added. Use emitter.setMaxListeners() to increase limit");at.name="MaxListenersExceededWarning",at.emitter=_e,at.type=De,at.count=je.length,console&&console.warn&&console.warn(at)}return _e}function G(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Te(_e,De,ve){var z={fired:!1,wrapFn:void 0,target:_e,type:De,listener:ve},ee=G.bind(z);return ee.listener=ve,z.wrapFn=ee,ee}function le(_e,De,ve){var z=_e._events;if(void 0===z)return[];var ee=z[De];return void 0===ee?[]:"function"==typeof ee?ve?[ee.listener||ee]:[ee]:ve?function(ye){for(var je=new Array(ye.length),Xe=0;Xe<je.length;++Xe)je[Xe]=ye[Xe].listener||ye[Xe];return je}(ee):Re(ee,ee.length)}function we(_e){var De=this._events;if(void 0!==De){var ve=De[_e];if("function"==typeof ve)return 1;if(void 0!==ve)return ve.length}return 0}function Re(_e,De){for(var ve=new Array(De),z=0;z<De;++z)ve[z]=_e[z];return ve}function Ie(_e,De,ve,z){if("function"==typeof _e.on)z.once?_e.once(De,ve):_e.on(De,ve);else{if("function"!=typeof _e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof _e);_e.addEventListener(De,function ee(ye){z.once&&_e.removeEventListener(De,ee),ve(ye)})}}function Je(_e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:_e}),this.done=!1}Object.defineProperty(V,"defaultMaxListeners",{enumerable:!0,get:function(){return v},set:function(_e){if("number"!=typeof _e||_e<0||X(_e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_e+".");v=_e}}),V.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},V.prototype.setMaxListeners=function(_e){if("number"!=typeof _e||_e<0||X(_e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_e+".");return this._maxListeners=_e,this},V.prototype.getMaxListeners=function(){return k(this)},V.prototype.emit=function(_e){for(var De=[],ve=1;ve<arguments.length;ve++)De.push(arguments[ve]);var z="error"===_e,ee=this._events;if(void 0!==ee)z=z&&void 0===ee.error;else if(!z)return!1;if(z){var ye;if(De.length>0&&(ye=De[0]),ye instanceof Error)throw ye;var je=new Error("Unhandled error."+(ye?" ("+ye.message+")":""));throw je.context=ye,je}var Xe=ee[_e];if(void 0===Xe)return!1;if("function"==typeof Xe)ne(Xe,this,De);else{var at=Xe.length,It=Re(Xe,at);for(ve=0;ve<at;++ve)ne(It[ve],this,De)}return!0},V.prototype.addListener=function(_e,De){return ue(this,_e,De,!1)},V.prototype.on=V.prototype.addListener,V.prototype.prependListener=function(_e,De){return ue(this,_e,De,!0)},V.prototype.once=function(_e,De){return U(De),this.on(_e,Te(this,_e,De)),this},V.prototype.prependOnceListener=function(_e,De){return U(De),this.prependListener(_e,Te(this,_e,De)),this},V.prototype.removeListener=function(_e,De){var ve,z,ee,ye,je;if(U(De),void 0===(z=this._events))return this;if(void 0===(ve=z[_e]))return this;if(ve===De||ve.listener===De)0==--this._eventsCount?this._events=Object.create(null):(delete z[_e],z.removeListener&&this.emit("removeListener",_e,ve.listener||De));else if("function"!=typeof ve){for(ee=-1,ye=ve.length-1;ye>=0;ye--)if(ve[ye]===De||ve[ye].listener===De){je=ve[ye].listener,ee=ye;break}if(ee<0)return this;0===ee?ve.shift():function(Xe,at){for(;at+1<Xe.length;at++)Xe[at]=Xe[at+1];Xe.pop()}(ve,ee),1===ve.length&&(z[_e]=ve[0]),void 0!==z.removeListener&&this.emit("removeListener",_e,je||De)}return this},V.prototype.off=V.prototype.removeListener,V.prototype.removeAllListeners=function(_e){var De,ve,z;if(void 0===(ve=this._events))return this;if(void 0===ve.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==ve[_e]&&(0==--this._eventsCount?this._events=Object.create(null):delete ve[_e]),this;if(0===arguments.length){var ee,ye=Object.keys(ve);for(z=0;z<ye.length;++z)"removeListener"!==(ee=ye[z])&&this.removeAllListeners(ee);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(De=ve[_e]))this.removeListener(_e,De);else if(void 0!==De)for(z=De.length-1;z>=0;z--)this.removeListener(_e,De[z]);return this},V.prototype.listeners=function(_e){return le(this,_e,!0)},V.prototype.rawListeners=function(_e){return le(this,_e,!1)},V.listenerCount=function(_e,De){return"function"==typeof _e.listenerCount?_e.listenerCount(De):we.call(_e,De)},V.prototype.listenerCount=we,V.prototype.eventNames=function(){return this._eventsCount>0?ce(this._events):[]},Je.prototype.next=function(){if(this.done)return{done:!0};var _e=this._next();return _e.done&&(this.done=!0),_e},typeof Symbol<"u"&&(Je.prototype[Symbol.iterator]=function(){return this}),Je.of=function(){var _e=arguments,De=_e.length,ve=0;return new Je(function(){return ve>=De?{done:!0}:{done:!1,value:_e[ve++]}})},Je.empty=function(){var _e=new Je(null);return _e.done=!0,_e},Je.is=function(_e){return _e instanceof Je||"object"==typeof _e&&null!==_e&&"function"==typeof _e.next};var qe=Je,Ee=function(_e,De){for(var ve,z=arguments.length>1?De:1/0,ee=z!==1/0?new Array(z):[],ye=0;;){if(ye===z)return ee;if((ve=_e.next()).done)return ye!==De?ee.slice(0,ye):ee;ee[ye++]=ve.value}},Le=function(_e){function De(ve,z){var ee;return(ee=_e.call(this)||this).name="GraphError",ee.message=ve||"",ee.data=z||{},ee}return m(De,_e),De}(P(Error)),Ne=function(_e){function De(ve,z){var ee;return(ee=_e.call(this,ve,z)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(g(ee),De.prototype.constructor),ee}return m(De,_e),De}(Le),ze=function(_e){function De(ve,z){var ee;return(ee=_e.call(this,ve,z)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(g(ee),De.prototype.constructor),ee}return m(De,_e),De}(Le),ge=function(_e){function De(ve,z){var ee;return(ee=_e.call(this,ve,z)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(g(ee),De.prototype.constructor),ee}return m(De,_e),De}(Le);function Se(_e,De){this.key=_e,this.attributes=De,this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.directedSelfLoops=0,this.undirectedSelfLoops=0,this.in={},this.out={},this.undirected={}}function Ke(_e,De){this.key=_e,this.attributes=De,this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}}function dt(_e,De){this.key=_e,this.attributes=De,this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}}function Ye(_e,De,ve,z,ee,ye){this.key=De,this.attributes=ye,this.undirected=_e,this.source=z,this.target=ee,this.generatedKey=ve}function be(_e,De,ve,z,ee,ye,je){var Xe,at,It="out",Lt="in";if(De&&(It=Lt="undirected"),_e.multi){if(void 0===(at=(Xe=ye[It])[ee])&&(Xe[ee]=at=new Set),at.add(ve),z===ee&&De)return;void 0===(Xe=je[Lt])[z]&&(Xe[z]=at)}else{if(ye[It][ee]=ve,z===ee&&De)return;je[Lt][z]=ve}}Ke.prototype.upgradeToMixed=function(){this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}},dt.prototype.upgradeToMixed=function(){this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}};var O=[{name:function(_e){return"get".concat(_e,"Attribute")},attacher:function(_e,De,ve){_e.prototype[De]=function(z,ee){var ye;if("mixed"!==this.type&&"mixed"!==ve&&ve!==this.type)throw new ge("Graph.".concat(De,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ge("Graph.".concat(De,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var je=""+z,Xe=""+ee;if(ee=arguments[2],!(ye=T(this,je,Xe,ve)))throw new ze("Graph.".concat(De,': could not find an edge for the given path ("').concat(je,'" - "').concat(Xe,'").'))}else if(!(ye=this._edges.get(z=""+z)))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" edge in the graph.'));if("mixed"!==ve&&ye.undirected!==("undirected"===ve))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" ').concat(ve," edge in the graph."));return ye.attributes[ee]}}},{name:function(_e){return"get".concat(_e,"Attributes")},attacher:function(_e,De,ve){_e.prototype[De]=function(z){var ee;if("mixed"!==this.type&&"mixed"!==ve&&ve!==this.type)throw new ge("Graph.".concat(De,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new ge("Graph.".concat(De,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var ye=""+z,je=""+arguments[1];if(!(ee=T(this,ye,je,ve)))throw new ze("Graph.".concat(De,': could not find an edge for the given path ("').concat(ye,'" - "').concat(je,'").'))}else if(!(ee=this._edges.get(z=""+z)))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" edge in the graph.'));if("mixed"!==ve&&ee.undirected!==("undirected"===ve))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" ').concat(ve," edge in the graph."));return ee.attributes}}},{name:function(_e){return"has".concat(_e,"Attribute")},attacher:function(_e,De,ve){_e.prototype[De]=function(z,ee){var ye;if("mixed"!==this.type&&"mixed"!==ve&&ve!==this.type)throw new ge("Graph.".concat(De,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ge("Graph.".concat(De,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var je=""+z,Xe=""+ee;if(ee=arguments[2],!(ye=T(this,je,Xe,ve)))throw new ze("Graph.".concat(De,': could not find an edge for the given path ("').concat(je,'" - "').concat(Xe,'").'))}else if(!(ye=this._edges.get(z=""+z)))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" edge in the graph.'));if("mixed"!==ve&&ye.undirected!==("undirected"===ve))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" ').concat(ve," edge in the graph."));return ye.attributes.hasOwnProperty(ee)}}},{name:function(_e){return"set".concat(_e,"Attribute")},attacher:function(_e,De,ve){_e.prototype[De]=function(z,ee,ye){var je;if("mixed"!==this.type&&"mixed"!==ve&&ve!==this.type)throw new ge("Graph.".concat(De,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new ge("Graph.".concat(De,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Xe=""+z,at=""+ee;if(ee=arguments[2],ye=arguments[3],!(je=T(this,Xe,at,ve)))throw new ze("Graph.".concat(De,': could not find an edge for the given path ("').concat(Xe,'" - "').concat(at,'").'))}else if(!(je=this._edges.get(z=""+z)))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" edge in the graph.'));if("mixed"!==ve&&je.undirected!==("undirected"===ve))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" ').concat(ve," edge in the graph."));return je.attributes[ee]=ye,this.emit("edgeAttributesUpdated",{key:je.key,type:"set",attributes:je.attributes,name:ee}),this}}},{name:function(_e){return"update".concat(_e,"Attribute")},attacher:function(_e,De,ve){_e.prototype[De]=function(z,ee,ye){var je;if("mixed"!==this.type&&"mixed"!==ve&&ve!==this.type)throw new ge("Graph.".concat(De,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new ge("Graph.".concat(De,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Xe=""+z,at=""+ee;if(ee=arguments[2],ye=arguments[3],!(je=T(this,Xe,at,ve)))throw new ze("Graph.".concat(De,': could not find an edge for the given path ("').concat(Xe,'" - "').concat(at,'").'))}else if(!(je=this._edges.get(z=""+z)))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" edge in the graph.'));if("function"!=typeof ye)throw new Ne("Graph.".concat(De,": updater should be a function."));if("mixed"!==ve&&je.undirected!==("undirected"===ve))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" ').concat(ve," edge in the graph."));return je.attributes[ee]=ye(je.attributes[ee]),this.emit("edgeAttributesUpdated",{key:je.key,type:"set",attributes:je.attributes,name:ee}),this}}},{name:function(_e){return"remove".concat(_e,"Attribute")},attacher:function(_e,De,ve){_e.prototype[De]=function(z,ee){var ye;if("mixed"!==this.type&&"mixed"!==ve&&ve!==this.type)throw new ge("Graph.".concat(De,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ge("Graph.".concat(De,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var je=""+z,Xe=""+ee;if(ee=arguments[2],!(ye=T(this,je,Xe,ve)))throw new ze("Graph.".concat(De,': could not find an edge for the given path ("').concat(je,'" - "').concat(Xe,'").'))}else if(!(ye=this._edges.get(z=""+z)))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" edge in the graph.'));if("mixed"!==ve&&ye.undirected!==("undirected"===ve))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" ').concat(ve," edge in the graph."));return delete ye.attributes[ee],this.emit("edgeAttributesUpdated",{key:ye.key,type:"remove",attributes:ye.attributes,name:ee}),this}}},{name:function(_e){return"replace".concat(_e,"Attributes")},attacher:function(_e,De,ve){_e.prototype[De]=function(z,ee){var ye;if("mixed"!==this.type&&"mixed"!==ve&&ve!==this.type)throw new ge("Graph.".concat(De,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ge("Graph.".concat(De,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var je=""+z,Xe=""+ee;if(ee=arguments[2],!(ye=T(this,je,Xe,ve)))throw new ze("Graph.".concat(De,': could not find an edge for the given path ("').concat(je,'" - "').concat(Xe,'").'))}else if(!(ye=this._edges.get(z=""+z)))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" edge in the graph.'));if(!D(ee))throw new Ne("Graph.".concat(De,": provided attributes are not a plain object."));if("mixed"!==ve&&ye.undirected!==("undirected"===ve))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" ').concat(ve," edge in the graph."));return ye.attributes=ee,this.emit("edgeAttributesUpdated",{key:ye.key,type:"replace",attributes:ye.attributes}),this}}},{name:function(_e){return"merge".concat(_e,"Attributes")},attacher:function(_e,De,ve){_e.prototype[De]=function(z,ee){var ye;if("mixed"!==this.type&&"mixed"!==ve&&ve!==this.type)throw new ge("Graph.".concat(De,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ge("Graph.".concat(De,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var je=""+z,Xe=""+ee;if(ee=arguments[2],!(ye=T(this,je,Xe,ve)))throw new ze("Graph.".concat(De,': could not find an edge for the given path ("').concat(je,'" - "').concat(Xe,'").'))}else if(!(ye=this._edges.get(z=""+z)))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" edge in the graph.'));if(!D(ee))throw new Ne("Graph.".concat(De,": provided attributes are not a plain object."));if("mixed"!==ve&&ye.undirected!==("undirected"===ve))throw new ze("Graph.".concat(De,': could not find the "').concat(z,'" ').concat(ve," edge in the graph."));return y(ye.attributes,ee),this.emit("edgeAttributesUpdated",{key:ye.key,type:"merge",attributes:ye.attributes,data:ee}),this}}}],se=qe,j=function(){var _e,De=arguments,ve=-1;return new se(function z(){if(!_e){if(++ve>=De.length)return{done:!0};_e=De[ve]}var ee=_e.next();return ee.done?(_e=null,z()):ee})},Be=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function it(_e,De){for(var ve in De)_e.push(De[ve].key)}function he(_e,De){for(var ve in De)De[ve].forEach(function(z){return _e.push(z.key)})}function Z(_e,De,ve){for(var z in _e)if(z!==ve){var ee=_e[z];De(ee.key,ee.attributes,ee.source.key,ee.target.key,ee.source.attributes,ee.target.attributes,ee.undirected,ee.generatedKey)}}function $(_e,De,ve){for(var z in _e)z!==ve&&_e[z].forEach(function(ee){return De(ee.key,ee.attributes,ee.source.key,ee.target.key,ee.source.attributes,ee.target.attributes,ee.undirected,ee.generatedKey)})}function E(_e,De,ve){for(var z in _e)if(z!==ve){var ee=_e[z];if(De(ee.key,ee.attributes,ee.source.key,ee.target.key,ee.source.attributes,ee.target.attributes,ee.undirected,ee.generatedKey))return!0}return!1}function N(_e,De,ve){var z,ee,ye,je,Xe;for(var at in _e)if(at!==ve)for(z=_e[at].values();!0!==(ee=z.next()).done;)if(je=(ye=ee.value).source,De(ye.key,ye.attributes,je.key,(Xe=ye.target).key,je.attributes,Xe.attributes,ye.undirected,ye.generatedKey))return!0;return!1}function de(_e,De){var ve=Object.keys(_e),z=ve.length,ee=null,ye=0;return new qe(function je(){var Xe;if(ee){var at=ee.next();if(at.done)return ee=null,ye++,je();Xe=at.value}else{if(ye>=z)return{done:!0};var It=ve[ye];if(It===De)return ye++,je();if((Xe=_e[It])instanceof Set)return ee=Xe.values(),je();ye++}return{done:!1,value:[Xe.key,Xe.attributes,Xe.source.key,Xe.target.key,Xe.source.attributes,Xe.target.attributes]}})}function pe(_e,De,ve){var z=De[ve];z&&_e.push(z.key)}function He(_e,De,ve){var z=De[ve];z&&z.forEach(function(ee){return _e.push(ee.key)})}function ke(_e,De,ve){var z=_e[De];if(z){var ee=z.source,ye=z.target;ve(z.key,z.attributes,ee.key,ye.key,ee.attributes,ye.attributes,z.undirected,z.generatedKey)}}function ft(_e,De,ve){var z=_e[De];z&&z.forEach(function(ee){return ve(ee.key,ee.attributes,ee.source.key,ee.target.key,ee.source.attributes,ee.target.attributes,ee.undirected,ee.generatedKey)})}function Ht(_e,De,ve){var z=_e[De];if(z){var ee=z.source,ye=z.target;return ve(z.key,z.attributes,ee.key,ye.key,ee.attributes,ye.attributes,z.undirected,z.generatedKey)}}function Ct(_e,De,ve){var z=_e[De];if(z){for(var ee,ye,je=z.values();!0!==(ee=je.next()).done;)if(ve((ye=ee.value).key,ye.attributes,ye.source.key,ye.target.key,ye.source.attributes,ye.target.attributes,ye.undirected,ye.generatedKey))return!0;return!1}}function en(_e,De){var ve=_e[De];if(ve instanceof Set){var z=ve.values();return new qe(function(){var ee=z.next();if(ee.done)return ee;var ye=ee.value;return{done:!1,value:[ye.key,ye.attributes,ye.source.key,ye.target.key,ye.source.attributes,ye.target.attributes]}})}return qe.of([ve.key,ve.attributes,ve.source.key,ve.target.key,ve.source.attributes,ve.target.attributes])}var jn=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Ko(_e,De){if(void 0!==De)for(var ve in De)_e.add(ve)}function ys(_e,De,ve){for(var z in De){var ee=De[z];ee instanceof Set&&(ee=ee.values().next().value);var ye=ee.source,Xe=ye===_e?ee.target:ye;ve(Xe.key,Xe.attributes)}}function ur(_e,De,ve,z){for(var ee in ve){var ye=ve[ee];ye instanceof Set&&(ye=ye.values().next().value);var je=ye.source,at=je===De?ye.target:je;_e.has(at.key)||(_e.add(at.key),z(at.key,at.attributes))}}function ho(_e,De,ve){for(var z in De){var ee=De[z];ee instanceof Set&&(ee=ee.values().next().value);var ye=ee.source,Xe=ye===_e?ee.target:ye;if(ve(Xe.key,Xe.attributes))return!0}return!1}function Vs(_e,De,ve,z){for(var ee in ve){var ye=ve[ee];ye instanceof Set&&(ye=ye.values().next().value);var je=ye.source,at=je===De?ye.target:je;if(!_e.has(at.key)&&(_e.add(at.key),z(at.key,at.attributes)))return!0}return!1}function aa(_e,De){var ve=Object.keys(De),z=ve.length,ee=0;return new qe(function(){if(ee>=z)return{done:!0};var ye=De[ve[ee++]];ye instanceof Set&&(ye=ye.values().next().value);var je=ye.source,at=je===_e?ye.target:je;return{done:!1,value:[at.key,at.attributes]}})}function qo(_e,De,ve){var z=Object.keys(ve),ee=z.length,ye=0;return new qe(function je(){if(ye>=ee)return{done:!0};var Xe=ve[z[ye++]];Xe instanceof Set&&(Xe=Xe.values().next().value);var at=Xe.source,Lt=at===De?Xe.target:at;return _e.has(Lt.key)?je():(_e.add(Lt.key),{done:!1,value:[Lt.key,Lt.attributes]})})}function pd(_e,De,ve){for(var z,ee,ye,je,Xe,at,It,Lt=De._nodes.values(),qt=De.type;!0!==(z=Lt.next()).done;){if(ee=z.value,"undirected"!==qt)for(ye in je=ee.out)if(at=(Xe=je[ye]).target,It=ve(ee.key,at.key,ee.attributes,at.attributes,Xe.key,Xe.attributes,Xe.undirected,Xe.generatedKey),_e&&It)return;if("directed"!==qt)for(ye in je=ee.undirected)if((at=(Xe=je[ye]).target).key!==ye&&(at=Xe.source),It=ve(ee.key,at.key,ee.attributes,at.attributes,Xe.key,Xe.attributes,Xe.undirected,Xe.generatedKey),_e&&It)return}}function Da(_e,De,ve){for(var z,ee,ye,je,Xe,at,It,Lt,qt,wn=De._nodes.values(),kn=De.type;!0!==(z=wn.next()).done;){if(ee=z.value,"undirected"!==kn)for(ye in at=ee.out)for(je=at[ye].values();!0!==(Xe=je.next()).done;)if(Lt=(It=Xe.value).target,qt=ve(ee.key,Lt.key,ee.attributes,Lt.attributes,It.key,It.attributes,It.undirected,It.generatedKey),_e&&qt)return;if("directed"!==kn)for(ye in at=ee.undirected)for(je=at[ye].values();!0!==(Xe=je.next()).done;)if((Lt=(It=Xe.value).target).key!==ye&&(Lt=It.source),qt=ve(ee.key,Lt.key,ee.attributes,Lt.attributes,It.key,It.attributes,It.undirected,It.generatedKey),_e&&qt)return}}function xc(_e,De){var ve={key:_e};return B(De.attributes)||(ve.attributes=y({},De.attributes)),ve}function md(_e,De){var ve={source:De.source.key,target:De.target.key};return De.generatedKey||(ve.key=_e),B(De.attributes)||(ve.attributes=y({},De.attributes)),De.undirected&&(ve.undirected=!0),ve}var $h=new Set(["directed","undirected","mixed"]),dl=new Set(["domain","_events","_eventsCount","_maxListeners"]),Au={allowSelfLoops:!0,edgeKeyGenerator:null,multi:!1,type:"mixed"};function ul(_e,De,ve){var z=new _e.NodeDataClass(De,ve);return _e._nodes.set(De,z),_e.emit("nodeAdded",{key:De,attributes:ve}),z}function _d(_e,De,ve,z,ee,ye,je,Xe){if(!z&&"undirected"===_e.type)throw new ge("Graph.".concat(De,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(z&&"directed"===_e.type)throw new ge("Graph.".concat(De,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(Xe&&!D(Xe))throw new Ne("Graph.".concat(De,': invalid attributes. Expecting an object but got "').concat(Xe,'"'));if(ye=""+ye,je=""+je,Xe=Xe||{},!_e.allowSelfLoops&&ye===je)throw new ge("Graph.".concat(De,': source & target are the same ("').concat(ye,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var at=_e._nodes.get(ye),It=_e._nodes.get(je);if(!at)throw new ze("Graph.".concat(De,': source node "').concat(ye,'" not found.'));if(!It)throw new ze("Graph.".concat(De,': target node "').concat(je,'" not found.'));var Lt={key:null,undirected:z,source:ye,target:je,attributes:Xe};if(ve&&(ee=_e._edgeKeyGenerator(Lt)),_e._edges.has(ee=""+ee))throw new ge("Graph.".concat(De,': the "').concat(ee,'" edge already exists in the graph.'));if(!_e.multi&&(z?void 0!==at.undirected[je]:void 0!==at.out[je]))throw new ge("Graph.".concat(De,': an edge linking "').concat(ye,'" to "').concat(je,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var qt=new Ye(z,ee,ve,at,It,Xe);return _e._edges.set(ee,qt),ye===je?z?(at.undirectedSelfLoops++,_e._undirectedSelfLoopCount++):(at.directedSelfLoops++,_e._directedSelfLoopCount++):z?(at.undirectedDegree++,It.undirectedDegree++):(at.outDegree++,It.inDegree++),be(_e,z,qt,ye,je,at,It),z?_e._undirectedSize++:_e._directedSize++,Lt.key=ee,_e.emit("edgeAdded",Lt),ee}function er(_e,De,ve,z,ee,ye,je,Xe,at){if(!z&&"undirected"===_e.type)throw new ge("Graph.".concat(De,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(z&&"directed"===_e.type)throw new ge("Graph.".concat(De,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(Xe)if(at){if("function"!=typeof Xe)throw new Ne("Graph.".concat(De,': invalid updater function. Expecting a function but got "').concat(Xe,'"'))}else if(!D(Xe))throw new Ne("Graph.".concat(De,': invalid attributes. Expecting an object but got "').concat(Xe,'"'));var It;if(ye=""+ye,je=""+je,at&&(It=Xe,Xe=void 0),!_e.allowSelfLoops&&ye===je)throw new ge("Graph.".concat(De,': source & target are the same ("').concat(ye,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var Lt,qt,wn=_e._nodes.get(ye),kn=_e._nodes.get(je);if(!ve&&(Lt=_e._edges.get(ee))){if(Lt.source.key!==ye||Lt.target.key!==je||z&&(Lt.source.key!==je||Lt.target.key!==ye))throw new ge("Graph.".concat(De,': inconsistency detected when attempting to merge the "').concat(ee,'" edge with "').concat(ye,'" source & "').concat(je,'" target vs. ("').concat(Lt.source.key,'", "').concat(Lt.target.key,'").'));qt=Lt}if(qt||_e.multi||!wn||(qt=z?wn.undirected[je]:wn.out[je]),qt)return(at?It:Xe)?(at?(qt.attributes=It(qt.attributes),_e.emit("edgeAttributesUpdated",{type:"replace",key:qt.key,attributes:qt.attributes})):(y(qt.attributes,Xe),_e.emit("edgeAttributesUpdated",{type:"merge",key:qt.key,attributes:qt.attributes,data:Xe})),qt.key):qt.key;Xe=Xe||{},at&&It&&(Xe=It(Xe));var Xr={key:null,undirected:z,source:ye,target:je,attributes:Xe};if(ve&&(ee=_e._edgeKeyGenerator(Xr)),_e._edges.has(ee=""+ee))throw new ge("Graph.".concat(De,': the "').concat(ee,'" edge already exists in the graph.'));return wn||(wn=ul(_e,ye,{}),ye===je&&(kn=wn)),kn||(kn=ul(_e,je,{})),Lt=new Ye(z,ee,ve,wn,kn,Xe),_e._edges.set(ee,Lt),ye===je?z?(wn.undirectedSelfLoops++,_e._undirectedSelfLoopCount++):(wn.directedSelfLoops++,_e._directedSelfLoopCount++):z?(wn.undirectedDegree++,kn.undirectedDegree++):(wn.outDegree++,kn.inDegree++),be(_e,z,Lt,ye,je,wn,kn),z?_e._undirectedSize++:_e._directedSize++,Xr.key=ee,_e.emit("edgeAdded",Xr),ee}var _e,ji=function(_e){function De(z){var ee;if(ee=_e.call(this)||this,(z=y({},Au,z)).edgeKeyGenerator&&"function"!=typeof z.edgeKeyGenerator)throw new Ne("Graph.constructor: invalid 'edgeKeyGenerator' option. Expecting a function but got \"".concat(z.edgeKeyGenerator,'".'));if("boolean"!=typeof z.multi)throw new Ne("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(z.multi,'".'));if(!$h.has(z.type))throw new Ne('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(z.type,'".'));if("boolean"!=typeof z.allowSelfLoops)throw new Ne("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(z.allowSelfLoops,'".'));var ye,je="mixed"===z.type?Se:"directed"===z.type?Ke:dt;return te(g(ee),"NodeDataClass",je),te(g(ee),"_attributes",{}),te(g(ee),"_nodes",new Map),te(g(ee),"_edges",new Map),te(g(ee),"_directedSize",0),te(g(ee),"_undirectedSize",0),te(g(ee),"_directedSelfLoopCount",0),te(g(ee),"_undirectedSelfLoopCount",0),te(g(ee),"_edgeKeyGenerator",z.edgeKeyGenerator||(ye=0,function(){return ye++})),te(g(ee),"_options",z),dl.forEach(function(Xe){return te(g(ee),Xe,ee[Xe])}),C(g(ee),"order",function(){return ee._nodes.size}),C(g(ee),"size",function(){return ee._edges.size}),C(g(ee),"directedSize",function(){return ee._directedSize}),C(g(ee),"undirectedSize",function(){return ee._undirectedSize}),C(g(ee),"selfLoopCount",function(){return ee._directedSelfLoopCount+ee._undirectedSelfLoopCount}),C(g(ee),"directedSelfLoopCount",function(){return ee._directedSelfLoopCount}),C(g(ee),"undirectedSelfLoopCount",function(){return ee._undirectedSelfLoopCount}),C(g(ee),"multi",ee._options.multi),C(g(ee),"type",ee._options.type),C(g(ee),"allowSelfLoops",ee._options.allowSelfLoops),C(g(ee),"implementation",function(){return"graphology"}),ee}m(De,_e);var ve=De.prototype;return ve.hasNode=function(z){return this._nodes.has(""+z)},ve.hasDirectedEdge=function(z,ee){if("undirected"===this.type)return!1;if(1===arguments.length){var je=this._edges.get(""+z);return!!je&&!je.undirected}if(2===arguments.length){ee=""+ee;var Xe=this._nodes.get(z=""+z);if(!Xe)return!1;var at=Xe.out[ee];return!(!at||this.multi&&!at.size)}throw new Ne("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},ve.hasUndirectedEdge=function(z,ee){if("directed"===this.type)return!1;if(1===arguments.length){var je=this._edges.get(""+z);return!!je&&je.undirected}if(2===arguments.length){ee=""+ee;var Xe=this._nodes.get(z=""+z);if(!Xe)return!1;var at=Xe.undirected[ee];return!(!at||this.multi&&!at.size)}throw new Ne("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},ve.hasEdge=function(z,ee){if(1===arguments.length)return this._edges.has(""+z);if(2===arguments.length){ee=""+ee;var je=this._nodes.get(z=""+z);if(!je)return!1;var Xe=void 0!==je.out&&je.out[ee];return Xe||(Xe=void 0!==je.undirected&&je.undirected[ee]),!(!Xe||this.multi&&!Xe.size)}throw new Ne("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},ve.directedEdge=function(z,ee){if("undirected"!==this.type){if(z=""+z,ee=""+ee,this.multi)throw new ge("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var ye=this._nodes.get(z);if(!ye)throw new ze('Graph.directedEdge: could not find the "'.concat(z,'" source node in the graph.'));if(!this._nodes.has(ee))throw new ze('Graph.directedEdge: could not find the "'.concat(ee,'" target node in the graph.'));var je=ye.out&&ye.out[ee]||void 0;return je?je.key:void 0}},ve.undirectedEdge=function(z,ee){if("directed"!==this.type){if(z=""+z,ee=""+ee,this.multi)throw new ge("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var ye=this._nodes.get(z);if(!ye)throw new ze('Graph.undirectedEdge: could not find the "'.concat(z,'" source node in the graph.'));if(!this._nodes.has(ee))throw new ze('Graph.undirectedEdge: could not find the "'.concat(ee,'" target node in the graph.'));var je=ye.undirected&&ye.undirected[ee]||void 0;return je?je.key:void 0}},ve.edge=function(z,ee){if(this.multi)throw new ge("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");ee=""+ee;var ye=this._nodes.get(z=""+z);if(!ye)throw new ze('Graph.edge: could not find the "'.concat(z,'" source node in the graph.'));if(!this._nodes.has(ee))throw new ze('Graph.edge: could not find the "'.concat(ee,'" target node in the graph.'));var je=ye.out&&ye.out[ee]||ye.undirected&&ye.undirected[ee]||void 0;if(je)return je.key},ve.inDegree=function(z){var ee=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof ee)throw new Ne('Graph.inDegree: Expecting a boolean but got "'.concat(ee,'" for the second parameter (allowing self-loops to be counted).'));var ye=this._nodes.get(z=""+z);if(!ye)throw new ze('Graph.inDegree: could not find the "'.concat(z,'" node in the graph.'));return"undirected"===this.type?0:ye.inDegree+(ee?ye.directedSelfLoops:0)},ve.outDegree=function(z){var ee=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof ee)throw new Ne('Graph.outDegree: Expecting a boolean but got "'.concat(ee,'" for the second parameter (allowing self-loops to be counted).'));var ye=this._nodes.get(z=""+z);if(!ye)throw new ze('Graph.outDegree: could not find the "'.concat(z,'" node in the graph.'));return"undirected"===this.type?0:ye.outDegree+(ee?ye.directedSelfLoops:0)},ve.directedDegree=function(z){var ee=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof ee)throw new Ne('Graph.directedDegree: Expecting a boolean but got "'.concat(ee,'" for the second parameter (allowing self-loops to be counted).'));var ye=this._nodes.get(z=""+z);if(!ye)throw new ze('Graph.directedDegree: could not find the "'.concat(z,'" node in the graph.'));if("undirected"===this.type)return 0;var je=ee?ye.directedSelfLoops:0;return ye.inDegree+je+(ye.outDegree+je)},ve.undirectedDegree=function(z){var ee=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof ee)throw new Ne('Graph.undirectedDegree: Expecting a boolean but got "'.concat(ee,'" for the second parameter (allowing self-loops to be counted).'));var ye=this._nodes.get(z=""+z);if(!ye)throw new ze('Graph.undirectedDegree: could not find the "'.concat(z,'" node in the graph.'));return"directed"===this.type?0:ye.undirectedDegree+2*(ee?ye.undirectedSelfLoops:0)},ve.degree=function(z){var ee=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof ee)throw new Ne('Graph.degree: Expecting a boolean but got "'.concat(ee,'" for the second parameter (allowing self-loops to be counted).'));var ye=this._nodes.get(z=""+z);if(!ye)throw new ze('Graph.degree: could not find the "'.concat(z,'" node in the graph.'));var je=0,Xe=0;return"directed"!==this.type&&(ee&&(Xe=ye.undirectedSelfLoops),je+=ye.undirectedDegree+2*Xe),"undirected"!==this.type&&(ee&&(Xe=ye.directedSelfLoops),je+=ye.inDegree+ye.outDegree+2*Xe),je},ve.source=function(z){var ee=this._edges.get(z=""+z);if(!ee)throw new ze('Graph.source: could not find the "'.concat(z,'" edge in the graph.'));return ee.source.key},ve.target=function(z){var ee=this._edges.get(z=""+z);if(!ee)throw new ze('Graph.target: could not find the "'.concat(z,'" edge in the graph.'));return ee.target.key},ve.extremities=function(z){var ee=this._edges.get(z=""+z);if(!ee)throw new ze('Graph.extremities: could not find the "'.concat(z,'" edge in the graph.'));return[ee.source.key,ee.target.key]},ve.opposite=function(z,ee){z=""+z;var ye=this._edges.get(ee=""+ee);if(!ye)throw new ze('Graph.opposite: could not find the "'.concat(ee,'" edge in the graph.'));var je=ye.source.key,Xe=ye.target.key;if(z!==je&&z!==Xe)throw new ze('Graph.opposite: the "'.concat(z,'" node is not attached to the "').concat(ee,'" edge (').concat(je,", ").concat(Xe,")."));return z===je?Xe:je},ve.hasExtremity=function(z,ee){ee=""+ee;var ye=this._edges.get(z=""+z);if(!ye)throw new ze('Graph.hasExtremity: could not find the "'.concat(z,'" edge in the graph.'));return ye.source.key===ee||ye.target.key===ee},ve.isUndirected=function(z){var ee=this._edges.get(z=""+z);if(!ee)throw new ze('Graph.isUndirected: could not find the "'.concat(z,'" edge in the graph.'));return ee.undirected},ve.isDirected=function(z){var ee=this._edges.get(z=""+z);if(!ee)throw new ze('Graph.isDirected: could not find the "'.concat(z,'" edge in the graph.'));return!ee.undirected},ve.isSelfLoop=function(z){var ee=this._edges.get(z=""+z);if(!ee)throw new ze('Graph.isSelfLoop: could not find the "'.concat(z,'" edge in the graph.'));return ee.source===ee.target},ve.hasGeneratedKey=function(z){var ee=this._edges.get(z=""+z);if(!ee)throw new ze('Graph.hasGeneratedKey: could not find the "'.concat(z,'" edge in the graph.'));return ee.generatedKey},ve.addNode=function(z,ee){return function(ye,je,Xe){if(Xe&&!D(Xe))throw new Ne('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(Xe,'"'));if(Xe=Xe||{},ye._nodes.has(je=""+je))throw new ge('Graph.addNode: the "'.concat(je,'" node already exist in the graph.'));var at=new ye.NodeDataClass(je,Xe);return ye._nodes.set(je,at),ye.emit("nodeAdded",{key:je,attributes:Xe}),at}(this,z,ee).key},ve.mergeNode=function(z,ee){if(ee&&!D(ee))throw new Ne('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(ee,'"'));ee=ee||{};var ye=this._nodes.get(z=""+z);return ye?(ee&&(y(ye.attributes,ee),this.emit("nodeAttributesUpdated",{type:"merge",key:z,attributes:ye.attributes,data:ee})),z):(ye=new this.NodeDataClass(z,ee),this._nodes.set(z,ye),this.emit("nodeAdded",{key:z,attributes:ee}),z)},ve.updateNode=function(z,ee){if(ee&&"function"!=typeof ee)throw new Ne('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(ee,'"'));var ye=this._nodes.get(z=""+z);if(ye)return ee&&(ye.attributes=ee(ye.attributes),this.emit("nodeAttributesUpdated",{type:"replace",key:z,attributes:ye.attributes})),z;var Xe=ee?ee({}):{};return ye=new this.NodeDataClass(z,Xe),this._nodes.set(z,ye),this.emit("nodeAdded",{key:z,attributes:Xe}),z},ve.dropNode=function(z){var ee=this,ye=this._nodes.get(z=""+z);if(!ye)throw new ze('Graph.dropNode: could not find the "'.concat(z,'" node in the graph.'));this.forEachEdge(z,function(je){ee.dropEdge(je)}),this._nodes.delete(z),this.emit("nodeDropped",{key:z,attributes:ye.attributes})},ve.dropEdge=function(z){var ee;if(arguments.length>1){var ye=""+arguments[0],je=""+arguments[1];if(!(ee=T(this,ye,je,this.type)))throw new ze('Graph.dropEdge: could not find the "'.concat(ye,'" -> "').concat(je,'" edge in the graph.'))}else if(!(ee=this._edges.get(z=""+z)))throw new ze('Graph.dropEdge: could not find the "'.concat(z,'" edge in the graph.'));this._edges.delete(ee.key);var at=ee.source,It=ee.target,Lt=ee.attributes,qt=ee.undirected;return at===It?qt?(at.undirectedSelfLoops--,this._undirectedSelfLoopCount--):(at.directedSelfLoops--,this._directedSelfLoopCount--):qt?(at.undirectedDegree--,It.undirectedDegree--):(at.outDegree--,It.inDegree--),function H(_e,De,ve){var z=_e.multi,ee=ve.source,ye=ve.target,je=ee.key,Xe=ye.key,at=ee[De?"undirected":"out"],It=De?"undirected":"in";if(Xe in at)if(z){var Lt=at[Xe];1===Lt.size?(delete at[Xe],delete ye[It][je]):Lt.delete(ve)}else delete at[Xe];z||delete ye[It][je]}(this,qt,ee),qt?this._undirectedSize--:this._directedSize--,this.emit("edgeDropped",{key:z,attributes:Lt,source:at.key,target:It.key,undirected:qt}),this},ve.clear=function(){this._edges.clear(),this._nodes.clear(),this.emit("cleared")},ve.clearEdges=function(){this._edges.clear(),this.clearIndex(),this.emit("edgesCleared")},ve.getAttribute=function(z){return this._attributes[z]},ve.getAttributes=function(){return this._attributes},ve.hasAttribute=function(z){return this._attributes.hasOwnProperty(z)},ve.setAttribute=function(z,ee){return this._attributes[z]=ee,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:z}),this},ve.updateAttribute=function(z,ee){if("function"!=typeof ee)throw new Ne("Graph.updateAttribute: updater should be a function.");return this._attributes[z]=ee(this._attributes[z]),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:z}),this},ve.removeAttribute=function(z){return delete this._attributes[z],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:z}),this},ve.replaceAttributes=function(z){if(!D(z))throw new Ne("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=z,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},ve.mergeAttributes=function(z){if(!D(z))throw new Ne("Graph.mergeAttributes: provided attributes are not a plain object.");return y(this._attributes,z),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:z}),this},ve.getNodeAttribute=function(z,ee){var ye=this._nodes.get(z=""+z);if(!ye)throw new ze('Graph.getNodeAttribute: could not find the "'.concat(z,'" node in the graph.'));return ye.attributes[ee]},ve.getNodeAttributes=function(z){var ee=this._nodes.get(z=""+z);if(!ee)throw new ze('Graph.getNodeAttributes: could not find the "'.concat(z,'" node in the graph.'));return ee.attributes},ve.hasNodeAttribute=function(z,ee){var ye=this._nodes.get(z=""+z);if(!ye)throw new ze('Graph.hasNodeAttribute: could not find the "'.concat(z,'" node in the graph.'));return ye.attributes.hasOwnProperty(ee)},ve.setNodeAttribute=function(z,ee,ye){var je=this._nodes.get(z=""+z);if(!je)throw new ze('Graph.setNodeAttribute: could not find the "'.concat(z,'" node in the graph.'));if(arguments.length<3)throw new Ne("Graph.setNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or value, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");return je.attributes[ee]=ye,this.emit("nodeAttributesUpdated",{key:z,type:"set",attributes:je.attributes,name:ee}),this},ve.updateNodeAttribute=function(z,ee,ye){var je=this._nodes.get(z=""+z);if(!je)throw new ze('Graph.updateNodeAttribute: could not find the "'.concat(z,'" node in the graph.'));if(arguments.length<3)throw new Ne("Graph.updateNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or updater, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");if("function"!=typeof ye)throw new Ne("Graph.updateAttribute: updater should be a function.");var Xe=je.attributes,at=ye(Xe[ee]);return Xe[ee]=at,this.emit("nodeAttributesUpdated",{key:z,type:"set",attributes:je.attributes,name:ee}),this},ve.removeNodeAttribute=function(z,ee){var ye=this._nodes.get(z=""+z);if(!ye)throw new ze('Graph.hasNodeAttribute: could not find the "'.concat(z,'" node in the graph.'));return delete ye.attributes[ee],this.emit("nodeAttributesUpdated",{key:z,type:"remove",attributes:ye.attributes,name:ee}),this},ve.replaceNodeAttributes=function(z,ee){var ye=this._nodes.get(z=""+z);if(!ye)throw new ze('Graph.replaceNodeAttributes: could not find the "'.concat(z,'" node in the graph.'));if(!D(ee))throw new Ne("Graph.replaceNodeAttributes: provided attributes are not a plain object.");return ye.attributes=ee,this.emit("nodeAttributesUpdated",{key:z,type:"replace",attributes:ye.attributes}),this},ve.mergeNodeAttributes=function(z,ee){var ye=this._nodes.get(z=""+z);if(!ye)throw new ze('Graph.mergeNodeAttributes: could not find the "'.concat(z,'" node in the graph.'));if(!D(ee))throw new Ne("Graph.mergeNodeAttributes: provided attributes are not a plain object.");return y(ye.attributes,ee),this.emit("nodeAttributesUpdated",{key:z,type:"merge",attributes:ye.attributes,data:ee}),this},ve.updateEachNodeAttributes=function(z,ee){if("function"!=typeof z)throw new Ne("Graph.updateEachNodeAttributes: expecting an updater function.");if(ee&&!W(ee))throw new Ne("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var ye,je,Xe=this._nodes.values();!0!==(ye=Xe.next()).done;)(je=ye.value).attributes=z(je.key,je.attributes);this.emit("eachNodeAttributesUpdated",{hints:ee||null})},ve.updateEachEdgeAttributes=function(z,ee){if("function"!=typeof z)throw new Ne("Graph.updateEachEdgeAttributes: expecting an updater function.");if(ee&&!W(ee))throw new Ne("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var ye,je,Xe=this._edges.values();!0!==(ye=Xe.next()).done;)(je=ye.value).attributes=z(je.key,je.attributes);this.emit("eachEdgeAttributesUpdated",{hints:ee||null})},ve.forEach=function(z){if("function"!=typeof z)throw new Ne("Graph.forEach: expecting a callback.");this.multi?Da(!1,this,z):pd(!1,this,z)},ve.forEachUntil=function(z){if("function"!=typeof z)throw new Ne("Graph.forEach: expecting a callback.");this.multi?Da(!0,this,z):pd(!0,this,z)},ve.adjacency=function(){return this.multi?(at=(z=this)._nodes.values(),It=z.type,Lt="outer",qt=null,new qe(function wn(){var kn;if("outer"===Lt)return!0===(kn=at.next()).done?kn:(ee=kn.value,Lt="directed",wn());if("directed"===Lt)return"undirected"===It?(Lt="undirected",wn()):(je=ee.out,ye=Object.keys(ee.out),Xe=0,Lt="inner-directed",wn());if("undirected"===Lt){if("directed"===It)return Lt="outer",wn();je=ee.undirected,ye=Object.keys(ee.undirected),Xe=0,Lt="inner-undirected"}if(!qt&&Xe>=ye.length)return Lt="inner-undirected"===Lt?"outer":"undirected",wn();if(!qt){var Ro=ye[Xe++];return qt=je[Ro].values(),wn()}if((kn=qt.next()).done)return qt=null,wn();var Xr=kn.value,Zo=Xr.target;return"inner-undirected"===Lt&&Zo.key===ee.key&&(Zo=Xr.source),{done:!1,value:[ee.key,Zo.key,ee.attributes,Zo.attributes,Xr.key,Xr.attributes]}})):(fl=(wn=this)._nodes.values(),la=wn.type,io="outer",new qe(function Qo(){var Hi;if("outer"===io)return!0===(Hi=fl.next()).done?Hi:(kn=Hi.value,io="directed",Qo());if("directed"===io)return"undirected"===la?(io="undirected",Qo()):(Xr=kn.out,Ro=Object.keys(kn.out),Zo=0,io="inner-directed",Qo());if("undirected"===io){if("directed"===la)return io="outer",Qo();Xr=kn.undirected,Ro=Object.keys(kn.undirected),Zo=0,io="inner-undirected"}if(Zo>=Ro.length)return io="inner-undirected"===io?"outer":"undirected",Qo();var hr=Ro[Zo++],Ei=Xr[hr],sn=Ei.target;return"inner-undirected"===io&&sn.key===kn.key&&(sn=Ei.source),{done:!1,value:[kn.key,sn.key,kn.attributes,sn.attributes,Ei.key,Ei.attributes]}}));var wn,kn,Ro,Xr,Zo,fl,la,io,z,ee,ye,je,Xe,at,It,Lt,qt},ve.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):Ee(this._nodes.keys(),this._nodes.size)},ve.forEachNode=function(z){if("function"!=typeof z)throw new Ne("Graph.forEachNode: expecting a callback.");this._nodes.forEach(function(ee,ye){z(ye,ee.attributes)})},ve.forEachNodeUntil=function(z){if("function"!=typeof z)throw new Ne("Graph.forEachNode: expecting a callback.");for(var ee,ye,je=this._nodes.values();!0!==(ee=je.next())&&!z((ye=ee.value).key,ye.attributes););},ve.nodeEntries=function(){var z=this._nodes.values();return new qe(function(){var ee=z.next();if(ee.done)return ee;var ye=ee.value;return{value:[ye.key,ye.attributes],done:!1}})},ve.exportNode=function(z){var ee=this._nodes.get(z=""+z);if(!ee)throw new ze('Graph.exportNode: could not find the "'.concat(z,'" node in the graph.'));return xc(z,ee)},ve.exportEdge=function(z){var ee=this._edges.get(z=""+z);if(!ee)throw new ze('Graph.exportEdge: could not find the "'.concat(z,'" edge in the graph.'));return md(z,ee)},ve.export=function(){var z=new Array(this._nodes.size),ee=0;this._nodes.forEach(function(je,Xe){z[ee++]=xc(Xe,je)});var ye=new Array(this._edges.size);return ee=0,this._edges.forEach(function(je,Xe){ye[ee++]=md(Xe,je)}),{attributes:this.getAttributes(),nodes:z,edges:ye,options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops}}},ve.importNode=function(z){var ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ye=function gd(_e){return D(_e)?"key"in _e?!("attributes"in _e)||D(_e.attributes)&&null!==_e.attributes?null:"invalid-attributes":"no-key":"not-object"}(z);if(ye){if("not-object"===ye)throw new Ne('Graph.importNode: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if("no-key"===ye)throw new Ne("Graph.importNode: no key provided.");if("invalid-attributes"===ye)throw new Ne("Graph.importNode: invalid attributes. Attributes should be a plain object, null or omitted.")}var je=z.key,Xe=z.attributes,at=void 0===Xe?{}:Xe;return ee?this.mergeNode(je,at):this.addNode(je,at),this},ve.importEdge=function(z){var ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ye=function ll(_e){return D(_e)?"source"in _e?"target"in _e?!("attributes"in _e)||D(_e.attributes)&&null!==_e.attributes?"undirected"in _e&&"boolean"!=typeof _e.undirected?"invalid-undirected":null:"invalid-attributes":"no-target":"no-source":"not-object"}(z);if(ye){if("not-object"===ye)throw new Ne('Graph.importEdge: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if("no-source"===ye)throw new Ne("Graph.importEdge: missing souce.");if("no-target"===ye)throw new Ne("Graph.importEdge: missing target.");if("invalid-attributes"===ye)throw new Ne("Graph.importEdge: invalid attributes. Attributes should be a plain object, null or omitted.");if("invalid-undirected"===ye)throw new Ne("Graph.importEdge: invalid undirected. Undirected should be boolean or omitted.")}var je=z.source,Xe=z.target,at=z.attributes,It=void 0===at?{}:at,Lt=z.undirected,qt=void 0!==Lt&&Lt;return"key"in z?(ee?qt?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:qt?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,z.key,je,Xe,It):(ee?qt?this.mergeUndirectedEdge:this.mergeDirectedEdge:qt?this.addUndirectedEdge:this.addDirectedEdge).call(this,je,Xe,It),this},ve.import=function(z){var ee,ye,je,Xe=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(function F(_e){return null!==_e&&"object"===q(_e)&&"function"==typeof _e.addUndirectedEdgeWithKey&&"function"==typeof _e.dropNode}(z))return this.import(z.export(),Xe),this;if(!D(z))throw new Ne("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(z.attributes){if(!D(z.attributes))throw new Ne("Graph.import: invalid attributes. Expecting a plain object.");Xe?this.mergeAttributes(z.attributes):this.replaceAttributes(z.attributes)}if(z.nodes){if(je=z.nodes,!Array.isArray(je))throw new Ne("Graph.import: invalid nodes. Expecting an array.");for(ee=0,ye=je.length;ee<ye;ee++)this.importNode(je[ee],Xe)}if(z.edges){if(je=z.edges,!Array.isArray(je))throw new Ne("Graph.import: invalid edges. Expecting an array.");for(ee=0,ye=je.length;ee<ye;ee++)this.importEdge(je[ee],Xe)}return this},ve.nullCopy=function(z){return new De(y({},this._options,z))},ve.emptyCopy=function(z){var ee=this.nullCopy(z);return this._nodes.forEach(function(ye,je){var Xe=y({},ye.attributes);ye=new ee.NodeDataClass(je,Xe),ee._nodes.set(je,ye)}),ee},ve.copy=function(){var z=new De(this._options);return z.import(this),z},ve.upgradeToMixed=function(){return"mixed"===this.type||(this._nodes.forEach(function(z){return z.upgradeToMixed()}),this._options.type="mixed",C(this,"type",this._options.type),te(this,"NodeDataClass",Se)),this},ve.upgradeToMulti=function(){return this.multi||(this._options.multi=!0,C(this,"multi",!0),(z=this)._nodes.forEach(function(ee,ye){if(ee.out)for(var je in ee.out){var Xe=new Set;Xe.add(ee.out[je]),ee.out[je]=Xe,z._nodes.get(je).in[ye]=Xe}if(ee.undirected)for(var at in ee.undirected)if(!(at>ye)){var It=new Set;It.add(ee.undirected[at]),ee.undirected[at]=It,z._nodes.get(at).undirected[ye]=It}})),this;var z},ve.clearIndex=function(){return this._nodes.forEach(function(z){void 0!==z.in&&(z.in={},z.out={}),void 0!==z.undirected&&(z.undirected={})}),this},ve.toJSON=function(){return this.export()},ve.toString=function(){return"[object Graph]"},ve.inspect=function(){var z=this,ee={};this._nodes.forEach(function(It,Lt){ee[Lt]=It.attributes});var ye={},je={};this._edges.forEach(function(It,Lt){var qt=It.undirected?"--":"->",wn="",kn="(".concat(It.source.key,")").concat(qt,"(").concat(It.target.key,")");It.generatedKey?z.multi&&(void 0===je[kn]?je[kn]=0:je[kn]++,wn+="".concat(je[kn],". ")):wn+="[".concat(Lt,"]: "),ye[wn+=kn]=It.attributes});var Xe={};for(var at in this)this.hasOwnProperty(at)&&!dl.has(at)&&"function"!=typeof this[at]&&(Xe[at]=this[at]);return Xe.attributes=this._attributes,Xe.nodes=ee,Xe.edges=ye,te(Xe,"constructor",this.constructor),Xe},De}(Y.exports.EventEmitter);typeof Symbol<"u"&&(ji.prototype[Symbol.for("nodejs.util.inspect.custom")]=ji.prototype.inspect),[{name:function(_e){return"".concat(_e,"Edge")},generateKey:!0},{name:function(_e){return"".concat(_e,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(_e){return"".concat(_e,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(_e){return"".concat(_e,"EdgeWithKey")}},{name:function(_e){return"".concat(_e,"DirectedEdgeWithKey")},type:"directed"},{name:function(_e){return"".concat(_e,"UndirectedEdgeWithKey")},type:"undirected"}].forEach(function(_e){["add","merge","update"].forEach(function(De){var ve=_e.name(De),z="add"===De?_d:er;ji.prototype[ve]=_e.generateKey?function(ee,ye,je){return z(this,ve,!0,"undirected"===(_e.type||this.type),null,ee,ye,je,"update"===De)}:function(ee,ye,je,Xe){return z(this,ve,!1,"undirected"===(_e.type||this.type),ee,ye,je,Xe,"update"===De)}})}),typeof Symbol<"u"&&(ji.prototype[Symbol.iterator]=ji.prototype.adjacency),_e=ji,O.forEach(function(De){var ve=De.name,z=De.attacher;z(_e,ve("Edge"),"mixed"),z(_e,ve("DirectedEdge"),"directed"),z(_e,ve("UndirectedEdge"),"undirected")}),function(_e){Be.forEach(function(De){var z,ee,ye,je;ye=(z=De).type,je=z.direction,_e.prototype[ee=z.name]=function(Xe,at){if("mixed"!==ye&&"mixed"!==this.type&&ye!==this.type)return[];if(!arguments.length)return function xn(_e,De){if(0===_e.size)return[];if("mixed"===De||De===_e.type)return"function"==typeof Array.from?Array.from(_e._edges.keys()):Ee(_e._edges.keys(),_e._edges.size);for(var ve,z,ye=new Array("undirected"===De?_e.undirectedSize:_e.directedSize),je="undirected"===De,Xe=_e._edges.values(),at=0;!0!==(ve=Xe.next()).done;)(z=ve.value).undirected===je&&(ye[at++]=z.key);return ye}(this,ye);if(1===arguments.length){var It=this._nodes.get(Xe=""+Xe);if(void 0===It)throw new ze("Graph.".concat(ee,': could not find the "').concat(Xe,'" node in the graph.'));return function ae(_e,De,ve,z){var ee=[],ye=_e?he:it;return"undirected"!==De&&("out"!==ve&&ye(ee,z.in),"in"!==ve&&ye(ee,z.out),!ve&&z.directedSelfLoops>0&&ee.splice(ee.lastIndexOf(z.key),1)),"directed"!==De&&ye(ee,z.undirected),ee}(this.multi,"mixed"===ye?this.type:ye,je,It)}if(2===arguments.length){at=""+at;var Lt=this._nodes.get(Xe=""+Xe);if(!Lt)throw new ze("Graph.".concat(ee,':  could not find the "').concat(Xe,'" source node in the graph.'));if(!this._nodes.has(at))throw new ze("Graph.".concat(ee,':  could not find the "').concat(at,'" target node in the graph.'));return function nn(_e,De,ve,z,ee){var ye=De?He:pe,je=[];return"undirected"!==_e&&(void 0!==z.in&&"out"!==ve&&ye(je,z.in,ee),void 0!==z.out&&"in"!==ve&&ye(je,z.out,ee),!ve&&z.directedSelfLoops>0&&je.splice(je.lastIndexOf(z.key),1)),"directed"!==_e&&void 0!==z.undirected&&ye(je,z.undirected,ee),je}(ye,this.multi,je,Lt,at)}throw new Ne("Graph.".concat(ee,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))},function(ve,z){var ee=z.name,ye=z.type,je=z.direction,Xe="forEach"+ee[0].toUpperCase()+ee.slice(1,-1);ve.prototype[Xe]=function(at,It,Lt){if("mixed"===ye||"mixed"===this.type||ye===this.type){if(1===arguments.length)return function fe(_e,De,ve){if(0!==_e.size)for(var z,ee,ye="mixed"!==De&&De!==_e.type,je="undirected"===De,Xe=_e._edges.values();!0!==(z=Xe.next()).done;)if(ee=z.value,!ye||ee.undirected===je){var qt=ee.source,wn=ee.target;ve(ee.key,ee.attributes,qt.key,wn.key,qt.attributes,wn.attributes,ee.undirected,ee.generatedKey)}}(this,ye,Lt=at);if(2===arguments.length){Lt=It;var qt=this._nodes.get(at=""+at);if(void 0===qt)throw new ze("Graph.".concat(Xe,': could not find the "').concat(at,'" node in the graph.'));return function Ge(_e,De,ve,z,ee){var ye=_e?$:Z;"undirected"!==De&&("out"!==ve&&ye(z.in,ee),"in"!==ve&&ye(z.out,ee,ve?null:z.key)),"directed"!==De&&ye(z.undirected,ee)}(this.multi,"mixed"===ye?this.type:ye,je,qt,Lt)}if(3===arguments.length){It=""+It;var wn=this._nodes.get(at=""+at);if(!wn)throw new ze("Graph.".concat(Xe,':  could not find the "').concat(at,'" source node in the graph.'));if(!this._nodes.has(It))throw new ze("Graph.".concat(Xe,':  could not find the "').concat(It,'" target node in the graph.'));return function Cn(_e,De,ve,z,ee,ye){var je=De?ft:ke;"undirected"!==_e&&(void 0!==z.in&&"out"!==ve&&je(z.in,ee,ye),z.key!==ee&&void 0!==z.out&&"in"!==ve&&je(z.out,ee,ye)),"directed"!==_e&&void 0!==z.undirected&&je(z.undirected,ee,ye)}(ye,this.multi,je,wn,It,Lt)}throw new Ne("Graph.".concat(Xe,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}}}(_e,De),function(ve,z){var ee=z.name,ye=z.type,je=z.direction,Xe="forEach"+ee[0].toUpperCase()+ee.slice(1,-1)+"Until";ve.prototype[Xe]=function(at,It,Lt){if("mixed"===ye||"mixed"===this.type||ye===this.type){if(1===arguments.length)return function J(_e,De,ve){if(0!==_e.size)for(var z,ee,ye="mixed"!==De&&De!==_e.type,je="undirected"===De,Xe=_e._edges.values();!0!==(z=Xe.next()).done;)if(ee=z.value,!ye||ee.undirected===je){var qt=ee.source,wn=ee.target;if(ve(ee.key,ee.attributes,qt.key,wn.key,qt.attributes,wn.attributes,ee.undirected,ee.generatedKey))break}}(this,ye,Lt=at);if(2===arguments.length){Lt=It;var qt=this._nodes.get(at=""+at);if(void 0===qt)throw new ze("Graph.".concat(Xe,': could not find the "').concat(at,'" node in the graph.'));return function et(_e,De,ve,z,ee){var ye=_e?N:E;"undirected"!==De&&("out"!==ve&&ye(z.in,ee)||"in"!==ve&&ye(z.out,ee,ve?null:z.key))||"directed"===De||ye(z.undirected,ee)}(this.multi,"mixed"===ye?this.type:ye,je,qt,Lt)}if(3===arguments.length){It=""+It;var wn=this._nodes.get(at=""+at);if(!wn)throw new ze("Graph.".concat(Xe,':  could not find the "').concat(at,'" source node in the graph.'));if(!this._nodes.has(It))throw new ze("Graph.".concat(Xe,':  could not find the "').concat(It,'" target node in the graph.'));return function ni(_e,De,ve,z,ee,ye){var je=De?Ct:Ht;"undirected"!==_e&&(void 0!==z.in&&"out"!==ve&&je(z.in,ee,ye)||z.key!==ee&&void 0!==z.out&&"in"!==ve&&je(z.out,ee,ye,ve?null:z.key))||"directed"===_e||void 0===z.undirected||je(z.undirected,ee,ye)}(ye,this.multi,je,wn,It,Lt)}throw new Ne("Graph.".concat(Xe,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}}}(_e,De),function(ve,z){var ye=z.type,je=z.direction,Xe=z.name.slice(0,-1)+"Entries";ve.prototype[Xe]=function(at,It){if("mixed"!==ye&&"mixed"!==this.type&&ye!==this.type)return qe.empty();if(!arguments.length)return function M(_e,De){if(0===_e.size)return qe.empty();var ve="mixed"!==De&&De!==_e.type,z="undirected"===De,ee=_e._edges.values();return new qe(function(){for(var ye,je;;){if((ye=ee.next()).done)return ye;if(je=ye.value,!ve||je.undirected===z)break}return{value:[je.key,je.attributes,je.source.key,je.target.key,je.source.attributes,je.target.attributes],done:!1}})}(this,ye);if(1===arguments.length){var Lt=this._nodes.get(at=""+at);if(!Lt)throw new ze("Graph.".concat(Xe,': could not find the "').concat(at,'" node in the graph.'));return function lt(_e,De,ve){var z=qe.empty();return"undirected"!==_e&&("out"!==De&&void 0!==ve.in&&(z=j(z,de(ve.in))),"in"!==De&&void 0!==ve.out&&(z=j(z,de(ve.out,De?null:ve.key)))),"directed"!==_e&&void 0!==ve.undirected&&(z=j(z,de(ve.undirected))),z}(ye,je,Lt)}if(2===arguments.length){It=""+It;var qt=this._nodes.get(at=""+at);if(!qt)throw new ze("Graph.".concat(Xe,':  could not find the "').concat(at,'" source node in the graph.'));if(!this._nodes.has(It))throw new ze("Graph.".concat(Xe,':  could not find the "').concat(It,'" target node in the graph.'));return function Un(_e,De,ve,z){var ee=qe.empty();return"undirected"!==_e&&(void 0!==ve.in&&"out"!==De&&z in ve.in&&(ee=j(ee,en(ve.in,z))),void 0!==ve.out&&"in"!==De&&z in ve.out&&(ee=j(ee,en(ve.out,z)))),"directed"!==_e&&void 0!==ve.undirected&&z in ve.undirected&&(ee=j(ee,en(ve.undirected,z))),ee}(ye,je,qt,It)}throw new Ne("Graph.".concat(Xe,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(_e,De)})}(ji),function(_e){jn.forEach(function(De){var z,ee,ye,je;ye=(z=De).type,je=z.direction,_e.prototype[ee=z.name]=function(Xe){if("mixed"!==ye&&"mixed"!==this.type&&ye!==this.type)return[];if(2===arguments.length){var at=""+arguments[0],It=""+arguments[1];if(!this._nodes.has(at))throw new ze("Graph.".concat(ee,': could not find the "').concat(at,'" node in the graph.'));if(!this._nodes.has(It))throw new ze("Graph.".concat(ee,': could not find the "').concat(It,'" node in the graph.'));return function ko(_e,De,ve,z,ee){var ye=_e._nodes.get(z);if("undirected"!==De){if("out"!==ve&&void 0!==ye.in)for(var je in ye.in)if(je===ee)return!0;if("in"!==ve&&void 0!==ye.out)for(var Xe in ye.out)if(Xe===ee)return!0}if("directed"!==De&&void 0!==ye.undirected)for(var at in ye.undirected)if(at===ee)return!0;return!1}(this,ye,je,at,It)}if(1===arguments.length){var Lt=this._nodes.get(Xe=""+Xe);if(void 0===Lt)throw new ze("Graph.".concat(ee,': could not find the "').concat(Xe,'" node in the graph.'));return function js(_e,De,ve){if("mixed"!==_e){if("undirected"===_e)return Object.keys(ve.undirected);if("string"==typeof De)return Object.keys(ve[De])}var z=new Set;return"undirected"!==_e&&("out"!==De&&Ko(z,ve.in),"in"!==De&&Ko(z,ve.out)),"directed"!==_e&&Ko(z,ve.undirected),Ee(z.values(),z.size)}("mixed"===ye?this.type:ye,je,Lt)}throw new Ne("Graph.".concat(ee,": invalid number of arguments (expecting 1 or 2 and got ").concat(arguments.length,")."))},function Su(_e,De){var ve=De.name,z=De.type,ee=De.direction,ye="forEach"+ve[0].toUpperCase()+ve.slice(1,-1);_e.prototype[ye]=function(je,Xe){if("mixed"===z||"mixed"===this.type||z===this.type){var at=this._nodes.get(je=""+je);if(void 0===at)throw new ze("Graph.".concat(ye,': could not find the "').concat(je,'" node in the graph.'));!function(It,Lt,qt,wn){if("mixed"!==It){if("undirected"===It)return ys(qt,qt.undirected,wn);if("string"==typeof Lt)return ys(qt,qt[Lt],wn)}var kn=new Set;"undirected"!==It&&("out"!==Lt&&ur(kn,qt,qt.in,wn),"in"!==Lt&&ur(kn,qt,qt.out,wn)),"directed"!==It&&ur(kn,qt,qt.undirected,wn)}("mixed"===z?this.type:z,ee,at,Xe)}}}(_e,De),function Gh(_e,De){var ve=De.name,z=De.type,ee=De.direction,ye="forEach"+ve[0].toUpperCase()+ve.slice(1,-1)+"Until";_e.prototype[ye]=function(je,Xe){if("mixed"===z||"mixed"===this.type||z===this.type){var at=this._nodes.get(je=""+je);if(void 0===at)throw new ze("Graph.".concat(ye,': could not find the "').concat(je,'" node in the graph.'));!function(It,Lt,qt,wn){if("mixed"!==It){if("undirected"===It)return ho(qt,qt.undirected,wn);if("string"==typeof Lt)return ho(qt,qt[Lt],wn)}var kn=new Set;"undirected"!==It&&("out"!==Lt&&Vs(kn,qt,qt.in,wn)||"in"!==Lt&&Vs(kn,qt,qt.out,wn))||"directed"===It||Vs(kn,qt,qt.undirected,wn)}("mixed"===z?this.type:z,ee,at,Xe)}}}(_e,De),function Wh(_e,De){var z=De.type,ee=De.direction,ye=De.name.slice(0,-1)+"Entries";_e.prototype[ye]=function(je){if("mixed"!==z&&"mixed"!==this.type&&z!==this.type)return qe.empty();var Xe=this._nodes.get(je=""+je);if(void 0===Xe)throw new ze("Graph.".concat(ye,': could not find the "').concat(je,'" node in the graph.'));return function(at,It,Lt){if("mixed"!==at){if("undirected"===at)return aa(Lt,Lt.undirected);if("string"==typeof It)return aa(Lt,Lt[It])}var qt=qe.empty(),wn=new Set;return"undirected"!==at&&("out"!==It&&(qt=j(qt,qo(wn,Lt,Lt.in))),"in"!==It&&(qt=j(qt,qo(wn,Lt,Lt.out)))),"directed"!==at&&(qt=j(qt,qo(wn,Lt,Lt.undirected))),qt}("mixed"===z?this.type:z,ee,Xe)}}(_e,De)})}(ji);var hl=function(_e){function De(ve){var z=y({type:"directed"},ve);if("multi"in z&&!1!==z.multi)throw new Ne("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==z.type)throw new Ne('DirectedGraph.from: inconsistent "'+z.type+'" type in given options!');return _e.call(this,z)||this}return m(De,_e),De}(ji),ca=function(_e){function De(ve){var z=y({type:"undirected"},ve);if("multi"in z&&!1!==z.multi)throw new Ne("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==z.type)throw new Ne('UndirectedGraph.from: inconsistent "'+z.type+'" type in given options!');return _e.call(this,z)||this}return m(De,_e),De}(ji),Ka=function(_e){function De(ve){var z=y({multi:!0},ve);if("multi"in z&&!0!==z.multi)throw new Ne("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return _e.call(this,z)||this}return m(De,_e),De}(ji),Oa=function(_e){function De(ve){var z=y({type:"directed",multi:!0},ve);if("multi"in z&&!0!==z.multi)throw new Ne("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==z.type)throw new Ne('MultiDirectedGraph.from: inconsistent "'+z.type+'" type in given options!');return _e.call(this,z)||this}return m(De,_e),De}(ji),Ec=function(_e){function De(ve){var z=y({type:"undirected",multi:!0},ve);if("multi"in z&&!0!==z.multi)throw new Ne("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==z.type)throw new Ne('MultiUndirectedGraph.from: inconsistent "'+z.type+'" type in given options!');return _e.call(this,z)||this}return m(De,_e),De}(ji);function Jo(_e){_e.from=function(De,ve){var z=y({},De.options,ve),ee=new _e(z);return ee.import(De),ee}}return Jo(ji),Jo(hl),Jo(ca),Jo(Ka),Jo(Oa),Jo(Ec),ji.Graph=ji,ji.DirectedGraph=hl,ji.UndirectedGraph=ca,ji.MultiGraph=Ka,ji.MultiDirectedGraph=Oa,ji.MultiUndirectedGraph=Ec,ji.InvalidArgumentsGraphError=Ne,ji.NotFoundGraphError=ze,ji.UsageGraphError=ge,ji}()},7271:(re,q,m)=>{var A;!function(b,R,S,P){"use strict";var Y,g=["","webkit","Moz","MS","ms","o"],y=R.createElement("div"),T="function",F=Math.round,D=Math.abs,B=Date.now;function te(Oe,Ue,rt){return setTimeout(V(Oe,rt),Ue)}function C(Oe,Ue,rt){return!!Array.isArray(Oe)&&(W(Oe,rt[Ue],rt),!0)}function W(Oe,Ue,rt){var pt;if(Oe)if(Oe.forEach)Oe.forEach(Ue,rt);else if(Oe.length!==P)for(pt=0;pt<Oe.length;)Ue.call(rt,Oe[pt],pt,Oe),pt++;else for(pt in Oe)Oe.hasOwnProperty(pt)&&Ue.call(rt,Oe[pt],pt,Oe)}function ce(Oe,Ue,rt){var pt="DEPRECATED METHOD: "+Ue+"\n"+rt+" AT \n";return function(){var zt=new Error("get-stack-trace"),Jt=zt&&zt.stack?zt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ii=b.console&&(b.console.warn||b.console.log);return ii&&ii.call(b.console,pt,Jt),Oe.apply(this,arguments)}}Y="function"!=typeof Object.assign?function(Ue){if(Ue===P||null===Ue)throw new TypeError("Cannot convert undefined or null to object");for(var rt=Object(Ue),pt=1;pt<arguments.length;pt++){var zt=arguments[pt];if(zt!==P&&null!==zt)for(var Jt in zt)zt.hasOwnProperty(Jt)&&(rt[Jt]=zt[Jt])}return rt}:Object.assign;var ie=ce(function(Ue,rt,pt){for(var zt=Object.keys(rt),Jt=0;Jt<zt.length;)(!pt||pt&&Ue[zt[Jt]]===P)&&(Ue[zt[Jt]]=rt[zt[Jt]]),Jt++;return Ue},"extend","Use `assign`."),ne=ce(function(Ue,rt){return ie(Ue,rt,!0)},"merge","Use `assign`.");function X(Oe,Ue,rt){var zt,pt=Ue.prototype;(zt=Oe.prototype=Object.create(pt)).constructor=Oe,zt._super=pt,rt&&Y(zt,rt)}function V(Oe,Ue){return function(){return Oe.apply(Ue,arguments)}}function v(Oe,Ue){return typeof Oe==T?Oe.apply(Ue&&Ue[0]||P,Ue):Oe}function U(Oe,Ue){return Oe===P?Ue:Oe}function k(Oe,Ue,rt){W(le(Ue),function(pt){Oe.addEventListener(pt,rt,!1)})}function ue(Oe,Ue,rt){W(le(Ue),function(pt){Oe.removeEventListener(pt,rt,!1)})}function G(Oe,Ue){for(;Oe;){if(Oe==Ue)return!0;Oe=Oe.parentNode}return!1}function Te(Oe,Ue){return Oe.indexOf(Ue)>-1}function le(Oe){return Oe.trim().split(/\s+/g)}function we(Oe,Ue,rt){if(Oe.indexOf&&!rt)return Oe.indexOf(Ue);for(var pt=0;pt<Oe.length;){if(rt&&Oe[pt][rt]==Ue||!rt&&Oe[pt]===Ue)return pt;pt++}return-1}function Re(Oe){return Array.prototype.slice.call(Oe,0)}function Ie(Oe,Ue,rt){for(var pt=[],zt=[],Jt=0;Jt<Oe.length;){var ii=Ue?Oe[Jt][Ue]:Oe[Jt];we(zt,ii)<0&&pt.push(Oe[Jt]),zt[Jt]=ii,Jt++}return rt&&(pt=Ue?pt.sort(function(Rn,Sn){return Rn[Ue]>Sn[Ue]}):pt.sort()),pt}function Je(Oe,Ue){for(var rt,pt,zt=Ue[0].toUpperCase()+Ue.slice(1),Jt=0;Jt<g.length;){if((pt=(rt=g[Jt])?rt+zt:Ue)in Oe)return pt;Jt++}return P}var qe=1;function Le(Oe){var Ue=Oe.ownerDocument||Oe;return Ue.defaultView||Ue.parentWindow||b}var ze="ontouchstart"in b,ge=Je(b,"PointerEvent")!==P,Se=ze&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ke="touch",Ye="mouse",H=25,O=1,j=4,Be=8,it=1,he=2,Z=4,$=8,E=16,N=he|Z,de=$|E,pe=N|de,He=["x","y"],ke=["clientX","clientY"];function ft(Oe,Ue){var rt=this;this.manager=Oe,this.callback=Ue,this.element=Oe.element,this.target=Oe.options.inputTarget,this.domHandler=function(pt){v(Oe.options.enable,[Oe])&&rt.handler(pt)},this.init()}function Ct(Oe,Ue,rt){var pt=rt.pointers.length,zt=rt.changedPointers.length,Jt=Ue&O&&pt-zt==0,ii=Ue&(j|Be)&&pt-zt==0;rt.isFirst=!!Jt,rt.isFinal=!!ii,Jt&&(Oe.session={}),rt.eventType=Ue,function en(Oe,Ue){var rt=Oe.session,pt=Ue.pointers,zt=pt.length;rt.firstInput||(rt.firstInput=J(Ue)),zt>1&&!rt.firstMultiple?rt.firstMultiple=J(Ue):1===zt&&(rt.firstMultiple=!1);var Jt=rt.firstInput,ii=rt.firstMultiple,Vr=ii?ii.center:Jt.center,Rn=Ue.center=M(pt);Ue.timeStamp=B(),Ue.deltaTime=Ue.timeStamp-Jt.timeStamp,Ue.angle=lt(Vr,Rn),Ue.distance=et(Vr,Rn),function xn(Oe,Ue){var rt=Ue.center,pt=Oe.offsetDelta||{},zt=Oe.prevDelta||{},Jt=Oe.prevInput||{};(Ue.eventType===O||Jt.eventType===j)&&(zt=Oe.prevDelta={x:Jt.deltaX||0,y:Jt.deltaY||0},pt=Oe.offsetDelta={x:rt.x,y:rt.y}),Ue.deltaX=zt.x+(rt.x-pt.x),Ue.deltaY=zt.y+(rt.y-pt.y)}(rt,Ue),Ue.offsetDirection=Ge(Ue.deltaX,Ue.deltaY);var Sn=ae(Ue.deltaTime,Ue.deltaX,Ue.deltaY);Ue.overallVelocityX=Sn.x,Ue.overallVelocityY=Sn.y,Ue.overallVelocity=D(Sn.x)>D(Sn.y)?Sn.x:Sn.y,Ue.scale=ii?function Cn(Oe,Ue){return et(Ue[0],Ue[1],ke)/et(Oe[0],Oe[1],ke)}(ii.pointers,pt):1,Ue.rotation=ii?function nn(Oe,Ue){return lt(Ue[1],Ue[0],ke)+lt(Oe[1],Oe[0],ke)}(ii.pointers,pt):0,Ue.maxPointers=rt.prevInput?Ue.pointers.length>rt.prevInput.maxPointers?Ue.pointers.length:rt.prevInput.maxPointers:Ue.pointers.length,function fe(Oe,Ue){var zt,Jt,ii,Vr,rt=Oe.lastInterval||Ue,pt=Ue.timeStamp-rt.timeStamp;if(Ue.eventType!=Be&&(pt>H||rt.velocity===P)){var Rn=Ue.deltaX-rt.deltaX,Sn=Ue.deltaY-rt.deltaY,ws=ae(pt,Rn,Sn);Jt=ws.x,ii=ws.y,zt=D(ws.x)>D(ws.y)?ws.x:ws.y,Vr=Ge(Rn,Sn),Oe.lastInterval=Ue}else zt=rt.velocity,Jt=rt.velocityX,ii=rt.velocityY,Vr=rt.direction;Ue.velocity=zt,Ue.velocityX=Jt,Ue.velocityY=ii,Ue.direction=Vr}(rt,Ue);var ws=Oe.element;G(Ue.srcEvent.target,ws)&&(ws=Ue.srcEvent.target),Ue.target=ws}(Oe,rt),Oe.emit("hammer.input",rt),Oe.recognize(rt),Oe.session.prevInput=rt}function J(Oe){for(var Ue=[],rt=0;rt<Oe.pointers.length;)Ue[rt]={clientX:F(Oe.pointers[rt].clientX),clientY:F(Oe.pointers[rt].clientY)},rt++;return{timeStamp:B(),pointers:Ue,center:M(Ue),deltaX:Oe.deltaX,deltaY:Oe.deltaY}}function M(Oe){var Ue=Oe.length;if(1===Ue)return{x:F(Oe[0].clientX),y:F(Oe[0].clientY)};for(var rt=0,pt=0,zt=0;zt<Ue;)rt+=Oe[zt].clientX,pt+=Oe[zt].clientY,zt++;return{x:F(rt/Ue),y:F(pt/Ue)}}function ae(Oe,Ue,rt){return{x:Ue/Oe||0,y:rt/Oe||0}}function Ge(Oe,Ue){return Oe===Ue?it:D(Oe)>=D(Ue)?Oe<0?he:Z:Ue<0?$:E}function et(Oe,Ue,rt){rt||(rt=He);var pt=Ue[rt[0]]-Oe[rt[0]],zt=Ue[rt[1]]-Oe[rt[1]];return Math.sqrt(pt*pt+zt*zt)}function lt(Oe,Ue,rt){return rt||(rt=He),180*Math.atan2(Ue[rt[1]]-Oe[rt[1]],Ue[rt[0]]-Oe[rt[0]])/Math.PI}ft.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(Le(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&ue(this.element,this.evEl,this.domHandler),this.evTarget&&ue(this.target,this.evTarget,this.domHandler),this.evWin&&ue(Le(this.element),this.evWin,this.domHandler)}};var ni={mousedown:O,mousemove:2,mouseup:j},Un="mousedown",jn="mousemove mouseup";function Ko(){this.evEl=Un,this.evWin=jn,this.pressed=!1,ft.apply(this,arguments)}X(Ko,ft,{handler:function(Ue){var rt=ni[Ue.type];rt&O&&0===Ue.button&&(this.pressed=!0),2&rt&&1!==Ue.which&&(rt=j),this.pressed&&(rt&j&&(this.pressed=!1),this.callback(this.manager,rt,{pointers:[Ue],changedPointers:[Ue],pointerType:Ye,srcEvent:Ue}))}});var js={pointerdown:O,pointermove:2,pointerup:j,pointercancel:Be,pointerout:Be},ys={2:Ke,3:"pen",4:Ye,5:"kinect"},ur="pointerdown",ho="pointermove pointerup pointercancel";function Vs(){this.evEl=ur,this.evWin=ho,ft.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}b.MSPointerEvent&&!b.PointerEvent&&(ur="MSPointerDown",ho="MSPointerMove MSPointerUp MSPointerCancel"),X(Vs,ft,{handler:function(Ue){var rt=this.store,pt=!1,zt=Ue.type.toLowerCase().replace("ms",""),Jt=js[zt],ii=ys[Ue.pointerType]||Ue.pointerType,Vr=ii==Ke,Rn=we(rt,Ue.pointerId,"pointerId");Jt&O&&(0===Ue.button||Vr)?Rn<0&&(rt.push(Ue),Rn=rt.length-1):Jt&(j|Be)&&(pt=!0),!(Rn<0)&&(rt[Rn]=Ue,this.callback(this.manager,Jt,{pointers:rt,changedPointers:[Ue],pointerType:ii,srcEvent:Ue}),pt&&rt.splice(Rn,1))}});var aa={touchstart:O,touchmove:2,touchend:j,touchcancel:Be};function Su(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,ft.apply(this,arguments)}function Gh(Oe,Ue){var rt=Re(Oe.touches),pt=Re(Oe.changedTouches);return Ue&(j|Be)&&(rt=Ie(rt.concat(pt),"identifier",!0)),[rt,pt]}X(Su,ft,{handler:function(Ue){var rt=aa[Ue.type];if(rt===O&&(this.started=!0),this.started){var pt=Gh.call(this,Ue,rt);rt&(j|Be)&&pt[0].length-pt[1].length==0&&(this.started=!1),this.callback(this.manager,rt,{pointers:pt[0],changedPointers:pt[1],pointerType:Ke,srcEvent:Ue})}}});var Wh={touchstart:O,touchmove:2,touchend:j,touchcancel:Be},pd="touchstart touchmove touchend touchcancel";function Da(){this.evTarget=pd,this.targetIds={},ft.apply(this,arguments)}function xc(Oe,Ue){var rt=Re(Oe.touches),pt=this.targetIds;if(Ue&(2|O)&&1===rt.length)return pt[rt[0].identifier]=!0,[rt,rt];var zt,Jt,ii=Re(Oe.changedTouches),Vr=[],Rn=this.target;if(Jt=rt.filter(function(Sn){return G(Sn.target,Rn)}),Ue===O)for(zt=0;zt<Jt.length;)pt[Jt[zt].identifier]=!0,zt++;for(zt=0;zt<ii.length;)pt[ii[zt].identifier]&&Vr.push(ii[zt]),Ue&(j|Be)&&delete pt[ii[zt].identifier],zt++;return Vr.length?[Ie(Jt.concat(Vr),"identifier",!0),Vr]:void 0}X(Da,ft,{handler:function(Ue){var rt=Wh[Ue.type],pt=xc.call(this,Ue,rt);pt&&this.callback(this.manager,rt,{pointers:pt[0],changedPointers:pt[1],pointerType:Ke,srcEvent:Ue})}});var md=2500;function ll(){ft.apply(this,arguments);var Oe=V(this.handler,this);this.touch=new Da(this.manager,Oe),this.mouse=new Ko(this.manager,Oe),this.primaryTouch=null,this.lastTouches=[]}function $h(Oe,Ue){Oe&O?(this.primaryTouch=Ue.changedPointers[0].identifier,dl.call(this,Ue)):Oe&(j|Be)&&dl.call(this,Ue)}function dl(Oe){var Ue=Oe.changedPointers[0];if(Ue.identifier===this.primaryTouch){var rt={x:Ue.clientX,y:Ue.clientY};this.lastTouches.push(rt);var pt=this.lastTouches;setTimeout(function(){var Jt=pt.indexOf(rt);Jt>-1&&pt.splice(Jt,1)},md)}}function Au(Oe){for(var Ue=Oe.srcEvent.clientX,rt=Oe.srcEvent.clientY,pt=0;pt<this.lastTouches.length;pt++){var zt=this.lastTouches[pt],Jt=Math.abs(Ue-zt.x),ii=Math.abs(rt-zt.y);if(Jt<=25&&ii<=25)return!0}return!1}X(ll,ft,{handler:function(Ue,rt,pt){var Jt=pt.pointerType==Ye;if(!(Jt&&pt.sourceCapabilities&&pt.sourceCapabilities.firesTouchEvents)){if(pt.pointerType==Ke)$h.call(this,rt,pt);else if(Jt&&Au.call(this,pt))return;this.callback(Ue,rt,pt)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ul=Je(y.style,"touchAction"),_d=ul!==P,er="compute",hl="manipulation",ca="none",Ka="pan-x",Oa="pan-y",Ec=function De(){if(!_d)return!1;var Oe={},Ue=b.CSS&&b.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(rt){Oe[rt]=!Ue||b.CSS.supports("touch-action",rt)}),Oe}();function Jo(Oe,Ue){this.manager=Oe,this.set(Ue)}Jo.prototype={set:function(Oe){Oe==er&&(Oe=this.compute()),_d&&this.manager.element.style&&Ec[Oe]&&(this.manager.element.style[ul]=Oe),this.actions=Oe.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Oe=[];return W(this.manager.recognizers,function(Ue){v(Ue.options.enable,[Ue])&&(Oe=Oe.concat(Ue.getTouchAction()))}),function _e(Oe){if(Te(Oe,ca))return ca;var Ue=Te(Oe,Ka),rt=Te(Oe,Oa);return Ue&&rt?ca:Ue||rt?Ue?Ka:Oa:Te(Oe,hl)?hl:"auto"}(Oe.join(" "))},preventDefaults:function(Oe){var Ue=Oe.srcEvent,rt=Oe.offsetDirection;if(!this.manager.session.prevented){var pt=this.actions,zt=Te(pt,ca)&&!Ec[ca],Jt=Te(pt,Oa)&&!Ec[Oa],ii=Te(pt,Ka)&&!Ec[Ka];if(zt&&1===Oe.pointers.length&&Oe.distance<2&&Oe.deltaTime<250)return;return ii&&Jt||!(zt||Jt&&rt&N||ii&&rt&de)?void 0:this.preventSrc(Ue)}Ue.preventDefault()},preventSrc:function(Oe){this.manager.session.prevented=!0,Oe.preventDefault()}};var ve=1;function It(Oe){this.options=Y({},this.defaults,Oe||{}),this.id=function Ee(){return qe++}(),this.manager=null,this.options.enable=U(this.options.enable,!0),this.state=ve,this.simultaneous={},this.requireFail=[]}function Lt(Oe){return 16&Oe?"cancel":8&Oe?"end":4&Oe?"move":2&Oe?"start":""}function qt(Oe){return Oe==E?"down":Oe==$?"up":Oe==he?"left":Oe==Z?"right":""}function wn(Oe,Ue){var rt=Ue.manager;return rt?rt.get(Oe):Oe}function kn(){It.apply(this,arguments)}function Ro(){kn.apply(this,arguments),this.pX=null,this.pY=null}function Xr(){kn.apply(this,arguments)}function Zo(){It.apply(this,arguments),this._timer=null,this._input=null}function fl(){kn.apply(this,arguments)}function la(){kn.apply(this,arguments)}function io(){It.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Qo(Oe,Ue){return(Ue=Ue||{}).recognizers=U(Ue.recognizers,Qo.defaults.preset),new Ei(Oe,Ue)}function Ei(Oe,Ue){this.options=Y({},Qo.defaults,Ue||{}),this.options.inputTarget=this.options.inputTarget||Oe,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Oe,this.input=function Ht(Oe){return new(Oe.options.inputClass||(ge?Vs:Se?Da:ze?ll:Ko))(Oe,Ct)}(this),this.touchAction=new Jo(this,this.options.touchAction),sn(this,!0),W(this.options.recognizers,function(rt){var pt=this.add(new rt[0](rt[1]));rt[2]&&pt.recognizeWith(rt[2]),rt[3]&&pt.requireFailure(rt[3])},this)}function sn(Oe,Ue){var pt,rt=Oe.element;rt.style&&(W(Oe.options.cssProps,function(zt,Jt){pt=Je(rt.style,Jt),Ue?(Oe.oldCssProps[pt]=rt.style[pt],rt.style[pt]=zt):rt.style[pt]=Oe.oldCssProps[pt]||""}),Ue||(Oe.oldCssProps={}))}It.prototype={defaults:{},set:function(Oe){return Y(this.options,Oe),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Oe){if(C(Oe,"recognizeWith",this))return this;var Ue=this.simultaneous;return Ue[(Oe=wn(Oe,this)).id]||(Ue[Oe.id]=Oe,Oe.recognizeWith(this)),this},dropRecognizeWith:function(Oe){return C(Oe,"dropRecognizeWith",this)||(Oe=wn(Oe,this),delete this.simultaneous[Oe.id]),this},requireFailure:function(Oe){if(C(Oe,"requireFailure",this))return this;var Ue=this.requireFail;return-1===we(Ue,Oe=wn(Oe,this))&&(Ue.push(Oe),Oe.requireFailure(this)),this},dropRequireFailure:function(Oe){if(C(Oe,"dropRequireFailure",this))return this;Oe=wn(Oe,this);var Ue=we(this.requireFail,Oe);return Ue>-1&&this.requireFail.splice(Ue,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Oe){return!!this.simultaneous[Oe.id]},emit:function(Oe){var Ue=this,rt=this.state;function pt(zt){Ue.manager.emit(zt,Oe)}rt<8&&pt(Ue.options.event+Lt(rt)),pt(Ue.options.event),Oe.additionalEvent&&pt(Oe.additionalEvent),rt>=8&&pt(Ue.options.event+Lt(rt))},tryEmit:function(Oe){if(this.canEmit())return this.emit(Oe);this.state=32},canEmit:function(){for(var Oe=0;Oe<this.requireFail.length;){if(!(this.requireFail[Oe].state&(32|ve)))return!1;Oe++}return!0},recognize:function(Oe){var Ue=Y({},Oe);if(!v(this.options.enable,[this,Ue]))return this.reset(),void(this.state=32);56&this.state&&(this.state=ve),this.state=this.process(Ue),30&this.state&&this.tryEmit(Ue)},process:function(Oe){},getTouchAction:function(){},reset:function(){}},X(kn,It,{defaults:{pointers:1},attrTest:function(Oe){var Ue=this.options.pointers;return 0===Ue||Oe.pointers.length===Ue},process:function(Oe){var Ue=this.state,rt=Oe.eventType,pt=6&Ue,zt=this.attrTest(Oe);return pt&&(rt&Be||!zt)?16|Ue:pt||zt?rt&j?8|Ue:2&Ue?4|Ue:2:32}}),X(Ro,kn,{defaults:{event:"pan",threshold:10,pointers:1,direction:pe},getTouchAction:function(){var Oe=this.options.direction,Ue=[];return Oe&N&&Ue.push(Oa),Oe&de&&Ue.push(Ka),Ue},directionTest:function(Oe){var Ue=this.options,rt=!0,pt=Oe.distance,zt=Oe.direction,Jt=Oe.deltaX,ii=Oe.deltaY;return zt&Ue.direction||(Ue.direction&N?(zt=0===Jt?it:Jt<0?he:Z,rt=Jt!=this.pX,pt=Math.abs(Oe.deltaX)):(zt=0===ii?it:ii<0?$:E,rt=ii!=this.pY,pt=Math.abs(Oe.deltaY))),Oe.direction=zt,rt&&pt>Ue.threshold&&zt&Ue.direction},attrTest:function(Oe){return kn.prototype.attrTest.call(this,Oe)&&(2&this.state||!(2&this.state)&&this.directionTest(Oe))},emit:function(Oe){this.pX=Oe.deltaX,this.pY=Oe.deltaY;var Ue=qt(Oe.direction);Ue&&(Oe.additionalEvent=this.options.event+Ue),this._super.emit.call(this,Oe)}}),X(Xr,kn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ca]},attrTest:function(Oe){return this._super.attrTest.call(this,Oe)&&(Math.abs(Oe.scale-1)>this.options.threshold||2&this.state)},emit:function(Oe){1!==Oe.scale&&(Oe.additionalEvent=this.options.event+(Oe.scale<1?"in":"out")),this._super.emit.call(this,Oe)}}),X(Zo,It,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(Oe){var Ue=this.options,rt=Oe.pointers.length===Ue.pointers,pt=Oe.distance<Ue.threshold,zt=Oe.deltaTime>Ue.time;if(this._input=Oe,!pt||!rt||Oe.eventType&(j|Be)&&!zt)this.reset();else if(Oe.eventType&O)this.reset(),this._timer=te(function(){this.state=8,this.tryEmit()},Ue.time,this);else if(Oe.eventType&j)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(Oe){8===this.state&&(Oe&&Oe.eventType&j?this.manager.emit(this.options.event+"up",Oe):(this._input.timeStamp=B(),this.manager.emit(this.options.event,this._input)))}}),X(fl,kn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ca]},attrTest:function(Oe){return this._super.attrTest.call(this,Oe)&&(Math.abs(Oe.rotation)>this.options.threshold||2&this.state)}}),X(la,kn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:N|de,pointers:1},getTouchAction:function(){return Ro.prototype.getTouchAction.call(this)},attrTest:function(Oe){var rt,Ue=this.options.direction;return Ue&(N|de)?rt=Oe.overallVelocity:Ue&N?rt=Oe.overallVelocityX:Ue&de&&(rt=Oe.overallVelocityY),this._super.attrTest.call(this,Oe)&&Ue&Oe.offsetDirection&&Oe.distance>this.options.threshold&&Oe.maxPointers==this.options.pointers&&D(rt)>this.options.velocity&&Oe.eventType&j},emit:function(Oe){var Ue=qt(Oe.offsetDirection);Ue&&this.manager.emit(this.options.event+Ue,Oe),this.manager.emit(this.options.event,Oe)}}),X(io,It,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[hl]},process:function(Oe){var Ue=this.options,rt=Oe.pointers.length===Ue.pointers,pt=Oe.distance<Ue.threshold,zt=Oe.deltaTime<Ue.time;if(this.reset(),Oe.eventType&O&&0===this.count)return this.failTimeout();if(pt&&zt&&rt){if(Oe.eventType!=j)return this.failTimeout();var Jt=!this.pTime||Oe.timeStamp-this.pTime<Ue.interval,ii=!this.pCenter||et(this.pCenter,Oe.center)<Ue.posThreshold;if(this.pTime=Oe.timeStamp,this.pCenter=Oe.center,ii&&Jt?this.count+=1:this.count=1,this._input=Oe,0==this.count%Ue.taps)return this.hasRequireFailures()?(this._timer=te(function(){this.state=8,this.tryEmit()},Ue.interval,this),2):8}return 32},failTimeout:function(){return this._timer=te(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Qo.VERSION="2.0.7",Qo.defaults={domEvents:!1,touchAction:er,enable:!0,inputTarget:null,inputClass:null,preset:[[fl,{enable:!1}],[Xr,{enable:!1},["rotate"]],[la,{direction:N}],[Ro,{direction:N},["swipe"]],[io],[io,{event:"doubletap",taps:2},["tap"]],[Zo]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ei.prototype={set:function(Oe){return Y(this.options,Oe),Oe.touchAction&&this.touchAction.update(),Oe.inputTarget&&(this.input.destroy(),this.input.target=Oe.inputTarget,this.input.init()),this},stop:function(Oe){this.session.stopped=Oe?2:1},recognize:function(Oe){var Ue=this.session;if(!Ue.stopped){this.touchAction.preventDefaults(Oe);var rt,pt=this.recognizers,zt=Ue.curRecognizer;(!zt||zt&&8&zt.state)&&(zt=Ue.curRecognizer=null);for(var Jt=0;Jt<pt.length;)rt=pt[Jt],2===Ue.stopped||zt&&rt!=zt&&!rt.canRecognizeWith(zt)?rt.reset():rt.recognize(Oe),!zt&&14&rt.state&&(zt=Ue.curRecognizer=rt),Jt++}},get:function(Oe){if(Oe instanceof It)return Oe;for(var Ue=this.recognizers,rt=0;rt<Ue.length;rt++)if(Ue[rt].options.event==Oe)return Ue[rt];return null},add:function(Oe){if(C(Oe,"add",this))return this;var Ue=this.get(Oe.options.event);return Ue&&this.remove(Ue),this.recognizers.push(Oe),Oe.manager=this,this.touchAction.update(),Oe},remove:function(Oe){if(C(Oe,"remove",this))return this;if(Oe=this.get(Oe)){var Ue=this.recognizers,rt=we(Ue,Oe);-1!==rt&&(Ue.splice(rt,1),this.touchAction.update())}return this},on:function(Oe,Ue){if(Oe!==P&&Ue!==P){var rt=this.handlers;return W(le(Oe),function(pt){rt[pt]=rt[pt]||[],rt[pt].push(Ue)}),this}},off:function(Oe,Ue){if(Oe!==P){var rt=this.handlers;return W(le(Oe),function(pt){Ue?rt[pt]&&rt[pt].splice(we(rt[pt],Ue),1):delete rt[pt]}),this}},emit:function(Oe,Ue){this.options.domEvents&&function vs(Oe,Ue){var rt=R.createEvent("Event");rt.initEvent(Oe,!0,!0),rt.gesture=Ue,Ue.target.dispatchEvent(rt)}(Oe,Ue);var rt=this.handlers[Oe]&&this.handlers[Oe].slice();if(rt&&rt.length){Ue.type=Oe,Ue.preventDefault=function(){Ue.srcEvent.preventDefault()};for(var pt=0;pt<rt.length;)rt[pt](Ue),pt++}},destroy:function(){this.element&&sn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Y(Qo,{INPUT_START:O,INPUT_MOVE:2,INPUT_END:j,INPUT_CANCEL:Be,STATE_POSSIBLE:ve,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:it,DIRECTION_LEFT:he,DIRECTION_RIGHT:Z,DIRECTION_UP:$,DIRECTION_DOWN:E,DIRECTION_HORIZONTAL:N,DIRECTION_VERTICAL:de,DIRECTION_ALL:pe,Manager:Ei,Input:ft,TouchAction:Jo,TouchInput:Da,MouseInput:Ko,PointerEventInput:Vs,TouchMouseInput:ll,SingleTouchInput:Su,Recognizer:It,AttrRecognizer:kn,Tap:io,Pan:Ro,Swipe:la,Pinch:Xr,Rotate:fl,Press:Zo,on:k,off:ue,each:W,merge:ne,extend:ie,assign:Y,inherit:X,bindFn:V,prefixed:Je}),(typeof b<"u"?b:typeof self<"u"?self:{}).Hammer=Qo,(A=function(){return Qo}.call(q,m,q,re))!==P&&(re.exports=A)}(window,document)},2601:(re,q)=>{q.read=function(m,A,b,R,S){var P,g,y=8*S-R-1,T=(1<<y)-1,F=T>>1,D=-7,B=b?S-1:0,te=b?-1:1,C=m[A+B];for(B+=te,P=C&(1<<-D)-1,C>>=-D,D+=y;D>0;P=256*P+m[A+B],B+=te,D-=8);for(g=P&(1<<-D)-1,P>>=-D,D+=R;D>0;g=256*g+m[A+B],B+=te,D-=8);if(0===P)P=1-F;else{if(P===T)return g?NaN:1/0*(C?-1:1);g+=Math.pow(2,R),P-=F}return(C?-1:1)*g*Math.pow(2,P-R)},q.write=function(m,A,b,R,S,P){var g,y,T,F=8*P-S-1,D=(1<<F)-1,B=D>>1,te=23===S?Math.pow(2,-24)-Math.pow(2,-77):0,C=R?0:P-1,W=R?1:-1,ce=A<0||0===A&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(y=isNaN(A)?1:0,g=D):(g=Math.floor(Math.log(A)/Math.LN2),A*(T=Math.pow(2,-g))<1&&(g--,T*=2),(A+=g+B>=1?te/T:te*Math.pow(2,1-B))*T>=2&&(g++,T/=2),g+B>=D?(y=0,g=D):g+B>=1?(y=(A*T-1)*Math.pow(2,S),g+=B):(y=A*Math.pow(2,B-1)*Math.pow(2,S),g=0));S>=8;m[b+C]=255&y,C+=W,y/=256,S-=8);for(g=g<<S|y,F+=S;F>0;m[b+C]=255&g,C+=W,g/=256,F-=8);m[b+C-W]|=128*ce}},6698:re=>{re.exports="function"==typeof Object.create?function(m,A){A&&(m.super_=A,m.prototype=Object.create(A.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}))}:function(m,A){if(A){m.super_=A;var b=function(){};b.prototype=A.prototype,m.prototype=new b,m.prototype.constructor=m}}},4198:(re,q,m)=>{"use strict";var A=m(7156).default;const{isArray:b,isObject:R,isString:S}=m(8254),{asArray:P}=m(3521),{prependBase:g}=m(2651),y=m(1874),T=m(1252);function D(te){throw new y("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:te})}function B({context:te,base:C}){if(!te)return;const W=te["@context"];if(S(W))te["@context"]=g(C,W);else if(b(W))for(let ce=0;ce<W.length;++ce){const Y=W[ce];S(Y)?W[ce]=g(C,Y):R(Y)&&B({context:{"@context":Y},base:C})}else if(R(W))for(const ce in W)B({context:W[ce],base:C})}re.exports=class{constructor({sharedCache:C}){this.perOpCache=new Map,this.sharedCache=C}resolve({activeCtx:C,context:W,documentLoader:ce,base:Y,cycles:ie=new Set}){var ne=this;return A(function*(){W&&R(W)&&W["@context"]&&(W=W["@context"]),W=P(W);const X=[];for(const V of W){if(S(V)){let k=ne._get(V);k||(k=yield ne._resolveRemoteContext({activeCtx:C,url:V,documentLoader:ce,base:Y,cycles:ie})),b(k)?X.push(...k):X.push(k);continue}if(null===V){X.push(new T({document:null}));continue}R(V)||D(W);const v=JSON.stringify(V);let U=ne._get(v);U||(U=new T({document:V}),ne._cacheResolvedContext({key:v,resolved:U,tag:"static"})),X.push(U)}return X})()}_get(C){let W=this.perOpCache.get(C);if(!W){const ce=this.sharedCache.get(C);ce&&(W=ce.get("static"),W&&this.perOpCache.set(C,W))}return W}_cacheResolvedContext({key:C,resolved:W,tag:ce}){if(this.perOpCache.set(C,W),void 0!==ce){let Y=this.sharedCache.get(C);Y||(Y=new Map,this.sharedCache.set(C,Y)),Y.set(ce,W)}return W}_resolveRemoteContext({activeCtx:C,url:W,documentLoader:ce,base:Y,cycles:ie}){var ne=this;return A(function*(){W=g(Y,W);const{context:X,remoteDoc:V}=yield ne._fetchContext({activeCtx:C,url:W,documentLoader:ce,cycles:ie});B({context:X,base:Y=V.documentUrl||W});const v=yield ne.resolve({activeCtx:C,context:X,documentLoader:ce,base:Y,cycles:ie});return ne._cacheResolvedContext({key:W,resolved:v,tag:V.tag}),v})()}_fetchContext({activeCtx:C,url:W,documentLoader:ce,cycles:Y}){return A(function*(){if(Y.size>10)throw new y("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===C.processingMode?"loading remote context failed":"context overflow",max:10});if(Y.has(W))throw new y("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===C.processingMode?"recursive context inclusion":"context overflow",url:W});let ie,ne;Y.add(W);try{ne=yield ce(W),ie=ne.document||null,S(ie)&&(ie=JSON.parse(ie))}catch(X){throw new y("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:W,cause:X})}if(!R(ie))throw new y("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:W});return ie="@context"in ie?{"@context":ie["@context"]}:{"@context":{}},ne.contextUrl&&(b(ie["@context"])||(ie["@context"]=[ie["@context"]]),ie["@context"].push(ne.contextUrl)),{context:ie,remoteDoc:ne}})()}}},1874:re=>{"use strict";re.exports=class extends Error{constructor(m="An unspecified JSON-LD error occurred.",A="jsonld.Error",b={}){super(m),this.name=A,this.message=m,this.details=b}}},1828:re=>{"use strict";re.exports=q=>{class m{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(m,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(m.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:m}),m.compact=function(A,b){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):q.compact(A,b)},m.expand=function(A){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):q.expand(A)},m.flatten=function(A){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):q.flatten(A)},m}},7260:(re,q,m)=>{"use strict";re.exports=m(1986).NQuads},4044:(re,q,m)=>{"use strict";var A=m(7156).default;re.exports=class{constructor(){this._requests={}}wrapLoader(R){const S=this;return S._loader=R,function(){return S.add.apply(S,arguments)}}add(R){var S=this;return A(function*(){let P=S._requests[R];if(P)return Promise.resolve(P);P=S._requests[R]=S._loader(R);try{return yield P}finally{delete S._requests[R]}})()}}},1252:(re,q,m)=>{"use strict";const A=m(1072);re.exports=class{constructor({document:S}){this.document=S,this.cache=new A({max:10})}getProcessed(S){return this.cache.get(S)}setProcessed(S,P){this.cache.set(S,P)}}},8809:(re,q,m)=>{"use strict";var A=m(7156).default;const b=m(1874),{isArray:R,isObject:S,isString:P,isUndefined:g}=m(8254),{isList:y,isValue:T,isGraph:F,isSimpleGraph:D,isSubjectReference:B}=m(543),{expandIri:te,getContextValue:C,isKeyword:W,process:ce,processingMode:Y}=m(9611),{removeBase:ie,prependBase:ne}=m(2651),{REGEX_KEYWORD:X,addValue:V,asArray:v,compareShortestLeast:U}=m(3521),k={};function G(Te,le,we){if("@nest"!==te(Te,le,{vocab:!0},we))throw new b("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}re.exports=k,k.compact=function(){var Te=A(function*({activeCtx:le,activeProperty:we=null,element:Re,options:Ie={}}){if(R(Re)){let qe=[];for(let Ee=0;Ee<Re.length;++Ee){const Le=yield k.compact({activeCtx:le,activeProperty:we,element:Re[Ee],options:Ie});null!==Le&&qe.push(Le)}return Ie.compactArrays&&1===qe.length&&0===(C(le,we,"@container")||[]).length&&(qe=qe[0]),qe}const Je=C(le,we,"@context");if(g(Je)||(le=yield ce({activeCtx:le,localCtx:Je,propagate:!0,overrideProtected:!0,options:Ie})),S(Re)){if(Ie.link&&"@id"in Re&&Ie.link.hasOwnProperty(Re["@id"])){const Ke=Ie.link[Re["@id"]];for(let dt=0;dt<Ke.length;++dt)if(Ke[dt].expanded===Re)return Ke[dt].compacted}if(T(Re)||B(Re)){const Ke=k.compactValue({activeCtx:le,activeProperty:we,value:Re,options:Ie});return Ie.link&&B(Re)&&(Ie.link.hasOwnProperty(Re["@id"])||(Ie.link[Re["@id"]]=[]),Ie.link[Re["@id"]].push({expanded:Re,compacted:Ke})),Ke}if(y(Re)&&(C(le,we,"@container")||[]).includes("@list"))return k.compact({activeCtx:le,activeProperty:we,element:Re["@list"],options:Ie});const qe="@reverse"===we,Ee={},Le=le;!T(Re)&&!B(Re)&&(le=le.revertToPreviousContext());const Ne=C(Le,we,"@context");g(Ne)||(le=yield ce({activeCtx:le,localCtx:Ne,propagate:!0,overrideProtected:!0,options:Ie})),Ie.link&&"@id"in Re&&(Ie.link.hasOwnProperty(Re["@id"])||(Ie.link[Re["@id"]]=[]),Ie.link[Re["@id"]].push({expanded:Re,compacted:Ee}));let ze=Re["@type"]||[];ze.length>1&&(ze=Array.from(ze).sort());const ge=le;for(const Ke of ze){const dt=k.compactIri({activeCtx:ge,iri:Ke,relativeTo:{vocab:!0}}),Ye=C(Le,dt,"@context");g(Ye)||(le=yield ce({activeCtx:le,localCtx:Ye,options:Ie,propagate:!1}))}const Se=Object.keys(Re).sort();for(const Ke of Se){const dt=Re[Ke];if("@id"!==Ke)if("@type"!==Ke)if("@reverse"!==Ke)if("@preserve"!==Ke)if("@index"!==Ke)if("@graph"!==Ke&&"@list"!==Ke&&"@included"!==Ke&&W(Ke)){const Ye=k.compactIri({activeCtx:le,iri:Ke,relativeTo:{vocab:!0}});V(Ee,Ye,dt)}else{if(!R(dt))throw new b("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===dt.length){const Ye=k.compactIri({activeCtx:le,iri:Ke,value:dt,relativeTo:{vocab:!0},reverse:qe}),be=le.mappings.has(Ye)?le.mappings.get(Ye)["@nest"]:null;let H=Ee;be&&(G(le,be,Ie),S(Ee[be])||(Ee[be]={}),H=Ee[be]),V(H,Ye,dt,{propertyIsArray:!0})}for(const Ye of dt){const be=k.compactIri({activeCtx:le,iri:Ke,value:Ye,relativeTo:{vocab:!0},reverse:qe}),H=le.mappings.has(be)?le.mappings.get(be)["@nest"]:null;let O=Ee;H&&(G(le,H,Ie),S(Ee[H])||(Ee[H]={}),O=Ee[H]);const se=C(le,be,"@container")||[],j=F(Ye),Be=y(Ye);let it;Be?it=Ye["@list"]:j&&(it=Ye["@graph"]);let he=yield k.compact({activeCtx:le,activeProperty:be,element:Be||j?it:Ye,options:Ie});if(Be){if(R(he)||(he=[he]),se.includes("@list")){V(O,be,he,{valueIsArray:!0,allowDuplicate:!0});continue}he={[k.compactIri({activeCtx:le,iri:"@list",relativeTo:{vocab:!0}})]:he},"@index"in Ye&&(he[k.compactIri({activeCtx:le,iri:"@index",relativeTo:{vocab:!0}})]=Ye["@index"])}if(j)if(se.includes("@graph")&&(se.includes("@id")||se.includes("@index")&&D(Ye))){let Z;O.hasOwnProperty(be)?Z=O[be]:O[be]=Z={};const $=(se.includes("@id")?Ye["@id"]:Ye["@index"])||k.compactIri({activeCtx:le,iri:"@none",relativeTo:{vocab:!0}});V(Z,$,he,{propertyIsArray:!Ie.compactArrays||se.includes("@set")})}else se.includes("@graph")&&D(Ye)?(R(he)&&he.length>1&&(he={"@included":he}),V(O,be,he,{propertyIsArray:!Ie.compactArrays||se.includes("@set")})):(R(he)&&1===he.length&&Ie.compactArrays&&(he=he[0]),he={[k.compactIri({activeCtx:le,iri:"@graph",relativeTo:{vocab:!0}})]:he},"@id"in Ye&&(he[k.compactIri({activeCtx:le,iri:"@id",relativeTo:{vocab:!0}})]=Ye["@id"]),"@index"in Ye&&(he[k.compactIri({activeCtx:le,iri:"@index",relativeTo:{vocab:!0}})]=Ye["@index"]),V(O,be,he,{propertyIsArray:!Ie.compactArrays||se.includes("@set")}));else if(se.includes("@language")||se.includes("@index")||se.includes("@id")||se.includes("@type")){let Z,$;if(O.hasOwnProperty(be)?Z=O[be]:O[be]=Z={},se.includes("@language"))T(he)&&(he=he["@value"]),$=Ye["@language"];else if(se.includes("@index")){const E=C(le,be,"@index")||"@index",N=k.compactIri({activeCtx:le,iri:E,relativeTo:{vocab:!0}});if("@index"===E)$=Ye["@index"],delete he[N];else{let de;if([$,...de]=v(he[E]||[]),P($))switch(de.length){case 0:delete he[E];break;case 1:he[E]=de[0];break;default:he[E]=de}else $=null}}else if(se.includes("@id")){const E=k.compactIri({activeCtx:le,iri:"@id",relativeTo:{vocab:!0}});$=he[E],delete he[E]}else if(se.includes("@type")){const E=k.compactIri({activeCtx:le,iri:"@type",relativeTo:{vocab:!0}});let N;switch([$,...N]=v(he[E]||[]),N.length){case 0:delete he[E];break;case 1:he[E]=N[0];break;default:he[E]=N}1===Object.keys(he).length&&"@id"in Ye&&(he=yield k.compact({activeCtx:le,activeProperty:be,element:{"@id":Ye["@id"]},options:Ie}))}$||($=k.compactIri({activeCtx:le,iri:"@none",relativeTo:{vocab:!0}})),V(Z,$,he,{propertyIsArray:se.includes("@set")})}else{const Z=!Ie.compactArrays||se.includes("@set")||se.includes("@list")||R(he)&&0===he.length||"@list"===Ke||"@graph"===Ke;V(O,be,he,{propertyIsArray:Z})}}}else{if((C(le,we,"@container")||[]).includes("@index"))continue;const be=k.compactIri({activeCtx:le,iri:Ke,relativeTo:{vocab:!0}});V(Ee,be,dt)}else{const Ye=yield k.compact({activeCtx:le,activeProperty:we,element:dt,options:Ie});R(Ye)&&0===Ye.length||V(Ee,Ke,Ye)}else{const Ye=yield k.compact({activeCtx:le,activeProperty:"@reverse",element:dt,options:Ie});for(const be in Ye)if(le.mappings.has(be)&&le.mappings.get(be).reverse){const H=Ye[be],se=(C(le,be,"@container")||[]).includes("@set")||!Ie.compactArrays;V(Ee,be,H,{propertyIsArray:se}),delete Ye[be]}if(Object.keys(Ye).length>0){const be=k.compactIri({activeCtx:le,iri:Ke,relativeTo:{vocab:!0}});V(Ee,be,Ye)}}else{let Ye=v(dt).map(j=>k.compactIri({activeCtx:Le,iri:j,relativeTo:{vocab:!0}}));1===Ye.length&&(Ye=Ye[0]);const be=k.compactIri({activeCtx:le,iri:"@type",relativeTo:{vocab:!0}}),se=(C(le,be,"@container")||[]).includes("@set")&&Y(le,1.1)||R(Ye)&&0===dt.length;V(Ee,be,Ye,{propertyIsArray:se})}else{let Ye=v(dt).map(H=>k.compactIri({activeCtx:le,iri:H,relativeTo:{vocab:!1},base:Ie.base}));1===Ye.length&&(Ye=Ye[0]),Ee[k.compactIri({activeCtx:le,iri:"@id",relativeTo:{vocab:!0}})]=Ye}}return Ee}return Re});return function(le){return Te.apply(this,arguments)}}(),k.compactIri=({activeCtx:Te,iri:le,value:we=null,relativeTo:Re={vocab:!1},reverse:Ie=!1,base:Je=null})=>{if(null===le)return le;Te.isPropertyTermScoped&&Te.previousContext&&(Te=Te.previousContext);const qe=Te.getInverse();if(W(le)&&le in qe&&"@none"in qe[le]&&"@type"in qe[le]["@none"]&&"@none"in qe[le]["@none"]["@type"])return qe[le]["@none"]["@type"]["@none"];if(Re.vocab&&le in qe){const ge=Te["@language"]||"@none",Se=[];S(we)&&"@index"in we&&!("@graph"in we)&&Se.push("@index","@index@set"),S(we)&&"@preserve"in we&&(we=we["@preserve"][0]),F(we)?("@index"in we&&Se.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in we&&Se.push("@graph@id","@graph@id@set"),Se.push("@graph","@graph@set","@set"),"@index"in we||Se.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in we||Se.push("@graph@id","@graph@id@set")):S(we)&&!T(we)&&Se.push("@id","@id@set","@type","@set@type");let Ke="@language",dt="@null";if(Ie)Ke="@type",dt="@reverse",Se.push("@set");else if(y(we)){"@index"in we||Se.push("@list");const be=we["@list"];if(0===be.length)Ke="@any",dt="@none";else{let H=0===be.length?ge:null,O=null;for(let se=0;se<be.length;++se){const j=be[se];let Be="@none",it="@none";if(T(j)?"@direction"in j?Be=`${(j["@language"]||"").toLowerCase()}_${j["@direction"]}`:"@language"in j?Be=j["@language"].toLowerCase():"@type"in j?it=j["@type"]:Be="@null":it="@id",null===H?H=Be:Be!==H&&T(j)&&(H="@none"),null===O?O=it:it!==O&&(O="@none"),"@none"===H&&"@none"===O)break}H=H||"@none",O=O||"@none","@none"!==O?(Ke="@type",dt=O):dt=H}}else{if(T(we))if("@language"in we&&!("@index"in we)){Se.push("@language","@language@set"),dt=we["@language"];const be=we["@direction"];be&&(dt=`${dt}_${be}`)}else"@direction"in we&&!("@index"in we)?dt=`_${we["@direction"]}`:"@type"in we&&(Ke="@type",dt=we["@type"]);else Ke="@type",dt="@id";Se.push("@set")}Se.push("@none"),S(we)&&!("@index"in we)&&Se.push("@index","@index@set"),T(we)&&1===Object.keys(we).length&&Se.push("@language","@language@set");const Ye=function ue(Te,le,we,Re,Ie,Je){null===Je&&(Je="@null");const qe=[];if(("@id"===Je||"@reverse"===Je)&&S(we)&&"@id"in we){"@reverse"===Je&&qe.push("@reverse");const Le=k.compactIri({activeCtx:Te,iri:we["@id"],relativeTo:{vocab:!0}});Te.mappings.has(Le)&&Te.mappings.get(Le)&&Te.mappings.get(Le)["@id"]===we["@id"]?qe.push.apply(qe,["@vocab","@id"]):qe.push.apply(qe,["@id","@vocab"])}else{qe.push(Je);const Le=qe.find(Ne=>Ne.includes("_"));Le&&qe.push(Le.replace(/^[^_]+_/,"_"))}qe.push("@none");const Ee=Te.inverse[le];for(const Le of Re){if(!(Le in Ee))continue;const Ne=Ee[Le][Ie];for(const ze of qe)if(ze in Ne)return Ne[ze]}return null}(Te,le,we,Se,Ke,dt);if(null!==Ye)return Ye}if(Re.vocab&&"@vocab"in Te){const ge=Te["@vocab"];if(0===le.indexOf(ge)&&le!==ge){const Se=le.substr(ge.length);if(!Te.mappings.has(Se))return Se}}let Ee=null;const Le=[];let Ne=Te.fastCurieMap;const ze=le.length-1;for(let ge=0;ge<ze&&le[ge]in Ne;++ge)Ne=Ne[le[ge]],""in Ne&&Le.push(Ne[""][0]);for(let ge=Le.length-1;ge>=0;--ge){const Se=Le[ge],Ke=Se.terms;for(const dt of Ke){const Ye=dt+":"+le.substr(Se.iri.length);Te.mappings.get(dt)._prefix&&(!Te.mappings.has(Ye)||null===we&&Te.mappings.get(Ye)["@id"]===le)&&(null===Ee||U(Ye,Ee)<0)&&(Ee=Ye)}}if(null!==Ee)return Ee;for(const[ge,Se]of Te.mappings)if(Se&&Se._prefix&&le.startsWith(ge+":"))throw new b(`Absolute IRI "${le}" confused with prefix "${ge}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:Te});if(!Re.vocab){if("@base"in Te){if(Te["@base"]){const ge=ie(ne(Je,Te["@base"]),le);return X.test(ge)?`./${ge}`:ge}return le}return ie(Je,le)}return le},k.compactValue=({activeCtx:Te,activeProperty:le,value:we,options:Re})=>{if(T(we)){const Ee=C(Te,le,"@type"),Le=C(Te,le,"@language"),Ne=C(Te,le,"@direction"),ze=C(Te,le,"@container")||[],ge="@index"in we&&!ze.includes("@index");if(!ge&&"@none"!==Ee&&(we["@type"]===Ee||"@language"in we&&we["@language"]===Le&&"@direction"in we&&we["@direction"]===Ne||"@language"in we&&we["@language"]===Le||"@direction"in we&&we["@direction"]===Ne))return we["@value"];const Se=Object.keys(we).length,Ke=1===Se||2===Se&&"@index"in we&&!ge,dt="@language"in Te,Ye=P(we["@value"]),be=Te.mappings.has(le)&&null===Te.mappings.get(le)["@language"];if(Ke&&"@none"!==Ee&&(!dt||!Ye||be))return we["@value"];const H={};return ge&&(H[k.compactIri({activeCtx:Te,iri:"@index",relativeTo:{vocab:!0}})]=we["@index"]),"@type"in we?H[k.compactIri({activeCtx:Te,iri:"@type",relativeTo:{vocab:!0}})]=k.compactIri({activeCtx:Te,iri:we["@type"],relativeTo:{vocab:!0}}):"@language"in we&&(H[k.compactIri({activeCtx:Te,iri:"@language",relativeTo:{vocab:!0}})]=we["@language"]),"@direction"in we&&(H[k.compactIri({activeCtx:Te,iri:"@direction",relativeTo:{vocab:!0}})]=we["@direction"]),H[k.compactIri({activeCtx:Te,iri:"@value",relativeTo:{vocab:!0}})]=we["@value"],H}const Ie=te(Te,le,{vocab:!0},Re),Je=C(Te,le,"@type"),qe=k.compactIri({activeCtx:Te,iri:we["@id"],relativeTo:{vocab:"@vocab"===Je},base:Re.base});return"@id"===Je||"@vocab"===Je||"@graph"===Ie?qe:{[k.compactIri({activeCtx:Te,iri:"@id",relativeTo:{vocab:!0}})]:qe}}},6982:re=>{"use strict";const q="http://www.w3.org/1999/02/22-rdf-syntax-ns#",m="http://www.w3.org/2001/XMLSchema#";re.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:q,RDF_LIST:q+"List",RDF_FIRST:q+"first",RDF_REST:q+"rest",RDF_NIL:q+"nil",RDF_TYPE:q+"type",RDF_PLAIN_LITERAL:q+"PlainLiteral",RDF_XML_LITERAL:q+"XMLLiteral",RDF_JSON_LITERAL:q+"JSON",RDF_OBJECT:q+"object",RDF_LANGSTRING:q+"langString",XSD:m,XSD_BOOLEAN:m+"boolean",XSD_DOUBLE:m+"double",XSD_INTEGER:m+"integer",XSD_STRING:m+"string"}},9611:(re,q,m)=>{"use strict";var A=m(7156).default;const b=m(3521),R=m(1874),{isArray:S,isObject:P,isString:g,isUndefined:y}=m(8254),{isAbsolute:T,isRelative:F,prependBase:D}=m(2651),{handleEvent:B}=m(3855),{REGEX_BCP47:te,REGEX_KEYWORD:C,asArray:W,compareShortestLeast:ce}=m(3521),Y=new Map,ne={};function X(v,U,k,ue,G,Te){if(null===U||!g(U)||ne.isKeyword(U))return U;if(U.match(C))return null;if(ue&&ue.hasOwnProperty(U)&&!0!==G.get(U)&&ne.createTermDefinition({activeCtx:v,localCtx:ue,term:U,defined:G,options:Te}),(k=k||{}).vocab){const we=v.mappings.get(U);if(null===we)return null;if(P(we)&&"@id"in we)return we["@id"]}const le=U.indexOf(":");if(le>0){const we=U.substr(0,le),Re=U.substr(le+1);if("_"===we||0===Re.indexOf("//"))return U;ue&&ue.hasOwnProperty(we)&&ne.createTermDefinition({activeCtx:v,localCtx:ue,term:we,defined:G,options:Te});const Ie=v.mappings.get(we);if(Ie&&Ie._prefix)return Ie["@id"]+Re;if(T(U))return U}if(k.vocab&&"@vocab"in v)U=v["@vocab"]+U;else if(k.base){let we,Re;"@base"in v?v["@base"]?(Re=D(Te.base,v["@base"]),we=D(Re,U)):(Re=v["@base"],we=U):(Re=Te.base,we=D(Te.base,U)),U=we}return U}function V(v,U){if(!v||"object"!=typeof v||!U||"object"!=typeof U)return v===U;const k=Array.isArray(v);if(k!==Array.isArray(U))return!1;if(k){if(v.length!==U.length)return!1;for(let Te=0;Te<v.length;++Te)if(!V(v[Te],U[Te]))return!1;return!0}const ue=Object.keys(v),G=Object.keys(U);if(ue.length!==G.length)return!1;for(const Te in v){let le=v[Te],we=U[Te];if("@container"===Te&&Array.isArray(le)&&Array.isArray(we)&&(le=le.slice().sort(),we=we.slice().sort()),!V(le,we))return!1}return!0}re.exports=ne,ne.process=function(){var v=A(function*({activeCtx:U,localCtx:k,options:ue,propagate:G=!0,overrideProtected:Te=!1,cycles:le=new Set}){if(P(k)&&"@context"in k&&S(k["@context"])&&(k=k["@context"]),0===W(k).length)return U;const Re=[],Ie=[({event:Le,next:Ne})=>{Re.push(Le),Ne()}];ue.eventHandler&&Ie.push(ue.eventHandler);const Je=ue;ue={...ue,eventHandler:Ie};const qe=yield ue.contextResolver.resolve({activeCtx:U,context:k,documentLoader:ue.documentLoader,base:ue.base});P(qe[0].document)&&"boolean"==typeof qe[0].document["@propagate"]&&(G=qe[0].document["@propagate"]);let Ee=U;!G&&!Ee.previousContext&&(Ee=Ee.clone(),Ee.previousContext=U);for(const Le of qe){let{document:Ne}=Le;if(U=Ee,null===Ne){if(!Te&&0!==Object.keys(U.protected).length)throw new R("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});Ee=U=ne.getInitialContext(ue).clone();continue}const ze=Le.getProcessed(U);if(ze){if(Je.eventHandler)for(const Se of ze.events)B({event:Se,options:Je});Ee=U=ze.context;continue}if(P(Ne)&&"@context"in Ne&&(Ne=Ne["@context"]),!P(Ne))throw new R("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:Ne});Ee=Ee.clone();const ge=new Map;if("@version"in Ne){if(1.1!==Ne["@version"])throw new R("Unsupported JSON-LD version: "+Ne["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:Ne});if(U.processingMode&&"json-ld-1.0"===U.processingMode)throw new R("@version: "+Ne["@version"]+" not compatible with "+U.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:Ne});Ee.processingMode="json-ld-1.1",Ee["@version"]=Ne["@version"],ge.set("@version",!0)}if(Ee.processingMode=Ee.processingMode||U.processingMode,"@base"in Ne){let Se=Ne["@base"];if(null!==Se&&!T(Se)){if(!F(Se))throw new R('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:Ne});Se=D(Ee["@base"],Se)}Ee["@base"]=Se,ge.set("@base",!0)}if("@vocab"in Ne){const Se=Ne["@vocab"];if(null===Se)delete Ee["@vocab"];else{if(!g(Se))throw new R('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:Ne});if(!T(Se)&&ne.processingMode(Ee,1))throw new R('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:Ne});{const Ke=X(Ee,Se,{vocab:!0,base:!0},void 0,void 0,ue);T(Ke)||ue.eventHandler&&B({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:Ke}},options:ue}),Ee["@vocab"]=Ke}}ge.set("@vocab",!0)}if("@language"in Ne){const Se=Ne["@language"];if(null===Se)delete Ee["@language"];else{if(!g(Se))throw new R('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:Ne});Se.match(te)||ue.eventHandler&&B({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Se}},options:ue}),Ee["@language"]=Se.toLowerCase()}ge.set("@language",!0)}if("@direction"in Ne){const Se=Ne["@direction"];if("json-ld-1.0"===U.processingMode)throw new R("Invalid JSON-LD syntax; @direction not compatible with "+U.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:Ne});if(null===Se)delete Ee["@direction"];else{if("ltr"!==Se&&"rtl"!==Se)throw new R('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:Ne});Ee["@direction"]=Se}ge.set("@direction",!0)}if("@propagate"in Ne){const Se=Ne["@propagate"];if("json-ld-1.0"===U.processingMode)throw new R("Invalid JSON-LD syntax; @propagate not compatible with "+U.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:Ne});if("boolean"!=typeof Se)throw new R("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:k});ge.set("@propagate",!0)}if("@import"in Ne){const Se=Ne["@import"];if("json-ld-1.0"===U.processingMode)throw new R("Invalid JSON-LD syntax; @import not compatible with "+U.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:Ne});if(!g(Se))throw new R("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:k});const Ke=yield ue.contextResolver.resolve({activeCtx:U,context:Se,documentLoader:ue.documentLoader,base:ue.base});if(1!==Ke.length)throw new R("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:k});const dt=Ke[0].getProcessed(U);if(dt)Ne=dt;else{const Ye=Ke[0].document;if("@import"in Ye)throw new R("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:k});for(const be in Ye)Ne.hasOwnProperty(be)||(Ne[be]=Ye[be]);Ke[0].setProcessed(U,Ne)}ge.set("@import",!0)}ge.set("@protected",Ne["@protected"]||!1);for(const Se in Ne)if(ne.createTermDefinition({activeCtx:Ee,localCtx:Ne,term:Se,defined:ge,options:ue,overrideProtected:Te}),P(Ne[Se])&&"@context"in Ne[Se]){const Ke=Ne[Se]["@context"];let dt=!0;if(g(Ke)){const Ye=D(ue.base,Ke);le.has(Ye)?dt=!1:le.add(Ye)}if(dt)try{yield ne.process({activeCtx:Ee.clone(),localCtx:Ne[Se]["@context"],overrideProtected:!0,options:ue,cycles:le})}catch{throw new R("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:Ne[Se]["@context"],term:Se})}}Le.setProcessed(U,{context:Ee,events:Re})}return Ee});return function(U){return v.apply(this,arguments)}}(),ne.createTermDefinition=({activeCtx:v,localCtx:U,term:k,defined:ue,options:G,overrideProtected:Te=!1})=>{if(ue.has(k)){if(ue.get(k))return;throw new R("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:U,term:k})}let le;if(ue.set(k,!1),U.hasOwnProperty(k)&&(le=U[k]),"@type"===k&&P(le)&&"@set"===(le["@container"]||"@set")&&ne.processingMode(v,1.1)){const Le=["@container","@id","@protected"],Ne=Object.keys(le);if(0===Ne.length||Ne.some(ze=>!Le.includes(ze)))throw new R("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:U,term:k})}else{if(ne.isKeyword(k))throw new R("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:U,term:k});if(k.match(C))return void(G.eventHandler&&B({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:k}},options:G}));if(""===k)throw new R("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:U})}const we=v.mappings.get(k);v.mappings.has(k)&&v.mappings.delete(k);let Re=!1;if((g(le)||null===le)&&(Re=!0,le={"@id":le}),!P(le))throw new R("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:U});const Ie={};v.mappings.set(k,Ie),Ie.reverse=!1;const Je=["@container","@id","@language","@reverse","@type"];ne.processingMode(v,1.1)&&Je.push("@context","@direction","@index","@nest","@prefix","@protected");for(const Le in le)if(!Je.includes(Le))throw new R("Invalid JSON-LD syntax; a term definition must not contain "+Le,"jsonld.SyntaxError",{code:"invalid term definition",context:U});const qe=k.indexOf(":");if(Ie._termHasColon=qe>0,"@reverse"in le){if("@id"in le)throw new R("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:U});if("@nest"in le)throw new R("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:U});const Le=le["@reverse"];if(!g(Le))throw new R("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:U});if(Le.match(C))return G.eventHandler&&B({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:Le}},options:G}),void(we?v.mappings.set(k,we):v.mappings.delete(k));const Ne=X(v,Le,{vocab:!0,base:!1},U,ue,G);if(!T(Ne))throw new R("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:U});Ie["@id"]=Ne,Ie.reverse=!0}else if("@id"in le){let Le=le["@id"];if(Le&&!g(Le))throw new R("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:U});if(null===Le)Ie["@id"]=null;else{if(!ne.isKeyword(Le)&&Le.match(C))return G.eventHandler&&B({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:Le}},options:G}),void(we?v.mappings.set(k,we):v.mappings.delete(k));if(Le!==k){if(Le=X(v,Le,{vocab:!0,base:!1},U,ue,G),!T(Le)&&!ne.isKeyword(Le))throw new R("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:U});if(k.match(/(?::[^:])|\//)&&X(v,k,{vocab:!0,base:!1},U,new Map(ue).set(k,!0),G)!==Le)throw new R("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:U});Ie["@id"]=Le,Ie._prefix=Re&&!Ie._termHasColon&&null!==Le.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in Ie))if(Ie._termHasColon){const Le=k.substr(0,qe);if(U.hasOwnProperty(Le)&&ne.createTermDefinition({activeCtx:v,localCtx:U,term:Le,defined:ue,options:G}),v.mappings.has(Le)){const Ne=k.substr(qe+1);Ie["@id"]=v.mappings.get(Le)["@id"]+Ne}else Ie["@id"]=k}else if("@type"===k)Ie["@id"]=k;else{if(!("@vocab"in v))throw new R("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:U,term:k});Ie["@id"]=v["@vocab"]+k}if((!0===le["@protected"]||!0===ue.get("@protected")&&!1!==le["@protected"])&&(v.protected[k]=!0,Ie.protected=!0),ue.set(k,!0),"@type"in le){let Le=le["@type"];if(!g(Le))throw new R("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:U});if("@json"===Le||"@none"===Le){if(ne.processingMode(v,1))throw new R(`Invalid JSON-LD syntax; an @context @type value must not be "${Le}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:U})}else if("@id"!==Le&&"@vocab"!==Le){if(Le=X(v,Le,{vocab:!0,base:!1},U,ue,G),!T(Le))throw new R("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:U});if(0===Le.indexOf("_:"))throw new R("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:U})}Ie["@type"]=Le}if("@container"in le){const Le=g(le["@container"])?[le["@container"]]:le["@container"]||[],Ne=["@list","@set","@index","@language"];let ze=!0;const ge=Le.includes("@set");if(ne.processingMode(v,1.1)){if(Ne.push("@graph","@id","@type"),Le.includes("@list")){if(1!==Le.length)throw new R("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:U})}else if(Le.includes("@graph")){if(Le.some(Se=>"@graph"!==Se&&"@id"!==Se&&"@index"!==Se&&"@set"!==Se))throw new R("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:U})}else ze&=Le.length<=(ge?2:1);if(Le.includes("@type")&&(Ie["@type"]=Ie["@type"]||"@id",!["@id","@vocab"].includes(Ie["@type"])))throw new R("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:U})}else ze&=!S(le["@container"]),ze&=Le.length<=1;if(ze&=Le.every(Se=>Ne.includes(Se)),ze&=!(ge&&Le.includes("@list")),!ze)throw new R("Invalid JSON-LD syntax; @context @container value must be one of the following: "+Ne.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:U});if(Ie.reverse&&!Le.every(Se=>["@index","@set"].includes(Se)))throw new R("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:U});Ie["@container"]=Le}if("@index"in le){if(!("@container"in le)||!Ie["@container"].includes("@index"))throw new R(`Invalid JSON-LD syntax; @index without @index in @container: "${le["@index"]}" on term "${k}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:U});if(!g(le["@index"])||0===le["@index"].indexOf("@"))throw new R(`Invalid JSON-LD syntax; @index must expand to an IRI: "${le["@index"]}" on term "${k}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:U});Ie["@index"]=le["@index"]}if("@context"in le&&(Ie["@context"]=le["@context"]),"@language"in le&&!("@type"in le)){let Le=le["@language"];if(null!==Le&&!g(Le))throw new R("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:U});null!==Le&&(Le=Le.toLowerCase()),Ie["@language"]=Le}if("@prefix"in le){if(k.match(/:|\//))throw new R("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:U});if(ne.isKeyword(Ie["@id"]))throw new R("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:U});if("boolean"!=typeof le["@prefix"])throw new R("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:U});Ie._prefix=!0===le["@prefix"]}if("@direction"in le){const Le=le["@direction"];if(null!==Le&&"ltr"!==Le&&"rtl"!==Le)throw new R('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:U});Ie["@direction"]=Le}if("@nest"in le){const Le=le["@nest"];if(!g(Le)||"@nest"!==Le&&0===Le.indexOf("@"))throw new R("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:U});Ie["@nest"]=Le}const Ee=Ie["@id"];if("@context"===Ee||"@preserve"===Ee)throw new R("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:U});if(we&&we.protected&&!Te&&(v.protected[k]=!0,Ie.protected=!0,!V(we,Ie)))throw new R("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:U,term:k})},ne.expandIri=(v,U,k,ue)=>X(v,U,k,void 0,void 0,ue),ne.getInitialContext=v=>{const U=JSON.stringify({processingMode:v.processingMode}),k=Y.get(U);if(k)return k;const ue={processingMode:v.processingMode,mappings:new Map,inverse:null,getInverse:function G(){const Ie=this;if(Ie.inverse)return Ie.inverse;const Je=Ie.inverse={},qe=Ie.fastCurieMap={},Ee={},Le=(Ie["@language"]||"@none").toLowerCase(),Ne=Ie["@direction"],ze=Ie.mappings,ge=[...ze.keys()].sort(ce);for(const Se of ge){const Ke=ze.get(Se);if(null===Ke)continue;let dt=Ke["@container"]||"@none";if(dt=[].concat(dt).sort().join(""),null===Ke["@id"])continue;const Ye=W(Ke["@id"]);for(const be of Ye){let H=Je[be];const O=ne.isKeyword(be);if(H)!O&&!Ke._termHasColon&&Ee[be].push(Se);else if(Je[be]=H={},!O&&!Ke._termHasColon){Ee[be]=[Se];const se={iri:be,terms:Ee[be]};be[0]in qe?qe[be[0]].push(se):qe[be[0]]=[se]}if(H[dt]||(H[dt]={"@language":{},"@type":{},"@any":{}}),H=H[dt],le(Se,H["@any"],"@none"),Ke.reverse)le(Se,H["@type"],"@reverse");else if("@none"===Ke["@type"])le(Se,H["@any"],"@none"),le(Se,H["@language"],"@none"),le(Se,H["@type"],"@none");else if("@type"in Ke)le(Se,H["@type"],Ke["@type"]);else if("@language"in Ke&&"@direction"in Ke){const se=Ke["@language"],j=Ke["@direction"];le(Se,H["@language"],se&&j?`${se}_${j}`.toLowerCase():se?se.toLowerCase():j?`_${j}`:"@null")}else"@language"in Ke?le(Se,H["@language"],(Ke["@language"]||"@null").toLowerCase()):"@direction"in Ke?le(Se,H["@language"],Ke["@direction"]?`_${Ke["@direction"]}`:"@none"):Ne?(le(Se,H["@language"],`_${Ne}`),le(Se,H["@language"],"@none"),le(Se,H["@type"],"@none")):(le(Se,H["@language"],Le),le(Se,H["@language"],"@none"),le(Se,H["@type"],"@none"))}}for(const Se in qe)Te(qe,Se,1);return Je},clone:function we(){const Ie={};return Ie.mappings=b.clone(this.mappings),Ie.clone=this.clone,Ie.inverse=null,Ie.getInverse=this.getInverse,Ie.protected=b.clone(this.protected),this.previousContext&&(Ie.previousContext=this.previousContext.clone()),Ie.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(Ie["@base"]=this["@base"]),"@language"in this&&(Ie["@language"]=this["@language"]),"@vocab"in this&&(Ie["@vocab"]=this["@vocab"]),Ie},revertToPreviousContext:function Re(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===Y.size&&Y.clear(),Y.set(U,ue),ue;function Te(Ie,Je,qe){const Ee=Ie[Je],Le=Ie[Je]={};let Ne,ze;for(const ge of Ee)Ne=ge.iri,ze=qe>=Ne.length?"":Ne[qe],ze in Le?Le[ze].push(ge):Le[ze]=[ge];for(const ge in Le)""!==ge&&Te(Le,ge,qe+1)}function le(Ie,Je,qe){Je.hasOwnProperty(qe)||(Je[qe]=Ie)}},ne.getContextValue=(v,U,k)=>{if(null===U)return"@context"===k?void 0:null;if(v.mappings.has(U)){const ue=v.mappings.get(U);if(y(k))return ue;if(ue.hasOwnProperty(k))return ue[k]}return"@language"===k&&k in v||"@direction"===k&&k in v?v[k]:"@context"!==k?null:void 0},ne.processingMode=(v,U)=>U.toString()>="1.1"?!v.processingMode||v.processingMode>="json-ld-"+U.toString():"json-ld-1.0"===v.processingMode,ne.isKeyword=v=>{if(!g(v)||"@"!==v[0])return!1;switch(v){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},627:(re,q,m)=>{"use strict";var A=m(7156).default;const{parseLinkHeader:b,buildHeaders:R}=m(3521),{LINK_HEADER_CONTEXT:S}=m(6982),P=m(1874),g=m(4044),{prependBase:y}=m(2651),T=/(^|(\r\n))link:/i;re.exports=({secure:D,headers:B={},xhr:te}={headers:{}})=>{return B=R(B),(new g).wrapLoader(W);function W(Y){return ce.apply(this,arguments)}function ce(){return ce=A(function*(Y){if(0!==Y.indexOf("http:")&&0!==Y.indexOf("https:"))throw new P('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:Y});if(D&&0!==Y.indexOf("https"))throw new P('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:Y});let ie;try{ie=yield function F(D,B,te){const C=new(D=D||XMLHttpRequest);return new Promise((W,ce)=>{C.onload=()=>W(C),C.onerror=Y=>ce(Y),C.open("GET",B,!0);for(const Y in te)C.setRequestHeader(Y,te[Y]);C.send()})}(te,Y,B)}catch(U){throw new P("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:Y,cause:U})}if(ie.status>=400)throw new P("URL could not be dereferenced: "+ie.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:Y,httpStatusCode:ie.status});let ne={contextUrl:null,documentUrl:Y,document:ie.response},X=null;const V=ie.getResponseHeader("Content-Type");let v;if(T.test(ie.getAllResponseHeaders())&&(v=ie.getResponseHeader("Link")),v&&"application/ld+json"!==V){const U=b(v),k=U[S];if(Array.isArray(k))throw new P("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:Y});k&&(ne.contextUrl=k.target),X=U.alternate,X&&"application/ld+json"==X.type&&!(V||"").match(/^application\/(\w*\+)?json$/)&&(ne=yield W(y(Y,X.target)))}return ne}),ce.apply(this,arguments)}}},3855:(re,q,m)=>{"use strict";const A=m(1874),{isArray:b}=m(8254),{asArray:R}=m(3521),S={};function P({event:y,handlers:T}){let F=!0;for(let D=0;F&&D<T.length;++D){F=!1;const B=T[D];if(b(B))F=P({event:y,handlers:B});else if("function"==typeof B)B({event:y,next:()=>{F=!0}});else{if("object"!=typeof B)throw new A("Invalid event handler.","jsonld.InvalidEventHandler",{event:y});y.code in B?B[y.code]({event:y,next:()=>{F=!0}}):F=!0}}return F}re.exports=S,S.defaultEventHandler=null,S.setupEventHandler=({options:y={}})=>{const T=[].concat(y.safe?S.safeEventHandler:[],y.eventHandler?R(y.eventHandler):[],S.defaultEventHandler?S.defaultEventHandler:[]);return 0===T.length?null:T},S.handleEvent=({event:y,options:T})=>{P({event:y,handlers:T.eventHandler})};const g=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);S.safeEventHandler=function({event:T,next:F}){if("warning"===T.level&&g.has(T.code))throw new A("Safe mode validation error.","jsonld.ValidationError",{event:T});F()},S.logEventHandler=function({event:T,next:F}){console.log(`EVENT: ${T.message}`,{event:T}),F()},S.logWarningEventHandler=function({event:T,next:F}){"warning"===T.level&&console.warn(`WARNING: ${T.message}`,{event:T}),F()},S.unhandledEventHandler=function({event:T}){throw new A("No handler for event.","jsonld.UnhandledEvent",{event:T})},S.setDefaultEventHandler=function({eventHandler:y}={}){S.defaultEventHandler=y?R(y):null}},3860:(re,q,m)=>{"use strict";var A=m(7156).default;const b=m(1874),{isArray:R,isObject:S,isEmptyObject:P,isString:g,isUndefined:y}=m(8254),{isList:T,isValue:F,isGraph:D,isSubject:B}=m(543),{expandIri:te,getContextValue:C,isKeyword:W,process:ce,processingMode:Y}=m(9611),{isAbsolute:ie}=m(2651),{REGEX_BCP47:ne,REGEX_KEYWORD:X,addValue:V,asArray:v,getValues:U,validateTypeValue:k}=m(3521),{handleEvent:ue}=m(3855),G={};function Te({value:Ee,count:Le,options:Ne}){if(0===Le||"@value"in Ee||"@list"in Ee||1===Le&&"@id"in Ee){if(Ne.eventHandler){let ze,ge;0===Le?(ze="empty object",ge="Dropping empty object."):"@value"in Ee?(ze="object with only @value",ge="Dropping object with only @value."):"@list"in Ee?(ze="object with only @list",ge="Dropping object with only @list."):1===Le&&"@id"in Ee&&(ze="object with only @id",ge="Dropping object with only @id."),ue({event:{type:["JsonLdEvent"],code:ze,level:"warning",message:ge,details:{value:Ee}},options:Ne})}return null}return Ee}function le(Ee){return we.apply(this,arguments)}function we(){return(we=A(function*({activeCtx:Ee,activeProperty:Le,expandedActiveProperty:Ne,element:ze,expandedParent:ge,options:Se={},insideList:Ke,typeKey:dt,typeScopedContext:Ye}){const be=Object.keys(ze).sort(),H=[];let O;const se=ze[dt]&&"@json"===te(Ee,R(ze[dt])?ze[dt][0]:ze[dt],{vocab:!0},{...Se,typeExpansion:!0});for(const j of be){let it,Be=ze[j];if("@context"===j)continue;const he=te(Ee,j,{vocab:!0},Se);if(null===he||!ie(he)&&!W(he)){Se.eventHandler&&ue({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:j,expandedProperty:he}},options:Se});continue}if(W(he)){if("@reverse"===Ne)throw new b("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:Be});if(he in ge&&"@included"!==he&&"@type"!==he)throw new b("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:he})}if("@id"===he){if(!g(Be)){if(!Se.isFrame)throw new b('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:Be});if(S(Be)){if(!P(Be))throw new b('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Be})}else{if(!R(Be))throw new b('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Be});if(!Be.every(N=>g(N)))throw new b('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Be})}}V(ge,"@id",v(Be).map(N=>{if(g(N)){const de=te(Ee,N,{base:!0},Se);return Se.eventHandler&&(null===de?ue(null===N?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:N}},options:Se}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:N}},options:Se}):ie(de)||ue({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:N,expandedId:de}},options:Se})),de}return N}),{propertyIsArray:Se.isFrame});continue}if("@type"===he){S(Be)&&(Be=Object.fromEntries(Object.entries(Be).map(([N,de])=>[te(Ye,N,{vocab:!0}),v(de).map(pe=>te(Ye,pe,{base:!0,vocab:!0},{...Se,typeExpansion:!0}))]))),k(Be,Se.isFrame),V(ge,"@type",v(Be).map(N=>{if(g(N)){const de=te(Ye,N,{base:!0,vocab:!0},{...Se,typeExpansion:!0});return"@json"!==de&&!ie(de)&&Se.eventHandler&&ue({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:N}},options:Se}),de}return N}),{propertyIsArray:!!Se.isFrame});continue}if("@included"===he&&Y(Ee,1.1)){const N=v(yield G.expand({activeCtx:Ee,activeProperty:Le,element:Be,options:Se}));if(!N.every(de=>B(de)))throw new b("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:Be});V(ge,"@included",N,{propertyIsArray:!0});continue}if("@graph"===he&&!S(Be)&&!R(Be))throw new b('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:Be});if("@value"===he){O=Be,se&&Y(Ee,1.1)?ge["@value"]=Be:V(ge,"@value",Be,{propertyIsArray:Se.isFrame});continue}if("@language"===he){if(null===Be)continue;if(!g(Be)&&!Se.isFrame)throw new b('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:Be});Be=v(Be).map(N=>g(N)?N.toLowerCase():N);for(const N of Be)g(N)&&!N.match(ne)&&Se.eventHandler&&ue({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:N}},options:Se});V(ge,"@language",Be,{propertyIsArray:Se.isFrame});continue}if("@direction"===he){if(!g(Be)&&!Se.isFrame)throw new b('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:Be});Be=v(Be);for(const N of Be)if(g(N)&&"ltr"!==N&&"rtl"!==N)throw new b('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:Be});V(ge,"@direction",Be,{propertyIsArray:Se.isFrame});continue}if("@index"===he){if(!g(Be))throw new b('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:Be});V(ge,"@index",Be);continue}if("@reverse"===he){if(!S(Be))throw new b('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:Be});if(it=yield G.expand({activeCtx:Ee,activeProperty:"@reverse",element:Be,options:Se}),"@reverse"in it)for(const de in it["@reverse"])V(ge,de,it["@reverse"][de],{propertyIsArray:!0});let N=ge["@reverse"]||null;for(const de in it){if("@reverse"===de)continue;null===N&&(N=ge["@reverse"]={}),V(N,de,[],{propertyIsArray:!0});const pe=it[de];for(let He=0;He<pe.length;++He){const ke=pe[He];if(F(ke)||T(ke))throw new b('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:it});V(N,de,ke,{propertyIsArray:!0})}}continue}if("@nest"===he){H.push(j);continue}let Z=Ee;const $=C(Ee,j,"@context");y($)||(Z=yield ce({activeCtx:Ee,localCtx:$,propagate:!0,overrideProtected:!0,options:Se}));const E=C(Z,j,"@container")||[];if(E.includes("@language")&&S(Be))it=Ie(Z,Be,C(Z,j,"@direction"),Se);else if(E.includes("@index")&&S(Be)){const N=E.includes("@graph"),de=C(Z,j,"@index")||"@index",pe="@index"!==de&&te(Ee,de,{vocab:!0},Se);it=yield Je({activeCtx:Z,options:Se,activeProperty:j,value:Be,asGraph:N,indexKey:de,propertyIndex:pe})}else if(E.includes("@id")&&S(Be)){const N=E.includes("@graph");it=yield Je({activeCtx:Z,options:Se,activeProperty:j,value:Be,asGraph:N,indexKey:"@id"})}else if(E.includes("@type")&&S(Be))it=yield Je({activeCtx:Z.revertToPreviousContext(),options:Se,activeProperty:j,value:Be,asGraph:!1,indexKey:"@type"});else{const N="@list"===he;if(N||"@set"===he){let de=Le;N&&"@graph"===Ne&&(de=null),it=yield G.expand({activeCtx:Z,activeProperty:de,element:Be,options:Se,insideList:N})}else it="@json"===C(Ee,j,"@type")?{"@type":"@json","@value":Be}:yield G.expand({activeCtx:Z,activeProperty:j,element:Be,options:Se,insideList:!1})}if(null!==it||"@value"===he){if("@list"!==he&&!T(it)&&E.includes("@list")&&(it={"@list":v(it)}),E.includes("@graph")&&!E.some(N=>"@id"===N||"@index"===N)){if(it=v(it),Se.isFrame||(it=it.filter(N=>null!==Te({value:N,count:Object.keys(N).length,options:Se}))),0===it.length)continue;it=it.map(N=>({"@graph":v(N)}))}if(Z.mappings.has(j)&&Z.mappings.get(j).reverse){const N=ge["@reverse"]=ge["@reverse"]||{};it=v(it);for(let de=0;de<it.length;++de){const pe=it[de];if(F(pe)||T(pe))throw new b('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:it});V(N,he,pe,{propertyIsArray:!0})}continue}V(ge,he,it,{propertyIsArray:!0})}}if("@value"in ge&&("@json"!==ge["@type"]||!Y(Ee,1.1))&&(S(O)||R(O))&&!Se.isFrame)throw new b('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:O});for(const j of H){const Be=R(ze[j])?ze[j]:[ze[j]];for(const it of Be){if(!S(it)||Object.keys(it).some(he=>"@value"===te(Ee,he,{vocab:!0},Se)))throw new b("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:it});yield le({activeCtx:Ee,activeProperty:Le,expandedActiveProperty:Ne,element:it,expandedParent:ge,options:Se,insideList:Ke,typeScopedContext:Ye,typeKey:dt})}}})).apply(this,arguments)}function Re({activeCtx:Ee,activeProperty:Le,value:Ne,options:ze}){if(null==Ne)return null;const ge=te(Ee,Le,{vocab:!0},ze);if("@id"===ge)return te(Ee,Ne,{base:!0},ze);if("@type"===ge)return te(Ee,Ne,{vocab:!0,base:!0},{...ze,typeExpansion:!0});const Se=C(Ee,Le,"@type");if(("@id"===Se||"@graph"===ge)&&g(Ne)){const dt=te(Ee,Ne,{base:!0},ze);return null===dt&&Ne.match(X)&&ze.eventHandler&&ue({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:Le}},options:ze}),{"@id":dt}}if("@vocab"===Se&&g(Ne))return{"@id":te(Ee,Ne,{vocab:!0,base:!0},ze)};if(W(ge))return Ne;const Ke={};if(Se&&!["@id","@vocab","@none"].includes(Se))Ke["@type"]=Se;else if(g(Ne)){const dt=C(Ee,Le,"@language");null!==dt&&(Ke["@language"]=dt);const Ye=C(Ee,Le,"@direction");null!==Ye&&(Ke["@direction"]=Ye)}return["boolean","number","string"].includes(typeof Ne)||(Ne=Ne.toString()),Ke["@value"]=Ne,Ke}function Ie(Ee,Le,Ne,ze){const ge=[],Se=Object.keys(Le).sort();for(const Ke of Se){const dt=te(Ee,Ke,{vocab:!0},ze);let Ye=Le[Ke];R(Ye)||(Ye=[Ye]);for(const be of Ye){if(null===be)continue;if(!g(be))throw new b("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:Le});const H={"@value":be};"@none"!==dt&&(Ke.match(ne)||ze.eventHandler&&ue({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Ke}},options:ze}),H["@language"]=Ke.toLowerCase()),Ne&&(H["@direction"]=Ne),ge.push(H)}}return ge}function Je(Ee){return qe.apply(this,arguments)}function qe(){return(qe=A(function*({activeCtx:Ee,options:Le,activeProperty:Ne,value:ze,asGraph:ge,indexKey:Se,propertyIndex:Ke}){const dt=[],Ye=Object.keys(ze).sort(),be="@type"===Se;for(let H of Ye){if(be){const j=C(Ee,H,"@context");y(j)||(Ee=yield ce({activeCtx:Ee,localCtx:j,propagate:!1,options:Le}))}let se,O=ze[H];R(O)||(O=[O]),O=yield G.expand({activeCtx:Ee,activeProperty:Ne,element:O,options:Le,insideList:!1,insideIndex:!0}),se=Ke?"@none"===H?"@none":Re({activeCtx:Ee,activeProperty:Se,value:H,options:Le}):te(Ee,H,{vocab:!0},Le),"@id"===Se?H=te(Ee,H,{base:!0},Le):be&&(H=se);for(let j of O){if(ge&&!D(j)&&(j={"@graph":[j]}),"@type"===Se)"@none"===se||(j["@type"]=j["@type"]?[H].concat(j["@type"]):[H]);else{if(F(j)&&!["@language","@type","@index"].includes(Se))throw new b(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${Se}".`,"jsonld.SyntaxError",{code:"invalid value object",value:j});Ke?"@none"!==se&&V(j,Ke,se,{propertyIsArray:!0,prependValue:!0}):"@none"!==se&&!(Se in j)&&(j[Se]=H)}dt.push(j)}}return dt})).apply(this,arguments)}re.exports=G,G.expand=function(){var Ee=A(function*({activeCtx:Le,activeProperty:Ne=null,element:ze,options:ge={},insideList:Se=!1,insideIndex:Ke=!1,typeScopedContext:dt=null}){if(null==ze)return null;if("@default"===Ne&&(ge=Object.assign({},ge,{isFrame:!1})),!R(ze)&&!S(ze))return Se||null!==Ne&&"@graph"!==te(Le,Ne,{vocab:!0},ge)?Re({activeCtx:Le,activeProperty:Ne,value:ze,options:ge}):(ge.eventHandler&&ue({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:ze}},options:ge}),null);if(R(ze)){let it=[];const he=C(Le,Ne,"@container")||[];Se=Se||he.includes("@list");for(let Z=0;Z<ze.length;++Z){let $=yield G.expand({activeCtx:Le,activeProperty:Ne,element:ze[Z],options:ge,insideIndex:Ke,typeScopedContext:dt});Se&&R($)&&($={"@list":$}),null!==$&&(R($)?it=it.concat($):it.push($))}return it}const Ye=te(Le,Ne,{vocab:!0},ge),be=C(Le,Ne,"@context");dt=dt||(Le.previousContext?Le:null);let H=Object.keys(ze).sort(),O=!Ke;if(O&&dt&&H.length<=2&&!H.includes("@context"))for(const it of H){const he=te(dt,it,{vocab:!0},ge);if("@value"===he){O=!1,Le=dt;break}if("@id"===he&&1===H.length){O=!1;break}}O&&(Le=Le.revertToPreviousContext()),y(be)||(Le=yield ce({activeCtx:Le,localCtx:be,propagate:!0,overrideProtected:!0,options:ge})),"@context"in ze&&(Le=yield ce({activeCtx:Le,localCtx:ze["@context"],options:ge})),dt=Le;let se=null;for(const it of H)if("@type"===te(Le,it,{vocab:!0},ge)){se=se||it;const Z=ze[it],$=Array.isArray(Z)?Z.length>1?Z.slice().sort():Z:[Z];for(const E of $){const N=C(dt,E,"@context");y(N)||(Le=yield ce({activeCtx:Le,localCtx:N,options:ge,propagate:!1}))}}let j={};yield le({activeCtx:Le,activeProperty:Ne,expandedActiveProperty:Ye,element:ze,expandedParent:j,options:ge,insideList:Se,typeKey:se,typeScopedContext:dt}),H=Object.keys(j);let Be=H.length;if("@value"in j){if("@type"in j&&("@language"in j||"@direction"in j))throw new b('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:j});let it=Be-1;if("@type"in j&&(it-=1),"@index"in j&&(it-=1),"@language"in j&&(it-=1),"@direction"in j&&(it-=1),0!==it)throw new b('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:j});const he=null===j["@value"]?[]:v(j["@value"]),Z=U(j,"@type");if(!Y(Le,1.1)||!Z.includes("@json")||1!==Z.length)if(0===he.length)ge.eventHandler&&ue({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:j}},options:ge}),j=null;else{if(!he.every($=>g($)||P($))&&"@language"in j)throw new b("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:j});if(!Z.every($=>ie($)&&!(g($)&&0===$.indexOf("_:"))||P($)))throw new b('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:j})}}else if("@type"in j&&!R(j["@type"]))j["@type"]=[j["@type"]];else if("@set"in j||"@list"in j){if(Be>1&&(2!==Be||!("@index"in j)))throw new b('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:j});"@set"in j&&(j=j["@set"],H=Object.keys(j),Be=H.length)}else 1===Be&&"@language"in j&&(ge.eventHandler&&ue({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:j}},options:ge}),j=null);return S(j)&&!ge.keepFreeFloatingNodes&&!Se&&(null===Ne||"@graph"===Ye||(C(Le,Ne,"@container")||[]).includes("@graph"))&&(j=Te({value:j,count:Be,options:ge})),j});return function(Le){return Ee.apply(this,arguments)}}()},8295:(re,q,m)=>{"use strict";const{isSubjectReference:A}=m(543),{createMergedNodeMap:b}=m(9783),R={};re.exports=R,R.flatten=S=>{const P=b(S),g=[],y=Object.keys(P).sort();for(let T=0;T<y.length;++T){const F=P[y[T]];A(F)||g.push(F)}return g}},9193:(re,q,m)=>{"use strict";const{isKeyword:A}=m(9611),b=m(543),R=m(8254),S=m(3521),P=m(2651),g=m(1874),{createNodeMap:y,mergeNodeMapGraphs:T}=m(9783),F={};function D(v){const U={};for(const k in v)void 0!==v[k]&&(U["@"+k]=[v[k]]);return[U]}function B(v,U,k){for(let ue=k.length-1;ue>=0;--ue){const G=k[ue];if(G.graph===U&&G.subject["@id"]===v["@id"])return!0}return!1}function te(v,U,k){const ue="@"+k;let G=ue in v?v[ue][0]:U[k];if("embed"===k)if(!0===G)G="@once";else if(!1===G)G="@never";else if("@always"!==G&&"@never"!==G&&"@link"!==G&&"@first"!==G&&"@last"!==G&&"@once"!==G)throw new g("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:v});return G}function C(v){if(!R.isArray(v)||1!==v.length||!R.isObject(v[0]))throw new g("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:v});if("@id"in v[0])for(const U of S.asArray(v[0]["@id"]))if(!R.isObject(U)&&!P.isAbsolute(U)||R.isString(U)&&0===U.indexOf("_:"))throw new g("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:v});if("@type"in v[0])for(const U of S.asArray(v[0]["@type"]))if(!R.isObject(U)&&!P.isAbsolute(U)&&"@json"!==U||R.isString(U)&&0===U.indexOf("_:"))throw new g("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:v})}function ce(v,U,k,ue){let G=!0,Te=!1;for(const le in k){let we=!1;const Re=S.getValues(U,le),Ie=0===S.getValues(k,le).length;if("@id"===le){if(R.isEmptyObject(k["@id"][0]||{})?we=!0:k["@id"].length>=0&&(we=k["@id"].includes(Re[0])),!ue.requireAll)return we}else if("@type"===le){if(G=!1,Ie){if(Re.length>0)return!1;we=!0}else if(1===k["@type"].length&&R.isEmptyObject(k["@type"][0]))we=Re.length>0;else for(const Je of k["@type"])we=!(!R.isObject(Je)||!("@default"in Je))||we||Re.some(qe=>qe===Je);if(!ue.requireAll)return we}else{if(A(le))continue;{const Je=S.getValues(k,le)[0];let qe=!1;if(Je&&(C([Je]),qe="@default"in Je),G=!1,0===Re.length&&qe)continue;if(Re.length>0&&Ie)return!1;if(void 0===Je){if(Re.length>0)return!1;we=!0}else if(b.isList(Je)){const Ee=Je["@list"][0];if(b.isList(Re[0])){const Le=Re[0]["@list"];b.isValue(Ee)?we=Le.some(Ne=>V(Ee,Ne)):(b.isSubject(Ee)||b.isSubjectReference(Ee))&&(we=Le.some(Ne=>X(v,Ee,Ne,ue)))}}else we=b.isValue(Je)?Re.some(Ee=>V(Je,Ee)):b.isSubjectReference(Je)?Re.some(Ee=>X(v,Je,Ee,ue)):!!R.isObject(Je)&&Re.length>0}}if(!we&&ue.requireAll)return!1;Te=Te||we}return G||Te}function Y(v,U){const k=v.uniqueEmbeds[v.graph],ue=k[U],G=ue.parent,Te=ue.property,le={"@id":U};if(R.isArray(G)){for(let Re=0;Re<G.length;++Re)if(S.compareValues(G[Re],le)){G[Re]=le;break}}else{const Re=R.isArray(G[Te]);S.removeValue(G,Te,le,{propertyIsArray:Re}),S.addValue(G,Te,le,{propertyIsArray:Re})}const we=Re=>{const Ie=Object.keys(k);for(const Je of Ie)Je in k&&R.isObject(k[Je].parent)&&k[Je].parent["@id"]===Re&&(delete k[Je],we(Je))};we(U)}function ie(v,U){if(R.isArray(v))return v.map(k=>ie(k,U));if(R.isObject(v)){if("@preserve"in v)return v["@preserve"][0];if(b.isValue(v))return v;if(b.isList(v))return v["@list"]=ie(v["@list"],U),v;if("@id"in v){const k=v["@id"];if(U.link.hasOwnProperty(k)){const ue=U.link[k].indexOf(v);if(-1!==ue)return U.link[k][ue];U.link[k].push(v)}else U.link[k]=[v]}for(const k in v)"@id"===k&&U.bnodesToClear.includes(v[k])?delete v["@id"]:v[k]=ie(v[k],U)}return v}function ne(v,U,k){R.isObject(v)?S.addValue(v,U,k,{propertyIsArray:!0}):v.push(k)}function X(v,U,k,ue){if(!("@id"in k))return!1;const G=v.subjects[k["@id"]];return G&&ce(v,G,U,ue)}function V(v,U){const k=U["@value"],ue=U["@type"],G=U["@language"],Te=v["@value"]?R.isArray(v["@value"])?v["@value"]:[v["@value"]]:[],le=v["@type"]?R.isArray(v["@type"])?v["@type"]:[v["@type"]]:[],we=v["@language"]?R.isArray(v["@language"])?v["@language"]:[v["@language"]]:[];return 0===Te.length&&0===le.length&&0===we.length||!(!Te.includes(k)&&!R.isEmptyObject(Te[0])||!(!ue&&0===le.length||le.includes(ue)||ue&&R.isEmptyObject(le[0]))||!(!G&&0===we.length||we.includes(G)||G&&R.isEmptyObject(we[0])))}re.exports=F,F.frameMergedOrDefault=(v,U,k)=>{const ue={options:k,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},G=new S.IdentifierIssuer("_:b");y(v,ue.graphMap,"@default",G),k.merged&&(ue.graphMap["@merged"]=T(ue.graphMap),ue.graph="@merged"),ue.subjects=ue.graphMap[ue.graph];const Te=[];return F.frame(ue,Object.keys(ue.subjects).sort(),U,Te),k.pruneBlankNodeIdentifiers&&(k.bnodesToClear=Object.keys(ue.bnodeMap).filter(le=>1===ue.bnodeMap[le].length)),k.link={},ie(Te,k)},F.frame=(v,U,k,ue,G=null)=>{C(k);const Te=v.options,le={embed:te(k=k[0],Te,"embed"),explicit:te(k,Te,"explicit"),requireAll:te(k,Te,"requireAll")};v.link.hasOwnProperty(v.graph)||(v.link[v.graph]={});const we=v.link[v.graph],Re=function W(v,U,k,ue){const G={};for(const Te of U){const le=v.graphMap[v.graph][Te];ce(v,le,k,ue)&&(G[Te]=le)}return G}(v,U,k,le),Ie=Object.keys(Re).sort();for(const Je of Ie){const qe=Re[Je];if(null===G?v.uniqueEmbeds={[v.graph]:{}}:v.uniqueEmbeds[v.graph]=v.uniqueEmbeds[v.graph]||{},"@link"===le.embed&&Je in we){ne(ue,G,we[Je]);continue}const Ee={"@id":Je};if(0===Je.indexOf("_:")&&S.addValue(v.bnodeMap,Je,Ee,{propertyIsArray:!0}),we[Je]=Ee,("@first"===le.embed||"@last"===le.embed)&&v.is11)throw new g("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:k});if(v.embedded||!v.uniqueEmbeds[v.graph].hasOwnProperty(Je)){if(v.embedded&&("@never"===le.embed||B(qe,v.graph,v.subjectStack))){ne(ue,G,Ee);continue}if(v.embedded&&("@first"==le.embed||"@once"==le.embed)&&v.uniqueEmbeds[v.graph].hasOwnProperty(Je)){ne(ue,G,Ee);continue}if("@last"===le.embed&&Je in v.uniqueEmbeds[v.graph]&&Y(v,Je),v.uniqueEmbeds[v.graph][Je]={parent:ue,property:G},v.subjectStack.push({subject:qe,graph:v.graph}),Je in v.graphMap){let Le=!1,Ne=null;"@graph"in k?(Ne=k["@graph"][0],Le=!("@merged"===Je||"@default"===Je),R.isObject(Ne)||(Ne={})):(Le="@merged"!==v.graph,Ne={}),Le&&F.frame({...v,graph:Je,embedded:!1},Object.keys(v.graphMap[Je]).sort(),[Ne],Ee,"@graph")}"@included"in k&&F.frame({...v,embedded:!1},U,k["@included"],Ee,"@included");for(const Le of Object.keys(qe).sort())if(A(Le)){if(Ee[Le]=S.clone(qe[Le]),"@type"===Le)for(const Ne of qe["@type"])0===Ne.indexOf("_:")&&S.addValue(v.bnodeMap,Ne,Ee,{propertyIsArray:!0})}else if(!le.explicit||Le in k)for(const Ne of qe[Le]){const ze=Le in k?k[Le]:D(le);if(b.isList(Ne)){const ge=k[Le]&&k[Le][0]&&k[Le][0]["@list"]?k[Le][0]["@list"]:D(le),Se={"@list":[]};ne(Ee,Le,Se);const Ke=Ne["@list"];for(const dt of Ke)b.isSubjectReference(dt)?F.frame({...v,embedded:!0},[dt["@id"]],ge,Se,"@list"):ne(Se,"@list",S.clone(dt))}else b.isSubjectReference(Ne)?F.frame({...v,embedded:!0},[Ne["@id"]],ze,Ee,Le):V(ze[0],Ne)&&ne(Ee,Le,S.clone(Ne))}for(const Le of Object.keys(k).sort()){if("@type"===Le){if(!R.isObject(k[Le][0])||!("@default"in k[Le][0]))continue}else if(A(Le))continue;const Ne=k[Le][0]||{};if(!te(Ne,Te,"omitDefault")&&!(Le in Ee)){let ge="@null";"@default"in Ne&&(ge=S.clone(Ne["@default"])),R.isArray(ge)||(ge=[ge]),Ee[Le]=[{"@preserve":ge}]}}for(const Le of Object.keys(k["@reverse"]||{}).sort()){const Ne=k["@reverse"][Le];for(const ze of Object.keys(v.subjects))S.getValues(v.subjects[ze],Le).some(Se=>Se["@id"]===Je)&&(Ee["@reverse"]=Ee["@reverse"]||{},S.addValue(Ee["@reverse"],Le,[],{propertyIsArray:!0}),F.frame({...v,embedded:!0},[ze],Ne,Ee["@reverse"][Le],G))}ne(ue,G,Ee),v.subjectStack.pop()}}},F.cleanupNull=(v,U)=>{if(R.isArray(v))return v.map(ue=>F.cleanupNull(ue,U)).filter(ue=>ue);if("@null"===v)return null;if(R.isObject(v)){if("@id"in v){const k=v["@id"];if(U.link.hasOwnProperty(k)){const ue=U.link[k].indexOf(v);if(-1!==ue)return U.link[k][ue];U.link[k].push(v)}else U.link[k]=[v]}for(const k in v)v[k]=F.cleanupNull(v[k],U)}return v}},9767:(re,q,m)=>{"use strict";var A=m(7156).default;const b=m(1874),R=m(543),S=m(8254),{REGEX_BCP47:P,addValue:g}=m(3521),{handleEvent:y}=m(3855),{RDF_LIST:T,RDF_FIRST:F,RDF_REST:D,RDF_NIL:B,RDF_TYPE:te,RDF_JSON_LITERAL:C,XSD_BOOLEAN:W,XSD_DOUBLE:ce,XSD_INTEGER:Y,XSD_STRING:ie}=m(6982),ne={};function X(V,v,U,k){if(V.termType.endsWith("Node"))return{"@id":V.value};const ue={"@value":V.value};if(V.language)V.language.match(P)||k.eventHandler&&y({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:V.language}},options:k}),ue["@language"]=V.language;else{let G=V.datatype.value;if(G||(G=ie),G===C){G="@json";try{ue["@value"]=JSON.parse(ue["@value"])}catch(Te){throw new b("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:ue["@value"],cause:Te})}}if(v){if(G===W)"true"===ue["@value"]?ue["@value"]=!0:"false"===ue["@value"]&&(ue["@value"]=!1);else if(S.isNumeric(ue["@value"]))if(G===Y){const Te=parseInt(ue["@value"],10);Te.toFixed(0)===ue["@value"]&&(ue["@value"]=Te)}else G===ce&&(ue["@value"]=parseFloat(ue["@value"]));[W,Y,ce,ie].includes(G)||(ue["@type"]=G)}else if("i18n-datatype"===U&&G.startsWith("https://www.w3.org/ns/i18n#")){const[,Te,le]=G.split(/[#_]/);Te.length>0&&(ue["@language"]=Te,Te.match(P)||k.eventHandler&&y({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Te}},options:k})),ue["@direction"]=le}else G!==ie&&(ue["@type"]=G)}return ue}re.exports=ne,ne.fromRDF=function(){var V=A(function*(v,U){const{useRdfType:k=!1,useNativeTypes:ue=!1,rdfDirection:G=null}=U,Te={},le={"@default":Te},we={};if(G){if("compound-literal"===G)throw new b("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:G});if("i18n-datatype"!==G)throw new b("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:G})}for(const Je of v){const qe="DefaultGraph"===Je.graph.termType?"@default":Je.graph.value;qe in le||(le[qe]={}),"@default"!==qe&&!(qe in Te)&&(Te[qe]={"@id":qe});const Ee=le[qe],Le=Je.subject.value,Ne=Je.predicate.value,ze=Je.object;Le in Ee||(Ee[Le]={"@id":Le});const ge=Ee[Le],Se=ze.termType.endsWith("Node");if(Se&&!(ze.value in Ee)&&(Ee[ze.value]={"@id":ze.value}),Ne===te&&!k&&Se){g(ge,"@type",ze.value,{propertyIsArray:!0});continue}const Ke=X(ze,ue,G,U);if(g(ge,Ne,Ke,{propertyIsArray:!0}),Se)if(ze.value===B){const dt=Ee[ze.value];"usages"in dt||(dt.usages=[]),dt.usages.push({node:ge,property:Ne,value:Ke})}else we[ze.value]=!(ze.value in we)&&{node:ge,property:Ne,value:Ke}}for(const Je in le){const qe=le[Je];if(!(B in qe))continue;const Ee=qe[B];if(Ee.usages){for(let Le of Ee.usages){let Ne=Le.node,ze=Le.property,ge=Le.value;const Se=[],Ke=[];let dt=Object.keys(Ne).length;for(;ze===D&&S.isObject(we[Ne["@id"]])&&S.isArray(Ne[F])&&1===Ne[F].length&&S.isArray(Ne[D])&&1===Ne[D].length&&(3===dt||4===dt&&S.isArray(Ne["@type"])&&1===Ne["@type"].length&&Ne["@type"][0]===T)&&(Se.push(Ne[F][0]),Ke.push(Ne["@id"]),Le=we[Ne["@id"]],Ne=Le.node,ze=Le.property,ge=Le.value,dt=Object.keys(Ne).length,R.isBlankNode(Ne)););delete ge["@id"],ge["@list"]=Se.reverse();for(const Ye of Ke)delete qe[Ye]}delete Ee.usages}}const Re=[],Ie=Object.keys(Te).sort();for(const Je of Ie){const qe=Te[Je];if(Je in le){const Ee=qe["@graph"]=[],Le=le[Je],Ne=Object.keys(Le).sort();for(const ze of Ne){const ge=Le[ze];R.isSubjectReference(ge)||Ee.push(ge)}}R.isSubjectReference(qe)||Re.push(qe)}return Re});return function(v,U){return V.apply(this,arguments)}}()},543:(re,q,m)=>{"use strict";const A=m(8254),b={};re.exports=b,b.isSubject=R=>!(!A.isObject(R)||"@value"in R||"@set"in R||"@list"in R)&&(Object.keys(R).length>1||!("@id"in R)),b.isSubjectReference=R=>A.isObject(R)&&1===Object.keys(R).length&&"@id"in R,b.isValue=R=>A.isObject(R)&&"@value"in R,b.isList=R=>A.isObject(R)&&"@list"in R,b.isGraph=R=>A.isObject(R)&&"@graph"in R&&1===Object.keys(R).filter(S=>"@id"!==S&&"@index"!==S).length,b.isSimpleGraph=R=>b.isGraph(R)&&!("@id"in R),b.isBlankNode=R=>{if(A.isObject(R)){if("@id"in R){const S=R["@id"];return!A.isString(S)||0===S.indexOf("_:")}return 0===Object.keys(R).length||!("@value"in R||"@set"in R||"@list"in R)}return!1}},7661:(re,q,m)=>{var A=m(7156).default;const b=m(1986),R=m(8924),S=m(3521),P=m(4198),g=S.IdentifierIssuer,y=m(1874),T=m(1072),F=m(7260),{expand:D}=m(3860),{flatten:B}=m(8295),{fromRDF:te}=m(9767),{toRDF:C}=m(240),{frameMergedOrDefault:W,cleanupNull:ce}=m(9193),{isArray:Y,isObject:ie,isString:ne}=m(8254),{isSubjectReference:X}=m(543),{expandIri:V,getInitialContext:v,process:U,processingMode:k}=m(9611),{compact:ue,compactIri:G}=m(8809),{createNodeMap:Te,createMergedNodeMap:le,mergeNodeMaps:we}=m(9783),{logEventHandler:Re,logWarningEventHandler:Ie,safeEventHandler:Je,setDefaultEventHandler:qe,setupEventHandler:Ee,strictEventHandler:Le,unhandledEventHandler:Ne}=m(3855),ze=function(Se){const Ke={},Ye=new T({max:100});function be(H,{documentLoader:O=Se.documentLoader,...se}){if(H&&"compactionMap"in H)throw new y('"compactionMap" not supported.',"jsonld.OptionsError");if(H&&"expansionMap"in H)throw new y('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:O},se,H,{eventHandler:Ee({options:H})})}return Se.compact=function(){var H=A(function*(O,se,j){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===se)throw new y("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===O)return null;let Be;(j=be(j,{base:ne(O)?O:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new g("_:b"),contextResolver:new P({sharedCache:Ye})})).link&&(j.skipExpansion=!0),j.compactToRelative||delete j.base,Be=j.skipExpansion?O:yield Se.expand(O,j);const it=yield Se.processContext(v(j),se,j);let he=yield ue({activeCtx:it,element:Be,options:j});j.compactArrays&&!j.graph&&Y(he)?1===he.length?he=he[0]:0===he.length&&(he={}):j.graph&&ie(he)&&(he=[he]),ie(se)&&"@context"in se&&(se=se["@context"]),se=S.clone(se),Y(se)||(se=[se]);const Z=se;se=[];for(let E=0;E<Z.length;++E)(!ie(Z[E])||Object.keys(Z[E]).length>0)&&se.push(Z[E]);const $=se.length>0;if(1===se.length&&(se=se[0]),Y(he)){const E=G({activeCtx:it,iri:"@graph",relativeTo:{vocab:!0}}),N=he;he={},$&&(he["@context"]=se),he[E]=N}else if(ie(he)&&$){const E=he;he={"@context":se};for(const N in E)he[N]=E[N]}return he});return function(O,se,j){return H.apply(this,arguments)}}(),Se.expand=function(){var H=A(function*(O,se){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");const j={},Be=[];if("expandContext"in(se=be(se,{keepFreeFloatingNodes:!1,contextResolver:new P({sharedCache:Ye})}))){const $=S.clone(se.expandContext);j.expandContext=ie($)&&"@context"in $?$:{"@context":$},Be.push(j.expandContext)}let it;if(ne(O)){const $=yield Se.get(O,se);it=$.documentUrl,j.input=$.document,$.contextUrl&&(j.remoteContext={"@context":$.contextUrl},Be.push(j.remoteContext))}else j.input=S.clone(O);"base"in se||(se.base=it||"");let he=v(se);for(const $ of Be)he=yield U({activeCtx:he,localCtx:$,options:se});let Z=yield D({activeCtx:he,element:j.input,options:se});return ie(Z)&&"@graph"in Z&&1===Object.keys(Z).length?Z=Z["@graph"]:null===Z&&(Z=[]),Y(Z)||(Z=[Z]),Z});return function(O,se){return H.apply(this,arguments)}}(),Se.flatten=function(){var H=A(function*(O,se,j){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");se="function"==typeof se?null:se||null,j=be(j,{base:ne(O)?O:"",contextResolver:new P({sharedCache:Ye})});const Be=yield Se.expand(O,j),it=B(Be);return null===se?it:(j.graph=!0,j.skipExpansion=!0,yield Se.compact(it,se,j))});return function(O,se,j){return H.apply(this,arguments)}}(),Se.frame=function(){var H=A(function*(O,se,j){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(j=be(j,{base:ne(O)?O:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new P({sharedCache:Ye})}),ne(se)){const pe=yield Se.get(se,j);if(se=pe.document,pe.contextUrl){let He=se["@context"];He?Y(He)?He.push(pe.contextUrl):He=[He,pe.contextUrl]:He=pe.contextUrl,se["@context"]=He}}const Be=se&&se["@context"]||{},it=yield Se.processContext(v(j),Be,j);j.hasOwnProperty("omitGraph")||(j.omitGraph=k(it,1.1)),j.hasOwnProperty("pruneBlankNodeIdentifiers")||(j.pruneBlankNodeIdentifiers=k(it,1.1));const he=yield Se.expand(O,j),Z={...j};Z.isFrame=!0,Z.keepFreeFloatingNodes=!0;const $=yield Se.expand(se,Z),E=Object.keys(se).map(pe=>V(it,pe,{vocab:!0}));Z.merged=!E.includes("@graph"),Z.is11=k(it,1.1);const N=W(he,$,Z);Z.graph=!j.omitGraph,Z.skipExpansion=!0,Z.link={},Z.framing=!0;let de=yield Se.compact(N,Be,Z);return Z.link={},de=ce(de,Z),de});return function(O,se,j){return H.apply(this,arguments)}}(),Se.link=function(){var H=A(function*(O,se,j){const Be={};return se&&(Be["@context"]=se),Be["@embed"]="@link",Se.frame(O,Be,j)});return function(O,se,j){return H.apply(this,arguments)}}(),Se.normalize=Se.canonize=function(){var H=A(function*(O,se){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(se=be(se,{base:ne(O)?O:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new P({sharedCache:Ye})}))){if("application/n-quads"!==se.inputFormat&&"application/nquads"!==se.inputFormat)throw new y("Unknown canonicalization input format.","jsonld.CanonizeError");const it=F.parse(O);return b.canonize(it,se)}const j={...se};delete j.format,j.produceGeneralizedRdf=!1;const Be=yield Se.toRDF(O,j);return b.canonize(Be,se)});return function(O,se){return H.apply(this,arguments)}}(),Se.fromRDF=function(){var H=A(function*(O,se){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");se=be(se,{format:ne(O)?"application/n-quads":void 0});const{format:j}=se;let{rdfParser:Be}=se;if(j){if(Be=Be||Ke[j],!Be)throw new y("Unknown input format.","jsonld.UnknownFormat",{format:j})}else Be=()=>O;const it=yield Be(O);return te(it,se)});return function(O,se){return H.apply(this,arguments)}}(),Se.toRDF=function(){var H=A(function*(O,se){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let j;j=(se=be(se,{base:ne(O)?O:"",skipExpansion:!1,contextResolver:new P({sharedCache:Ye})})).skipExpansion?O:yield Se.expand(O,se);const Be=C(j,se);if(se.format){if("application/n-quads"===se.format||"application/nquads"===se.format)return F.serialize(Be);throw new y("Unknown output format.","jsonld.UnknownFormat",{format:se.format})}return Be});return function(O,se){return H.apply(this,arguments)}}(),Se.createNodeMap=function(){var H=A(function*(O,se){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");se=be(se,{base:ne(O)?O:"",contextResolver:new P({sharedCache:Ye})});const j=yield Se.expand(O,se);return le(j,se)});return function(O,se){return H.apply(this,arguments)}}(),Se.merge=function(){var H=A(function*(O,se,j){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!Y(O))throw new TypeError('Could not merge, "docs" must be an array.');se="function"==typeof se?null:se||null,j=be(j,{contextResolver:new P({sharedCache:Ye})});const Be=yield Promise.all(O.map(pe=>{const He={...j};return Se.expand(pe,He)}));let it=!0;"mergeNodes"in j&&(it=j.mergeNodes);const he=j.issuer||new g("_:b"),Z={"@default":{}};for(let pe=0;pe<Be.length;++pe){const He=S.relabelBlankNodes(Be[pe],{issuer:new g("_:b"+pe+"-")}),ke=it||0===pe?Z:{"@default":{}};if(Te(He,ke,"@default",he),ke!==Z)for(const ft in ke){const Ht=ke[ft];if(!(ft in Z)){Z[ft]=Ht;continue}const Ct=Z[ft];for(const en in Ht)en in Ct||(Ct[en]=Ht[en])}}const $=we(Z),E=[],N=Object.keys($).sort();for(let pe=0;pe<N.length;++pe){const He=$[N[pe]];X(He)||E.push(He)}return null===se?E:(j.graph=!0,j.skipExpansion=!0,yield Se.compact(E,se,j))});return function(O,se,j){return H.apply(this,arguments)}}(),Object.defineProperty(Se,"documentLoader",{get:()=>Se._documentLoader,set:H=>Se._documentLoader=H}),Se.documentLoader=function(){var H=A(function*(O){throw new y("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:O})});return function(O){return H.apply(this,arguments)}}(),Se.get=function(){var H=A(function*(O,se){let j;j="function"==typeof se.documentLoader?se.documentLoader:Se.documentLoader;const Be=yield j(O);try{if(!Be.document)throw new y("No remote document found at the given URL.","jsonld.NullRemoteDocument");ne(Be.document)&&(Be.document=JSON.parse(Be.document))}catch(it){throw new y("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:it,remoteDoc:Be})}return Be});return function(O,se){return H.apply(this,arguments)}}(),Se.processContext=function(){var H=A(function*(O,se,j){return j=be(j,{base:"",contextResolver:new P({sharedCache:Ye})}),null===se?v(j):(se=S.clone(se),ie(se)&&"@context"in se||(se={"@context":se}),U({activeCtx:O,localCtx:se,options:j}))});return function(O,se,j){return H.apply(this,arguments)}}(),Se.getContextValue=m(9611).getContextValue,Se.documentLoaders={},Se.useDocumentLoader=function(H){if(!(H in Se.documentLoaders))throw new y('Unknown document loader type: "'+H+'"',"jsonld.UnknownDocumentLoader",{type:H});Se.documentLoader=Se.documentLoaders[H].apply(Se,Array.prototype.slice.call(arguments,1))},Se.registerRDFParser=function(H,O){Ke[H]=O},Se.unregisterRDFParser=function(H){delete Ke[H]},Se.registerRDFParser("application/n-quads",F.parse),Se.registerRDFParser("application/nquads",F.parse),Se.url=m(2651),Se.logEventHandler=Re,Se.logWarningEventHandler=Ie,Se.safeEventHandler=Je,Se.setDefaultEventHandler=qe,Se.strictEventHandler=Le,Se.unhandledEventHandler=Ne,Se.util=S,Object.assign(Se,S),Se.promises=Se,Se.RequestQueue=m(4044),Se.JsonLdProcessor=m(1828)(Se),R.setupGlobals(Se),R.setupDocumentLoaders(Se),Se},ge=function(){return ze(function(){return ge()})};ze(ge),re.exports=ge},9783:(re,q,m)=>{"use strict";const{isKeyword:A}=m(9611),b=m(543),R=m(8254),S=m(3521),P=m(1874),g={};re.exports=g,g.createMergedNodeMap=(y,T)=>{const F=(T=T||{}).issuer||new S.IdentifierIssuer("_:b"),D={"@default":{}};return g.createNodeMap(y,D,"@default",F),g.mergeNodeMaps(D)},g.createNodeMap=(y,T,F,D,B,te)=>{if(R.isArray(y)){for(const Y of y)g.createNodeMap(Y,T,F,D,void 0,te);return}if(!R.isObject(y))return void(te&&te.push(y));if(b.isValue(y)){if("@type"in y){let Y=y["@type"];0===Y.indexOf("_:")&&(y["@type"]=Y=D.getId(Y))}return void(te&&te.push(y))}if(te&&b.isList(y)){const Y=[];return g.createNodeMap(y["@list"],T,F,D,B,Y),void te.push({"@list":Y})}if("@type"in y){const Y=y["@type"];for(const ie of Y)0===ie.indexOf("_:")&&D.getId(ie)}R.isUndefined(B)&&(B=b.isBlankNode(y)?D.getId(y["@id"]):y["@id"]),te&&te.push({"@id":B});const C=T[F],W=C[B]=C[B]||{};W["@id"]=B;const ce=Object.keys(y).sort();for(let Y of ce){if("@id"===Y)continue;if("@reverse"===Y){const ne={"@id":B},X=y["@reverse"];for(const V in X){const v=X[V];for(const U of v){let k=U["@id"];b.isBlankNode(U)&&(k=D.getId(k)),g.createNodeMap(U,T,F,D,k),S.addValue(C[k],V,ne,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===Y){B in T||(T[B]={}),g.createNodeMap(y[Y],T,B,D);continue}if("@included"===Y){g.createNodeMap(y[Y],T,F,D);continue}if("@type"!==Y&&A(Y)){if("@index"===Y&&Y in W&&(y[Y]!==W[Y]||y[Y]["@id"]!==W[Y]["@id"]))throw new P("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:W});W[Y]=y[Y];continue}const ie=y[Y];if(0===Y.indexOf("_:")&&(Y=D.getId(Y)),0!==ie.length)for(let ne of ie)if("@type"===Y&&(ne=0===ne.indexOf("_:")?D.getId(ne):ne),b.isSubject(ne)||b.isSubjectReference(ne)){if("@id"in ne&&!ne["@id"])continue;const X=b.isBlankNode(ne)?D.getId(ne["@id"]):ne["@id"];S.addValue(W,Y,{"@id":X},{propertyIsArray:!0,allowDuplicate:!1}),g.createNodeMap(ne,T,F,D,X)}else if(b.isValue(ne))S.addValue(W,Y,ne,{propertyIsArray:!0,allowDuplicate:!1});else if(b.isList(ne)){const X=[];g.createNodeMap(ne["@list"],T,F,D,B,X),ne={"@list":X},S.addValue(W,Y,ne,{propertyIsArray:!0,allowDuplicate:!1})}else g.createNodeMap(ne,T,F,D,B),S.addValue(W,Y,ne,{propertyIsArray:!0,allowDuplicate:!1});else S.addValue(W,Y,[],{propertyIsArray:!0})}},g.mergeNodeMapGraphs=y=>{const T={};for(const F of Object.keys(y).sort())for(const D of Object.keys(y[F]).sort()){const B=y[F][D];D in T||(T[D]={"@id":D});const te=T[D];for(const C of Object.keys(B).sort())if(A(C)&&"@type"!==C)te[C]=S.clone(B[C]);else for(const W of B[C])S.addValue(te,C,S.clone(W),{propertyIsArray:!0,allowDuplicate:!1})}return T},g.mergeNodeMaps=y=>{const T=y["@default"],F=Object.keys(y).sort();for(const D of F){if("@default"===D)continue;const B=y[D];let te=T[D];te?"@graph"in te||(te["@graph"]=[]):T[D]=te={"@id":D,"@graph":[]};const C=te["@graph"];for(const W of Object.keys(B).sort()){const ce=B[W];b.isSubjectReference(ce)||C.push(ce)}}return T}},8924:(re,q,m)=>{"use strict";const A=m(627),b={};re.exports=b,b.setupDocumentLoaders=function(R){typeof XMLHttpRequest<"u"&&(R.documentLoaders.xhr=A,R.useDocumentLoader("xhr"))},b.setupGlobals=function(R){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:R.JsonLdProcessor})}},240:(re,q,m)=>{"use strict";const{createNodeMap:A}=m(9783),{isKeyword:b}=m(9611),R=m(543),S=m(5041),P=m(1874),g=m(8254),y=m(3521),{handleEvent:T}=m(3855),{RDF_FIRST:F,RDF_REST:D,RDF_NIL:B,RDF_TYPE:te,RDF_JSON_LITERAL:C,RDF_LANGSTRING:W,XSD_BOOLEAN:ce,XSD_DOUBLE:Y,XSD_INTEGER:ie,XSD_STRING:ne}=m(6982),{isAbsolute:X}=m(2651),V={};function v(ue,G,Te,le,we){const Re=Object.keys(G).sort();for(const Ie of Re){const Je=G[Ie],qe=Object.keys(Je).sort();for(let Ee of qe){const Le=Je[Ee];if("@type"===Ee)Ee=te;else if(b(Ee))continue;for(const Ne of Le){const ze={termType:Ie.startsWith("_:")?"BlankNode":"NamedNode",value:Ie};if(!X(Ie)){we.eventHandler&&T({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:Ie}},options:we});continue}const ge={termType:Ee.startsWith("_:")?"BlankNode":"NamedNode",value:Ee};if(!X(Ee)){we.eventHandler&&T({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:Ee}},options:we});continue}if("BlankNode"===ge.termType&&!we.produceGeneralizedRdf){we.eventHandler&&T({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:le.getOldIds().find(Ke=>le.getId(Ke)===Ee)}},options:we});continue}const Se=k(Ne,le,ue,Te,we.rdfDirection,we);Se&&ue.push({subject:ze,predicate:ge,object:Se,graph:Te})}}}}function k(ue,G,Te,le,we,Re){const Ie={};if(R.isValue(ue)){Ie.termType="Literal",Ie.value=void 0,Ie.datatype={termType:"NamedNode"};let Je=ue["@value"];const qe=ue["@type"]||null;if("@json"===qe)Ie.value=S(Je),Ie.datatype.value=C;else if(g.isBoolean(Je))Ie.value=Je.toString(),Ie.datatype.value=qe||ce;else if(g.isDouble(Je)||qe===Y)g.isDouble(Je)||(Je=parseFloat(Je)),Ie.value=Je.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),Ie.datatype.value=qe||Y;else if(g.isNumber(Je))Ie.value=Je.toFixed(0),Ie.datatype.value=qe||ie;else if("@direction"in ue&&"i18n-datatype"===we){const Ee=(ue["@language"]||"").toLowerCase();Ie.datatype.value=`https://www.w3.org/ns/i18n#${Ee}_${ue["@direction"]}`,Ie.value=Je}else{if("@direction"in ue&&"compound-literal"===we)throw new P("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:we});if("@direction"in ue&&we)throw new P("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:we});"@language"in ue?("@direction"in ue&&!we&&Re.eventHandler&&T({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:Ie.value}},options:Re}),Ie.value=Je,Ie.datatype.value=qe||W,Ie.language=ue["@language"]):("@direction"in ue&&!we&&Re.eventHandler&&T({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:Ie.value}},options:Re}),Ie.value=Je,Ie.datatype.value=qe||ne)}}else if(R.isList(ue)){const Je=function U(ue,G,Te,le,we,Re){const Ie={termType:"NamedNode",value:F},Je={termType:"NamedNode",value:D},qe={termType:"NamedNode",value:B},Ee=ue.pop(),Le=Ee?{termType:"BlankNode",value:G.getId()}:qe;let Ne=Le;for(const ze of ue){const ge=k(ze,G,Te,le,we,Re),Se={termType:"BlankNode",value:G.getId()};Te.push({subject:Ne,predicate:Ie,object:ge,graph:le}),Te.push({subject:Ne,predicate:Je,object:Se,graph:le}),Ne=Se}if(Ee){const ze=k(Ee,G,Te,le,we,Re);Te.push({subject:Ne,predicate:Ie,object:ze,graph:le}),Te.push({subject:Ne,predicate:Je,object:qe,graph:le})}return Le}(ue["@list"],G,Te,le,we,Re);Ie.termType=Je.termType,Ie.value=Je.value}else{const Je=g.isObject(ue)?ue["@id"]:ue;Ie.termType=Je.startsWith("_:")?"BlankNode":"NamedNode",Ie.value=Je}return"NamedNode"!==Ie.termType||X(Ie.value)?Ie:(Re.eventHandler&&T({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:Ie.value}},options:Re}),null)}re.exports=V,V.toRDF=(ue,G)=>{const Te=new y.IdentifierIssuer("_:b"),le={"@default":{}};A(ue,le,"@default",Te);const we=[],Re=Object.keys(le).sort();for(const Ie of Re){let Je;if("@default"===Ie)Je={termType:"DefaultGraph",value:""};else{if(!X(Ie)){G.eventHandler&&T({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:Ie}},options:G});continue}Je=Ie.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},Je.value=Ie}v(we,le[Ie],Je,Te,G)}return we}},8254:re=>{"use strict";const q={};re.exports=q,q.isArray=Array.isArray,q.isBoolean=m=>"boolean"==typeof m||"[object Boolean]"===Object.prototype.toString.call(m),q.isDouble=m=>q.isNumber(m)&&(-1!==String(m).indexOf(".")||Math.abs(m)>=1e21),q.isEmptyObject=m=>q.isObject(m)&&0===Object.keys(m).length,q.isNumber=m=>"number"==typeof m||"[object Number]"===Object.prototype.toString.call(m),q.isNumeric=m=>!isNaN(parseFloat(m))&&isFinite(m),q.isObject=m=>"[object Object]"===Object.prototype.toString.call(m),q.isString=m=>"string"==typeof m||"[object String]"===Object.prototype.toString.call(m),q.isUndefined=m=>typeof m>"u"},2651:(re,q,m)=>{"use strict";const A=m(8254),b={};re.exports=b,b.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},b.parse=(S,P)=>{const g={},y=b.parsers[P||"full"],T=y.regex.exec(S);let F=y.keys.length;for(;F--;)g[y.keys[F]]=void 0===T[F]?null:T[F];return("https"===g.scheme&&"443"===g.port||"http"===g.scheme&&"80"===g.port)&&(g.href=g.href.replace(":"+g.port,""),g.authority=g.authority.replace(":"+g.port,""),g.port=null),g.normalizedPath=b.removeDotSegments(g.path),g},b.prependBase=(S,P)=>{if(null===S||b.isAbsolute(P))return P;(!S||A.isString(S))&&(S=b.parse(S||""));const g=b.parse(P),y={protocol:S.protocol||""};if(null!==g.authority)y.authority=g.authority,y.path=g.path,y.query=g.query;else if(y.authority=S.authority,""===g.path)y.path=S.path,y.query=null!==g.query?g.query:S.query;else{if(0===g.path.indexOf("/"))y.path=g.path;else{let F=S.path;F=F.substr(0,F.lastIndexOf("/")+1),(F.length>0||S.authority)&&"/"!==F.substr(-1)&&(F+="/"),F+=g.path,y.path=F}y.query=g.query}""!==g.path&&(y.path=b.removeDotSegments(y.path));let T=y.protocol;return null!==y.authority&&(T+="//"+y.authority),T+=y.path,null!==y.query&&(T+="?"+y.query),null!==g.fragment&&(T+="#"+g.fragment),""===T&&(T="./"),T},b.removeBase=(S,P)=>{if(null===S)return P;(!S||A.isString(S))&&(S=b.parse(S||""));let g="";if(""!==S.href?g+=(S.protocol||"")+"//"+(S.authority||""):P.indexOf("//")&&(g+="//"),0!==P.indexOf(g))return P;const y=b.parse(P.substr(g.length)),T=S.normalizedPath.split("/"),F=y.normalizedPath.split("/"),D=y.fragment||y.query?0:1;for(;T.length>0&&F.length>D&&T[0]===F[0];)T.shift(),F.shift();let B="";if(T.length>0){T.pop();for(let te=0;te<T.length;++te)B+="../"}return B+=F.join("/"),null!==y.query&&(B+="?"+y.query),null!==y.fragment&&(B+="#"+y.fragment),""===B&&(B="./"),B},b.removeDotSegments=S=>{if(0===S.length)return"";const P=S.split("/"),g=[];for(;P.length>0;){const y=P.shift(),T=0===P.length;"."!==y?".."!==y?g.push(y):(g.pop(),T&&g.push("")):T&&g.push("")}return"/"===S[0]&&g.length>0&&""!==g[0]&&g.unshift(""),1===g.length&&""===g[0]?"/":g.join("/")};const R=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;b.isAbsolute=S=>A.isString(S)&&R.test(S),b.isRelative=S=>A.isString(S)},3521:(re,q,m)=>{"use strict";const A=m(543),b=m(8254),R=m(1986).IdentifierIssuer,S=m(1874),g=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,y=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,T=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,D_headers_accept="application/ld+json, application/json",B={};function te(C,W){if(b.isArray(W))for(let ce=0;ce<W.length;++ce)W[ce]=te(C,W[ce]);else if(A.isList(W))W["@list"]=te(C,W["@list"]);else if(b.isObject(W)){A.isBlankNode(W)&&(W["@id"]=C.getId(W["@id"]));const ce=Object.keys(W).sort();for(let Y=0;Y<ce.length;++Y){const ie=ce[Y];"@id"!==ie&&(W[ie]=te(C,W[ie]))}}return W}re.exports=B,B.IdentifierIssuer=R,B.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,B.REGEX_KEYWORD=/^@[a-zA-Z]+$/,B.clone=function(C){if(C&&"object"==typeof C){let W;if(b.isArray(C)){W=[];for(let ce=0;ce<C.length;++ce)W[ce]=B.clone(C[ce])}else if(C instanceof Map){W=new Map;for(const[ce,Y]of C)W.set(ce,B.clone(Y))}else if(C instanceof Set){W=new Set;for(const ce of C)W.add(B.clone(ce))}else if(b.isObject(C)){W={};for(const ce in C)W[ce]=B.clone(C[ce])}else W=C.toString();return W}return C},B.asArray=function(C){return Array.isArray(C)?C:[C]},B.buildHeaders=(C={})=>{if(Object.keys(C).some(ce=>"accept"===ce.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+D_headers_accept+'" is supported.');return Object.assign({Accept:D_headers_accept},C)},B.parseLinkHeader=C=>{const W={},ce=C.match(g);for(let Y=0;Y<ce.length;++Y){let ie=ce[Y].match(y);if(!ie)continue;const ne={target:ie[1]},X=ie[2];for(;ie=T.exec(X);)ne[ie[1]]=void 0===ie[2]?ie[3]:ie[2];const V=ne.rel||"";Array.isArray(W[V])?W[V].push(ne):W[V]=W.hasOwnProperty(V)?[W[V],ne]:ne}return W},B.validateTypeValue=(C,W)=>{if(!(b.isString(C)||b.isArray(C)&&C.every(ce=>b.isString(ce)))){if(W&&b.isObject(C))switch(Object.keys(C).length){case 0:return;case 1:if("@default"in C&&B.asArray(C["@default"]).every(ce=>b.isString(ce)))return}throw new S('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:C})}},B.hasProperty=(C,W)=>{if(C.hasOwnProperty(W)){const ce=C[W];return!b.isArray(ce)||ce.length>0}return!1},B.hasValue=(C,W,ce)=>{if(B.hasProperty(C,W)){let Y=C[W];const ie=A.isList(Y);if(b.isArray(Y)||ie){ie&&(Y=Y["@list"]);for(let ne=0;ne<Y.length;++ne)if(B.compareValues(ce,Y[ne]))return!0}else if(!b.isArray(ce))return B.compareValues(ce,Y)}return!1},B.addValue=(C,W,ce,Y)=>{if("propertyIsArray"in(Y=Y||{})||(Y.propertyIsArray=!1),"valueIsArray"in Y||(Y.valueIsArray=!1),"allowDuplicate"in Y||(Y.allowDuplicate=!0),"prependValue"in Y||(Y.prependValue=!1),Y.valueIsArray)C[W]=ce;else if(b.isArray(ce)){0===ce.length&&Y.propertyIsArray&&!C.hasOwnProperty(W)&&(C[W]=[]),Y.prependValue&&(ce=ce.concat(C[W]),C[W]=[]);for(let ie=0;ie<ce.length;++ie)B.addValue(C,W,ce[ie],Y)}else if(C.hasOwnProperty(W)){const ie=!Y.allowDuplicate&&B.hasValue(C,W,ce);!b.isArray(C[W])&&(!ie||Y.propertyIsArray)&&(C[W]=[C[W]]),ie||(Y.prependValue?C[W].unshift(ce):C[W].push(ce))}else C[W]=Y.propertyIsArray?[ce]:ce},B.getValues=(C,W)=>[].concat(C[W]||[]),B.removeProperty=(C,W)=>{delete C[W]},B.removeValue=(C,W,ce,Y)=>{"propertyIsArray"in(Y=Y||{})||(Y.propertyIsArray=!1);const ie=B.getValues(C,W).filter(ne=>!B.compareValues(ne,ce));0===ie.length?B.removeProperty(C,W):C[W]=1!==ie.length||Y.propertyIsArray?ie:ie[0]},B.relabelBlankNodes=(C,W)=>te((W=W||{}).issuer||new R("_:b"),C),B.compareValues=(C,W)=>!!(C===W||A.isValue(C)&&A.isValue(W)&&C["@value"]===W["@value"]&&C["@type"]===W["@type"]&&C["@language"]===W["@language"]&&C["@index"]===W["@index"])||!!(b.isObject(C)&&"@id"in C&&b.isObject(W)&&"@id"in W)&&C["@id"]===W["@id"],B.compareShortestLeast=(C,W)=>C.length<W.length?-1:W.length<C.length?1:C===W?0:C<W?-1:1},5041:re=>{"use strict";re.exports=function q(m){return null===m||"object"!=typeof m||null!=m.toJSON?JSON.stringify(m):Array.isArray(m)?"["+m.reduce((A,b,R)=>A+(0===R?"":",")+q(void 0===b||"symbol"==typeof b?null:b),"")+"]":"{"+Object.keys(m).sort().reduce((A,b,R)=>void 0===m[b]||"symbol"==typeof m[b]?A:A+(0===A.length?"":",")+q(b)+":"+q(m[b]),"")+"}"}},1072:(re,q,m)=>{"use strict";const A=m(4439),b=Symbol("max"),R=Symbol("length"),S=Symbol("lengthCalculator"),P=Symbol("allowStale"),g=Symbol("maxAge"),y=Symbol("dispose"),T=Symbol("noDisposeOnSet"),F=Symbol("lruList"),D=Symbol("cache"),B=Symbol("updateAgeOnGet"),te=()=>1,W=(V,v,U)=>{const k=V[D].get(v);if(k){const ue=k.value;if(ce(V,ue)){if(ie(V,k),!V[P])return}else U&&(V[B]&&(k.value.now=Date.now()),V[F].unshiftNode(k));return ue.value}},ce=(V,v)=>{if(!v||!v.maxAge&&!V[g])return!1;const U=Date.now()-v.now;return v.maxAge?U>v.maxAge:V[g]&&U>V[g]},Y=V=>{if(V[R]>V[b])for(let v=V[F].tail;V[R]>V[b]&&null!==v;){const U=v.prev;ie(V,v),v=U}},ie=(V,v)=>{if(v){const U=v.value;V[y]&&V[y](U.key,U.value),V[R]-=U.length,V[D].delete(U.key),V[F].removeNode(v)}};class ne{constructor(v,U,k,ue,G){this.key=v,this.value=U,this.length=k,this.now=ue,this.maxAge=G||0}}const X=(V,v,U,k)=>{let ue=U.value;ce(V,ue)&&(ie(V,U),V[P]||(ue=void 0)),ue&&v.call(k,ue.value,ue.key,V)};re.exports=class C{constructor(v){if("number"==typeof v&&(v={max:v}),v||(v={}),v.max&&("number"!=typeof v.max||v.max<0))throw new TypeError("max must be a non-negative number");this[b]=v.max||1/0;const k=v.length||te;if(this[S]="function"!=typeof k?te:k,this[P]=v.stale||!1,v.maxAge&&"number"!=typeof v.maxAge)throw new TypeError("maxAge must be a number");this[g]=v.maxAge||0,this[y]=v.dispose,this[T]=v.noDisposeOnSet||!1,this[B]=v.updateAgeOnGet||!1,this.reset()}set max(v){if("number"!=typeof v||v<0)throw new TypeError("max must be a non-negative number");this[b]=v||1/0,Y(this)}get max(){return this[b]}set allowStale(v){this[P]=!!v}get allowStale(){return this[P]}set maxAge(v){if("number"!=typeof v)throw new TypeError("maxAge must be a non-negative number");this[g]=v,Y(this)}get maxAge(){return this[g]}set lengthCalculator(v){"function"!=typeof v&&(v=te),v!==this[S]&&(this[S]=v,this[R]=0,this[F].forEach(U=>{U.length=this[S](U.value,U.key),this[R]+=U.length})),Y(this)}get lengthCalculator(){return this[S]}get length(){return this[R]}get itemCount(){return this[F].length}rforEach(v,U){U=U||this;for(let k=this[F].tail;null!==k;){const ue=k.prev;X(this,v,k,U),k=ue}}forEach(v,U){U=U||this;for(let k=this[F].head;null!==k;){const ue=k.next;X(this,v,k,U),k=ue}}keys(){return this[F].toArray().map(v=>v.key)}values(){return this[F].toArray().map(v=>v.value)}reset(){this[y]&&this[F]&&this[F].length&&this[F].forEach(v=>this[y](v.key,v.value)),this[D]=new Map,this[F]=new A,this[R]=0}dump(){return this[F].map(v=>!ce(this,v)&&{k:v.key,v:v.value,e:v.now+(v.maxAge||0)}).toArray().filter(v=>v)}dumpLru(){return this[F]}set(v,U,k){if((k=k||this[g])&&"number"!=typeof k)throw new TypeError("maxAge must be a number");const ue=k?Date.now():0,G=this[S](U,v);if(this[D].has(v)){if(G>this[b])return ie(this,this[D].get(v)),!1;const we=this[D].get(v).value;return this[y]&&(this[T]||this[y](v,we.value)),we.now=ue,we.maxAge=k,we.value=U,this[R]+=G-we.length,we.length=G,this.get(v),Y(this),!0}const Te=new ne(v,U,G,ue,k);return Te.length>this[b]?(this[y]&&this[y](v,U),!1):(this[R]+=Te.length,this[F].unshift(Te),this[D].set(v,this[F].head),Y(this),!0)}has(v){if(!this[D].has(v))return!1;const U=this[D].get(v).value;return!ce(this,U)}get(v){return W(this,v,!0)}peek(v){return W(this,v,!1)}pop(){const v=this[F].tail;return v?(ie(this,v),v.value):null}del(v){ie(this,this[D].get(v))}load(v){this.reset();const U=Date.now();for(let k=v.length-1;k>=0;k--){const ue=v[k],G=ue.e||0;if(0===G)this.set(ue.k,ue.v);else{const Te=G-U;Te>0&&this.set(ue.k,ue.v,Te)}}}prune(){this[D].forEach((v,U)=>W(this,U,!1))}}},6506:(re,q,m)=>{var R=m(8745)(m(8492),"DataView");re.exports=R},9618:(re,q,m)=>{var A=m(5602),b=m(1499),R=m(2990),S=m(480),P=m(4469);function g(y){var T=-1,F=null==y?0:y.length;for(this.clear();++T<F;){var D=y[T];this.set(D[0],D[1])}}g.prototype.clear=A,g.prototype.delete=b,g.prototype.get=R,g.prototype.has=S,g.prototype.set=P,re.exports=g},3597:(re,q,m)=>{var A=m(9365),b=m(9343),R=m(4779),S=m(1509),P=m(7137);function g(y){var T=-1,F=null==y?0:y.length;for(this.clear();++T<F;){var D=y[T];this.set(D[0],D[1])}}g.prototype.clear=A,g.prototype.delete=b,g.prototype.get=R,g.prototype.has=S,g.prototype.set=P,re.exports=g},1136:(re,q,m)=>{var R=m(8745)(m(8492),"Map");re.exports=R},1811:(re,q,m)=>{var A=m(3413),b=m(5419),R=m(7253),S=m(1115),P=m(6648);function g(y){var T=-1,F=null==y?0:y.length;for(this.clear();++T<F;){var D=y[T];this.set(D[0],D[1])}}g.prototype.clear=A,g.prototype.delete=b,g.prototype.get=R,g.prototype.has=S,g.prototype.set=P,re.exports=g},641:(re,q,m)=>{var R=m(8745)(m(8492),"Promise");re.exports=R},1732:(re,q,m)=>{var R=m(8745)(m(8492),"Set");re.exports=R},5960:(re,q,m)=>{var A=m(1811),b=m(6151),R=m(2154);function S(P){var g=-1,y=null==P?0:P.length;for(this.__data__=new A;++g<y;)this.add(P[g])}S.prototype.add=S.prototype.push=b,S.prototype.has=R,re.exports=S},1339:(re,q,m)=>{var A=m(3597),b=m(9488),R=m(5943),S=m(5456),P=m(4793),g=m(8689);function y(T){var F=this.__data__=new A(T);this.size=F.size}y.prototype.clear=b,y.prototype.delete=R,y.prototype.get=S,y.prototype.has=P,y.prototype.set=g,re.exports=y},1763:(re,q,m)=>{var A=m(8492);re.exports=A.Symbol},2760:(re,q,m)=>{var A=m(8492);re.exports=A.Uint8Array},6413:(re,q,m)=>{var R=m(8745)(m(8492),"WeakMap");re.exports=R},7910:re=>{re.exports=function q(m,A,b){switch(b.length){case 0:return m.call(A);case 1:return m.call(A,b[0]);case 2:return m.call(A,b[0],b[1]);case 3:return m.call(A,b[0],b[1],b[2])}return m.apply(A,b)}},2134:re=>{re.exports=function q(m,A){for(var b=-1,R=null==m?0:m.length,S=0,P=[];++b<R;){var g=m[b];A(g,b,m)&&(P[S++]=g)}return P}},1384:(re,q,m)=>{var A=m(5025),b=m(1955),R=m(2261),S=m(7525),P=m(5188),g=m(4868),T=Object.prototype.hasOwnProperty;re.exports=function F(D,B){var te=R(D),C=!te&&b(D),W=!te&&!C&&S(D),ce=!te&&!C&&!W&&g(D),Y=te||C||W||ce,ie=Y?A(D.length,String):[],ne=ie.length;for(var X in D)(B||T.call(D,X))&&(!Y||!("length"==X||W&&("offset"==X||"parent"==X)||ce&&("buffer"==X||"byteLength"==X||"byteOffset"==X)||P(X,ne)))&&ie.push(X);return ie}},3880:re=>{re.exports=function q(m,A){for(var b=-1,R=null==m?0:m.length,S=Array(R);++b<R;)S[b]=A(m[b],b,m);return S}},7853:re=>{re.exports=function q(m,A){for(var b=-1,R=A.length,S=m.length;++b<R;)m[S+b]=A[b];return m}},5916:re=>{re.exports=function q(m,A){for(var b=-1,R=null==m?0:m.length;++b<R;)if(A(m[b],b,m))return!0;return!1}},4056:(re,q,m)=>{var A=m(7826);re.exports=function b(R,S){for(var P=R.length;P--;)if(A(R[P][0],S))return P;return-1}},5103:(re,q,m)=>{var A=m(7794),R=m(9386)(A);re.exports=R},1883:(re,q,m)=>{var A=m(7853),b=m(2241);re.exports=function R(S,P,g,y,T){var F=-1,D=S.length;for(g||(g=b),T||(T=[]);++F<D;){var B=S[F];P>0&&g(B)?P>1?R(B,P-1,g,y,T):A(T,B):y||(T[T.length]=B)}return T}},6483:(re,q,m)=>{var b=m(2086)();re.exports=b},7794:(re,q,m)=>{var A=m(6483),b=m(4614);re.exports=function R(S,P){return S&&A(S,P,b)}},2202:(re,q,m)=>{var A=m(4826),b=m(8916);re.exports=function R(S,P){for(var g=0,y=(P=A(P,S)).length;null!=S&&g<y;)S=S[b(P[g++])];return g&&g==y?S:void 0}},7427:(re,q,m)=>{var A=m(7853),b=m(2261);re.exports=function R(S,P,g){var y=P(S);return b(S)?y:A(y,g(S))}},4590:(re,q,m)=>{var A=m(1763),b=m(5933),R=m(9243),g=A?A.toStringTag:void 0;re.exports=function y(T){return null==T?void 0===T?"[object Undefined]":"[object Null]":g&&g in Object(T)?b(T):R(T)}},3274:re=>{re.exports=function q(m,A){return null!=m&&A in Object(m)}},3022:(re,q,m)=>{var A=m(4590),b=m(3714);re.exports=function S(P){return b(P)&&"[object Arguments]"==A(P)}},7108:(re,q,m)=>{var A=m(7946),b=m(3714);re.exports=function R(S,P,g,y,T){return S===P||(null==S||null==P||!b(S)&&!b(P)?S!=S&&P!=P:A(S,P,g,y,R,T))}},7946:(re,q,m)=>{var A=m(1339),b=m(7469),R=m(1642),S=m(9462),P=m(2472),g=m(2261),y=m(7525),T=m(4868),D="[object Arguments]",B="[object Array]",te="[object Object]",W=Object.prototype.hasOwnProperty;re.exports=function ce(Y,ie,ne,X,V,v){var U=g(Y),k=g(ie),ue=U?B:P(Y),G=k?B:P(ie),Te=(ue=ue==D?te:ue)==te,le=(G=G==D?te:G)==te,we=ue==G;if(we&&y(Y)){if(!y(ie))return!1;U=!0,Te=!1}if(we&&!Te)return v||(v=new A),U||T(Y)?b(Y,ie,ne,X,V,v):R(Y,ie,ue,ne,X,V,v);if(!(1&ne)){var Re=Te&&W.call(Y,"__wrapped__"),Ie=le&&W.call(ie,"__wrapped__");if(Re||Ie){var Je=Re?Y.value():Y,qe=Ie?ie.value():ie;return v||(v=new A),V(Je,qe,ne,X,v)}}return!!we&&(v||(v=new A),S(Y,ie,ne,X,V,v))}},2527:(re,q,m)=>{var A=m(1339),b=m(7108);re.exports=function P(g,y,T,F){var D=T.length,B=D,te=!F;if(null==g)return!B;for(g=Object(g);D--;){var C=T[D];if(te&&C[2]?C[1]!==g[C[0]]:!(C[0]in g))return!1}for(;++D<B;){var W=(C=T[D])[0],ce=g[W],Y=C[1];if(te&&C[2]){if(void 0===ce&&!(W in g))return!1}else{var ie=new A;if(F)var ne=F(ce,Y,W,g,y,ie);if(!(void 0===ne?b(Y,ce,3,F,ie):ne))return!1}}return!0}},1082:(re,q,m)=>{var A=m(6861),b=m(9950),R=m(9794),S=m(7075),g=/^\[object .+?Constructor\]$/,B=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");re.exports=function te(C){return!(!R(C)||b(C))&&(A(C)?B:g).test(S(C))}},8902:(re,q,m)=>{var A=m(4590),b=m(7765),R=m(3714),we={};we["[object Float32Array]"]=we["[object Float64Array]"]=we["[object Int8Array]"]=we["[object Int16Array]"]=we["[object Int32Array]"]=we["[object Uint8Array]"]=we["[object Uint8ClampedArray]"]=we["[object Uint16Array]"]=we["[object Uint32Array]"]=!0,we["[object Arguments]"]=we["[object Array]"]=we["[object ArrayBuffer]"]=we["[object Boolean]"]=we["[object DataView]"]=we["[object Date]"]=we["[object Error]"]=we["[object Function]"]=we["[object Map]"]=we["[object Number]"]=we["[object Object]"]=we["[object RegExp]"]=we["[object Set]"]=we["[object String]"]=we["[object WeakMap]"]=!1,re.exports=function Re(Ie){return R(Ie)&&b(Ie.length)&&!!we[A(Ie)]}},1627:(re,q,m)=>{var A=m(2924),b=m(8526),R=m(5657),S=m(2261),P=m(2692);re.exports=function g(y){return"function"==typeof y?y:null==y?R:"object"==typeof y?S(y)?b(y[0],y[1]):A(y):P(y)}},190:(re,q,m)=>{var A=m(6587),b=m(366),S=Object.prototype.hasOwnProperty;re.exports=function P(g){if(!A(g))return b(g);var y=[];for(var T in Object(g))S.call(g,T)&&"constructor"!=T&&y.push(T);return y}},2839:(re,q,m)=>{var A=m(5103),b=m(2447);re.exports=function R(S,P){var g=-1,y=b(S)?Array(S.length):[];return A(S,function(T,F,D){y[++g]=P(T,F,D)}),y}},2924:(re,q,m)=>{var A=m(2527),b=m(7895),R=m(2265);re.exports=function S(P){var g=b(P);return 1==g.length&&g[0][2]?R(g[0][0],g[0][1]):function(y){return y===P||A(y,P,g)}}},8526:(re,q,m)=>{var A=m(7108),b=m(5440),R=m(2494),S=m(6300),P=m(3921),g=m(2265),y=m(8916);re.exports=function D(B,te){return S(B)&&P(te)?g(y(B),te):function(C){var W=b(C,B);return void 0===W&&W===te?R(C,B):A(te,W,3)}}},252:(re,q,m)=>{var A=m(3880),b=m(2202),R=m(1627),S=m(2839),P=m(6389),g=m(1156),y=m(9664),T=m(5657),F=m(2261);re.exports=function D(B,te,C){te=te.length?A(te,function(Y){return F(Y)?function(ie){return b(ie,1===Y.length?Y[0]:Y)}:Y}):[T];var W=-1;te=A(te,g(R));var ce=S(B,function(Y,ie,ne){return{criteria:A(te,function(V){return V(Y)}),index:++W,value:Y}});return P(ce,function(Y,ie){return y(Y,ie,C)})}},3400:re=>{re.exports=function q(m){return function(A){return A?.[m]}}},6443:(re,q,m)=>{var A=m(2202);re.exports=function b(R){return function(S){return A(S,R)}}},8951:(re,q,m)=>{var A=m(5657),b=m(2394),R=m(6814);re.exports=function S(P,g){return R(b(P,g,A),P+"")}},8235:(re,q,m)=>{var A=m(1075),b=m(9383),R=m(5657);re.exports=b?function(P,g){return b(P,"toString",{configurable:!0,enumerable:!1,value:A(g),writable:!0})}:R},6389:re=>{re.exports=function q(m,A){var b=m.length;for(m.sort(A);b--;)m[b]=m[b].value;return m}},5025:re=>{re.exports=function q(m,A){for(var b=-1,R=Array(m);++b<m;)R[b]=A(b);return R}},7002:(re,q,m)=>{var A=m(1763),b=m(3880),R=m(2261),S=m(3423),g=A?A.prototype:void 0,y=g?g.toString:void 0;re.exports=function T(F){if("string"==typeof F)return F;if(R(F))return b(F,T)+"";if(S(F))return y?y.call(F):"";var D=F+"";return"0"==D&&1/F==-1/0?"-0":D}},1156:re=>{re.exports=function q(m){return function(A){return m(A)}}},4795:re=>{re.exports=function q(m,A){return m.has(A)}},4826:(re,q,m)=>{var A=m(2261),b=m(6300),R=m(163),S=m(2674);re.exports=function P(g,y){return A(g)?g:b(g,y)?[g]:R(S(g))}},5400:(re,q,m)=>{var A=m(3423);re.exports=function b(R,S){if(R!==S){var P=void 0!==R,g=null===R,y=R==R,T=A(R),F=void 0!==S,D=null===S,B=S==S,te=A(S);if(!D&&!te&&!T&&R>S||T&&F&&B&&!D&&!te||g&&F&&B||!P&&B||!y)return 1;if(!g&&!T&&!te&&R<S||te&&P&&y&&!g&&!T||D&&P&&y||!F&&y||!B)return-1}return 0}},9664:(re,q,m)=>{var A=m(5400);re.exports=function b(R,S,P){for(var g=-1,y=R.criteria,T=S.criteria,F=y.length,D=P.length;++g<F;){var B=A(y[g],T[g]);if(B)return g>=D?B:B*("desc"==P[g]?-1:1)}return R.index-S.index}},6189:(re,q,m)=>{var A=m(8492);re.exports=A["__core-js_shared__"]},9386:(re,q,m)=>{var A=m(2447);re.exports=function b(R,S){return function(P,g){if(null==P)return P;if(!A(P))return R(P,g);for(var y=P.length,T=S?y:-1,F=Object(P);(S?T--:++T<y)&&!1!==g(F[T],T,F););return P}}},2086:re=>{re.exports=function q(m){return function(A,b,R){for(var S=-1,P=Object(A),g=R(A),y=g.length;y--;){var T=g[m?y:++S];if(!1===b(P[T],T,P))break}return A}}},9383:(re,q,m)=>{var A=m(8745),b=function(){try{var R=A(Object,"defineProperty");return R({},"",{}),R}catch{}}();re.exports=b},7469:(re,q,m)=>{var A=m(5960),b=m(5916),R=m(4795);re.exports=function g(y,T,F,D,B,te){var C=1&F,W=y.length,ce=T.length;if(W!=ce&&!(C&&ce>W))return!1;var Y=te.get(y),ie=te.get(T);if(Y&&ie)return Y==T&&ie==y;var ne=-1,X=!0,V=2&F?new A:void 0;for(te.set(y,T),te.set(T,y);++ne<W;){var v=y[ne],U=T[ne];if(D)var k=C?D(U,v,ne,T,y,te):D(v,U,ne,y,T,te);if(void 0!==k){if(k)continue;X=!1;break}if(V){if(!b(T,function(ue,G){if(!R(V,G)&&(v===ue||B(v,ue,F,D,te)))return V.push(G)})){X=!1;break}}else if(v!==U&&!B(v,U,F,D,te)){X=!1;break}}return te.delete(y),te.delete(T),X}},1642:(re,q,m)=>{var A=m(1763),b=m(2760),R=m(7826),S=m(7469),P=m(1575),g=m(8e3),V=A?A.prototype:void 0,v=V?V.valueOf:void 0;re.exports=function U(k,ue,G,Te,le,we,Re){switch(G){case"[object DataView]":if(k.byteLength!=ue.byteLength||k.byteOffset!=ue.byteOffset)return!1;k=k.buffer,ue=ue.buffer;case"[object ArrayBuffer]":return!(k.byteLength!=ue.byteLength||!we(new b(k),new b(ue)));case"[object Boolean]":case"[object Date]":case"[object Number]":return R(+k,+ue);case"[object Error]":return k.name==ue.name&&k.message==ue.message;case"[object RegExp]":case"[object String]":return k==ue+"";case"[object Map]":var Ie=P;case"[object Set]":if(Ie||(Ie=g),k.size!=ue.size&&!(1&Te))return!1;var qe=Re.get(k);if(qe)return qe==ue;Te|=2,Re.set(k,ue);var Ee=S(Ie(k),Ie(ue),Te,le,we,Re);return Re.delete(k),Ee;case"[object Symbol]":if(v)return v.call(k)==v.call(ue)}return!1}},9462:(re,q,m)=>{var A=m(6131),S=Object.prototype.hasOwnProperty;re.exports=function P(g,y,T,F,D,B){var te=1&T,C=A(g),W=C.length;if(W!=A(y).length&&!te)return!1;for(var ie=W;ie--;){var ne=C[ie];if(!(te?ne in y:S.call(y,ne)))return!1}var X=B.get(g),V=B.get(y);if(X&&V)return X==y&&V==g;var v=!0;B.set(g,y),B.set(y,g);for(var U=te;++ie<W;){var k=g[ne=C[ie]],ue=y[ne];if(F)var G=te?F(ue,k,ne,y,g,B):F(k,ue,ne,g,y,B);if(!(void 0===G?k===ue||D(k,ue,T,F,B):G)){v=!1;break}U||(U="constructor"==ne)}if(v&&!U){var Te=g.constructor,le=y.constructor;Te!=le&&"constructor"in g&&"constructor"in y&&!("function"==typeof Te&&Te instanceof Te&&"function"==typeof le&&le instanceof le)&&(v=!1)}return B.delete(g),B.delete(y),v}},248:re=>{var q="object"==typeof global&&global&&global.Object===Object&&global;re.exports=q},6131:(re,q,m)=>{var A=m(7427),b=m(771),R=m(4614);re.exports=function S(P){return A(P,R,b)}},4113:(re,q,m)=>{var A=m(29);re.exports=function b(R,S){var P=R.__data__;return A(S)?P["string"==typeof S?"string":"hash"]:P.map}},7895:(re,q,m)=>{var A=m(3921),b=m(4614);re.exports=function R(S){for(var P=b(S),g=P.length;g--;){var y=P[g],T=S[y];P[g]=[y,T,A(T)]}return P}},8745:(re,q,m)=>{var A=m(1082),b=m(1015);re.exports=function R(S,P){var g=b(S,P);return A(g)?g:void 0}},5933:(re,q,m)=>{var A=m(1763),b=Object.prototype,R=b.hasOwnProperty,S=b.toString,P=A?A.toStringTag:void 0;re.exports=function g(y){var T=R.call(y,P),F=y[P];try{y[P]=void 0;var D=!0}catch{}var B=S.call(y);return D&&(T?y[P]=F:delete y[P]),B}},771:(re,q,m)=>{var A=m(2134),b=m(1315),S=Object.prototype.propertyIsEnumerable,P=Object.getOwnPropertySymbols;re.exports=P?function(y){return null==y?[]:(y=Object(y),A(P(y),function(T){return S.call(y,T)}))}:b},2472:(re,q,m)=>{var A=m(6506),b=m(1136),R=m(641),S=m(1732),P=m(6413),g=m(4590),y=m(7075),T="[object Map]",D="[object Promise]",B="[object Set]",te="[object WeakMap]",C="[object DataView]",W=y(A),ce=y(b),Y=y(R),ie=y(S),ne=y(P),X=g;(A&&X(new A(new ArrayBuffer(1)))!=C||b&&X(new b)!=T||R&&X(R.resolve())!=D||S&&X(new S)!=B||P&&X(new P)!=te)&&(X=function(V){var v=g(V),U="[object Object]"==v?V.constructor:void 0,k=U?y(U):"";if(k)switch(k){case W:return C;case ce:return T;case Y:return D;case ie:return B;case ne:return te}return v}),re.exports=X},1015:re=>{re.exports=function q(m,A){return m?.[A]}},4583:(re,q,m)=>{var A=m(4826),b=m(1955),R=m(2261),S=m(5188),P=m(7765),g=m(8916);re.exports=function y(T,F,D){for(var B=-1,te=(F=A(F,T)).length,C=!1;++B<te;){var W=g(F[B]);if(!(C=null!=T&&D(T,W)))break;T=T[W]}return C||++B!=te?C:!!(te=null==T?0:T.length)&&P(te)&&S(W,te)&&(R(T)||b(T))}},5602:(re,q,m)=>{var A=m(893);re.exports=function b(){this.__data__=A?A(null):{},this.size=0}},1499:re=>{re.exports=function q(m){var A=this.has(m)&&delete this.__data__[m];return this.size-=A?1:0,A}},2990:(re,q,m)=>{var A=m(893),S=Object.prototype.hasOwnProperty;re.exports=function P(g){var y=this.__data__;if(A){var T=y[g];return"__lodash_hash_undefined__"===T?void 0:T}return S.call(y,g)?y[g]:void 0}},480:(re,q,m)=>{var A=m(893),R=Object.prototype.hasOwnProperty;re.exports=function S(P){var g=this.__data__;return A?void 0!==g[P]:R.call(g,P)}},4469:(re,q,m)=>{var A=m(893);re.exports=function R(S,P){var g=this.__data__;return this.size+=this.has(S)?0:1,g[S]=A&&void 0===P?"__lodash_hash_undefined__":P,this}},2241:(re,q,m)=>{var A=m(1763),b=m(1955),R=m(2261),S=A?A.isConcatSpreadable:void 0;re.exports=function P(g){return R(g)||b(g)||!!(S&&g&&g[S])}},5188:re=>{var m=/^(?:0|[1-9]\d*)$/;re.exports=function A(b,R){var S=typeof b;return!!(R=R??9007199254740991)&&("number"==S||"symbol"!=S&&m.test(b))&&b>-1&&b%1==0&&b<R}},3817:(re,q,m)=>{var A=m(7826),b=m(2447),R=m(5188),S=m(9794);re.exports=function P(g,y,T){if(!S(T))return!1;var F=typeof y;return!!("number"==F?b(T)&&R(y,T.length):"string"==F&&y in T)&&A(T[y],g)}},6300:(re,q,m)=>{var A=m(2261),b=m(3423),R=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/;re.exports=function P(g,y){if(A(g))return!1;var T=typeof g;return!("number"!=T&&"symbol"!=T&&"boolean"!=T&&null!=g&&!b(g))||S.test(g)||!R.test(g)||null!=y&&g in Object(y)}},29:re=>{re.exports=function q(m){var A=typeof m;return"string"==A||"number"==A||"symbol"==A||"boolean"==A?"__proto__"!==m:null===m}},9950:(re,q,m)=>{var S,A=m(6189),b=(S=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"";re.exports=function R(S){return!!b&&b in S}},6587:re=>{var q=Object.prototype;re.exports=function m(A){var b=A&&A.constructor;return A===("function"==typeof b&&b.prototype||q)}},3921:(re,q,m)=>{var A=m(9794);re.exports=function b(R){return R==R&&!A(R)}},9365:re=>{re.exports=function q(){this.__data__=[],this.size=0}},9343:(re,q,m)=>{var A=m(4056),R=Array.prototype.splice;re.exports=function S(P){var g=this.__data__,y=A(g,P);return!(y<0||(y==g.length-1?g.pop():R.call(g,y,1),--this.size,0))}},4779:(re,q,m)=>{var A=m(4056);re.exports=function b(R){var S=this.__data__,P=A(S,R);return P<0?void 0:S[P][1]}},1509:(re,q,m)=>{var A=m(4056);re.exports=function b(R){return A(this.__data__,R)>-1}},7137:(re,q,m)=>{var A=m(4056);re.exports=function b(R,S){var P=this.__data__,g=A(P,R);return g<0?(++this.size,P.push([R,S])):P[g][1]=S,this}},3413:(re,q,m)=>{var A=m(9618),b=m(3597),R=m(1136);re.exports=function S(){this.size=0,this.__data__={hash:new A,map:new(R||b),string:new A}}},5419:(re,q,m)=>{var A=m(4113);re.exports=function b(R){var S=A(this,R).delete(R);return this.size-=S?1:0,S}},7253:(re,q,m)=>{var A=m(4113);re.exports=function b(R){return A(this,R).get(R)}},1115:(re,q,m)=>{var A=m(4113);re.exports=function b(R){return A(this,R).has(R)}},6648:(re,q,m)=>{var A=m(4113);re.exports=function b(R,S){var P=A(this,R),g=P.size;return P.set(R,S),this.size+=P.size==g?0:1,this}},1575:re=>{re.exports=function q(m){var A=-1,b=Array(m.size);return m.forEach(function(R,S){b[++A]=[S,R]}),b}},2265:re=>{re.exports=function q(m,A){return function(b){return null!=b&&b[m]===A&&(void 0!==A||m in Object(b))}}},7371:(re,q,m)=>{var A=m(7659);re.exports=function R(S){var P=A(S,function(y){return 500===g.size&&g.clear(),y}),g=P.cache;return P}},893:(re,q,m)=>{var b=m(8745)(Object,"create");re.exports=b},366:(re,q,m)=>{var b=m(3106)(Object.keys,Object);re.exports=b},8849:(re,q,m)=>{re=m.nmd(re);var A=m(248),b=q&&!q.nodeType&&q,R=b&&re&&!re.nodeType&&re,P=R&&R.exports===b&&A.process,g=function(){try{return R&&R.require&&R.require("util").types||P&&P.binding&&P.binding("util")}catch{}}();re.exports=g},9243:re=>{var m=Object.prototype.toString;re.exports=function A(b){return m.call(b)}},3106:re=>{re.exports=function q(m,A){return function(b){return m(A(b))}}},2394:(re,q,m)=>{var A=m(7910),b=Math.max;re.exports=function R(S,P,g){return P=b(void 0===P?S.length-1:P,0),function(){for(var y=arguments,T=-1,F=b(y.length-P,0),D=Array(F);++T<F;)D[T]=y[P+T];T=-1;for(var B=Array(P+1);++T<P;)B[T]=y[T];return B[P]=g(D),A(S,this,B)}}},8492:(re,q,m)=>{var A=m(248),b="object"==typeof self&&self&&self.Object===Object&&self,R=A||b||Function("return this")();re.exports=R},6151:re=>{re.exports=function m(A){return this.__data__.set(A,"__lodash_hash_undefined__"),this}},2154:re=>{re.exports=function q(m){return this.__data__.has(m)}},8e3:re=>{re.exports=function q(m){var A=-1,b=Array(m.size);return m.forEach(function(R){b[++A]=R}),b}},6814:(re,q,m)=>{var A=m(8235),R=m(9531)(A);re.exports=R},9531:re=>{var A=Date.now;re.exports=function b(R){var S=0,P=0;return function(){var g=A(),y=16-(g-P);if(P=g,y>0){if(++S>=800)return arguments[0]}else S=0;return R.apply(void 0,arguments)}}},9488:(re,q,m)=>{var A=m(3597);re.exports=function b(){this.__data__=new A,this.size=0}},5943:re=>{re.exports=function q(m){var A=this.__data__,b=A.delete(m);return this.size=A.size,b}},5456:re=>{re.exports=function q(m){return this.__data__.get(m)}},4793:re=>{re.exports=function q(m){return this.__data__.has(m)}},8689:(re,q,m)=>{var A=m(3597),b=m(1136),R=m(1811);re.exports=function P(g,y){var T=this.__data__;if(T instanceof A){var F=T.__data__;if(!b||F.length<199)return F.push([g,y]),this.size=++T.size,this;T=this.__data__=new R(F)}return T.set(g,y),this.size=T.size,this}},163:(re,q,m)=>{var A=m(7371),b=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R=/\\(\\)?/g,S=A(function(P){var g=[];return 46===P.charCodeAt(0)&&g.push(""),P.replace(b,function(y,T,F,D){g.push(F?D.replace(R,"$1"):T||y)}),g});re.exports=S},8916:(re,q,m)=>{var A=m(3423);re.exports=function R(S){if("string"==typeof S||A(S))return S;var P=S+"";return"0"==P&&1/S==-1/0?"-0":P}},7075:re=>{var m=Function.prototype.toString;re.exports=function A(b){if(null!=b){try{return m.call(b)}catch{}try{return b+""}catch{}}return""}},1075:re=>{re.exports=function q(m){return function(){return m}}},7826:re=>{re.exports=function q(m,A){return m===A||m!=m&&A!=A}},5440:(re,q,m)=>{var A=m(2202);re.exports=function b(R,S,P){var g=null==R?void 0:A(R,S);return void 0===g?P:g}},2494:(re,q,m)=>{var A=m(3274),b=m(4583);re.exports=function R(S,P){return null!=S&&b(S,P,A)}},5657:re=>{re.exports=function q(m){return m}},1955:(re,q,m)=>{var A=m(3022),b=m(3714),R=Object.prototype,S=R.hasOwnProperty,P=R.propertyIsEnumerable,g=A(function(){return arguments}())?A:function(y){return b(y)&&S.call(y,"callee")&&!P.call(y,"callee")};re.exports=g},2261:re=>{re.exports=Array.isArray},2447:(re,q,m)=>{var A=m(6861),b=m(7765);re.exports=function R(S){return null!=S&&b(S.length)&&!A(S)}},7525:(re,q,m)=>{re=m.nmd(re);var A=m(8492),b=m(5706),R=q&&!q.nodeType&&q,S=R&&re&&!re.nodeType&&re,g=S&&S.exports===R?A.Buffer:void 0;re.exports=(g?g.isBuffer:void 0)||b},6030:(re,q,m)=>{var b=m(8492).isFinite;re.exports=function R(S){return"number"==typeof S&&b(S)}},6861:(re,q,m)=>{var A=m(4590),b=m(9794);re.exports=function y(T){if(!b(T))return!1;var F=A(T);return"[object Function]"==F||"[object GeneratorFunction]"==F||"[object AsyncFunction]"==F||"[object Proxy]"==F}},7765:re=>{re.exports=function m(A){return"number"==typeof A&&A>-1&&A%1==0&&A<=9007199254740991}},9794:re=>{re.exports=function q(m){var A=typeof m;return null!=m&&("object"==A||"function"==A)}},3714:re=>{re.exports=function q(m){return null!=m&&"object"==typeof m}},3423:(re,q,m)=>{var A=m(4590),b=m(3714);re.exports=function S(P){return"symbol"==typeof P||b(P)&&"[object Symbol]"==A(P)}},4868:(re,q,m)=>{var A=m(8902),b=m(1156),R=m(8849),S=R&&R.isTypedArray,P=S?b(S):A;re.exports=P},4614:(re,q,m)=>{var A=m(1384),b=m(190),R=m(2447);re.exports=function S(P){return R(P)?A(P):b(P)}},6990:function(re,q,m){var A;re=m.nmd(re),function(){var b,g="Expected a function",T="__lodash_hash_undefined__",D="__lodash_placeholder__",v=32,k=128,Ee=1/0,Le=9007199254740991,ge=4294967295,dt=[["ary",k],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",v],["partialRight",64],["rearg",256]],Ye="[object Arguments]",be="[object Array]",O="[object Boolean]",se="[object Date]",Be="[object Error]",it="[object Function]",he="[object GeneratorFunction]",Z="[object Map]",$="[object Number]",N="[object Object]",de="[object Promise]",He="[object RegExp]",ke="[object Set]",ft="[object String]",Ht="[object Symbol]",en="[object WeakMap]",fe="[object ArrayBuffer]",J="[object DataView]",M="[object Float32Array]",ae="[object Float64Array]",Ge="[object Int8Array]",et="[object Int16Array]",lt="[object Int32Array]",nn="[object Uint8Array]",Cn="[object Uint8ClampedArray]",ni="[object Uint16Array]",Un="[object Uint32Array]",jn=/\b__p \+= '';/g,Ko=/\b(__p \+=) '' \+/g,js=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ys=/&(?:amp|lt|gt|quot|#39);/g,ur=/[&<>"']/g,ho=RegExp(ys.source),Vs=RegExp(ur.source),aa=/<%-([\s\S]+?)%>/g,qo=/<%([\s\S]+?)%>/g,ko=/<%=([\s\S]+?)%>/g,Su=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gh=/^\w*$/,Wh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pd=/[\\^$.*+?()[\]{}|]/g,Da=RegExp(pd.source),xc=/^\s+/,md=/\s/,gd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ll=/\{\n\/\* \[wrapped with (.+)\] \*/,$h=/,? & /,dl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Au=/[()=,{}\[\]\/\s]/,ul=/\\(\\)?/g,_d=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,er=/\w*$/,ji=/^[-+]0x[0-9a-f]+$/i,hl=/^0b[01]+$/i,ca=/^\[object .+?Constructor\]$/,Ka=/^0o[0-7]+$/i,Oa=/^(?:0|[1-9]\d*)$/,Ec=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jo=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,De="\\ud800-\\udfff",ye="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",je="\\u2700-\\u27bf",Xe="a-z\\xdf-\\xf6\\xf8-\\xff",wn="A-Z\\xc0-\\xd6\\xd8-\\xde",kn="\\ufe0e\\ufe0f",Ro="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zo="["+De+"]",fl="["+Ro+"]",la="["+ye+"]",io="\\d+",Qo="["+je+"]",Hi="["+Xe+"]",hr="[^"+De+Ro+io+je+Xe+wn+"]",Ei="\\ud83c[\\udffb-\\udfff]",vs="[^"+De+"]",bd="(?:\\ud83c[\\udde6-\\uddff]){2}",Oe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ue="["+wn+"]",pt="(?:"+Hi+"|"+hr+")",zt="(?:"+Ue+"|"+hr+")",Jt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ii="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Vr="(?:"+la+"|"+Ei+")?",Rn="["+kn+"]?",uM=Rn+Vr+"(?:\\u200d(?:"+[vs,bd,Oe].join("|")+")"+Rn+Vr+")*",Ww="(?:"+[Qo,bd,Oe].join("|")+")"+uM,At="(?:"+[vs+la+"?",la,bd,Oe,Zo].join("|")+")",Jp=RegExp("['\u2019]","g"),Zn=RegExp(la,"g"),Ni=RegExp(Ei+"(?="+Ei+")|"+At+uM,"g"),hM=RegExp([Ue+"?"+Hi+"+"+Jt+"(?="+[fl,Ue,"$"].join("|")+")",zt+"+"+ii+"(?="+[fl,Ue+pt,"$"].join("|")+")",Ue+"?"+pt+"+"+Jt,Ue+"+"+ii,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",io,Ww].join("|"),"g"),qL=RegExp("[\\u200d"+De+ye+kn+"]"),fM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,fb=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zs=-1,br={};br[M]=br[ae]=br[Ge]=br[et]=br[lt]=br[nn]=br[Cn]=br[ni]=br[Un]=!0,br[Ye]=br[be]=br[fe]=br[O]=br[J]=br[se]=br[Be]=br[it]=br[Z]=br[$]=br[N]=br[He]=br[ke]=br[ft]=br[en]=!1;var sr={};sr[Ye]=sr[be]=sr[fe]=sr[J]=sr[O]=sr[se]=sr[M]=sr[ae]=sr[Ge]=sr[et]=sr[lt]=sr[Z]=sr[$]=sr[N]=sr[He]=sr[ke]=sr[ft]=sr[Ht]=sr[nn]=sr[Cn]=sr[ni]=sr[Un]=!0,sr[Be]=sr[it]=sr[en]=!1;var QL={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},eB=parseFloat,tB=parseInt,$w="object"==typeof global&&global&&global.Object===Object&&global,nB="object"==typeof self&&self&&self.Object===Object&&self,Eo=$w||nB||Function("return this")(),pM=q&&!q.nodeType&&q,Po=pM&&re&&!re.nodeType&&re,$n=Po&&Po.exports===pM,Yw=$n&&$w.process,ka=function(){try{return Po&&Po.require&&Po.require("util").types||Yw&&Yw.binding&&Yw.binding("util")}catch{}}(),mM=ka&&ka.isArrayBuffer,Tt=ka&&ka.isDate,gM=ka&&ka.isMap,Wt=ka&&ka.isRegExp,Yh=ka&&ka.isSet,Xw=ka&&ka.isTypedArray;function xs(ht,Ot,Et){switch(Et.length){case 0:return ht.call(Ot);case 1:return ht.call(Ot,Et[0]);case 2:return ht.call(Ot,Et[0],Et[1]);case 3:return ht.call(Ot,Et[0],Et[1],Et[2])}return ht.apply(Ot,Et)}function _M(ht,Ot,Et,yn){for(var qn=-1,Fi=null==ht?0:ht.length;++qn<Fi;){var Kr=ht[qn];Ot(yn,Kr,Et(Kr),ht)}return yn}function es(ht,Ot){for(var Et=-1,yn=null==ht?0:ht.length;++Et<yn&&!1!==Ot(ht[Et],Et,ht););return ht}function Zp(ht,Ot){for(var Et=null==ht?0:ht.length;Et--&&!1!==Ot(ht[Et],Et,ht););return ht}function Qp(ht,Ot){for(var Et=-1,yn=null==ht?0:ht.length;++Et<yn;)if(!Ot(ht[Et],Et,ht))return!1;return!0}function Cc(ht,Ot){for(var Et=-1,yn=null==ht?0:ht.length,qn=0,Fi=[];++Et<yn;){var Kr=ht[Et];Ot(Kr,Et,ht)&&(Fi[qn++]=Kr)}return Fi}function em(ht,Ot){return!(null==ht||!ht.length)&&vd(ht,Ot,0)>-1}function yi(ht,Ot,Et){for(var yn=-1,qn=null==ht?0:ht.length;++yn<qn;)if(Et(Ot,ht[yn]))return!0;return!1}function ar(ht,Ot){for(var Et=-1,yn=null==ht?0:ht.length,qn=Array(yn);++Et<yn;)qn[Et]=Ot(ht[Et],Et,ht);return qn}function Sc(ht,Ot){for(var Et=-1,yn=Ot.length,qn=ht.length;++Et<yn;)ht[qn+Et]=Ot[Et];return ht}function No(ht,Ot,Et,yn){var qn=-1,Fi=null==ht?0:ht.length;for(yn&&Fi&&(Et=ht[++qn]);++qn<Fi;)Et=Ot(Et,ht[qn],qn,ht);return Et}function Kw(ht,Ot,Et,yn){var qn=null==ht?0:ht.length;for(yn&&qn&&(Et=ht[--qn]);qn--;)Et=Ot(Et,ht[qn],qn,ht);return Et}function qw(ht,Ot){for(var Et=-1,yn=null==ht?0:ht.length;++Et<yn;)if(Ot(ht[Et],Et,ht))return!0;return!1}var Gi=Zw("length");function tm(ht,Ot,Et){var yn;return Et(ht,function(qn,Fi,Kr){if(Ot(qn,Fi,Kr))return yn=Fi,!1}),yn}function Mu(ht,Ot,Et,yn){for(var qn=ht.length,Fi=Et+(yn?1:-1);yn?Fi--:++Fi<qn;)if(Ot(ht[Fi],Fi,ht))return Fi;return-1}function vd(ht,Ot,Et){return Ot==Ot?function om(ht,Ot,Et){for(var yn=Et-1,qn=ht.length;++yn<qn;)if(ht[yn]===Ot)return yn;return-1}(ht,Ot,Et):Mu(ht,Jw,Et)}function pb(ht,Ot,Et,yn){for(var qn=Et-1,Fi=ht.length;++qn<Fi;)if(yn(ht[qn],Ot))return qn;return-1}function Jw(ht){return ht!=ht}function nm(ht,Ot){var Et=null==ht?0:ht.length;return Et?ex(ht,Ot)/Et:NaN}function Zw(ht){return function(Ot){return null==Ot?b:Ot[ht]}}function Qw(ht){return function(Ot){return null==ht?b:ht[Ot]}}function bM(ht,Ot,Et,yn,qn){return qn(ht,function(Fi,Kr,tr){Et=yn?(yn=!1,Fi):Ot(Et,Fi,Kr,tr)}),Et}function ex(ht,Ot){for(var Et,yn=-1,qn=ht.length;++yn<qn;){var Fi=Ot(ht[yn]);Fi!==b&&(Et=Et===b?Fi:Et+Fi)}return Et}function wd(ht,Ot){for(var Et=-1,yn=Array(ht);++Et<ht;)yn[Et]=Ot(Et);return yn}function Xh(ht){return ht&&ht.slice(0,qh(ht)+1).replace(xc,"")}function Hs(ht){return function(Ot){return ht(Ot)}}function gb(ht,Ot){return ar(Ot,function(Et){return ht[Et]})}function Kh(ht,Ot){return ht.has(Ot)}function _b(ht,Ot){for(var Et=-1,yn=ht.length;++Et<yn&&vd(Ot,ht[Et],0)>-1;);return Et}function xd(ht,Ot){for(var Et=ht.length;Et--&&vd(Ot,ht[Et],0)>-1;);return Et}var pl=Qw({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),vM=Qw({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ze(ht){return"\\"+QL[ht]}function Kt(ht){return qL.test(ht)}function Ed(ht){var Ot=-1,Et=Array(ht.size);return ht.forEach(function(yn,qn){Et[++Ot]=[qn,yn]}),Et}function nx(ht,Ot){return function(Et){return ht(Ot(Et))}}function ml(ht,Ot){for(var Et=-1,yn=ht.length,qn=0,Fi=[];++Et<yn;){var Kr=ht[Et];(Kr===Ot||Kr===D)&&(ht[Et]=D,Fi[qn++]=Et)}return Fi}function rm(ht){var Ot=-1,Et=Array(ht.size);return ht.forEach(function(yn){Et[++Ot]=yn}),Et}function ts(ht){return Kt(ht)?function vb(ht){for(var Ot=Ni.lastIndex=0;Ni.test(ht);)++Ot;return Ot}(ht):Gi(ht)}function ri(ht){return Kt(ht)?function ix(ht){return ht.match(Ni)||[]}(ht):function iB(ht){return ht.split("")}(ht)}function qh(ht){for(var Ot=ht.length;Ot--&&md.test(ht.charAt(Ot)););return Ot}var yb=Qw({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Zh=function ht(Ot){var u,Et=(Ot=null==Ot?Eo:Zh.defaults(Eo.Object(),Ot,Zh.pick(Eo,fb))).Array,yn=Ot.Date,qn=Ot.Error,Fi=Ot.Function,Kr=Ot.Math,tr=Ot.Object,sm=Ot.RegExp,wM=Ot.String,ua=Ot.TypeError,Es=Et.prototype,Cd=tr.prototype,am=Ot["__core-js_shared__"],cm=Fi.prototype.toString,Yi=Cd.hasOwnProperty,EM=0,wb=(u=/[^.]+$/.exec(am&&am.keys&&am.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",lm=Cd.toString,CM=cm.call(tr),SM=Eo._,rn=sm("^"+cm.call(Yi).replace(pd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dm=$n?Ot.Buffer:b,gl=Ot.Symbol,um=Ot.Uint8Array,$t=dm?dm.allocUnsafe:b,hm=nx(tr.getPrototypeOf,tr),xb=tr.create,Nt=Cd.propertyIsEnumerable,ro=Es.splice,Ii=gl?gl.isConcatSpreadable:b,zr=gl?gl.iterator:b,Hr=gl?gl.toStringTag:b,Tc=function(){try{var u=Uu(tr,"defineProperty");return u({},"",{}),u}catch{}}(),Gs=Ot.clearTimeout!==Eo.clearTimeout&&Ot.clearTimeout,rx=yn&&yn.now!==Eo.Date.now&&yn.now,ox=Ot.setTimeout!==Eo.setTimeout&&Ot.setTimeout,Sd=Kr.ceil,fm=Kr.floor,Eb=tr.getOwnPropertySymbols,Fr=dm?dm.isBuffer:b,ln=Ot.isFinite,ei=Es.join,yr=nx(tr.keys,tr),Xi=Kr.max,qr=Kr.min,Fo=yn.now,Tu=Ot.parseInt,Lr=Kr.random,_l=Es.reverse,bl=Uu(Ot,"DataView"),Yn=Uu(Ot,"Map"),Ad=Uu(Ot,"Promise"),Md=Uu(Ot,"Set"),qa=Uu(Ot,"WeakMap"),fr=Uu(tr,"create"),yl=qa&&new qa,Ra={},Ja=ti(bl),Qh=ti(Yn),sx=ti(Ad),vl=ti(Md),Ic=ti(qa),wl=gl?gl.prototype:b,Dc=wl?wl.valueOf:b,vi=wl?wl.toString:b;function Fe(u){if(Mr(u)&&!Qn(u)&&!(u instanceof gi)){if(u instanceof Gr)return u;if(Yi.call(u,"__wrapped__"))return Fx(u)}return new Gr(u)}var xl=function(){function u(){}return function(f){if(!Ki(f))return{};if(xb)return xb(f);u.prototype=f;var x=new u;return u.prototype=b,x}}();function ef(){}function Gr(u,f){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=b}function gi(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ge,this.__views__=[]}function Du(u){var f=-1,x=null==u?0:u.length;for(this.clear();++f<x;){var oe=u[f];this.set(oe[0],oe[1])}}function oo(u){var f=-1,x=null==u?0:u.length;for(this.clear();++f<x;){var oe=u[f];this.set(oe[0],oe[1])}}function Oc(u){var f=-1,x=null==u?0:u.length;for(this.clear();++f<x;){var oe=u[f];this.set(oe[0],oe[1])}}function Ou(u){var f=-1,x=null==u?0:u.length;for(this.__data__=new Oc;++f<x;)this.add(u[f])}function Za(u){var f=this.__data__=new oo(u);this.size=f.size}function IM(u,f){var x=Qn(u),oe=!x&&kl(u),Ae=!x&&!oe&&Rl(u),Ve=!x&&!oe&&!Ae&&Uc(u),nt=x||oe||Ae||Ve,st=nt?wd(u.length,wM):[],mt=st.length;for(var Pt in u)(f||Yi.call(u,Pt))&&(!nt||!("length"==Pt||Ae&&("offset"==Pt||"parent"==Pt)||Ve&&("buffer"==Pt||"byteLength"==Pt||"byteOffset"==Pt)||Il(Pt,mt)))&&st.push(Pt);return st}function DM(u){var f=u.length;return f?u[Cl(0,f-1)]:b}function _B(u,f){return Nm(is(u),El(f,0,u.length))}function Id(u){return Nm(is(u))}function Qa(u,f,x){(x!==b&&!ga(u[f],x)||x===b&&!(f in u))&&ec(u,f,x)}function mm(u,f,x){var oe=u[f];(!Yi.call(u,f)||!ga(oe,x)||x===b&&!(f in u))&&ec(u,f,x)}function Ab(u,f){for(var x=u.length;x--;)if(ga(u[x][0],f))return x;return-1}function So(u,f,x,oe){return kc(u,function(Ae,Ve,nt){f(oe,Ae,x(Ae),nt)}),oe}function nf(u,f){return u&&rs(f,mo(f),u)}function ec(u,f,x){"__proto__"==f&&Tc?Tc(u,f,{configurable:!0,enumerable:!0,value:x,writable:!0}):u[f]=x}function gm(u,f){for(var x=-1,oe=f.length,Ae=Et(oe),Ve=null==u;++x<oe;)Ae[x]=Ve?b:ky(u,f[x]);return Ae}function El(u,f,x){return u==u&&(x!==b&&(u=u<=x?u:x),f!==b&&(u=u>=f?u:f)),u}function Ws(u,f,x,oe,Ae,Ve){var nt,st=1&f,mt=2&f,Pt=4&f;if(x&&(nt=Ae?x(u,oe,Ae,Ve):x(u)),nt!==b)return nt;if(!Ki(u))return u;var Ft=Qn(u);if(Ft){if(nt=function mf(u){var f=u.length,x=new u.constructor(f);return f&&"string"==typeof u[0]&&Yi.call(u,"index")&&(x.index=u.index,x.input=u.input),x}(u),!st)return is(u,nt)}else{var Gt=Uo(u),an=Gt==it||Gt==he;if(Rl(u))return Gb(u,st);if(Gt==N||Gt==Ye||an&&!Ae){if(nt=mt||an?{}:Rx(u),!st)return mt?function jM(u,f){return rs(u,kx(u),f)}(u,function ha(u,f){return u&&rs(f,Ts(f),u)}(nt,u)):function Pc(u,f){return rs(u,Ox(u),f)}(u,nf(nt,u))}else{if(!sr[Gt])return Ae?u:{};nt=function gf(u,f,x){var oe=u.constructor;switch(f){case fe:return Pd(u);case O:case se:return new oe(+u);case J:return function tc(u,f){var x=f?Pd(u.buffer):u.buffer;return new u.constructor(x,u.byteOffset,u.byteLength)}(u,x);case M:case ae:case Ge:case et:case lt:case nn:case Cn:case ni:case Un:return Mx(u,x);case Z:return new oe;case $:case ft:return new oe(u);case He:return function Wb(u){var f=new u.constructor(u.source,er.exec(u));return f.lastIndex=u.lastIndex,f}(u);case ke:return new oe;case Ht:return function $b(u){return Dc?tr(Dc.call(u)):{}}(u)}}(u,Gt,st)}}Ve||(Ve=new Za);var An=Ve.get(u);if(An)return An;Ve.set(u,nt),Zu(u)?u.forEach(function(Ln){nt.add(Ws(Ln,f,x,Ln,u,Ve))}):Cy(u)&&u.forEach(function(Ln,bi){nt.set(bi,Ws(Ln,f,x,bi,u,Ve))});var hi=Ft?b:(Pt?mt?ff:Lu:mt?Ts:mo)(u);return es(hi||u,function(Ln,bi){hi&&(Ln=u[bi=Ln]),mm(nt,bi,Ws(Ln,f,x,bi,u,Ve))}),nt}function Tb(u,f,x){var oe=x.length;if(null==u)return!oe;for(u=tr(u);oe--;){var Ae=x[oe],nt=u[Ae];if(nt===b&&!(Ae in u)||!(0,f[Ae])(nt))return!1}return!0}function _m(u,f,x){if("function"!=typeof u)throw new ua(g);return bf(function(){u.apply(b,x)},f)}function Dd(u,f,x,oe){var Ae=-1,Ve=em,nt=!0,st=u.length,mt=[],Pt=f.length;if(!st)return mt;x&&(f=ar(f,Hs(x))),oe?(Ve=yi,nt=!1):f.length>=200&&(Ve=Kh,nt=!1,f=new Ou(f));e:for(;++Ae<st;){var Ft=u[Ae],Gt=null==x?Ft:x(Ft);if(Ft=oe||0!==Ft?Ft:0,nt&&Gt==Gt){for(var an=Pt;an--;)if(f[an]===Gt)continue e;mt.push(Ft)}else Ve(f,Gt,oe)||mt.push(Ft)}return mt}Fe.templateSettings={escape:aa,evaluate:qo,interpolate:ko,variable:"",imports:{_:Fe}},(Fe.prototype=ef.prototype).constructor=Fe,(Gr.prototype=xl(ef.prototype)).constructor=Gr,(gi.prototype=xl(ef.prototype)).constructor=gi,Du.prototype.clear=function Cs(){this.__data__=fr?fr(null):{},this.size=0},Du.prototype.delete=function ns(u){var f=this.has(u)&&delete this.__data__[u];return this.size-=f?1:0,f},Du.prototype.get=function Cb(u){var f=this.__data__;if(fr){var x=f[u];return x===T?b:x}return Yi.call(f,u)?f[u]:b},Du.prototype.has=function Td(u){var f=this.__data__;return fr?f[u]!==b:Yi.call(f,u)},Du.prototype.set=function pm(u,f){var x=this.__data__;return this.size+=this.has(u)?0:1,x[u]=fr&&f===b?T:f,this},oo.prototype.clear=function Sb(){this.__data__=[],this.size=0},oo.prototype.delete=function AM(u){var f=this.__data__,x=Ab(f,u);return!(x<0||(x==f.length-1?f.pop():ro.call(f,x,1),--this.size,0))},oo.prototype.get=function MM(u){var f=this.__data__,x=Ab(f,u);return x<0?b:f[x][1]},oo.prototype.has=function sB(u){return Ab(this.__data__,u)>-1},oo.prototype.set=function TM(u,f){var x=this.__data__,oe=Ab(x,u);return oe<0?(++this.size,x.push([u,f])):x[oe][1]=f,this},Oc.prototype.clear=function aB(){this.size=0,this.__data__={hash:new Du,map:new(Yn||oo),string:new Du}},Oc.prototype.delete=function cB(u){var f=Tl(this,u).delete(u);return this.size-=f?1:0,f},Oc.prototype.get=function lB(u){return Tl(this,u).get(u)},Oc.prototype.has=function dB(u){return Tl(this,u).has(u)},Oc.prototype.set=function uB(u,f){var x=Tl(this,u),oe=x.size;return x.set(u,f),this.size+=x.size==oe?0:1,this},Ou.prototype.add=Ou.prototype.push=function hB(u){return this.__data__.set(u,T),this},Ou.prototype.has=function fB(u){return this.__data__.has(u)},Za.prototype.clear=function pB(){this.__data__=new oo,this.size=0},Za.prototype.delete=function mB(u){var f=this.__data__,x=f.delete(u);return this.size=f.size,x},Za.prototype.get=function gB(u){return this.__data__.get(u)},Za.prototype.has=function ax(u){return this.__data__.has(u)},Za.prototype.set=function cx(u,f){var x=this.__data__;if(x instanceof oo){var oe=x.__data__;if(!Yn||oe.length<199)return oe.push([u,f]),this.size=++x.size,this;x=this.__data__=new Oc(oe)}return x.set(u,f),this.size=x.size,this};var kc=Ix(Rc),Ib=Ix(Db,!0);function lx(u,f){var x=!0;return kc(u,function(oe,Ae,Ve){return x=!!f(oe,Ae,Ve)}),x}function Od(u,f,x){for(var oe=-1,Ae=u.length;++oe<Ae;){var Ve=u[oe],nt=f(Ve);if(null!=nt&&(st===b?nt==nt&&!ss(nt):x(nt,st)))var st=nt,mt=Ve}return mt}function kd(u,f){var x=[];return kc(u,function(oe,Ae,Ve){f(oe,Ae,Ve)&&x.push(oe)}),x}function fo(u,f,x,oe,Ae){var Ve=-1,nt=u.length;for(x||(x=Om),Ae||(Ae=[]);++Ve<nt;){var st=u[Ve];f>0&&x(st)?f>1?fo(st,f-1,x,oe,Ae):Sc(Ae,st):oe||(Ae[Ae.length]=st)}return Ae}var dx=Cm(),OM=Cm(!0);function Rc(u,f){return u&&dx(u,f,mo)}function Db(u,f){return u&&OM(u,f,mo)}function bm(u,f){return Cc(f,function(x){return Bc(u[x])})}function ku(u,f){for(var x=0,oe=(f=li(f,u)).length;null!=u&&x<oe;)u=u[rc(f[x++])];return x&&x==oe?u:b}function Ob(u,f,x){var oe=f(u);return Qn(u)?oe:Sc(oe,x(u))}function Ao(u){return null==u?u===b?"[object Undefined]":"[object Null]":Hr&&Hr in tr(u)?function ey(u){var f=Yi.call(u,Hr),x=u[Hr];try{u[Hr]=b;var oe=!0}catch{}var Ae=lm.call(u);return oe&&(f?u[Hr]=x:delete u[Hr]),Ae}(u):function Nx(u){return lm.call(u)}(u)}function kb(u,f){return u>f}function Rb(u,f){return null!=u&&Yi.call(u,f)}function bB(u,f){return null!=u&&f in tr(u)}function Pb(u,f,x){for(var oe=x?yi:em,Ae=u[0].length,Ve=u.length,nt=Ve,st=Et(Ve),mt=1/0,Pt=[];nt--;){var Ft=u[nt];nt&&f&&(Ft=ar(Ft,Hs(f))),mt=qr(Ft.length,mt),st[nt]=!x&&(f||Ae>=120&&Ft.length>=120)?new Ou(nt&&Ft):b}Ft=u[0];var Gt=-1,an=st[0];e:for(;++Gt<Ae&&Pt.length<mt;){var An=Ft[Gt],Pn=f?f(An):An;if(An=x||0!==An?An:0,!(an?Kh(an,Pn):oe(Pt,Pn,x))){for(nt=Ve;--nt;){var hi=st[nt];if(!(hi?Kh(hi,Pn):oe(u[nt],Pn,x)))continue e}an&&an.push(Pn),Pt.push(An)}}return Pt}function Ru(u,f,x){var oe=null==(u=oy(u,f=li(f,u)))?u:u[rc(Mo(f))];return null==oe?b:xs(oe,u,x)}function hx(u){return Mr(u)&&Ao(u)==Ye}function Pu(u,f,x,oe,Ae){return u===f||(null==u||null==f||!Mr(u)&&!Mr(f)?u!=u&&f!=f:function PM(u,f,x,oe,Ae,Ve){var nt=Qn(u),st=Qn(f),mt=nt?be:Uo(u),Pt=st?be:Uo(f),Ft=(mt=mt==Ye?N:mt)==N,Gt=(Pt=Pt==Ye?N:Pt)==N,an=mt==Pt;if(an&&Rl(u)){if(!Rl(f))return!1;nt=!0,Ft=!1}if(an&&!Ft)return Ve||(Ve=new Za),nt||Uc(u)?Lc(u,f,x,oe,Ae,Ve):function HM(u,f,x,oe,Ae,Ve,nt){switch(x){case J:if(u.byteLength!=f.byteLength||u.byteOffset!=f.byteOffset)return!1;u=u.buffer,f=f.buffer;case fe:return!(u.byteLength!=f.byteLength||!Ve(new um(u),new um(f)));case O:case se:case $:return ga(+u,+f);case Be:return u.name==f.name&&u.message==f.message;case He:case ft:return u==f+"";case Z:var st=Ed;case ke:if(st||(st=rm),u.size!=f.size&&!(1&oe))return!1;var Pt=nt.get(u);if(Pt)return Pt==f;oe|=2,nt.set(u,f);var Ft=Lc(st(u),st(f),oe,Ae,Ve,nt);return nt.delete(u),Ft;case Ht:if(Dc)return Dc.call(u)==Dc.call(f)}return!1}(u,f,mt,x,oe,Ae,Ve);if(!(1&x)){var An=Ft&&Yi.call(u,"__wrapped__"),Pn=Gt&&Yi.call(f,"__wrapped__");if(An||Pn){var hi=An?u.value():u,Ln=Pn?f.value():f;return Ve||(Ve=new Za),Ae(hi,Ln,x,oe,Ve)}}return!!an&&(Ve||(Ve=new Za),function Tm(u,f,x,oe,Ae,Ve){var nt=1&x,st=Lu(u),mt=st.length;if(mt!=Lu(f).length&&!nt)return!1;for(var Gt=mt;Gt--;){var an=st[Gt];if(!(nt?an in f:Yi.call(f,an)))return!1}var An=Ve.get(u),Pn=Ve.get(f);if(An&&Pn)return An==f&&Pn==u;var hi=!0;Ve.set(u,f),Ve.set(f,u);for(var Ln=nt;++Gt<mt;){var bi=u[an=st[Gt]],wi=f[an];if(oe)var Qs=nt?oe(wi,bi,an,f,u,Ve):oe(bi,wi,an,u,f,Ve);if(!(Qs===b?bi===wi||Ae(bi,wi,x,oe,Ve):Qs)){hi=!1;break}Ln||(Ln="constructor"==an)}if(hi&&!Ln){var Ho=u.constructor,ea=f.constructor;Ho!=ea&&"constructor"in u&&"constructor"in f&&!("function"==typeof Ho&&Ho instanceof Ho&&"function"==typeof ea&&ea instanceof ea)&&(hi=!1)}return Ve.delete(u),Ve.delete(f),hi}(u,f,x,oe,Ae,Ve))}(u,f,x,oe,Pu,Ae))}function Nb(u,f,x,oe){var Ae=x.length,Ve=Ae,nt=!oe;if(null==u)return!Ve;for(u=tr(u);Ae--;){var st=x[Ae];if(nt&&st[2]?st[1]!==u[st[0]]:!(st[0]in u))return!1}for(;++Ae<Ve;){var mt=(st=x[Ae])[0],Pt=u[mt],Ft=st[1];if(nt&&st[2]){if(Pt===b&&!(mt in u))return!1}else{var Gt=new Za;if(oe)var an=oe(Pt,Ft,mt,u,f,Gt);if(!(an===b?Pu(Ft,Pt,3,oe,Gt):an))return!1}}return!0}function NM(u){return!(!Ki(u)||function WM(u){return!!wb&&wb in u}(u))&&(Bc(u)?rn:ca).test(ti(u))}function gx(u){return"function"==typeof u?u:null==u?Is:"object"==typeof u?Qn(u)?yx(u[0],u[1]):vm(u):P1(u)}function Fb(u){if(!Nd(u))return yr(u);var f=[];for(var x in tr(u))Yi.call(u,x)&&"constructor"!=x&&f.push(x);return f}function ym(u,f){return u<f}function bx(u,f){var x=-1,oe=Ms(u)?Et(u.length):[];return kc(u,function(Ae,Ve,nt){oe[++x]=f(Ae,Ve,nt)}),oe}function vm(u){var f=Qb(u);return 1==f.length&&f[0][2]?_f(f[0][0],f[0][1]):function(x){return x===u||Nb(x,u,f)}}function yx(u,f){return km(u)&&ny(f)?_f(rc(u),f):function(x){var oe=ky(x,u);return oe===b&&oe===f?as(x,u):Pu(f,oe,3)}}function $s(u,f,x,oe,Ae){u!==f&&dx(f,function(Ve,nt){if(Ae||(Ae=new Za),Ki(Ve))!function vx(u,f,x,oe,Ae,Ve,nt){var st=ju(u,x),mt=ju(f,x),Pt=nt.get(mt);if(Pt)Qa(u,x,Pt);else{var Ft=Ve?Ve(st,mt,x+"",u,f,nt):b,Gt=Ft===b;if(Gt){var an=Qn(mt),An=!an&&Rl(mt),Pn=!an&&!An&&Uc(mt);Ft=mt,an||An||Pn?Qn(st)?Ft=st:Wr(st)?Ft=is(st):An?(Gt=!1,Ft=Gb(mt,!0)):Pn?(Gt=!1,Ft=Mx(mt,!0)):Ft=[]:Ld(mt)||kl(mt)?(Ft=st,kl(st)?Ft=kf(st):(!Ki(st)||Bc(st))&&(Ft=Rx(mt))):Gt=!1}Gt&&(nt.set(mt,Ft),Ae(Ft,mt,oe,Ve,nt),nt.delete(mt)),Qa(u,x,Ft)}}(u,f,nt,x,$s,oe,Ae);else{var st=oe?oe(ju(u,nt),Ve,nt+"",u,f,Ae):b;st===b&&(st=Ve),Qa(u,nt,st)}},Ts)}function Lb(u,f){var x=u.length;if(x)return Il(f+=f<0?x:0,x)?u[f]:b}function nr(u,f,x){f=f.length?ar(f,function(Ve){return Qn(Ve)?function(nt){return ku(nt,1===Ve.length?Ve[0]:Ve)}:Ve}):[Is];var oe=-1;return f=ar(f,Hs(On())),function oB(ht,Ot){var Et=ht.length;for(ht.sort(Ot);Et--;)ht[Et]=ht[Et].value;return ht}(bx(u,function(Ve,nt,st){return{criteria:ar(f,function(Pt){return Pt(Ve)}),index:++oe,value:Ve}}),function(Ve,nt){return function Tx(u,f,x){for(var oe=-1,Ae=u.criteria,Ve=f.criteria,nt=Ae.length,st=x.length;++oe<nt;){var mt=UM(Ae[oe],Ve[oe]);if(mt)return oe>=st?mt:mt*("desc"==x[oe]?-1:1)}return u.index-f.index}(Ve,nt,x)})}function sf(u,f,x){for(var oe=-1,Ae=f.length,Ve={};++oe<Ae;){var nt=f[oe],st=ku(u,nt);x(st,nt)&&Nu(Ve,li(nt,u),st)}return Ve}function Ub(u,f,x,oe){var Ae=oe?pb:vd,Ve=-1,nt=f.length,st=u;for(u===f&&(f=is(f)),x&&(st=ar(u,Hs(x)));++Ve<nt;)for(var mt=0,Pt=f[Ve],Ft=x?x(Pt):Pt;(mt=Ae(st,Ft,mt,oe))>-1;)st!==u&&ro.call(st,mt,1),ro.call(u,mt,1);return u}function jb(u,f){for(var x=u?f.length:0,oe=x-1;x--;){var Ae=f[x];if(x==oe||Ae!==Ve){var Ve=Ae;Il(Ae)?ro.call(u,Ae,1):xm(u,Ae)}}return u}function Cl(u,f){return u+fm(Lr()*(f-u+1))}function Vb(u,f){var x="";if(!u||f<1||f>Le)return x;do{f%2&&(x+=u),(f=fm(f/2))&&(u+=u)}while(f);return x}function _i(u,f){return Pm(ry(u,f,Is),u+"")}function FM(u){return DM(Pl(u))}function Sl(u,f){var x=Pl(u);return Nm(x,El(f,0,x.length))}function Nu(u,f,x,oe){if(!Ki(u))return u;for(var Ae=-1,Ve=(f=li(f,u)).length,nt=Ve-1,st=u;null!=st&&++Ae<Ve;){var mt=rc(f[Ae]),Pt=x;if("__proto__"===mt||"constructor"===mt||"prototype"===mt)return u;if(Ae!=nt){var Ft=st[mt];(Pt=oe?oe(Ft,mt,st):b)===b&&(Pt=Ki(Ft)?Ft:Il(f[Ae+1])?[]:{})}mm(st,mt,Pt),st=st[mt]}return u}var wx=yl?function(u,f){return yl.set(u,f),u}:Is,xx=Tc?function(u,f){return Tc(u,"toString",{configurable:!0,enumerable:!1,value:Bf(f),writable:!0})}:Is;function Ex(u){return Nm(Pl(u))}function Xs(u,f,x){var oe=-1,Ae=u.length;f<0&&(f=-f>Ae?0:Ae+f),(x=x>Ae?Ae:x)<0&&(x+=Ae),Ae=f>x?0:x-f>>>0,f>>>=0;for(var Ve=Et(Ae);++oe<Ae;)Ve[oe]=u[oe+f];return Ve}function LM(u,f){var x;return kc(u,function(oe,Ae,Ve){return!(x=f(oe,Ae,Ve))}),!!x}function Fn(u,f,x){var oe=0,Ae=null==u?oe:u.length;if("number"==typeof f&&f==f&&Ae<=2147483647){for(;oe<Ae;){var Ve=oe+Ae>>>1,nt=u[Ve];null!==nt&&!ss(nt)&&(x?nt<=f:nt<f)?oe=Ve+1:Ae=Ve}return Ae}return wm(u,f,Is,x)}function wm(u,f,x,oe){var Ae=0,Ve=null==u?0:u.length;if(0===Ve)return 0;for(var nt=(f=x(f))!=f,st=null===f,mt=ss(f),Pt=f===b;Ae<Ve;){var Ft=fm((Ae+Ve)/2),Gt=x(u[Ft]),an=Gt!==b,An=null===Gt,Pn=Gt==Gt,hi=ss(Gt);if(nt)var Ln=oe||Pn;else Ln=Pt?Pn&&(oe||an):st?Pn&&an&&(oe||!An):mt?Pn&&an&&!An&&(oe||!hi):!An&&!hi&&(oe?Gt<=f:Gt<f);Ln?Ae=Ft+1:Ve=Ft}return qr(Ve,4294967294)}function BM(u,f){for(var x=-1,oe=u.length,Ae=0,Ve=[];++x<oe;){var nt=u[x],st=f?f(nt):nt;if(!x||!ga(st,mt)){var mt=st;Ve[Ae++]=0===nt?0:nt}}return Ve}function Cx(u){return"number"==typeof u?u:ss(u)?NaN:+u}function Ks(u){if("string"==typeof u)return u;if(Qn(u))return ar(u,Ks)+"";if(ss(u))return vi?vi.call(u):"";var f=u+"";return"0"==f&&1/u==-Ee?"-0":f}function Al(u,f,x){var oe=-1,Ae=em,Ve=u.length,nt=!0,st=[],mt=st;if(x)nt=!1,Ae=yi;else if(Ve>=200){var Pt=f?null:zM(u);if(Pt)return rm(Pt);nt=!1,Ae=Kh,mt=new Ou}else mt=f?[]:st;e:for(;++oe<Ve;){var Ft=u[oe],Gt=f?f(Ft):Ft;if(Ft=x||0!==Ft?Ft:0,nt&&Gt==Gt){for(var an=mt.length;an--;)if(mt[an]===Gt)continue e;f&&mt.push(Gt),st.push(Ft)}else Ae(mt,Gt,x)||(mt!==st&&mt.push(Gt),st.push(Ft))}return st}function xm(u,f){return null==(u=oy(u,f=li(f,u)))||delete u[rc(Mo(f))]}function Rd(u,f,x,oe){return Nu(u,f,x(ku(u,f)),oe)}function Em(u,f,x,oe){for(var Ae=u.length,Ve=oe?Ae:-1;(oe?Ve--:++Ve<Ae)&&f(u[Ve],Ve,u););return x?Xs(u,oe?0:Ve,oe?Ve+1:Ae):Xs(u,oe?Ve+1:0,oe?Ae:Ve)}function Sx(u,f){var x=u;return x instanceof gi&&(x=x.value()),No(f,function(oe,Ae){return Ae.func.apply(Ae.thisArg,Sc([oe],Ae.args))},x)}function zb(u,f,x){var oe=u.length;if(oe<2)return oe?Al(u[0]):[];for(var Ae=-1,Ve=Et(oe);++Ae<oe;)for(var nt=u[Ae],st=-1;++st<oe;)st!=Ae&&(Ve[Ae]=Dd(Ve[Ae]||nt,u[st],f,x));return Al(fo(Ve,1),f,x)}function Ax(u,f,x){for(var oe=-1,Ae=u.length,Ve=f.length,nt={};++oe<Ae;)x(nt,u[oe],oe<Ve?f[oe]:b);return nt}function Hb(u){return Wr(u)?u:[]}function Bt(u){return"function"==typeof u?u:Is}function li(u,f){return Qn(u)?u:km(u,f)?[u]:Vo(Di(u))}var oi=_i;function Xn(u,f,x){var oe=u.length;return x=x===b?oe:x,!f&&x>=oe?u:Xs(u,f,x)}var po=Gs||function(u){return Eo.clearTimeout(u)};function Gb(u,f){if(f)return u.slice();var x=u.length,oe=$t?$t(x):new u.constructor(x);return u.copy(oe),oe}function Pd(u){var f=new u.constructor(u.byteLength);return new um(f).set(new um(u)),f}function Mx(u,f){var x=f?Pd(u.buffer):u.buffer;return new u.constructor(x,u.byteOffset,u.length)}function UM(u,f){if(u!==f){var x=u!==b,oe=null===u,Ae=u==u,Ve=ss(u),nt=f!==b,st=null===f,mt=f==f,Pt=ss(f);if(!st&&!Pt&&!Ve&&u>f||Ve&&nt&&mt&&!st&&!Pt||oe&&nt&&mt||!x&&mt||!Ae)return 1;if(!oe&&!Ve&&!Pt&&u<f||Pt&&x&&Ae&&!oe&&!Ve||st&&x&&Ae||!nt&&Ae||!mt)return-1}return 0}function Lo(u,f,x,oe){for(var Ae=-1,Ve=u.length,nt=x.length,st=-1,mt=f.length,Pt=Xi(Ve-nt,0),Ft=Et(mt+Pt),Gt=!oe;++st<mt;)Ft[st]=f[st];for(;++Ae<nt;)(Gt||Ae<Ve)&&(Ft[x[Ae]]=u[Ae]);for(;Pt--;)Ft[st++]=u[Ae++];return Ft}function nc(u,f,x,oe){for(var Ae=-1,Ve=u.length,nt=-1,st=x.length,mt=-1,Pt=f.length,Ft=Xi(Ve-st,0),Gt=Et(Ft+Pt),an=!oe;++Ae<Ft;)Gt[Ae]=u[Ae];for(var An=Ae;++mt<Pt;)Gt[An+mt]=f[mt];for(;++nt<st;)(an||Ae<Ve)&&(Gt[An+x[nt]]=u[Ae++]);return Gt}function is(u,f){var x=-1,oe=u.length;for(f||(f=Et(oe));++x<oe;)f[x]=u[x];return f}function rs(u,f,x,oe){var Ae=!x;x||(x={});for(var Ve=-1,nt=f.length;++Ve<nt;){var st=f[Ve],mt=oe?oe(x[st],u[st],st,x,u):b;mt===b&&(mt=u[st]),Ae?ec(x,st,mt):mm(x,st,mt)}return x}function af(u,f){return function(x,oe){var Ae=Qn(x)?_M:So,Ve=f?f():{};return Ae(x,u,On(oe,2),Ve)}}function Fu(u){return _i(function(f,x){var oe=-1,Ae=x.length,Ve=Ae>1?x[Ae-1]:b,nt=Ae>2?x[2]:b;for(Ve=u.length>3&&"function"==typeof Ve?(Ae--,Ve):b,nt&&jo(x[0],x[1],nt)&&(Ve=Ae<3?b:Ve,Ae=1),f=tr(f);++oe<Ae;){var st=x[oe];st&&u(f,st,oe,Ve)}return f})}function Ix(u,f){return function(x,oe){if(null==x)return x;if(!Ms(x))return u(x,oe);for(var Ae=x.length,Ve=f?Ae:-1,nt=tr(x);(f?Ve--:++Ve<Ae)&&!1!==oe(nt[Ve],Ve,nt););return x}}function Cm(u){return function(f,x,oe){for(var Ae=-1,Ve=tr(f),nt=oe(f),st=nt.length;st--;){var mt=nt[u?st:++Ae];if(!1===x(Ve[mt],mt,Ve))break}return f}}function Xb(u){return function(f){var x=Kt(f=Di(f))?ri(f):b,oe=x?x[0]:f.charAt(0),Ae=x?Xn(x,1).join(""):f.slice(1);return oe[u]()+Ae}}function Ml(u){return function(f){return No(Uy(S1(f).replace(Jp,"")),u,"")}}function cf(u){return function(){var f=arguments;switch(f.length){case 0:return new u;case 1:return new u(f[0]);case 2:return new u(f[0],f[1]);case 3:return new u(f[0],f[1],f[2]);case 4:return new u(f[0],f[1],f[2],f[3]);case 5:return new u(f[0],f[1],f[2],f[3],f[4]);case 6:return new u(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new u(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var x=xl(u.prototype),oe=u.apply(x,f);return Ki(oe)?oe:x}}function Sm(u){return function(f,x,oe){var Ae=tr(f);if(!Ms(f)){var Ve=On(x,3);f=mo(f),x=function(st){return Ve(Ae[st],st,Ae)}}var nt=u(f,x,oe);return nt>-1?Ae[Ve?f[nt]:nt]:b}}function Kb(u){return fa(function(f){var x=f.length,oe=x,Ae=Gr.prototype.thru;for(u&&f.reverse();oe--;){var Ve=f[oe];if("function"!=typeof Ve)throw new ua(g);if(Ae&&!nt&&"wrapper"==pf(Ve))var nt=new Gr([],!0)}for(oe=nt?oe:x;++oe<x;){var st=pf(Ve=f[oe]),mt="wrapper"==st?Im(Ve):b;nt=mt&&pa(mt[0])&&424==mt[1]&&!mt[4].length&&1==mt[9]?nt[pf(mt[0])].apply(nt,mt[3]):1==Ve.length&&pa(Ve)?nt[st]():nt.thru(Ve)}return function(){var Pt=arguments,Ft=Pt[0];if(nt&&1==Pt.length&&Qn(Ft))return nt.plant(Ft).value();for(var Gt=0,an=x?f[Gt].apply(this,Pt):Ft;++Gt<x;)an=f[Gt].call(this,an);return an}})}function lf(u,f,x,oe,Ae,Ve,nt,st,mt,Pt){var Ft=f&k,Gt=1&f,an=2&f,An=24&f,Pn=512&f,hi=an?b:cf(u);return function Ln(){for(var bi=arguments.length,wi=Et(bi),Qs=bi;Qs--;)wi[Qs]=arguments[Qs];if(An)var Ho=Bu(Ln),ea=function yM(ht,Ot){for(var Et=ht.length,yn=0;Et--;)ht[Et]===Ot&&++yn;return yn}(wi,Ho);if(oe&&(wi=Lo(wi,oe,Ae,An)),Ve&&(wi=nc(wi,Ve,nt,An)),bi-=ea,An&&bi<Pt){var Br=ml(wi,Ho);return wr(u,f,lf,Ln.placeholder,x,wi,Br,st,mt,Pt-bi)}var sc=Gt?x:this,zc=an?sc[u]:u;return bi=wi.length,st?wi=function YM(u,f){for(var x=u.length,oe=qr(f.length,x),Ae=is(u);oe--;){var Ve=f[oe];u[oe]=Il(Ve,x)?Ae[Ve]:b}return u}(wi,st):Pn&&bi>1&&wi.reverse(),Ft&&mt<bi&&(wi.length=mt),this&&this!==Eo&&this instanceof Ln&&(zc=hi||cf(zc)),zc.apply(sc,wi)}}function qb(u,f){return function(x,oe){return function ux(u,f,x,oe){return Rc(u,function(Ae,Ve,nt){f(oe,x(Ae),Ve,nt)}),oe}(x,u,f(oe),{})}}function df(u,f){return function(x,oe){var Ae;if(x===b&&oe===b)return f;if(x!==b&&(Ae=x),oe!==b){if(Ae===b)return oe;"string"==typeof x||"string"==typeof oe?(x=Ks(x),oe=Ks(oe)):(x=Cx(x),oe=Cx(oe)),Ae=u(x,oe)}return Ae}}function uf(u){return fa(function(f){return f=ar(f,Hs(On())),_i(function(x){var oe=this;return u(f,function(Ae){return xs(Ae,oe,x)})})})}function Am(u,f){var x=(f=f===b?" ":Ks(f)).length;if(x<2)return x?Vb(f,u):f;var oe=Vb(f,Sd(u/ts(f)));return Kt(f)?Xn(ri(oe),0,u).join(""):oe.slice(0,u)}function Bo(u){return function(f,x,oe){return oe&&"number"!=typeof oe&&jo(f,x,oe)&&(x=oe=b),f=jc(f),x===b?(x=f,f=0):x=jc(x),function Ys(u,f,x,oe){for(var Ae=-1,Ve=Xi(Sd((f-u)/(x||1)),0),nt=Et(Ve);Ve--;)nt[oe?Ve:++Ae]=u,u+=x;return nt}(f,x,oe=oe===b?f<x?1:-1:jc(oe),u)}}function ic(u){return function(f,x){return"string"==typeof f&&"string"==typeof x||(f=Js(f),x=Js(x)),u(f,x)}}function wr(u,f,x,oe,Ae,Ve,nt,st,mt,Pt){var Ft=8&f;f|=Ft?v:64,4&(f&=~(Ft?64:v))||(f&=-4);var hi=[u,f,Ae,Ft?Ve:b,Ft?nt:b,Ft?b:Ve,Ft?b:nt,st,mt,Pt],Ln=x.apply(b,hi);return pa(u)&&Dl(Ln,hi),Ln.placeholder=oe,sy(Ln,u,f)}function Nc(u){var f=Kr[u];return function(x,oe){if(x=Js(x),(oe=null==oe?0:qr(di(oe),292))&&ln(x)){var Ae=(Di(x)+"e").split("e");return+((Ae=(Di(f(Ae[0]+"e"+(+Ae[1]+oe)))+"e").split("e"))[0]+"e"+(+Ae[1]-oe))}return f(x)}}var zM=Md&&1/rm(new Md([,-0]))[1]==Ee?function(u){return new Md(u)}:jf;function hf(u){return function(f){var x=Uo(f);return x==Z?Ed(f):x==ke?function Ac(ht){var Ot=-1,Et=Array(ht.size);return ht.forEach(function(yn){Et[++Ot]=[yn,yn]}),Et}(f):function mb(ht,Ot){return ar(Ot,function(Et){return[Et,ht[Et]]})}(f,u(f))}}function Fc(u,f,x,oe,Ae,Ve,nt,st){var mt=2&f;if(!mt&&"function"!=typeof u)throw new ua(g);var Pt=oe?oe.length:0;if(Pt||(f&=-97,oe=Ae=b),nt=nt===b?nt:Xi(di(nt),0),st=st===b?st:di(st),Pt-=Ae?Ae.length:0,64&f){var Ft=oe,Gt=Ae;oe=Ae=b}var an=mt?b:Im(u),An=[u,f,x,oe,Ae,Ft,Gt,Ve,nt,st];if(an&&function $M(u,f){var x=u[1],oe=f[1],Ae=x|oe;if(!(Ae<131)&&!(oe==k&&8==x||oe==k&&256==x&&u[7].length<=f[8]||384==oe&&f[7].length<=f[8]&&8==x))return u;1&oe&&(u[2]=f[2],Ae|=1&x?0:4);var st=f[3];if(st){var mt=u[3];u[3]=mt?Lo(mt,st,f[4]):st,u[4]=mt?ml(u[3],D):f[4]}(st=f[5])&&(u[5]=(mt=u[5])?nc(mt,st,f[6]):st,u[6]=mt?ml(u[5],D):f[6]),(st=f[7])&&(u[7]=st),oe&k&&(u[8]=null==u[8]?f[8]:qr(u[8],f[8])),null==u[9]&&(u[9]=f[9]),u[0]=f[0],u[1]=Ae}(An,an),u=An[0],f=An[1],x=An[2],oe=An[3],Ae=An[4],!(st=An[9]=An[9]===b?mt?0:u.length:Xi(An[9]-Pt,0))&&24&f&&(f&=-25),f&&1!=f)Pn=8==f||16==f?function Dx(u,f,x){var oe=cf(u);return function Ae(){for(var Ve=arguments.length,nt=Et(Ve),st=Ve,mt=Bu(Ae);st--;)nt[st]=arguments[st];var Pt=Ve<3&&nt[0]!==mt&&nt[Ve-1]!==mt?[]:ml(nt,mt);return(Ve-=Pt.length)<x?wr(u,f,lf,Ae.placeholder,b,nt,Pt,b,b,x-Ve):xs(this&&this!==Eo&&this instanceof Ae?oe:u,this,nt)}}(u,f,st):f!=v&&33!=f||Ae.length?lf.apply(b,An):function VM(u,f,x,oe){var Ae=1&f,Ve=cf(u);return function nt(){for(var st=-1,mt=arguments.length,Pt=-1,Ft=oe.length,Gt=Et(Ft+mt),an=this&&this!==Eo&&this instanceof nt?Ve:u;++Pt<Ft;)Gt[Pt]=oe[Pt];for(;mt--;)Gt[Pt++]=arguments[++st];return xs(an,Ae?x:this,Gt)}}(u,f,x,oe);else var Pn=function Yb(u,f,x){var oe=1&f,Ae=cf(u);return function Ve(){return(this&&this!==Eo&&this instanceof Ve?Ae:u).apply(oe?x:this,arguments)}}(u,f,x);return sy((an?wx:Dl)(Pn,An),u,f)}function Jb(u,f,x,oe){return u===b||ga(u,Cd[x])&&!Yi.call(oe,x)?f:u}function Zb(u,f,x,oe,Ae,Ve){return Ki(u)&&Ki(f)&&(Ve.set(f,u),$s(u,f,b,Zb,Ve),Ve.delete(f)),u}function Mm(u){return Ld(u)?b:u}function Lc(u,f,x,oe,Ae,Ve){var nt=1&x,st=u.length,mt=f.length;if(st!=mt&&!(nt&&mt>st))return!1;var Pt=Ve.get(u),Ft=Ve.get(f);if(Pt&&Ft)return Pt==f&&Ft==u;var Gt=-1,an=!0,An=2&x?new Ou:b;for(Ve.set(u,f),Ve.set(f,u);++Gt<st;){var Pn=u[Gt],hi=f[Gt];if(oe)var Ln=nt?oe(hi,Pn,Gt,f,u,Ve):oe(Pn,hi,Gt,u,f,Ve);if(Ln!==b){if(Ln)continue;an=!1;break}if(An){if(!qw(f,function(bi,wi){if(!Kh(An,wi)&&(Pn===bi||Ae(Pn,bi,x,oe,Ve)))return An.push(wi)})){an=!1;break}}else if(Pn!==hi&&!Ae(Pn,hi,x,oe,Ve)){an=!1;break}}return Ve.delete(u),Ve.delete(f),an}function fa(u){return Pm(ry(u,b,JM),u+"")}function Lu(u){return Ob(u,mo,Ox)}function ff(u){return Ob(u,Ts,kx)}var Im=yl?function(u){return yl.get(u)}:jf;function pf(u){for(var f=u.name+"",x=Ra[f],oe=Yi.call(Ra,f)?x.length:0;oe--;){var Ae=x[oe],Ve=Ae.func;if(null==Ve||Ve==u)return Ae.name}return f}function Bu(u){return(Yi.call(Fe,"placeholder")?Fe:u).placeholder}function On(){var u=Fe.iteratee||Uf;return u=u===Uf?gx:u,arguments.length?u(arguments[0],arguments[1]):u}function Tl(u,f){var x=u.__data__;return function GM(u){var f=typeof u;return"string"==f||"number"==f||"symbol"==f||"boolean"==f?"__proto__"!==u:null===u}(f)?x["string"==typeof f?"string":"hash"]:x.map}function Qb(u){for(var f=mo(u),x=f.length;x--;){var oe=f[x],Ae=u[oe];f[x]=[oe,Ae,ny(Ae)]}return f}function Uu(u,f){var x=function tx(ht,Ot){return null==ht?b:ht[Ot]}(u,f);return NM(x)?x:b}var Ox=Eb?function(u){return null==u?[]:(u=tr(u),Cc(Eb(u),function(f){return Nt.call(u,f)}))}:jd,kx=Eb?function(u){for(var f=[];u;)Sc(f,Ox(u)),u=hm(u);return f}:jd,Uo=Ao;function Dm(u,f,x){for(var oe=-1,Ae=(f=li(f,u)).length,Ve=!1;++oe<Ae;){var nt=rc(f[oe]);if(!(Ve=null!=u&&x(u,nt)))break;u=u[nt]}return Ve||++oe!=Ae?Ve:!!(Ae=null==u?0:u.length)&&If(Ae)&&Il(nt,Ae)&&(Qn(u)||kl(u))}function Rx(u){return"function"!=typeof u.constructor||Nd(u)?{}:xl(hm(u))}function Om(u){return Qn(u)||kl(u)||!!(Ii&&u&&u[Ii])}function Il(u,f){var x=typeof u;return!!(f=f??Le)&&("number"==x||"symbol"!=x&&Oa.test(u))&&u>-1&&u%1==0&&u<f}function jo(u,f,x){if(!Ki(x))return!1;var oe=typeof f;return!!("number"==oe?Ms(x)&&Il(f,x.length):"string"==oe&&f in x)&&ga(x[f],u)}function km(u,f){if(Qn(u))return!1;var x=typeof u;return!("number"!=x&&"symbol"!=x&&"boolean"!=x&&null!=u&&!ss(u))||Gh.test(u)||!Su.test(u)||null!=f&&u in tr(f)}function pa(u){var f=pf(u),x=Fe[f];if("function"!=typeof x||!(f in gi.prototype))return!1;if(u===x)return!0;var oe=Im(x);return!!oe&&u===oe[0]}(bl&&Uo(new bl(new ArrayBuffer(1)))!=J||Yn&&Uo(new Yn)!=Z||Ad&&Uo(Ad.resolve())!=de||Md&&Uo(new Md)!=ke||qa&&Uo(new qa)!=en)&&(Uo=function(u){var f=Ao(u),x=f==N?u.constructor:b,oe=x?ti(x):"";if(oe)switch(oe){case Ja:return J;case Qh:return Z;case sx:return de;case vl:return ke;case Ic:return en}return f});var Rm=am?Bc:Hy;function Nd(u){var f=u&&u.constructor;return u===("function"==typeof f&&f.prototype||Cd)}function ny(u){return u==u&&!Ki(u)}function _f(u,f){return function(x){return null!=x&&x[u]===f&&(f!==b||u in tr(x))}}function ry(u,f,x){return f=Xi(f===b?u.length-1:f,0),function(){for(var oe=arguments,Ae=-1,Ve=Xi(oe.length-f,0),nt=Et(Ve);++Ae<Ve;)nt[Ae]=oe[f+Ae];Ae=-1;for(var st=Et(f+1);++Ae<f;)st[Ae]=oe[Ae];return st[f]=x(nt),xs(u,this,st)}}function oy(u,f){return f.length<2?u:ku(u,Xs(f,0,-1))}function ju(u,f){if(("constructor"!==f||"function"!=typeof u[f])&&"__proto__"!=f)return u[f]}var Dl=Vu(wx),bf=ox||function(u,f){return Eo.setTimeout(u,f)},Pm=Vu(xx);function sy(u,f,x){var oe=f+"";return Pm(u,function ty(u,f){var x=f.length;if(!x)return u;var oe=x-1;return f[oe]=(x>1?"& ":"")+f[oe],f=f.join(x>2?", ":" "),u.replace(gd,"{\n/* [wrapped with "+f+"] */\n")}(oe,function ay(u,f){return es(dt,function(x){var oe="_."+x[0];f&x[1]&&!em(u,oe)&&u.push(oe)}),u.sort()}(function wB(u){var f=u.match(ll);return f?f[1].split($h):[]}(oe),x)))}function Vu(u){var f=0,x=0;return function(){var oe=Fo(),Ae=16-(oe-x);if(x=oe,Ae>0){if(++f>=800)return arguments[0]}else f=0;return u.apply(b,arguments)}}function Nm(u,f){var x=-1,oe=u.length,Ae=oe-1;for(f=f===b?oe:f;++x<f;){var Ve=Cl(x,Ae),nt=u[Ve];u[Ve]=u[x],u[x]=nt}return u.length=f,u}var Vo=function iy(u){var f=Sf(u,function(oe){return 500===x.size&&x.clear(),oe}),x=f.cache;return f}(function(u){var f=[];return 46===u.charCodeAt(0)&&f.push(""),u.replace(Wh,function(x,oe,Ae,Ve){f.push(Ae?Ve.replace(ul,"$1"):oe||x)}),f});function rc(u){if("string"==typeof u||ss(u))return u;var f=u+"";return"0"==f&&1/u==-Ee?"-0":f}function ti(u){if(null!=u){try{return cm.call(u)}catch{}try{return u+""}catch{}}return""}function Fx(u){if(u instanceof gi)return u.clone();var f=new Gr(u.__wrapped__,u.__chain__);return f.__actions__=is(u.__actions__),f.__index__=u.__index__,f.__values__=u.__values__,f}var Hu=_i(function(u,f){return Wr(u)?Dd(u,fo(f,1,Wr,!0)):[]}),Gu=_i(function(u,f){var x=Mo(f);return Wr(x)&&(x=b),Wr(u)?Dd(u,fo(f,1,Wr,!0),On(x,2)):[]}),Bx=_i(function(u,f){var x=Mo(f);return Wr(x)&&(x=b),Wr(u)?Dd(u,fo(f,1,Wr,!0),b,x):[]});function KM(u,f,x){var oe=null==u?0:u.length;if(!oe)return-1;var Ae=null==x?0:di(x);return Ae<0&&(Ae=Xi(oe+Ae,0)),Mu(u,On(f,3),Ae)}function qM(u,f,x){var oe=null==u?0:u.length;if(!oe)return-1;var Ae=oe-1;return x!==b&&(Ae=di(x),Ae=x<0?Xi(oe+Ae,0):qr(Ae,oe-1)),Mu(u,On(f,3),Ae,!0)}function JM(u){return null!=u&&u.length?fo(u,1):[]}function Ux(u){return u&&u.length?u[0]:b}var QM=_i(function(u){var f=ar(u,Hb);return f.length&&f[0]===u[0]?Pb(f):[]}),yf=_i(function(u){var f=Mo(u),x=ar(u,Hb);return f===Mo(x)?f=b:x.pop(),x.length&&x[0]===u[0]?Pb(x,On(f,2)):[]}),eT=_i(function(u){var f=Mo(u),x=ar(u,Hb);return(f="function"==typeof f?f:b)&&x.pop(),x.length&&x[0]===u[0]?Pb(x,b,f):[]});function Mo(u){var f=null==u?0:u.length;return f?u[f-1]:b}var vf=_i(Vx);function Vx(u,f){return u&&u.length&&f&&f.length?Ub(u,f):u}var MB=fa(function(u,f){var x=null==u?0:u.length,oe=gm(u,f);return jb(u,ar(f,function(Ae){return Il(Ae,x)?+Ae:Ae}).sort(UM)),oe});function wf(u){return null==u?u:_l.call(u)}var Bm=_i(function(u){return Al(fo(u,1,Wr,!0))}),dT=_i(function(u){var f=Mo(u);return Wr(f)&&(f=b),Al(fo(u,1,Wr,!0),On(f,2))}),Hx=_i(function(u){var f=Mo(u);return f="function"==typeof f?f:b,Al(fo(u,1,Wr,!0),b,f)});function uy(u){if(!u||!u.length)return[];var f=0;return u=Cc(u,function(x){if(Wr(x))return f=Xi(x.length,f),!0}),wd(f,function(x){return ar(u,Zw(x))})}function Wx(u,f){if(!u||!u.length)return[];var x=uy(u);return null==f?x:ar(x,function(oe){return xs(f,b,oe)})}var Ku=_i(function(u,f){return Wr(u)?Dd(u,f):[]}),xf=_i(function(u){return zb(Cc(u,Wr))}),uT=_i(function(u){var f=Mo(u);return Wr(f)&&(f=b),zb(Cc(u,Wr),On(f,2))}),IB=_i(function(u){var f=Mo(u);return f="function"==typeof f?f:b,zb(Cc(u,Wr),b,f)}),$x=_i(uy),fT=_i(function(u){var f=u.length,x=f>1?u[f-1]:b;return x="function"==typeof x?(u.pop(),x):b,Wx(u,x)});function Yx(u){var f=Fe(u);return f.__chain__=!0,f}function Fd(u,f){return f(u)}var Xx=fa(function(u){var f=u.length,x=f?u[0]:0,oe=this.__wrapped__,Ae=function(Ve){return gm(Ve,u)};return!(f>1||this.__actions__.length)&&oe instanceof gi&&Il(x)?((oe=oe.slice(x,+x+(f?1:0))).__actions__.push({func:Fd,args:[Ae],thisArg:b}),new Gr(oe,this.__chain__).thru(function(Ve){return f&&!Ve.length&&Ve.push(b),Ve})):this.thru(Ae)}),hy=af(function(u,f,x){Yi.call(u,x)?++u[x]:ec(u,x,1)}),fy=Sm(KM),NB=Sm(qM);function bT(u,f){return(Qn(u)?es:kc)(u,On(f,3))}function Jx(u,f){return(Qn(u)?Zp:Ib)(u,On(f,3))}var jm=af(function(u,f,x){Yi.call(u,x)?u[x].push(f):ec(u,x,[f])}),Zx=_i(function(u,f,x){var oe=-1,Ae="function"==typeof f,Ve=Ms(u)?Et(u.length):[];return kc(u,function(nt){Ve[++oe]=Ae?xs(f,nt,x):Ru(nt,f,x)}),Ve}),Qx=af(function(u,f,x){ec(u,x,f)});function Ef(u,f){return(Qn(u)?ar:bx)(u,On(f,3))}var e1=af(function(u,f,x){u[x?0:1].push(f)},function(){return[[],[]]}),py=_i(function(u,f){if(null==u)return[];var x=f.length;return x>1&&jo(u,f[0],f[1])?f=[]:x>2&&jo(f[0],f[1],f[2])&&(f=[f[0]]),nr(u,fo(f,1),[])}),Gm=rx||function(){return Eo.Date.now()};function r1(u,f,x){return f=x?b:f,Fc(u,k,b,b,b,b,f=u&&null==f?u.length:f)}function my(u,f){var x;if("function"!=typeof f)throw new ua(g);return u=di(u),function(){return--u>0&&(x=f.apply(this,arguments)),u<=1&&(f=b),x}}var gy=_i(function(u,f,x){var oe=1;if(x.length){var Ae=ml(x,Bu(gy));oe|=v}return Fc(u,oe,f,x,Ae)}),o1=_i(function(u,f,x){var oe=3;if(x.length){var Ae=ml(x,Bu(o1));oe|=v}return Fc(f,oe,u,x,Ae)});function _y(u,f,x){var oe,Ae,Ve,nt,st,mt,Pt=0,Ft=!1,Gt=!1,an=!0;if("function"!=typeof u)throw new ua(g);function An(Br){var sc=oe,zc=Ae;return oe=Ae=b,Pt=Br,nt=u.apply(zc,sc)}function Ln(Br){var sc=Br-mt;return mt===b||sc>=f||sc<0||Gt&&Br-Pt>=Ve}function bi(){var Br=Gm();if(Ln(Br))return wi(Br);st=bf(bi,function hi(Br){var Hc=f-(Br-mt);return Gt?qr(Hc,Ve-(Br-Pt)):Hc}(Br))}function wi(Br){return st=b,an&&oe?An(Br):(oe=Ae=b,nt)}function ea(){var Br=Gm(),sc=Ln(Br);if(oe=arguments,Ae=this,mt=Br,sc){if(st===b)return function Pn(Br){return Pt=Br,st=bf(bi,f),Ft?An(Br):nt}(mt);if(Gt)return po(st),st=bf(bi,f),An(mt)}return st===b&&(st=bf(bi,f)),nt}return f=Js(f)||0,Ki(x)&&(Ft=!!x.leading,Ve=(Gt="maxWait"in x)?Xi(Js(x.maxWait)||0,f):Ve,an="trailing"in x?!!x.trailing:an),ea.cancel=function Qs(){st!==b&&po(st),Pt=0,oe=mt=Ae=st=b},ea.flush=function Ho(){return st===b?nt:wi(Gm())},ea}var by=_i(function(u,f){return _m(u,1,f)}),zo=_i(function(u,f,x){return _m(u,Js(f)||0,x)});function Sf(u,f){if("function"!=typeof u||null!=f&&"function"!=typeof f)throw new ua(g);var x=function(){var oe=arguments,Ae=f?f.apply(this,oe):oe[0],Ve=x.cache;if(Ve.has(Ae))return Ve.get(Ae);var nt=u.apply(this,oe);return x.cache=Ve.set(Ae,nt)||Ve,nt};return x.cache=new(Sf.Cache||Oc),x}function Af(u){if("function"!=typeof u)throw new ua(g);return function(){var f=arguments;switch(f.length){case 0:return!u.call(this);case 1:return!u.call(this,f[0]);case 2:return!u.call(this,f[0],f[1]);case 3:return!u.call(this,f[0],f[1],f[2])}return!u.apply(this,f)}}Sf.Cache=Oc;var s1=oi(function(u,f){var x=(f=1==f.length&&Qn(f[0])?ar(f[0],Hs(On())):ar(fo(f,1),Hs(On()))).length;return _i(function(oe){for(var Ae=-1,Ve=qr(oe.length,x);++Ae<Ve;)oe[Ae]=f[Ae].call(this,oe[Ae]);return xs(u,this,oe)})}),yy=_i(function(u,f){var x=ml(f,Bu(yy));return Fc(u,v,b,f,x)}),vy=_i(function(u,f){var x=ml(f,Bu(vy));return Fc(u,64,b,f,x)}),CT=fa(function(u,f){return Fc(u,256,b,b,b,f)});function ga(u,f){return u===f||u!=u&&f!=f}var Ju=ic(kb),$m=ic(function(u,f){return u>=f}),kl=hx(function(){return arguments}())?hx:function(u){return Mr(u)&&Yi.call(u,"callee")&&!Nt.call(u,"callee")},Qn=Et.isArray,Ym=mM?Hs(mM):function kM(u){return Mr(u)&&Ao(u)==fe};function Ms(u){return null!=u&&If(u.length)&&!Bc(u)}function Wr(u){return Mr(u)&&Ms(u)}var Rl=Fr||Hy,OT=Tt?Hs(Tt):function RM(u){return Mr(u)&&Ao(u)==se};function Tf(u){if(!Mr(u))return!1;var f=Ao(u);return f==Be||"[object DOMException]"==f||"string"==typeof u.message&&"string"==typeof u.name&&!Ld(u)}function Bc(u){if(!Ki(u))return!1;var f=Ao(u);return f==it||f==he||"[object AsyncFunction]"==f||"[object Proxy]"==f}function Km(u){return"number"==typeof u&&u==di(u)}function If(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=Le}function Ki(u){var f=typeof u;return null!=u&&("object"==f||"function"==f)}function Mr(u){return null!=u&&"object"==typeof u}var Cy=gM?Hs(gM):function fx(u){return Mr(u)&&Uo(u)==Z};function Sy(u){return"number"==typeof u||Mr(u)&&Ao(u)==$}function Ld(u){if(!Mr(u)||Ao(u)!=N)return!1;var f=hm(u);if(null===f)return!0;var x=Yi.call(f,"constructor")&&f.constructor;return"function"==typeof x&&x instanceof x&&cm.call(x)==CM}var Jm=Wt?Hs(Wt):function px(u){return Mr(u)&&Ao(u)==He},Zu=Yh?Hs(Yh):function vr(u){return Mr(u)&&Uo(u)==ke};function Df(u){return"string"==typeof u||!Qn(u)&&Mr(u)&&Ao(u)==ft}function ss(u){return"symbol"==typeof u||Mr(u)&&Ao(u)==Ht}var Uc=Xw?Hs(Xw):function mx(u){return Mr(u)&&If(u.length)&&!!br[Ao(u)]},FT=ic(ym),p1=ic(function(u,f){return u<=f});function m1(u){if(!u)return[];if(Ms(u))return Df(u)?ri(u):is(u);if(zr&&u[zr])return function bb(ht){for(var Ot,Et=[];!(Ot=ht.next()).done;)Et.push(Ot.value);return Et}(u[zr]());var f=Uo(u);return(f==Z?Ed:f==ke?rm:Pl)(u)}function jc(u){return u?(u=Js(u))===Ee||u===-Ee?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}function di(u){var f=jc(u),x=f%1;return f==f?x?f-x:f:0}function My(u){return u?El(di(u),0,ge):0}function Js(u){if("number"==typeof u)return u;if(ss(u))return NaN;if(Ki(u)){var f="function"==typeof u.valueOf?u.valueOf():u;u=Ki(f)?f+"":f}if("string"!=typeof u)return 0===u?u:+u;u=Xh(u);var x=hl.test(u);return x||Ka.test(u)?tB(u.slice(2),x?2:8):ji.test(u)?NaN:+u}function kf(u){return rs(u,Ts(u))}function Di(u){return null==u?"":Ks(u)}var LT=Fu(function(u,f){if(Nd(f)||Ms(f))rs(f,mo(f),u);else for(var x in f)Yi.call(f,x)&&mm(u,x,f[x])}),g1=Fu(function(u,f){rs(f,Ts(f),u)}),Iy=Fu(function(u,f,x,oe){rs(f,Ts(f),u,oe)}),BT=Fu(function(u,f,x,oe){rs(f,mo(f),u,oe)}),Dy=fa(gm),Qu=_i(function(u,f){u=tr(u);var x=-1,oe=f.length,Ae=oe>2?f[2]:b;for(Ae&&jo(f[0],f[1],Ae)&&(oe=1);++x<oe;)for(var Ve=f[x],nt=Ts(Ve),st=-1,mt=nt.length;++st<mt;){var Pt=nt[st],Ft=u[Pt];(Ft===b||ga(Ft,Cd[Pt])&&!Yi.call(u,Pt))&&(u[Pt]=Ve[Pt])}return u}),Qm=_i(function(u){return u.push(b,Zb),xs(w1,b,u)});function ky(u,f,x){var oe=null==u?b:ku(u,f);return oe===b?x:oe}function as(u,f){return null!=u&&Dm(u,f,bB)}var oc=qb(function(u,f,x){null!=f&&"function"!=typeof f.toString&&(f=lm.call(f)),u[f]=x},Bf(Is)),GT=qb(function(u,f,x){null!=f&&"function"!=typeof f.toString&&(f=lm.call(f)),Yi.call(u,f)?u[f].push(x):u[f]=[x]},On),WT=_i(Ru);function mo(u){return Ms(u)?IM(u):Fb(u)}function Ts(u){return Ms(u)?IM(u,!0):function _x(u){if(!Ki(u))return function Px(u){var f=[];if(null!=u)for(var x in tr(u))f.push(x);return f}(u);var f=Nd(u),x=[];for(var oe in u)"constructor"==oe&&(f||!Yi.call(u,oe))||x.push(oe);return x}(u)}var v1=Fu(function(u,f,x){$s(u,f,x)}),w1=Fu(function(u,f,x,oe){$s(u,f,x,oe)}),KT=fa(function(u,f){var x={};if(null==u)return x;var oe=!1;f=ar(f,function(Ve){return Ve=li(Ve,u),oe||(oe=Ve.length>1),Ve}),rs(u,ff(u),x),oe&&(x=Ws(x,7,Mm));for(var Ae=f.length;Ae--;)xm(x,f[Ae]);return x}),JT=fa(function(u,f){return null==u?{}:function Bb(u,f){return sf(u,f,function(x,oe){return as(u,oe)})}(u,f)});function Rf(u,f){if(null==u)return{};var x=ar(ff(u),function(oe){return[oe]});return f=On(f),sf(u,x,function(oe,Ae){return f(oe,Ae[0])})}var Ry=hf(mo),Py=hf(Ts);function Pl(u){return null==u?[]:gb(u,mo(u))}var QT=Ml(function(u,f,x){return f=f.toLowerCase(),u+(x?C1(f):f)});function C1(u){return ig(Di(u).toLowerCase())}function S1(u){return(u=Di(u))&&u.replace(Ec,pl).replace(Zn,"")}var Fy=Ml(function(u,f,x){return u+(x?"-":"")+f.toLowerCase()}),eI=Ml(function(u,f,x){return u+(x?" ":"")+f.toLowerCase()}),go=Xb("toLowerCase"),oI=Ml(function(u,f,x){return u+(x?"_":"")+f.toLowerCase()}),I1=Ml(function(u,f,x){return u+(x?" ":"")+ig(f)}),aI=Ml(function(u,f,x){return u+(x?" ":"")+f.toUpperCase()}),ig=Xb("toUpperCase");function Uy(u,f,x){return u=Di(u),(f=x?b:f)===b?function im(ht){return fM.test(ht)}(u)?function Mc(ht){return ht.match(hM)||[]}(u):function rB(ht){return ht.match(dl)||[]}(u):u.match(f)||[]}var Lf=_i(function(u,f){try{return xs(u,b,f)}catch(x){return Tf(x)?x:new qn(x)}}),YB=fa(function(u,f){return es(f,function(x){x=rc(x),ec(u,x,gy(u[x],u))}),u});function Bf(u){return function(){return u}}var k1=Kb(),Ud=Kb(!0);function Is(u){return u}function Uf(u){return gx("function"==typeof u?u:Ws(u,1))}var Vy=_i(function(u,f){return function(x){return Ru(x,u,f)}}),og=_i(function(u,f){return function(x){return Ru(u,x,f)}});function Ds(u,f,x){var oe=mo(f),Ae=bm(f,oe);null==x&&(!Ki(f)||!Ae.length&&oe.length)&&(x=f,f=u,u=this,Ae=bm(f,mo(f)));var Ve=!(Ki(x)&&"chain"in x&&!x.chain),nt=Bc(u);return es(Ae,function(st){var mt=f[st];u[st]=mt,nt&&(u.prototype[st]=function(){var Pt=this.__chain__;if(Ve||Pt){var Ft=u(this.__wrapped__);return(Ft.__actions__=is(this.__actions__)).push({func:mt,args:arguments,thisArg:u}),Ft.__chain__=Pt,Ft}return mt.apply(u,Sc([this.value()],arguments))})}),u}function jf(){}var uI=uf(ar),R1=uf(Qp),eh=uf(qw);function P1(u){return km(u)?Zw(rc(u)):function Ss(u){return function(f){return ku(f,u)}}(u)}var fI=Bo(),zy=Bo(!0);function jd(){return[]}function Hy(){return!1}var KB=df(function(u,f){return u+f},0),qB=Nc("ceil"),ag=df(function(u,f){return u/f},1),mI=Nc("floor"),cg=df(function(u,f){return u*f},1),nh=Nc("round"),Ky=df(function(u,f){return u-f},0);return Fe.after=function xT(u,f){if("function"!=typeof f)throw new ua(g);return u=di(u),function(){if(--u<1)return f.apply(this,arguments)}},Fe.ary=r1,Fe.assign=LT,Fe.assignIn=g1,Fe.assignInWith=Iy,Fe.assignWith=BT,Fe.at=Dy,Fe.before=my,Fe.bind=gy,Fe.bindAll=YB,Fe.bindKey=o1,Fe.castArray=function MT(){if(!arguments.length)return[];var u=arguments[0];return Qn(u)?u:[u]},Fe.chain=Yx,Fe.chunk=function Lx(u,f,x){f=(x?jo(u,f,x):f===b)?1:Xi(di(f),0);var oe=null==u?0:u.length;if(!oe||f<1)return[];for(var Ae=0,Ve=0,nt=Et(Sd(oe/f));Ae<oe;)nt[Ve++]=Xs(u,Ae,Ae+=f);return nt},Fe.compact=function As(u){for(var f=-1,x=null==u?0:u.length,oe=0,Ae=[];++f<x;){var Ve=u[f];Ve&&(Ae[oe++]=Ve)}return Ae},Fe.concat=function zu(){var u=arguments.length;if(!u)return[];for(var f=Et(u-1),x=arguments[0],oe=u;oe--;)f[oe-1]=arguments[oe];return Sc(Qn(x)?is(x):[x],fo(f,1))},Fe.cond=function jy(u){var f=null==u?0:u.length,x=On();return u=f?ar(u,function(oe){if("function"!=typeof oe[1])throw new ua(g);return[x(oe[0]),oe[1]]}):[],_i(function(oe){for(var Ae=-1;++Ae<f;){var Ve=u[Ae];if(xs(Ve[0],this,oe))return xs(Ve[1],this,oe)}})},Fe.conforms=function cI(u){return function Mb(u){var f=mo(u);return function(x){return Tb(x,u,f)}}(Ws(u,1))},Fe.constant=Bf,Fe.countBy=hy,Fe.create=function UT(u,f){var x=xl(u);return null==f?x:nf(x,f)},Fe.curry=function os(u,f,x){var oe=Fc(u,8,b,b,b,b,b,f=x?b:f);return oe.placeholder=os.placeholder,oe},Fe.curryRight=function Wm(u,f,x){var oe=Fc(u,16,b,b,b,b,b,f=x?b:f);return oe.placeholder=Wm.placeholder,oe},Fe.debounce=_y,Fe.defaults=Qu,Fe.defaultsDeep=Qm,Fe.defer=by,Fe.delay=zo,Fe.difference=Hu,Fe.differenceBy=Gu,Fe.differenceWith=Bx,Fe.drop=function cy(u,f,x){var oe=null==u?0:u.length;return oe?Xs(u,(f=x||f===b?1:di(f))<0?0:f,oe):[]},Fe.dropRight=function Wu(u,f,x){var oe=null==u?0:u.length;return oe?Xs(u,0,(f=oe-(f=x||f===b?1:di(f)))<0?0:f):[]},Fe.dropRightWhile=function xB(u,f){return u&&u.length?Em(u,On(f,3),!0,!0):[]},Fe.dropWhile=function XM(u,f){return u&&u.length?Em(u,On(f,3),!0):[]},Fe.fill=function EB(u,f,x,oe){var Ae=null==u?0:u.length;return Ae?(x&&"number"!=typeof x&&jo(u,f,x)&&(x=0,oe=Ae),function rf(u,f,x,oe){var Ae=u.length;for((x=di(x))<0&&(x=-x>Ae?0:Ae+x),(oe=oe===b||oe>Ae?Ae:di(oe))<0&&(oe+=Ae),oe=x>oe?0:My(oe);x<oe;)u[x++]=f;return u}(u,f,x,oe)):[]},Fe.filter=function PB(u,f){return(Qn(u)?Cc:kd)(u,On(f,3))},Fe.flatMap=function FB(u,f){return fo(Ef(u,f),1)},Fe.flatMapDeep=function LB(u,f){return fo(Ef(u,f),Ee)},Fe.flatMapDepth=function BB(u,f,x){return x=x===b?1:di(x),fo(Ef(u,f),x)},Fe.flatten=JM,Fe.flattenDeep=function CB(u){return null!=u&&u.length?fo(u,Ee):[]},Fe.flattenDepth=function SB(u,f){return null!=u&&u.length?fo(u,f=f===b?1:di(f)):[]},Fe.flip=function Cf(u){return Fc(u,512)},Fe.flow=k1,Fe.flowRight=Ud,Fe.fromPairs=function $u(u){for(var f=-1,x=null==u?0:u.length,oe={};++f<x;){var Ae=u[f];oe[Ae[0]]=Ae[1]}return oe},Fe.functions=function VT(u){return null==u?[]:bm(u,mo(u))},Fe.functionsIn=function zT(u){return null==u?[]:bm(u,Ts(u))},Fe.groupBy=jm,Fe.initial=function so(u){return null!=u&&u.length?Xs(u,0,-1):[]},Fe.intersection=QM,Fe.intersectionBy=yf,Fe.intersectionWith=eT,Fe.invert=oc,Fe.invertBy=GT,Fe.invokeMap=Zx,Fe.iteratee=Uf,Fe.keyBy=Qx,Fe.keys=mo,Fe.keysIn=Ts,Fe.map=Ef,Fe.mapKeys=function $T(u,f){var x={};return f=On(f,3),Rc(u,function(oe,Ae,Ve){ec(x,f(oe,Ae,Ve),oe)}),x},Fe.mapValues=function XT(u,f){var x={};return f=On(f,3),Rc(u,function(oe,Ae,Ve){ec(x,Ae,f(oe,Ae,Ve))}),x},Fe.matches=function rg(u){return vm(Ws(u,1))},Fe.matchesProperty=function lI(u,f){return yx(u,Ws(f,1))},Fe.memoize=Sf,Fe.merge=v1,Fe.mergeWith=w1,Fe.method=Vy,Fe.methodOf=og,Fe.mixin=Ds,Fe.negate=Af,Fe.nthArg=function dI(u){return u=di(u),_i(function(f){return Lb(f,u)})},Fe.omit=KT,Fe.omitBy=function qT(u,f){return Rf(u,Af(On(f)))},Fe.once=function ET(u){return my(2,u)},Fe.orderBy=function qu(u,f,x,oe){return null==u?[]:(Qn(f)||(f=null==f?[]:[f]),Qn(x=oe?b:x)||(x=null==x?[]:[x]),nr(u,f,x))},Fe.over=uI,Fe.overArgs=s1,Fe.overEvery=R1,Fe.overSome=eh,Fe.partial=yy,Fe.partialRight=vy,Fe.partition=e1,Fe.pick=JT,Fe.pickBy=Rf,Fe.property=P1,Fe.propertyOf=function hI(u){return function(f){return null==u?b:ku(u,f)}},Fe.pull=vf,Fe.pullAll=Vx,Fe.pullAllBy=function AB(u,f,x){return u&&u.length&&f&&f.length?Ub(u,f,On(x,2)):u},Fe.pullAllWith=function tT(u,f,x){return u&&u.length&&f&&f.length?Ub(u,f,b,x):u},Fe.pullAt=MB,Fe.range=fI,Fe.rangeRight=zy,Fe.rearg=CT,Fe.reject=function Hm(u,f){return(Qn(u)?Cc:kd)(u,Af(On(f,3)))},Fe.remove=function qs(u,f){var x=[];if(!u||!u.length)return x;var oe=-1,Ae=[],Ve=u.length;for(f=On(f,3);++oe<Ve;){var nt=u[oe];f(nt,oe,u)&&(x.push(nt),Ae.push(oe))}return jb(u,Ae),x},Fe.rest=function a1(u,f){if("function"!=typeof u)throw new ua(g);return _i(u,f=f===b?f:di(f))},Fe.reverse=wf,Fe.sampleSize=function yT(u,f,x){return f=(x?jo(u,f,x):f===b)?1:di(f),(Qn(u)?_B:Sl)(u,f)},Fe.set=function Pf(u,f,x){return null==u?u:Nu(u,f,x)},Fe.setWith=function x1(u,f,x,oe){return oe="function"==typeof oe?oe:b,null==u?u:Nu(u,f,x,oe)},Fe.shuffle=function vT(u){return(Qn(u)?Id:Ex)(u)},Fe.slice=function Yu(u,f,x){var oe=null==u?0:u.length;return oe?(x&&"number"!=typeof x&&jo(u,f,x)?(f=0,x=oe):(f=null==f?0:di(f),x=x===b?oe:di(x)),Xs(u,f,x)):[]},Fe.sortBy=py,Fe.sortedUniq=function sT(u){return u&&u.length?BM(u):[]},Fe.sortedUniqBy=function aT(u,f){return u&&u.length?BM(u,On(f,2)):[]},Fe.split=function sI(u,f,x){return x&&"number"!=typeof x&&jo(u,f,x)&&(f=x=b),(x=x===b?ge:x>>>0)?(u=Di(u))&&("string"==typeof f||null!=f&&!Jm(f))&&!(f=Ks(f))&&Kt(u)?Xn(ri(u),0,x):u.split(f,x):[]},Fe.spread=function ST(u,f){if("function"!=typeof u)throw new ua(g);return f=null==f?0:Xi(di(f),0),_i(function(x){var oe=x[f],Ae=Xn(x,0,f);return oe&&Sc(Ae,oe),xs(u,this,Ae)})},Fe.tail=function ly(u){var f=null==u?0:u.length;return f?Xs(u,1,f):[]},Fe.take=function Lm(u,f,x){return u&&u.length?Xs(u,0,(f=x||f===b?1:di(f))<0?0:f):[]},Fe.takeRight=function cT(u,f,x){var oe=null==u?0:u.length;return oe?Xs(u,(f=oe-(f=x||f===b?1:di(f)))<0?0:f,oe):[]},Fe.takeRightWhile=function Xu(u,f){return u&&u.length?Em(u,On(f,3),!1,!0):[]},Fe.takeWhile=function lT(u,f){return u&&u.length?Em(u,On(f,3)):[]},Fe.tap=function pT(u,f){return f(u),u},Fe.throttle=function AT(u,f,x){var oe=!0,Ae=!0;if("function"!=typeof u)throw new ua(g);return Ki(x)&&(oe="leading"in x?!!x.leading:oe,Ae="trailing"in x?!!x.trailing:Ae),_y(u,f,{leading:oe,maxWait:f,trailing:Ae})},Fe.thru=Fd,Fe.toArray=m1,Fe.toPairs=Ry,Fe.toPairsIn=Py,Fe.toPath=function Gy(u){return Qn(u)?ar(u,rc):ss(u)?[u]:is(Vo(Di(u)))},Fe.toPlainObject=kf,Fe.transform=function jB(u,f,x){var oe=Qn(u),Ae=oe||Rl(u)||Uc(u);if(f=On(f,4),null==x){var Ve=u&&u.constructor;x=Ae?oe?new Ve:[]:Ki(u)&&Bc(Ve)?xl(hm(u)):{}}return(Ae?es:Rc)(u,function(nt,st,mt){return f(x,nt,st,mt)}),x},Fe.unary=function wy(u){return r1(u,1)},Fe.union=Bm,Fe.unionBy=dT,Fe.unionWith=Hx,Fe.uniq=function dy(u){return u&&u.length?Al(u):[]},Fe.uniqBy=function Um(u,f){return u&&u.length?Al(u,On(f,2)):[]},Fe.uniqWith=function Gx(u,f){return f="function"==typeof f?f:b,u&&u.length?Al(u,b,f):[]},Fe.unset=function VB(u,f){return null==u||xm(u,f)},Fe.unzip=uy,Fe.unzipWith=Wx,Fe.update=function zB(u,f,x){return null==u?u:Rd(u,f,Bt(x))},Fe.updateWith=function Ny(u,f,x,oe){return oe="function"==typeof oe?oe:b,null==u?u:Rd(u,f,Bt(x),oe)},Fe.values=Pl,Fe.valuesIn=function HB(u){return null==u?[]:gb(u,Ts(u))},Fe.without=Ku,Fe.words=Uy,Fe.wrap=function xy(u,f){return yy(Bt(f),u)},Fe.xor=xf,Fe.xorBy=uT,Fe.xorWith=IB,Fe.zip=$x,Fe.zipObject=function hT(u,f){return Ax(u||[],f||[],mm)},Fe.zipObjectDeep=function DB(u,f){return Ax(u||[],f||[],Nu)},Fe.zipWith=fT,Fe.entries=Ry,Fe.entriesIn=Py,Fe.extend=g1,Fe.extendWith=Iy,Ds(Fe,Fe),Fe.add=KB,Fe.attempt=Lf,Fe.camelCase=QT,Fe.capitalize=C1,Fe.ceil=qB,Fe.clamp=function GB(u,f,x){return x===b&&(x=f,f=b),x!==b&&(x=(x=Js(x))==x?x:0),f!==b&&(f=(f=Js(f))==f?f:0),El(Js(u),f,x)},Fe.clone=function Mf(u){return Ws(u,4)},Fe.cloneDeep=function IT(u){return Ws(u,5)},Fe.cloneDeepWith=function c1(u,f){return Ws(u,5,f="function"==typeof f?f:b)},Fe.cloneWith=function TT(u,f){return Ws(u,4,f="function"==typeof f?f:b)},Fe.conformsTo=function l1(u,f){return null==f||Tb(u,f,mo(f))},Fe.deburr=S1,Fe.defaultTo=function O1(u,f){return null==u||u!=u?f:u},Fe.divide=ag,Fe.endsWith=function A1(u,f,x){u=Di(u),f=Ks(f);var oe=u.length,Ae=x=x===b?oe:El(di(x),0,oe);return(x-=f.length)>=0&&u.slice(x,Ae)==f},Fe.eq=ga,Fe.escape=function eg(u){return(u=Di(u))&&Vs.test(u)?u.replace(ur,vM):u},Fe.escapeRegExp=function M1(u){return(u=Di(u))&&Da.test(u)?u.replace(pd,"\\$&"):u},Fe.every=function RB(u,f,x){var oe=Qn(u)?Qp:lx;return x&&jo(u,f,x)&&(f=b),oe(u,On(f,3))},Fe.find=fy,Fe.findIndex=KM,Fe.findKey=function Oy(u,f){return tm(u,On(f,3),Rc)},Fe.findLast=NB,Fe.findLastIndex=qM,Fe.findLastKey=function _1(u,f){return tm(u,On(f,3),Db)},Fe.floor=mI,Fe.forEach=bT,Fe.forEachRight=Jx,Fe.forIn=function b1(u,f){return null==u?u:dx(u,On(f,3),Ts)},Fe.forInRight=function y1(u,f){return null==u?u:OM(u,On(f,3),Ts)},Fe.forOwn=function Bd(u,f){return u&&Rc(u,On(f,3))},Fe.forOwnRight=function jT(u,f){return u&&Db(u,On(f,3))},Fe.get=ky,Fe.gt=Ju,Fe.gte=$m,Fe.has=function HT(u,f){return null!=u&&Dm(u,f,Rb)},Fe.hasIn=as,Fe.head=Ux,Fe.identity=Is,Fe.includes=function Vm(u,f,x,oe){u=Ms(u)?u:Pl(u),x=x&&!oe?di(x):0;var Ae=u.length;return x<0&&(x=Xi(Ae+x,0)),Df(u)?x<=Ae&&u.indexOf(f,x)>-1:!!Ae&&vd(u,f,x)>-1},Fe.indexOf=function ZM(u,f,x){var oe=null==u?0:u.length;if(!oe)return-1;var Ae=null==x?0:di(x);return Ae<0&&(Ae=Xi(oe+Ae,0)),vd(u,f,Ae)},Fe.inRange=function E1(u,f,x){return f=jc(f),x===b?(x=f,f=0):x=jc(x),function yB(u,f,x){return u>=qr(f,x)&&u<Xi(f,x)}(u=Js(u),f,x)},Fe.invoke=WT,Fe.isArguments=kl,Fe.isArray=Qn,Fe.isArrayBuffer=Ym,Fe.isArrayLike=Ms,Fe.isArrayLikeObject=Wr,Fe.isBoolean=function DT(u){return!0===u||!1===u||Mr(u)&&Ao(u)==O},Fe.isBuffer=Rl,Fe.isDate=OT,Fe.isElement=function kT(u){return Mr(u)&&1===u.nodeType&&!Ld(u)},Fe.isEmpty=function d1(u){if(null==u)return!0;if(Ms(u)&&(Qn(u)||"string"==typeof u||"function"==typeof u.splice||Rl(u)||Uc(u)||kl(u)))return!u.length;var f=Uo(u);if(f==Z||f==ke)return!u.size;if(Nd(u))return!Fb(u).length;for(var x in u)if(Yi.call(u,x))return!1;return!0},Fe.isEqual=function Xm(u,f){return Pu(u,f)},Fe.isEqualWith=function Ey(u,f,x){var oe=(x="function"==typeof x?x:b)?x(u,f):b;return oe===b?Pu(u,f,b,x):!!oe},Fe.isError=Tf,Fe.isFinite=function RT(u){return"number"==typeof u&&ln(u)},Fe.isFunction=Bc,Fe.isInteger=Km,Fe.isLength=If,Fe.isMap=Cy,Fe.isMatch=function PT(u,f){return u===f||Nb(u,f,Qb(f))},Fe.isMatchWith=function UB(u,f,x){return x="function"==typeof x?x:b,Nb(u,f,Qb(f),x)},Fe.isNaN=function qm(u){return Sy(u)&&u!=+u},Fe.isNative=function NT(u){if(Rm(u))throw new qn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return NM(u)},Fe.isNil=function h1(u){return null==u},Fe.isNull=function u1(u){return null===u},Fe.isNumber=Sy,Fe.isObject=Ki,Fe.isObjectLike=Mr,Fe.isPlainObject=Ld,Fe.isRegExp=Jm,Fe.isSafeInteger=function Zm(u){return Km(u)&&u>=-Le&&u<=Le},Fe.isSet=Zu,Fe.isString=Df,Fe.isSymbol=ss,Fe.isTypedArray=Uc,Fe.isUndefined=function f1(u){return u===b},Fe.isWeakMap=function Ay(u){return Mr(u)&&Uo(u)==en},Fe.isWeakSet=function Of(u){return Mr(u)&&"[object WeakSet]"==Ao(u)},Fe.join=function ma(u,f){return null==u?"":ei.call(u,f)},Fe.kebabCase=Fy,Fe.last=Mo,Fe.lastIndexOf=function jx(u,f,x){var oe=null==u?0:u.length;if(!oe)return-1;var Ae=oe;return x!==b&&(Ae=(Ae=di(x))<0?Xi(oe+Ae,0):qr(Ae,oe-1)),f==f?function da(ht,Ot,Et){for(var yn=Et+1;yn--;)if(ht[yn]===Ot)return yn;return yn}(u,f,Ae):Mu(u,Jw,Ae,!0)},Fe.lowerCase=eI,Fe.lowerFirst=go,Fe.lt=FT,Fe.lte=p1,Fe.max=function Wy(u){return u&&u.length?Od(u,Is,kb):b},Fe.maxBy=function $y(u,f){return u&&u.length?Od(u,On(f,2),kb):b},Fe.mean=function th(u){return nm(u,Is)},Fe.meanBy=function Yy(u,f){return nm(u,On(f,2))},Fe.min=function Xy(u){return u&&u.length?Od(u,Is,ym):b},Fe.minBy=function Vf(u,f){return u&&u.length?Od(u,On(f,2),ym):b},Fe.stubArray=jd,Fe.stubFalse=Hy,Fe.stubObject=function N1(){return{}},Fe.stubString=function Zs(){return""},Fe.stubTrue=function XB(){return!0},Fe.multiply=cg,Fe.nth=function Fm(u,f){return u&&u.length?Lb(u,di(f)):b},Fe.noConflict=function sg(){return Eo._===this&&(Eo._=SM),this},Fe.noop=jf,Fe.now=Gm,Fe.pad=function tI(u,f,x){u=Di(u);var oe=(f=di(f))?ts(u):0;if(!f||oe>=f)return u;var Ae=(f-oe)/2;return Am(fm(Ae),x)+u+Am(Sd(Ae),x)},Fe.padEnd=function nI(u,f,x){u=Di(u);var oe=(f=di(f))?ts(u):0;return f&&oe<f?u+Am(f-oe,x):u},Fe.padStart=function tg(u,f,x){u=Di(u);var oe=(f=di(f))?ts(u):0;return f&&oe<f?Am(f-oe,x)+u:u},Fe.parseInt=function T1(u,f,x){return x||null==f?f=0:f&&(f=+f),Tu(Di(u).replace(xc,""),f||0)},Fe.random=function ZT(u,f,x){if(x&&"boolean"!=typeof x&&jo(u,f,x)&&(f=x=b),x===b&&("boolean"==typeof f?(x=f,f=b):"boolean"==typeof u&&(x=u,u=b)),u===b&&f===b?(u=0,f=1):(u=jc(u),f===b?(f=u,u=0):f=jc(f)),u>f){var oe=u;u=f,f=oe}if(x||u%1||f%1){var Ae=Lr();return qr(u+Ae*(f-u+eB("1e-"+((Ae+"").length-1))),f)}return Cl(u,f)},Fe.reduce=function t1(u,f,x){var oe=Qn(u)?No:bM,Ae=arguments.length<3;return oe(u,On(f,4),x,Ae,kc)},Fe.reduceRight=function zm(u,f,x){var oe=Qn(u)?Kw:bM,Ae=arguments.length<3;return oe(u,On(f,4),x,Ae,Ib)},Fe.repeat=function iI(u,f,x){return f=(x?jo(u,f,x):f===b)?1:di(f),Vb(Di(u),f)},Fe.replace=function rI(){var u=arguments,f=Di(u[0]);return u.length<3?f:f.replace(u[1],u[2])},Fe.result=function Vc(u,f,x){var oe=-1,Ae=(f=li(f,u)).length;for(Ae||(Ae=1,u=b);++oe<Ae;){var Ve=null==u?b:u[rc(f[oe])];Ve===b&&(oe=Ae,Ve=x),u=Bc(Ve)?Ve.call(u):Ve}return u},Fe.round=nh,Fe.runInContext=ht,Fe.sample=function Ol(u){return(Qn(u)?DM:FM)(u)},Fe.size=function wT(u){if(null==u)return 0;if(Ms(u))return Df(u)?ts(u):u.length;var f=Uo(u);return f==Z||f==ke?u.size:Fb(u).length},Fe.snakeCase=oI,Fe.some=function n1(u,f,x){var oe=Qn(u)?qw:LM;return x&&jo(u,f,x)&&(f=b),oe(u,On(f,3))},Fe.sortedIndex=function TB(u,f){return Fn(u,f)},Fe.sortedIndexBy=function zx(u,f,x){return wm(u,f,On(x,2))},Fe.sortedIndexOf=function nT(u,f){var x=null==u?0:u.length;if(x){var oe=Fn(u,f);if(oe<x&&ga(u[oe],f))return oe}return-1},Fe.sortedLastIndex=function iT(u,f){return Fn(u,f,!0)},Fe.sortedLastIndexBy=function rT(u,f,x){return wm(u,f,On(x,2),!0)},Fe.sortedLastIndexOf=function oT(u,f){if(null!=u&&u.length){var oe=Fn(u,f,!0)-1;if(ga(u[oe],f))return oe}return-1},Fe.startCase=I1,Fe.startsWith=function WB(u,f,x){return u=Di(u),x=null==x?0:El(di(x),0,u.length),f=Ks(f),u.slice(x,x+f.length)==f},Fe.subtract=Ky,Fe.sum=function qy(u){return u&&u.length?ex(u,Is):0},Fe.sumBy=function lg(u,f){return u&&u.length?ex(u,On(f,2)):0},Fe.template=function $B(u,f,x){var oe=Fe.templateSettings;x&&jo(u,f,x)&&(f=b),u=Di(u),f=Iy({},f,oe,Jb);var st,mt,Ae=Iy({},f.imports,oe.imports,Jb),Ve=mo(Ae),nt=gb(Ae,Ve),Pt=0,Ft=f.interpolate||Jo,Gt="__p += '",an=sm((f.escape||Jo).source+"|"+Ft.source+"|"+(Ft===ko?_d:Jo).source+"|"+(f.evaluate||Jo).source+"|$","g"),An="//# sourceURL="+(Yi.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zs+"]")+"\n";u.replace(an,function(Ln,bi,wi,Qs,Ho,ea){return wi||(wi=Qs),Gt+=u.slice(Pt,ea).replace(_e,Ze),bi&&(st=!0,Gt+="' +\n__e("+bi+") +\n'"),Ho&&(mt=!0,Gt+="';\n"+Ho+";\n__p += '"),wi&&(Gt+="' +\n((__t = ("+wi+")) == null ? '' : __t) +\n'"),Pt=ea+Ln.length,Ln}),Gt+="';\n";var Pn=Yi.call(f,"variable")&&f.variable;if(Pn){if(Au.test(Pn))throw new qn("Invalid `variable` option passed into `_.template`")}else Gt="with (obj) {\n"+Gt+"\n}\n";Gt=(mt?Gt.replace(jn,""):Gt).replace(Ko,"$1").replace(js,"$1;"),Gt="function("+(Pn||"obj")+") {\n"+(Pn?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(st?", __e = _.escape":"")+(mt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Gt+"return __p\n}";var hi=Lf(function(){return Fi(Ve,An+"return "+Gt).apply(b,nt)});if(hi.source=Gt,Tf(hi))throw hi;return hi},Fe.times=function xr(u,f){if((u=di(u))<1||u>Le)return[];var x=ge,oe=qr(u,ge);f=On(f),u-=ge;for(var Ae=wd(oe,f);++x<u;)f(x);return Ae},Fe.toFinite=jc,Fe.toInteger=di,Fe.toLength=My,Fe.toLower=function Nf(u){return Di(u).toLowerCase()},Fe.toNumber=Js,Fe.toSafeInteger=function Ty(u){return u?El(di(u),-Le,Le):0===u?u:0},Fe.toString=Di,Fe.toUpper=function yt(u){return Di(u).toUpperCase()},Fe.trim=function Ff(u,f,x){if((u=Di(u))&&(x||f===b))return Xh(u);if(!u||!(f=Ks(f)))return u;var oe=ri(u),Ae=ri(f);return Xn(oe,_b(oe,Ae),xd(oe,Ae)+1).join("")},Fe.trimEnd=function ng(u,f,x){if((u=Di(u))&&(x||f===b))return u.slice(0,qh(u)+1);if(!u||!(f=Ks(f)))return u;var oe=ri(u);return Xn(oe,0,xd(oe,ri(f))+1).join("")},Fe.trimStart=function D1(u,f,x){if((u=Di(u))&&(x||f===b))return u.replace(xc,"");if(!u||!(f=Ks(f)))return u;var oe=ri(u);return Xn(oe,_b(oe,ri(f))).join("")},Fe.truncate=function Ly(u,f){var x=30,oe="...";if(Ki(f)){var Ae="separator"in f?f.separator:Ae;x="length"in f?di(f.length):x,oe="omission"in f?Ks(f.omission):oe}var Ve=(u=Di(u)).length;if(Kt(u)){var nt=ri(u);Ve=nt.length}if(x>=Ve)return u;var st=x-ts(oe);if(st<1)return oe;var mt=nt?Xn(nt,0,st).join(""):u.slice(0,st);if(Ae===b)return mt+oe;if(nt&&(st+=mt.length-st),Jm(Ae)){if(u.slice(st).search(Ae)){var Pt,Ft=mt;for(Ae.global||(Ae=sm(Ae.source,Di(er.exec(Ae))+"g")),Ae.lastIndex=0;Pt=Ae.exec(Ft);)var Gt=Pt.index;mt=mt.slice(0,Gt===b?st:Gt)}}else if(u.indexOf(Ks(Ae),st)!=st){var an=mt.lastIndexOf(Ae);an>-1&&(mt=mt.slice(0,an))}return mt+oe},Fe.unescape=function By(u){return(u=Di(u))&&ho.test(u)?u.replace(ys,yb):u},Fe.uniqueId=function pI(u){var f=++EM;return Di(u)+f},Fe.upperCase=aI,Fe.upperFirst=ig,Fe.each=bT,Fe.eachRight=Jx,Fe.first=Ux,Ds(Fe,function(){var u={};return Rc(Fe,function(f,x){Yi.call(Fe.prototype,x)||(u[x]=f)}),u}(),{chain:!1}),Fe.VERSION="4.17.21",es(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Fe[u].placeholder=Fe}),es(["drop","take"],function(u,f){gi.prototype[u]=function(x){x=x===b?1:Xi(di(x),0);var oe=this.__filtered__&&!f?new gi(this):this.clone();return oe.__filtered__?oe.__takeCount__=qr(x,oe.__takeCount__):oe.__views__.push({size:qr(x,ge),type:u+(oe.__dir__<0?"Right":"")}),oe},gi.prototype[u+"Right"]=function(x){return this.reverse()[u](x).reverse()}}),es(["filter","map","takeWhile"],function(u,f){var x=f+1,oe=1==x||3==x;gi.prototype[u]=function(Ae){var Ve=this.clone();return Ve.__iteratees__.push({iteratee:On(Ae,3),type:x}),Ve.__filtered__=Ve.__filtered__||oe,Ve}}),es(["head","last"],function(u,f){var x="take"+(f?"Right":"");gi.prototype[u]=function(){return this[x](1).value()[0]}}),es(["initial","tail"],function(u,f){var x="drop"+(f?"":"Right");gi.prototype[u]=function(){return this.__filtered__?new gi(this):this[x](1)}}),gi.prototype.compact=function(){return this.filter(Is)},gi.prototype.find=function(u){return this.filter(u).head()},gi.prototype.findLast=function(u){return this.reverse().find(u)},gi.prototype.invokeMap=_i(function(u,f){return"function"==typeof u?new gi(this):this.map(function(x){return Ru(x,u,f)})}),gi.prototype.reject=function(u){return this.filter(Af(On(u)))},gi.prototype.slice=function(u,f){u=di(u);var x=this;return x.__filtered__&&(u>0||f<0)?new gi(x):(u<0?x=x.takeRight(-u):u&&(x=x.drop(u)),f!==b&&(x=(f=di(f))<0?x.dropRight(-f):x.take(f-u)),x)},gi.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},gi.prototype.toArray=function(){return this.take(ge)},Rc(gi.prototype,function(u,f){var x=/^(?:filter|find|map|reject)|While$/.test(f),oe=/^(?:head|last)$/.test(f),Ae=Fe[oe?"take"+("last"==f?"Right":""):f],Ve=oe||/^find/.test(f);Ae&&(Fe.prototype[f]=function(){var nt=this.__wrapped__,st=oe?[1]:arguments,mt=nt instanceof gi,Pt=st[0],Ft=mt||Qn(nt),Gt=function(bi){var wi=Ae.apply(Fe,Sc([bi],st));return oe&&an?wi[0]:wi};Ft&&x&&"function"==typeof Pt&&1!=Pt.length&&(mt=Ft=!1);var an=this.__chain__,Pn=Ve&&!an,hi=mt&&!this.__actions__.length;if(!Ve&&Ft){nt=hi?nt:new gi(this);var Ln=u.apply(nt,st);return Ln.__actions__.push({func:Fd,args:[Gt],thisArg:b}),new Gr(Ln,an)}return Pn&&hi?u.apply(this,st):(Ln=this.thru(Gt),Pn?oe?Ln.value()[0]:Ln.value():Ln)})}),es(["pop","push","shift","sort","splice","unshift"],function(u){var f=Es[u],x=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",oe=/^(?:pop|shift)$/.test(u);Fe.prototype[u]=function(){var Ae=arguments;if(oe&&!this.__chain__){var Ve=this.value();return f.apply(Qn(Ve)?Ve:[],Ae)}return this[x](function(nt){return f.apply(Qn(nt)?nt:[],Ae)})}}),Rc(gi.prototype,function(u,f){var x=Fe[f];if(x){var oe=x.name+"";Yi.call(Ra,oe)||(Ra[oe]=[]),Ra[oe].push({name:f,func:x})}}),Ra[lf(b,2).name]=[{name:"wrapper",func:b}],gi.prototype.clone=function Iu(){var u=new gi(this.__wrapped__);return u.__actions__=is(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=is(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=is(this.__views__),u},gi.prototype.reverse=function tf(){if(this.__filtered__){var u=new gi(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},gi.prototype.value=function Co(){var u=this.__wrapped__.value(),f=this.__dir__,x=Qn(u),oe=f<0,Ae=x?u.length:0,Ve=function vB(u,f,x){for(var oe=-1,Ae=x.length;++oe<Ae;){var Ve=x[oe],nt=Ve.size;switch(Ve.type){case"drop":u+=nt;break;case"dropRight":f-=nt;break;case"take":f=qr(f,u+nt);break;case"takeRight":u=Xi(u,f-nt)}}return{start:u,end:f}}(0,Ae,this.__views__),nt=Ve.start,st=Ve.end,mt=st-nt,Pt=oe?st:nt-1,Ft=this.__iteratees__,Gt=Ft.length,an=0,An=qr(mt,this.__takeCount__);if(!x||!oe&&Ae==mt&&An==mt)return Sx(u,this.__actions__);var Pn=[];e:for(;mt--&&an<An;){for(var hi=-1,Ln=u[Pt+=f];++hi<Gt;){var bi=Ft[hi],Qs=bi.type,Ho=(0,bi.iteratee)(Ln);if(2==Qs)Ln=Ho;else if(!Ho){if(1==Qs)continue e;break e}}Pn[an++]=Ln}return Pn},Fe.prototype.at=Xx,Fe.prototype.chain=function mT(){return Yx(this)},Fe.prototype.commit=function Kx(){return new Gr(this.value(),this.__chain__)},Fe.prototype.next=function OB(){this.__values__===b&&(this.__values__=m1(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?b:this.__values__[this.__index__++]}},Fe.prototype.plant=function kB(u){for(var f,x=this;x instanceof ef;){var oe=Fx(x);oe.__index__=0,oe.__values__=b,f?Ae.__wrapped__=oe:f=oe;var Ae=oe;x=x.__wrapped__}return Ae.__wrapped__=u,f},Fe.prototype.reverse=function gT(){var u=this.__wrapped__;if(u instanceof gi){var f=u;return this.__actions__.length&&(f=new gi(this)),(f=f.reverse()).__actions__.push({func:Fd,args:[wf],thisArg:b}),new Gr(f,this.__chain__)}return this.thru(wf)},Fe.prototype.toJSON=Fe.prototype.valueOf=Fe.prototype.value=function _T(){return Sx(this.__wrapped__,this.__actions__)},Fe.prototype.first=Fe.prototype.head,zr&&(Fe.prototype[zr]=function qx(){return this}),Fe}();Eo._=Zh,(A=function(){return Zh}.call(q,m,q,re))!==b&&(re.exports=A)}.call(this)},7659:(re,q,m)=>{var A=m(1811);function R(S,P){if("function"!=typeof S||null!=P&&"function"!=typeof P)throw new TypeError("Expected a function");var g=function(){var y=arguments,T=P?P.apply(this,y):y[0],F=g.cache;if(F.has(T))return F.get(T);var D=S.apply(this,y);return g.cache=F.set(T,D)||F,D};return g.cache=new(R.Cache||A),g}R.Cache=A,re.exports=R},2692:(re,q,m)=>{var A=m(3400),b=m(6443),R=m(6300),S=m(8916);re.exports=function P(g){return R(g)?A(S(g)):b(g)}},7184:(re,q,m)=>{var A=m(1883),b=m(252),R=m(8951),S=m(3817),P=R(function(g,y){if(null==g)return[];var T=y.length;return T>1&&S(g,y[0],y[1])?y=[]:T>2&&S(y[0],y[1],y[2])&&(y=[y[0]]),b(g,A(y,1),[])});re.exports=P},1315:re=>{re.exports=function q(){return[]}},5706:re=>{re.exports=function q(){return!1}},2674:(re,q,m)=>{var A=m(7002);re.exports=function b(R){return null==R?"":A(R)}},5249:(re,q,m)=>{var A=m(549),b=A.ARRAY_BUFFER_SUPPORT,R=A.SYMBOL_SUPPORT;re.exports=function(P,g){var y,T,F,D,B;if(!P)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof g)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(P)||b&&ArrayBuffer.isView(P)||"string"==typeof P||"[object Arguments]"===P.toString())for(F=0,D=P.length;F<D;F++)g(P[F],F);else if("function"!=typeof P.forEach)if(R&&Symbol.iterator in P&&"function"!=typeof P.next&&(P=P[Symbol.iterator]()),"function"!=typeof P.next)for(T in P)P.hasOwnProperty(T)&&g(P[T],T);else for(y=P,F=0;!0!==(B=y.next()).done;)g(B.value,F),F++;else P.forEach(g)}},2508:re=>{function q(m){if("function"!=typeof m)throw new Error("obliterator/iterator: expecting a function!");this.next=m}typeof Symbol<"u"&&(q.prototype[Symbol.iterator]=function(){return this}),q.of=function(){var m=arguments,A=m.length,b=0;return new q(function(){return b>=A?{done:!0}:{done:!1,value:m[b++]}})},q.empty=function(){return new q(function(){return{done:!0}})},q.fromSequence=function(m){var A=0,b=m.length;return new q(function(){return A>=b?{done:!0}:{done:!1,value:m[A++]}})},q.is=function(m){return m instanceof q||"object"==typeof m&&null!==m&&"function"==typeof m.next},re.exports=q},549:(re,q)=>{q.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",q.SYMBOL_SUPPORT=typeof Symbol<"u"},9151:(re,q,m)=>{var A=m(2508),b=m(5249);function R(){this.clear()}R.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},R.prototype.enqueue=function(S){return this.items.push(S),++this.size},R.prototype.dequeue=function(){if(this.size){var S=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,S}},R.prototype.peek=function(){if(this.size)return this.items[this.offset]},R.prototype.forEach=function(S,P){P=arguments.length>1?P:this;for(var g=this.offset,y=0,T=this.items.length;g<T;g++,y++)S.call(P,this.items[g],y,this)},R.prototype.toArray=function(){return this.items.slice(this.offset)},R.prototype.values=function(){var S=this.items,P=this.offset;return new A(function(){if(P>=S.length)return{done:!0};var g=S[P];return P++,{value:g,done:!1}})},R.prototype.entries=function(){var S=this.items,P=this.offset,g=0;return new A(function(){if(P>=S.length)return{done:!0};var y=S[P];return P++,{value:[g++,y],done:!1}})},typeof Symbol<"u"&&(R.prototype[Symbol.iterator]=R.prototype.values),R.prototype.toString=function(){return this.toArray().join(",")},R.prototype.toJSON=function(){return this.toArray()},R.prototype.inspect=function(){var S=this.toArray();return Object.defineProperty(S,"constructor",{value:R,enumerable:!1}),S},typeof Symbol<"u"&&(R.prototype[Symbol.for("nodejs.util.inspect.custom")]=R.prototype.inspect),R.from=function(S){var P=new R;return b(S,function(g){P.enqueue(g)}),P},R.of=function(){return R.from(arguments)},re.exports=R},5020:re=>{re.exports=function q(m,A,b){function R(g,y){if(!A[g]){if(!m[g]){if(S)return S(g,!0);throw new Error("Cannot find module '"+g+"'")}y=A[g]={exports:{}},m[g][0].call(y.exports,function(F){return R(m[g][1][F]||F)},y,y.exports,q,m,A,b)}return A[g].exports}for(var S=void 0,P=0;P<b.length;P++)R(b[P]);return R}({1:[function(q,m,A){(function(b,R,S,P,g,y,T,F,D){"use strict";var B=q("crypto");function te(X,V){var v;return void 0===(v="passthrough"!==(V=ce(X,V)).algorithm?B.createHash(V.algorithm):new ne).write&&(v.write=v.update,v.end=v.update),ie(V,v).dispatch(X),v.update||v.end(""),v.digest?v.digest("buffer"===V.encoding?void 0:V.encoding):(X=v.read(),"buffer"!==V.encoding?X.toString(V.encoding):X)}(A=m.exports=te).sha1=function(X){return te(X)},A.keys=function(X){return te(X,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},A.MD5=function(X){return te(X,{algorithm:"md5",encoding:"hex"})},A.keysMD5=function(X){return te(X,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var C=B.getHashes?B.getHashes().slice():["sha1","md5"],W=(C.push("passthrough"),["buffer","hex","binary","base64"]);function ce(X,V){var v={};if(v.algorithm=(V=V||{}).algorithm||"sha1",v.encoding=V.encoding||"hex",v.excludeValues=!!V.excludeValues,v.algorithm=v.algorithm.toLowerCase(),v.encoding=v.encoding.toLowerCase(),v.ignoreUnknown=!0===V.ignoreUnknown,v.respectType=!1!==V.respectType,v.respectFunctionNames=!1!==V.respectFunctionNames,v.respectFunctionProperties=!1!==V.respectFunctionProperties,v.unorderedArrays=!0===V.unorderedArrays,v.unorderedSets=!1!==V.unorderedSets,v.unorderedObjects=!1!==V.unorderedObjects,v.replacer=V.replacer||void 0,v.excludeKeys=V.excludeKeys||void 0,void 0===X)throw new Error("Object argument required.");for(var U=0;U<C.length;++U)C[U].toLowerCase()===v.algorithm.toLowerCase()&&(v.algorithm=C[U]);if(-1===C.indexOf(v.algorithm))throw new Error('Algorithm "'+v.algorithm+'"  not supported. supported values: '+C.join(", "));if(-1===W.indexOf(v.encoding)&&"passthrough"!==v.algorithm)throw new Error('Encoding "'+v.encoding+'"  not supported. supported values: '+W.join(", "));return v}function Y(X){if("function"==typeof X)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(X))}function ie(X,V,v){function U(k){return V.update?V.update(k,"utf8"):V.write(k,"utf8")}return v=v||[],{dispatch:function(k){return this["_"+(null===(k=X.replacer?X.replacer(k):k)?"null":typeof k)](k)},_object:function(k){var ue,G=Object.prototype.toString.call(k),Te=/\[object (.*)\]/i.exec(G);if(Te=(Te=Te?Te[1]:"unknown:["+G+"]").toLowerCase(),0<=(G=v.indexOf(k)))return this.dispatch("[CIRCULAR:"+G+"]");if(v.push(k),void 0!==S&&S.isBuffer&&S.isBuffer(k))return U("buffer:"),U(k);if("object"===Te||"function"===Te||"asyncfunction"===Te)return G=Object.keys(k),X.unorderedObjects&&(G=G.sort()),!1===X.respectType||Y(k)||G.splice(0,0,"prototype","__proto__","constructor"),X.excludeKeys&&(G=G.filter(function(le){return!X.excludeKeys(le)})),U("object:"+G.length+":"),ue=this,G.forEach(function(le){ue.dispatch(le),U(":"),X.excludeValues||ue.dispatch(k[le]),U(",")});if(!this["_"+Te]){if(X.ignoreUnknown)return U("["+Te+"]");throw new Error('Unknown object type "'+Te+'"')}this["_"+Te](k)},_array:function(k,le){le=void 0!==le?le:!1!==X.unorderedArrays;var G=this;if(U("array:"+k.length+":"),!le||k.length<=1)return k.forEach(function(we){return G.dispatch(we)});var Te=[];return le=k.map(function(we){var Re=new ne,Ie=v.slice();return ie(X,Re,Ie).dispatch(we),Te=Te.concat(Ie.slice(v.length)),Re.read().toString()}),v=v.concat(Te),le.sort(),this._array(le,!1)},_date:function(k){return U("date:"+k.toJSON())},_symbol:function(k){return U("symbol:"+k.toString())},_error:function(k){return U("error:"+k.toString())},_boolean:function(k){return U("bool:"+k.toString())},_string:function(k){U("string:"+k.length+":"),U(k.toString())},_function:function(k){U("fn:"),Y(k)?this.dispatch("[native]"):this.dispatch(k.toString()),!1!==X.respectFunctionNames&&this.dispatch("function-name:"+String(k.name)),X.respectFunctionProperties&&this._object(k)},_number:function(k){return U("number:"+k.toString())},_xml:function(k){return U("xml:"+k.toString())},_null:function(){return U("Null")},_undefined:function(){return U("Undefined")},_regexp:function(k){return U("regex:"+k.toString())},_uint8array:function(k){return U("uint8array:"),this.dispatch(Array.prototype.slice.call(k))},_uint8clampedarray:function(k){return U("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(k))},_int8array:function(k){return U("int8array:"),this.dispatch(Array.prototype.slice.call(k))},_uint16array:function(k){return U("uint16array:"),this.dispatch(Array.prototype.slice.call(k))},_int16array:function(k){return U("int16array:"),this.dispatch(Array.prototype.slice.call(k))},_uint32array:function(k){return U("uint32array:"),this.dispatch(Array.prototype.slice.call(k))},_int32array:function(k){return U("int32array:"),this.dispatch(Array.prototype.slice.call(k))},_float32array:function(k){return U("float32array:"),this.dispatch(Array.prototype.slice.call(k))},_float64array:function(k){return U("float64array:"),this.dispatch(Array.prototype.slice.call(k))},_arraybuffer:function(k){return U("arraybuffer:"),this.dispatch(new Uint8Array(k))},_url:function(k){return U("url:"+k.toString())},_map:function(k){return U("map:"),k=Array.from(k),this._array(k,!1!==X.unorderedSets)},_set:function(k){return U("set:"),k=Array.from(k),this._array(k,!1!==X.unorderedSets)},_file:function(k){return U("file:"),this.dispatch([k.name,k.size,k.type,k.lastModfied])},_blob:function(){if(X.ignoreUnknown)return U("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return U("domwindow")},_bigint:function(k){return U("bigint:"+k.toString())},_process:function(){return U("process")},_timer:function(){return U("timer")},_pipe:function(){return U("pipe")},_tcp:function(){return U("tcp")},_udp:function(){return U("udp")},_tty:function(){return U("tty")},_statwatcher:function(){return U("statwatcher")},_securecontext:function(){return U("securecontext")},_connection:function(){return U("connection")},_zlib:function(){return U("zlib")},_context:function(){return U("context")},_nodescript:function(){return U("nodescript")},_httpparser:function(){return U("httpparser")},_dataview:function(){return U("dataview")},_signal:function(){return U("signal")},_fsevent:function(){return U("fsevent")},_tlswrap:function(){return U("tlswrap")}}}function ne(){return{buf:"",write:function(X){this.buf+=X},end:function(X){this.buf+=X},read:function(){return this.buf}}}A.writeToStream=function(X,V,v){return void 0===v&&(v=V,V={}),ie(V=ce(X,V),v).dispatch(X)}}).call(this,q("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},q("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(q,m,A){(function(b,R,S,P,g,y,T,F,D){!function(B){"use strict";var te=typeof Uint8Array<"u"?Uint8Array:Array,C="+".charCodeAt(0),W="/".charCodeAt(0),ce="0".charCodeAt(0),Y="a".charCodeAt(0),ie="A".charCodeAt(0),ne="-".charCodeAt(0),X="_".charCodeAt(0);function V(v){return(v=v.charCodeAt(0))===C||v===ne?62:v===W||v===X?63:v<ce?-1:v<ce+10?v-ce+26+26:v<ie+26?v-ie:v<Y+26?v-Y+26:void 0}B.toByteArray=function(v){var U,k;if(0<v.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var ue="="===v.charAt((ue=v.length)-2)?2:"="===v.charAt(ue-1)?1:0,G=new te(3*v.length/4-ue),Te=0<ue?v.length-4:v.length,le=0;function we(Re){G[le++]=Re}for(U=0;U<Te;U+=4,0)we((16711680&(k=V(v.charAt(U))<<18|V(v.charAt(U+1))<<12|V(v.charAt(U+2))<<6|V(v.charAt(U+3))))>>16),we((65280&k)>>8),we(255&k);return 2==ue?we(255&(k=V(v.charAt(U))<<2|V(v.charAt(U+1))>>4)):1==ue&&(we((k=V(v.charAt(U))<<10|V(v.charAt(U+1))<<4|V(v.charAt(U+2))>>2)>>8&255),we(255&k)),G},B.fromByteArray=function(v){var U,k,ue,G,Te=v.length%3,le="";function we(Re){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(Re)}for(U=0,ue=v.length-Te;U<ue;U+=3)le+=we((G=k=(v[U]<<16)+(v[U+1]<<8)+v[U+2])>>18&63)+we(G>>12&63)+we(G>>6&63)+we(63&G);switch(Te){case 1:le=(le+=we((k=v[v.length-1])>>2))+we(k<<4&63)+"==";break;case 2:le=(le=(le+=we((k=(v[v.length-2]<<8)+v[v.length-1])>>10))+we(k>>4&63))+we(k<<2&63)+"="}return le}}(void 0===A?this.base64js={}:A)}).call(this,q("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},q("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(q,m,A){(function(b,R,C,P,g,y,T,F,D){var B=q("base64-js"),te=q("ieee754");function C(be,H,O){if(!(this instanceof C))return new C(be,H,O);var se,j,Be,it,he=typeof be;if("base64"===H&&"string"==he)for(be=(it=be).trim?it.trim():it.replace(/^\s+|\s+$/g,"");be.length%4!=0;)be+="=";if("number"==he)se=Je(be);else if("string"==he)se=C.byteLength(be,H);else{if("object"!=he)throw new Error("First argument needs to be a number, array or string.");se=Je(be.length)}if(C._useTypedArrays?j=C._augment(new Uint8Array(se)):((j=this).length=se,j._isBuffer=!0),C._useTypedArrays&&"number"==typeof be.byteLength)j._set(be);else if(qe(it=be)||C.isBuffer(it)||it&&"object"==typeof it&&"number"==typeof it.length)for(Be=0;Be<se;Be++)j[Be]=C.isBuffer(be)?be.readUInt8(Be):be[Be];else if("string"==he)j.write(be,0,H);else if("number"==he&&!C._useTypedArrays&&!O)for(Be=0;Be<se;Be++)j[Be]=0;return j}function ie(be,H,O,Be){var j;if(Be||(Ye("boolean"==typeof O,"missing or invalid endian"),Ye(null!=H,"missing offset"),Ye(H+1<be.length,"Trying to read beyond buffer length")),!((Be=be.length)<=H))return O?(j=be[H],H+1<Be&&(j|=be[H+1]<<8)):(j=be[H]<<8,H+1<Be&&(j|=be[H+1])),j}function ne(be,H,O,Be){var j;if(Be||(Ye("boolean"==typeof O,"missing or invalid endian"),Ye(null!=H,"missing offset"),Ye(H+3<be.length,"Trying to read beyond buffer length")),!((Be=be.length)<=H))return O?(H+2<Be&&(j=be[H+2]<<16),H+1<Be&&(j|=be[H+1]<<8),j|=be[H],H+3<Be&&(j+=be[H+3]<<24>>>0)):(H+1<Be&&(j=be[H+1]<<16),H+2<Be&&(j|=be[H+2]<<8),H+3<Be&&(j|=be[H+3]),j+=be[H]<<24>>>0),j}function X(be,H,O,se){if(se||(Ye("boolean"==typeof O,"missing or invalid endian"),Ye(null!=H,"missing offset"),Ye(H+1<be.length,"Trying to read beyond buffer length")),!(be.length<=H))return 32768&(se=ie(be,H,O,!0))?-1*(65535-se+1):se}function V(be,H,O,se){if(se||(Ye("boolean"==typeof O,"missing or invalid endian"),Ye(null!=H,"missing offset"),Ye(H+3<be.length,"Trying to read beyond buffer length")),!(be.length<=H))return 2147483648&(se=ne(be,H,O,!0))?-1*(4294967295-se+1):se}function v(be,H,O,se){return se||(Ye("boolean"==typeof O,"missing or invalid endian"),Ye(H+3<be.length,"Trying to read beyond buffer length")),te.read(be,H,O,23,4)}function U(be,H,O,se){return se||(Ye("boolean"==typeof O,"missing or invalid endian"),Ye(H+7<be.length,"Trying to read beyond buffer length")),te.read(be,H,O,52,8)}function k(be,H,O,se,j){if(j||(Ye(null!=H,"missing value"),Ye("boolean"==typeof se,"missing or invalid endian"),Ye(null!=O,"missing offset"),Ye(O+1<be.length,"trying to write beyond buffer length"),Se(H,65535)),!((j=be.length)<=O))for(var Be=0,it=Math.min(j-O,2);Be<it;Be++)be[O+Be]=(H&255<<8*(se?Be:1-Be))>>>8*(se?Be:1-Be)}function ue(be,H,O,se,j){if(j||(Ye(null!=H,"missing value"),Ye("boolean"==typeof se,"missing or invalid endian"),Ye(null!=O,"missing offset"),Ye(O+3<be.length,"trying to write beyond buffer length"),Se(H,4294967295)),!((j=be.length)<=O))for(var Be=0,it=Math.min(j-O,4);Be<it;Be++)be[O+Be]=H>>>8*(se?Be:3-Be)&255}function G(be,H,O,se,j){j||(Ye(null!=H,"missing value"),Ye("boolean"==typeof se,"missing or invalid endian"),Ye(null!=O,"missing offset"),Ye(O+1<be.length,"Trying to write beyond buffer length"),Ke(H,32767,-32768)),be.length<=O||k(be,0<=H?H:65535+H+1,O,se,j)}function Te(be,H,O,se,j){j||(Ye(null!=H,"missing value"),Ye("boolean"==typeof se,"missing or invalid endian"),Ye(null!=O,"missing offset"),Ye(O+3<be.length,"Trying to write beyond buffer length"),Ke(H,2147483647,-2147483648)),be.length<=O||ue(be,0<=H?H:4294967295+H+1,O,se,j)}function le(be,H,O,se,j){j||(Ye(null!=H,"missing value"),Ye("boolean"==typeof se,"missing or invalid endian"),Ye(null!=O,"missing offset"),Ye(O+3<be.length,"Trying to write beyond buffer length"),dt(H,34028234663852886e22,-34028234663852886e22)),be.length<=O||te.write(be,H,O,se,23,4)}function we(be,H,O,se,j){j||(Ye(null!=H,"missing value"),Ye("boolean"==typeof se,"missing or invalid endian"),Ye(null!=O,"missing offset"),Ye(O+7<be.length,"Trying to write beyond buffer length"),dt(H,17976931348623157e292,-17976931348623157e292)),be.length<=O||te.write(be,H,O,se,52,8)}A.Buffer=C,A.SlowBuffer=C,A.INSPECT_MAX_BYTES=50,C.poolSize=8192,C._useTypedArrays=function(){try{var be=new ArrayBuffer(0),H=new Uint8Array(be);return H.foo=function(){return 42},42===H.foo()&&"function"==typeof H.subarray}catch{return!1}}(),C.isEncoding=function(be){switch(String(be).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},C.isBuffer=function(be){return!(null==be||!be._isBuffer)},C.byteLength=function(be,H){var O;switch(be+="",H||"utf8"){case"hex":O=be.length/2;break;case"utf8":case"utf-8":O=Le(be).length;break;case"ascii":case"binary":case"raw":O=be.length;break;case"base64":O=Ne(be).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":O=2*be.length;break;default:throw new Error("Unknown encoding")}return O},C.concat=function(be,H){if(Ye(qe(be),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===be.length)return new C(0);if(1===be.length)return be[0];if("number"!=typeof H)for(j=H=0;j<be.length;j++)H+=be[j].length;for(var O=new C(H),se=0,j=0;j<be.length;j++){var Be=be[j];Be.copy(O,se),se+=Be.length}return O},C.prototype.write=function(be,H,O,se){isFinite(H)?isFinite(O)||(se=O,O=void 0):(Z=se,se=H,H=O,O=Z),H=Number(H)||0;var j,Be,it,he,Z=this.length-H;switch((!O||Z<(O=Number(O)))&&(O=Z),se=String(se||"utf8").toLowerCase()){case"hex":j=function($,E,N,de){N=Number(N)||0;var pe=$.length-N;(!de||pe<(de=Number(de)))&&(de=pe),Ye((pe=E.length)%2==0,"Invalid hex string"),pe/2<de&&(de=pe/2);for(var He=0;He<de;He++){var ke=parseInt(E.substr(2*He,2),16);Ye(!isNaN(ke),"Invalid hex string"),$[N+He]=ke}return C._charsWritten=2*He,He}(this,be,H,O);break;case"utf8":case"utf-8":Be=this,it=H,he=O,j=C._charsWritten=ze(Le(be),Be,it,he);break;case"ascii":case"binary":j=function W(be,H,O,se){return C._charsWritten=ze(function(j){for(var Be=[],it=0;it<j.length;it++)Be.push(255&j.charCodeAt(it));return Be}(H),be,O,se)}(this,be,H,O);break;case"base64":Be=this,it=H,he=O,j=C._charsWritten=ze(Ne(be),Be,it,he);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":j=function ce(be,H,O,se){return C._charsWritten=ze(function(j){for(var Be,it,he=[],Z=0;Z<j.length;Z++)Be=(it=j.charCodeAt(Z))>>8,he.push(it%=256),he.push(Be);return he}(H),be,O,se)}(this,be,H,O);break;default:throw new Error("Unknown encoding")}return j},C.prototype.toString=function(be,H,O){var se,j,Be,it,he=this;if(be=String(be||"utf8").toLowerCase(),H=Number(H)||0,(O=void 0!==O?Number(O):he.length)===H)return"";switch(be){case"hex":se=function(Z,$,E){var N=Z.length;(!$||$<0)&&($=0),(!E||E<0||N<E)&&(E=N);for(var de="",pe=$;pe<E;pe++)de+=Ee(Z[pe]);return de}(he,H,O);break;case"utf8":case"utf-8":se=function(Z,$,E){var N="",de="";E=Math.min(Z.length,E);for(var pe=$;pe<E;pe++)Z[pe]<=127?(N+=ge(de)+String.fromCharCode(Z[pe]),de=""):de+="%"+Z[pe].toString(16);return N+ge(de)}(he,H,O);break;case"ascii":case"binary":se=function Y(be,H,O){var se="";O=Math.min(be.length,O);for(var j=H;j<O;j++)se+=String.fromCharCode(be[j]);return se}(he,H,O);break;case"base64":j=he,it=O,se=0===(Be=H)&&it===j.length?B.fromByteArray(j):B.fromByteArray(j.slice(Be,it));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":se=function(Z,$,E){for(var N=Z.slice($,E),de="",pe=0;pe<N.length;pe+=2)de+=String.fromCharCode(N[pe]+256*N[pe+1]);return de}(he,H,O);break;default:throw new Error("Unknown encoding")}return se},C.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},C.prototype.copy=function(be,H,O,se){if(H=H||0,(se=se||0===se?se:this.length)!==(O=O||0)&&0!==be.length&&0!==this.length){Ye(O<=se,"sourceEnd < sourceStart"),Ye(0<=H&&H<be.length,"targetStart out of bounds"),Ye(0<=O&&O<this.length,"sourceStart out of bounds"),Ye(0<=se&&se<=this.length,"sourceEnd out of bounds"),se>this.length&&(se=this.length);var j=(se=be.length-H<se-O?be.length-H+O:se)-O;if(j<100||!C._useTypedArrays)for(var Be=0;Be<j;Be++)be[Be+H]=this[Be+O];else be._set(this.subarray(O,O+j),H)}},C.prototype.slice=function(be,H){var O=this.length;if(be=Ie(be,O,0),H=Ie(H,O,O),C._useTypedArrays)return C._augment(this.subarray(be,H));for(var se=H-be,j=new C(se,void 0,!0),Be=0;Be<se;Be++)j[Be]=this[Be+be];return j},C.prototype.get=function(be){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(be)},C.prototype.set=function(be,H){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(be,H)},C.prototype.readUInt8=function(be,H){if(H||(Ye(null!=be,"missing offset"),Ye(be<this.length,"Trying to read beyond buffer length")),!(be>=this.length))return this[be]},C.prototype.readUInt16LE=function(be,H){return ie(this,be,!0,H)},C.prototype.readUInt16BE=function(be,H){return ie(this,be,!1,H)},C.prototype.readUInt32LE=function(be,H){return ne(this,be,!0,H)},C.prototype.readUInt32BE=function(be,H){return ne(this,be,!1,H)},C.prototype.readInt8=function(be,H){if(H||(Ye(null!=be,"missing offset"),Ye(be<this.length,"Trying to read beyond buffer length")),!(be>=this.length))return 128&this[be]?-1*(255-this[be]+1):this[be]},C.prototype.readInt16LE=function(be,H){return X(this,be,!0,H)},C.prototype.readInt16BE=function(be,H){return X(this,be,!1,H)},C.prototype.readInt32LE=function(be,H){return V(this,be,!0,H)},C.prototype.readInt32BE=function(be,H){return V(this,be,!1,H)},C.prototype.readFloatLE=function(be,H){return v(this,be,!0,H)},C.prototype.readFloatBE=function(be,H){return v(this,be,!1,H)},C.prototype.readDoubleLE=function(be,H){return U(this,be,!0,H)},C.prototype.readDoubleBE=function(be,H){return U(this,be,!1,H)},C.prototype.writeUInt8=function(be,H,O){O||(Ye(null!=be,"missing value"),Ye(null!=H,"missing offset"),Ye(H<this.length,"trying to write beyond buffer length"),Se(be,255)),H>=this.length||(this[H]=be)},C.prototype.writeUInt16LE=function(be,H,O){k(this,be,H,!0,O)},C.prototype.writeUInt16BE=function(be,H,O){k(this,be,H,!1,O)},C.prototype.writeUInt32LE=function(be,H,O){ue(this,be,H,!0,O)},C.prototype.writeUInt32BE=function(be,H,O){ue(this,be,H,!1,O)},C.prototype.writeInt8=function(be,H,O){O||(Ye(null!=be,"missing value"),Ye(null!=H,"missing offset"),Ye(H<this.length,"Trying to write beyond buffer length"),Ke(be,127,-128)),H>=this.length||this.writeUInt8(0<=be?be:255+be+1,H,O)},C.prototype.writeInt16LE=function(be,H,O){G(this,be,H,!0,O)},C.prototype.writeInt16BE=function(be,H,O){G(this,be,H,!1,O)},C.prototype.writeInt32LE=function(be,H,O){Te(this,be,H,!0,O)},C.prototype.writeInt32BE=function(be,H,O){Te(this,be,H,!1,O)},C.prototype.writeFloatLE=function(be,H,O){le(this,be,H,!0,O)},C.prototype.writeFloatBE=function(be,H,O){le(this,be,H,!1,O)},C.prototype.writeDoubleLE=function(be,H,O){we(this,be,H,!0,O)},C.prototype.writeDoubleBE=function(be,H,O){we(this,be,H,!1,O)},C.prototype.fill=function(be,H,O){if(H=H||0,O=O||this.length,Ye("number"==typeof(be="string"==typeof(be=be||0)?be.charCodeAt(0):be)&&!isNaN(be),"value is not a number"),Ye(H<=O,"end < start"),O!==H&&0!==this.length){Ye(0<=H&&H<this.length,"start out of bounds"),Ye(0<=O&&O<=this.length,"end out of bounds");for(var se=H;se<O;se++)this[se]=be}},C.prototype.inspect=function(){for(var be=[],H=this.length,O=0;O<H;O++)if(be[O]=Ee(this[O]),O===A.INSPECT_MAX_BYTES){be[O+1]="...";break}return"<Buffer "+be.join(" ")+">"},C.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(C._useTypedArrays)return new C(this).buffer;for(var be=new Uint8Array(this.length),H=0,O=be.length;H<O;H+=1)be[H]=this[H];return be.buffer};var Re=C.prototype;function Ie(be,H,O){return"number"!=typeof be?O:H<=(be=~~be)?H:0<=be||0<=(be+=H)?be:0}function Je(be){return(be=~~Math.ceil(+be))<0?0:be}function qe(be){return(Array.isArray||function(H){return"[object Array]"===Object.prototype.toString.call(H)})(be)}function Ee(be){return be<16?"0"+be.toString(16):be.toString(16)}function Le(be){for(var H=[],O=0;O<be.length;O++){var se=be.charCodeAt(O);if(se<=127)H.push(be.charCodeAt(O));else for(var j=O,Be=(55296<=se&&se<=57343&&O++,encodeURIComponent(be.slice(j,O+1)).substr(1).split("%")),it=0;it<Be.length;it++)H.push(parseInt(Be[it],16))}return H}function Ne(be){return B.toByteArray(be)}function ze(be,H,O,se){for(var j=0;j<se&&!(j+O>=H.length||j>=be.length);j++)H[j+O]=be[j];return j}function ge(be){try{return decodeURIComponent(be)}catch{return String.fromCharCode(65533)}}function Se(be,H){Ye("number"==typeof be,"cannot write a non-number as a number"),Ye(0<=be,"specified a negative value for writing an unsigned value"),Ye(be<=H,"value is larger than maximum value for type"),Ye(Math.floor(be)===be,"value has a fractional component")}function Ke(be,H,O){Ye("number"==typeof be,"cannot write a non-number as a number"),Ye(be<=H,"value larger than maximum allowed value"),Ye(O<=be,"value smaller than minimum allowed value"),Ye(Math.floor(be)===be,"value has a fractional component")}function dt(be,H,O){Ye("number"==typeof be,"cannot write a non-number as a number"),Ye(be<=H,"value larger than maximum allowed value"),Ye(O<=be,"value smaller than minimum allowed value")}function Ye(be,H){if(!be)throw new Error(H||"Failed assertion")}C._augment=function(be){return be._isBuffer=!0,be._get=be.get,be._set=be.set,be.get=Re.get,be.set=Re.set,be.write=Re.write,be.toString=Re.toString,be.toLocaleString=Re.toString,be.toJSON=Re.toJSON,be.copy=Re.copy,be.slice=Re.slice,be.readUInt8=Re.readUInt8,be.readUInt16LE=Re.readUInt16LE,be.readUInt16BE=Re.readUInt16BE,be.readUInt32LE=Re.readUInt32LE,be.readUInt32BE=Re.readUInt32BE,be.readInt8=Re.readInt8,be.readInt16LE=Re.readInt16LE,be.readInt16BE=Re.readInt16BE,be.readInt32LE=Re.readInt32LE,be.readInt32BE=Re.readInt32BE,be.readFloatLE=Re.readFloatLE,be.readFloatBE=Re.readFloatBE,be.readDoubleLE=Re.readDoubleLE,be.readDoubleBE=Re.readDoubleBE,be.writeUInt8=Re.writeUInt8,be.writeUInt16LE=Re.writeUInt16LE,be.writeUInt16BE=Re.writeUInt16BE,be.writeUInt32LE=Re.writeUInt32LE,be.writeUInt32BE=Re.writeUInt32BE,be.writeInt8=Re.writeInt8,be.writeInt16LE=Re.writeInt16LE,be.writeInt16BE=Re.writeInt16BE,be.writeInt32LE=Re.writeInt32LE,be.writeInt32BE=Re.writeInt32BE,be.writeFloatLE=Re.writeFloatLE,be.writeFloatBE=Re.writeFloatBE,be.writeDoubleLE=Re.writeDoubleLE,be.writeDoubleBE=Re.writeDoubleBE,be.fill=Re.fill,be.inspect=Re.inspect,be.toArrayBuffer=Re.toArrayBuffer,be}}).call(this,q("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},q("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(q,m,A){(function(b,R,B,P,g,y,T,F,D){B=q("buffer").Buffer;var C=new B(4);C.fill(0),m.exports={hash:function(W,ce,Y,ie){for(var ne=ce(function(k,ue){k.length%4!=0&&(k=B.concat([k,C],k.length+(4-k.length%4)));for(var Te=[],le=ue?k.readInt32BE:k.readInt32LE,we=0;we<k.length;we+=4)Te.push(le.call(k,we));return Te}(W=B.isBuffer(W)?W:new B(W),ie),8*W.length),X=(ce=ie,new B(Y)),V=ce?X.writeInt32BE:X.writeInt32LE,v=0;v<ne.length;v++)V.call(X,ne[v],4*v,!0);return X}}}).call(this,q("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},q("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(q,m,A){(function(b,R,B,P,g,y,T,F,D){B=q("buffer").Buffer;var te=q("./sha"),C=q("./sha256"),W=q("./rng"),ce={sha1:te,sha256:C,md5:q("./md5")},Y=64,ie=new B(Y);function ne(k,ue){var G=ce[k=k||"sha1"],Te=[];return G||X("algorithm:",k,"is not yet supported"),{update:function(le){return B.isBuffer(le)||(le=new B(le)),Te.push(le),this},digest:function(le){var we=B.concat(Te);return we=ue?function(Re,Ie,Je){B.isBuffer(Ie)||(Ie=new B(Ie)),B.isBuffer(Je)||(Je=new B(Je)),Ie.length>Y?Ie=Re(Ie):Ie.length<Y&&(Ie=B.concat([Ie,ie],Y));for(var qe=new B(Y),Ee=new B(Y),Le=0;Le<Y;Le++)qe[Le]=54^Ie[Le],Ee[Le]=92^Ie[Le];return Je=Re(B.concat([qe,Je])),Re(B.concat([Ee,Je]))}(G,ue,we):G(we),Te=null,le?we.toString(le):we}}}function X(){var k=[].slice.call(arguments).join(" ");throw new Error([k,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}ie.fill(0),A.createHash=function(k){return ne(k)},A.createHmac=ne,A.randomBytes=function(k,ue){if(!ue||!ue.call)return new B(W(k));try{ue.call(this,void 0,new B(W(k)))}catch(G){ue(G)}};var V,v=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],U=function(k){A[k]=function(){X("sorry,",k,"is not implemented yet")}};for(V in v)U(v[V])}).call(this,q("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},q("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(q,m,A){(function(b,R,S,P,g,y,T,F,D){var B=q("./helpers");function te(X,V){X[V>>5]|=128<<V%32,X[14+(V+64>>>9<<4)]=V;for(var v=1732584193,U=-271733879,k=-1732584194,ue=271733878,G=0;G<X.length;G+=16){var Te=v,le=U,we=k,Re=ue;v=W(v,U,k,ue,X[G+0],7,-680876936),ue=W(ue,v,U,k,X[G+1],12,-389564586),k=W(k,ue,v,U,X[G+2],17,606105819),U=W(U,k,ue,v,X[G+3],22,-1044525330),v=W(v,U,k,ue,X[G+4],7,-176418897),ue=W(ue,v,U,k,X[G+5],12,1200080426),k=W(k,ue,v,U,X[G+6],17,-1473231341),U=W(U,k,ue,v,X[G+7],22,-45705983),v=W(v,U,k,ue,X[G+8],7,1770035416),ue=W(ue,v,U,k,X[G+9],12,-1958414417),k=W(k,ue,v,U,X[G+10],17,-42063),U=W(U,k,ue,v,X[G+11],22,-1990404162),v=W(v,U,k,ue,X[G+12],7,1804603682),ue=W(ue,v,U,k,X[G+13],12,-40341101),k=W(k,ue,v,U,X[G+14],17,-1502002290),v=ce(v,U=W(U,k,ue,v,X[G+15],22,1236535329),k,ue,X[G+1],5,-165796510),ue=ce(ue,v,U,k,X[G+6],9,-1069501632),k=ce(k,ue,v,U,X[G+11],14,643717713),U=ce(U,k,ue,v,X[G+0],20,-373897302),v=ce(v,U,k,ue,X[G+5],5,-701558691),ue=ce(ue,v,U,k,X[G+10],9,38016083),k=ce(k,ue,v,U,X[G+15],14,-660478335),U=ce(U,k,ue,v,X[G+4],20,-405537848),v=ce(v,U,k,ue,X[G+9],5,568446438),ue=ce(ue,v,U,k,X[G+14],9,-1019803690),k=ce(k,ue,v,U,X[G+3],14,-187363961),U=ce(U,k,ue,v,X[G+8],20,1163531501),v=ce(v,U,k,ue,X[G+13],5,-1444681467),ue=ce(ue,v,U,k,X[G+2],9,-51403784),k=ce(k,ue,v,U,X[G+7],14,1735328473),v=Y(v,U=ce(U,k,ue,v,X[G+12],20,-1926607734),k,ue,X[G+5],4,-378558),ue=Y(ue,v,U,k,X[G+8],11,-2022574463),k=Y(k,ue,v,U,X[G+11],16,1839030562),U=Y(U,k,ue,v,X[G+14],23,-35309556),v=Y(v,U,k,ue,X[G+1],4,-1530992060),ue=Y(ue,v,U,k,X[G+4],11,1272893353),k=Y(k,ue,v,U,X[G+7],16,-155497632),U=Y(U,k,ue,v,X[G+10],23,-1094730640),v=Y(v,U,k,ue,X[G+13],4,681279174),ue=Y(ue,v,U,k,X[G+0],11,-358537222),k=Y(k,ue,v,U,X[G+3],16,-722521979),U=Y(U,k,ue,v,X[G+6],23,76029189),v=Y(v,U,k,ue,X[G+9],4,-640364487),ue=Y(ue,v,U,k,X[G+12],11,-421815835),k=Y(k,ue,v,U,X[G+15],16,530742520),v=ie(v,U=Y(U,k,ue,v,X[G+2],23,-995338651),k,ue,X[G+0],6,-198630844),ue=ie(ue,v,U,k,X[G+7],10,1126891415),k=ie(k,ue,v,U,X[G+14],15,-1416354905),U=ie(U,k,ue,v,X[G+5],21,-57434055),v=ie(v,U,k,ue,X[G+12],6,1700485571),ue=ie(ue,v,U,k,X[G+3],10,-1894986606),k=ie(k,ue,v,U,X[G+10],15,-1051523),U=ie(U,k,ue,v,X[G+1],21,-2054922799),v=ie(v,U,k,ue,X[G+8],6,1873313359),ue=ie(ue,v,U,k,X[G+15],10,-30611744),k=ie(k,ue,v,U,X[G+6],15,-1560198380),U=ie(U,k,ue,v,X[G+13],21,1309151649),v=ie(v,U,k,ue,X[G+4],6,-145523070),ue=ie(ue,v,U,k,X[G+11],10,-1120210379),k=ie(k,ue,v,U,X[G+2],15,718787259),U=ie(U,k,ue,v,X[G+9],21,-343485551),v=ne(v,Te),U=ne(U,le),k=ne(k,we),ue=ne(ue,Re)}return Array(v,U,k,ue)}function C(X,V,v,U,k,ue){return ne((V=ne(ne(V,X),ne(U,ue)))<<k|V>>>32-k,v)}function W(X,V,v,U,k,ue,G){return C(V&v|~V&U,X,V,k,ue,G)}function ce(X,V,v,U,k,ue,G){return C(V&U|v&~U,X,V,k,ue,G)}function Y(X,V,v,U,k,ue,G){return C(V^v^U,X,V,k,ue,G)}function ie(X,V,v,U,k,ue,G){return C(v^(V|~U),X,V,k,ue,G)}function ne(X,V){var v=(65535&X)+(65535&V);return(X>>16)+(V>>16)+(v>>16)<<16|65535&v}m.exports=function(X){return B.hash(X,te,16)}}).call(this,q("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},q("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(q,m,A){(function(b,R,S,P,g,y,T,F,D){m.exports=function(te){for(var C,W=new Array(te),ce=0;ce<te;ce++)!(3&ce)&&(C=4294967296*Math.random()),W[ce]=C>>>((3&ce)<<3)&255;return W}}).call(this,q("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},q("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(q,m,A){(function(b,R,S,P,g,y,T,F,D){var B=q("./helpers");function te(ce,Y){ce[Y>>5]|=128<<24-Y%32,ce[15+(Y+64>>9<<4)]=Y;for(var ie,ne,X,V=Array(80),v=1732584193,U=-271733879,k=-1732584194,ue=271733878,G=-1009589776,Te=0;Te<ce.length;Te+=16){for(var le=v,we=U,Re=k,Ie=ue,Je=G,qe=0;qe<80;qe++){V[qe]=qe<16?ce[Te+qe]:W(V[qe-3]^V[qe-8]^V[qe-14]^V[qe-16],1);var Ee=C(C(W(v,5),(Ee=U,ne=k,X=ue,(ie=qe)<20?Ee&ne|~Ee&X:!(ie<40)&&ie<60?Ee&ne|Ee&X|ne&X:Ee^ne^X)),C(C(G,V[qe]),(ie=qe)<20?1518500249:ie<40?1859775393:ie<60?-1894007588:-899497514));G=ue,ue=k,k=W(U,30),U=v,v=Ee}v=C(v,le),U=C(U,we),k=C(k,Re),ue=C(ue,Ie),G=C(G,Je)}return Array(v,U,k,ue,G)}function C(ce,Y){var ie=(65535&ce)+(65535&Y);return(ce>>16)+(Y>>16)+(ie>>16)<<16|65535&ie}function W(ce,Y){return ce<<Y|ce>>>32-Y}m.exports=function(ce){return B.hash(ce,te,20,!0)}}).call(this,q("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},q("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(q,m,A){(function(b,R,S,P,g,y,T,F,D){function B(Y,ie){var ne=(65535&Y)+(65535&ie);return(Y>>16)+(ie>>16)+(ne>>16)<<16|65535&ne}function te(Y,ie){var ne,X=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),V=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),v=new Array(64);Y[ie>>5]|=128<<24-ie%32,Y[15+(ie+64>>9<<4)]=ie;for(var U,k,ue=0;ue<Y.length;ue+=16){for(var G=V[0],Te=V[1],le=V[2],we=V[3],Re=V[4],Ie=V[5],Je=V[6],qe=V[7],Ee=0;Ee<64;Ee++)v[Ee]=Ee<16?Y[Ee+ue]:B(B(B(W(k=v[Ee-2],17)^W(k,19)^ce(k,10),v[Ee-7]),W(k=v[Ee-15],7)^W(k,18)^ce(k,3)),v[Ee-16]),ne=B(B(B(B(qe,W(k=Re,6)^W(k,11)^W(k,25)),Re&Ie^~Re&Je),X[Ee]),v[Ee]),U=B(W(U=G,2)^W(U,13)^W(U,22),G&Te^G&le^Te&le),qe=Je,Je=Ie,Ie=Re,Re=B(we,ne),we=le,le=Te,Te=G,G=B(ne,U);V[0]=B(G,V[0]),V[1]=B(Te,V[1]),V[2]=B(le,V[2]),V[3]=B(we,V[3]),V[4]=B(Re,V[4]),V[5]=B(Ie,V[5]),V[6]=B(Je,V[6]),V[7]=B(qe,V[7])}return V}var C=q("./helpers"),W=function(Y,ie){return Y>>>ie|Y<<32-ie},ce=function(Y,ie){return Y>>>ie};m.exports=function(Y){return C.hash(Y,te,32,!0)}}).call(this,q("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},q("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(q,m,A){(function(b,R,S,P,g,y,T,F,D){A.read=function(B,te,C,W,ue){var Y,ie,ne=8*ue-W-1,X=(1<<ne)-1,V=X>>1,v=-7,U=C?ue-1:0,k=C?-1:1;for(ue=B[te+U],U+=k,Y=ue&(1<<-v)-1,ue>>=-v,v+=ne;0<v;Y=256*Y+B[te+U],U+=k,v-=8);for(ie=Y&(1<<-v)-1,Y>>=-v,v+=W;0<v;ie=256*ie+B[te+U],U+=k,v-=8);if(0===Y)Y=1-V;else{if(Y===X)return ie?NaN:1/0*(ue?-1:1);ie+=Math.pow(2,W),Y-=V}return(ue?-1:1)*ie*Math.pow(2,Y-W)},A.write=function(B,te,C,W,ce,G){var ie,ne,X=8*G-ce-1,V=(1<<X)-1,v=V>>1,U=23===ce?Math.pow(2,-24)-Math.pow(2,-77):0,k=W?0:G-1,ue=W?1:-1;for(G=te<0||0===te&&1/te<0?1:0,te=Math.abs(te),isNaN(te)||te===1/0?(ne=isNaN(te)?1:0,ie=V):(ie=Math.floor(Math.log(te)/Math.LN2),te*(W=Math.pow(2,-ie))<1&&(ie--,W*=2),2<=(te+=1<=ie+v?U/W:U*Math.pow(2,1-v))*W&&(ie++,W/=2),V<=ie+v?(ne=0,ie=V):1<=ie+v?(ne=(te*W-1)*Math.pow(2,ce),ie+=v):(ne=te*Math.pow(2,v-1)*Math.pow(2,ce),ie=0));8<=ce;B[C+k]=255&ne,k+=ue,ne/=256,ce-=8);for(ie=ie<<ce|ne,X+=ce;0<X;B[C+k]=255&ie,k+=ue,ie/=256,X-=8);B[C+k-ue]|=128*G}}).call(this,q("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},q("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(q,m,A){(function(b,R,S,P,g,y,T,F,D){var B,te,C;function W(){}(b=m.exports={}).nextTick=(te=typeof window<"u"&&window.setImmediate,C=typeof window<"u"&&window.postMessage&&window.addEventListener,te?function(ce){return window.setImmediate(ce)}:C?(B=[],window.addEventListener("message",function(ce){var Y=ce.source;Y!==window&&null!==Y||"process-tick"!==ce.data||(ce.stopPropagation(),0<B.length&&B.shift()())},!0),function(ce){B.push(ce),window.postMessage("process-tick","*")}):function(ce){setTimeout(ce,0)}),b.title="browser",b.browser=!0,b.env={},b.argv=[],b.on=W,b.addListener=W,b.once=W,b.off=W,b.removeListener=W,b.removeAllListeners=W,b.emit=W,b.binding=function(ce){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(ce){throw new Error("process.chdir is not supported")}}).call(this,q("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},q("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},42:re=>{var m,A,q=re.exports={};function b(){throw new Error("setTimeout has not been defined")}function R(){throw new Error("clearTimeout has not been defined")}function S(W){if(m===setTimeout)return setTimeout(W,0);if((m===b||!m)&&setTimeout)return m=setTimeout,setTimeout(W,0);try{return m(W,0)}catch{try{return m.call(null,W,0)}catch{return m.call(this,W,0)}}}!function(){try{m="function"==typeof setTimeout?setTimeout:b}catch{m=b}try{A="function"==typeof clearTimeout?clearTimeout:R}catch{A=R}}();var T,g=[],y=!1,F=-1;function D(){!y||!T||(y=!1,T.length?g=T.concat(g):F=-1,g.length&&B())}function B(){if(!y){var W=S(D);y=!0;for(var ce=g.length;ce;){for(T=g,g=[];++F<ce;)T&&T[F].run();F=-1,ce=g.length}T=null,y=!1,function P(W){if(A===clearTimeout)return clearTimeout(W);if((A===R||!A)&&clearTimeout)return A=clearTimeout,clearTimeout(W);try{return A(W)}catch{try{return A.call(null,W)}catch{return A.call(this,W)}}}(W)}}function te(W,ce){this.fun=W,this.array=ce}function C(){}q.nextTick=function(W){var ce=new Array(arguments.length-1);if(arguments.length>1)for(var Y=1;Y<arguments.length;Y++)ce[Y-1]=arguments[Y];g.push(new te(W,ce)),1===g.length&&!y&&S(B)},te.prototype.run=function(){this.fun.apply(null,this.array)},q.title="browser",q.browser=!0,q.env={},q.argv=[],q.version="",q.versions={},q.on=C,q.addListener=C,q.once=C,q.off=C,q.removeListener=C,q.removeAllListeners=C,q.emit=C,q.prependListener=C,q.prependOnceListener=C,q.listeners=function(W){return[]},q.binding=function(W){throw new Error("process.binding is not supported")},q.cwd=function(){return"/"},q.chdir=function(W){throw new Error("process.chdir is not supported")},q.umask=function(){return 0}},1986:(re,q,m)=>{re.exports=m(7842)},5327:re=>{"use strict";re.exports=class FJ{constructor(m,A=new Map,b=0){this.prefix=m,this._existing=A,this.counter=b}clone(){const{prefix:m,_existing:A,counter:b}=this;return new FJ(m,new Map(A),b)}getId(m){const A=m&&this._existing.get(m);if(A)return A;const b=this.prefix+this.counter;return this.counter++,m&&this._existing.set(m,b),b}hasId(m){return this._existing.has(m)}getOldIds(){return[...this._existing.keys()]}}},7475:(re,q,m)=>{"use strict";var A=m(7156).default;m(8280);const b=self.crypto||self.msCrypto;re.exports=class{constructor(S){if(!b||!b.subtle)throw new Error("crypto.subtle not found.");if("sha256"===S)this.algorithm={name:"SHA-256"};else{if("sha1"!==S)throw new Error(`Unsupported algorithm "${S}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(S){this._content+=S}digest(){var S=this;return A(function*(){const P=(new TextEncoder).encode(S._content),g=new Uint8Array(yield b.subtle.digest(S.algorithm,P));let y="";for(let T=0;T<g.length;++T)y+=g[T].toString(16).padStart(2,"0");return y})()}}},8003:re=>{"use strict";const A="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",b="http://www.w3.org/2001/XMLSchema#string",R="NamedNode",S="BlankNode",P="Literal",g="DefaultGraph",y={};function T(C,W){return C.subject.termType===W.subject.termType&&C.object.termType===W.object.termType&&C.subject.value===W.subject.value&&C.predicate.value===W.predicate.value&&C.object.value===W.object.value&&(C.object.termType!==P||C.object.datatype.termType===W.object.datatype.termType&&C.object.language===W.object.language&&C.object.datatype.value===W.object.datatype.value)}(()=>{const C="(?:<([^:]+:[^>]*)>)",ce="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_",Y=ce+"0-9-\xb7\u0300-\u036f\u203f-\u2040",ne="(_:(?:["+ce+"0-9])(?:(?:["+Y+".])*(?:["+Y+"]))?)",k="[ \\t]+",ue="[ \\t]*",G="(?:"+C+"|"+ne+")"+k,Te=C+k,le="(?:"+C+"|"+ne+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+C+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+ue,we="(?:\\.|(?:(?:"+C+"|"+ne+")"+ue+"\\.))";y.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,y.empty=new RegExp("^[ \\t]*$"),y.quad=new RegExp("^"+ue+G+Te+le+we+ue+"$")})(),re.exports=class dM{static parse(W){const ce=[],Y={},ie=W.split(y.eoln);let ne=0;for(const X of ie){if(ne++,y.empty.test(X))continue;const V=X.match(y.quad);if(null===V)throw new Error("N-Quads parse error on line "+ne+".");const v={subject:null,predicate:null,object:null,graph:null};if(v.subject=void 0!==V[1]?{termType:R,value:V[1]}:{termType:S,value:V[2]},v.predicate={termType:R,value:V[3]},void 0!==V[4]?v.object={termType:R,value:V[4]}:void 0!==V[5]?v.object={termType:S,value:V[5]}:(v.object={termType:P,value:void 0,datatype:{termType:R}},void 0!==V[7]?v.object.datatype.value=V[7]:void 0!==V[8]?(v.object.datatype.value=A,v.object.language=V[8]):v.object.datatype.value=b,v.object.value=V[6].replace(B,function(W,ce,Y,ie){if(ce)switch(ce){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(Y)return String.fromCharCode(parseInt(Y,16));if(ie)throw new Error("Unsupported U escape")})),v.graph=void 0!==V[9]?{termType:R,value:V[9]}:void 0!==V[10]?{termType:S,value:V[10]}:{termType:g,value:""},v.graph.value in Y){let U=!0;const k=Y[v.graph.value];for(const ue of k)if(T(ue,v)){U=!1;break}U&&(k.push(v),ce.push(v))}else Y[v.graph.value]=[v],ce.push(v)}return ce}static serialize(W){Array.isArray(W)||(W=dM.legacyDatasetToQuads(W));const ce=[];for(const Y of W)ce.push(dM.serializeQuad(Y));return ce.sort().join("")}static serializeQuadComponents(W,ce,Y,ie){let ne="";return ne+=W.termType===R?`<${W.value}>`:`${W.value}`,ne+=` <${ce.value}> `,Y.termType===R?ne+=`<${Y.value}>`:Y.termType===S?ne+=Y.value:(ne+=`"${function D(C){return C.replace(F,function(W){switch(W){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}(Y.value)}"`,Y.datatype.value===A?Y.language&&(ne+=`@${Y.language}`):Y.datatype.value!==b&&(ne+=`^^<${Y.datatype.value}>`)),ie.termType===R?ne+=` <${ie.value}>`:ie.termType===S&&(ne+=` ${ie.value}`),ne+=" .\n",ne}static serializeQuad(W){return dM.serializeQuadComponents(W.subject,W.predicate,W.object,W.graph)}static legacyDatasetToQuads(W){const ce=[],Y={"blank node":S,IRI:R,literal:P};for(const ie in W)W[ie].forEach(X=>{const V={};for(const v in X){const U=X[v],k={termType:Y[U.type],value:U.value};k.termType===P&&(k.datatype={termType:R},"datatype"in U&&(k.datatype.value=U.datatype),"language"in U?("datatype"in U||(k.datatype.value=A),k.language=U.language):"datatype"in U||(k.datatype.value=b)),V[v]=k}V.graph="@default"===ie?{termType:g,value:""}:{termType:ie.startsWith("_:")?S:R,value:ie},ce.push(V)});return ce}};const F=/["\\\n\r]/g,B=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},7790:re=>{"use strict";re.exports=class{constructor(m){this.current=m.sort(),this.done=!1,this.dir=new Map;for(let A=0;A<m.length;++A)this.dir.set(m[A],!0)}hasNext(){return!this.done}next(){const{current:m,dir:A}=this,b=m.slice();let R=null,S=0;const P=m.length;for(let g=0;g<P;++g){const y=m[g],T=A.get(y);(null===R||y>R)&&(T&&g>0&&y>m[g-1]||!T&&g<P-1&&y>m[g+1])&&(R=y,S=g)}if(null===R)this.done=!0;else{const g=A.get(R)?S-1:S+1;m[S]=m[g],m[g]=R;for(const y of m)y>R&&A.set(y,!A.get(y))}return b}}},7218:(re,q,m)=>{"use strict";var A=m(7156).default;const b=m(5327),R=m(7475),S=m(7790),P=m(8003);function g(y,T){return y.hash<T.hash?-1:y.hash>T.hash?1:0}re.exports=class{constructor({createMessageDigest:T=(()=>new R("sha256")),canonicalIdMap:F=new Map,maxDeepIterations:D=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new b("_:c14n",F),this.createMessageDigest=T,this.maxDeepIterations=D,this.quads=null,this.deepIterations=null}main(T){var F=this;return A(function*(){F.deepIterations=new Map,F.quads=T;for(const Y of T)F._addBlankNodeQuadInfo({quad:Y,component:Y.subject}),F._addBlankNodeQuadInfo({quad:Y,component:Y.object}),F._addBlankNodeQuadInfo({quad:Y,component:Y.graph});const D=new Map,B=[...F.blankNodeInfo.keys()];let te=0;for(const Y of B)++te%100==0&&(yield F._yield()),yield F._hashAndTrackBlankNode({id:Y,hashToBlankNodes:D});const C=[...D.keys()].sort(),W=[];for(const Y of C){const ie=D.get(Y);ie.length>1?W.push(ie):F.canonicalIssuer.getId(ie[0])}for(const Y of W){const ie=[];for(const ne of Y){if(F.canonicalIssuer.hasId(ne))continue;const X=new b("_:b");X.getId(ne);const V=yield F.hashNDegreeQuads(ne,X);ie.push(V)}ie.sort(g);for(const ne of ie){const X=ne.issuer.getOldIds();for(const V of X)F.canonicalIssuer.getId(V)}}const ce=[];for(const Y of F.quads){const ie=P.serializeQuadComponents(F._componentWithCanonicalId(Y.subject),Y.predicate,F._componentWithCanonicalId(Y.object),F._componentWithCanonicalId(Y.graph));ce.push(ie)}return ce.sort(),ce.join("")})()}hashFirstDegreeQuads(T){var F=this;return A(function*(){const D=[],B=F.blankNodeInfo.get(T),te=B.quads;for(const W of te){const ce={subject:null,predicate:W.predicate,object:null,graph:null};ce.subject=F.modifyFirstDegreeComponent(T,W.subject,"subject"),ce.object=F.modifyFirstDegreeComponent(T,W.object,"object"),ce.graph=F.modifyFirstDegreeComponent(T,W.graph,"graph"),D.push(P.serializeQuad(ce))}D.sort();const C=F.createMessageDigest();for(const W of D)C.update(W);return B.hash=yield C.digest(),B.hash})()}hashRelatedBlankNode(T,F,D,B){var te=this;return A(function*(){let C;C=te.canonicalIssuer.hasId(T)?te.canonicalIssuer.getId(T):D.hasId(T)?D.getId(T):te.blankNodeInfo.get(T).hash;const W=te.createMessageDigest();return W.update(B),"g"!==B&&W.update(te.getRelatedPredicate(F)),W.update(C),W.digest()})()}hashNDegreeQuads(T,F){var D=this;return A(function*(){const B=D.deepIterations.get(T)||0;if(B>D.maxDeepIterations)throw new Error(`Maximum deep iterations (${D.maxDeepIterations}) exceeded.`);D.deepIterations.set(T,B+1);const te=D.createMessageDigest(),C=yield D.createHashToRelated(T,F),W=[...C.keys()].sort();for(const ce of W){te.update(ce);let ie,Y="";const ne=new S(C.get(ce));let X=0;for(;ne.hasNext();){const V=ne.next();++X%3==0&&(yield D._yield());let v=F.clone(),U="";const k=[];let ue=!1;for(const G of V)if(D.canonicalIssuer.hasId(G)?U+=D.canonicalIssuer.getId(G):(v.hasId(G)||k.push(G),U+=v.getId(G)),0!==Y.length&&U>Y){ue=!0;break}if(!ue){for(const G of k){const Te=yield D.hashNDegreeQuads(G,v);if(U+=v.getId(G),U+=`<${Te.hash}>`,v=Te.issuer,0!==Y.length&&U>Y){ue=!0;break}}ue||(0===Y.length||U<Y)&&(Y=U,ie=v)}}te.update(Y),F=ie}return{hash:yield te.digest(),issuer:F}})()}modifyFirstDegreeComponent(T,F){return"BlankNode"!==F.termType?F:{termType:"BlankNode",value:F.value===T?"_:a":"_:z"}}getRelatedPredicate(T){return`<${T.predicate.value}>`}createHashToRelated(T,F){var D=this;return A(function*(){const B=new Map,te=D.blankNodeInfo.get(T).quads;let C=0;for(const W of te)++C%100==0&&(yield D._yield()),yield Promise.all([D._addRelatedBlankNodeHash({quad:W,component:W.subject,position:"s",id:T,issuer:F,hashToRelated:B}),D._addRelatedBlankNodeHash({quad:W,component:W.object,position:"o",id:T,issuer:F,hashToRelated:B}),D._addRelatedBlankNodeHash({quad:W,component:W.graph,position:"g",id:T,issuer:F,hashToRelated:B})]);return B})()}_hashAndTrackBlankNode({id:T,hashToBlankNodes:F}){var D=this;return A(function*(){const B=yield D.hashFirstDegreeQuads(T),te=F.get(B);te?te.push(T):F.set(B,[T])})()}_addBlankNodeQuadInfo({quad:T,component:F}){if("BlankNode"!==F.termType)return;const D=F.value,B=this.blankNodeInfo.get(D);B?B.quads.add(T):this.blankNodeInfo.set(D,{quads:new Set([T]),hash:null})}_addRelatedBlankNodeHash({quad:T,component:F,position:D,id:B,issuer:te,hashToRelated:C}){var W=this;return A(function*(){if("BlankNode"!==F.termType||F.value===B)return;const ce=F.value,Y=yield W.hashRelatedBlankNode(ce,T,te,D),ie=C.get(Y);ie?ie.push(ce):C.set(Y,[ce])})()}_componentWithCanonicalId(T){return"BlankNode"!==T.termType||T.value.startsWith(this.canonicalIssuer.prefix)?T:{termType:"BlankNode",value:this.canonicalIssuer.getId(T.value)}}_yield(){return A(function*(){return new Promise(T=>setImmediate(T))})()}}},9123:(re,q,m)=>{"use strict";const A=m(5327),b=m(7475),R=m(7790),S=m(8003);function P(g,y){return g.hash<y.hash?-1:g.hash>y.hash?1:0}re.exports=class{constructor({createMessageDigest:y=(()=>new b("sha256")),canonicalIdMap:T=new Map,maxDeepIterations:F=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new A("_:c14n",T),this.createMessageDigest=y,this.maxDeepIterations=F,this.quads=null,this.deepIterations=null}main(y){this.deepIterations=new Map,this.quads=y;for(const C of y)this._addBlankNodeQuadInfo({quad:C,component:C.subject}),this._addBlankNodeQuadInfo({quad:C,component:C.object}),this._addBlankNodeQuadInfo({quad:C,component:C.graph});const T=new Map,F=[...this.blankNodeInfo.keys()];for(const C of F)this._hashAndTrackBlankNode({id:C,hashToBlankNodes:T});const D=[...T.keys()].sort(),B=[];for(const C of D){const W=T.get(C);W.length>1?B.push(W):this.canonicalIssuer.getId(W[0])}for(const C of B){const W=[];for(const ce of C){if(this.canonicalIssuer.hasId(ce))continue;const Y=new A("_:b");Y.getId(ce);const ie=this.hashNDegreeQuads(ce,Y);W.push(ie)}W.sort(P);for(const ce of W){const Y=ce.issuer.getOldIds();for(const ie of Y)this.canonicalIssuer.getId(ie)}}const te=[];for(const C of this.quads){const W=S.serializeQuadComponents(this._componentWithCanonicalId({component:C.subject}),C.predicate,this._componentWithCanonicalId({component:C.object}),this._componentWithCanonicalId({component:C.graph}));te.push(W)}return te.sort(),te.join("")}hashFirstDegreeQuads(y){const T=[],F=this.blankNodeInfo.get(y),D=F.quads;for(const te of D){const C={subject:null,predicate:te.predicate,object:null,graph:null};C.subject=this.modifyFirstDegreeComponent(y,te.subject,"subject"),C.object=this.modifyFirstDegreeComponent(y,te.object,"object"),C.graph=this.modifyFirstDegreeComponent(y,te.graph,"graph"),T.push(S.serializeQuad(C))}T.sort();const B=this.createMessageDigest();for(const te of T)B.update(te);return F.hash=B.digest(),F.hash}hashRelatedBlankNode(y,T,F,D){let B;B=this.canonicalIssuer.hasId(y)?this.canonicalIssuer.getId(y):F.hasId(y)?F.getId(y):this.blankNodeInfo.get(y).hash;const te=this.createMessageDigest();return te.update(D),"g"!==D&&te.update(this.getRelatedPredicate(T)),te.update(B),te.digest()}hashNDegreeQuads(y,T){const F=this.deepIterations.get(y)||0;if(F>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(y,F+1);const D=this.createMessageDigest(),B=this.createHashToRelated(y,T),te=[...B.keys()].sort();for(const C of te){D.update(C);let ce,W="";const Y=new R(B.get(C));for(;Y.hasNext();){const ie=Y.next();let ne=T.clone(),X="";const V=[];let v=!1;for(const U of ie)if(this.canonicalIssuer.hasId(U)?X+=this.canonicalIssuer.getId(U):(ne.hasId(U)||V.push(U),X+=ne.getId(U)),0!==W.length&&X>W){v=!0;break}if(!v){for(const U of V){const k=this.hashNDegreeQuads(U,ne);if(X+=ne.getId(U),X+=`<${k.hash}>`,ne=k.issuer,0!==W.length&&X>W){v=!0;break}}v||(0===W.length||X<W)&&(W=X,ce=ne)}}D.update(W),T=ce}return{hash:D.digest(),issuer:T}}modifyFirstDegreeComponent(y,T){return"BlankNode"!==T.termType?T:{termType:"BlankNode",value:T.value===y?"_:a":"_:z"}}getRelatedPredicate(y){return`<${y.predicate.value}>`}createHashToRelated(y,T){const F=new Map,D=this.blankNodeInfo.get(y).quads;for(const B of D)this._addRelatedBlankNodeHash({quad:B,component:B.subject,position:"s",id:y,issuer:T,hashToRelated:F}),this._addRelatedBlankNodeHash({quad:B,component:B.object,position:"o",id:y,issuer:T,hashToRelated:F}),this._addRelatedBlankNodeHash({quad:B,component:B.graph,position:"g",id:y,issuer:T,hashToRelated:F});return F}_hashAndTrackBlankNode({id:y,hashToBlankNodes:T}){const F=this.hashFirstDegreeQuads(y),D=T.get(F);D?D.push(y):T.set(F,[y])}_addBlankNodeQuadInfo({quad:y,component:T}){if("BlankNode"!==T.termType)return;const F=T.value,D=this.blankNodeInfo.get(F);D?D.quads.add(y):this.blankNodeInfo.set(F,{quads:new Set([y]),hash:null})}_addRelatedBlankNodeHash({quad:y,component:T,position:F,id:D,issuer:B,hashToRelated:te}){if("BlankNode"!==T.termType||T.value===D)return;const C=T.value,W=this.hashRelatedBlankNode(C,y,B,F),ce=te.get(W);ce?ce.push(C):te.set(W,[C])}_componentWithCanonicalId({component:y}){return"BlankNode"!==y.termType||y.value.startsWith(this.canonicalIssuer.prefix)?y:{termType:"BlankNode",value:this.canonicalIssuer.getId(y.value)}}}},1326:(re,q,m)=>{"use strict";var A=m(7156).default;const b=m(7475),R=m(7218);re.exports=class extends R{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new b("sha1")}modifyFirstDegreeComponent(P,g,y){return"BlankNode"!==g.termType?g:"graph"===y?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:g.value===P?"_:a":"_:z"}}getRelatedPredicate(P){return P.predicate.value}createHashToRelated(P,g){var y=this;return A(function*(){const T=new Map,F=y.blankNodeInfo.get(P).quads;let D=0;for(const B of F){let te,C;if("BlankNode"===B.subject.termType&&B.subject.value!==P)C=B.subject.value,te="p";else{if("BlankNode"!==B.object.termType||B.object.value===P)continue;C=B.object.value,te="r"}++D%100==0&&(yield y._yield());const W=yield y.hashRelatedBlankNode(C,B,g,te),ce=T.get(W);ce?ce.push(C):T.set(W,[C])}return T})()}}},9869:(re,q,m)=>{"use strict";const A=m(7475),b=m(9123);re.exports=class extends b{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new A("sha1")}modifyFirstDegreeComponent(S,P,g){return"BlankNode"!==P.termType?P:"graph"===g?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:P.value===S?"_:a":"_:z"}}getRelatedPredicate(S){return S.predicate.value}createHashToRelated(S,P){const g=new Map,y=this.blankNodeInfo.get(S).quads;for(const T of y){let F,D;if("BlankNode"===T.subject.termType&&T.subject.value!==S)D=T.subject.value,F="p";else{if("BlankNode"!==T.object.termType||T.object.value===S)continue;D=T.object.value,F="r"}const B=this.hashRelatedBlankNode(D,T,P,F),te=g.get(B);te?te.push(D):g.set(B,[D])}return g}}},7842:(re,q,m)=>{"use strict";var A=m(7156).default;const b=m(7218),R=m(1326),S=m(9123),P=m(9869);let g;try{g=m(7670)}catch{}function y(T){return Array.isArray(T)?T:q.NQuads.legacyDatasetToQuads(T)}q.NQuads=m(8003),q.IdentifierIssuer=m(5327),q._rdfCanonizeNative=function(T){return T&&(g=T),g},q.canonize=function(){var T=A(function*(F,D){const B=y(F);if(D.useNative){if(!g)throw new Error("rdf-canonize-native not available");if(D.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((te,C)=>g.canonize(B,D,(W,ce)=>W?C(W):te(ce)))}if("URDNA2015"===D.algorithm)return new b(D).main(B);if("URGNA2012"===D.algorithm){if(D.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new R(D).main(B)}throw"algorithm"in D?new Error("Invalid RDF Dataset Canonicalization algorithm: "+D.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")});return function(F,D){return T.apply(this,arguments)}}(),q._canonizeSync=function(T,F){const D=y(T);if(F.useNative){if(!g)throw new Error("rdf-canonize-native not available");if(F.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return g.canonizeSync(D,F)}if("URDNA2015"===F.algorithm)return new S(F).main(D);if("URGNA2012"===F.algorithm){if(F.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new P(F).main(D)}throw"algorithm"in F?new Error("Invalid RDF Dataset Canonicalization algorithm: "+F.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}},2633:function(re,q,m){"use strict";var A=this&&this.__createBinding||(Object.create?function(R,S,P,g){void 0===g&&(g=P),Object.defineProperty(R,g,{enumerable:!0,get:function(){return S[P]}})}:function(R,S,P,g){void 0===g&&(g=P),R[g]=S[P]}),b=this&&this.__exportStar||function(R,S){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(S,P)&&A(S,R,P)};Object.defineProperty(q,"__esModule",{value:!0}),b(m(4740),q),b(m(3613),q),b(m(9379),q),b(m(5565),q),b(m(3283),q),b(m(3905),q),b(m(2234),q)},4740:(re,q)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.BlankNode=void 0,q.BlankNode=class m{constructor(b){this.termType="BlankNode",this.value=b}equals(b){return!!b&&"BlankNode"===b.termType&&b.value===this.value}}},3613:(re,q,m)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.DataFactory=void 0;const A=m(4740),b=m(9379),R=m(5565),S=m(3283),P=m(3905),g=m(2234);let y=0;q.DataFactory=class T{constructor(D){this.blankNodeCounter=0,this.blankNodePrefix=(D=D||{}).blankNodePrefix||`df_${y++}_`}namedNode(D){return new S.NamedNode(D)}blankNode(D){return new A.BlankNode(D||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(D,B){return new R.Literal(D,B)}variable(D){return new g.Variable(D)}defaultGraph(){return b.DefaultGraph.INSTANCE}quad(D,B,te,C){return new P.Quad(D,B,te,C||this.defaultGraph())}fromTerm(D){switch(D.termType){case"NamedNode":return this.namedNode(D.value);case"BlankNode":return this.blankNode(D.value);case"Literal":return D.language?this.literal(D.value,D.language):D.datatype.equals(R.Literal.XSD_STRING)?this.literal(D.value):this.literal(D.value,this.fromTerm(D.datatype));case"Variable":return this.variable(D.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(D.subject),this.fromTerm(D.predicate),this.fromTerm(D.object),this.fromTerm(D.graph))}}fromQuad(D){return this.fromTerm(D)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},9379:(re,q)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.DefaultGraph=void 0;class m{constructor(){this.termType="DefaultGraph",this.value=""}equals(b){return!!b&&"DefaultGraph"===b.termType}}q.DefaultGraph=m,m.INSTANCE=new m},5565:(re,q,m)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.Literal=void 0;const A=m(3283);class b{constructor(S,P){this.termType="Literal",this.value=S,"string"==typeof P?(this.language=P,this.datatype=b.RDF_LANGUAGE_STRING):P?(this.language="",this.datatype=P):(this.language="",this.datatype=b.XSD_STRING)}equals(S){return!!S&&"Literal"===S.termType&&S.value===this.value&&S.language===this.language&&this.datatype.equals(S.datatype)}}q.Literal=b,b.RDF_LANGUAGE_STRING=new A.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),b.XSD_STRING=new A.NamedNode("http://www.w3.org/2001/XMLSchema#string")},3283:(re,q)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.NamedNode=void 0,q.NamedNode=class m{constructor(b){this.termType="NamedNode",this.value=b}equals(b){return!!b&&"NamedNode"===b.termType&&b.value===this.value}}},3905:(re,q)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.Quad=void 0,q.Quad=class m{constructor(b,R,S,P){this.termType="Quad",this.value="",this.subject=b,this.predicate=R,this.object=S,this.graph=P}equals(b){return!!b&&("Quad"===b.termType||!b.termType)&&this.subject.equals(b.subject)&&this.predicate.equals(b.predicate)&&this.object.equals(b.object)&&this.graph.equals(b.graph)}}},2234:(re,q)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.Variable=void 0,q.Variable=class m{constructor(b){this.termType="Variable",this.value=b}equals(b){return!!b&&"Variable"===b.termType&&b.value===this.value}}},9689:function(re,q,m){"use strict";var A=this&&this.__createBinding||(Object.create?function(C,W,ce,Y){void 0===Y&&(Y=ce),Object.defineProperty(C,Y,{enumerable:!0,get:function(){return W[ce]}})}:function(C,W,ce,Y){void 0===Y&&(Y=ce),C[Y]=W[ce]}),b=this&&this.__exportStar||function(C,W){for(var ce in C)"default"!==ce&&!Object.prototype.hasOwnProperty.call(W,ce)&&A(W,C,ce)};Object.defineProperty(q,"__esModule",{value:!0}),q.getSupportedJavaScriptPrimitives=q.getSupportedRdfDatatypes=q.getTermRaw=q.toRdf=q.fromRdf=void 0;const R=m(2633),S=m(2538),P=m(6374);b(m(2538),q),b(m(1815),q),b(m(6374),q);const g=new R.DataFactory,y=new P.Translator;function T(C,W){return y.fromRdf(C,W)}y.registerHandler(new S.TypeHandlerString,S.TypeHandlerString.TYPES.map(C=>g.namedNode(C)),["string"]),y.registerHandler(new S.TypeHandlerBoolean,[S.TypeHandlerBoolean.TYPE].map(C=>g.namedNode(C)),["boolean"]),y.registerHandler(new S.TypeHandlerNumberDouble,S.TypeHandlerNumberDouble.TYPES.map(C=>g.namedNode(C)),["number"]),y.registerHandler(new S.TypeHandlerNumberInteger,S.TypeHandlerNumberInteger.TYPES.map(C=>g.namedNode(C)),["number"]),y.registerHandler(new S.TypeHandlerDate,S.TypeHandlerDate.TYPES.map(C=>g.namedNode(C)),["object"]),q.fromRdf=T,q.toRdf=function F(C,W){return W&&"namedNode"in W&&(W={dataFactory:W}),(W=W||{})&&!W.dataFactory&&(W.dataFactory=g),y.toRdf(C,W)},q.getTermRaw=function D(C,W){return"Literal"===C.termType?T(C,W):C.value},q.getSupportedRdfDatatypes=function B(){return y.getSupportedRdfDatatypes()},q.getSupportedJavaScriptPrimitives=function te(){return y.getSupportedJavaScriptPrimitives()}},1815:(re,q)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0})},6374:(re,q)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.Translator=void 0,q.Translator=class m{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(b){throw new Error(`Invalid RDF ${b.datatype.value} value: '${b.value}'`)}registerHandler(b,R,S){for(const P of R)this.supportedRdfDatatypes.push(P),this.fromRdfHandlers[P.value]=b;for(const P of S){let g=this.toRdfHandlers[P];g||(this.toRdfHandlers[P]=g=[]),g.push(b)}}fromRdf(b,R){const S=this.fromRdfHandlers[b.datatype.value];return S?S.fromRdf(b,R):b.value}toRdf(b,R){const S=this.toRdfHandlers[typeof b];if(S)for(const P of S){const g=P.toRdf(b,R);if(g)return g}throw new Error(`Invalid JavaScript value: '${b}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}},88:(re,q,m)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.TypeHandlerBoolean=void 0;const A=m(6374);class b{fromRdf(S,P){switch(S.value){case"true":case"1":return!0;case"false":case"0":return!1}return P&&A.Translator.incorrectRdfDataType(S),!1}toRdf(S,{datatype:P,dataFactory:g}){return g.literal(S?"true":"false",P||g.namedNode(b.TYPE))}}q.TypeHandlerBoolean=b,b.TYPE="http://www.w3.org/2001/XMLSchema#boolean"},1600:(re,q,m)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.TypeHandlerDate=void 0;const A=m(6374);class b{fromRdf(S,P){switch(P&&!S.value.match(b.VALIDATORS[S.datatype.value.substr(33,S.datatype.value.length)])&&A.Translator.incorrectRdfDataType(S),S.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(S.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const g=S.value.split("-");return new Date(0,parseInt(g[0],10)-1,parseInt(g[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(S.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(S.value+"-01");default:return new Date(S.value)}}toRdf(S,{datatype:P,dataFactory:g}){if(P=P||g.namedNode(b.TYPES[0]),!(S instanceof Date))return null;const y=S;let T;switch(P.value){case"http://www.w3.org/2001/XMLSchema#gDay":T=String(y.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":T=y.getUTCMonth()+1+"-"+y.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":T=String(y.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":T=y.getUTCFullYear()+"-"+(y.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":T=y.toISOString().replace(/T.*$/,"");break;default:T=y.toISOString()}return g.literal(T,P)}}q.TypeHandlerDate=b,b.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],b.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/}},1511:(re,q,m)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.TypeHandlerNumberDouble=void 0;const A=m(6374);class b{fromRdf(S,P){const g=parseFloat(S.value);return P&&isNaN(g)&&A.Translator.incorrectRdfDataType(S),g}toRdf(S,{datatype:P,dataFactory:g}){return P=P||g.namedNode(b.TYPES[0]),isNaN(S)?g.literal("NaN",P):isFinite(S)?S%1==0?null:g.literal(S.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),P):g.literal(S>0?"INF":"-INF",P)}}q.TypeHandlerNumberDouble=b,b.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"]},9199:(re,q,m)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.TypeHandlerNumberInteger=void 0;const A=m(6374);class b{fromRdf(S,P){const g=parseInt(S.value,10);return P&&(isNaN(g)||S.value.indexOf(".")>=0)&&A.Translator.incorrectRdfDataType(S),g}toRdf(S,{datatype:P,dataFactory:g}){return g.literal(String(S),P||g.namedNode(S<=b.MAX_INT&&S>=b.MIN_INT?b.TYPES[0]:b.TYPES[1]))}}q.TypeHandlerNumberInteger=b,b.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],b.MAX_INT=2147483647,b.MIN_INT=-2147483648},2210:(re,q)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.TypeHandlerString=void 0;class m{fromRdf(b){return b.value}toRdf(b,{datatype:R,dataFactory:S}){return S.literal(b,R)}}q.TypeHandlerString=m,m.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"]},2538:function(re,q,m){"use strict";var A=this&&this.__createBinding||(Object.create?function(R,S,P,g){void 0===g&&(g=P),Object.defineProperty(R,g,{enumerable:!0,get:function(){return S[P]}})}:function(R,S,P,g){void 0===g&&(g=P),R[g]=S[P]}),b=this&&this.__exportStar||function(R,S){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(S,P)&&A(S,R,P)};Object.defineProperty(q,"__esModule",{value:!0}),b(m(88),q),b(m(1600),q),b(m(1511),q),b(m(9199),q),b(m(2210),q)},2821:function(re,q,m){"use strict";var A=this&&this.__createBinding||(Object.create?function(R,S,P,g){void 0===g&&(g=P),Object.defineProperty(R,g,{enumerable:!0,get:function(){return S[P]}})}:function(R,S,P,g){void 0===g&&(g=P),R[g]=S[P]}),b=this&&this.__exportStar||function(R,S){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(S,P)&&A(S,R,P)};Object.defineProperty(q,"__esModule",{value:!0}),b(m(5664),q)},758:(re,q)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.ParseError=void 0;class m extends Error{constructor(b,R){const S=b.saxStream._parser;super(b.trackPosition?`Line ${S.line+1} column ${S.column+1}: ${R}`:R)}}q.ParseError=m},5664:(re,q,m)=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.ParseType=q.RdfXmlParser=void 0;const A=m(7054),b=m(9528),R=m(1793),S=m(758),P=m(2633);class g extends R.Transform{constructor(F){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},F&&(Object.assign(this,F),this.options=F),this.dataFactory||(this.dataFactory=new P.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.saxStream=b.createStream(this.strict,{xmlns:!1,position:this.trackPosition}),this.strict||(this.saxStream._parser.looseCase="toString"),this.attachSaxListeners()}static parseNamespace(F,D){const B={};let te=!1;for(const W in F.attributes)W.startsWith("xmlns")&&(5===W.length?(te=!0,B[""]=F.attributes[W]):":"===W.charAt(5)&&(te=!0,B[W.substr(6)]=F.attributes[W]));const C=D&&D.ns?D.ns:[g.DEFAULT_NS];return te?C.concat([B]):C}static expandPrefixedTerm(F,D,B){const te=F.indexOf(":");let C,W;te>=0?(C=F.substr(0,te),W=F.substr(te+1)):(C="",W=F);let ce=null,Y=null;for(let ie=D.length-1;ie>=0;ie--){const ne=D[ie][C];if(ne){ce=ne;break}Y||(Y=D[ie][""])}if(!ce){if(C&&"xmlns"!==C)throw new S.ParseError(B,`The prefix '${C}' in term '${F}' was not bound.`);ce=Y||""}return{prefix:C,local:W,uri:ce}}static isValidIri(F){return g.IRI_REGEX.test(F)}import(F){const D=new R.PassThrough({readableObjectMode:!0});F.on("error",te=>B.emit("error",te)),F.on("data",te=>D.push(te)),F.on("end",()=>D.push(null));const B=D.pipe(new g(this.options));return B}_transform(F,D,B){try{this.saxStream.write(F,D)}catch(te){return B(te)}B()}newParseError(F){return new S.ParseError(this,F)}valueToUri(F,D){return this.uriToNamedNode(A.resolve(F,D.baseIRI))}uriToNamedNode(F){if(!g.isValidIri(F))throw this.newParseError(`Invalid URI: ${F}`);return this.dataFactory.namedNode(F)}validateNcname(F){if(!g.NCNAME_MATCHER.test(F))throw this.newParseError(`Not a valid NCName: ${F}`)}attachSaxListeners(){this.saxStream.on("error",F=>this.emit("error",F)),this.saxStream.on("opentag",this.onTag.bind(this)),this.saxStream.on("text",this.onText.bind(this)),this.saxStream.on("closetag",this.onCloseTag.bind(this)),this.saxStream.on("doctype",this.onDoctype.bind(this))}onTag(F){const D=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let B=y.RESOURCE;if(D&&(D.hadChildren=!0,B=D.childrenParseType),D&&D.childrenStringTags){const C=F.name;let W="";for(const ne in F.attributes)W+=` ${ne}="${F.attributes[ne]}"`;D.childrenStringTags.push(`<${C}${W}>`);const ie={childrenStringTags:D.childrenStringTags};return ie.childrenStringEmitClosingTag=`</${C}>`,void this.activeTagStack.push(ie)}const te={};D?(te.language=D.language,te.baseIRI=D.baseIRI):te.baseIRI=this.baseIRI,this.activeTagStack.push(te),te.ns=g.parseNamespace(F,D),B===y.RESOURCE?this.onTagResource(F,te,D,!D):this.onTagProperty(F,te,D)}onTagResource(F,D,B,te){const C=g.expandPrefixedTerm(F.name,D.ns,this);D.childrenParseType=y.PROPERTY;let W=!0;if(C.uri===g.RDF){if(!te&&g.FORBIDDEN_NODE_ELEMENTS.indexOf(C.local)>=0)throw this.newParseError(`Illegal node element name: ${C.local}`);switch(C.local){case"RDF":D.childrenParseType=y.RESOURCE;case"Description":W=!1}}const ce=[],Y=[];let ie=null,ne=!1,X=!1,V=null;for(const v in F.attributes){const U=F.attributes[v],k=g.expandPrefixedTerm(v,D.ns,this);if(B&&k.uri===g.RDF)switch(k.local){case"about":if(ie)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${U} and ${ie} where found.`);ie=U;continue;case"ID":if(ie)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${U} and ${ie} where found.`);this.validateNcname(U),ie="#"+U,ne=!0;continue;case"nodeID":if(ie)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${U} and ${ie} where found.`);this.validateNcname(U),ie=U,X=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":V=U;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(k.uri===g.XML){if("lang"===k.local){D.language=""===U?null:U.toLowerCase();continue}if("base"===k.local){D.baseIRI=A.resolve(U,D.baseIRI);continue}}"xml"!==k.prefix&&k.uri&&(ce.push(this.uriToNamedNode(k.uri+k.local)),Y.push(U))}if(null!==ie&&(D.subject=X?this.dataFactory.blankNode(ie):this.valueToUri(ie,D),ne&&this.claimNodeId(D.subject)),D.subject||(D.subject=this.dataFactory.blankNode()),W){const v=this.uriToNamedNode(C.uri+C.local);this.emitTriple(D.subject,this.dataFactory.namedNode(g.RDF+"type"),v,B?B.reifiedStatementId:null)}if(B){if(B.predicate)if(B.childrenCollectionSubject){const v=this.dataFactory.blankNode();this.emitTriple(B.childrenCollectionSubject,B.childrenCollectionPredicate,v,B.reifiedStatementId),this.emitTriple(v,this.dataFactory.namedNode(g.RDF+"first"),D.subject,D.reifiedStatementId),B.childrenCollectionSubject=v,B.childrenCollectionPredicate=this.dataFactory.namedNode(g.RDF+"rest")}else{this.emitTriple(B.subject,B.predicate,D.subject,B.reifiedStatementId);for(let v=0;v<B.predicateSubPredicates.length;v++)this.emitTriple(D.subject,B.predicateSubPredicates[v],B.predicateSubObjects[v],null);B.predicateSubPredicates=[],B.predicateSubObjects=[],B.predicateEmitted=!0}for(let v=0;v<ce.length;v++){const U=this.dataFactory.literal(Y[v],D.datatype||D.language);this.emitTriple(D.subject,ce[v],U,B.reifiedStatementId)}V&&this.emitTriple(D.subject,this.dataFactory.namedNode(g.RDF+"type"),this.uriToNamedNode(V),null)}}onTagProperty(F,D,B){const te=g.expandPrefixedTerm(F.name,D.ns,this);if(D.childrenParseType=y.RESOURCE,D.subject=B.subject,te.uri===g.RDF&&"li"===te.local?(B.listItemCounter||(B.listItemCounter=1),D.predicate=this.uriToNamedNode(te.uri+"_"+B.listItemCounter++)):D.predicate=this.uriToNamedNode(te.uri+te.local),te.uri===g.RDF&&g.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(te.local)>=0)throw this.newParseError(`Illegal property element name: ${te.local}`);D.predicateSubPredicates=[],D.predicateSubObjects=[];let C=!1,W=!1,ce=null,Y=!0;const ie=[],ne=[];for(const X in F.attributes){const V=F.attributes[X],v=g.expandPrefixedTerm(X,D.ns,this);if(v.uri===g.RDF)switch(v.local){case"resource":if(ce)throw this.newParseError(`Found both rdf:resource (${V}) and rdf:nodeID (${ce}).`);if(C)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${V})`);D.hadChildren=!0,ce=V,Y=!1;continue;case"datatype":if(W)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${V}).`);if(C)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${V})`);D.datatype=this.valueToUri(V,D);continue;case"nodeID":if(W)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${V}).`);if(D.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${V}).`);if(C)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${V})`);this.validateNcname(V),D.hadChildren=!0,ce=V,Y=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(W)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(D.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${D.datatype.value})`);if(ce)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${ce})`);if("Resource"===V){C=!0,D.childrenParseType=y.PROPERTY;const U=this.dataFactory.blankNode();this.emitTriple(D.subject,D.predicate,U,D.reifiedStatementId),D.subject=U,D.predicate=null}else"Collection"===V?(C=!0,D.hadChildren=!0,D.childrenCollectionSubject=D.subject,D.childrenCollectionPredicate=D.predicate,Y=!1):"Literal"===V&&(C=!0,D.childrenTagsToString=!0,D.childrenStringTags=[]);continue;case"ID":this.validateNcname(V),D.reifiedStatementId=this.valueToUri("#"+V,D),this.claimNodeId(D.reifiedStatementId);continue}else if(v.uri===g.XML&&"lang"===v.local){D.language=""===V?null:V.toLowerCase();continue}if("xml"!==v.prefix&&"xmlns"!==v.prefix&&v.uri){if(C||D.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${V}`);D.hadChildren=!0,W=!0,ie.push(this.uriToNamedNode(v.uri+v.local)),ne.push(this.dataFactory.literal(V,D.datatype||D.language))}}if(null!==ce){const X=D.subject;D.subject=Y?this.dataFactory.blankNode(ce):this.valueToUri(ce,D),this.emitTriple(X,D.predicate,D.subject,D.reifiedStatementId);for(let V=0;V<ie.length;V++)this.emitTriple(D.subject,ie[V],ne[V],null);D.predicateEmitted=!0}else Y&&(D.predicateSubPredicates=ie,D.predicateSubObjects=ne,D.predicateEmitted=!1)}emitTriple(F,D,B,te){this.push(this.dataFactory.quad(F,D,B,this.defaultGraph)),te&&(this.push(this.dataFactory.quad(te,this.dataFactory.namedNode(g.RDF+"type"),this.dataFactory.namedNode(g.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(te,this.dataFactory.namedNode(g.RDF+"subject"),F,this.defaultGraph)),this.push(this.dataFactory.quad(te,this.dataFactory.namedNode(g.RDF+"predicate"),D,this.defaultGraph)),this.push(this.dataFactory.quad(te,this.dataFactory.namedNode(g.RDF+"object"),B,this.defaultGraph)))}claimNodeId(F){if(!this.allowDuplicateRdfIds){if(this.nodeIds[F.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${F.value}'.`);this.nodeIds[F.value]=!0}}onText(F){const D=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;D&&(D.childrenStringTags?D.childrenStringTags.push(F):D.predicate&&(D.text=F))}onCloseTag(){const F=this.activeTagStack.pop();if(F.childrenStringEmitClosingTag&&F.childrenStringTags.push(F.childrenStringEmitClosingTag),F.childrenTagsToString&&(F.datatype=this.dataFactory.namedNode(g.RDF+"XMLLiteral"),F.text=F.childrenStringTags.join(""),F.hadChildren=!1),F.childrenCollectionSubject)this.emitTriple(F.childrenCollectionSubject,F.childrenCollectionPredicate,this.dataFactory.namedNode(g.RDF+"nil"),F.reifiedStatementId);else if(F.predicate)if(F.hadChildren||F.childrenParseType===y.PROPERTY){if(!F.predicateEmitted){const D=this.dataFactory.blankNode();this.emitTriple(F.subject,F.predicate,D,F.reifiedStatementId);for(let B=0;B<F.predicateSubPredicates.length;B++)this.emitTriple(D,F.predicateSubPredicates[B],F.predicateSubObjects[B],null)}}else this.emitTriple(F.subject,F.predicate,this.dataFactory.literal(F.text||"",F.datatype||F.language),F.reifiedStatementId)}onDoctype(F){F.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(D,B,te)=>(this.saxStream._parser.ENTITIES[B]=te,""))}}var y,T;q.RdfXmlParser=g,g.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*):[^ "<>{}|\\\[\]`]*$/,g.MIME_TYPE="application/rdf+xml",g.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",g.XML="http://www.w3.org/XML/1998/namespace",g.XMLNS="http://www.w3.org/2000/xmlns/",g.DEFAULT_NS={xml:g.XML},g.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],g.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],g.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,(T=y=q.ParseType||(q.ParseType={}))[T.RESOURCE=0]="RESOURCE",T[T.PROPERTY=1]="PROPERTY"},9987:(re,q,m)=>{"use strict";const{AbortError:A,codes:b}=m(4370),{isNodeStream:R,isWebStream:S,kControllerErrorFunction:P}=m(5428),g=m(4618),{ERR_INVALID_ARG_TYPE:y}=b;re.exports.addAbortSignal=function(D,B){if(((F,D)=>{if("object"!=typeof F||!("aborted"in F))throw new y("signal","AbortSignal",F)})(D),!R(B)&&!S(B))throw new y("stream",["ReadableStream","WritableStream","Stream"],B);return re.exports.addAbortSignalNoValidate(D,B)},re.exports.addAbortSignalNoValidate=function(F,D){if("object"!=typeof F||!("aborted"in F))return D;const B=R(D)?()=>{D.destroy(new A(void 0,{cause:F.reason}))}:()=>{D[P](new A(void 0,{cause:F.reason}))};return F.aborted?B():(F.addEventListener("abort",B),g(D,()=>F.removeEventListener("abort",B))),D}},2960:(re,q,m)=>{"use strict";const{StringPrototypeSlice:A,SymbolIterator:b,TypedArrayPrototypeSet:R,Uint8Array:S}=m(6305),{Buffer:P}=m(1657),{inspect:g}=m(2656);re.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(T){const F={data:T,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}unshift(T){const F={data:T,next:this.head};0===this.length&&(this.tail=F),this.head=F,++this.length}shift(){if(0===this.length)return;const T=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,T}clear(){this.head=this.tail=null,this.length=0}join(T){if(0===this.length)return"";let F=this.head,D=""+F.data;for(;null!==(F=F.next);)D+=T+F.data;return D}concat(T){if(0===this.length)return P.alloc(0);const F=P.allocUnsafe(T>>>0);let D=this.head,B=0;for(;D;)R(F,D.data,B),B+=D.data.length,D=D.next;return F}consume(T,F){const D=this.head.data;if(T<D.length){const B=D.slice(0,T);return this.head.data=D.slice(T),B}return T===D.length?this.shift():F?this._getString(T):this._getBuffer(T)}first(){return this.head.data}*[b](){for(let T=this.head;T;T=T.next)yield T.data}_getString(T){let F="",D=this.head,B=0;do{const te=D.data;if(!(T>te.length)){T===te.length?(F+=te,++B,this.head=D.next?D.next:this.tail=null):(F+=A(te,0,T),this.head=D,D.data=A(te,T));break}F+=te,T-=te.length,++B}while(null!==(D=D.next));return this.length-=B,F}_getBuffer(T){const F=P.allocUnsafe(T),D=T;let B=this.head,te=0;do{const C=B.data;if(!(T>C.length)){T===C.length?(R(F,C,D-T),++te,this.head=B.next?B.next:this.tail=null):(R(F,new S(C.buffer,C.byteOffset,T),D-T),this.head=B,B.data=C.slice(T));break}R(F,C,D-T),T-=C.length,++te}while(null!==(B=B.next));return this.length-=te,F}[Symbol.for("nodejs.util.inspect.custom")](T,F){return g(this,{...F,depth:0,customInspect:!1})}}},7721:(re,q,m)=>{"use strict";var A=m(7156).default;const{pipeline:b}=m(4514),R=m(5931),{destroyer:S}=m(5601),{isNodeStream:P,isReadable:g,isWritable:y,isWebStream:T,isTransformStream:F,isWritableStream:D,isReadableStream:B}=m(5428),{AbortError:te,codes:{ERR_INVALID_ARG_VALUE:C,ERR_MISSING_ARGS:W}}=m(4370),ce=m(4618);re.exports=function(...ie){if(0===ie.length)throw new W("streams");if(1===ie.length)return R.from(ie[0]);const ne=[...ie];if("function"==typeof ie[0]&&(ie[0]=R.from(ie[0])),"function"==typeof ie[ie.length-1]){const Re=ie.length-1;ie[Re]=R.from(ie[Re])}for(let Re=0;Re<ie.length;++Re)if(P(ie[Re])||T(ie[Re])){if(Re<ie.length-1&&!(g(ie[Re])||B(ie[Re])||F(ie[Re])))throw new C(`streams[${Re}]`,ne[Re],"must be readable");if(Re>0&&!(y(ie[Re])||D(ie[Re])||F(ie[Re])))throw new C(`streams[${Re}]`,ne[Re],"must be writable")}let X,V,v,U,k;const G=ie[0],Te=b(ie,function ue(Re){const Ie=U;U=null,Ie?Ie(Re):Re?k.destroy(Re):!we&&!le&&k.destroy()}),le=!!(y(G)||D(G)||F(G)),we=!!(g(Te)||B(Te)||F(Te));if(k=new R({writableObjectMode:!(null==G||!G.writableObjectMode),readableObjectMode:!(null==Te||!Te.writableObjectMode),writable:le,readable:we}),le){if(P(G))k._write=function(Ie,Je,qe){G.write(Ie,Je)?qe():X=qe},k._final=function(Ie){G.end(),V=Ie},G.on("drain",function(){if(X){const Ie=X;X=null,Ie()}});else if(T(G)){const Je=(F(G)?G.writable:G).getWriter();k._write=function(){var qe=A(function*(Ee,Le,Ne){try{yield Je.ready,Je.write(Ee).catch(()=>{}),Ne()}catch(ze){Ne(ze)}});return function(Ee,Le,Ne){return qe.apply(this,arguments)}}(),k._final=function(){var qe=A(function*(Ee){try{yield Je.ready,Je.close().catch(()=>{}),V=Ee}catch(Le){Ee(Le)}});return function(Ee){return qe.apply(this,arguments)}}()}const Re=F(Te)?Te.readable:Te;ce(Re,()=>{if(V){const Ie=V;V=null,Ie()}})}if(we)if(P(Te))Te.on("readable",function(){if(v){const Re=v;v=null,Re()}}),Te.on("end",function(){k.push(null)}),k._read=function(){for(;;){const Re=Te.read();if(null===Re)return void(v=k._read);if(!k.push(Re))return}};else if(T(Te)){const Ie=(F(Te)?Te.readable:Te).getReader();k._read=A(function*(){for(;;)try{const{value:Je,done:qe}=yield Ie.read();if(!k.push(Je))return;if(qe)return void k.push(null)}catch{return}})}return k._destroy=function(Re,Ie){!Re&&null!==U&&(Re=new te),v=null,X=null,V=null,null===U?Ie(Re):(U=Ie,P(Te)&&S(Te,Re))},k}},5601:(re,q,m)=>{"use strict";const A=m(42),{aggregateTwoErrors:b,codes:{ERR_MULTIPLE_CALLBACK:R},AbortError:S}=m(4370),{Symbol:P}=m(6305),{kDestroyed:g,isDestroyed:y,isFinished:T,isServerRequest:F}=m(5428),D=P("kDestroy"),B=P("kConstruct");function te(le,we,Re){le&&(we&&!we.errored&&(we.errored=le),Re&&!Re.errored&&(Re.errored=le))}function W(le,we,Re){let Ie=!1;function Je(qe){if(Ie)return;Ie=!0;const Ee=le._readableState,Le=le._writableState;te(qe,Le,Ee),Le&&(Le.closed=!0),Ee&&(Ee.closed=!0),"function"==typeof Re&&Re(qe),qe?A.nextTick(ce,le,qe):A.nextTick(Y,le)}try{le._destroy(we||null,Je)}catch(qe){Je(qe)}}function ce(le,we){ie(le,we),Y(le)}function Y(le){const we=le._readableState,Re=le._writableState;Re&&(Re.closeEmitted=!0),we&&(we.closeEmitted=!0),(null!=Re&&Re.emitClose||null!=we&&we.emitClose)&&le.emit("close")}function ie(le,we){const Re=le._readableState,Ie=le._writableState;null!=Ie&&Ie.errorEmitted||null!=Re&&Re.errorEmitted||(Ie&&(Ie.errorEmitted=!0),Re&&(Re.errorEmitted=!0),le.emit("error",we))}function X(le,we,Re){const Ie=le._readableState,Je=le._writableState;if(null!=Je&&Je.destroyed||null!=Ie&&Ie.destroyed)return this;null!=Ie&&Ie.autoDestroy||null!=Je&&Je.autoDestroy?le.destroy(we):we&&(Je&&!Je.errored&&(Je.errored=we),Ie&&!Ie.errored&&(Ie.errored=we),Re?A.nextTick(ie,le,we):ie(le,we))}function v(le){let we=!1;function Re(Ie){if(we)return void X(le,Ie??new R);we=!0;const Je=le._readableState,qe=le._writableState,Ee=qe||Je;Je&&(Je.constructed=!0),qe&&(qe.constructed=!0),Ee.destroyed?le.emit(D,Ie):Ie?X(le,Ie,!0):A.nextTick(U,le)}try{le._construct(Ie=>{A.nextTick(Re,Ie)})}catch(Ie){A.nextTick(Re,Ie)}}function U(le){le.emit(B)}function k(le){return le?.setHeader&&"function"==typeof le.abort}function ue(le){le.emit("close")}function G(le,we){le.emit("error",we),A.nextTick(ue,le)}re.exports={construct:function V(le,we){if("function"!=typeof le._construct)return;const Re=le._readableState,Ie=le._writableState;Re&&(Re.constructed=!1),Ie&&(Ie.constructed=!1),le.once(B,we),!(le.listenerCount(B)>1)&&A.nextTick(v,le)},destroyer:function Te(le,we){!le||y(le)||(!we&&!T(le)&&(we=new S),F(le)?(le.socket=null,le.destroy(we)):k(le)?le.abort():k(le.req)?le.req.abort():"function"==typeof le.destroy?le.destroy(we):"function"==typeof le.close?le.close():we?A.nextTick(G,le,we):A.nextTick(ue,le),le.destroyed||(le[g]=!0))},destroy:function C(le,we){const Re=this._readableState,Ie=this._writableState,Je=Ie||Re;return null!=Ie&&Ie.destroyed||null!=Re&&Re.destroyed?("function"==typeof we&&we(),this):(te(le,Ie,Re),Ie&&(Ie.destroyed=!0),Re&&(Re.destroyed=!0),Je.constructed?W(this,le,we):this.once(D,function(qe){W(this,b(qe,le),we)}),this)},undestroy:function ne(){const le=this._readableState,we=this._writableState;le&&(le.constructed=!0,le.closed=!1,le.closeEmitted=!1,le.destroyed=!1,le.errored=null,le.errorEmitted=!1,le.reading=!1,le.ended=!1===le.readable,le.endEmitted=!1===le.readable),we&&(we.constructed=!0,we.destroyed=!1,we.closed=!1,we.closeEmitted=!1,we.errored=null,we.errorEmitted=!1,we.finalCalled=!1,we.prefinished=!1,we.ended=!1===we.writable,we.ending=!1===we.writable,we.finished=!1===we.writable)},errorOrDestroy:X}},5931:(re,q,m)=>{"use strict";const{ObjectDefineProperties:A,ObjectGetOwnPropertyDescriptor:b,ObjectKeys:R,ObjectSetPrototypeOf:S}=m(6305);re.exports=y;const P=m(8383),g=m(9764);S(y.prototype,P.prototype),S(y,P);{const B=R(g.prototype);for(let te=0;te<B.length;te++){const C=B[te];y.prototype[C]||(y.prototype[C]=g.prototype[C])}}function y(B){if(!(this instanceof y))return new y(B);P.call(this,B),g.call(this,B),B?(this.allowHalfOpen=!1!==B.allowHalfOpen,!1===B.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===B.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let T,D;function F(){return void 0===T&&(T={}),T}A(y.prototype,{writable:{__proto__:null,...b(g.prototype,"writable")},writableHighWaterMark:{__proto__:null,...b(g.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...b(g.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...b(g.prototype,"writableBuffer")},writableLength:{__proto__:null,...b(g.prototype,"writableLength")},writableFinished:{__proto__:null,...b(g.prototype,"writableFinished")},writableCorked:{__proto__:null,...b(g.prototype,"writableCorked")},writableEnded:{__proto__:null,...b(g.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...b(g.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(B){this._readableState&&this._writableState&&(this._readableState.destroyed=B,this._writableState.destroyed=B)}}}),y.fromWeb=function(B,te){return F().newStreamDuplexFromReadableWritablePair(B,te)},y.toWeb=function(B){return F().newReadableWritablePairFromDuplex(B)},y.from=function(B){return D||(D=m(8078)),D(B,"body")}},8078:(re,q,m)=>{var A=m(7156).default,b=m(6737).default,R=m(8186).default;const S=m(42),P=m(1657),{isReadable:g,isWritable:y,isIterable:T,isNodeStream:F,isReadableNodeStream:D,isWritableNodeStream:B,isDuplexNodeStream:te}=m(5428),C=m(4618),{AbortError:W,codes:{ERR_INVALID_ARG_TYPE:ce,ERR_INVALID_RETURN_VALUE:Y}}=m(4370),{destroyer:ie}=m(5601),ne=m(5931),X=m(8383),{createDeferredPromise:V}=m(2656),v=m(55),U=globalThis.Blob||P.Blob,k=typeof U<"u"?function(Ie){return Ie instanceof U}:function(Ie){return!1},ue=globalThis.AbortController||m(3982).AbortController,{FunctionPrototypeCall:G}=m(6305);class Te extends ne{constructor(Ie){super(Ie),!1===Ie?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===Ie?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function we(Re){const Ie=Re.readable&&"function"!=typeof Re.readable.read?X.wrap(Re.readable):Re.readable,Je=Re.writable;let Le,Ne,ze,ge,Se,qe=!!g(Ie),Ee=!!y(Je);function Ke(dt){const Ye=ge;ge=null,Ye?Ye(dt):dt&&Se.destroy(dt)}return Se=new Te({readableObjectMode:!(null==Ie||!Ie.readableObjectMode),writableObjectMode:!(null==Je||!Je.writableObjectMode),readable:qe,writable:Ee}),Ee&&(C(Je,dt=>{Ee=!1,dt&&ie(Ie,dt),Ke(dt)}),Se._write=function(dt,Ye,be){Je.write(dt,Ye)?be():Le=be},Se._final=function(dt){Je.end(),Ne=dt},Je.on("drain",function(){if(Le){const dt=Le;Le=null,dt()}}),Je.on("finish",function(){if(Ne){const dt=Ne;Ne=null,dt()}})),qe&&(C(Ie,dt=>{qe=!1,dt&&ie(Ie,dt),Ke(dt)}),Ie.on("readable",function(){if(ze){const dt=ze;ze=null,dt()}}),Ie.on("end",function(){Se.push(null)}),Se._read=function(){for(;;){const dt=Ie.read();if(null===dt)return void(ze=Se._read);if(!Se.push(dt))return}}),Se._destroy=function(dt,Ye){!dt&&null!==ge&&(dt=new W),ze=null,Le=null,Ne=null,null===ge?Ye(dt):(ge=Ye,ie(Je,dt),ie(Ie,dt))},Se}re.exports=function Re(Ie,Je){if(te(Ie))return Ie;if(D(Ie))return we({readable:Ie});if(B(Ie))return we({writable:Ie});if(F(Ie))return we({writable:!1,readable:!1});if("function"==typeof Ie){const{value:Ee,write:Le,final:Ne,destroy:ze}=function le(Re){let{promise:Ie,resolve:Je}=V();const qe=new ue,Ee=qe.signal;return{value:Re(R(function*(){for(;;){const Ne=Ie;Ie=null;const{chunk:ze,done:ge,cb:Se}=yield b(Ne);if(S.nextTick(Se),ge)return;if(Ee.aborted)throw new W(void 0,{cause:Ee.reason});({promise:Ie,resolve:Je}=V()),yield ze}})(),{signal:Ee}),write(Ne,ze,ge){const Se=Je;Je=null,Se({chunk:Ne,done:!1,cb:ge})},final(Ne){const ze=Je;Je=null,ze({done:!0,cb:Ne})},destroy(Ne,ze){qe.abort(),ze(Ne)}}}(Ie);if(T(Ee))return v(Te,Ee,{objectMode:!0,write:Le,final:Ne,destroy:ze});const ge=Ee?.then;if("function"==typeof ge){let Se;const Ke=G(ge,Ee,dt=>{if(null!=dt)throw new Y("nully","body",dt)},dt=>{ie(Se,dt)});return Se=new Te({objectMode:!0,readable:!1,write:Le,final(dt){Ne(A(function*(){try{yield Ke,S.nextTick(dt,null)}catch(Ye){S.nextTick(dt,Ye)}}))},destroy:ze})}throw new Y("Iterable, AsyncIterable or AsyncFunction",Je,Ee)}if(k(Ie))return Re(Ie.arrayBuffer());if(T(Ie))return v(Te,Ie,{objectMode:!0,writable:!1});if("object"==typeof Ie?.writable||"object"==typeof Ie?.readable)return we({readable:null!=Ie&&Ie.readable?D(Ie?.readable)?Ie?.readable:Re(Ie.readable):void 0,writable:null!=Ie&&Ie.writable?B(Ie?.writable)?Ie?.writable:Re(Ie.writable):void 0});const qe=Ie?.then;if("function"==typeof qe){let Ee;return G(qe,Ie,Le=>{null!=Le&&Ee.push(Le),Ee.push(null)},Le=>{ie(Ee,Le)}),Ee=new Te({objectMode:!0,writable:!1,read(){}})}throw new ce(Je,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Ie)}},4618:(re,q,m)=>{const A=m(42),{AbortError:b,codes:R}=m(4370),{ERR_INVALID_ARG_TYPE:S,ERR_STREAM_PREMATURE_CLOSE:P}=R,{kEmptyObject:g,once:y}=m(2656),{validateAbortSignal:T,validateFunction:F,validateObject:D,validateBoolean:B}=m(2120),{Promise:te,PromisePrototypeThen:C}=m(6305),{isClosed:W,isReadable:ce,isReadableNodeStream:Y,isReadableStream:ie,isReadableFinished:ne,isReadableErrored:X,isWritable:V,isWritableNodeStream:v,isWritableStream:U,isWritableFinished:k,isWritableErrored:ue,isNodeStream:G,willEmitClose:Te,kIsClosedPromise:le}=m(5428),Re=()=>{};function Ie(Ee,Le,Ne){var ze,ge;if(2===arguments.length?(Ne=Le,Le=g):null==Le?Le=g:D(Le,"options"),F(Ne,"callback"),T(Le.signal,"options.signal"),Ne=y(Ne),ie(Ee)||U(Ee))return function Je(Ee,Le,Ne){let ze=!1,ge=Re;if(Le.signal)if(ge=()=>{ze=!0,Ne.call(Ee,new b(void 0,{cause:Le.signal.reason}))},Le.signal.aborted)A.nextTick(ge);else{const Ke=Ne;Ne=y((...dt)=>{Le.signal.removeEventListener("abort",ge),Ke.apply(Ee,dt)}),Le.signal.addEventListener("abort",ge)}const Se=(...Ke)=>{ze||A.nextTick(()=>Ne.apply(Ee,Ke))};return C(Ee[le].promise,Se,Se),Re}(Ee,Le,Ne);if(!G(Ee))throw new S("stream",["ReadableStream","WritableStream","Stream"],Ee);const Se=null!==(ze=Le.readable)&&void 0!==ze?ze:Y(Ee),Ke=null!==(ge=Le.writable)&&void 0!==ge?ge:v(Ee),dt=Ee._writableState,Ye=Ee._readableState,be=()=>{Ee.writable||se()};let H=Te(Ee)&&Y(Ee)===Se&&v(Ee)===Ke,O=k(Ee,!1);const se=()=>{O=!0,Ee.destroyed&&(H=!1),(!H||Ee.readable&&!Se)&&(!Se||j)&&Ne.call(Ee)};let j=ne(Ee,!1);const Be=()=>{j=!0,Ee.destroyed&&(H=!1),(!H||Ee.writable&&!Ke)&&(!Ke||O)&&Ne.call(Ee)},it=de=>{Ne.call(Ee,de)};let he=W(Ee);const Z=()=>{he=!0;const de=ue(Ee)||X(Ee);return de&&"boolean"!=typeof de?Ne.call(Ee,de):Se&&!j&&Y(Ee,!0)&&!ne(Ee,!1)?Ne.call(Ee,new P):!Ke||O||k(Ee,!1)?void Ne.call(Ee):Ne.call(Ee,new P)},$=()=>{he=!0;const de=ue(Ee)||X(Ee);if(de&&"boolean"!=typeof de)return Ne.call(Ee,de);Ne.call(Ee)},E=()=>{Ee.req.on("finish",se)};!function we(Ee){return Ee.setHeader&&"function"==typeof Ee.abort}(Ee)?Ke&&!dt&&(Ee.on("end",be),Ee.on("close",be)):(Ee.on("complete",se),H||Ee.on("abort",Z),Ee.req?E():Ee.on("request",E)),!H&&"boolean"==typeof Ee.aborted&&Ee.on("aborted",Z),Ee.on("end",Be),Ee.on("finish",se),!1!==Le.error&&Ee.on("error",it),Ee.on("close",Z),he?A.nextTick(Z):null!=dt&&dt.errorEmitted||null!=Ye&&Ye.errorEmitted?H||A.nextTick($):(!Se&&(!H||ce(Ee))&&(O||!1===V(Ee))||!Ke&&(!H||V(Ee))&&(j||!1===ce(Ee))||Ye&&Ee.req&&Ee.aborted)&&A.nextTick($);const N=()=>{Ne=Re,Ee.removeListener("aborted",Z),Ee.removeListener("complete",se),Ee.removeListener("abort",Z),Ee.removeListener("request",E),Ee.req&&Ee.req.removeListener("finish",se),Ee.removeListener("end",be),Ee.removeListener("close",be),Ee.removeListener("finish",se),Ee.removeListener("end",Be),Ee.removeListener("error",it),Ee.removeListener("close",Z)};if(Le.signal&&!he){const de=()=>{const pe=Ne;N(),pe.call(Ee,new b(void 0,{cause:Le.signal.reason}))};if(Le.signal.aborted)A.nextTick(de);else{const pe=Ne;Ne=y((...He)=>{Le.signal.removeEventListener("abort",de),pe.apply(Ee,He)}),Le.signal.addEventListener("abort",de)}}return N}re.exports=Ie,re.exports.finished=function qe(Ee,Le){var Ne;let ze=!1;return null===Le&&(Le=g),null!==(Ne=Le)&&void 0!==Ne&&Ne.cleanup&&(B(Le.cleanup,"cleanup"),ze=Le.cleanup),new te((ge,Se)=>{const Ke=Ie(Ee,Le,dt=>{ze&&Ke(),dt?Se(dt):ge()})})}},55:(re,q,m)=>{"use strict";var A=m(7156).default;const b=m(42),{PromisePrototypeThen:R,SymbolAsyncIterator:S,SymbolIterator:P}=m(6305),{Buffer:g}=m(1657),{ERR_INVALID_ARG_TYPE:y,ERR_STREAM_NULL_VALUES:T}=m(4370).codes;re.exports=function F(D,B,te){let C,W;if("string"==typeof B||B instanceof g)return new D({objectMode:!0,...te,read(){this.push(B),this.push(null)}});if(B&&B[S])W=!0,C=B[S]();else{if(!B||!B[P])throw new y("iterable",["Iterable"],B);W=!1,C=B[P]()}const ce=new D({objectMode:!0,highWaterMark:1,...te});let Y=!1;function ne(){return(ne=A(function*(v){if(null!=v&&"function"==typeof C.throw){const{value:ue,done:G}=yield C.throw(v);if(yield ue,G)return}if("function"==typeof C.return){const{value:ue}=yield C.return();yield ue}})).apply(this,arguments)}function V(){return(V=A(function*(){for(;;){try{const{value:v,done:U}=W?yield C.next():C.next();if(U)ce.push(null);else{const k=v&&"function"==typeof v.then?yield v:v;if(null===k)throw Y=!1,new T;if(ce.push(k))continue;Y=!1}}catch(v){ce.destroy(v)}break}})).apply(this,arguments)}return ce._read=function(){Y||(Y=!0,function X(){V.apply(this,arguments)}())},ce._destroy=function(v,U){R(function ie(v){return ne.apply(this,arguments)}(v),()=>b.nextTick(U,v),k=>b.nextTick(U,k||v))},ce}},900:(re,q,m)=>{"use strict";const{ArrayIsArray:A,ObjectSetPrototypeOf:b}=m(6305),{EventEmitter:R}=m(2016);function S(g){R.call(this,g)}function P(g,y,T){if("function"==typeof g.prependListener)return g.prependListener(y,T);g._events&&g._events[y]?A(g._events[y])?g._events[y].unshift(T):g._events[y]=[T,g._events[y]]:g.on(y,T)}b(S.prototype,R.prototype),b(S,R),S.prototype.pipe=function(g,y){const T=this;function F(Y){g.writable&&!1===g.write(Y)&&T.pause&&T.pause()}function D(){T.readable&&T.resume&&T.resume()}T.on("data",F),g.on("drain",D),!g._isStdio&&(!y||!1!==y.end)&&(T.on("end",te),T.on("close",C));let B=!1;function te(){B||(B=!0,g.end())}function C(){B||(B=!0,"function"==typeof g.destroy&&g.destroy())}function W(Y){ce(),0===R.listenerCount(this,"error")&&this.emit("error",Y)}function ce(){T.removeListener("data",F),g.removeListener("drain",D),T.removeListener("end",te),T.removeListener("close",C),T.removeListener("error",W),g.removeListener("error",W),T.removeListener("end",ce),T.removeListener("close",ce),g.removeListener("close",ce)}return P(T,"error",W),P(g,"error",W),T.on("end",ce),T.on("close",ce),g.on("close",ce),g.emit("pipe",T),g},re.exports={Stream:S,prependListener:P}},7624:(re,q,m)=>{"use strict";var A=m(7156).default,b=m(8131).default,R=m(8237).default,S=m(6737).default,P=m(8186).default;const g=globalThis.AbortController||m(3982).AbortController,{codes:{ERR_INVALID_ARG_VALUE:y,ERR_INVALID_ARG_TYPE:T,ERR_MISSING_ARGS:F,ERR_OUT_OF_RANGE:D},AbortError:B}=m(4370),{validateAbortSignal:te,validateInteger:C,validateObject:W}=m(2120),ce=m(6305).Symbol("kWeak"),{finished:Y}=m(4618),ie=m(7721),{addAbortSignalNoValidate:ne}=m(9987),{isWritable:X,isNodeStream:V}=m(5428),{ArrayPrototypePush:v,MathFloor:U,Number:k,NumberIsNaN:ue,Promise:G,PromiseReject:Te,PromisePrototypeThen:le,Symbol:we}=m(6305),Re=we("kEmpty"),Ie=we("kEof");function qe(E,N){if("function"!=typeof E)throw new T("fn",["Function","AsyncFunction"],E);null!=N&&W(N,"options"),null!=N?.signal&&te(N.signal,"options.signal");let de=1;return null!=N?.concurrency&&(de=U(N.concurrency)),C(de,"concurrency",1),function(){var pe=P(function*(){var ke,ft;const Ht=new g,Ct=this,en=[],xn=Ht.signal,fe={signal:xn},J=()=>Ht.abort();null!=N&&null!==(ke=N.signal)&&void 0!==ke&&ke.aborted&&J(),null==N||null===(ft=N.signal)||void 0===ft||ft.addEventListener("abort",J);let M,ae,Ge=!1;function et(){Ge=!0}function nn(){return(nn=A(function*(){try{var Un,Cn=!1,ni=!1;try{for(var Ko,jn=R(Ct);Cn=!(Ko=yield jn.next()).done;Cn=!1){let ur=Ko.value;var js;if(Ge)return;if(xn.aborted)throw new B;try{ur=E(ur,fe)}catch(ho){ur=Te(ho)}ur!==Re&&("function"==typeof(null===(js=ur)||void 0===js?void 0:js.catch)&&ur.catch(et),en.push(ur),M&&(M(),M=null),!Ge&&en.length&&en.length>=de&&(yield new G(ho=>{ae=ho})))}}catch(ur){ni=!0,Un=ur}finally{try{Cn&&null!=jn.return&&(yield jn.return())}finally{if(ni)throw Un}}en.push(Ie)}catch(ur){const ho=Te(ur);le(ho,void 0,et),en.push(ho)}finally{var ys;Ge=!0,M&&(M(),M=null),null==N||null===(ys=N.signal)||void 0===ys||ys.removeEventListener("abort",J)}})).apply(this,arguments)}!function lt(){nn.apply(this,arguments)}();try{for(;;){for(;en.length>0;){const Cn=yield S(en[0]);if(Cn===Ie)return;if(xn.aborted)throw new B;Cn!==Re&&(yield Cn),en.shift(),ae&&(ae(),ae=null)}yield S(new G(Cn=>{M=Cn}))}}finally{Ht.abort(),Ge=!0,ae&&(ae(),ae=null)}});return function He(){return pe.apply(this,arguments)}}().call(this)}function Le(E){return Ne.apply(this,arguments)}function Ne(){return(Ne=A(function*(E,N=void 0){var He,de=!1,pe=!1;try{for(var ke=R(be.call(this,E,N));de=!(yield ke.next()).done;de=!1)return!0}catch(Ht){pe=!0,He=Ht}finally{try{de&&null!=ke.return&&(yield ke.return())}finally{if(pe)throw He}}return!1})).apply(this,arguments)}function ge(){return(ge=A(function*(E,N=void 0){if("function"!=typeof E)throw new T("fn",["Function","AsyncFunction"],E);return!(yield Le.call(this,A(function*(...de){return!(yield E(...de))}),N))})).apply(this,arguments)}function Ke(){return(Ke=A(function*(E,N){var He,de=!1,pe=!1;try{for(var ft,ke=R(be.call(this,E,N));de=!(ft=yield ke.next()).done;de=!1)return ft.value}catch(Ht){pe=!0,He=Ht}finally{try{de&&null!=ke.return&&(yield ke.return())}finally{if(pe)throw He}}})).apply(this,arguments)}function Ye(){return Ye=A(function*(E,N){if("function"!=typeof E)throw new T("fn",["Function","AsyncFunction"],E);function pe(){return(pe=A(function*(en,xn){return yield E(en,xn),Re})).apply(this,arguments)}var ft,He=!1,ke=!1;try{for(var Ht=R(qe.call(this,function de(en,xn){return pe.apply(this,arguments)},N));He=!(yield Ht.next()).done;He=!1);}catch(en){ke=!0,ft=en}finally{try{He&&null!=Ht.return&&(yield Ht.return())}finally{if(ke)throw ft}}}),Ye.apply(this,arguments)}function be(E,N){if("function"!=typeof E)throw new T("fn",["Function","AsyncFunction"],E);function pe(){return(pe=A(function*(He,ke){return(yield E(He,ke))?He:Re})).apply(this,arguments)}return qe.call(this,function de(He,ke){return pe.apply(this,arguments)},N)}class H extends F{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function se(){return se=A(function*(E,N,de){var pe;if("function"!=typeof E)throw new T("reducer",["Function","AsyncFunction"],E);null!=de&&W(de,"options"),null!=de?.signal&&te(de.signal,"options.signal");let He=arguments.length>1;if(null!=de&&null!==(pe=de.signal)&&void 0!==pe&&pe.aborted){const ae=new B(void 0,{cause:de.signal.reason});throw this.once("error",()=>{}),yield Y(this.destroy(ae)),ae}const ke=new g,ft=ke.signal;null!=de&&de.signal&&de.signal.addEventListener("abort",()=>ke.abort(),{once:!0,[ce]:this});let Ht=!1;try{var xn,Ct=!1,en=!1;try{for(var J,fe=R(this);Ct=!(J=yield fe.next()).done;Ct=!1){const ae=J.value;var M;if(Ht=!0,null!=de&&null!==(M=de.signal)&&void 0!==M&&M.aborted)throw new B;He?N=yield E(N,ae,{signal:ft}):(N=ae,He=!0)}}catch(ae){en=!0,xn=ae}finally{try{Ct&&null!=fe.return&&(yield fe.return())}finally{if(en)throw xn}}if(!Ht&&!He)throw new H}finally{ke.abort()}return N}),se.apply(this,arguments)}function Be(){return(Be=A(function*(E){null!=E&&W(E,"options"),null!=E?.signal&&te(E.signal,"options.signal");const N=[];var He,de=!1,pe=!1;try{for(var ft,ke=R(this);de=!(ft=yield ke.next()).done;de=!1){const Ct=ft.value;var Ht;if(null!=E&&null!==(Ht=E.signal)&&void 0!==Ht&&Ht.aborted)throw new B(void 0,{cause:E.signal.reason});v(N,Ct)}}catch(Ct){pe=!0,He=Ct}finally{try{de&&null!=ke.return&&(yield ke.return())}finally{if(pe)throw He}}return N})).apply(this,arguments)}function he(E){if(E=k(E),ue(E))return 0;if(E<0)throw new D("number",">= 0",E);return E}re.exports.streamReturningOperators={asIndexedPairs:function Ee(E=void 0){return null!=E&&W(E,"options"),null!=E?.signal&&te(E.signal,"options.signal"),function(){var N=P(function*(){let pe=0;var ft,He=!1,ke=!1;try{for(var Ct,Ht=R(this);He=!(Ct=yield S(Ht.next())).done;He=!1){const xn=Ct.value;var en;if(null!=E&&null!==(en=E.signal)&&void 0!==en&&en.aborted)throw new B({cause:E.signal.reason});yield[pe++,xn]}}catch(xn){ke=!0,ft=xn}finally{try{He&&null!=Ht.return&&(yield S(Ht.return()))}finally{if(ke)throw ft}}});return function de(){return N.apply(this,arguments)}}().call(this)},drop:function Z(E,N=void 0){return null!=N&&W(N,"options"),null!=N?.signal&&te(N.signal,"options.signal"),E=he(E),function(){var de=P(function*(){var He;if(null!=N&&null!==(He=N.signal)&&void 0!==He&&He.aborted)throw new B;var Ht,ke=!1,ft=!1;try{for(var en,Ct=R(this);ke=!(en=yield S(Ct.next())).done;ke=!1){const fe=en.value;var xn;if(null!=N&&null!==(xn=N.signal)&&void 0!==xn&&xn.aborted)throw new B;E--<=0&&(yield fe)}}catch(fe){ft=!0,Ht=fe}finally{try{ke&&null!=Ct.return&&(yield S(Ct.return()))}finally{if(ft)throw Ht}}});return function pe(){return de.apply(this,arguments)}}().call(this)},filter:be,flatMap:function it(E,N){const de=qe.call(this,E,N);return function(){var pe=P(function*(){var Ht,ke=!1,ft=!1;try{for(var en,Ct=R(de);ke=!(en=yield S(Ct.next())).done;ke=!1){const xn=en.value;yield*b(R(xn),S)}}catch(xn){ft=!0,Ht=xn}finally{try{ke&&null!=Ct.return&&(yield S(Ct.return()))}finally{if(ft)throw Ht}}});return function He(){return pe.apply(this,arguments)}}().call(this)},map:qe,take:function $(E,N=void 0){return null!=N&&W(N,"options"),null!=N?.signal&&te(N.signal,"options.signal"),E=he(E),function(){var de=P(function*(){var He;if(null!=N&&null!==(He=N.signal)&&void 0!==He&&He.aborted)throw new B;var Ht,ke=!1,ft=!1;try{for(var en,Ct=R(this);ke=!(en=yield S(Ct.next())).done;ke=!1){const fe=en.value;var xn;if(null!=N&&null!==(xn=N.signal)&&void 0!==xn&&xn.aborted)throw new B;if(!(E-- >0))return;yield fe}}catch(fe){ft=!0,Ht=fe}finally{try{ke&&null!=Ct.return&&(yield S(Ct.return()))}finally{if(ft)throw Ht}}});return function pe(){return de.apply(this,arguments)}}().call(this)},compose:function Je(E,N){if(null!=N&&W(N,"options"),null!=N?.signal&&te(N.signal,"options.signal"),V(E)&&!X(E))throw new y("stream",E,"must be writable");const de=ie(this,E);return null!=N&&N.signal&&ne(N.signal,de),de}},re.exports.promiseReturningOperators={every:function ze(E){return ge.apply(this,arguments)},forEach:function dt(E,N){return Ye.apply(this,arguments)},reduce:function O(E,N,de){return se.apply(this,arguments)},toArray:function j(E){return Be.apply(this,arguments)},some:Le,find:function Se(E,N){return Ke.apply(this,arguments)}}},6973:(re,q,m)=>{"use strict";const{ObjectSetPrototypeOf:A}=m(6305);re.exports=R;const b=m(123);function R(S){if(!(this instanceof R))return new R(S);b.call(this,S)}A(R.prototype,b.prototype),A(R,b),R.prototype._transform=function(S,P,g){g(null,S)}},4514:(re,q,m)=>{var A=m(7156).default,b=m(8186).default,R=m(6737).default,S=m(8131).default,P=m(8237).default;const g=m(42),{ArrayIsArray:y,Promise:T,SymbolAsyncIterator:F}=m(6305),D=m(4618),{once:B}=m(2656),te=m(5601),C=m(5931),{aggregateTwoErrors:W,codes:{ERR_INVALID_ARG_TYPE:ce,ERR_INVALID_RETURN_VALUE:Y,ERR_MISSING_ARGS:ie,ERR_STREAM_DESTROYED:ne,ERR_STREAM_PREMATURE_CLOSE:X},AbortError:V}=m(4370),{validateFunction:v,validateAbortSignal:U}=m(2120),{isIterable:k,isReadable:ue,isReadableNodeStream:G,isNodeStream:Te,isTransformStream:le,isWebStream:we,isReadableStream:Re,isReadableEnded:Ie}=m(5428),Je=globalThis.AbortController||m(3982).AbortController;let qe,Ee;function Le(j,Be,it){let he=!1;return j.on("close",()=>{he=!0}),{destroy:$=>{he||(he=!0,te.destroyer(j,$||new ne("pipe")))},cleanup:D(j,{readable:Be,writable:it},$=>{he=!$})}}function ze(j){if(k(j))return j;if(G(j))return function ge(j){return Se.apply(this,arguments)}(j);throw new ce("val",["Readable","Iterable","AsyncIterable"],j)}function Se(){return(Se=b(function*(j){Ee||(Ee=m(8383)),yield*S(P(Ee.prototype[F].call(j)),R)})).apply(this,arguments)}function Ke(j,Be,it,he){return dt.apply(this,arguments)}function dt(){return(dt=A(function*(j,Be,it,{end:he}){let Z,$=null;const E=Ct=>{if(Ct&&(Z=Ct),$){const en=$;$=null,en()}},N=()=>new T((Ct,en)=>{Z?en(Z):$=()=>{Z?en(Z):Ct()}});Be.on("drain",E);const de=D(Be,{readable:!1},E);try{Be.writableNeedDrain&&(yield N());var ke,pe=!1,He=!1;try{for(var Ht,ft=P(j);pe=!(Ht=yield ft.next()).done;pe=!1)Be.write(Ht.value)||(yield N())}catch(Ct){He=!0,ke=Ct}finally{try{pe&&null!=ft.return&&(yield ft.return())}finally{if(He)throw ke}}he&&Be.end(),yield N(),it()}catch(Ct){it(Z!==Ct?W(Z,Ct):Ct)}finally{de(),Be.off("drain",E)}})).apply(this,arguments)}function Ye(j,Be,it,he){return be.apply(this,arguments)}function be(){return(be=A(function*(j,Be,it,{end:he}){le(Be)&&(Be=Be.writable);const Z=Be.getWriter();try{var N,$=!1,E=!1;try{for(var pe,de=P(j);$=!(pe=yield de.next()).done;$=!1){const He=pe.value;yield Z.ready,Z.write(He).catch(()=>{})}}catch(He){E=!0,N=He}finally{try{$&&null!=de.return&&(yield de.return())}finally{if(E)throw N}}yield Z.ready,he&&(yield Z.close()),it()}catch(He){try{yield Z.abort(He),it(He)}catch(ke){it(ke)}}})).apply(this,arguments)}function O(j,Be,it){if(1===j.length&&y(j[0])&&(j=j[0]),j.length<2)throw new ie("streams");const he=new Je,Z=he.signal,$=it?.signal,E=[];function N(){Ht(new V)}let de,pe;U($,"options.signal"),$?.addEventListener("abort",N);const He=[];let Ct,ke=0;function ft(J){Ht(J,0==--ke)}function Ht(J,M){if(J&&(!de||"ERR_STREAM_PREMATURE_CLOSE"===de.code)&&(de=J),de||M){for(;He.length;)He.shift()(de);$?.removeEventListener("abort",N),he.abort(),M&&(de||E.forEach(ae=>ae()),g.nextTick(Be,de,pe))}}for(let J=0;J<j.length;J++){const M=j[J],ae=J<j.length-1,Ge=J>0,et=ae||!1!==it?.end,lt=J===j.length-1;if(Te(M)){let nn=function(Cn){Cn&&"AbortError"!==Cn.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Cn.code&&ft(Cn)};if(et){const{destroy:Cn,cleanup:ni}=Le(M,ae,Ge);He.push(Cn),ue(M)&&lt&&E.push(ni)}M.on("error",nn),ue(M)&&lt&&E.push(()=>{M.removeListener("error",nn)})}if(0===J)if("function"==typeof M){if(Ct=M({signal:Z}),!k(Ct))throw new Y("Iterable, AsyncIterable or Stream","source",Ct)}else Ct=k(M)||G(M)||le(M)?M:C.from(M);else if("function"==typeof M){var en;if(Ct=le(Ct)?ze(null===(en=Ct)||void 0===en?void 0:en.readable):ze(Ct),Ct=M(Ct,{signal:Z}),ae){if(!k(Ct,!0))throw new Y("AsyncIterable",`transform[${J-1}]`,Ct)}else{var xn;qe||(qe=m(6973));const nn=new qe({objectMode:!0}),Cn=null===(xn=Ct)||void 0===xn?void 0:xn.then;if("function"==typeof Cn)ke++,Cn.call(Ct,jn=>{pe=jn,null!=jn&&nn.write(jn),et&&nn.end(),g.nextTick(ft)},jn=>{nn.destroy(jn),g.nextTick(ft,jn)});else if(k(Ct,!0))ke++,Ke(Ct,nn,ft,{end:et});else{if(!Re(Ct)&&!le(Ct))throw new Y("AsyncIterable or Promise","destination",Ct);ke++,Ke(Ct.readable||Ct,nn,ft,{end:et})}Ct=nn;const{destroy:ni,cleanup:Un}=Le(Ct,!1,!0);He.push(ni),lt&&E.push(Un)}}else if(Te(M)){if(G(Ct)){ke+=2;const nn=se(Ct,M,ft,{end:et});ue(M)&&lt&&E.push(nn)}else if(le(Ct)||Re(Ct))ke++,Ke(Ct.readable||Ct,M,ft,{end:et});else{if(!k(Ct))throw new ce("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ct);ke++,Ke(Ct,M,ft,{end:et})}Ct=M}else if(we(M)){if(G(Ct))ke++,Ye(ze(Ct),M,ft,{end:et});else if(Re(Ct)||k(Ct))ke++,Ye(Ct,M,ft,{end:et});else{if(!le(Ct))throw new ce("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ct);ke++,Ye(Ct.readable,M,ft,{end:et})}Ct=M}else Ct=C.from(M)}return(null!=Z&&Z.aborted||null!=$&&$.aborted)&&g.nextTick(N),Ct}function se(j,Be,it,{end:he}){let Z=!1;if(Be.on("close",()=>{Z||it(new X)}),j.pipe(Be,{end:!1}),he){let E=function(){Z=!0,Be.end()};Ie(j)?g.nextTick(E):j.once("end",E)}else it();return D(j,{readable:!0,writable:!1},E=>{const N=j._readableState;E&&"ERR_STREAM_PREMATURE_CLOSE"===E.code&&N&&N.ended&&!N.errored&&!N.errorEmitted?j.once("end",it).once("error",it):it(E)}),D(Be,{readable:!1,writable:!0},it)}re.exports={pipelineImpl:O,pipeline:function H(...j){return O(j,B(function Ne(j){return v(j[j.length-1],"streams[stream.length - 1]"),j.pop()}(j)))}}},8383:(re,q,m)=>{var A=m(6737).default,b=m(8186).default;const R=m(42),{ArrayPrototypeIndexOf:S,NumberIsInteger:P,NumberIsNaN:g,NumberParseInt:y,ObjectDefineProperties:T,ObjectKeys:F,ObjectSetPrototypeOf:D,Promise:B,SafeSet:te,SymbolAsyncIterator:C,Symbol:W}=m(6305);re.exports=Ke,Ke.ReadableState=Se;const{EventEmitter:ce}=m(2016),{Stream:Y,prependListener:ie}=m(900),{Buffer:ne}=m(1657),{addAbortSignal:X}=m(9987),V=m(4618);let v=m(2656).debuglog("stream",M=>{v=M});const U=m(2960),k=m(5601),{getHighWaterMark:ue,getDefaultHighWaterMark:G}=m(8782),{aggregateTwoErrors:Te,codes:{ERR_INVALID_ARG_TYPE:le,ERR_METHOD_NOT_IMPLEMENTED:we,ERR_OUT_OF_RANGE:Re,ERR_STREAM_PUSH_AFTER_EOF:Ie,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Je}}=m(4370),{validateObject:qe}=m(2120),Ee=W("kPaused"),{StringDecoder:Le}=m(2024),Ne=m(55);D(Ke.prototype,Y.prototype),D(Ke,Y);const ze=()=>{},{errorOrDestroy:ge}=k;function Se(M,ae,Ge){"boolean"!=typeof Ge&&(Ge=ae instanceof m(5931)),this.objectMode=!(!M||!M.objectMode),Ge&&(this.objectMode=this.objectMode||!(!M||!M.readableObjectMode)),this.highWaterMark=M?ue(this,M,"readableHighWaterMark",Ge):G(!1),this.buffer=new U,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[Ee]=null,this.errorEmitted=!1,this.emitClose=!M||!1!==M.emitClose,this.autoDestroy=!M||!1!==M.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=M&&M.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,M&&M.encoding&&(this.decoder=new Le(M.encoding),this.encoding=M.encoding)}function Ke(M){if(!(this instanceof Ke))return new Ke(M);const ae=this instanceof m(5931);this._readableState=new Se(M,this,ae),M&&("function"==typeof M.read&&(this._read=M.read),"function"==typeof M.destroy&&(this._destroy=M.destroy),"function"==typeof M.construct&&(this._construct=M.construct),M.signal&&!ae&&X(M.signal,this)),Y.call(this,M),k.construct(this,()=>{this._readableState.needReadable&&it(this,this._readableState)})}function dt(M,ae,Ge,et){v("readableAddChunk",ae);const lt=M._readableState;let nn;if(lt.objectMode||("string"==typeof ae?lt.encoding!==(Ge=Ge||lt.defaultEncoding)&&(et&&lt.encoding?ae=ne.from(ae,Ge).toString(lt.encoding):(ae=ne.from(ae,Ge),Ge="")):ae instanceof ne?Ge="":Y._isUint8Array(ae)?(ae=Y._uint8ArrayToBuffer(ae),Ge=""):null!=ae&&(nn=new le("chunk",["string","Buffer","Uint8Array"],ae))),nn)ge(M,nn);else if(null===ae)lt.reading=!1,function se(M,ae){if(v("onEofChunk"),!ae.ended){if(ae.decoder){const Ge=ae.decoder.end();Ge&&Ge.length&&(ae.buffer.push(Ge),ae.length+=ae.objectMode?1:Ge.length)}ae.ended=!0,ae.sync?j(M):(ae.needReadable=!1,ae.emittedReadable=!0,Be(M))}}(M,lt);else if(lt.objectMode||ae&&ae.length>0)if(et)if(lt.endEmitted)ge(M,new Je);else{if(lt.destroyed||lt.errored)return!1;Ye(M,lt,ae,!0)}else if(lt.ended)ge(M,new Ie);else{if(lt.destroyed||lt.errored)return!1;lt.reading=!1,lt.decoder&&!Ge?(ae=lt.decoder.write(ae),lt.objectMode||0!==ae.length?Ye(M,lt,ae,!1):it(M,lt)):Ye(M,lt,ae,!1)}else et||(lt.reading=!1,it(M,lt));return!lt.ended&&(lt.length<lt.highWaterMark||0===lt.length)}function Ye(M,ae,Ge,et){ae.flowing&&0===ae.length&&!ae.sync&&M.listenerCount("data")>0?(ae.multiAwaitDrain?ae.awaitDrainWriters.clear():ae.awaitDrainWriters=null,ae.dataEmitted=!0,M.emit("data",Ge)):(ae.length+=ae.objectMode?1:Ge.length,et?ae.buffer.unshift(Ge):ae.buffer.push(Ge),ae.needReadable&&j(M)),it(M,ae)}function O(M,ae){return M<=0||0===ae.length&&ae.ended?0:ae.objectMode?1:g(M)?ae.flowing&&ae.length?ae.buffer.first().length:ae.length:M<=ae.length?M:ae.ended?ae.length:0}function j(M){const ae=M._readableState;v("emitReadable",ae.needReadable,ae.emittedReadable),ae.needReadable=!1,ae.emittedReadable||(v("emitReadable",ae.flowing),ae.emittedReadable=!0,R.nextTick(Be,M))}function Be(M){const ae=M._readableState;v("emitReadable_",ae.destroyed,ae.length,ae.ended),!ae.destroyed&&!ae.errored&&(ae.length||ae.ended)&&(M.emit("readable"),ae.emittedReadable=!1),ae.needReadable=!ae.flowing&&!ae.ended&&ae.length<=ae.highWaterMark,pe(M)}function it(M,ae){!ae.readingMore&&ae.constructed&&(ae.readingMore=!0,R.nextTick(he,M,ae))}function he(M,ae){for(;!ae.reading&&!ae.ended&&(ae.length<ae.highWaterMark||ae.flowing&&0===ae.length);){const Ge=ae.length;if(v("maybeReadMore read 0"),M.read(0),Ge===ae.length)break}ae.readingMore=!1}function $(M){const ae=M._readableState;ae.readableListening=M.listenerCount("readable")>0,ae.resumeScheduled&&!1===ae[Ee]?ae.flowing=!0:M.listenerCount("data")>0?M.resume():ae.readableListening||(ae.flowing=null)}function E(M){v("readable nexttick read 0"),M.read(0)}function de(M,ae){v("resume",ae.reading),ae.reading||M.read(0),ae.resumeScheduled=!1,M.emit("resume"),pe(M),ae.flowing&&!ae.reading&&M.read(0)}function pe(M){const ae=M._readableState;for(v("flow",ae.flowing);ae.flowing&&null!==M.read(););}function He(M,ae){"function"!=typeof M.read&&(M=Ke.wrap(M,{objectMode:!0}));const Ge=function ke(M,ae){return ft.apply(this,arguments)}(M,ae);return Ge.stream=M,Ge}function ft(){return(ft=b(function*(M,ae){let lt,Ge=ze;function et(Cn){this===M?(Ge(),Ge=ze):Ge=Cn}M.on("readable",et);const nn=V(M,{writable:!1},Cn=>{lt=Cn?Te(lt,Cn):null,Ge(),Ge=ze});try{for(;;){const Cn=M.destroyed?null:M.read();if(null!==Cn)yield Cn;else{if(lt)throw lt;if(null===lt)return;yield A(new B(et))}}}catch(Cn){throw lt=Te(lt,Cn),lt}finally{!lt&&!1===ae?.destroyOnReturn||void 0!==lt&&!M._readableState.autoDestroy?(M.off("readable",et),nn()):k.destroyer(M,null)}})).apply(this,arguments)}function Ht(M,ae){if(0===ae.length)return null;let Ge;return ae.objectMode?Ge=ae.buffer.shift():!M||M>=ae.length?(Ge=ae.decoder?ae.buffer.join(""):1===ae.buffer.length?ae.buffer.first():ae.buffer.concat(ae.length),ae.buffer.clear()):Ge=ae.buffer.consume(M,ae.decoder),Ge}function Ct(M){const ae=M._readableState;v("endReadable",ae.endEmitted),ae.endEmitted||(ae.ended=!0,R.nextTick(en,ae,M))}function en(M,ae){if(v("endReadableNT",M.endEmitted,M.length),!M.errored&&!M.closeEmitted&&!M.endEmitted&&0===M.length)if(M.endEmitted=!0,ae.emit("end"),ae.writable&&!1===ae.allowHalfOpen)R.nextTick(xn,ae);else if(M.autoDestroy){const Ge=ae._writableState;(!Ge||Ge.autoDestroy&&(Ge.finished||!1===Ge.writable))&&ae.destroy()}}function xn(M){M.writable&&!M.writableEnded&&!M.destroyed&&M.end()}let fe;function J(){return void 0===fe&&(fe={}),fe}Ke.prototype.destroy=k.destroy,Ke.prototype._undestroy=k.undestroy,Ke.prototype._destroy=function(M,ae){ae(M)},Ke.prototype[ce.captureRejectionSymbol]=function(M){this.destroy(M)},Ke.prototype.push=function(M,ae){return dt(this,M,ae,!1)},Ke.prototype.unshift=function(M,ae){return dt(this,M,ae,!0)},Ke.prototype.isPaused=function(){const M=this._readableState;return!0===M[Ee]||!1===M.flowing},Ke.prototype.setEncoding=function(M){const ae=new Le(M);this._readableState.decoder=ae,this._readableState.encoding=this._readableState.decoder.encoding;const Ge=this._readableState.buffer;let et="";for(const lt of Ge)et+=ae.write(lt);return Ge.clear(),""!==et&&Ge.push(et),this._readableState.length=et.length,this},Ke.prototype.read=function(M){v("read",M),void 0===M?M=NaN:P(M)||(M=y(M,10));const ae=this._readableState,Ge=M;if(M>ae.highWaterMark&&(ae.highWaterMark=function H(M){if(M>1073741824)throw new Re("size","<= 1GiB",M);return M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,++M}(M)),0!==M&&(ae.emittedReadable=!1),0===M&&ae.needReadable&&((0!==ae.highWaterMark?ae.length>=ae.highWaterMark:ae.length>0)||ae.ended))return v("read: emitReadable",ae.length,ae.ended),0===ae.length&&ae.ended?Ct(this):j(this),null;if(0===(M=O(M,ae))&&ae.ended)return 0===ae.length&&Ct(this),null;let lt,et=ae.needReadable;if(v("need readable",et),(0===ae.length||ae.length-M<ae.highWaterMark)&&(et=!0,v("length less than watermark",et)),ae.ended||ae.reading||ae.destroyed||ae.errored||!ae.constructed)et=!1,v("reading, ended or constructing",et);else if(et){v("do read"),ae.reading=!0,ae.sync=!0,0===ae.length&&(ae.needReadable=!0);try{this._read(ae.highWaterMark)}catch(nn){ge(this,nn)}ae.sync=!1,ae.reading||(M=O(Ge,ae))}return lt=M>0?Ht(M,ae):null,null===lt?(ae.needReadable=ae.length<=ae.highWaterMark,M=0):(ae.length-=M,ae.multiAwaitDrain?ae.awaitDrainWriters.clear():ae.awaitDrainWriters=null),0===ae.length&&(ae.ended||(ae.needReadable=!0),Ge!==M&&ae.ended&&Ct(this)),null!==lt&&!ae.errorEmitted&&!ae.closeEmitted&&(ae.dataEmitted=!0,this.emit("data",lt)),lt},Ke.prototype._read=function(M){throw new we("_read()")},Ke.prototype.pipe=function(M,ae){const Ge=this,et=this._readableState;1===et.pipes.length&&(et.multiAwaitDrain||(et.multiAwaitDrain=!0,et.awaitDrainWriters=new te(et.awaitDrainWriters?[et.awaitDrainWriters]:[]))),et.pipes.push(M),v("pipe count=%d opts=%j",et.pipes.length,ae);const nn=ae&&!1===ae.end||M===R.stdout||M===R.stderr?aa:ni;function ni(){v("onend"),M.end()}et.endEmitted?R.nextTick(nn):Ge.once("end",nn),M.on("unpipe",function Cn(qo,ko){v("onunpipe"),qo===Ge&&ko&&!1===ko.hasUnpiped&&(ko.hasUnpiped=!0,function Ko(){v("cleanup"),M.removeListener("close",ho),M.removeListener("finish",Vs),Un&&M.removeListener("drain",Un),M.removeListener("error",ur),M.removeListener("unpipe",Cn),Ge.removeListener("end",ni),Ge.removeListener("end",aa),Ge.removeListener("data",ys),jn=!0,Un&&et.awaitDrainWriters&&(!M._writableState||M._writableState.needDrain)&&Un()}())});let Un,jn=!1;function js(){jn||(1===et.pipes.length&&et.pipes[0]===M?(v("false write response, pause",0),et.awaitDrainWriters=M,et.multiAwaitDrain=!1):et.pipes.length>1&&et.pipes.includes(M)&&(v("false write response, pause",et.awaitDrainWriters.size),et.awaitDrainWriters.add(M)),Ge.pause()),Un||(Un=function Z(M,ae){return function(){const et=M._readableState;et.awaitDrainWriters===ae?(v("pipeOnDrain",1),et.awaitDrainWriters=null):et.multiAwaitDrain&&(v("pipeOnDrain",et.awaitDrainWriters.size),et.awaitDrainWriters.delete(ae)),(!et.awaitDrainWriters||0===et.awaitDrainWriters.size)&&M.listenerCount("data")&&M.resume()}}(Ge,M),M.on("drain",Un))}function ys(qo){v("ondata");const ko=M.write(qo);v("dest.write",ko),!1===ko&&js()}function ur(qo){if(v("onerror",qo),aa(),M.removeListener("error",ur),0===M.listenerCount("error")){const ko=M._writableState||M._readableState;ko&&!ko.errorEmitted?ge(M,qo):M.emit("error",qo)}}function ho(){M.removeListener("finish",Vs),aa()}function Vs(){v("onfinish"),M.removeListener("close",ho),aa()}function aa(){v("unpipe"),Ge.unpipe(M)}return Ge.on("data",ys),ie(M,"error",ur),M.once("close",ho),M.once("finish",Vs),M.emit("pipe",Ge),!0===M.writableNeedDrain?et.flowing&&js():et.flowing||(v("pipe resume"),Ge.resume()),M},Ke.prototype.unpipe=function(M){const ae=this._readableState;if(0===ae.pipes.length)return this;if(!M){const lt=ae.pipes;ae.pipes=[],this.pause();for(let nn=0;nn<lt.length;nn++)lt[nn].emit("unpipe",this,{hasUnpiped:!1});return this}const et=S(ae.pipes,M);return-1===et||(ae.pipes.splice(et,1),0===ae.pipes.length&&this.pause(),M.emit("unpipe",this,{hasUnpiped:!1})),this},Ke.prototype.addListener=Ke.prototype.on=function(M,ae){const Ge=Y.prototype.on.call(this,M,ae),et=this._readableState;return"data"===M?(et.readableListening=this.listenerCount("readable")>0,!1!==et.flowing&&this.resume()):"readable"===M&&!et.endEmitted&&!et.readableListening&&(et.readableListening=et.needReadable=!0,et.flowing=!1,et.emittedReadable=!1,v("on readable",et.length,et.reading),et.length?j(this):et.reading||R.nextTick(E,this)),Ge},Ke.prototype.off=Ke.prototype.removeListener=function(M,ae){const Ge=Y.prototype.removeListener.call(this,M,ae);return"readable"===M&&R.nextTick($,this),Ge},Ke.prototype.removeAllListeners=function(M){const ae=Y.prototype.removeAllListeners.apply(this,arguments);return("readable"===M||void 0===M)&&R.nextTick($,this),ae},Ke.prototype.resume=function(){const M=this._readableState;return M.flowing||(v("resume"),M.flowing=!M.readableListening,function N(M,ae){ae.resumeScheduled||(ae.resumeScheduled=!0,R.nextTick(de,M,ae))}(this,M)),M[Ee]=!1,this},Ke.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Ee]=!0,this},Ke.prototype.wrap=function(M){let ae=!1;M.on("data",et=>{!this.push(et)&&M.pause&&(ae=!0,M.pause())}),M.on("end",()=>{this.push(null)}),M.on("error",et=>{ge(this,et)}),M.on("close",()=>{this.destroy()}),M.on("destroy",()=>{this.destroy()}),this._read=()=>{ae&&M.resume&&(ae=!1,M.resume())};const Ge=F(M);for(let et=1;et<Ge.length;et++){const lt=Ge[et];void 0===this[lt]&&"function"==typeof M[lt]&&(this[lt]=M[lt].bind(M))}return this},Ke.prototype[C]=function(){return He(this)},Ke.prototype.iterator=function(M){return void 0!==M&&qe(M,"options"),He(this,M)},T(Ke.prototype,{readable:{__proto__:null,get(){const M=this._readableState;return!(!M||!1===M.readable||M.destroyed||M.errorEmitted||M.endEmitted)},set(M){this._readableState&&(this._readableState.readable=!!M)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(M){this._readableState&&(this._readableState.destroyed=M)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),T(Se.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[Ee]},set(M){this[Ee]=!!M}}}),Ke._fromList=Ht,Ke.from=function(M,ae){return Ne(Ke,M,ae)},Ke.fromWeb=function(M,ae){return J().newStreamReadableFromReadableStream(M,ae)},Ke.toWeb=function(M,ae){return J().newReadableStreamFromStreamReadable(M,ae)},Ke.wrap=function(M,ae){var Ge,et;return new Ke({objectMode:null===(Ge=null!==(et=M.readableObjectMode)&&void 0!==et?et:M.objectMode)||void 0===Ge||Ge,...ae,destroy(lt,nn){k.destroyer(M,lt),nn(lt)}}).wrap(M)}},8782:(re,q,m)=>{"use strict";const{MathFloor:A,NumberIsInteger:b}=m(6305),{ERR_INVALID_ARG_VALUE:R}=m(4370).codes;function P(y){return y?16:16384}re.exports={getHighWaterMark:function g(y,T,F,D){const B=function S(y,T,F){return null!=y.highWaterMark?y.highWaterMark:T?y[F]:null}(T,D,F);if(null!=B){if(!b(B)||B<0)throw new R(D?`options.${F}`:"options.highWaterMark",B);return A(B)}return P(y.objectMode)},getDefaultHighWaterMark:P}},123:(re,q,m)=>{"use strict";const{ObjectSetPrototypeOf:A,Symbol:b}=m(6305);re.exports=y;const{ERR_METHOD_NOT_IMPLEMENTED:R}=m(4370).codes,S=m(5931),{getHighWaterMark:P}=m(8782);A(y.prototype,S.prototype),A(y,S);const g=b("kCallback");function y(D){if(!(this instanceof y))return new y(D);const B=D?P(this,D,"readableHighWaterMark",!0):null;0===B&&(D={...D,highWaterMark:null,readableHighWaterMark:B,writableHighWaterMark:D.writableHighWaterMark||0}),S.call(this,D),this._readableState.sync=!1,this[g]=null,D&&("function"==typeof D.transform&&(this._transform=D.transform),"function"==typeof D.flush&&(this._flush=D.flush)),this.on("prefinish",F)}function T(D){"function"!=typeof this._flush||this.destroyed?(this.push(null),D&&D()):this._flush((B,te)=>{B?D?D(B):this.destroy(B):(null!=te&&this.push(te),this.push(null),D&&D())})}function F(){this._final!==T&&T.call(this)}y.prototype._final=T,y.prototype._transform=function(D,B,te){throw new R("_transform()")},y.prototype._write=function(D,B,te){const C=this._readableState,W=this._writableState,ce=C.length;this._transform(D,B,(Y,ie)=>{Y?te(Y):(null!=ie&&this.push(ie),W.ended||ce===C.length||C.length<C.highWaterMark?te():this[g]=te)})},y.prototype._read=function(){if(this[g]){const D=this[g];this[g]=null,D()}}},5428:(re,q,m)=>{"use strict";const{Symbol:A,SymbolAsyncIterator:b,SymbolIterator:R,SymbolFor:S}=m(6305),P=A("kDestroyed"),g=A("kIsErrored"),y=A("kIsReadable"),T=A("kIsDisturbed"),F=S("nodejs.webstream.isClosedPromise"),D=S("nodejs.webstream.controllerErrorFunction");function B(ge,Se=!1){var Ke;return!(!ge||"function"!=typeof ge.pipe||"function"!=typeof ge.on||Se&&("function"!=typeof ge.pause||"function"!=typeof ge.resume)||ge._writableState&&!1===(null===(Ke=ge._readableState)||void 0===Ke?void 0:Ke.readable)||ge._writableState&&!ge._readableState)}function te(ge){var Se;return!(!ge||"function"!=typeof ge.write||"function"!=typeof ge.on||ge._readableState&&!1===(null===(Se=ge._writableState)||void 0===Se?void 0:Se.writable))}function W(ge){return ge&&(ge._readableState||ge._writableState||"function"==typeof ge.write&&"function"==typeof ge.on||"function"==typeof ge.pipe&&"function"==typeof ge.on)}function ce(ge){return!(!ge||W(ge)||"function"!=typeof ge.pipeThrough||"function"!=typeof ge.getReader||"function"!=typeof ge.cancel)}function Y(ge){return!(!ge||W(ge)||"function"!=typeof ge.getWriter||"function"!=typeof ge.abort)}function ie(ge){return!(!ge||W(ge)||"object"!=typeof ge.readable||"object"!=typeof ge.writable)}function V(ge){if(!W(ge))return null;const dt=ge._writableState||ge._readableState;return!!(ge.destroyed||ge[P]||null!=dt&&dt.destroyed)}function v(ge){if(!te(ge))return null;if(!0===ge.writableEnded)return!0;const Se=ge._writableState;return(null==Se||!Se.errored)&&("boolean"!=typeof Se?.ended?null:Se.ended)}function ue(ge,Se){if(!B(ge))return null;const Ke=ge._readableState;return(null==Ke||!Ke.errored)&&("boolean"!=typeof Ke?.endEmitted?null:!!(Ke.endEmitted||!1===Se&&!0===Ke.ended&&0===Ke.length))}function G(ge){return ge&&null!=ge[y]?ge[y]:"boolean"!=typeof ge?.readable?null:!V(ge)&&B(ge)&&ge.readable&&!ue(ge)}function Te(ge){return"boolean"!=typeof ge?.writable?null:!V(ge)&&te(ge)&&ge.writable&&!v(ge)}function Je(ge){return"boolean"==typeof ge._closed&&"boolean"==typeof ge._defaultKeepAlive&&"boolean"==typeof ge._removedConnection&&"boolean"==typeof ge._removedContLen}function qe(ge){return"boolean"==typeof ge._sent100&&Je(ge)}re.exports={kDestroyed:P,isDisturbed:function Ne(ge){var Se;return!(!ge||!(null!==(Se=ge[T])&&void 0!==Se?Se:ge.readableDidRead||ge.readableAborted))},kIsDisturbed:T,isErrored:function ze(ge){var Se,Ke,dt,Ye,be,H,O,se,j,Be;return!(!ge||!(null!==(Se=null!==(Ke=null!==(dt=null!==(Ye=null!==(be=null!==(H=ge[g])&&void 0!==H?H:ge.readableErrored)&&void 0!==be?be:ge.writableErrored)&&void 0!==Ye?Ye:null===(O=ge._readableState)||void 0===O?void 0:O.errorEmitted)&&void 0!==dt?dt:null===(se=ge._writableState)||void 0===se?void 0:se.errorEmitted)&&void 0!==Ke?Ke:null===(j=ge._readableState)||void 0===j?void 0:j.errored)&&void 0!==Se?Se:null!==(Be=ge._writableState)&&void 0!==Be&&Be.errored))},kIsErrored:g,isReadable:G,kIsReadable:y,kIsClosedPromise:F,kControllerErrorFunction:D,isClosed:function Ie(ge){if(!W(ge))return null;if("boolean"==typeof ge.closed)return ge.closed;const Se=ge._writableState,Ke=ge._readableState;return"boolean"==typeof Se?.closed||"boolean"==typeof Ke?.closed?Se?.closed||Ke?.closed:"boolean"==typeof ge._closed&&Je(ge)?ge._closed:null},isDestroyed:V,isDuplexNodeStream:function C(ge){return!(!ge||"function"!=typeof ge.pipe||!ge._readableState||"function"!=typeof ge.on||"function"!=typeof ge.write)},isFinished:function le(ge,Se){return W(ge)?!!V(ge)||!(!1!==Se?.readable&&G(ge)||!1!==Se?.writable&&Te(ge)):null},isIterable:function X(ge,Se){return null!=ge&&(!0===Se?"function"==typeof ge[b]:!1===Se?"function"==typeof ge[R]:"function"==typeof ge[b]||"function"==typeof ge[R])},isReadableNodeStream:B,isReadableStream:ce,isReadableEnded:function k(ge){if(!B(ge))return null;if(!0===ge.readableEnded)return!0;const Se=ge._readableState;return!(!Se||Se.errored)&&("boolean"!=typeof Se?.ended?null:Se.ended)},isReadableFinished:ue,isReadableErrored:function Re(ge){var Se,Ke;return W(ge)?ge.readableErrored?ge.readableErrored:null!==(Se=null===(Ke=ge._readableState)||void 0===Ke?void 0:Ke.errored)&&void 0!==Se?Se:null:null},isNodeStream:W,isWebStream:function ne(ge){return ce(ge)||Y(ge)||ie(ge)},isWritable:Te,isWritableNodeStream:te,isWritableStream:Y,isWritableEnded:v,isWritableFinished:function U(ge,Se){if(!te(ge))return null;if(!0===ge.writableFinished)return!0;const Ke=ge._writableState;return(null==Ke||!Ke.errored)&&("boolean"!=typeof Ke?.finished?null:!!(Ke.finished||!1===Se&&!0===Ke.ended&&0===Ke.length))},isWritableErrored:function we(ge){var Se,Ke;return W(ge)?ge.writableErrored?ge.writableErrored:null!==(Se=null===(Ke=ge._writableState)||void 0===Ke?void 0:Ke.errored)&&void 0!==Se?Se:null:null},isServerRequest:function Ee(ge){var Se;return"boolean"==typeof ge._consuming&&"boolean"==typeof ge._dumped&&void 0===(null===(Se=ge.req)||void 0===Se?void 0:Se.upgradeOrConnect)},isServerResponse:qe,willEmitClose:function Le(ge){if(!W(ge))return null;const dt=ge._writableState||ge._readableState;return!dt&&qe(ge)||!!(dt&&dt.autoDestroy&&dt.emitClose&&!1===dt.closed)},isTransformStream:ie}},9764:(re,q,m)=>{const A=m(42),{ArrayPrototypeSlice:b,Error:R,FunctionPrototypeSymbolHasInstance:S,ObjectDefineProperty:P,ObjectDefineProperties:g,ObjectSetPrototypeOf:y,StringPrototypeToLowerCase:T,Symbol:F,SymbolHasInstance:D}=m(6305);re.exports=qe,qe.WritableState=Ie;const{EventEmitter:B}=m(2016),te=m(900).Stream,{Buffer:C}=m(1657),W=m(5601),{addAbortSignal:ce}=m(9987),{getHighWaterMark:Y,getDefaultHighWaterMark:ie}=m(8782),{ERR_INVALID_ARG_TYPE:ne,ERR_METHOD_NOT_IMPLEMENTED:X,ERR_MULTIPLE_CALLBACK:V,ERR_STREAM_CANNOT_PIPE:v,ERR_STREAM_DESTROYED:U,ERR_STREAM_ALREADY_FINISHED:k,ERR_STREAM_NULL_VALUES:ue,ERR_STREAM_WRITE_AFTER_END:G,ERR_UNKNOWN_ENCODING:Te}=m(4370).codes,{errorOrDestroy:le}=W;function we(){}y(qe.prototype,te.prototype),y(qe,te);const Re=F("kOnFinished");function Ie(Z,$,E){"boolean"!=typeof E&&(E=$ instanceof m(5931)),this.objectMode=!(!Z||!Z.objectMode),E&&(this.objectMode=this.objectMode||!(!Z||!Z.writableObjectMode)),this.highWaterMark=Z?Y(this,Z,"writableHighWaterMark",E):ie(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(Z&&!1===Z.decodeStrings),this.defaultEncoding=Z&&Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ge.bind(void 0,$),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Je(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!Z||!1!==Z.emitClose,this.autoDestroy=!Z||!1!==Z.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Re]=[]}function Je(Z){Z.buffered=[],Z.bufferedIndex=0,Z.allBuffers=!0,Z.allNoop=!0}function qe(Z){const $=this instanceof m(5931);if(!$&&!S(qe,this))return new qe(Z);this._writableState=new Ie(Z,this,$),Z&&("function"==typeof Z.write&&(this._write=Z.write),"function"==typeof Z.writev&&(this._writev=Z.writev),"function"==typeof Z.destroy&&(this._destroy=Z.destroy),"function"==typeof Z.final&&(this._final=Z.final),"function"==typeof Z.construct&&(this._construct=Z.construct),Z.signal&&ce(Z.signal,this)),te.call(this,Z),W.construct(this,()=>{const E=this._writableState;E.writing||Ye(this,E),se(this,E)})}function Ee(Z,$,E,N){const de=Z._writableState;if("function"==typeof E)N=E,E=de.defaultEncoding;else{if(E){if("buffer"!==E&&!C.isEncoding(E))throw new Te(E)}else E=de.defaultEncoding;"function"!=typeof N&&(N=we)}if(null===$)throw new ue;if(!de.objectMode)if("string"==typeof $)!1!==de.decodeStrings&&($=C.from($,E),E="buffer");else if($ instanceof C)E="buffer";else{if(!te._isUint8Array($))throw new ne("chunk",["string","Buffer","Uint8Array"],$);$=te._uint8ArrayToBuffer($),E="buffer"}let pe;return de.ending?pe=new G:de.destroyed&&(pe=new U("write")),pe?(A.nextTick(N,pe),le(Z,pe,!0),pe):(de.pendingcb++,function Le(Z,$,E,N,de){const pe=$.objectMode?1:E.length;$.length+=pe;const He=$.length<$.highWaterMark;return He||($.needDrain=!0),$.writing||$.corked||$.errored||!$.constructed?($.buffered.push({chunk:E,encoding:N,callback:de}),$.allBuffers&&"buffer"!==N&&($.allBuffers=!1),$.allNoop&&de!==we&&($.allNoop=!1)):($.writelen=pe,$.writecb=de,$.writing=!0,$.sync=!0,Z._write(E,N,$.onwrite),$.sync=!1),He&&!$.errored&&!$.destroyed}(Z,de,$,E,N))}function Ne(Z,$,E,N,de,pe,He){$.writelen=N,$.writecb=He,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new U("write")):E?Z._writev(de,$.onwrite):Z._write(de,pe,$.onwrite),$.sync=!1}function ze(Z,$,E,N){--$.pendingcb,N(E),dt($),le(Z,E)}function ge(Z,$){const E=Z._writableState,N=E.sync,de=E.writecb;"function"==typeof de?(E.writing=!1,E.writecb=null,E.length-=E.writelen,E.writelen=0,$?(E.errored||(E.errored=$),Z._readableState&&!Z._readableState.errored&&(Z._readableState.errored=$),N?A.nextTick(ze,Z,E,$,de):ze(Z,E,$,de)):(E.buffered.length>E.bufferedIndex&&Ye(Z,E),N?null!==E.afterWriteTickInfo&&E.afterWriteTickInfo.cb===de?E.afterWriteTickInfo.count++:(E.afterWriteTickInfo={count:1,cb:de,stream:Z,state:E},A.nextTick(Se,E.afterWriteTickInfo)):Ke(Z,E,1,de))):le(Z,new V)}function Se({stream:Z,state:$,count:E,cb:N}){return $.afterWriteTickInfo=null,Ke(Z,$,E,N)}function Ke(Z,$,E,N){for(!$.ending&&!Z.destroyed&&0===$.length&&$.needDrain&&($.needDrain=!1,Z.emit("drain"));E-- >0;)$.pendingcb--,N();$.destroyed&&dt($),se(Z,$)}function dt(Z){if(Z.writing)return;for(let de=Z.bufferedIndex;de<Z.buffered.length;++de){var $;const{chunk:pe,callback:He}=Z.buffered[de];Z.length-=Z.objectMode?1:pe.length,He(null!==($=Z.errored)&&void 0!==$?$:new U("write"))}const E=Z[Re].splice(0);for(let de=0;de<E.length;de++){var N;E[de](null!==(N=Z.errored)&&void 0!==N?N:new U("end"))}Je(Z)}function Ye(Z,$){if($.corked||$.bufferProcessing||$.destroyed||!$.constructed)return;const{buffered:E,bufferedIndex:N,objectMode:de}=$,pe=E.length-N;if(!pe)return;let He=N;if($.bufferProcessing=!0,pe>1&&Z._writev){$.pendingcb-=pe-1;const ke=$.allNoop?we:Ht=>{for(let Ct=He;Ct<E.length;++Ct)E[Ct].callback(Ht)},ft=$.allNoop&&0===He?E:b(E,He);ft.allBuffers=$.allBuffers,Ne(Z,$,!0,$.length,ft,"",ke),Je($)}else{do{const{chunk:ke,encoding:ft,callback:Ht}=E[He];E[He++]=null,Ne(Z,$,!1,de?1:ke.length,ke,ft,Ht)}while(He<E.length&&!$.writing);He===E.length?Je($):He>256?(E.splice(0,He),$.bufferedIndex=0):$.bufferedIndex=He}$.bufferProcessing=!1}function be(Z){return Z.ending&&!Z.destroyed&&Z.constructed&&0===Z.length&&!Z.errored&&0===Z.buffered.length&&!Z.finished&&!Z.writing&&!Z.errorEmitted&&!Z.closeEmitted}function se(Z,$,E){be($)&&(function O(Z,$){!$.prefinished&&!$.finalCalled&&("function"!=typeof Z._final||$.destroyed?($.prefinished=!0,Z.emit("prefinish")):($.finalCalled=!0,function H(Z,$){let E=!1;function N(de){if(E)le(Z,de??V());else if(E=!0,$.pendingcb--,de){const pe=$[Re].splice(0);for(let He=0;He<pe.length;He++)pe[He](de);le(Z,de,$.sync)}else be($)&&($.prefinished=!0,Z.emit("prefinish"),$.pendingcb++,A.nextTick(j,Z,$))}$.sync=!0,$.pendingcb++;try{Z._final(N)}catch(de){N(de)}$.sync=!1}(Z,$)))}(Z,$),0===$.pendingcb&&(E?($.pendingcb++,A.nextTick((N,de)=>{be(de)?j(N,de):de.pendingcb--},Z,$)):be($)&&($.pendingcb++,j(Z,$))))}function j(Z,$){$.pendingcb--,$.finished=!0;const E=$[Re].splice(0);for(let N=0;N<E.length;N++)E[N]();if(Z.emit("finish"),$.autoDestroy){const N=Z._readableState;(!N||N.autoDestroy&&(N.endEmitted||!1===N.readable))&&Z.destroy()}}Ie.prototype.getBuffer=function(){return b(this.buffered,this.bufferedIndex)},P(Ie.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),P(qe,D,{__proto__:null,value:function(Z){return!!S(this,Z)||this===qe&&Z&&Z._writableState instanceof Ie}}),qe.prototype.pipe=function(){le(this,new v)},qe.prototype.write=function(Z,$,E){return!0===Ee(this,Z,$,E)},qe.prototype.cork=function(){this._writableState.corked++},qe.prototype.uncork=function(){const Z=this._writableState;Z.corked&&(Z.corked--,Z.writing||Ye(this,Z))},qe.prototype.setDefaultEncoding=function($){if("string"==typeof $&&($=T($)),!C.isEncoding($))throw new Te($);return this._writableState.defaultEncoding=$,this},qe.prototype._write=function(Z,$,E){if(!this._writev)throw new X("_write()");this._writev([{chunk:Z,encoding:$}],E)},qe.prototype._writev=null,qe.prototype.end=function(Z,$,E){const N=this._writableState;let de;if("function"==typeof Z?(E=Z,Z=null,$=null):"function"==typeof $&&(E=$,$=null),null!=Z){const pe=Ee(this,Z,$);pe instanceof R&&(de=pe)}return N.corked&&(N.corked=1,this.uncork()),de||(N.errored||N.ending?N.finished?de=new k("end"):N.destroyed&&(de=new U("end")):(N.ending=!0,se(this,N,!0),N.ended=!0)),"function"==typeof E&&(de||N.finished?A.nextTick(E,de):N[Re].push(E)),this},g(qe.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(Z){this._writableState&&(this._writableState.destroyed=Z)}},writable:{__proto__:null,get(){const Z=this._writableState;return!(!Z||!1===Z.writable||Z.destroyed||Z.errored||Z.ending||Z.ended)},set(Z){this._writableState&&(this._writableState.writable=!!Z)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const Z=this._writableState;return!!Z&&!Z.destroyed&&!Z.ending&&Z.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Be=W.destroy;let it;function he(){return void 0===it&&(it={}),it}qe.prototype.destroy=function(Z,$){const E=this._writableState;return!E.destroyed&&(E.bufferedIndex<E.buffered.length||E[Re].length)&&A.nextTick(dt,E),Be.call(this,Z,$),this},qe.prototype._undestroy=W.undestroy,qe.prototype._destroy=function(Z,$){$(Z)},qe.prototype[B.captureRejectionSymbol]=function(Z){this.destroy(Z)},qe.fromWeb=function(Z,$){return he().newStreamWritableFromWritableStream(Z,$)},qe.toWeb=function(Z){return he().newWritableStreamFromStreamWritable(Z)}},2120:(re,q,m)=>{"use strict";const{ArrayIsArray:A,ArrayPrototypeIncludes:b,ArrayPrototypeJoin:R,ArrayPrototypeMap:S,NumberIsInteger:P,NumberIsNaN:g,NumberMAX_SAFE_INTEGER:y,NumberMIN_SAFE_INTEGER:T,NumberParseInt:F,ObjectPrototypeHasOwnProperty:D,RegExpPrototypeExec:B,String:te,StringPrototypeToUpperCase:C,StringPrototypeTrim:W}=m(6305),{hideStackFrames:ce,codes:{ERR_SOCKET_BAD_PORT:Y,ERR_INVALID_ARG_TYPE:ie,ERR_INVALID_ARG_VALUE:ne,ERR_OUT_OF_RANGE:X,ERR_UNKNOWN_SIGNAL:V}}=m(4370),{normalizeEncoding:v}=m(2656),{isAsyncFunction:U,isArrayBufferView:k}=m(2656).types,ue={},le=/^[0-7]+$/,Ie=ce((pe,He,ke=T,ft=y)=>{if("number"!=typeof pe)throw new ie(He,"number",pe);if(!P(pe))throw new X(He,"an integer",pe);if(pe<ke||pe>ft)throw new X(He,`>= ${ke} && <= ${ft}`,pe)}),Je=ce((pe,He,ke=-2147483648,ft=2147483647)=>{if("number"!=typeof pe)throw new ie(He,"number",pe);if(!P(pe))throw new X(He,"an integer",pe);if(pe<ke||pe>ft)throw new X(He,`>= ${ke} && <= ${ft}`,pe)}),qe=ce((pe,He,ke=!1)=>{if("number"!=typeof pe)throw new ie(He,"number",pe);if(!P(pe))throw new X(He,"an integer",pe);const ft=ke?1:0,Ht=4294967295;if(pe<ft||pe>Ht)throw new X(He,`>= ${ft} && <= ${Ht}`,pe)});function Ee(pe,He){if("string"!=typeof pe)throw new ie(He,"string",pe)}const Ne=ce((pe,He,ke)=>{if(!b(ke,pe)){const Ht="must be one of: "+R(S(ke,Ct=>"string"==typeof Ct?`'${Ct}'`:te(Ct)),", ");throw new ne(He,pe,Ht)}});function ze(pe,He){if("boolean"!=typeof pe)throw new ie(He,"boolean",pe)}function ge(pe,He,ke){return null!=pe&&D(pe,He)?pe[He]:ke}const Se=ce((pe,He,ke=null)=>{const ft=ge(ke,"allowArray",!1),Ht=ge(ke,"allowFunction",!1);if(!ge(ke,"nullable",!1)&&null===pe||!ft&&A(pe)||"object"!=typeof pe&&(!Ht||"function"!=typeof pe))throw new ie(He,"Object",pe)}),Ke=ce((pe,He)=>{if(null!=pe&&"object"!=typeof pe&&"function"!=typeof pe)throw new ie(He,"a dictionary",pe)}),dt=ce((pe,He,ke=0)=>{if(!A(pe))throw new ie(He,"Array",pe);if(pe.length<ke)throw new ne(He,pe,`must be longer than ${ke}`)}),O=ce((pe,He="buffer")=>{if(!k(pe))throw new ie(He,["Buffer","TypedArray","DataView"],pe)}),Be=ce((pe,He)=>{if(void 0!==pe&&(null===pe||"object"!=typeof pe||!("aborted"in pe)))throw new ie(He,"AbortSignal",pe)}),it=ce((pe,He)=>{if("function"!=typeof pe)throw new ie(He,"Function",pe)}),he=ce((pe,He)=>{if("function"!=typeof pe||U(pe))throw new ie(He,"Function",pe)}),Z=ce((pe,He)=>{if(void 0!==pe)throw new ie(He,"undefined",pe)}),E=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function N(pe,He){if(typeof pe>"u"||!B(E,pe))throw new ne(He,pe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}re.exports={isInt32:function G(pe){return pe===(0|pe)},isUint32:function Te(pe){return pe===pe>>>0},parseFileMode:function Re(pe,He,ke){if(typeof pe>"u"&&(pe=ke),"string"==typeof pe){if(null===B(le,pe))throw new ne(He,pe,"must be a 32-bit unsigned integer or an octal string");pe=F(pe,8)}return qe(pe,He),pe},validateArray:dt,validateStringArray:function Ye(pe,He){dt(pe,He);for(let ke=0;ke<pe.length;ke++)Ee(pe[ke],`${He}[${ke}]`)},validateBooleanArray:function be(pe,He){dt(pe,He);for(let ke=0;ke<pe.length;ke++)ze(pe[ke],`${He}[${ke}]`)},validateBoolean:ze,validateBuffer:O,validateDictionary:Ke,validateEncoding:function se(pe,He){const ke=v(He),ft=pe.length;if("hex"===ke&&ft%2!=0)throw new ne("encoding",He,`is invalid for data of length ${ft}`)},validateFunction:it,validateInt32:Je,validateInteger:Ie,validateNumber:function Le(pe,He,ke=void 0,ft){if("number"!=typeof pe)throw new ie(He,"number",pe);if(null!=ke&&pe<ke||null!=ft&&pe>ft||(null!=ke||null!=ft)&&g(pe))throw new X(He,`${null!=ke?`>= ${ke}`:""}${null!=ke&&null!=ft?" && ":""}${null!=ft?`<= ${ft}`:""}`,pe)},validateObject:Se,validateOneOf:Ne,validatePlainFunction:he,validatePort:function j(pe,He="Port",ke=!0){if("number"!=typeof pe&&"string"!=typeof pe||"string"==typeof pe&&0===W(pe).length||+pe!=+pe>>>0||pe>65535||0===pe&&!ke)throw new Y(He,pe,ke);return 0|pe},validateSignalName:function H(pe,He="signal"){if(Ee(pe,He),void 0===ue[pe])throw void 0!==ue[C(pe)]?new V(pe+" (signals must use all capital letters)"):new V(pe)},validateString:Ee,validateUint32:qe,validateUndefined:Z,validateUnion:function $(pe,He,ke){if(!b(ke,pe))throw new ie(He,`('${R(ke,"|")}')`,pe)},validateAbortSignal:Be,validateLinkHeaderValue:function de(pe){if("string"==typeof pe)return N(pe,"hints"),pe;if(A(pe)){const He=pe.length;let ke="";if(0===He)return ke;for(let ft=0;ft<He;ft++){const Ht=pe[ft];N(Ht,"hints"),ke+=Ht,ft!==He-1&&(ke+=", ")}return ke}throw new ne("hints",pe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},8905:(re,q,m)=>{"use strict";const A=m(8110),b=m(16),R=A.Readable.destroy;re.exports=A.Readable,re.exports._uint8ArrayToBuffer=A._uint8ArrayToBuffer,re.exports._isUint8Array=A._isUint8Array,re.exports.isDisturbed=A.isDisturbed,re.exports.isErrored=A.isErrored,re.exports.isReadable=A.isReadable,re.exports.Readable=A.Readable,re.exports.Writable=A.Writable,re.exports.Duplex=A.Duplex,re.exports.Transform=A.Transform,re.exports.PassThrough=A.PassThrough,re.exports.addAbortSignal=A.addAbortSignal,re.exports.finished=A.finished,re.exports.destroy=A.destroy,re.exports.destroy=R,re.exports.pipeline=A.pipeline,re.exports.compose=A.compose,Object.defineProperty(A,"promises",{configurable:!0,enumerable:!0,get:()=>b}),re.exports.Stream=A.Stream,re.exports.default=re.exports},4370:(re,q,m)=>{"use strict";const{format:A,inspect:b,AggregateError:R}=m(2656),S=globalThis.AggregateError||R,P=Symbol("kIsNodeError"),g=["string","function","number","object","Function","Object","boolean","bigint","symbol"],y=/^([A-Z][a-z0-9]*)+$/,F={};function D(ie,ne){if(!ie)throw new F.ERR_INTERNAL_ASSERTION(ne)}function B(ie){let ne="",X=ie.length;const V="-"===ie[0]?1:0;for(;X>=V+4;X-=3)ne=`_${ie.slice(X-3,X)}${ne}`;return`${ie.slice(0,X)}${ne}`}function C(ie,ne,X){X||(X=Error);class V extends X{constructor(...U){super(function te(ie,ne,X){if("function"==typeof ne)return D(ne.length<=X.length,`Code: ${ie}; The provided arguments length (${X.length}) does not match the required ones (${ne.length}).`),ne(...X);const V=(ne.match(/%[dfijoOs]/g)||[]).length;return D(V===X.length,`Code: ${ie}; The provided arguments length (${X.length}) does not match the required ones (${V}).`),0===X.length?ne:A(ne,...X)}(ie,ne,U))}toString(){return`${this.name} [${ie}]: ${this.message}`}}Object.defineProperties(V.prototype,{name:{value:X.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${ie}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),V.prototype.code=ie,V.prototype[P]=!0,F[ie]=V}function W(ie){return Object.defineProperty(ie,"name",{value:"__node_internal_"+ie.name}),ie}class Y extends Error{constructor(ne="The operation was aborted",X=void 0){if(void 0!==X&&"object"!=typeof X)throw new F.ERR_INVALID_ARG_TYPE("options","Object",X);super(ne,X),this.code="ABORT_ERR",this.name="AbortError"}}C("ERR_ASSERTION","%s",Error),C("ERR_INVALID_ARG_TYPE",(ie,ne,X)=>{D("string"==typeof ie,"'name' must be a string"),Array.isArray(ne)||(ne=[ne]);let V="The ";ie.endsWith(" argument")?V+=`${ie} `:V+=`"${ie}" ${ie.includes(".")?"property":"argument"} `,V+="must be ";const v=[],U=[],k=[];for(const G of ne)D("string"==typeof G,"All expected entries have to be of type string"),g.includes(G)?v.push(G.toLowerCase()):y.test(G)?U.push(G):(D("object"!==G,'The value "object" should be written as "Object"'),k.push(G));if(U.length>0){const G=v.indexOf("object");-1!==G&&(v.splice(v,G,1),U.push("Object"))}if(v.length>0){switch(v.length){case 1:V+=`of type ${v[0]}`;break;case 2:V+=`one of type ${v[0]} or ${v[1]}`;break;default:{const G=v.pop();V+=`one of type ${v.join(", ")}, or ${G}`}}(U.length>0||k.length>0)&&(V+=" or ")}if(U.length>0){switch(U.length){case 1:V+=`an instance of ${U[0]}`;break;case 2:V+=`an instance of ${U[0]} or ${U[1]}`;break;default:{const G=U.pop();V+=`an instance of ${U.join(", ")}, or ${G}`}}k.length>0&&(V+=" or ")}switch(k.length){case 0:break;case 1:k[0].toLowerCase()!==k[0]&&(V+="an "),V+=`${k[0]}`;break;case 2:V+=`one of ${k[0]} or ${k[1]}`;break;default:{const G=k.pop();V+=`one of ${k.join(", ")}, or ${G}`}}if(null==X)V+=`. Received ${X}`;else if("function"==typeof X&&X.name)V+=`. Received function ${X.name}`;else if("object"==typeof X){var ue;null!==(ue=X.constructor)&&void 0!==ue&&ue.name?V+=`. Received an instance of ${X.constructor.name}`:V+=`. Received ${b(X,{depth:-1})}`}else{let G=b(X,{colors:!1});G.length>25&&(G=`${G.slice(0,25)}...`),V+=`. Received type ${typeof X} (${G})`}return V},TypeError),C("ERR_INVALID_ARG_VALUE",(ie,ne,X="is invalid")=>{let V=b(ne);return V.length>128&&(V=V.slice(0,128)+"..."),`The ${ie.includes(".")?"property":"argument"} '${ie}' ${X}. Received ${V}`},TypeError),C("ERR_INVALID_RETURN_VALUE",(ie,ne,X)=>{var V;return`Expected ${ie} to be returned from the "${ne}" function but got ${null!=X&&null!==(V=X.constructor)&&void 0!==V&&V.name?`instance of ${X.constructor.name}`:"type "+typeof X}.`},TypeError),C("ERR_MISSING_ARGS",(...ie)=>{let ne;D(ie.length>0,"At least one arg needs to be specified");const X=ie.length;switch(ie=(Array.isArray(ie)?ie:[ie]).map(V=>`"${V}"`).join(" or "),X){case 1:ne+=`The ${ie[0]} argument`;break;case 2:ne+=`The ${ie[0]} and ${ie[1]} arguments`;break;default:{const V=ie.pop();ne+=`The ${ie.join(", ")}, and ${V} arguments`}}return`${ne} must be specified`},TypeError),C("ERR_OUT_OF_RANGE",(ie,ne,X)=>{let V;return D(ne,'Missing "range" argument'),Number.isInteger(X)&&Math.abs(X)>2**32?V=B(String(X)):"bigint"==typeof X?(V=String(X),(X>2n**32n||X<-(2n**32n))&&(V=B(V)),V+="n"):V=b(X),`The value of "${ie}" is out of range. It must be ${ne}. Received ${V}`},RangeError),C("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),C("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),C("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),C("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),C("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),C("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),C("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),C("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),C("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),C("ERR_STREAM_WRITE_AFTER_END","write after end",Error),C("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),re.exports={AbortError:Y,aggregateTwoErrors:W(function ce(ie,ne){if(ie&&ne&&ie!==ne){if(Array.isArray(ne.errors))return ne.errors.push(ie),ne;const X=new S([ne,ie],ne.message);return X.code=ne.code,X}return ie||ne}),hideStackFrames:W,codes:F}},6305:re=>{"use strict";re.exports={ArrayIsArray:q=>Array.isArray(q),ArrayPrototypeIncludes:(q,m)=>q.includes(m),ArrayPrototypeIndexOf:(q,m)=>q.indexOf(m),ArrayPrototypeJoin:(q,m)=>q.join(m),ArrayPrototypeMap:(q,m)=>q.map(m),ArrayPrototypePop:(q,m)=>q.pop(m),ArrayPrototypePush:(q,m)=>q.push(m),ArrayPrototypeSlice:(q,m,A)=>q.slice(m,A),Error,FunctionPrototypeCall:(q,m,...A)=>q.call(m,...A),FunctionPrototypeSymbolHasInstance:(q,m)=>Function.prototype[Symbol.hasInstance].call(q,m),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(q,m)=>Object.defineProperties(q,m),ObjectDefineProperty:(q,m,A)=>Object.defineProperty(q,m,A),ObjectGetOwnPropertyDescriptor:(q,m)=>Object.getOwnPropertyDescriptor(q,m),ObjectKeys:q=>Object.keys(q),ObjectSetPrototypeOf:(q,m)=>Object.setPrototypeOf(q,m),Promise,PromisePrototypeCatch:(q,m)=>q.catch(m),PromisePrototypeThen:(q,m,A)=>q.then(m,A),PromiseReject:q=>Promise.reject(q),ReflectApply:Reflect.apply,RegExpPrototypeTest:(q,m)=>q.test(m),SafeSet:Set,String,StringPrototypeSlice:(q,m,A)=>q.slice(m,A),StringPrototypeToLowerCase:q=>q.toLowerCase(),StringPrototypeToUpperCase:q=>q.toUpperCase(),StringPrototypeTrim:q=>q.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(q,m,A)=>q.set(m,A),Uint8Array}},2656:(re,q,m)=>{"use strict";var A=m(7156).default;const b=m(1657),R=Object.getPrototypeOf(A(function*(){})).constructor,S=globalThis.Blob||b.Blob,P=typeof S<"u"?function(T){return T instanceof S}:function(T){return!1};class g extends Error{constructor(T){if(!Array.isArray(T))throw new TypeError("Expected input to be an Array, got "+typeof T);let F="";for(let D=0;D<T.length;D++)F+=`    ${T[D].stack}\n`;super(F),this.name="AggregateError",this.errors=T}}re.exports={AggregateError:g,kEmptyObject:Object.freeze({}),once(y){let T=!1;return function(...F){T||(T=!0,y.apply(this,F))}},createDeferredPromise:function(){let y,T;return{promise:new Promise((D,B)=>{y=D,T=B}),resolve:y,reject:T}},promisify:y=>new Promise((T,F)=>{y((D,...B)=>D?F(D):T(...B))}),debuglog:()=>function(){},format:(y,...T)=>y.replace(/%([sdifj])/g,function(...[F,D]){const B=T.shift();return"f"===D?B.toFixed(6):"j"===D?JSON.stringify(B):"s"===D&&"object"==typeof B?`${B.constructor!==Object?B.constructor.name:""} {}`.trim():B.toString()}),inspect(y){switch(typeof y){case"string":if(y.includes("'")){if(!y.includes('"'))return`"${y}"`;if(!y.includes("`")&&!y.includes("${"))return`\`${y}\``}return`'${y}'`;case"number":return isNaN(y)?"NaN":Object.is(y,-0)?String(y):y;case"bigint":return`${String(y)}n`;case"boolean":case"undefined":return String(y);case"object":return"{}"}},types:{isAsyncFunction:y=>y instanceof R,isArrayBufferView:y=>ArrayBuffer.isView(y)},isBlob:P},re.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},8110:(re,q,m)=>{const{Buffer:A}=m(1657),{ObjectDefineProperty:b,ObjectKeys:R,ReflectApply:S}=m(6305),{promisify:{custom:P}}=m(2656),{streamReturningOperators:g,promiseReturningOperators:y}=m(7624),{codes:{ERR_ILLEGAL_CONSTRUCTOR:T}}=m(4370),F=m(7721),{pipeline:D}=m(4514),{destroyer:B}=m(5601),te=m(4618),W=m(16),ce=m(5428),Y=re.exports=m(900).Stream;Y.isDisturbed=ce.isDisturbed,Y.isErrored=ce.isErrored,Y.isReadable=ce.isReadable,Y.Readable=m(8383);for(const X of R(g)){let v=function(...U){if(new.target)throw T();return Y.Readable.from(S(V,this,U))};const V=g[X];b(v,"name",{__proto__:null,value:V.name}),b(v,"length",{__proto__:null,value:V.length}),b(Y.Readable.prototype,X,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(const X of R(y)){let v=function(...k){if(new.target)throw T();return S(V,this,k)};const V=y[X];b(v,"name",{__proto__:null,value:V.name}),b(v,"length",{__proto__:null,value:V.length}),b(Y.Readable.prototype,X,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}Y.Writable=m(9764),Y.Duplex=m(5931),Y.Transform=m(123),Y.PassThrough=m(6973),Y.pipeline=D;const{addAbortSignal:ie}=m(9987);Y.addAbortSignal=ie,Y.finished=te,Y.destroy=B,Y.compose=F,b(Y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>W}),b(D,P,{__proto__:null,enumerable:!0,get:()=>W.pipeline}),b(te,P,{__proto__:null,enumerable:!0,get:()=>W.finished}),Y.Stream=Y,Y._isUint8Array=function(V){return V instanceof Uint8Array},Y._uint8ArrayToBuffer=function(V){return A.from(V.buffer,V.byteOffset,V.byteLength)}},16:(re,q,m)=>{"use strict";const{ArrayPrototypePop:A,Promise:b}=m(6305),{isIterable:R,isNodeStream:S,isWebStream:P}=m(5428),{pipelineImpl:g}=m(4514),{finished:y}=m(4618);m(8110),re.exports={finished:y,pipeline:function T(...F){return new b((D,B)=>{let te,C;const W=F[F.length-1];if(W&&"object"==typeof W&&!S(W)&&!R(W)&&!P(W)){const ce=A(F);te=ce.signal,C=ce.end}g(F,(ce,Y)=>{ce?B(ce):D(Y)},{signal:te,end:C})})}}},1657:(re,q,m)=>{"use strict";const A=m(9919),b=m(2601),R="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;q.Buffer=y,q.SlowBuffer=function ne(fe){return+fe!=fe&&(fe=0),y.alloc(+fe)},q.INSPECT_MAX_BYTES=50;const S=2147483647;function g(fe){if(fe>S)throw new RangeError('The value "'+fe+'" is invalid for option "size"');const J=new Uint8Array(fe);return Object.setPrototypeOf(J,y.prototype),J}function y(fe,J,M){if("number"==typeof fe){if("string"==typeof J)throw new TypeError('The "string" argument must be of type string. Received type number');return B(fe)}return T(fe,J,M)}function T(fe,J,M){if("string"==typeof fe)return function te(fe,J){if(("string"!=typeof J||""===J)&&(J="utf8"),!y.isEncoding(J))throw new TypeError("Unknown encoding: "+J);const M=0|X(fe,J);let ae=g(M);const Ge=ae.write(fe,J);return Ge!==M&&(ae=ae.slice(0,Ge)),ae}(fe,J);if(ArrayBuffer.isView(fe))return function W(fe){if(ft(fe,Uint8Array)){const J=new Uint8Array(fe);return ce(J.buffer,J.byteOffset,J.byteLength)}return C(fe)}(fe);if(null==fe)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof fe);if(ft(fe,ArrayBuffer)||fe&&ft(fe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ft(fe,SharedArrayBuffer)||fe&&ft(fe.buffer,SharedArrayBuffer)))return ce(fe,J,M);if("number"==typeof fe)throw new TypeError('The "value" argument must not be of type number. Received type number');const ae=fe.valueOf&&fe.valueOf();if(null!=ae&&ae!==fe)return y.from(ae,J,M);const Ge=function Y(fe){if(y.isBuffer(fe)){const J=0|ie(fe.length),M=g(J);return 0===M.length||fe.copy(M,0,0,J),M}return void 0!==fe.length?"number"!=typeof fe.length||Ht(fe.length)?g(0):C(fe):"Buffer"===fe.type&&Array.isArray(fe.data)?C(fe.data):void 0}(fe);if(Ge)return Ge;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof fe[Symbol.toPrimitive])return y.from(fe[Symbol.toPrimitive]("string"),J,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof fe)}function F(fe){if("number"!=typeof fe)throw new TypeError('"size" argument must be of type number');if(fe<0)throw new RangeError('The value "'+fe+'" is invalid for option "size"')}function B(fe){return F(fe),g(fe<0?0:0|ie(fe))}function C(fe){const J=fe.length<0?0:0|ie(fe.length),M=g(J);for(let ae=0;ae<J;ae+=1)M[ae]=255&fe[ae];return M}function ce(fe,J,M){if(J<0||fe.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(fe.byteLength<J+(M||0))throw new RangeError('"length" is outside of buffer bounds');let ae;return ae=void 0===J&&void 0===M?new Uint8Array(fe):void 0===M?new Uint8Array(fe,J):new Uint8Array(fe,J,M),Object.setPrototypeOf(ae,y.prototype),ae}function ie(fe){if(fe>=S)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return 0|fe}function X(fe,J){if(y.isBuffer(fe))return fe.length;if(ArrayBuffer.isView(fe)||ft(fe,ArrayBuffer))return fe.byteLength;if("string"!=typeof fe)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof fe);const M=fe.length,ae=arguments.length>2&&!0===arguments[2];if(!ae&&0===M)return 0;let Ge=!1;for(;;)switch(J){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return N(fe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return He(fe).length;default:if(Ge)return ae?-1:N(fe).length;J=(""+J).toLowerCase(),Ge=!0}}function V(fe,J,M){let ae=!1;if((void 0===J||J<0)&&(J=0),J>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(J>>>=0))return"";for(fe||(fe="utf8");;)switch(fe){case"hex":return Ne(this,J,M);case"utf8":case"utf-8":return Ie(this,J,M);case"ascii":return Ee(this,J,M);case"latin1":case"binary":return Le(this,J,M);case"base64":return Re(this,J,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ze(this,J,M);default:if(ae)throw new TypeError("Unknown encoding: "+fe);fe=(fe+"").toLowerCase(),ae=!0}}function v(fe,J,M){const ae=fe[J];fe[J]=fe[M],fe[M]=ae}function U(fe,J,M,ae,Ge){if(0===fe.length)return-1;if("string"==typeof M?(ae=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Ht(M=+M)&&(M=Ge?0:fe.length-1),M<0&&(M=fe.length+M),M>=fe.length){if(Ge)return-1;M=fe.length-1}else if(M<0){if(!Ge)return-1;M=0}if("string"==typeof J&&(J=y.from(J,ae)),y.isBuffer(J))return 0===J.length?-1:k(fe,J,M,ae,Ge);if("number"==typeof J)return J&=255,"function"==typeof Uint8Array.prototype.indexOf?Ge?Uint8Array.prototype.indexOf.call(fe,J,M):Uint8Array.prototype.lastIndexOf.call(fe,J,M):k(fe,[J],M,ae,Ge);throw new TypeError("val must be string, number or Buffer")}function k(fe,J,M,ae,Ge){let ni,et=1,lt=fe.length,nn=J.length;if(void 0!==ae&&("ucs2"===(ae=String(ae).toLowerCase())||"ucs-2"===ae||"utf16le"===ae||"utf-16le"===ae)){if(fe.length<2||J.length<2)return-1;et=2,lt/=2,nn/=2,M/=2}function Cn(Un,jn){return 1===et?Un[jn]:Un.readUInt16BE(jn*et)}if(Ge){let Un=-1;for(ni=M;ni<lt;ni++)if(Cn(fe,ni)===Cn(J,-1===Un?0:ni-Un)){if(-1===Un&&(Un=ni),ni-Un+1===nn)return Un*et}else-1!==Un&&(ni-=ni-Un),Un=-1}else for(M+nn>lt&&(M=lt-nn),ni=M;ni>=0;ni--){let Un=!0;for(let jn=0;jn<nn;jn++)if(Cn(fe,ni+jn)!==Cn(J,jn)){Un=!1;break}if(Un)return ni}return-1}function ue(fe,J,M,ae){M=Number(M)||0;const Ge=fe.length-M;ae?(ae=Number(ae))>Ge&&(ae=Ge):ae=Ge;const et=J.length;let lt;for(ae>et/2&&(ae=et/2),lt=0;lt<ae;++lt){const nn=parseInt(J.substr(2*lt,2),16);if(Ht(nn))return lt;fe[M+lt]=nn}return lt}function G(fe,J,M,ae){return ke(N(J,fe.length-M),fe,M,ae)}function Te(fe,J,M,ae){return ke(function de(fe){const J=[];for(let M=0;M<fe.length;++M)J.push(255&fe.charCodeAt(M));return J}(J),fe,M,ae)}function le(fe,J,M,ae){return ke(He(J),fe,M,ae)}function we(fe,J,M,ae){return ke(function pe(fe,J){let M,ae,Ge;const et=[];for(let lt=0;lt<fe.length&&!((J-=2)<0);++lt)M=fe.charCodeAt(lt),ae=M>>8,Ge=M%256,et.push(Ge),et.push(ae);return et}(J,fe.length-M),fe,M,ae)}function Re(fe,J,M){return A.fromByteArray(0===J&&M===fe.length?fe:fe.slice(J,M))}function Ie(fe,J,M){M=Math.min(fe.length,M);const ae=[];let Ge=J;for(;Ge<M;){const et=fe[Ge];let lt=null,nn=et>239?4:et>223?3:et>191?2:1;if(Ge+nn<=M){let Cn,ni,Un,jn;switch(nn){case 1:et<128&&(lt=et);break;case 2:Cn=fe[Ge+1],128==(192&Cn)&&(jn=(31&et)<<6|63&Cn,jn>127&&(lt=jn));break;case 3:Cn=fe[Ge+1],ni=fe[Ge+2],128==(192&Cn)&&128==(192&ni)&&(jn=(15&et)<<12|(63&Cn)<<6|63&ni,jn>2047&&(jn<55296||jn>57343)&&(lt=jn));break;case 4:Cn=fe[Ge+1],ni=fe[Ge+2],Un=fe[Ge+3],128==(192&Cn)&&128==(192&ni)&&128==(192&Un)&&(jn=(15&et)<<18|(63&Cn)<<12|(63&ni)<<6|63&Un,jn>65535&&jn<1114112&&(lt=jn))}}null===lt?(lt=65533,nn=1):lt>65535&&(lt-=65536,ae.push(lt>>>10&1023|55296),lt=56320|1023&lt),ae.push(lt),Ge+=nn}return function qe(fe){const J=fe.length;if(J<=Je)return String.fromCharCode.apply(String,fe);let M="",ae=0;for(;ae<J;)M+=String.fromCharCode.apply(String,fe.slice(ae,ae+=Je));return M}(ae)}q.kMaxLength=S,!(y.TYPED_ARRAY_SUPPORT=function P(){try{const fe=new Uint8Array(1),J={foo:function(){return 42}};return Object.setPrototypeOf(J,Uint8Array.prototype),Object.setPrototypeOf(fe,J),42===fe.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}}),y.poolSize=8192,y.from=function(fe,J,M){return T(fe,J,M)},Object.setPrototypeOf(y.prototype,Uint8Array.prototype),Object.setPrototypeOf(y,Uint8Array),y.alloc=function(fe,J,M){return function D(fe,J,M){return F(fe),fe<=0?g(fe):void 0!==J?"string"==typeof M?g(fe).fill(J,M):g(fe).fill(J):g(fe)}(fe,J,M)},y.allocUnsafe=function(fe){return B(fe)},y.allocUnsafeSlow=function(fe){return B(fe)},y.isBuffer=function(J){return null!=J&&!0===J._isBuffer&&J!==y.prototype},y.compare=function(J,M){if(ft(J,Uint8Array)&&(J=y.from(J,J.offset,J.byteLength)),ft(M,Uint8Array)&&(M=y.from(M,M.offset,M.byteLength)),!y.isBuffer(J)||!y.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(J===M)return 0;let ae=J.length,Ge=M.length;for(let et=0,lt=Math.min(ae,Ge);et<lt;++et)if(J[et]!==M[et]){ae=J[et],Ge=M[et];break}return ae<Ge?-1:Ge<ae?1:0},y.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(J,M){if(!Array.isArray(J))throw new TypeError('"list" argument must be an Array of Buffers');if(0===J.length)return y.alloc(0);let ae;if(void 0===M)for(M=0,ae=0;ae<J.length;++ae)M+=J[ae].length;const Ge=y.allocUnsafe(M);let et=0;for(ae=0;ae<J.length;++ae){let lt=J[ae];if(ft(lt,Uint8Array))et+lt.length>Ge.length?(y.isBuffer(lt)||(lt=y.from(lt)),lt.copy(Ge,et)):Uint8Array.prototype.set.call(Ge,lt,et);else{if(!y.isBuffer(lt))throw new TypeError('"list" argument must be an Array of Buffers');lt.copy(Ge,et)}et+=lt.length}return Ge},y.byteLength=X,y.prototype._isBuffer=!0,y.prototype.swap16=function(){const J=this.length;if(J%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<J;M+=2)v(this,M,M+1);return this},y.prototype.swap32=function(){const J=this.length;if(J%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<J;M+=4)v(this,M,M+3),v(this,M+1,M+2);return this},y.prototype.swap64=function(){const J=this.length;if(J%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<J;M+=8)v(this,M,M+7),v(this,M+1,M+6),v(this,M+2,M+5),v(this,M+3,M+4);return this},y.prototype.toLocaleString=y.prototype.toString=function(){const J=this.length;return 0===J?"":0===arguments.length?Ie(this,0,J):V.apply(this,arguments)},y.prototype.equals=function(J){if(!y.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J||0===y.compare(this,J)},y.prototype.inspect=function(){let J="";const M=q.INSPECT_MAX_BYTES;return J=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(J+=" ... "),"<Buffer "+J+">"},R&&(y.prototype[R]=y.prototype.inspect),y.prototype.compare=function(J,M,ae,Ge,et){if(ft(J,Uint8Array)&&(J=y.from(J,J.offset,J.byteLength)),!y.isBuffer(J))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof J);if(void 0===M&&(M=0),void 0===ae&&(ae=J?J.length:0),void 0===Ge&&(Ge=0),void 0===et&&(et=this.length),M<0||ae>J.length||Ge<0||et>this.length)throw new RangeError("out of range index");if(Ge>=et&&M>=ae)return 0;if(Ge>=et)return-1;if(M>=ae)return 1;if(this===J)return 0;let lt=(et>>>=0)-(Ge>>>=0),nn=(ae>>>=0)-(M>>>=0);const Cn=Math.min(lt,nn),ni=this.slice(Ge,et),Un=J.slice(M,ae);for(let jn=0;jn<Cn;++jn)if(ni[jn]!==Un[jn]){lt=ni[jn],nn=Un[jn];break}return lt<nn?-1:nn<lt?1:0},y.prototype.includes=function(J,M,ae){return-1!==this.indexOf(J,M,ae)},y.prototype.indexOf=function(J,M,ae){return U(this,J,M,ae,!0)},y.prototype.lastIndexOf=function(J,M,ae){return U(this,J,M,ae,!1)},y.prototype.write=function(J,M,ae,Ge){if(void 0===M)Ge="utf8",ae=this.length,M=0;else if(void 0===ae&&"string"==typeof M)Ge=M,ae=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(ae)?(ae>>>=0,void 0===Ge&&(Ge="utf8")):(Ge=ae,ae=void 0)}const et=this.length-M;if((void 0===ae||ae>et)&&(ae=et),J.length>0&&(ae<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ge||(Ge="utf8");let lt=!1;for(;;)switch(Ge){case"hex":return ue(this,J,M,ae);case"utf8":case"utf-8":return G(this,J,M,ae);case"ascii":case"latin1":case"binary":return Te(this,J,M,ae);case"base64":return le(this,J,M,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,J,M,ae);default:if(lt)throw new TypeError("Unknown encoding: "+Ge);Ge=(""+Ge).toLowerCase(),lt=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Je=4096;function Ee(fe,J,M){let ae="";M=Math.min(fe.length,M);for(let Ge=J;Ge<M;++Ge)ae+=String.fromCharCode(127&fe[Ge]);return ae}function Le(fe,J,M){let ae="";M=Math.min(fe.length,M);for(let Ge=J;Ge<M;++Ge)ae+=String.fromCharCode(fe[Ge]);return ae}function Ne(fe,J,M){const ae=fe.length;(!J||J<0)&&(J=0),(!M||M<0||M>ae)&&(M=ae);let Ge="";for(let et=J;et<M;++et)Ge+=Ct[fe[et]];return Ge}function ze(fe,J,M){const ae=fe.slice(J,M);let Ge="";for(let et=0;et<ae.length-1;et+=2)Ge+=String.fromCharCode(ae[et]+256*ae[et+1]);return Ge}function ge(fe,J,M){if(fe%1!=0||fe<0)throw new RangeError("offset is not uint");if(fe+J>M)throw new RangeError("Trying to access beyond buffer length")}function Se(fe,J,M,ae,Ge,et){if(!y.isBuffer(fe))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>Ge||J<et)throw new RangeError('"value" argument is out of bounds');if(M+ae>fe.length)throw new RangeError("Index out of range")}function Ke(fe,J,M,ae,Ge){it(J,ae,Ge,fe,M,7);let et=Number(J&BigInt(4294967295));fe[M++]=et,et>>=8,fe[M++]=et,et>>=8,fe[M++]=et,et>>=8,fe[M++]=et;let lt=Number(J>>BigInt(32)&BigInt(4294967295));return fe[M++]=lt,lt>>=8,fe[M++]=lt,lt>>=8,fe[M++]=lt,lt>>=8,fe[M++]=lt,M}function dt(fe,J,M,ae,Ge){it(J,ae,Ge,fe,M,7);let et=Number(J&BigInt(4294967295));fe[M+7]=et,et>>=8,fe[M+6]=et,et>>=8,fe[M+5]=et,et>>=8,fe[M+4]=et;let lt=Number(J>>BigInt(32)&BigInt(4294967295));return fe[M+3]=lt,lt>>=8,fe[M+2]=lt,lt>>=8,fe[M+1]=lt,lt>>=8,fe[M]=lt,M+8}function Ye(fe,J,M,ae,Ge,et){if(M+ae>fe.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function be(fe,J,M,ae,Ge){return J=+J,M>>>=0,Ge||Ye(fe,0,M,4),b.write(fe,J,M,ae,23,4),M+4}function H(fe,J,M,ae,Ge){return J=+J,M>>>=0,Ge||Ye(fe,0,M,8),b.write(fe,J,M,ae,52,8),M+8}y.prototype.slice=function(J,M){const ae=this.length;(J=~~J)<0?(J+=ae)<0&&(J=0):J>ae&&(J=ae),(M=void 0===M?ae:~~M)<0?(M+=ae)<0&&(M=0):M>ae&&(M=ae),M<J&&(M=J);const Ge=this.subarray(J,M);return Object.setPrototypeOf(Ge,y.prototype),Ge},y.prototype.readUintLE=y.prototype.readUIntLE=function(J,M,ae){J>>>=0,M>>>=0,ae||ge(J,M,this.length);let Ge=this[J],et=1,lt=0;for(;++lt<M&&(et*=256);)Ge+=this[J+lt]*et;return Ge},y.prototype.readUintBE=y.prototype.readUIntBE=function(J,M,ae){J>>>=0,M>>>=0,ae||ge(J,M,this.length);let Ge=this[J+--M],et=1;for(;M>0&&(et*=256);)Ge+=this[J+--M]*et;return Ge},y.prototype.readUint8=y.prototype.readUInt8=function(J,M){return J>>>=0,M||ge(J,1,this.length),this[J]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(J,M){return J>>>=0,M||ge(J,2,this.length),this[J]|this[J+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(J,M){return J>>>=0,M||ge(J,2,this.length),this[J]<<8|this[J+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(J,M){return J>>>=0,M||ge(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+16777216*this[J+3]},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(J,M){return J>>>=0,M||ge(J,4,this.length),16777216*this[J]+(this[J+1]<<16|this[J+2]<<8|this[J+3])},y.prototype.readBigUInt64LE=en(function(J){he(J>>>=0,"offset");const M=this[J],ae=this[J+7];(void 0===M||void 0===ae)&&Z(J,this.length-8);const Ge=M+256*this[++J]+65536*this[++J]+this[++J]*2**24,et=this[++J]+256*this[++J]+65536*this[++J]+ae*2**24;return BigInt(Ge)+(BigInt(et)<<BigInt(32))}),y.prototype.readBigUInt64BE=en(function(J){he(J>>>=0,"offset");const M=this[J],ae=this[J+7];(void 0===M||void 0===ae)&&Z(J,this.length-8);const Ge=M*2**24+65536*this[++J]+256*this[++J]+this[++J],et=this[++J]*2**24+65536*this[++J]+256*this[++J]+ae;return(BigInt(Ge)<<BigInt(32))+BigInt(et)}),y.prototype.readIntLE=function(J,M,ae){J>>>=0,M>>>=0,ae||ge(J,M,this.length);let Ge=this[J],et=1,lt=0;for(;++lt<M&&(et*=256);)Ge+=this[J+lt]*et;return et*=128,Ge>=et&&(Ge-=Math.pow(2,8*M)),Ge},y.prototype.readIntBE=function(J,M,ae){J>>>=0,M>>>=0,ae||ge(J,M,this.length);let Ge=M,et=1,lt=this[J+--Ge];for(;Ge>0&&(et*=256);)lt+=this[J+--Ge]*et;return et*=128,lt>=et&&(lt-=Math.pow(2,8*M)),lt},y.prototype.readInt8=function(J,M){return J>>>=0,M||ge(J,1,this.length),128&this[J]?-1*(255-this[J]+1):this[J]},y.prototype.readInt16LE=function(J,M){J>>>=0,M||ge(J,2,this.length);const ae=this[J]|this[J+1]<<8;return 32768&ae?4294901760|ae:ae},y.prototype.readInt16BE=function(J,M){J>>>=0,M||ge(J,2,this.length);const ae=this[J+1]|this[J]<<8;return 32768&ae?4294901760|ae:ae},y.prototype.readInt32LE=function(J,M){return J>>>=0,M||ge(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},y.prototype.readInt32BE=function(J,M){return J>>>=0,M||ge(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},y.prototype.readBigInt64LE=en(function(J){he(J>>>=0,"offset");const M=this[J],ae=this[J+7];return(void 0===M||void 0===ae)&&Z(J,this.length-8),(BigInt(this[J+4]+256*this[J+5]+65536*this[J+6]+(ae<<24))<<BigInt(32))+BigInt(M+256*this[++J]+65536*this[++J]+this[++J]*2**24)}),y.prototype.readBigInt64BE=en(function(J){he(J>>>=0,"offset");const M=this[J],ae=this[J+7];(void 0===M||void 0===ae)&&Z(J,this.length-8);const Ge=(M<<24)+65536*this[++J]+256*this[++J]+this[++J];return(BigInt(Ge)<<BigInt(32))+BigInt(this[++J]*2**24+65536*this[++J]+256*this[++J]+ae)}),y.prototype.readFloatLE=function(J,M){return J>>>=0,M||ge(J,4,this.length),b.read(this,J,!0,23,4)},y.prototype.readFloatBE=function(J,M){return J>>>=0,M||ge(J,4,this.length),b.read(this,J,!1,23,4)},y.prototype.readDoubleLE=function(J,M){return J>>>=0,M||ge(J,8,this.length),b.read(this,J,!0,52,8)},y.prototype.readDoubleBE=function(J,M){return J>>>=0,M||ge(J,8,this.length),b.read(this,J,!1,52,8)},y.prototype.writeUintLE=y.prototype.writeUIntLE=function(J,M,ae,Ge){J=+J,M>>>=0,ae>>>=0,Ge||Se(this,J,M,ae,Math.pow(2,8*ae)-1,0);let et=1,lt=0;for(this[M]=255&J;++lt<ae&&(et*=256);)this[M+lt]=J/et&255;return M+ae},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(J,M,ae,Ge){J=+J,M>>>=0,ae>>>=0,Ge||Se(this,J,M,ae,Math.pow(2,8*ae)-1,0);let et=ae-1,lt=1;for(this[M+et]=255&J;--et>=0&&(lt*=256);)this[M+et]=J/lt&255;return M+ae},y.prototype.writeUint8=y.prototype.writeUInt8=function(J,M,ae){return J=+J,M>>>=0,ae||Se(this,J,M,1,255,0),this[M]=255&J,M+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(J,M,ae){return J=+J,M>>>=0,ae||Se(this,J,M,2,65535,0),this[M]=255&J,this[M+1]=J>>>8,M+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(J,M,ae){return J=+J,M>>>=0,ae||Se(this,J,M,2,65535,0),this[M]=J>>>8,this[M+1]=255&J,M+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(J,M,ae){return J=+J,M>>>=0,ae||Se(this,J,M,4,4294967295,0),this[M+3]=J>>>24,this[M+2]=J>>>16,this[M+1]=J>>>8,this[M]=255&J,M+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(J,M,ae){return J=+J,M>>>=0,ae||Se(this,J,M,4,4294967295,0),this[M]=J>>>24,this[M+1]=J>>>16,this[M+2]=J>>>8,this[M+3]=255&J,M+4},y.prototype.writeBigUInt64LE=en(function(J,M=0){return Ke(this,J,M,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=en(function(J,M=0){return dt(this,J,M,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(J,M,ae,Ge){if(J=+J,M>>>=0,!Ge){const Cn=Math.pow(2,8*ae-1);Se(this,J,M,ae,Cn-1,-Cn)}let et=0,lt=1,nn=0;for(this[M]=255&J;++et<ae&&(lt*=256);)J<0&&0===nn&&0!==this[M+et-1]&&(nn=1),this[M+et]=(J/lt>>0)-nn&255;return M+ae},y.prototype.writeIntBE=function(J,M,ae,Ge){if(J=+J,M>>>=0,!Ge){const Cn=Math.pow(2,8*ae-1);Se(this,J,M,ae,Cn-1,-Cn)}let et=ae-1,lt=1,nn=0;for(this[M+et]=255&J;--et>=0&&(lt*=256);)J<0&&0===nn&&0!==this[M+et+1]&&(nn=1),this[M+et]=(J/lt>>0)-nn&255;return M+ae},y.prototype.writeInt8=function(J,M,ae){return J=+J,M>>>=0,ae||Se(this,J,M,1,127,-128),J<0&&(J=255+J+1),this[M]=255&J,M+1},y.prototype.writeInt16LE=function(J,M,ae){return J=+J,M>>>=0,ae||Se(this,J,M,2,32767,-32768),this[M]=255&J,this[M+1]=J>>>8,M+2},y.prototype.writeInt16BE=function(J,M,ae){return J=+J,M>>>=0,ae||Se(this,J,M,2,32767,-32768),this[M]=J>>>8,this[M+1]=255&J,M+2},y.prototype.writeInt32LE=function(J,M,ae){return J=+J,M>>>=0,ae||Se(this,J,M,4,2147483647,-2147483648),this[M]=255&J,this[M+1]=J>>>8,this[M+2]=J>>>16,this[M+3]=J>>>24,M+4},y.prototype.writeInt32BE=function(J,M,ae){return J=+J,M>>>=0,ae||Se(this,J,M,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),this[M]=J>>>24,this[M+1]=J>>>16,this[M+2]=J>>>8,this[M+3]=255&J,M+4},y.prototype.writeBigInt64LE=en(function(J,M=0){return Ke(this,J,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=en(function(J,M=0){return dt(this,J,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeFloatLE=function(J,M,ae){return be(this,J,M,!0,ae)},y.prototype.writeFloatBE=function(J,M,ae){return be(this,J,M,!1,ae)},y.prototype.writeDoubleLE=function(J,M,ae){return H(this,J,M,!0,ae)},y.prototype.writeDoubleBE=function(J,M,ae){return H(this,J,M,!1,ae)},y.prototype.copy=function(J,M,ae,Ge){if(!y.isBuffer(J))throw new TypeError("argument should be a Buffer");if(ae||(ae=0),!Ge&&0!==Ge&&(Ge=this.length),M>=J.length&&(M=J.length),M||(M=0),Ge>0&&Ge<ae&&(Ge=ae),Ge===ae||0===J.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("Index out of range");if(Ge<0)throw new RangeError("sourceEnd out of bounds");Ge>this.length&&(Ge=this.length),J.length-M<Ge-ae&&(Ge=J.length-M+ae);const et=Ge-ae;return this===J&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,ae,Ge):Uint8Array.prototype.set.call(J,this.subarray(ae,Ge),M),et},y.prototype.fill=function(J,M,ae,Ge){if("string"==typeof J){if("string"==typeof M?(Ge=M,M=0,ae=this.length):"string"==typeof ae&&(Ge=ae,ae=this.length),void 0!==Ge&&"string"!=typeof Ge)throw new TypeError("encoding must be a string");if("string"==typeof Ge&&!y.isEncoding(Ge))throw new TypeError("Unknown encoding: "+Ge);if(1===J.length){const lt=J.charCodeAt(0);("utf8"===Ge&&lt<128||"latin1"===Ge)&&(J=lt)}}else"number"==typeof J?J&=255:"boolean"==typeof J&&(J=Number(J));if(M<0||this.length<M||this.length<ae)throw new RangeError("Out of range index");if(ae<=M)return this;let et;if(M>>>=0,ae=void 0===ae?this.length:ae>>>0,J||(J=0),"number"==typeof J)for(et=M;et<ae;++et)this[et]=J;else{const lt=y.isBuffer(J)?J:y.from(J,Ge),nn=lt.length;if(0===nn)throw new TypeError('The value "'+J+'" is invalid for argument "value"');for(et=0;et<ae-M;++et)this[et+M]=lt[et%nn]}return this};const O={};function se(fe,J,M){O[fe]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:J.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${fe}]`,delete this.name}get code(){return fe}set code(Ge){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ge,writable:!0})}toString(){return`${this.name} [${fe}]: ${this.message}`}}}function j(fe){let J="",M=fe.length;const ae="-"===fe[0]?1:0;for(;M>=ae+4;M-=3)J=`_${fe.slice(M-3,M)}${J}`;return`${fe.slice(0,M)}${J}`}function it(fe,J,M,ae,Ge,et){if(fe>M||fe<J){const lt="bigint"==typeof J?"n":"";let nn;throw nn=et>3?0===J||J===BigInt(0)?`>= 0${lt} and < 2${lt} ** ${8*(et+1)}${lt}`:`>= -(2${lt} ** ${8*(et+1)-1}${lt}) and < 2 ** ${8*(et+1)-1}${lt}`:`>= ${J}${lt} and <= ${M}${lt}`,new O.ERR_OUT_OF_RANGE("value",nn,fe)}!function Be(fe,J,M){he(J,"offset"),(void 0===fe[J]||void 0===fe[J+M])&&Z(J,fe.length-(M+1))}(ae,Ge,et)}function he(fe,J){if("number"!=typeof fe)throw new O.ERR_INVALID_ARG_TYPE(J,"number",fe)}function Z(fe,J,M){throw Math.floor(fe)!==fe?(he(fe,M),new O.ERR_OUT_OF_RANGE(M||"offset","an integer",fe)):J<0?new O.ERR_BUFFER_OUT_OF_BOUNDS:new O.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${J}`,fe)}se("ERR_BUFFER_OUT_OF_BOUNDS",function(fe){return fe?`${fe} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),se("ERR_INVALID_ARG_TYPE",function(fe,J){return`The "${fe}" argument must be of type number. Received type ${typeof J}`},TypeError),se("ERR_OUT_OF_RANGE",function(fe,J,M){let ae=`The value of "${fe}" is out of range.`,Ge=M;return Number.isInteger(M)&&Math.abs(M)>2**32?Ge=j(String(M)):"bigint"==typeof M&&(Ge=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(Ge=j(Ge)),Ge+="n"),ae+=` It must be ${J}. Received ${Ge}`,ae},RangeError);const $=/[^+/0-9A-Za-z-_]/g;function N(fe,J){let M;J=J||1/0;const ae=fe.length;let Ge=null;const et=[];for(let lt=0;lt<ae;++lt){if(M=fe.charCodeAt(lt),M>55295&&M<57344){if(!Ge){if(M>56319){(J-=3)>-1&&et.push(239,191,189);continue}if(lt+1===ae){(J-=3)>-1&&et.push(239,191,189);continue}Ge=M;continue}if(M<56320){(J-=3)>-1&&et.push(239,191,189),Ge=M;continue}M=65536+(Ge-55296<<10|M-56320)}else Ge&&(J-=3)>-1&&et.push(239,191,189);if(Ge=null,M<128){if((J-=1)<0)break;et.push(M)}else if(M<2048){if((J-=2)<0)break;et.push(M>>6|192,63&M|128)}else if(M<65536){if((J-=3)<0)break;et.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((J-=4)<0)break;et.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return et}function He(fe){return A.toByteArray(function E(fe){if((fe=(fe=fe.split("=")[0]).trim().replace($,"")).length<2)return"";for(;fe.length%4!=0;)fe+="=";return fe}(fe))}function ke(fe,J,M,ae){let Ge;for(Ge=0;Ge<ae&&!(Ge+M>=J.length||Ge>=fe.length);++Ge)J[Ge+M]=fe[Ge];return Ge}function ft(fe,J){return fe instanceof J||null!=fe&&null!=fe.constructor&&null!=fe.constructor.name&&fe.constructor.name===J.name}function Ht(fe){return fe!=fe}const Ct=function(){const fe="0123456789abcdef",J=new Array(256);for(let M=0;M<16;++M){const ae=16*M;for(let Ge=0;Ge<16;++Ge)J[ae+Ge]=fe[M]+fe[Ge]}return J}();function en(fe){return typeof BigInt>"u"?xn:fe}function xn(){throw new Error("BigInt not supported")}},7054:function(re,q,m){"use strict";var A=this&&this.__createBinding||(Object.create?function(R,S,P,g){void 0===g&&(g=P),Object.defineProperty(R,g,{enumerable:!0,get:function(){return S[P]}})}:function(R,S,P,g){void 0===g&&(g=P),R[g]=S[P]}),b=this&&this.__exportStar||function(R,S){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(S,P)&&A(S,R,P)};Object.defineProperty(q,"__esModule",{value:!0}),b(m(361),q)},361:(re,q)=>{"use strict";function A(S){const P=[];let g=0;for(;g<S.length;)switch(S[g]){case"/":if("."===S[g+1])if("."===S[g+2]){if(!R(S[g+3])){P.push([]),g++;break}P.pop(),S[g+3]||P.push([]),g+=3}else{if(!R(S[g+2])){P.push([]),g++;break}S[g+2]||P.push([]),g+=2}else P.push([]),g++;break;case"#":case"?":P.length||P.push([]),P[P.length-1].push(S.substr(g)),g=S.length;break;default:P.length||P.push([]),P[P.length-1].push(S[g]),g++}return"/"+P.map(y=>y.join("")).join("/")}function b(S,P){let g=P+1;P>=0?"/"===S[P+1]&&"/"===S[P+2]&&(g=P+3):"/"===S[0]&&"/"===S[1]&&(g=2);const y=S.indexOf("/",g);return y<0?S:S.substr(0,y)+A(S.substr(y))}function R(S){return!S||"#"===S||"?"===S||"/"===S}Object.defineProperty(q,"__esModule",{value:!0}),q.removeDotSegmentsOfPath=q.removeDotSegments=q.resolve=void 0,q.resolve=function m(S,P){const g=(P=P||"").indexOf("#");if(g>0&&(P=P.substr(0,g)),!S.length){if(P.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${P}' for value '${S}'`);return P}if(S.startsWith("?")){const C=P.indexOf("?");return C>0&&(P=P.substr(0,C)),P+S}if(S.startsWith("#"))return P+S;if(!P.length){const C=S.indexOf(":");if(C<0)throw new Error(`Found invalid relative IRI '${S}' for a missing baseIRI`);return b(S,C)}const y=S.indexOf(":");if(y>=0)return b(S,y);const T=P.indexOf(":");if(T<0)throw new Error(`Found invalid baseIRI '${P}' for value '${S}'`);const F=P.substr(0,T+1);if(0===S.indexOf("//"))return F+b(S,y);let D;if(P.indexOf("//",T)===T+1){if(D=P.indexOf("/",T+3),D<0)return P.length>T+3?P+"/"+b(S,y):F+b(S,y)}else if(D=P.indexOf("/",T+1),D<0)return F+b(S,y);if(0===S.indexOf("/"))return P.substr(0,D)+A(S);let B=P.substr(D);const te=B.lastIndexOf("/");return te>=0&&te<B.length-1&&(B=B.substr(0,te+1),"."===S[0]&&"."!==S[1]&&"/"!==S[1]&&S[2]&&(S=S.substr(1))),S=A(S=B+S),P.substr(0,D)+S},q.removeDotSegments=A,q.removeDotSegmentsOfPath=b},9528:(re,q,m)=>{!function(A){A.parser=function(H,O){return new R(H,O)},A.SAXParser=R,A.SAXStream=D,A.createStream=function F(H,O){return new D(H,O)},A.MAX_BUFFER_LENGTH=65536;var y,b=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function R(H,O){if(!(this instanceof R))return new R(H,O);var se=this;(function P(H){for(var O=0,se=b.length;O<se;O++)H[b[O]]=""})(se),se.q=se.c="",se.bufferCheckPosition=A.MAX_BUFFER_LENGTH,se.opt=O||{},se.opt.lowercase=se.opt.lowercase||se.opt.lowercasetags,se.looseCase=se.opt.lowercase?"toLowerCase":"toUpperCase",se.tags=[],se.closed=se.closedRoot=se.sawRoot=!1,se.tag=se.error=null,se.strict=!!H,se.noscript=!(!H&&!se.opt.noscript),se.state=G.BEGIN,se.strictEntities=se.opt.strictEntities,se.ENTITIES=Object.create(se.strictEntities?A.XML_ENTITIES:A.ENTITIES),se.attribList=[],se.opt.xmlns&&(se.ns=Object.create(ce)),se.trackPosition=!1!==se.opt.position,se.trackPosition&&(se.position=se.line=se.column=0),le(se,"onready")}A.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(H){function O(){}return O.prototype=H,new O}),Object.keys||(Object.keys=function(H){var O=[];for(var se in H)H.hasOwnProperty(se)&&O.push(se);return O}),R.prototype={end:function(){qe(this)},write:function be(H){var O=this;if(this.error)throw this.error;if(O.closed)return Je(O,"Cannot write after close. Assign an onready handler.");if(null===H)return qe(O);"object"==typeof H&&(H=H.toString());for(var se=0,j="";j=Ye(H,se++),O.c=j,j;)switch(O.trackPosition&&(O.position++,"\n"===j?(O.line++,O.column=0):O.column++),O.state){case G.BEGIN:if(O.state=G.BEGIN_WHITESPACE,"\ufeff"===j)continue;dt(O,j);continue;case G.BEGIN_WHITESPACE:dt(O,j);continue;case G.TEXT:if(O.sawRoot&&!O.closedRoot){for(var Be=se-1;j&&"<"!==j&&"&"!==j;)(j=Ye(H,se++))&&O.trackPosition&&(O.position++,"\n"===j?(O.line++,O.column=0):O.column++);O.textNode+=H.substring(Be,se-1)}"<"!==j||O.sawRoot&&O.closedRoot&&!O.strict?(!V(j)&&(!O.sawRoot||O.closedRoot)&&Ee(O,"Text data outside of root node."),"&"===j?O.state=G.TEXT_ENTITY:O.textNode+=j):(O.state=G.OPEN_WAKA,O.startTagPosition=O.position);continue;case G.SCRIPT:"<"===j?O.state=G.SCRIPT_ENDING:O.script+=j;continue;case G.SCRIPT_ENDING:"/"===j?O.state=G.CLOSE_TAG:(O.script+="<"+j,O.state=G.SCRIPT);continue;case G.OPEN_WAKA:"!"===j?(O.state=G.SGML_DECL,O.sgmlDecl=""):V(j)||(k(Y,j)?(O.state=G.OPEN_TAG,O.tagName=j):"/"===j?(O.state=G.CLOSE_TAG,O.tagName=""):"?"===j?(O.state=G.PROC_INST,O.procInstName=O.procInstBody=""):(Ee(O,"Unencoded <"),O.startTagPosition+1<O.position&&(j=new Array(O.position-O.startTagPosition).join(" ")+j),O.textNode+="<"+j,O.state=G.TEXT));continue;case G.SGML_DECL:(O.sgmlDecl+j).toUpperCase()===B?(we(O,"onopencdata"),O.state=G.CDATA,O.sgmlDecl="",O.cdata=""):O.sgmlDecl+j==="--"?(O.state=G.COMMENT,O.comment="",O.sgmlDecl=""):(O.sgmlDecl+j).toUpperCase()===te?(O.state=G.DOCTYPE,(O.doctype||O.sawRoot)&&Ee(O,"Inappropriately located doctype declaration"),O.doctype="",O.sgmlDecl=""):">"===j?(we(O,"onsgmldeclaration",O.sgmlDecl),O.sgmlDecl="",O.state=G.TEXT):(v(j)&&(O.state=G.SGML_DECL_QUOTED),O.sgmlDecl+=j);continue;case G.SGML_DECL_QUOTED:j===O.q&&(O.state=G.SGML_DECL,O.q=""),O.sgmlDecl+=j;continue;case G.DOCTYPE:">"===j?(O.state=G.TEXT,we(O,"ondoctype",O.doctype),O.doctype=!0):(O.doctype+=j,"["===j?O.state=G.DOCTYPE_DTD:v(j)&&(O.state=G.DOCTYPE_QUOTED,O.q=j));continue;case G.DOCTYPE_QUOTED:O.doctype+=j,j===O.q&&(O.q="",O.state=G.DOCTYPE);continue;case G.DOCTYPE_DTD:O.doctype+=j,"]"===j?O.state=G.DOCTYPE:v(j)&&(O.state=G.DOCTYPE_DTD_QUOTED,O.q=j);continue;case G.DOCTYPE_DTD_QUOTED:O.doctype+=j,j===O.q&&(O.state=G.DOCTYPE_DTD,O.q="");continue;case G.COMMENT:"-"===j?O.state=G.COMMENT_ENDING:O.comment+=j;continue;case G.COMMENT_ENDING:"-"===j?(O.state=G.COMMENT_ENDED,O.comment=Ie(O.opt,O.comment),O.comment&&we(O,"oncomment",O.comment),O.comment=""):(O.comment+="-"+j,O.state=G.COMMENT);continue;case G.COMMENT_ENDED:">"!==j?(Ee(O,"Malformed comment"),O.comment+="--"+j,O.state=G.COMMENT):O.state=G.TEXT;continue;case G.CDATA:"]"===j?O.state=G.CDATA_ENDING:O.cdata+=j;continue;case G.CDATA_ENDING:"]"===j?O.state=G.CDATA_ENDING_2:(O.cdata+="]"+j,O.state=G.CDATA);continue;case G.CDATA_ENDING_2:">"===j?(O.cdata&&we(O,"oncdata",O.cdata),we(O,"onclosecdata"),O.cdata="",O.state=G.TEXT):"]"===j?O.cdata+="]":(O.cdata+="]]"+j,O.state=G.CDATA);continue;case G.PROC_INST:"?"===j?O.state=G.PROC_INST_ENDING:V(j)?O.state=G.PROC_INST_BODY:O.procInstName+=j;continue;case G.PROC_INST_BODY:if(!O.procInstBody&&V(j))continue;"?"===j?O.state=G.PROC_INST_ENDING:O.procInstBody+=j;continue;case G.PROC_INST_ENDING:">"===j?(we(O,"onprocessinginstruction",{name:O.procInstName,body:O.procInstBody}),O.procInstName=O.procInstBody="",O.state=G.TEXT):(O.procInstBody+="?"+j,O.state=G.PROC_INST_BODY);continue;case G.OPEN_TAG:k(ie,j)?O.tagName+=j:(Le(O),">"===j?ge(O):"/"===j?O.state=G.OPEN_TAG_SLASH:(V(j)||Ee(O,"Invalid character in tag name"),O.state=G.ATTRIB));continue;case G.OPEN_TAG_SLASH:">"===j?(ge(O,!0),Se(O)):(Ee(O,"Forward-slash in opening tag not followed by >"),O.state=G.ATTRIB);continue;case G.ATTRIB:if(V(j))continue;">"===j?ge(O):"/"===j?O.state=G.OPEN_TAG_SLASH:k(Y,j)?(O.attribName=j,O.attribValue="",O.state=G.ATTRIB_NAME):Ee(O,"Invalid attribute name");continue;case G.ATTRIB_NAME:"="===j?O.state=G.ATTRIB_VALUE:">"===j?(Ee(O,"Attribute without value"),O.attribValue=O.attribName,ze(O),ge(O)):V(j)?O.state=G.ATTRIB_NAME_SAW_WHITE:k(ie,j)?O.attribName+=j:Ee(O,"Invalid attribute name");continue;case G.ATTRIB_NAME_SAW_WHITE:if("="===j)O.state=G.ATTRIB_VALUE;else{if(V(j))continue;Ee(O,"Attribute without value"),O.tag.attributes[O.attribName]="",O.attribValue="",we(O,"onattribute",{name:O.attribName,value:""}),O.attribName="",">"===j?ge(O):k(Y,j)?(O.attribName=j,O.state=G.ATTRIB_NAME):(Ee(O,"Invalid attribute name"),O.state=G.ATTRIB)}continue;case G.ATTRIB_VALUE:if(V(j))continue;v(j)?(O.q=j,O.state=G.ATTRIB_VALUE_QUOTED):(Ee(O,"Unquoted attribute value"),O.state=G.ATTRIB_VALUE_UNQUOTED,O.attribValue=j);continue;case G.ATTRIB_VALUE_QUOTED:if(j!==O.q){"&"===j?O.state=G.ATTRIB_VALUE_ENTITY_Q:O.attribValue+=j;continue}ze(O),O.q="",O.state=G.ATTRIB_VALUE_CLOSED;continue;case G.ATTRIB_VALUE_CLOSED:V(j)?O.state=G.ATTRIB:">"===j?ge(O):"/"===j?O.state=G.OPEN_TAG_SLASH:k(Y,j)?(Ee(O,"No whitespace between attributes"),O.attribName=j,O.attribValue="",O.state=G.ATTRIB_NAME):Ee(O,"Invalid attribute name");continue;case G.ATTRIB_VALUE_UNQUOTED:if(!U(j)){"&"===j?O.state=G.ATTRIB_VALUE_ENTITY_U:O.attribValue+=j;continue}ze(O),">"===j?ge(O):O.state=G.ATTRIB;continue;case G.CLOSE_TAG:if(O.tagName)">"===j?Se(O):k(ie,j)?O.tagName+=j:O.script?(O.script+="</"+O.tagName,O.tagName="",O.state=G.SCRIPT):(V(j)||Ee(O,"Invalid tagname in closing tag"),O.state=G.CLOSE_TAG_SAW_WHITE);else{if(V(j))continue;ue(Y,j)?O.script?(O.script+="</"+j,O.state=G.SCRIPT):Ee(O,"Invalid tagname in closing tag."):O.tagName=j}continue;case G.CLOSE_TAG_SAW_WHITE:if(V(j))continue;">"===j?Se(O):Ee(O,"Invalid characters in closing tag");continue;case G.TEXT_ENTITY:case G.ATTRIB_VALUE_ENTITY_Q:case G.ATTRIB_VALUE_ENTITY_U:var he,Z;switch(O.state){case G.TEXT_ENTITY:he=G.TEXT,Z="textNode";break;case G.ATTRIB_VALUE_ENTITY_Q:he=G.ATTRIB_VALUE_QUOTED,Z="attribValue";break;case G.ATTRIB_VALUE_ENTITY_U:he=G.ATTRIB_VALUE_UNQUOTED,Z="attribValue"}if(";"===j)if(O.opt.unparsedEntities){var $=Ke(O);O.entity="",O.state=he,O.write($)}else O[Z]+=Ke(O),O.entity="",O.state=he;else k(O.entity.length?X:ne,j)?O.entity+=j:(Ee(O,"Invalid character in entity name"),O[Z]+="&"+O.entity+j,O.entity="",O.state=he);continue;default:throw new Error(O,"Unknown state: "+O.state)}return O.position>=O.bufferCheckPosition&&function S(H){for(var O=Math.max(A.MAX_BUFFER_LENGTH,10),se=0,j=0,Be=b.length;j<Be;j++){var it=H[b[j]].length;if(it>O)switch(b[j]){case"textNode":Re(H);break;case"cdata":we(H,"oncdata",H.cdata),H.cdata="";break;case"script":we(H,"onscript",H.script),H.script="";break;default:Je(H,"Max buffer length exceeded: "+b[j])}se=Math.max(se,it)}H.bufferCheckPosition=A.MAX_BUFFER_LENGTH-se+H.position}(O),O},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function g(H){Re(H),""!==H.cdata&&(we(H,"oncdata",H.cdata),H.cdata=""),""!==H.script&&(we(H,"onscript",H.script),H.script="")}(this)}};try{y=m(1793).Stream}catch{y=function(){}}y||(y=function(){});var T=A.EVENTS.filter(function(H){return"error"!==H&&"end"!==H});function D(H,O){if(!(this instanceof D))return new D(H,O);y.apply(this),this._parser=new R(H,O),this.writable=!0,this.readable=!0;var se=this;this._parser.onend=function(){se.emit("end")},this._parser.onerror=function(j){se.emit("error",j),se._parser.error=null},this._decoder=null,T.forEach(function(j){Object.defineProperty(se,"on"+j,{get:function(){return se._parser["on"+j]},set:function(Be){if(!Be)return se.removeAllListeners(j),se._parser["on"+j]=Be,Be;se.on(j,Be)},enumerable:!0,configurable:!1})})}(D.prototype=Object.create(y.prototype,{constructor:{value:D}})).write=function(H){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(H)){if(!this._decoder){var O=m(2024).StringDecoder;this._decoder=new O("utf8")}H=this._decoder.write(H)}return this._parser.write(H.toString()),this.emit("data",H),!0},D.prototype.end=function(H){return H&&H.length&&this.write(H),this._parser.end(),!0},D.prototype.on=function(H,O){var se=this;return!se._parser["on"+H]&&-1!==T.indexOf(H)&&(se._parser["on"+H]=function(){var j=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);j.splice(0,0,H),se.emit.apply(se,j)}),y.prototype.on.call(se,H,O)};var B="[CDATA[",te="DOCTYPE",C="http://www.w3.org/XML/1998/namespace",W="http://www.w3.org/2000/xmlns/",ce={xml:C,xmlns:W},Y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ie=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,ne=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,X=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function V(H){return" "===H||"\n"===H||"\r"===H||"\t"===H}function v(H){return'"'===H||"'"===H}function U(H){return">"===H||V(H)}function k(H,O){return H.test(O)}function ue(H,O){return!k(H,O)}var H,O,se,G=0;for(var Te in A.STATE={BEGIN:G++,BEGIN_WHITESPACE:G++,TEXT:G++,TEXT_ENTITY:G++,OPEN_WAKA:G++,SGML_DECL:G++,SGML_DECL_QUOTED:G++,DOCTYPE:G++,DOCTYPE_QUOTED:G++,DOCTYPE_DTD:G++,DOCTYPE_DTD_QUOTED:G++,COMMENT_STARTING:G++,COMMENT:G++,COMMENT_ENDING:G++,COMMENT_ENDED:G++,CDATA:G++,CDATA_ENDING:G++,CDATA_ENDING_2:G++,PROC_INST:G++,PROC_INST_BODY:G++,PROC_INST_ENDING:G++,OPEN_TAG:G++,OPEN_TAG_SLASH:G++,ATTRIB:G++,ATTRIB_NAME:G++,ATTRIB_NAME_SAW_WHITE:G++,ATTRIB_VALUE:G++,ATTRIB_VALUE_QUOTED:G++,ATTRIB_VALUE_CLOSED:G++,ATTRIB_VALUE_UNQUOTED:G++,ATTRIB_VALUE_ENTITY_Q:G++,ATTRIB_VALUE_ENTITY_U:G++,CLOSE_TAG:G++,CLOSE_TAG_SAW_WHITE:G++,SCRIPT:G++,SCRIPT_ENDING:G++},A.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},A.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(A.ENTITIES).forEach(function(H){var O=A.ENTITIES[H],se="number"==typeof O?String.fromCharCode(O):O;A.ENTITIES[H]=se}),A.STATE)A.STATE[A.STATE[Te]]=Te;function le(H,O,se){H[O]&&H[O](se)}function we(H,O,se){H.textNode&&Re(H),le(H,O,se)}function Re(H){H.textNode=Ie(H.opt,H.textNode),H.textNode&&le(H,"ontext",H.textNode),H.textNode=""}function Ie(H,O){return H.trim&&(O=O.trim()),H.normalize&&(O=O.replace(/\s+/g," ")),O}function Je(H,O){return Re(H),H.trackPosition&&(O+="\nLine: "+H.line+"\nColumn: "+H.column+"\nChar: "+H.c),O=new Error(O),H.error=O,le(H,"onerror",O),H}function qe(H){return H.sawRoot&&!H.closedRoot&&Ee(H,"Unclosed root tag"),H.state!==G.BEGIN&&H.state!==G.BEGIN_WHITESPACE&&H.state!==G.TEXT&&Je(H,"Unexpected end"),Re(H),H.c="",H.closed=!0,le(H,"onend"),R.call(H,H.strict,H.opt),H}function Ee(H,O){if("object"!=typeof H||!(H instanceof R))throw new Error("bad call to strictFail");H.strict&&Je(H,O)}function Le(H){H.strict||(H.tagName=H.tagName[H.looseCase]());var O=H.tags[H.tags.length-1]||H,se=H.tag={name:H.tagName,attributes:{}};H.opt.xmlns&&(se.ns=O.ns),H.attribList.length=0,we(H,"onopentagstart",se)}function Ne(H,O){var j=H.indexOf(":")<0?["",H]:H.split(":"),Be=j[0],it=j[1];return O&&"xmlns"===H&&(Be="xmlns",it=""),{prefix:Be,local:it}}function ze(H){if(H.strict||(H.attribName=H.attribName[H.looseCase]()),-1!==H.attribList.indexOf(H.attribName)||H.tag.attributes.hasOwnProperty(H.attribName))H.attribName=H.attribValue="";else{if(H.opt.xmlns){var O=Ne(H.attribName,!0),j=O.local;if("xmlns"===O.prefix)if("xml"===j&&H.attribValue!==C)Ee(H,"xml: prefix must be bound to "+C+"\nActual: "+H.attribValue);else if("xmlns"===j&&H.attribValue!==W)Ee(H,"xmlns: prefix must be bound to "+W+"\nActual: "+H.attribValue);else{var Be=H.tag,it=H.tags[H.tags.length-1]||H;Be.ns===it.ns&&(Be.ns=Object.create(it.ns)),Be.ns[j]=H.attribValue}H.attribList.push([H.attribName,H.attribValue])}else H.tag.attributes[H.attribName]=H.attribValue,we(H,"onattribute",{name:H.attribName,value:H.attribValue});H.attribName=H.attribValue=""}}function ge(H,O){if(H.opt.xmlns){var se=H.tag,j=Ne(H.tagName);se.prefix=j.prefix,se.local=j.local,se.uri=se.ns[j.prefix]||"",se.prefix&&!se.uri&&(Ee(H,"Unbound namespace prefix: "+JSON.stringify(H.tagName)),se.uri=j.prefix),se.ns&&(H.tags[H.tags.length-1]||H).ns!==se.ns&&Object.keys(se.ns).forEach(function(ft){we(H,"onopennamespace",{prefix:ft,uri:se.ns[ft]})});for(var it=0,he=H.attribList.length;it<he;it++){var Z=H.attribList[it],$=Z[0],E=Z[1],N=Ne($,!0),de=N.prefix,He=""===de?"":se.ns[de]||"",ke={name:$,value:E,prefix:de,local:N.local,uri:He};de&&"xmlns"!==de&&!He&&(Ee(H,"Unbound namespace prefix: "+JSON.stringify(de)),ke.uri=de),H.tag.attributes[$]=ke,we(H,"onattribute",ke)}H.attribList.length=0}H.tag.isSelfClosing=!!O,H.sawRoot=!0,H.tags.push(H.tag),we(H,"onopentag",H.tag),O||(H.state=H.noscript||"script"!==H.tagName.toLowerCase()?G.TEXT:G.SCRIPT,H.tag=null,H.tagName=""),H.attribName=H.attribValue="",H.attribList.length=0}function Se(H){if(!H.tagName)return Ee(H,"Weird empty close tag."),H.textNode+="</>",void(H.state=G.TEXT);if(H.script){if("script"!==H.tagName)return H.script+="</"+H.tagName+">",H.tagName="",void(H.state=G.SCRIPT);we(H,"onscript",H.script),H.script=""}var O=H.tags.length,se=H.tagName;H.strict||(se=se[H.looseCase]());for(var j=se;O--&&H.tags[O].name!==j;)Ee(H,"Unexpected close tag");if(O<0)return Ee(H,"Unmatched closing tag: "+H.tagName),H.textNode+="</"+H.tagName+">",void(H.state=G.TEXT);H.tagName=se;for(var it=H.tags.length;it-- >O;){var he=H.tag=H.tags.pop();H.tagName=H.tag.name,we(H,"onclosetag",H.tagName);var Z={};for(var $ in he.ns)Z[$]=he.ns[$];H.opt.xmlns&&he.ns!==(H.tags[H.tags.length-1]||H).ns&&Object.keys(he.ns).forEach(function(N){we(H,"onclosenamespace",{prefix:N,uri:he.ns[N]})})}0===O&&(H.closedRoot=!0),H.tagName=H.attribValue=H.attribName="",H.attribList.length=0,H.state=G.TEXT}function Ke(H){var j,O=H.entity,se=O.toLowerCase(),Be="";return H.ENTITIES[O]?H.ENTITIES[O]:H.ENTITIES[se]?H.ENTITIES[se]:("#"===(O=se).charAt(0)&&("x"===O.charAt(1)?(O=O.slice(2),Be=(j=parseInt(O,16)).toString(16)):(O=O.slice(1),Be=(j=parseInt(O,10)).toString(10))),O=O.replace(/^0+/,""),isNaN(j)||Be.toLowerCase()!==O?(Ee(H,"Invalid character entity"),"&"+H.entity+";"):String.fromCodePoint(j))}function dt(H,O){"<"===O?(H.state=G.OPEN_WAKA,H.startTagPosition=H.position):V(O)||(Ee(H,"Non-whitespace before first tag."),H.textNode=O,H.state=G.TEXT)}function Ye(H,O){var se="";return O<H.length&&(se=H.charAt(O)),se}G=A.STATE,String.fromCodePoint||(H=String.fromCharCode,O=Math.floor,se=function(){var Be=[],Z=-1,$=arguments.length;if(!$)return"";for(var E="";++Z<$;){var N=Number(arguments[Z]);if(!isFinite(N)||N<0||N>1114111||O(N)!==N)throw RangeError("Invalid code point: "+N);N<=65535?Be.push(N):Be.push(55296+((N-=65536)>>10),N%1024+56320),(Z+1===$||Be.length>16384)&&(E+=H.apply(null,Be),Be.length=0)}return E},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:se,configurable:!0,writable:!0}):String.fromCodePoint=se)}(q)},8280:function(){!function(re,q){"use strict";if(!re.setImmediate){var S,m=1,A={},b=!1,R=re.document,ce=Object.getPrototypeOf&&Object.getPrototypeOf(re);ce=ce&&ce.setTimeout?ce:re,"[object process]"==={}.toString.call(re.process)?function F(){S=function(Y){process.nextTick(function(){T(Y)})}}():function D(){if(re.postMessage&&!re.importScripts){var Y=!0,ie=re.onmessage;return re.onmessage=function(){Y=!1},re.postMessage("","*"),re.onmessage=ie,Y}}()?function B(){var Y="setImmediate$"+Math.random()+"$",ie=function(ne){ne.source===re&&"string"==typeof ne.data&&0===ne.data.indexOf(Y)&&T(+ne.data.slice(Y.length))};re.addEventListener?re.addEventListener("message",ie,!1):re.attachEvent("onmessage",ie),S=function(ne){re.postMessage(Y+ne,"*")}}():re.MessageChannel?function te(){var Y=new MessageChannel;Y.port1.onmessage=function(ie){T(ie.data)},S=function(ie){Y.port2.postMessage(ie)}}():R&&"onreadystatechange"in R.createElement("script")?function C(){var Y=R.documentElement;S=function(ie){var ne=R.createElement("script");ne.onreadystatechange=function(){T(ie),ne.onreadystatechange=null,Y.removeChild(ne),ne=null},Y.appendChild(ne)}}():function W(){S=function(Y){setTimeout(T,0,Y)}}(),ce.setImmediate=function P(Y){"function"!=typeof Y&&(Y=new Function(""+Y));for(var ie=new Array(arguments.length-1),ne=0;ne<ie.length;ne++)ie[ne]=arguments[ne+1];return A[m]={callback:Y,args:ie},S(m),m++},ce.clearImmediate=g}function g(Y){delete A[Y]}function T(Y){if(b)setTimeout(T,0,Y);else{var ie=A[Y];if(ie){b=!0;try{!function y(Y){var ie=Y.callback,ne=Y.args;switch(ne.length){case 0:ie();break;case 1:ie(ne[0]);break;case 2:ie(ne[0],ne[1]);break;case 3:ie(ne[0],ne[1],ne[2]);break;default:ie.apply(undefined,ne)}}(ie)}finally{g(Y),b=!1}}}}}(typeof self>"u"?typeof global>"u"?this:global:self)},1793:(re,q,m)=>{re.exports=R;var A=m(2016).EventEmitter;function R(){A.call(this)}m(6698)(R,A),R.Readable=m(842),R.Writable=m(7597),R.Duplex=m(2232),R.Transform=m(555),R.PassThrough=m(8226),R.finished=m(1227),R.pipeline=m(2345),R.Stream=R,R.prototype.pipe=function(S,P){var g=this;function y(W){S.writable&&!1===S.write(W)&&g.pause&&g.pause()}function T(){g.readable&&g.resume&&g.resume()}g.on("data",y),S.on("drain",T),!S._isStdio&&(!P||!1!==P.end)&&(g.on("end",D),g.on("close",B));var F=!1;function D(){F||(F=!0,S.end())}function B(){F||(F=!0,"function"==typeof S.destroy&&S.destroy())}function te(W){if(C(),0===A.listenerCount(this,"error"))throw W}function C(){g.removeListener("data",y),S.removeListener("drain",T),g.removeListener("end",D),g.removeListener("close",B),g.removeListener("error",te),S.removeListener("error",te),g.removeListener("end",C),g.removeListener("close",C),S.removeListener("close",C)}return g.on("error",te),S.on("error",te),g.on("end",C),g.on("close",C),S.on("close",C),S.emit("pipe",g),S}},9555:re=>{"use strict";var m={};function A(g,y,T){T||(T=Error);var D=function(B){function te(C,W,ce){return B.call(this,function F(B,te,C){return"string"==typeof y?y:y(B,te,C)}(C,W,ce))||this}return function q(g,y){g.prototype=Object.create(y.prototype),g.prototype.constructor=g,g.__proto__=y}(te,B),te}(T);D.prototype.name=T.name,D.prototype.code=g,m[g]=D}function b(g,y){if(Array.isArray(g)){var T=g.length;return g=g.map(function(F){return String(F)}),T>2?"one of ".concat(y," ").concat(g.slice(0,T-1).join(", "),", or ")+g[T-1]:2===T?"one of ".concat(y," ").concat(g[0]," or ").concat(g[1]):"of ".concat(y," ").concat(g[0])}return"of ".concat(y," ").concat(String(g))}A("ERR_INVALID_OPT_VALUE",function(g,y){return'The value "'+y+'" is invalid for option "'+g+'"'},TypeError),A("ERR_INVALID_ARG_TYPE",function(g,y,T){var F,D;if("string"==typeof y&&function R(g,y,T){return g.substr(!T||T<0?0:+T,y.length)===y}(y,"not ")?(F="must not be",y=y.replace(/^not /,"")):F="must be",function S(g,y,T){return(void 0===T||T>g.length)&&(T=g.length),g.substring(T-y.length,T)===y}(g," argument"))D="The ".concat(g," ").concat(F," ").concat(b(y,"type"));else{var B=function P(g,y,T){return"number"!=typeof T&&(T=0),!(T+y.length>g.length)&&-1!==g.indexOf(y,T)}(g,".")?"property":"argument";D='The "'.concat(g,'" ').concat(B," ").concat(F," ").concat(b(y,"type"))}return D+". Received type ".concat(typeof T)},TypeError),A("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),A("ERR_METHOD_NOT_IMPLEMENTED",function(g){return"The "+g+" method is not implemented"}),A("ERR_STREAM_PREMATURE_CLOSE","Premature close"),A("ERR_STREAM_DESTROYED",function(g){return"Cannot call "+g+" after a stream was destroyed"}),A("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),A("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),A("ERR_STREAM_WRITE_AFTER_END","write after end"),A("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),A("ERR_UNKNOWN_ENCODING",function(g){return"Unknown encoding: "+g},TypeError),A("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),re.exports.q=m},2232:(re,q,m)=>{"use strict";var A=Object.keys||function(D){var B=[];for(var te in D)B.push(te);return B};re.exports=y;var b=m(842),R=m(7597);m(6698)(y,b);for(var S=A(R.prototype),P=0;P<S.length;P++){var g=S[P];y.prototype[g]||(y.prototype[g]=R.prototype[g])}function y(D){if(!(this instanceof y))return new y(D);b.call(this,D),R.call(this,D),this.allowHalfOpen=!0,D&&(!1===D.readable&&(this.readable=!1),!1===D.writable&&(this.writable=!1),!1===D.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",T)))}function T(){this._writableState.ended||process.nextTick(F,this)}function F(D){D.end()}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(B){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=B,this._writableState.destroyed=B)}})},8226:(re,q,m)=>{"use strict";re.exports=b;var A=m(555);function b(R){if(!(this instanceof b))return new b(R);A.call(this,R)}m(6698)(b,A),b.prototype._transform=function(R,S,P){P(null,R)}},842:(re,q,m)=>{"use strict";var A;re.exports=le,le.ReadableState=Te,m(2016);var D,R=function(Z,$){return Z.listeners($).length},S=m(3951),P=m(9007).Buffer,g=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},F=m(964);D=F&&F.debuglog?F.debuglog("stream"):function(){};var V,v,U,B=m(2998),te=m(3992),W=m(4962).getHighWaterMark,ce=m(9555).q,Y=ce.ERR_INVALID_ARG_TYPE,ie=ce.ERR_STREAM_PUSH_AFTER_EOF,ne=ce.ERR_METHOD_NOT_IMPLEMENTED,X=ce.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;m(6698)(le,S);var k=te.errorOrDestroy,ue=["error","close","destroy","pause","resume"];function Te(he,Z,$){A=A||m(2232),"boolean"!=typeof $&&($=Z instanceof A),this.objectMode=!!(he=he||{}).objectMode,$&&(this.objectMode=this.objectMode||!!he.readableObjectMode),this.highWaterMark=W(this,he,"readableHighWaterMark",$),this.buffer=new B,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==he.emitClose,this.autoDestroy=!!he.autoDestroy,this.destroyed=!1,this.defaultEncoding=he.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,he.encoding&&(V||(V=m(2024).StringDecoder),this.decoder=new V(he.encoding),this.encoding=he.encoding)}function le(he){if(A=A||m(2232),!(this instanceof le))return new le(he);this._readableState=new Te(he,this,this instanceof A),this.readable=!0,he&&("function"==typeof he.read&&(this._read=he.read),"function"==typeof he.destroy&&(this._destroy=he.destroy)),S.call(this)}function we(he,Z,$,E,N){D("readableAddChunk",Z);var pe,de=he._readableState;if(null===Z)de.reading=!1,function Le(he,Z){if(D("onEofChunk"),!Z.ended){if(Z.decoder){var $=Z.decoder.end();$&&$.length&&(Z.buffer.push($),Z.length+=Z.objectMode?1:$.length)}Z.ended=!0,Z.sync?Ne(he):(Z.needReadable=!1,Z.emittedReadable||(Z.emittedReadable=!0,ze(he)))}}(he,de);else if(N||(pe=function Ie(he,Z){var $;return!function T(he){return P.isBuffer(he)||he instanceof g}(Z)&&"string"!=typeof Z&&void 0!==Z&&!he.objectMode&&($=new Y("chunk",["string","Buffer","Uint8Array"],Z)),$}(de,Z)),pe)k(he,pe);else if(de.objectMode||Z&&Z.length>0)if("string"!=typeof Z&&!de.objectMode&&Object.getPrototypeOf(Z)!==P.prototype&&(Z=function y(he){return P.from(he)}(Z)),E)de.endEmitted?k(he,new X):Re(he,de,Z,!0);else if(de.ended)k(he,new ie);else{if(de.destroyed)return!1;de.reading=!1,de.decoder&&!$?(Z=de.decoder.write(Z),de.objectMode||0!==Z.length?Re(he,de,Z,!1):ge(he,de)):Re(he,de,Z,!1)}else E||(de.reading=!1,ge(he,de));return!de.ended&&(de.length<de.highWaterMark||0===de.length)}function Re(he,Z,$,E){Z.flowing&&0===Z.length&&!Z.sync?(Z.awaitDrain=0,he.emit("data",$)):(Z.length+=Z.objectMode?1:$.length,E?Z.buffer.unshift($):Z.buffer.push($),Z.needReadable&&Ne(he)),ge(he,Z)}Object.defineProperty(le.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Z){this._readableState&&(this._readableState.destroyed=Z)}}),le.prototype.destroy=te.destroy,le.prototype._undestroy=te.undestroy,le.prototype._destroy=function(he,Z){Z(he)},le.prototype.push=function(he,Z){var E,$=this._readableState;return $.objectMode?E=!0:"string"==typeof he&&((Z=Z||$.defaultEncoding)!==$.encoding&&(he=P.from(he,Z),Z=""),E=!0),we(this,he,Z,!1,E)},le.prototype.unshift=function(he){return we(this,he,null,!0,!1)},le.prototype.isPaused=function(){return!1===this._readableState.flowing},le.prototype.setEncoding=function(he){V||(V=m(2024).StringDecoder);var Z=new V(he);this._readableState.decoder=Z,this._readableState.encoding=this._readableState.decoder.encoding;for(var $=this._readableState.buffer.head,E="";null!==$;)E+=Z.write($.data),$=$.next;return this._readableState.buffer.clear(),""!==E&&this._readableState.buffer.push(E),this._readableState.length=E.length,this};var Je=1073741824;function Ee(he,Z){return he<=0||0===Z.length&&Z.ended?0:Z.objectMode?1:he!=he?Z.flowing&&Z.length?Z.buffer.head.data.length:Z.length:(he>Z.highWaterMark&&(Z.highWaterMark=function qe(he){return he>=Je?he=Je:(he--,he|=he>>>1,he|=he>>>2,he|=he>>>4,he|=he>>>8,he|=he>>>16,he++),he}(he)),he<=Z.length?he:Z.ended?Z.length:(Z.needReadable=!0,0))}function Ne(he){var Z=he._readableState;D("emitReadable",Z.needReadable,Z.emittedReadable),Z.needReadable=!1,Z.emittedReadable||(D("emitReadable",Z.flowing),Z.emittedReadable=!0,process.nextTick(ze,he))}function ze(he){var Z=he._readableState;D("emitReadable_",Z.destroyed,Z.length,Z.ended),!Z.destroyed&&(Z.length||Z.ended)&&(he.emit("readable"),Z.emittedReadable=!1),Z.needReadable=!Z.flowing&&!Z.ended&&Z.length<=Z.highWaterMark,O(he)}function ge(he,Z){Z.readingMore||(Z.readingMore=!0,process.nextTick(Se,he,Z))}function Se(he,Z){for(;!Z.reading&&!Z.ended&&(Z.length<Z.highWaterMark||Z.flowing&&0===Z.length);){var $=Z.length;if(D("maybeReadMore read 0"),he.read(0),$===Z.length)break}Z.readingMore=!1}function dt(he){var Z=he._readableState;Z.readableListening=he.listenerCount("readable")>0,Z.resumeScheduled&&!Z.paused?Z.flowing=!0:he.listenerCount("data")>0&&he.resume()}function Ye(he){D("readable nexttick read 0"),he.read(0)}function H(he,Z){D("resume",Z.reading),Z.reading||he.read(0),Z.resumeScheduled=!1,he.emit("resume"),O(he),Z.flowing&&!Z.reading&&he.read(0)}function O(he){var Z=he._readableState;for(D("flow",Z.flowing);Z.flowing&&null!==he.read(););}function se(he,Z){return 0===Z.length?null:(Z.objectMode?$=Z.buffer.shift():!he||he>=Z.length?($=Z.decoder?Z.buffer.join(""):1===Z.buffer.length?Z.buffer.first():Z.buffer.concat(Z.length),Z.buffer.clear()):$=Z.buffer.consume(he,Z.decoder),$);var $}function j(he){var Z=he._readableState;D("endReadable",Z.endEmitted),Z.endEmitted||(Z.ended=!0,process.nextTick(Be,Z,he))}function Be(he,Z){if(D("endReadableNT",he.endEmitted,he.length),!he.endEmitted&&0===he.length&&(he.endEmitted=!0,Z.readable=!1,Z.emit("end"),he.autoDestroy)){var $=Z._writableState;(!$||$.autoDestroy&&$.finished)&&Z.destroy()}}function it(he,Z){for(var $=0,E=he.length;$<E;$++)if(he[$]===Z)return $;return-1}le.prototype.read=function(he){D("read",he),he=parseInt(he,10);var Z=this._readableState,$=he;if(0!==he&&(Z.emittedReadable=!1),0===he&&Z.needReadable&&((0!==Z.highWaterMark?Z.length>=Z.highWaterMark:Z.length>0)||Z.ended))return D("read: emitReadable",Z.length,Z.ended),0===Z.length&&Z.ended?j(this):Ne(this),null;if(0===(he=Ee(he,Z))&&Z.ended)return 0===Z.length&&j(this),null;var N,E=Z.needReadable;return D("need readable",E),(0===Z.length||Z.length-he<Z.highWaterMark)&&D("length less than watermark",E=!0),Z.ended||Z.reading?D("reading or ended",E=!1):E&&(D("do read"),Z.reading=!0,Z.sync=!0,0===Z.length&&(Z.needReadable=!0),this._read(Z.highWaterMark),Z.sync=!1,Z.reading||(he=Ee($,Z))),null===(N=he>0?se(he,Z):null)?(Z.needReadable=Z.length<=Z.highWaterMark,he=0):(Z.length-=he,Z.awaitDrain=0),0===Z.length&&(Z.ended||(Z.needReadable=!0),$!==he&&Z.ended&&j(this)),null!==N&&this.emit("data",N),N},le.prototype._read=function(he){k(this,new ne("_read()"))},le.prototype.pipe=function(he,Z){var $=this,E=this._readableState;switch(E.pipesCount){case 0:E.pipes=he;break;case 1:E.pipes=[E.pipes,he];break;default:E.pipes.push(he)}E.pipesCount+=1,D("pipe count=%d opts=%j",E.pipesCount,Z);var de=Z&&!1===Z.end||he===process.stdout||he===process.stderr?J:He;function He(){D("onend"),he.end()}E.endEmitted?process.nextTick(de):$.once("end",de),he.on("unpipe",function pe(M,ae){D("onunpipe"),M===$&&ae&&!1===ae.hasUnpiped&&(ae.hasUnpiped=!0,function Ht(){D("cleanup"),he.removeListener("close",xn),he.removeListener("finish",fe),he.removeListener("drain",ke),he.removeListener("error",en),he.removeListener("unpipe",pe),$.removeListener("end",He),$.removeListener("end",J),$.removeListener("data",Ct),ft=!0,E.awaitDrain&&(!he._writableState||he._writableState.needDrain)&&ke()}())});var ke=function Ke(he){return function(){var $=he._readableState;D("pipeOnDrain",$.awaitDrain),$.awaitDrain&&$.awaitDrain--,0===$.awaitDrain&&R(he,"data")&&($.flowing=!0,O(he))}}($);he.on("drain",ke);var ft=!1;function Ct(M){D("ondata");var ae=he.write(M);D("dest.write",ae),!1===ae&&((1===E.pipesCount&&E.pipes===he||E.pipesCount>1&&-1!==it(E.pipes,he))&&!ft&&(D("false write response, pause",E.awaitDrain),E.awaitDrain++),$.pause())}function en(M){D("onerror",M),J(),he.removeListener("error",en),0===R(he,"error")&&k(he,M)}function xn(){he.removeListener("finish",fe),J()}function fe(){D("onfinish"),he.removeListener("close",xn),J()}function J(){D("unpipe"),$.unpipe(he)}return $.on("data",Ct),function G(he,Z,$){if("function"==typeof he.prependListener)return he.prependListener(Z,$);he._events&&he._events[Z]?Array.isArray(he._events[Z])?he._events[Z].unshift($):he._events[Z]=[$,he._events[Z]]:he.on(Z,$)}(he,"error",en),he.once("close",xn),he.once("finish",fe),he.emit("pipe",$),E.flowing||(D("pipe resume"),$.resume()),he},le.prototype.unpipe=function(he){var Z=this._readableState,$={hasUnpiped:!1};if(0===Z.pipesCount)return this;if(1===Z.pipesCount)return he&&he!==Z.pipes||(he||(he=Z.pipes),Z.pipes=null,Z.pipesCount=0,Z.flowing=!1,he&&he.emit("unpipe",this,$)),this;if(!he){var E=Z.pipes,N=Z.pipesCount;Z.pipes=null,Z.pipesCount=0,Z.flowing=!1;for(var de=0;de<N;de++)E[de].emit("unpipe",this,{hasUnpiped:!1});return this}var pe=it(Z.pipes,he);return-1===pe||(Z.pipes.splice(pe,1),Z.pipesCount-=1,1===Z.pipesCount&&(Z.pipes=Z.pipes[0]),he.emit("unpipe",this,$)),this},le.prototype.addListener=le.prototype.on=function(he,Z){var $=S.prototype.on.call(this,he,Z),E=this._readableState;return"data"===he?(E.readableListening=this.listenerCount("readable")>0,!1!==E.flowing&&this.resume()):"readable"===he&&!E.endEmitted&&!E.readableListening&&(E.readableListening=E.needReadable=!0,E.flowing=!1,E.emittedReadable=!1,D("on readable",E.length,E.reading),E.length?Ne(this):E.reading||process.nextTick(Ye,this)),$},le.prototype.removeListener=function(he,Z){var $=S.prototype.removeListener.call(this,he,Z);return"readable"===he&&process.nextTick(dt,this),$},le.prototype.removeAllListeners=function(he){var Z=S.prototype.removeAllListeners.apply(this,arguments);return("readable"===he||void 0===he)&&process.nextTick(dt,this),Z},le.prototype.resume=function(){var he=this._readableState;return he.flowing||(D("resume"),he.flowing=!he.readableListening,function be(he,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,process.nextTick(H,he,Z))}(this,he)),he.paused=!1,this},le.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},le.prototype.wrap=function(he){var Z=this,$=this._readableState,E=!1;for(var N in he.on("end",function(){if(D("wrapped end"),$.decoder&&!$.ended){var pe=$.decoder.end();pe&&pe.length&&Z.push(pe)}Z.push(null)}),he.on("data",function(pe){D("wrapped data"),$.decoder&&(pe=$.decoder.write(pe)),$.objectMode&&null==pe||!($.objectMode||pe&&pe.length)||Z.push(pe)||(E=!0,he.pause())}),he)void 0===this[N]&&"function"==typeof he[N]&&(this[N]=function(He){return function(){return he[He].apply(he,arguments)}}(N));for(var de=0;de<ue.length;de++)he.on(ue[de],this.emit.bind(this,ue[de]));return this._read=function(pe){D("wrapped _read",pe),E&&(E=!1,he.resume())},this},"function"==typeof Symbol&&(le.prototype[Symbol.asyncIterator]=function(){return void 0===v&&(v=m(2590)),v(this)}),Object.defineProperty(le.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(le.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(le.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Z){this._readableState&&(this._readableState.flowing=Z)}}),le._fromList=se,Object.defineProperty(le.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(le.from=function(he,Z){return void 0===U&&(U=m(5374)),U(le,he,Z)})},555:(re,q,m)=>{"use strict";re.exports=T;var A=m(9555).q,b=A.ERR_METHOD_NOT_IMPLEMENTED,R=A.ERR_MULTIPLE_CALLBACK,S=A.ERR_TRANSFORM_ALREADY_TRANSFORMING,P=A.ERR_TRANSFORM_WITH_LENGTH_0,g=m(2232);function y(B,te){var C=this._transformState;C.transforming=!1;var W=C.writecb;if(null===W)return this.emit("error",new R);C.writechunk=null,C.writecb=null,null!=te&&this.push(te),W(B);var ce=this._readableState;ce.reading=!1,(ce.needReadable||ce.length<ce.highWaterMark)&&this._read(ce.highWaterMark)}function T(B){if(!(this instanceof T))return new T(B);g.call(this,B),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,B&&("function"==typeof B.transform&&(this._transform=B.transform),"function"==typeof B.flush&&(this._flush=B.flush)),this.on("prefinish",F)}function F(){var B=this;"function"!=typeof this._flush||this._readableState.destroyed?D(this,null,null):this._flush(function(te,C){D(B,te,C)})}function D(B,te,C){if(te)return B.emit("error",te);if(null!=C&&B.push(C),B._writableState.length)throw new P;if(B._transformState.transforming)throw new S;return B.push(null)}m(6698)(T,g),T.prototype.push=function(B,te){return this._transformState.needTransform=!1,g.prototype.push.call(this,B,te)},T.prototype._transform=function(B,te,C){C(new b("_transform()"))},T.prototype._write=function(B,te,C){var W=this._transformState;if(W.writecb=C,W.writechunk=B,W.writeencoding=te,!W.transforming){var ce=this._readableState;(W.needTransform||ce.needReadable||ce.length<ce.highWaterMark)&&this._read(ce.highWaterMark)}},T.prototype._read=function(B){var te=this._transformState;null===te.writechunk||te.transforming?te.needTransform=!0:(te.transforming=!0,this._transform(te.writechunk,te.writeencoding,te.afterTransform))},T.prototype._destroy=function(B,te){g.prototype._destroy.call(this,B,function(C){te(C)})}},7597:(re,q,m)=>{"use strict";function b(O){var se=this;this.next=null,this.entry=null,this.finish=function(){!function H(O,se,j){var Be=O.entry;for(O.entry=null;Be;){var it=Be.callback;se.pendingcb--,it(j),Be=Be.next}se.corkedRequestsFree.next=O}(se,O)}}var R;re.exports=Te,Te.WritableState=ue;var G,S={deprecate:m(496)},P=m(3951),g=m(9007).Buffer,y=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},D=m(3992),te=m(4962).getHighWaterMark,C=m(9555).q,W=C.ERR_INVALID_ARG_TYPE,ce=C.ERR_METHOD_NOT_IMPLEMENTED,Y=C.ERR_MULTIPLE_CALLBACK,ie=C.ERR_STREAM_CANNOT_PIPE,ne=C.ERR_STREAM_DESTROYED,X=C.ERR_STREAM_NULL_VALUES,V=C.ERR_STREAM_WRITE_AFTER_END,v=C.ERR_UNKNOWN_ENCODING,U=D.errorOrDestroy;function k(){}function ue(O,se,j){R=R||m(2232),"boolean"!=typeof j&&(j=se instanceof R),this.objectMode=!!(O=O||{}).objectMode,j&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=te(this,O,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===O.decodeStrings),this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(it){!function Le(O,se){var j=O._writableState,Be=j.sync,it=j.writecb;if("function"!=typeof it)throw new Y;if(function Ee(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}(j),se)!function qe(O,se,j,Be,it){--se.pendingcb,j?(process.nextTick(it,Be),process.nextTick(Ye,O,se),O._writableState.errorEmitted=!0,U(O,Be)):(it(Be),O._writableState.errorEmitted=!0,U(O,Be),Ye(O,se))}(O,j,Be,se,it);else{var he=Se(j)||O.destroyed;!he&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&ge(O,j),Be?process.nextTick(Ne,O,j,he,it):Ne(O,j,he,it)}}(se,it)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==O.emitClose,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new b(this)}function Te(O){var se=this instanceof(R=R||m(2232));if(!se&&!G.call(Te,this))return new Te(O);this._writableState=new ue(O,this,se),this.writable=!0,O&&("function"==typeof O.write&&(this._write=O.write),"function"==typeof O.writev&&(this._writev=O.writev),"function"==typeof O.destroy&&(this._destroy=O.destroy),"function"==typeof O.final&&(this._final=O.final)),P.call(this)}function Je(O,se,j,Be,it,he,Z){se.writelen=Be,se.writecb=Z,se.writing=!0,se.sync=!0,se.destroyed?se.onwrite(new ne("write")):j?O._writev(it,se.onwrite):O._write(it,he,se.onwrite),se.sync=!1}function Ne(O,se,j,Be){j||function ze(O,se){0===se.length&&se.needDrain&&(se.needDrain=!1,O.emit("drain"))}(O,se),se.pendingcb--,Be(),Ye(O,se)}function ge(O,se){se.bufferProcessing=!0;var j=se.bufferedRequest;if(O._writev&&j&&j.next){var it=new Array(se.bufferedRequestCount),he=se.corkedRequestsFree;he.entry=j;for(var Z=0,$=!0;j;)it[Z]=j,j.isBuf||($=!1),j=j.next,Z+=1;it.allBuffers=$,Je(O,se,!0,se.length,it,"",he.finish),se.pendingcb++,se.lastBufferedRequest=null,he.next?(se.corkedRequestsFree=he.next,he.next=null):se.corkedRequestsFree=new b(se),se.bufferedRequestCount=0}else{for(;j;){var E=j.chunk;if(Je(O,se,!1,se.objectMode?1:E.length,E,j.encoding,j.callback),j=j.next,se.bufferedRequestCount--,se.writing)break}null===j&&(se.lastBufferedRequest=null)}se.bufferedRequest=j,se.bufferProcessing=!1}function Se(O){return O.ending&&0===O.length&&null===O.bufferedRequest&&!O.finished&&!O.writing}function Ke(O,se){O._final(function(j){se.pendingcb--,j&&U(O,j),se.prefinished=!0,O.emit("prefinish"),Ye(O,se)})}function Ye(O,se){var j=Se(se);if(j&&(function dt(O,se){!se.prefinished&&!se.finalCalled&&("function"!=typeof O._final||se.destroyed?(se.prefinished=!0,O.emit("prefinish")):(se.pendingcb++,se.finalCalled=!0,process.nextTick(Ke,O,se)))}(O,se),0===se.pendingcb&&(se.finished=!0,O.emit("finish"),se.autoDestroy))){var Be=O._readableState;(!Be||Be.autoDestroy&&Be.endEmitted)&&O.destroy()}return j}m(6698)(Te,P),ue.prototype.getBuffer=function(){for(var se=this.bufferedRequest,j=[];se;)j.push(se),se=se.next;return j},function(){try{Object.defineProperty(ue.prototype,"buffer",{get:S.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(G=Function.prototype[Symbol.hasInstance],Object.defineProperty(Te,Symbol.hasInstance,{value:function(se){return!!G.call(this,se)||this===Te&&se&&se._writableState instanceof ue}})):G=function(se){return se instanceof this},Te.prototype.pipe=function(){U(this,new ie)},Te.prototype.write=function(O,se,j){var Be=this._writableState,it=!1,he=!Be.objectMode&&function F(O){return g.isBuffer(O)||O instanceof y}(O);return he&&!g.isBuffer(O)&&(O=function T(O){return g.from(O)}(O)),"function"==typeof se&&(j=se,se=null),he?se="buffer":se||(se=Be.defaultEncoding),"function"!=typeof j&&(j=k),Be.ending?function le(O,se){var j=new V;U(O,j),process.nextTick(se,j)}(this,j):(he||function we(O,se,j,Be){var it;return null===j?it=new X:"string"!=typeof j&&!se.objectMode&&(it=new W("chunk",["string","Buffer"],j)),!it||(U(O,it),process.nextTick(Be,it),!1)}(this,Be,O,j))&&(Be.pendingcb++,it=function Ie(O,se,j,Be,it,he){if(!j){var Z=function Re(O,se,j){return!O.objectMode&&!1!==O.decodeStrings&&"string"==typeof se&&(se=g.from(se,j)),se}(se,Be,it);Be!==Z&&(j=!0,it="buffer",Be=Z)}var $=se.objectMode?1:Be.length;se.length+=$;var E=se.length<se.highWaterMark;if(E||(se.needDrain=!0),se.writing||se.corked){var N=se.lastBufferedRequest;se.lastBufferedRequest={chunk:Be,encoding:it,isBuf:j,callback:he,next:null},N?N.next=se.lastBufferedRequest:se.bufferedRequest=se.lastBufferedRequest,se.bufferedRequestCount+=1}else Je(O,se,!1,$,Be,it,he);return E}(this,Be,he,O,se,j)),it},Te.prototype.cork=function(){this._writableState.corked++},Te.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&ge(this,O))},Te.prototype.setDefaultEncoding=function(se){if("string"==typeof se&&(se=se.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((se+"").toLowerCase())>-1))throw new v(se);return this._writableState.defaultEncoding=se,this},Object.defineProperty(Te.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Te.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Te.prototype._write=function(O,se,j){j(new ce("_write()"))},Te.prototype._writev=null,Te.prototype.end=function(O,se,j){var Be=this._writableState;return"function"==typeof O?(j=O,O=null,se=null):"function"==typeof se&&(j=se,se=null),null!=O&&this.write(O,se),Be.corked&&(Be.corked=1,this.uncork()),Be.ending||function be(O,se,j){se.ending=!0,Ye(O,se),j&&(se.finished?process.nextTick(j):O.once("finish",j)),se.ended=!0,O.writable=!1}(this,Be,j),this},Object.defineProperty(Te.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Te.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(se){this._writableState&&(this._writableState.destroyed=se)}}),Te.prototype.destroy=D.destroy,Te.prototype._undestroy=D.undestroy,Te.prototype._destroy=function(O,se){se(O)}},2590:(re,q,m)=>{"use strict";var A;function b(V,v,U){return v=function R(V){var v=function S(V,v){if("object"!=typeof V||null===V)return V;var U=V[Symbol.toPrimitive];if(void 0!==U){var k=U.call(V,v||"default");if("object"!=typeof k)return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(V)}(V,"string");return"symbol"==typeof v?v:String(v)}(v),v in V?Object.defineProperty(V,v,{value:U,enumerable:!0,configurable:!0,writable:!0}):V[v]=U,V}var P=m(1227),g=Symbol("lastResolve"),y=Symbol("lastReject"),T=Symbol("error"),F=Symbol("ended"),D=Symbol("lastPromise"),B=Symbol("handlePromise"),te=Symbol("stream");function C(V,v){return{value:V,done:v}}function W(V){var v=V[g];if(null!==v){var U=V[te].read();null!==U&&(V[D]=null,V[g]=null,V[y]=null,v(C(U,!1)))}}function ce(V){process.nextTick(W,V)}var ie=Object.getPrototypeOf(function(){}),ne=Object.setPrototypeOf((b(A={get stream(){return this[te]},next:function(){var v=this,U=this[T];if(null!==U)return Promise.reject(U);if(this[F])return Promise.resolve(C(void 0,!0));if(this[te].destroyed)return new Promise(function(Te,le){process.nextTick(function(){v[T]?le(v[T]):Te(C(void 0,!0))})});var ue,k=this[D];if(k)ue=new Promise(function Y(V,v){return function(U,k){V.then(function(){v[F]?U(C(void 0,!0)):v[B](U,k)},k)}}(k,this));else{var G=this[te].read();if(null!==G)return Promise.resolve(C(G,!1));ue=new Promise(this[B])}return this[D]=ue,ue}},Symbol.asyncIterator,function(){return this}),b(A,"return",function(){var v=this;return new Promise(function(U,k){v[te].destroy(null,function(ue){ue?k(ue):U(C(void 0,!0))})})}),A),ie);re.exports=function(v){var U,k=Object.create(ne,(b(U={},te,{value:v,writable:!0}),b(U,g,{value:null,writable:!0}),b(U,y,{value:null,writable:!0}),b(U,T,{value:null,writable:!0}),b(U,F,{value:v._readableState.endEmitted,writable:!0}),b(U,B,{value:function(G,Te){var le=k[te].read();le?(k[D]=null,k[g]=null,k[y]=null,G(C(le,!1))):(k[g]=G,k[y]=Te)},writable:!0}),U));return k[D]=null,P(v,function(ue){if(ue&&"ERR_STREAM_PREMATURE_CLOSE"!==ue.code){var G=k[y];return null!==G&&(k[D]=null,k[g]=null,k[y]=null,G(ue)),void(k[T]=ue)}var Te=k[g];null!==Te&&(k[D]=null,k[g]=null,k[y]=null,Te(C(void 0,!0))),k[F]=!0}),v.on("readable",ce.bind(null,k)),k}},2998:(re,q,m)=>{"use strict";function A(ce,Y){var ie=Object.keys(ce);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(ce);Y&&(ne=ne.filter(function(X){return Object.getOwnPropertyDescriptor(ce,X).enumerable})),ie.push.apply(ie,ne)}return ie}function b(ce){for(var Y=1;Y<arguments.length;Y++){var ie=null!=arguments[Y]?arguments[Y]:{};Y%2?A(Object(ie),!0).forEach(function(ne){R(ce,ne,ie[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(ie)):A(Object(ie)).forEach(function(ne){Object.defineProperty(ce,ne,Object.getOwnPropertyDescriptor(ie,ne))})}return ce}function R(ce,Y,ie){return(Y=y(Y))in ce?Object.defineProperty(ce,Y,{value:ie,enumerable:!0,configurable:!0,writable:!0}):ce[Y]=ie,ce}function P(ce,Y){for(var ie=0;ie<Y.length;ie++){var ne=Y[ie];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(ce,y(ne.key),ne)}}function y(ce){var Y=function T(ce,Y){if("object"!=typeof ce||null===ce)return ce;var ie=ce[Symbol.toPrimitive];if(void 0!==ie){var ne=ie.call(ce,Y||"default");if("object"!=typeof ne)return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Y?String:Number)(ce)}(ce,"string");return"symbol"==typeof Y?Y:String(Y)}var D=m(9007).Buffer,te=m(9862).inspect,C=te&&te.custom||"inspect";function W(ce,Y,ie){D.prototype.copy.call(ce,Y,ie)}re.exports=function(){function ce(){(function S(ce,Y){if(!(ce instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,ce),this.head=null,this.tail=null,this.length=0}return function g(ce,Y,ie){Y&&P(ce.prototype,Y),ie&&P(ce,ie),Object.defineProperty(ce,"prototype",{writable:!1})}(ce,[{key:"push",value:function(ie){var ne={data:ie,next:null};this.length>0?this.tail.next=ne:this.head=ne,this.tail=ne,++this.length}},{key:"unshift",value:function(ie){var ne={data:ie,next:this.head};0===this.length&&(this.tail=ne),this.head=ne,++this.length}},{key:"shift",value:function(){if(0!==this.length){var ie=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,ie}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ie){if(0===this.length)return"";for(var ne=this.head,X=""+ne.data;ne=ne.next;)X+=ie+ne.data;return X}},{key:"concat",value:function(ie){if(0===this.length)return D.alloc(0);for(var ne=D.allocUnsafe(ie>>>0),X=this.head,V=0;X;)W(X.data,ne,V),V+=X.data.length,X=X.next;return ne}},{key:"consume",value:function(ie,ne){var X;return ie<this.head.data.length?(X=this.head.data.slice(0,ie),this.head.data=this.head.data.slice(ie)):X=ie===this.head.data.length?this.shift():ne?this._getString(ie):this._getBuffer(ie),X}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ie){var ne=this.head,X=1,V=ne.data;for(ie-=V.length;ne=ne.next;){var v=ne.data,U=ie>v.length?v.length:ie;if(V+=U===v.length?v:v.slice(0,ie),0==(ie-=U)){U===v.length?(++X,this.head=ne.next?ne.next:this.tail=null):(this.head=ne,ne.data=v.slice(U));break}++X}return this.length-=X,V}},{key:"_getBuffer",value:function(ie){var ne=D.allocUnsafe(ie),X=this.head,V=1;for(X.data.copy(ne),ie-=X.data.length;X=X.next;){var v=X.data,U=ie>v.length?v.length:ie;if(v.copy(ne,ne.length-ie,0,U),0==(ie-=U)){U===v.length?(++V,this.head=X.next?X.next:this.tail=null):(this.head=X,X.data=v.slice(U));break}++V}return this.length-=V,ne}},{key:C,value:function(ie,ne){return te(this,b(b({},ne),{},{depth:0,customInspect:!1}))}}]),ce}()},3992:re=>{"use strict";function m(P,g){R(P,g),A(P)}function A(P){P._writableState&&!P._writableState.emitClose||P._readableState&&!P._readableState.emitClose||P.emit("close")}function R(P,g){P.emit("error",g)}re.exports={destroy:function q(P,g){var y=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(g?g(P):P&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(R,this,P)):process.nextTick(R,this,P)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(P||null,function(D){!g&&D?y._writableState?y._writableState.errorEmitted?process.nextTick(A,y):(y._writableState.errorEmitted=!0,process.nextTick(m,y,D)):process.nextTick(m,y,D):g?(process.nextTick(A,y),g(D)):process.nextTick(A,y)}),this)},undestroy:function b(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function S(P,g){var y=P._readableState,T=P._writableState;y&&y.autoDestroy||T&&T.autoDestroy?P.destroy(g):P.emit("error",g)}}},1227:(re,q,m)=>{"use strict";var A=m(9555).q.ERR_STREAM_PREMATURE_CLOSE;function R(){}re.exports=function P(g,y,T){if("function"==typeof y)return P(g,null,y);y||(y={}),T=function b(g){var y=!1;return function(){if(!y){y=!0;for(var T=arguments.length,F=new Array(T),D=0;D<T;D++)F[D]=arguments[D];g.apply(this,F)}}}(T||R);var F=y.readable||!1!==y.readable&&g.readable,D=y.writable||!1!==y.writable&&g.writable,B=function(){g.writable||C()},te=g._writableState&&g._writableState.finished,C=function(){D=!1,te=!0,F||T.call(g)},W=g._readableState&&g._readableState.endEmitted,ce=function(){F=!1,W=!0,D||T.call(g)},Y=function(V){T.call(g,V)},ie=function(){var V;return F&&!W?((!g._readableState||!g._readableState.ended)&&(V=new A),T.call(g,V)):D&&!te?((!g._writableState||!g._writableState.ended)&&(V=new A),T.call(g,V)):void 0},ne=function(){g.req.on("finish",C)};return function S(g){return g.setHeader&&"function"==typeof g.abort}(g)?(g.on("complete",C),g.on("abort",ie),g.req?ne():g.on("request",ne)):D&&!g._writableState&&(g.on("end",B),g.on("close",B)),g.on("end",ce),g.on("finish",C),!1!==y.error&&g.on("error",Y),g.on("close",ie),function(){g.removeListener("complete",C),g.removeListener("abort",ie),g.removeListener("request",ne),g.req&&g.req.removeListener("finish",C),g.removeListener("end",B),g.removeListener("close",B),g.removeListener("finish",C),g.removeListener("end",ce),g.removeListener("error",Y),g.removeListener("close",ie)}}},5374:re=>{re.exports=function(){throw new Error("Readable.from is not available in the browser")}},2345:(re,q,m)=>{"use strict";var A,R=m(9555).q,S=R.ERR_MISSING_ARGS,P=R.ERR_STREAM_DESTROYED;function g(C){if(C)throw C}function F(C){C()}function D(C,W){return C.pipe(W)}re.exports=function te(){for(var C=arguments.length,W=new Array(C),ce=0;ce<C;ce++)W[ce]=arguments[ce];var Y=function B(C){return C.length&&"function"==typeof C[C.length-1]?C.pop():g}(W);if(Array.isArray(W[0])&&(W=W[0]),W.length<2)throw new S("streams");var ie,ne=W.map(function(X,V){var v=V<W.length-1;return function T(C,W,ce,Y){Y=function b(C){var W=!1;return function(){W||(W=!0,C.apply(void 0,arguments))}}(Y);var ie=!1;C.on("close",function(){ie=!0}),void 0===A&&(A=m(1227)),A(C,{readable:W,writable:ce},function(X){if(X)return Y(X);ie=!0,Y()});var ne=!1;return function(X){if(!ie&&!ne){if(ne=!0,function y(C){return C.setHeader&&"function"==typeof C.abort}(C))return C.abort();if("function"==typeof C.destroy)return C.destroy();Y(X||new P("pipe"))}}}(X,v,V>0,function(k){ie||(ie=k),k&&ne.forEach(F),!v&&(ne.forEach(F),Y(ie))})});return W.reduce(D)}},4962:(re,q,m)=>{"use strict";var A=m(9555).q.ERR_INVALID_OPT_VALUE;re.exports={getHighWaterMark:function R(S,P,g,y){var T=function b(S,P,g){return null!=S.highWaterMark?S.highWaterMark:P?S[g]:null}(P,y,g);if(null!=T){if(!isFinite(T)||Math.floor(T)!==T||T<0)throw new A(y?g:"highWaterMark",T);return Math.floor(T)}return S.objectMode?16:16384}}},3951:(re,q,m)=>{re.exports=m(2016).EventEmitter},2024:(re,q,m)=>{"use strict";var A=m(4282).Buffer,b=A.isEncoding||function(ne){switch((ne=""+ne)&&ne.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function P(ne){var X;switch(this.encoding=function S(ne){var X=function R(ne){if(!ne)return"utf8";for(var X;;)switch(ne){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return ne;default:if(X)return;ne=(""+ne).toLowerCase(),X=!0}}(ne);if("string"!=typeof X&&(A.isEncoding===b||!b(ne)))throw new Error("Unknown encoding: "+ne);return X||ne}(ne),this.encoding){case"utf16le":this.text=te,this.end=C,X=4;break;case"utf8":this.fillLast=F,X=4;break;case"base64":this.text=W,this.end=ce,X=3;break;default:return this.write=Y,void(this.end=ie)}this.lastNeed=0,this.lastTotal=0,this.lastChar=A.allocUnsafe(X)}function g(ne){return ne<=127?0:ne>>5==6?2:ne>>4==14?3:ne>>3==30?4:ne>>6==2?-1:-2}function F(ne){var X=this.lastTotal-this.lastNeed,V=function T(ne,X,V){if(128!=(192&X[0]))return ne.lastNeed=0,"\ufffd";if(ne.lastNeed>1&&X.length>1){if(128!=(192&X[1]))return ne.lastNeed=1,"\ufffd";if(ne.lastNeed>2&&X.length>2&&128!=(192&X[2]))return ne.lastNeed=2,"\ufffd"}}(this,ne);return void 0!==V?V:this.lastNeed<=ne.length?(ne.copy(this.lastChar,X,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ne.copy(this.lastChar,X,0,ne.length),void(this.lastNeed-=ne.length))}function te(ne,X){if((ne.length-X)%2==0){var V=ne.toString("utf16le",X);if(V){var v=V.charCodeAt(V.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ne[ne.length-2],this.lastChar[1]=ne[ne.length-1],V.slice(0,-1)}return V}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ne[ne.length-1],ne.toString("utf16le",X,ne.length-1)}function C(ne){var X=ne&&ne.length?this.write(ne):"";return this.lastNeed?X+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):X}function W(ne,X){var V=(ne.length-X)%3;return 0===V?ne.toString("base64",X):(this.lastNeed=3-V,this.lastTotal=3,1===V?this.lastChar[0]=ne[ne.length-1]:(this.lastChar[0]=ne[ne.length-2],this.lastChar[1]=ne[ne.length-1]),ne.toString("base64",X,ne.length-V))}function ce(ne){var X=ne&&ne.length?this.write(ne):"";return this.lastNeed?X+this.lastChar.toString("base64",0,3-this.lastNeed):X}function Y(ne){return ne.toString(this.encoding)}function ie(ne){return ne&&ne.length?this.write(ne):""}q.StringDecoder=P,P.prototype.write=function(ne){if(0===ne.length)return"";var X,V;if(this.lastNeed){if(void 0===(X=this.fillLast(ne)))return"";V=this.lastNeed,this.lastNeed=0}else V=0;return V<ne.length?X?X+this.text(ne,V):this.text(ne,V):X||""},P.prototype.end=function B(ne){var X=ne&&ne.length?this.write(ne):"";return this.lastNeed?X+"\ufffd":X},P.prototype.text=function D(ne,X){var V=function y(ne,X,V){var v=X.length-1;if(v<V)return 0;var U=g(X[v]);return U>=0?(U>0&&(ne.lastNeed=U-1),U):--v<V||-2===U?0:(U=g(X[v]))>=0?(U>0&&(ne.lastNeed=U-2),U):--v<V||-2===U?0:(U=g(X[v]))>=0?(U>0&&(2===U?U=0:ne.lastNeed=U-3),U):0}(this,ne,X);if(!this.lastNeed)return ne.toString("utf8",X);this.lastTotal=V;var v=ne.length-(V-this.lastNeed);return ne.copy(this.lastChar,0,v),ne.toString("utf8",X,v)},P.prototype.fillLast=function(ne){if(this.lastNeed<=ne.length)return ne.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ne.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ne.length),this.lastNeed-=ne.length}},4282:(re,q,m)=>{var A=m(9007),b=A.Buffer;function R(P,g){for(var y in P)g[y]=P[y]}function S(P,g,y){return b(P,g,y)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?re.exports=A:(R(A,q),q.Buffer=S),S.prototype=Object.create(b.prototype),R(b,S),S.from=function(P,g,y){if("number"==typeof P)throw new TypeError("Argument must not be a number");return b(P,g,y)},S.alloc=function(P,g,y){if("number"!=typeof P)throw new TypeError("Argument must be a number");var T=b(P);return void 0!==g?"string"==typeof y?T.fill(g,y):T.fill(g):T.fill(0),T},S.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return b(P)},S.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return A.SlowBuffer(P)}},496:re=>{function m(A){try{if(!global.localStorage)return!1}catch{return!1}var b=global.localStorage[A];return null!=b&&"true"===String(b).toLowerCase()}re.exports=function q(A,b){if(m("noDeprecation"))return A;var R=!1;return function S(){if(!R){if(m("throwDeprecation"))throw new Error(b);m("traceDeprecation")?console.trace(b):console.warn(b),R=!0}return A.apply(this,arguments)}}},1171:re=>{"use strict";re.exports=function(q){q.prototype[Symbol.iterator]=function*(){for(let m=this.head;m;m=m.next)yield m.value}}},4439:(re,q,m)=>{"use strict";function A(g){var y=this;if(y instanceof A||(y=new A),y.tail=null,y.head=null,y.length=0,g&&"function"==typeof g.forEach)g.forEach(function(D){y.push(D)});else if(arguments.length>0)for(var T=0,F=arguments.length;T<F;T++)y.push(arguments[T]);return y}function b(g,y,T){var F=y===g.head?new P(T,null,y,g):new P(T,y,y.next,g);return null===F.next&&(g.tail=F),null===F.prev&&(g.head=F),g.length++,F}function R(g,y){g.tail=new P(y,g.tail,null,g),g.head||(g.head=g.tail),g.length++}function S(g,y){g.head=new P(y,null,g.head,g),g.tail||(g.tail=g.head),g.length++}function P(g,y,T,F){if(!(this instanceof P))return new P(g,y,T,F);this.list=F,this.value=g,y?(y.next=this,this.prev=y):this.prev=null,T?(T.prev=this,this.next=T):this.next=null}re.exports=A,A.Node=P,A.create=A,A.prototype.removeNode=function(g){if(g.list!==this)throw new Error("removing node which does not belong to this list");var y=g.next,T=g.prev;return y&&(y.prev=T),T&&(T.next=y),g===this.head&&(this.head=y),g===this.tail&&(this.tail=T),g.list.length--,g.next=null,g.prev=null,g.list=null,y},A.prototype.unshiftNode=function(g){if(g!==this.head){g.list&&g.list.removeNode(g);var y=this.head;g.list=this,g.next=y,y&&(y.prev=g),this.head=g,this.tail||(this.tail=g),this.length++}},A.prototype.pushNode=function(g){if(g!==this.tail){g.list&&g.list.removeNode(g);var y=this.tail;g.list=this,g.prev=y,y&&(y.next=g),this.tail=g,this.head||(this.head=g),this.length++}},A.prototype.push=function(){for(var g=0,y=arguments.length;g<y;g++)R(this,arguments[g]);return this.length},A.prototype.unshift=function(){for(var g=0,y=arguments.length;g<y;g++)S(this,arguments[g]);return this.length},A.prototype.pop=function(){if(this.tail){var g=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,g}},A.prototype.shift=function(){if(this.head){var g=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,g}},A.prototype.forEach=function(g,y){y=y||this;for(var T=this.head,F=0;null!==T;F++)g.call(y,T.value,F,this),T=T.next},A.prototype.forEachReverse=function(g,y){y=y||this;for(var T=this.tail,F=this.length-1;null!==T;F--)g.call(y,T.value,F,this),T=T.prev},A.prototype.get=function(g){for(var y=0,T=this.head;null!==T&&y<g;y++)T=T.next;if(y===g&&null!==T)return T.value},A.prototype.getReverse=function(g){for(var y=0,T=this.tail;null!==T&&y<g;y++)T=T.prev;if(y===g&&null!==T)return T.value},A.prototype.map=function(g,y){y=y||this;for(var T=new A,F=this.head;null!==F;)T.push(g.call(y,F.value,this)),F=F.next;return T},A.prototype.mapReverse=function(g,y){y=y||this;for(var T=new A,F=this.tail;null!==F;)T.push(g.call(y,F.value,this)),F=F.prev;return T},A.prototype.reduce=function(g,y){var T,F=this.head;if(arguments.length>1)T=y;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");F=this.head.next,T=this.head.value}for(var D=0;null!==F;D++)T=g(T,F.value,D),F=F.next;return T},A.prototype.reduceReverse=function(g,y){var T,F=this.tail;if(arguments.length>1)T=y;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");F=this.tail.prev,T=this.tail.value}for(var D=this.length-1;null!==F;D--)T=g(T,F.value,D),F=F.prev;return T},A.prototype.toArray=function(){for(var g=new Array(this.length),y=0,T=this.head;null!==T;y++)g[y]=T.value,T=T.next;return g},A.prototype.toArrayReverse=function(){for(var g=new Array(this.length),y=0,T=this.tail;null!==T;y++)g[y]=T.value,T=T.prev;return g},A.prototype.slice=function(g,y){(y=y||this.length)<0&&(y+=this.length),(g=g||0)<0&&(g+=this.length);var T=new A;if(y<g||y<0)return T;g<0&&(g=0),y>this.length&&(y=this.length);for(var F=0,D=this.head;null!==D&&F<g;F++)D=D.next;for(;null!==D&&F<y;F++,D=D.next)T.push(D.value);return T},A.prototype.sliceReverse=function(g,y){(y=y||this.length)<0&&(y+=this.length),(g=g||0)<0&&(g+=this.length);var T=new A;if(y<g||y<0)return T;g<0&&(g=0),y>this.length&&(y=this.length);for(var F=this.length,D=this.tail;null!==D&&F>y;F--)D=D.prev;for(;null!==D&&F>g;F--,D=D.prev)T.push(D.value);return T},A.prototype.splice=function(g,y,...T){g>this.length&&(g=this.length-1),g<0&&(g=this.length+g);for(var F=0,D=this.head;null!==D&&F<g;F++)D=D.next;var B=[];for(F=0;D&&F<y;F++)B.push(D.value),D=this.removeNode(D);for(null===D&&(D=this.tail),D!==this.head&&D!==this.tail&&(D=D.prev),F=0;F<T.length;F++)D=b(this,D,T[F]);return B},A.prototype.reverse=function(){for(var g=this.head,y=this.tail,T=g;null!==T;T=T.prev){var F=T.prev;T.prev=T.next,T.next=F}return this.head=y,this.tail=g,this};try{m(1171)(A)}catch{}},643:()=>{},9125:()=>{},7670:()=>{},9862:()=>{},964:()=>{},4642:(re,q,m)=>{var A=m(3801);function b(R){var S,P;function g(T,F){try{var D=R[T](F),B=D.value,te=B instanceof A;Promise.resolve(te?B.v:B).then(function(C){if(te){var W="return"===T?"return":"next";if(!B.k||C.done)return g(W,C);C=R[W](C).value}y(D.done?"return":"normal",C)},function(C){g("throw",C)})}catch(C){y("throw",C)}}function y(T,F){switch(T){case"return":S.resolve({value:F,done:!0});break;case"throw":S.reject(F);break;default:S.resolve({value:F,done:!1})}(S=S.next)?g(S.key,S.arg):P=null}this._invoke=function(T,F){return new Promise(function(D,B){var te={key:T,arg:F,resolve:D,reject:B,next:null};P?P=P.next=te:(S=P=te,g(T,F))})},"function"!=typeof R.return&&(this.return=void 0)}b.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},b.prototype.next=function(R){return this._invoke("next",R)},b.prototype.throw=function(R){return this._invoke("throw",R)},b.prototype.return=function(R){return this._invoke("return",R)},re.exports=b,re.exports.__esModule=!0,re.exports.default=re.exports},3801:re=>{re.exports=function q(m,A){this.v=m,this.k=A},re.exports.__esModule=!0,re.exports.default=re.exports},8131:(re,q,m)=>{var A=m(3801);re.exports=function b(R){var S={},P=!1;function g(y,T){return P=!0,T=new Promise(function(F){F(R[y](T))}),{done:!1,value:new A(T,1)}}return S[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},S.next=function(y){return P?(P=!1,y):g("next",y)},"function"==typeof R.throw&&(S.throw=function(y){if(P)throw P=!1,y;return g("throw",y)}),"function"==typeof R.return&&(S.return=function(y){return P?(P=!1,y):g("return",y)}),S},re.exports.__esModule=!0,re.exports.default=re.exports},8237:re=>{function m(A){function b(R){if(Object(R)!==R)return Promise.reject(new TypeError(R+" is not an object."));var S=R.done;return Promise.resolve(R.value).then(function(P){return{value:P,done:S}})}return(m=function(S){this.s=S,this.n=S.next}).prototype={s:null,n:null,next:function(){return b(this.n.apply(this.s,arguments))},return:function(S){var P=this.s.return;return void 0===P?Promise.resolve({value:S,done:!0}):b(P.apply(this.s,arguments))},throw:function(S){var P=this.s.return;return void 0===P?Promise.reject(S):b(P.apply(this.s,arguments))}},new m(A)}re.exports=function q(A){var b,R,S,P=2;for(typeof Symbol<"u"&&(R=Symbol.asyncIterator,S=Symbol.iterator);P--;){if(R&&null!=(b=A[R]))return b.call(A);if(S&&null!=(b=A[S]))return new m(b.call(A));R="@@asyncIterator",S="@@iterator"}throw new TypeError("Object is not async iterable")},re.exports.__esModule=!0,re.exports.default=re.exports},7156:re=>{function q(A,b,R,S,P,g,y){try{var T=A[g](y),F=T.value}catch(D){return void R(D)}T.done?b(F):Promise.resolve(F).then(S,P)}re.exports=function m(A){return function(){var b=this,R=arguments;return new Promise(function(S,P){var g=A.apply(b,R);function y(F){q(g,S,P,y,T,"next",F)}function T(F){q(g,S,P,y,T,"throw",F)}y(void 0)})}},re.exports.__esModule=!0,re.exports.default=re.exports},6737:(re,q,m)=>{var A=m(3801);re.exports=function b(R){return new A(R,0)},re.exports.__esModule=!0,re.exports.default=re.exports},8186:(re,q,m)=>{var A=m(4642);re.exports=function b(R){return function(){return new A(R.apply(this,arguments))}},re.exports.__esModule=!0,re.exports.default=re.exports}},re=>{re(re.s=4167)}]);