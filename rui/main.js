(self.webpackChunkccf_rui=self.webpackChunkccf_rui||[]).push([[179],{822:ee=>{"use strict";ee.exports=m,ee.exports.default=m;var K=1e20;function m(O,g,y,M,U,I){this.fontSize=O||24,this.buffer=void 0===g?3:g,this.cutoff=M||.25,this.fontFamily=U||"sans-serif",this.fontWeight=I||"normal",this.radius=y||8;var F=this.size=this.fontSize+2*this.buffer,J=F+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=F,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(J*J),this.gridInner=new Float64Array(J*J),this.f=new Float64Array(J),this.z=new Float64Array(J+1),this.v=new Uint16Array(J),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(F/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function D(O,g,y,M,U,I){for(var F=0;F<g;F++)C(O,F,g,y,M,U,I);for(var J=0;J<y;J++)C(O,J*g,1,g,M,U,I)}function C(O,g,y,M,U,I,F){var J,E,L,ae;for(I[0]=0,F[0]=-K,F[1]=K,J=0;J<M;J++)U[J]=O[g+J*y];for(J=1,E=0,L=0;J<M;J++){do{L=(U[J]-U[ae=I[E]]+J*J-ae*ae)/(J-ae)/2}while(L<=F[E]&&--E>-1);I[++E]=J,F[E]=L,F[E+1]=K}for(J=0,E=0;J<M;J++){for(;F[E+1]<J;)E++;O[g+J*y]=U[ae=I[E]]+(J-ae)*(J-ae)}}m.prototype._draw=function(O,g){var I,F,J,E,L,ae,Y,q,Z,y=this.ctx.measureText(O),M=y.width,U=2*this.buffer;g&&this.useMetrics?(L=Math.floor(y.actualBoundingBoxAscent),q=this.buffer+Math.ceil(y.actualBoundingBoxAscent),ae=this.buffer,Y=this.buffer,I=(F=Math.min(this.size,Math.ceil(y.actualBoundingBoxRight-y.actualBoundingBoxLeft)))+U,J=(E=Math.min(this.size-ae,Math.ceil(y.actualBoundingBoxAscent+y.actualBoundingBoxDescent)))+U,this.ctx.textBaseline="alphabetic"):(I=F=this.size,J=E=this.size,L=19*this.fontSize/24,ae=Y=0,q=this.middle,this.ctx.textBaseline="middle"),F&&E&&(this.ctx.clearRect(Y,ae,F,E),this.ctx.fillText(O,this.buffer,q),Z=this.ctx.getImageData(Y,ae,F,E));var G=new Uint8ClampedArray(I*J);return function S(O,g,y,M,U,I,F){I.fill(K,0,g*y),F.fill(0,0,g*y);for(var J=(g-M)/2,E=0;E<U;E++)for(var L=0;L<M;L++){var ae=(E+J)*g+L+J,Y=O.data[4*(E*M+L)+3]/255;if(1===Y)I[ae]=0,F[ae]=K;else if(0===Y)I[ae]=K,F[ae]=0;else{var q=Math.max(0,.5-Y),Z=Math.max(0,Y-.5);I[ae]=q*q,F[ae]=Z*Z}}}(Z,I,J,F,E,this.gridOuter,this.gridInner),D(this.gridOuter,I,J,this.f,this.v,this.z),D(this.gridInner,I,J,this.f,this.v,this.z),function b(O,g,y,M,U,I,F){for(var J=0;J<g*y;J++){var E=Math.sqrt(M[J])-Math.sqrt(U[J]);O[J]=Math.round(255-255*(E/I+F))}}(G,I,J,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:G,metrics:{width:F,height:E,sdfWidth:I,sdfHeight:J,top:L,left:0,advance:M}}},m.prototype.draw=function(O){return this._draw(O,!1).data},m.prototype.drawWithMetrics=function(O){return this._draw(O,!0)}},4334:(ee,K,m)=>{"use strict";var S={};m.r(S),m.d(S,{decode:()=>TMe,name:()=>MMe});var b={};m.r(b),m.d(b,{name:()=>PMe,preprocess:()=>NMe});var D={};m.r(D),m.d(D,{name:()=>FMe,preprocess:()=>LMe});var C={};m.r(C),m.d(C,{decode:()=>wTe,encode:()=>xTe,name:()=>yTe,preprocess:()=>vTe});var O={};m.r(O),m.d(O,{decode:()=>MTe,encode:()=>TTe,name:()=>ATe});var g={};m.r(g),m.d(g,{decode:()=>DTe,encode:()=>kTe,name:()=>ITe});var y={};m.r(y),m.d(y,{decode:()=>RTe,encode:()=>PTe,name:()=>OTe});var M={};m.r(M),m.d(M,{delMany:()=>TVe,get:()=>AVe,setMany:()=>MVe});let I=null,J=1;function L(n){const e=I;return I=n,e}function w(n){if((!Qe(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==J)){if(!n.producerMustRecompute(n)&&!ce(n))return n.dirty=!1,void(n.lastCleanEpoch=J);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=J}}function ce(n){Ke(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(w(t),i!==t.version))return!0}return!1}function Ne(n,e){if(function Ie(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ke(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Ne(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Ke(r),r.producerIndexOfThis[i]=e}}function Qe(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ke(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let pt=null;function ye(n){return"function"==typeof n}function je(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const at=je(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function vt(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class wt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(ye(i))try{i()}catch(o){e=o instanceof at?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{ge(o)}catch(s){e=e??[],s instanceof at?e=[...e,...s.errors]:e.push(s)}}if(e)throw new at(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ge(e);else{if(e instanceof wt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&vt(t,e)}remove(e){const{_finalizers:t}=this;t&&vt(t,e),e instanceof wt&&e._removeParent(this)}}wt.EMPTY=(()=>{const n=new wt;return n.closed=!0,n})();const At=wt.EMPTY;function dn(n){return n instanceof wt||n&&"closed"in n&&ye(n.remove)&&ye(n.add)&&ye(n.unsubscribe)}function ge(n){ye(n)?n():n.unsubscribe()}const $={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},oe={setTimeout(n,e,...t){const{delegate:i}=oe;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=oe;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Le(n){oe.setTimeout(()=>{const{onUnhandledError:e}=$;if(!e)throw n;e(n)})}function it(){}const ut=Kn("C",void 0,void 0);function Kn(n,e,t){return{kind:n,value:e,error:t}}let ni=null;function jn(n){if($.useDeprecatedSynchronousErrorHandling){const e=!ni;if(e&&(ni={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=ni;if(ni=null,t)throw i}}else n()}class ur extends wt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dn(e)&&e.add(this)):this.destination=Ol}static create(e,t,i){return new rs(e,t,i)}next(e){this.isStopped?ha(function An(n){return Kn("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ha(function Tt(n){return Kn("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ha(ut,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ta=Function.prototype.bind;function Or(n,e){return Ta.call(n,e)}class is{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){ar(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){ar(i)}else ar(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ar(t)}}}class rs extends ur{constructor(e,t,i){let r;if(super(),ye(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&$.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Or(e.next,o),error:e.error&&Or(e.error,o),complete:e.complete&&Or(e.complete,o)}):r=e}this.destination=new is(r)}}function ar(n){$.useDeprecatedSynchronousErrorHandling?function qn(n){$.useDeprecatedSynchronousErrorHandling&&ni&&(ni.errorThrown=!0,ni.error=n)}(n):Le(n)}function ha(n,e){const{onStoppedNotification:t}=$;t&&oe.setTimeout(()=>t(n,e))}const Ol={closed:!0,next:it,error:function os(n){throw n},complete:it},xc="function"==typeof Symbol&&Symbol.observable||"@@observable";function Wo(n){return n}let $e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function Mn(n){return n&&n instanceof ur||function sn(n){return n&&ye(n.next)&&ye(n.error)&&ye(n.complete)}(n)&&dn(n)}(t)?t:new rs(t,i,r);return jn(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=nn(i))((r,o)=>{const s=new rs({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[xc](){return this}pipe(...t){return function Ge(n){return 0===n.length?Wo:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=nn(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function nn(n){var e;return null!==(e=n??$.Promise)&&void 0!==e?e:Promise}const Rr=je(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Qt=(()=>{class n extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Ja(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Rr}next(t){jn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){jn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){jn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?At:(this.currentObservers=null,o.push(t),new wt(()=>{this.currentObservers=null,vt(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new $e;return t.source=this,t}}return n.create=(e,t)=>new Ja(e,t),n})();class Ja extends Qt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:At}}class tr extends Qt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function Oi(n){return e=>{if(function Za(n){return ye(n?.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function si(n,e,t,i,r){return new Vi(n,e,t,i,r)}class Vi extends ur{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Lt(n,e){return Oi((t,i)=>{let r=0;t.subscribe(si(i,o=>{i.next(n.call(e,o,r++))}))})}function li(n){for(let e in n)if(n[e]===li)return e;throw Error("Could not find renamed property on target object.")}function $o(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ji(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ji).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Co(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const ve=li({__forward_ref__:li});function Ee(n){return n.__forward_ref__=Ee,n.toString=function(){return ji(this())},n}function de(n){return j(n)?n():n}function j(n){return"function"==typeof n&&n.hasOwnProperty(ve)&&n.__forward_ref__===Ee}function ne(n){return n&&!!n.\u0275providers}const Fe="https://g.co/ng/security#xss";class Me extends Error{constructor(e,t){super(function lt(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}const Pt=li({\u0275cmp:li}),Ht=li({\u0275dir:li}),en=li({\u0275pipe:li}),Tn=li({\u0275mod:li}),Rn=li({\u0275fac:li}),fo=li({__NG_ELEMENT_ID__:li}),ao=li({__NG_ENV_ID__:li});function Fn(n){return"string"==typeof n?n:null==n?"":String(n)}function Gs(n,e){throw new Me(-201,!1)}function Ir(n,e){null==n&&function Jn(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function Dt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Sm(n){return mx(n,cr)||mx(n,gx)}function mx(n,e){return n.hasOwnProperty(e)?n[e]:null}function hr(n){return n&&(n.hasOwnProperty(Rb)||n.hasOwnProperty(sT))?n[Rb]:null}const cr=li({\u0275prov:li}),Rb=li({\u0275inj:li}),gx=li({ngInjectableDef:li}),sT=li({ngInjectorDef:li});var Ri=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ri||{});let Pb;function Ss(n){const e=Pb;return Pb=n,e}function bx(n,e,t){const i=Sm(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Ri.Optional?null:void 0!==e?e:void Gs()}const Zi=globalThis;class mt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Dt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qu={},Cc="__NG_DI_FLAG__",Hd="ngTempTokenPath",Nr=/\n/gm,Dm="__source";let Ju;function Nl(n){const e=Ju;return Ju=n,e}function lT(n,e=Ri.Default){if(void 0===Ju)throw new Me(-203,!1);return null===Ju?bx(n,void 0,e):Ju.get(n,e&Ri.Optional?null:void 0,e)}function et(n,e=Ri.Default){return(function _x(){return Pb}()||lT)(de(n),e)}function Ft(n,e=Ri.Default){return et(n,qc(e))}function qc(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ub(n){const e=[];for(let t=0;t<n.length;t++){const i=de(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Me(900,!1);let r,o=Ri.Default;for(let s=0;s<i.length;s++){const a=i[s],c=vx(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(et(r,o))}else e.push(et(i))}return e}function Zu(n,e){return n[Cc]=e,n.prototype[Cc]=e,n}function vx(n){return n[Cc]}function Sc(n){return{toString:n}.toString()}var km=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(km||{}),fa=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(fa||{});const Da={},Yi=[];function zb(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function As(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];Qu(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function Om(n){return 3===n||4===n||6===n}function Qu(n){return 64===n.charCodeAt(0)}function eh(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Hb(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Hb(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const wx="ng-template";function dT(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==zb(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function xx(n){return 4===n.type&&n.value!==wx}function uT(n,e,t){return e===(4!==n.type||t?n.value:wx)}function hT(n,e,t){let i=4;const r=n.attrs||[],o=function Cx(n){for(let e=0;e<n.length;e++)if(Om(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!uT(n,c,t)||""===c&&1===e.length){if(cs(i))return!1;s=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!dT(n.attrs,l,t)){if(cs(i))return!1;s=!0}continue}const h=fT(8&i?"class":c,r,xx(n),t);if(-1===h){if(cs(i))return!1;s=!0;continue}if(""!==l){let p;p=h>o?"":r[h+1].toLowerCase();const _=8&i?p:null;if(_&&-1!==zb(_,l,0)||2&i&&l!==p){if(cs(i))return!1;s=!0}}}}else{if(!s&&!cs(i)&&!cs(c))return!1;if(s&&cs(c))continue;s=!1,i=c|1&i}}return cs(i)||s}function cs(n){return 0==(1&n)}function fT(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Fl(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Ex(n,e,t=!1){for(let i=0;i<e.length;i++)if(hT(n,e[i],t))return!0;return!1}function Rm(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Sx(n,e){return n?":not("+e.trim()+")":e}function pT(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!cs(s)&&(e+=Sx(o,r),r=""),i=s,o=o||!cs(i);t++}return""!==r&&(e+=Sx(o,r)),e}function on(n){return Sc(()=>{const e=ai(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===km.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||fa.Emulated,styles:n.styles||Yi,_:null,schemas:n.schemas||null,tView:null,id:""};Xi(t);const i=n.dependencies;return t.directiveDefs=to(i,!1),t.pipeDefs=to(i,!0),t.id=function Wb(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Ax(n){return ui(n)||dt(n)}function gT(n){return null!==n}function Jt(n){return Sc(()=>({type:n.type,bootstrap:n.bootstrap||Yi,declarations:n.declarations||Yi,imports:n.imports||Yi,exports:n.exports||Yi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Mx(n,e){if(null==n)return Da;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function $t(n){return Sc(()=>{const e=ai(n);return Xi(e),e})}function ls(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ui(n){return n[Pt]||null}function dt(n){return n[Ht]||null}function It(n){return n[en]||null}function ai(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Da,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Yi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mx(n.inputs,e),outputs:Mx(n.outputs),debugInfo:null}}function Xi(n){n.features?.forEach(e=>e(n))}function to(n,e){if(!n)return null;const t=e?It:Ax;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(gT)}const no=0,Zt=1,Un=2,lo=3,ds=4,Ao=5,$s=6,zi=7,vr=8,us=9,pa=10,di=11,wf=12,Tx=13,Jc=14,nr=15,Ll=16,Gd=17,ma=18,nh=19,$b=20,ec=21,xf=22,tc=23,$n=25,ih=1,Ac=7,Zc=9,Fr=10;var Cf=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Cf||{});function hs(n){return Array.isArray(n)&&"object"==typeof n[ih]}function Yo(n){return Array.isArray(n)&&!0===n[ih]}function Yb(n){return 0!=(4&n.flags)}function Wd(n){return n.componentOffset>-1}function io(n){return 1==(1&n.flags)}function wr(n){return!!n.template}function Xb(n){return 0!=(512&n[Un])}function $d(n,e){return n.hasOwnProperty(Rn)?n[Rn]:null}class Dx{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function xr(){return Bl}function Bl(n){return n.type.prototype.ngOnChanges&&(n.setInput=yT),bT}function bT(){const n=Ox(this),e=n?.current;if(e){const t=n.previous;if(t===Da)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function yT(n,e,t,i){const r=this.declaredInputs[t],o=Ox(n)||function vT(n,e){return n[kx]=e}(n,{previous:Da,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new Dx(c&&c.currentValue,e,a===Da),n[i]=e}xr.ngInherit=!0;const kx="__ngSimpleChanges__";function Ox(n){return n[kx]||null}const Mc=function(n,e,t){},Rx="svg";let Nx=!1;function Er(n){for(;Array.isArray(n);)n=n[no];return n}function Df(n,e){return Er(e[n])}function Ms(n,e){return Er(e[n.index])}function kf(n,e){return n.data[e]}function rh(n,e){return n[e]}function Gr(n,e){const t=e[n];return hs(t)?t:t[no]}function ty(n){return 128==(128&n[Un])}function Tc(n,e){return null==e?null:n[e]}function Fx(n){n[Gd]=0}function Lx(n){1024&n[Un]||(n[Un]|=1024,ty(n)&&Xd(n))}function Bx(n){return 9216&n[Un]||n[tc]?.dirty}function iy(n){Bx(n)?Xd(n):64&n[Un]&&(function Qc(){return Nx}()?(n[Un]|=1024,Xd(n)):n[pa].changeDetectionScheduler?.notify())}function Xd(n){n[pa].changeDetectionScheduler?.notify();let e=Kd(n);for(;null!==e&&!(8192&e[Un])&&(e[Un]|=8192,ty(e));)e=Kd(e)}function Kd(n){const e=n[lo];return Yo(e)?e[lo]:e}const Zn={lFrame:ly(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vx(){return Zn.bindingsEnabled}function Jd(){return null!==Zn.skipHydrationRootTNode}function Rt(){return Zn.lFrame.lView}function Li(){return Zn.lFrame.tView}function ii(n){return Zn.lFrame.contextLView=n,n[vr]}function Pn(n){return Zn.lFrame.contextLView=null,n}function ir(){let n=oy();for(;null!==n&&64===n.type;)n=n.parent;return n}function oy(){return Zn.lFrame.currentTNode}function Oa(n,e){const t=Zn.lFrame;t.currentTNode=n,t.isParent=e}function sh(){return Zn.lFrame.isParent}function el(){Zn.lFrame.isParent=!1}function Ts(){const n=Zn.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ra(){return Zn.lFrame.bindingIndex++}function nl(n){const e=Zn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ST(n,e){const t=Zn.lFrame;t.bindingIndex=t.bindingRootIndex=n,Zd(e)}function Zd(n){Zn.lFrame.currentDirectiveIndex=n}function ay(n){const e=Zn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Wx(){return Zn.lFrame.currentQueryIndex}function Pf(n){Zn.lFrame.currentQueryIndex=n}function $x(n){const e=n[Zt];return 2===e.type?e.declTNode:1===e.type?n[Ao]:null}function Yx(n,e,t){if(t&Ri.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&Ri.Host||(r=$x(o),null===r||(o=o[Jc],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Zn.lFrame=Xx();return i.currentTNode=e,i.lView=n,!0}function cy(n){const e=Xx(),t=n[Zt];Zn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Xx(){const n=Zn.lFrame,e=null===n?null:n.child;return null===e?ly(n):e}function ly(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Vm(){const n=Zn.lFrame;return Zn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Kx=Vm;function Nf(){const n=Vm();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Xo(){return Zn.lFrame.selectedIndex}function zl(n){Zn.lFrame.selectedIndex=n}function fr(){const n=Zn.lFrame;return kf(n.tView,n.selectedIndex)}function Qd(){Zn.lFrame.currentNamespace=Rx}function Ff(){!function MT(){Zn.lFrame.currentNamespace=null}()}let Zx=!0;function ah(){return Zx}function il(n){Zx=n}function jm(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function ch(n,e,t){Qx(n,e,3,t)}function hi(n,e,t,i){(3&n[Un])===t&&Qx(n,e,t,i)}function hy(n,e){let t=n[Un];(3&t)===e&&(t&=16383,t+=1,n[Un]=t)}function Qx(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[Gd]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[Gd]+=65536),(a<o||-1==o)&&(eE(n,t,e,c),n[Gd]=(4294901760&n[Gd])+c+2),c++}function lh(n,e){Mc(4,n,e);const t=L(null);try{e.call(n)}finally{L(t),Mc(5,n,e)}}function eE(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Un]>>14<n[Gd]>>16&&(3&n[Un])===e&&(n[Un]+=16384,lh(a,o)):lh(a,o)}const dh=-1;class Lf{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Ic(n){return n!==dh}function eu(n){return 32767&n}function Hl(n,e){let t=function nE(n){return n>>16}(n),i=e;for(;t>0;)i=i[Jc],t--;return i}let Hm=!0;function uh(n){const e=Hm;return Hm=n,e}const Gm=255,Wm=5;let Gl=0;const Dc={};function Bf(n,e){const t=Ym(n,e);if(-1!==t)return t;const i=e[Zt];i.firstCreatePass&&(n.injectorIndex=e.length,$m(i.data,n),$m(e,null),$m(i.blueprint,null));const r=Xm(n,e),o=n.injectorIndex;if(Ic(r)){const s=eu(r),a=Hl(r,e),c=a[Zt].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function $m(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ym(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Xm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=sE(r),null===i)return dh;if(t++,r=r[Jc],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return dh}function my(n,e,t){!function Wl(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(fo)&&(i=t[fo]),null==i&&(i=t[fo]=Gl++);const r=i&Gm;e.data[n+(r>>Wm)]|=1<<r}(n,e,t)}function gy(n,e,t){if(t&Ri.Optional||void 0!==n)return n;Gs()}function _y(n,e,t,i){if(t&Ri.Optional&&void 0===i&&(i=null),!(t&(Ri.Self|Ri.Host))){const r=n[us],o=Ss(void 0);try{return r?r.get(e,i,t&Ri.Optional):bx(e,i,t&Ri.Optional)}finally{Ss(o)}}return gy(i,0,t)}function iE(n,e,t,i=Ri.Default,r){if(null!==n){if(2048&e[Un]&&!(i&Ri.Self)){const s=function Vf(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Un]&&!(512&s[Un]);){const a=by(o,s,t,i|Ri.Self,Dc);if(a!==Dc)return a;let c=o.parent;if(!c){const l=s[$b];if(l){const d=l.get(t,Dc,i);if(d!==Dc)return d}c=sE(s),s=s[Jc]}o=c}return r}(n,e,t,i,Dc);if(s!==Dc)return s}const o=by(n,e,t,i,Dc);if(o!==Dc)return o}return _y(e,t,i,r)}function by(n,e,t,i,r){const o=function kT(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(fo)?n[fo]:void 0;return"number"==typeof e?e>=0?e&Gm:OT:e}(t);if("function"==typeof o){if(!Yx(e,n,i))return i&Ri.Host?gy(r,0,i):_y(e,t,i,r);try{let s;if(s=o(i),null!=s||i&Ri.Optional)return s;Gs()}finally{Kx()}}else if("number"==typeof o){let s=null,a=Ym(n,e),c=dh,l=i&Ri.Host?e[nr][Ao]:null;for((-1===a||i&Ri.SkipSelf)&&(c=-1===a?Xm(n,e):e[a+8],c!==dh&&Uf(i,!1)?(s=e[Zt],a=eu(c),e=Hl(c,e)):a=-1);-1!==a;){const d=e[Zt];if(oE(o,a,d.data)){const h=rE(a,e,t,s,i,l);if(h!==Dc)return h}c=e[a+8],c!==dh&&Uf(i,e[Zt].data[a+8]===l)&&oE(o,a,e)?(s=d,a=eu(c),e=Hl(c,e)):a=-1}}return r}function rE(n,e,t,i,r,o){const s=e[Zt],a=s.data[n+8],d=Ko(a,s,t,null==i?Wd(a)&&Hm:i!=s&&0!=(3&a.type),r&Ri.Host&&o===a);return null!==d?fs(e,s,d,a):Dc}function Ko(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,d=o>>20,p=r?a+d:n.directiveEnd;for(let _=i?a:a+d;_<p;_++){const v=s[_];if(_<c&&t===v||_>=c&&v.type===t)return _}if(r){const _=s[c];if(_&&wr(_)&&_.type===t)return c}return null}function fs(n,e,t,i){let r=n[t];const o=e.data;if(function Pa(n){return n instanceof Lf}(r)){const s=r;s.resolving&&function Cs(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Me(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Si(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Fn(n)}(o[t]));const a=uh(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Ss(s.injectImpl):null;Yx(n,i,Ri.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function uy(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=Bl(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&Ss(l),uh(a),s.resolving=!1,Kx()}}return r}function oE(n,e,t){return!!(t[e+(n>>Wm)]&1<<n)}function Uf(n,e){return!(n&Ri.Self||n&Ri.Host&&e)}class go{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return iE(this._tNode,this._lView,e,qc(i),t)}}function OT(){return new go(ir(),Rt())}function Hi(n){return Sc(()=>{const e=n.prototype.constructor,t=e[Rn]||$l(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Rn]||$l(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function $l(n){return j(n)?()=>{const e=$l(de(n));return e&&e()}:$d(n)}function sE(n){const e=n[Zt],t=e.type;return 2===t?e.declTNode:1===t?n[Ao]:null}function Ks(n){return function DT(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(Om(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(ir(),n)}const rl="__parameters__";function ol(n,e,t){return Sc(()=>{const i=function zf(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,d){const h=c.hasOwnProperty(rl)?c[rl]:Object.defineProperty(c,rl,{value:[]})[rl];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Xl(n,e){n.forEach(t=>Array.isArray(t)?Xl(t,e):e(t))}function Km(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ou(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ga(n,e,t){let i=su(n,e);return i>=0?n[1|i]=t:(i=~i,function qm(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Gf(n,e){const t=su(n,e);if(t>=0)return n[1|t]}function su(n,e){return function dE(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Kl=Zu(ol("Optional"),8),fh=Zu(ol("SkipSelf"),4),ql=new mt("ENVIRONMENT_INITIALIZER"),cu=new mt("INJECTOR",-1),Jm=new mt("INJECTOR_DEF_TYPES");class _a{get(e,t=qu){if(t===qu){const i=new Error(`NullInjectorError: No provider for ${ji(e)}!`);throw i.name="NullInjectorError",i}return t}}function XT(...n){return{\u0275providers:Sy(0,n),\u0275fromNgModule:!0}}function Sy(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Xl(e,s=>{const a=s;Zm(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&_E(r,o),t}function _E(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];Ay(r,o=>{e(o,i)})}}function Zm(n,e,t,i){if(!(n=de(n)))return!1;let r=null,o=hr(n);const s=!o&&ui(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=hr(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)Zm(l,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{Xl(o.imports,d=>{Zm(d,e,t,i)&&(l||=[],l.push(d))})}finally{}void 0!==l&&_E(l,e)}if(!a){const l=$d(r)||(()=>new r);e({provide:r,useFactory:l,deps:Yi},r),e({provide:Jm,useValue:r,multi:!0},r),e({provide:ql,useValue:()=>et(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;Ay(c,d=>{e(d,l)})}}}return r!==n&&void 0!==n.providers}function Ay(n,e){for(let t of n)ne(t)&&(t=t.\u0275providers),Array.isArray(t)?Ay(t,e):e(t)}const KT=li({provide:String,useValue:li});function My(n){return null!==n&&"object"==typeof n&&KT in n}function lu(n){return"function"==typeof n}const Ty=new mt("Set Injector scope."),Xf={},vE={};let Qm;function eg(){return void 0===Qm&&(Qm=new _a),Qm}class La{}class mh extends La{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Iy(e,s=>this.processProvider(s)),this.records.set(cu,gh(void 0,this)),r.has("environment")&&this.records.set(La,gh(void 0,this));const o=this.records.get(Ty);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Jm,Yi,Ri.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Nl(this),i=Ss(void 0);try{return e()}finally{Nl(t),Ss(i)}}get(e,t=qu,i=Ri.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ao))return e[ao](this);i=qc(i);const o=Nl(this),s=Ss(void 0);try{if(!(i&Ri.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Ba(n){return"function"==typeof n||"object"==typeof n&&n instanceof mt}(e)&&Sm(e);c=l&&this.injectableDefInScope(l)?gh(tg(e),Xf):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&Ri.Self?eg():this.parent).get(e,t=i&Ri.Optional&&t===qu?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Hd]=a[Hd]||[]).unshift(ji(e)),o)throw a;return function Vb(n,e,t,i){const r=n[Hd];throw e[Dm]&&r.unshift(e[Dm]),n.message=function jb(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=ji(e);if(Array.isArray(e))r=e.map(ji).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ji(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Nr,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Hd]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Ss(s),Nl(o)}}resolveInjectorInitializers(){const e=Nl(this),t=Ss(void 0);try{const r=this.get(ql,Yi,Ri.Self);for(const o of r)o()}finally{Nl(e),Ss(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(ji(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(e){let t=lu(e=de(e))?e:de(e&&e.provide);const i=function ZT(n){return My(n)?gh(void 0,n.useValue):gh(wE(n),Xf)}(e);if(!lu(e)&&!0===e.multi){let r=this.records.get(t);r||(r=gh(void 0,Xf,!0),r.factory=()=>Ub(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Xf&&(t.value=vE,t.value=t.factory()),"object"==typeof t.value&&t.value&&function eI(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=de(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function tg(n){const e=Sm(n),t=null!==e?e.factory:$d(n);if(null!==t)return t;if(n instanceof mt)throw new Me(204,!1);if(n instanceof Function)return function JT(n){if(n.length>0)throw new Me(204,!1);const t=function oT(n){return n&&(n[cr]||n[gx])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Me(204,!1)}function wE(n,e,t){let i;if(lu(n)){const r=de(n);return $d(r)||tg(r)}if(My(n))i=()=>de(n.useValue);else if(function yE(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ub(n.deps||[]));else if(function bE(n){return!(!n||!n.useExisting)}(n))i=()=>et(de(n.useExisting));else{const r=de(n&&(n.useClass||n.provide));if(!function QT(n){return!!n.deps}(n))return $d(r)||tg(r);i=()=>new r(...Ub(n.deps))}return i}function gh(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Iy(n,e){for(const t of n)Array.isArray(t)?Iy(t,e):t&&ne(t)?Iy(t.\u0275providers,e):e(t)}function EE(n,e=null,t=null,i){const r=CE(n,e,t,i);return r.resolveInjectorInitializers(),r}function CE(n,e=null,t=null,i,r=new Set){const o=[t||Yi,XT(n)];return i=i||("object"==typeof n?void 0:ji(n)),new mh(o,e||eg(),i||null,r)}let Ry,Gi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=qu;static#t=this.NULL=new _a;static create(t,i){if(Array.isArray(t))return EE({name:""},i,t,"");{const r=t.name??"";return EE({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=Dt({token:n,providedIn:"any",factory:()=>et(cu)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();const qf=new mt("AppId",{providedIn:"root",factory:()=>lI}),lI="ng",AE=new mt("Platform Initializer"),ks=new mt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Lr=new mt("AnimationModuleType"),Py=new mt("CSP nonce",{providedIn:"root",factory:()=>function Zl(){if(void 0!==Ry)return Ry;if(typeof document<"u")return document;throw new Me(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Ny(n){return n.ownerDocument.defaultView}function _h(n){return n.ownerDocument}function sg(n){return 128==(128&n.flags)}var ed=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ed||{});const cg=/^>|^->|<!--|-->|--!>|<!-$/g,yI=/(<|>)/g,FE="\u200b$1\u200b";const ep=new Map;let LE=0;const zy="__ngContext__";function ms(n,e){hs(e)?(n[zy]=e[nh],function UE(n){ep.set(n[nh],n)}(e)):n[zy]=e}let Gy;function Wy(n,e){return Gy(n,e)}function gs(n,e,t,i,r){if(null!=i){let o,s=!1;Yo(i)?o=i:hs(i)&&(s=!0,i=i[no]);const a=Er(i);0===n&&null!==t?null==r?Br(e,t,a):Oc(e,t,a,r||null,!0):1===n&&null!==t?Oc(e,t,a,r||null,!0):2===n?function _s(n,e,t){const i=ug(n,e);i&&function $E(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function PI(n,e,t,i,r){const o=t[Ac];o!==Er(t)&&gs(e,n,i,o,r);for(let a=Fr;a<t.length;a++){const c=t[a];fg(c[Zt],c,n,e,i,o)}}(e,n,o,t,r)}}function ll(n,e){return n.createComment(function Vy(n){return n.replace(cg,e=>e.replace(yI,FE))}(e))}function oi(n,e,t){return n.createElement(e,t)}function ro(n,e){e[pa].changeDetectionScheduler?.notify(),fg(n,e,e[di],2,null,null)}function WE(n,e){const t=n[Zc],i=t.indexOf(e);t.splice(i,1)}function np(n,e){if(n.length<=Fr)return;const t=Fr+e,i=n[t];if(i){const r=i[Ll];null!==r&&r!==n&&WE(r,i),e>0&&(n[t-1][ds]=i[ds]);const o=ou(n,Fr+e);!function TI(n,e){ro(n,e),e[no]=null,e[Ao]=null}(i[Zt],i);const s=o[ma];null!==s&&s.detachView(o[Zt]),i[lo]=null,i[ds]=null,i[Un]&=-129}return i}function dg(n,e){if(!(256&e[Un])){const t=e[di];t.destroyNode&&fg(n,e,t,3,null,null),function II(n){let e=n[wf];if(!e)return $y(n[Zt],n);for(;e;){let t=null;if(hs(e))t=e[wf];else{const i=e[Fr];i&&(t=i)}if(!t){for(;e&&!e[ds]&&e!==n;)hs(e)&&$y(e[Zt],e),e=e[lo];null===e&&(e=n),hs(e)&&$y(e[Zt],e),t=e&&e[ds]}e=t}}(e)}}function $y(n,e){if(!(256&e[Un])){e[Un]&=-129,e[Un]|=256,e[tc]&&function be(n){if(Ke(n),Qe(n))for(let e=0;e<n.producerNode.length;e++)Ne(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[tc]),function kI(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Lf)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Mc(4,a,c);try{c.call(a)}finally{Mc(5,a,c)}}else{Mc(4,r,o);try{o.call(r)}finally{Mc(5,r,o)}}}}}(n,e),function Yy(n,e){const t=n.cleanup,i=e[zi];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[zi]=null);const r=e[ec];if(null!==r){e[ec]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[Zt].type&&e[di].destroy();const t=e[Ll];if(null!==t&&Yo(e[lo])){t!==e[lo]&&WE(t,e);const i=e[ma];null!==i&&i.detachView(n)}!function vI(n){ep.delete(n[nh])}(e)}}function oc(n,e,t){return function Xy(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[no];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===fa.None||o===fa.Emulated)return null}return Ms(i,t)}}(n,e.parent,t)}function Oc(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Br(n,e,t){n.appendChild(e,t)}function Wr(n,e,t,i,r){null!==i?Oc(n,e,t,i,r):Br(n,e,t)}function ug(n,e){return n.parentNode(e)}function YE(n,e,t){return KE(n,e,t)}let hg,Os,KE=function XE(n,e,t){return 40&n.type?Ms(n,t):null};function wh(n,e,t,i){const r=oc(n,i,e),o=e[di],a=YE(i.parent||e[Ao],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)Wr(o,r,t[c],a,!1);else Wr(o,r,t,a,!1);void 0!==hg&&hg(o,i,e,t,r)}function ip(n,e){if(null!==e){const t=e.type;if(3&t)return Ms(e,n);if(4&t)return xh(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return ip(n,i);{const r=n[e.index];return Yo(r)?xh(-1,r):Er(r)}}if(32&t)return Wy(e,n)()||Er(n[e.index]);{const i=Ky(n,e);return null!==i?Array.isArray(i)?i[0]:ip(Kd(n[nr]),i):ip(n,e.next)}}return null}function Ky(n,e){return null!==e?n[nr][Ao].projection[e.projection]:null}function xh(n,e){const t=Fr+n+1;if(t<e.length){const i=e[t],r=i[Zt].firstChild;if(null!==r)return ip(i,r)}return e[Ac]}function qy(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&ms(Er(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)qy(n,e,t.child,i,r,o,!1),gs(e,n,r,a,o);else if(32&c){const l=Wy(t,i);let d;for(;d=l();)gs(e,n,r,d,o);gs(e,n,r,a,o)}else 16&c?qE(n,e,i,t,r,o):gs(e,n,r,a,o);t=s?t.projectionNext:t.next}}function fg(n,e,t,i,r,o){qy(t,i,n.firstChild,e,r,o,!1)}function qE(n,e,t,i,r,o){const s=t[nr],c=s[Ao].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)gs(e,n,r,c[l],o);else{let l=c;const d=s[lo];sg(i)&&(l.flags|=128),qy(n,e,l,d,r,o,!0)}}function fi(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Jy(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&As(n,e,i),null!==r&&fi(n,e,r),null!==o&&function dl(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Eh(n){return function pg(){if(void 0===Os&&(Os=null,Zi.trustedTypes))try{Os=Zi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Os}()?.createHTML(n)||n}class pu{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fe})`}}class LI extends pu{getTypeName(){return"HTML"}}class BI extends pu{getTypeName(){return"Style"}}class UI extends pu{getTypeName(){return"Script"}}class VI extends pu{getTypeName(){return"URL"}}class jI extends pu{getTypeName(){return"ResourceURL"}}function ya(n){return n instanceof pu?n.changingThisBreaksApplicationSecurity:n}function Rc(n,e){const t=function Qy(n){return n instanceof pu&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Fe})`)}return t===e}class Zs{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Eh(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class $I{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Eh(e),t}}const XI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rp(n){return(n=String(n)).match(XI)?n:"unsafe:"+n}function ul(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function op(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const t1=ul("area,br,col,hr,img,wbr"),tv=ul("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n1=ul("rp,rt"),_g=op(t1,op(tv,ul("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),op(n1,ul("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),op(n1,tv)),nv=ul("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),r1=op(nv,ul("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ul("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ch=ul("script,style,template");class qI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!_g.hasOwnProperty(t))return this.sanitizedSomething=!0,!Ch.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!r1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;nv[a]&&(c=rp(c)),this.buf.push(" ",s,'="',o1(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();_g.hasOwnProperty(t)&&!t1.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(o1(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const JI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ZI=/([^\#-~ |!])/g;function o1(n){return n.replace(/&/g,"&amp;").replace(JI,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(ZI,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bg;function iv(n,e){let t=null;try{bg=bg||function Mo(n){const e=new $I(n);return function YI(){try{return!!(new window.DOMParser).parseFromString(Eh(""),"text/html")}catch{return!1}}()?new Zs(e):e}(n);let i=e?String(e):"";t=bg.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=bg.getInertBodyElement(i)}while(i!==o);return Eh((new qI).sanitizeChildren(yg(t)||t))}finally{if(t){const i=yg(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function yg(n){return"content"in n&&function QI(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Po=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Po||{});function vg(n){const e=function sp(){const n=Rt();return n&&n[pa].sanitizer}();return e?e.sanitize(Po.URL,n)||"":Rc(n,"URL")?ya(n):rp(Fn(n))}class c1{}let l1=()=>null;function dv(n,e,t=!1){return l1(n,e,t)}class hD{}class f1{}class pD{resolveComponentFactory(e){throw function fD(n){const e=Error(`No component factory found for ${ji(n)}.`);return e.ngComponent=n,e}(e)}}let nd=(()=>{class n{static#e=this.NULL=new pD}return n})();function mD(){return Th(ir(),Rt())}function Th(n,e){return new vn(Ms(n,e))}let vn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=mD}return n})();function gD(n){return n instanceof vn?n.nativeElement:n}class fv{}let Pc=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function _D(){const n=Rt(),t=Gr(ir().index,n);return(hs(t)?t:n)[di]}()}return n})(),bD=(()=>{class n{static#e=this.\u0275prov=Dt({token:n,providedIn:"root",factory:()=>null})}return n})();const pv={};function m1(n){const e=L(null);try{return n()}finally{L(e)}}function Sg(n){return!!function mv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}class u{constructor(){}supports(e){return Sg(e)}create(e){return new x(e)}}const f=(n,e)=>e;class x{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||f}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<nt(i,r,o)?t:i,a=nt(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,d=c-r;if(l!=d){for(let p=0;p<l;p++){const _=p<o.length?o[p]:o[p]=0,v=_+p;d<=v&&v<l&&(o[p]=_+1)}o[s.previousIndex]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Sg(e))throw new Me(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function wD(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new te(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Be),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Be),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class te{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ce{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class Be{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Ce,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nt(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function zt(){return new Yt([new u])}let Yt=(()=>{class n{static#e=this.\u0275prov=Dt({token:n,providedIn:"root",factory:zt});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||zt()),deps:[[n,new fh,new Kl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Me(901,!1)}}return n})();function Vn(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Er(o)),Yo(o)&&Ai(o,i);const s=t.type;if(8&s)Vn(n,e,t.child,i);else if(32&s){const a=Wy(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=Ky(e,t);if(Array.isArray(a))i.push(...a);else{const c=Kd(e[nr]);Vn(c[Zt],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function Ai(n,e){for(let t=Fr;t<n.length;t++){const i=n[t],r=i[Zt].firstChild;null!==r&&Vn(i[Zt],i,r,e)}n[Ac]!==n[no]&&e.push(n[Ac])}let Pi=[];const uo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Xd(n.lView)},consumerOnSignalRead(){this.lView[tc]=this}};function gv(n){return oU(n[wf])}function rU(n){return oU(n[ds])}function oU(n){for(;null!==n&&!Yo(n);)n=n[ds];return n}function xD(n){return n.ngOriginalError}class ac{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&xD(e);for(;t&&xD(t);)t=xD(t);return t||null}}const aU=new mt("",{providedIn:"root",factory:()=>Ft(ac).handleError.bind(void 0)}),lU=new mt("",{providedIn:"root",factory:()=>!1}),pi={};function st(n=1){fU(Li(),Rt(),Xo()+n,!1)}function fU(n,e,t,i){if(!i)if(3==(3&e[Un])){const o=n.preOrderCheckHooks;null!==o&&ch(e,o,t)}else{const o=n.preOrderHooks;null!==o&&hi(e,o,0,t)}zl(t)}function xe(n,e=Ri.Default){const t=Rt();return null===t?et(n,e):iE(ir(),t,de(n),e)}function ED(){throw new Error("invalid")}function _1(n,e,t,i,r,o,s,a,c,l,d){const h=e.blueprint.slice();return h[no]=r,h[Un]=204|i,(null!==l||n&&2048&n[Un])&&(h[Un]|=2048),Fx(h),h[lo]=h[Jc]=n,h[vr]=t,h[pa]=s||n&&n[pa],h[di]=a||n&&n[di],h[us]=c||n&&n[us]||null,h[Ao]=o,h[nh]=function BE(){return LE++}(),h[$s]=d,h[$b]=l,h[nr]=2==e.type?n[nr]:h,h}function Ag(n,e,t,i,r){let o=n.data[e];if(null===o)o=function CD(n,e,t,i,r){const o=oy(),s=sh(),c=n.data[e]=function HQ(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return Jd()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function Rf(){return Zn.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Ys(){const n=Zn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Oa(o,!0),o}function _v(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function pU(n,e,t,i,r){const o=Xo(),s=2&i;try{zl(-1),s&&e.length>$n&&fU(n,e,$n,!1),Mc(s?2:0,r),t(i,r)}finally{zl(o),Mc(s?3:1,r)}}function SD(n,e,t){if(Yb(e)){const i=L(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{L(i)}}}function AD(n,e,t){Vx()&&(function qQ(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Wd(t)&&function iee(n,e,t){const i=Ms(e,n),r=mU(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=b1(n,_1(n,r,null,s,i,e,null,n[pa].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Bf(t,e),ms(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=fs(e,n,a,t);ms(l,e),null!==s&&ree(0,a-r,l,c,0,s),wr(c)&&(Gr(t.index,e)[vr]=fs(e,n,a,t))}}(n,e,t,Ms(t,e)),64==(64&t.flags)&&vU(n,e,t))}function MD(n,e,t=Ms){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function mU(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=TD(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function TD(n,e,t,i,r,o,s,a,c,l,d){const h=$n+i,p=h+r,_=function LQ(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:pi);return t}(h,p),v="function"==typeof l?l():l;return _[Zt]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}let gU=()=>null;function _U(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?bU(t,e,r,o):i.hasOwnProperty(r)&&bU(t,e,i[r],o)}return t}function bU(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function cc(n,e,t,i,r,o,s,a){const c=Ms(e,t);let d,l=e.inputs;!a&&null!=l&&(d=l[i])?(RD(n,t,d,i,r),Wd(e)&&function $Q(n,e){const t=Gr(e,n);16&t[Un]||(t[Un]|=64)}(t,e.index)):3&e.type&&(i=function WQ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function ID(n,e,t,i){if(Vx()){const r=null===i?null:{"":-1},o=function ZQ(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Ex(e,s.selectors,!1))if(i||(i=[]),wr(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),DD(n,e,a.length)}else i.unshift(s),DD(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&yU(n,e,t,s,r,a),r&&function QQ(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new Me(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=eh(t.mergedAttrs,t.attrs)}function yU(n,e,t,i,r,o){for(let l=0;l<i.length;l++)my(Bf(t,e),n,i[l].type);!function tee(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const d=i[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=_v(n,e,i.length,null);for(let l=0;l<i.length;l++){const d=i[l];t.mergedAttrs=eh(t.mergedAttrs,d.hostAttrs),nee(n,t,e,c,d),eee(c,d,r),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function GQ(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let d=e.directiveStart;d<r;d++){const h=o[d],p=t?t.get(h):null,v=p?p.outputs:null;c=_U(h.inputs,d,c,p?p.inputs:null),l=_U(h.outputs,d,l,v);const A=null===c||null===s||xx(e)?null:oee(c,d,s);a.push(A)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function vU(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function AT(){return Zn.lFrame.currentDirectiveIndex}();try{zl(o);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];Zd(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&JQ(c,l)}}finally{zl(-1),Zd(s)}}function JQ(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function DD(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function eee(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;wr(e)&&(t[""]=n)}}function nee(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=$d(r.type)),s=new Lf(o,wr(r),xe);n.blueprint[i]=s,t[i]=s,function XQ(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function KQ(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,_v(n,t,r.hostVars,pi),r)}function id(n,e,t,i,r,o){const s=Ms(n,e);!function kD(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Fn(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[di],s,o,n.value,t,i,r)}function ree(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)wU(i,t,s[a++],s[a++],s[a++])}function wU(n,e,t,i,r){const o=L(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{L(o)}}function oee(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function xU(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function EU(n,e){const t=n.contentQueries;if(null!==t){const i=L(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];Pf(t[r]),a.contentQueries(2,e[s],s)}}}finally{L(i)}}}function b1(n,e){return n[wf]?n[Tx][ds]=e:n[wf]=e,n[Tx]=e,e}function OD(n,e,t){Pf(0);const i=L(null);try{e(n,t)}finally{L(i)}}function CU(n){return n[zi]||(n[zi]=[])}function SU(n){return n.cleanup||(n.cleanup=[])}function AU(n,e,t){return(null===n||wr(n))&&(t=function ey(n){for(;Array.isArray(n);){if("object"==typeof n[ih])return n;n=n[no]}return null}(t[e.index])),t[di]}function y1(n,e){const t=n[us],i=t?t.get(ac,null):null;i&&i.handleError(e)}function RD(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];wU(n.data[s],e[s],i,a,r)}}function gu(n,e,t){const i=Df(e,n);!function GE(n,e,t){n.setValue(e,t)}(n[di],i,t)}function cee(n,e,t,i){const r=e[Un];if(256==(256&r))return;e[pa].inlineEffectRunner?.flush(),cy(e);let s=null,a=null;(function lee(n){return 2!==n.type})(n)&&(a=function va(n){return n[tc]??function Rs(n){const e=Pi.pop()??Object.create(uo);return e.lView=n,e}(n)}(e),s=function H(n){return n&&(n.nextProducerIndex=0),L(n)}(a));try{Fx(e),function Gx(n){return Zn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&pU(n,e,t,2,i);const c=3==(3&r);if(c){const h=n.preOrderCheckHooks;null!==h&&ch(e,h,null)}else{const h=n.preOrderHooks;null!==h&&hi(e,h,0,null),hy(e,0)}if(function dee(n){for(let e=gv(n);null!==e;e=rU(e)){if(!(e[Un]&Cf.HasTransplantedViews))continue;const t=e[Zc];for(let i=0;i<t.length;i++){Lx(t[i])}}}(e),MU(e,0),null!==n.contentQueries&&EU(n,e),c){const h=n.contentCheckHooks;null!==h&&ch(e,h)}else{const h=n.contentHooks;null!==h&&hi(e,h,1),hy(e,1)}!function FQ(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)zl(~r);else{const o=r,s=t[++i],a=t[++i];ST(s,o),a(2,e[o])}}}finally{zl(-1)}}(n,e);const l=n.components;null!==l&&IU(e,l,0);const d=n.viewQuery;if(null!==d&&OD(2,d,i),c){const h=n.viewCheckHooks;null!==h&&ch(e,h)}else{const h=n.viewHooks;null!==h&&hi(e,h,2),hy(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[xf]){for(const h of e[xf])h();e[xf]=null}e[Un]&=-73}catch(c){throw Xd(e),c}finally{null!==a&&(function De(n,e){if(L(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Qe(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ne(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,s),function wa(n){n.lView[tc]!==n&&(n.lView=null,Pi.push(n))}(a)),Nf()}}function MU(n,e){for(let t=gv(n);null!==t;t=rU(t))for(let i=Fr;i<t.length;i++)TU(t[i],e)}function uee(n,e,t){TU(Gr(e,n),t)}function TU(n,e){ty(n)&&ND(n,e)}function ND(n,e){const i=n[Zt],r=n[Un],o=n[tc];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!ce(o)),o&&(o.dirty=!1),n[Un]&=-9217,s)cee(i,n,i.template,n[vr]);else if(8192&r){MU(n,1);const a=i.components;null!==a&&IU(n,a,1)}}function IU(n,e,t){for(let i=0;i<e.length;i++)uee(n,e[i],t)}function bv(n){for(n[pa].changeDetectionScheduler?.notify();n;){n[Un]|=64;const e=Kd(n);if(Xb(n)&&!e)return n;n=e}return null}class yv{get rootNodes(){const e=this._lView,t=e[Zt];return Vn(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vr]}set context(e){this._lView[vr]=e}get destroyed(){return 256==(256&this._lView[Un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[lo];if(Yo(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(np(e,i),ou(t,i))}this._attachedToViewContainer=!1}dg(this._lView[Zt],this._lView)}onDestroy(e){!function Ul(n,e){if(256==(256&n[Un]))throw new Me(911,!1);null===n[ec]&&(n[ec]=[]),n[ec].push(e)}(this._lView,e)}markForCheck(){bv(this._cdRefInjectingView||this._lView)}detach(){this._lView[Un]&=-129}reattach(){iy(this._lView),this._lView[Un]|=128}detectChanges(){this._lView[Un]|=1024,function PD(n,e=!0){const t=n[pa],i=t.rendererFactory;i.begin?.();try{!function aee(n){ND(n,0);let e=0;for(;Bx(n);){if(100===e)throw new Me(103,!1);e++,ND(n,1)}}(n)}catch(o){throw e&&y1(n,o),o}finally{i.end?.(),t.inlineEffectRunner?.flush()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,ro(this._lView[Zt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=e,iy(this._lView)}}let Mi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=hee}return n})();function hee(n){return function fee(n,e,t){if(Wd(n)&&!t){const i=Gr(n.index,e);return new yv(i,i)}return 47&n.type?new yv(e[nr],e):null}(ir(),Rt(),16==(16&n))}const DU=new Set;function up(n){DU.has(n)||(DU.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function LD(n){return e=>{setTimeout(n,void 0,e)}}const Gt=class Eee extends Qt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=LD(o),r&&(r=LD(r)),s&&(s=LD(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof wt&&e.add(a),a}};function kU(...n){}class gn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gt(!1),this.onMicrotaskEmpty=new Gt(!1),this.onStable=new Gt(!1),this.onError=new Gt(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Cee(){const n="function"==typeof Zi.requestAnimationFrame;let e=Zi[n?"requestAnimationFrame":"setTimeout"],t=Zi[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Mee(n){const e=()=>{!function Aee(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Zi,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,UD(n),n.isCheckStableRunning=!0,BD(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),UD(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function Tee(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return OU(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),RU(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return OU(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),RU(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,UD(n),BD(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gn.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(gn.isInAngularZone())throw new Me(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,See,kU,kU);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const See={};function BD(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function UD(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function OU(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function RU(n){n._nesting--,BD(n)}class PU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gt,this.onMicrotaskEmpty=new Gt,this.onStable=new Gt,this.onError=new Gt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let vv=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r();return!!this.handler?.execute()||t.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Dt({token:n,providedIn:"root",factory:()=>new n})}return n})();function Oee(n,e){const t=Gr(e,n),i=t[Zt];!function Ree(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[no];null!==r&&null===t[$s]&&(t[$s]=dv(r,t[us])),VD(i,t,t[vr])}function VD(n,e,t){cy(e);try{const i=n.viewQuery;null!==i&&OD(1,i,t);const r=n.template;null!==r&&pU(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&EU(n,e),n.staticViewQueries&&OD(2,n.viewQuery,t);const o=n.components;null!==o&&function Pee(n,e){for(let t=0;t<e.length;t++)Oee(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Un]&=-5,Nf()}}function v1(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=Co(r,a):2==o&&(i=Co(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class UU extends nd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ui(e);return new wv(t,this.ngModule)}}function VU(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Fee{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=qc(i);const r=this.injector.get(e,pv,i);return r!==pv||t===pv?r:this.parentInjector.get(e,t,i)}}class wv extends f1{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=VU(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return VU(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function mT(n){return n.map(pT).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof La?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Fee(e,o):e,a=s.get(fv,null);if(null===a)throw new Me(407,!1);const h={rendererFactory:a,sanitizer:s.get(bD,null),inlineEffectRunner:null,afterRenderEventManager:s.get(vv,null),changeDetectionScheduler:s.get(c1,null)},p=a.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",v=i?function BQ(n,e,t,i){const o=i.get(lU,!1)||t===fa.ShadowDom,s=n.selectRootElement(e,o);return function UQ(n){gU(n)}(s),s}(p,i,this.componentDef.encapsulation,s):oi(p,_,function Nee(n){const e=n.toLowerCase();return"svg"===e?Rx:"math"===e?"math":null}(_));let A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let P=null;null!==v&&(P=dv(v,s,!0));const X=TD(0,null,null,1,0,null,null,null,null,null,null),Q=_1(null,X,null,A,null,null,h,p,s,null,P);let pe,Re;cy(Q);try{const Ye=this.componentDef;let tt,ht=null;Ye.findHostDirectiveDefs?(tt=[],ht=new Map,Ye.findHostDirectiveDefs(Ye,tt,ht),tt.push(Ye)):tt=[Ye];const Mt=function Bee(n,e){const t=n[Zt],i=$n;return n[i]=e,Ag(t,i,2,"#host",null)}(Q,v),xt=function Uee(n,e,t,i,r,o,s){const a=r[Zt];!function Vee(n,e,t,i){for(const r of n)e.mergedAttrs=eh(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(v1(e,e.mergedAttrs,!0),null!==t&&Jy(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=dv(e,r[us]));const l=o.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const h=_1(r,mU(t),null,d,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&DD(a,n,i.length-1),b1(r,h),r[n.index]=h}(Mt,v,Ye,tt,Q,h,p);Re=kf(X,$n),v&&function zee(n,e,t,i){if(i)As(n,t,["ng-version","17.0.9"]);else{const{attrs:r,classes:o}=function th(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!cs(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&As(n,t,r),o&&o.length>0&&fi(n,t,o.join(" "))}}(p,Ye,v,i),void 0!==t&&function Hee(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Re,this.ngContentSelectors,t),pe=function jee(n,e,t,i,r,o){const s=ir(),a=r[Zt],c=Ms(s,r);yU(a,r,s,t,null,i);for(let d=0;d<t.length;d++)ms(fs(r,a,s.directiveStart+d,s),r);vU(a,r,s),c&&ms(c,r);const l=fs(r,a,s.directiveStart+s.componentOffset,s);if(n[vr]=r[vr]=l,null!==o)for(const d of o)d(l,e);return SD(a,s,n),l}(xt,Ye,tt,ht,Q,[Gee]),VD(X,Q,null)}finally{Nf()}return new Lee(this.componentType,pe,Th(Re,Q),Q,Re)}}class Lee extends hD{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new yv(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;RD(o[Zt],o,r,e,t),this.previousInputValues.set(e,t),bv(Gr(this._tNode.index,o))}}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Gee(){const n=ir();jm(Rt()[Zt],n)}function Ln(n){let e=function jU(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(wr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Me(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=w1(n.inputs),s.inputTransforms=w1(n.inputTransforms),s.declaredInputs=w1(n.declaredInputs),s.outputs=w1(n.outputs);const a=r.hostBindings;a&&Xee(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&$ee(n,c),l&&Yee(n,l),$o(n.inputs,r.inputs),$o(n.declaredInputs,r.declaredInputs),$o(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),$o(s.inputTransforms,r.inputTransforms)),wr(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Ln&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Wee(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=eh(r.hostAttrs,t=eh(t,r.hostAttrs))}}(i)}function w1(n){return n===Da?{}:n===Yi?[]:n}function $ee(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function Yee(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function Xee(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function fl(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function rd(n,e,t){return n[e]=t}function No(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function fp(n,e,t,i){const r=No(n,e,t);return No(n,e+1,i)||r}function Yn(n,e,t,i){const r=Rt();return No(r,Ra(),e)&&(Li(),id(fr(),r,n,e,t,i)),Yn}function Tg(n,e,t,i){return No(n,Ra(),t)?e+Fn(t)+i:pi}function Ig(n,e,t,i,r,o){const a=fp(n,function tl(){return Zn.lFrame.bindingIndex}(),t,r);return nl(2),a?e+Fn(t)+i+Fn(r)+o:pi}function E1(n,e){return n<<17|e<<2}function Ih(n){return n>>17&32767}function jD(n){return 2|n}function pp(n){return(131068&n)>>2}function zD(n,e){return-131069&n|e<<2}function HD(n){return 1|n}function e4(n,e,t,i){const r=n[t+1],o=null===e;let s=i?Ih(r):pp(r),a=!1;for(;0!==s&&(!1===a||o);){const l=n[s+1];ote(n[s],e)&&(a=!0,n[s+1]=i?HD(l):jD(l)),s=i?Ih(l):pp(l)}a&&(n[t+1]=i?jD(r):HD(r))}function ote(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&su(n,e)>=0}const qo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function t4(n){return n.substring(qo.key,qo.keyEnd)}function n4(n,e){const t=qo.textEnd;return t===e?-1:(e=qo.keyEnd=function lte(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,qo.key=e,t),Fg(n,e,t))}function Fg(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function bt(n,e,t){const i=Rt();return No(i,Ra(),e)&&cc(Li(),fr(),i,n,e,i[di],t,!1),bt}function GD(n,e,t,i,r){const s=r?"class":"style";RD(n,t,e.inputs[s],s,i)}function Lg(n,e,t){return ml(n,e,t,!1),Lg}function un(n,e){return ml(n,e,null,!0),un}function _i(n){gl(bte,od,n,!0)}function od(n,e){for(let t=function ate(n){return function r4(n){qo.key=0,qo.keyEnd=0,qo.value=0,qo.valueEnd=0,qo.textEnd=n.length}(n),n4(n,Fg(n,0,qo.textEnd))}(e);t>=0;t=n4(e,t))ga(n,t4(e),!0)}function ml(n,e,t,i){const r=Rt(),o=Li(),s=nl(2);o.firstUpdatePass&&c4(o,n,s,i),e!==pi&&No(r,s,e)&&d4(o,o.data[Xo()],r,r[di],n,r[s+1]=function vte(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ji(ya(n)))),n}(e,t),i,s)}function gl(n,e,t,i){const r=Li(),o=nl(2);r.firstUpdatePass&&c4(r,null,o,i);const s=Rt();if(t!==pi&&No(s,o,t)){const a=r.data[Xo()];if(h4(a,i)&&!a4(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=Co(c,t||"")),GD(r,a,s,t,i)}else!function yte(n,e,t,i,r,o,s,a){r===pi&&(r=Yi);let c=0,l=0,d=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;null!==d||null!==h;){const p=c<r.length?r[c+1]:void 0,_=l<o.length?o[l+1]:void 0;let A,v=null;d===h?(c+=2,l+=2,p!==_&&(v=h,A=_)):null===h||null!==d&&d<h?(c+=2,v=d):(l+=2,v=h,A=_),null!==v&&d4(n,e,t,i,v,A,s,a),d=c<r.length?r[c]:null,h=l<o.length?o[l]:null}}(r,a,s,s[di],s[o+1],s[o+1]=function _te(n,e,t){if(null==t||""===t)return Yi;const i=[],r=ya(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}function a4(n,e){return e>=n.expandoStartIndex}function c4(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Xo()],s=a4(n,t);h4(o,i)&&null===e&&!s&&(e=!1),e=function fte(n,e,t,i){const r=ay(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Ev(t=WD(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=WD(r,n,e,t,i),null===o){let c=function pte(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==pp(i))return n[Ih(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=WD(null,n,e,c[1],i),c=Ev(c,e.attrs,i),function mte(n,e,t,i){n[Ih(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function gte(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Ev(i,n[o].hostAttrs,t);return Ev(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function ite(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Ih(s),c=pp(s);n[i]=t;let d,l=!1;if(Array.isArray(t)?(d=t[1],(null===d||su(t,d)>0)&&(l=!0)):d=t,r)if(0!==c){const p=Ih(n[a+1]);n[i+1]=E1(p,a),0!==p&&(n[p+1]=zD(n[p+1],i)),n[a+1]=function tte(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=E1(a,0),0!==a&&(n[a+1]=zD(n[a+1],i)),a=i;else n[i+1]=E1(c,0),0===a?a=i:n[c+1]=zD(n[c+1],i),c=i;l&&(n[i+1]=jD(n[i+1])),e4(n,d,i,!0),e4(n,d,i,!1),function rte(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&su(o,e)>=0&&(t[i+1]=HD(t[i+1]))}(e,d,n,i,o),s=E1(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function WD(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Ev(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Ev(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ga(n,s,!!t||e[++o]))}return void 0===n?null:n}function bte(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&ga(n,i,t)}function d4(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],d=function nte(n){return 1==(1&n)}(l)?u4(c,e,t,r,pp(l),s):void 0;C1(d)||(C1(o)||function ete(n){return 2==(2&n)}(l)&&(o=u4(c,null,t,r,a,s)),function JE(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:ed.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ed.Important),n.setStyle(t,i,r,o))}}(i,s,Df(Xo(),t),r,o))}function u4(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),d=l?c[1]:c,h=null===d;let p=t[r+1];p===pi&&(p=h?Yi:void 0);let _=h?Gf(p,i):d===i?p:void 0;if(l&&!C1(_)&&(_=Gf(c,i)),C1(_)&&(a=_,s))return a;const v=n[r+1];r=s?Ih(v):pp(v)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Gf(c,i))}return a}function C1(n){return void 0!==n}function h4(n,e){return 0!=(n.flags&(e?8:16))}let y4=()=>null;function Bg(n,e){return y4(n,e)}class Jte{destroy(e){}updateValue(e,t){}swap(e,t){const i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){const s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}}function JD(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function ZD(n,e,t,i){return!(void 0===e||!e.has(i)||(n.attach(t,e.get(i)),e.delete(i),0))}function w4(n,e,t,i,r){if(ZD(n,e,i,t(i,r)))n.updateValue(i,r);else{const o=n.create(i,r);n.attach(i,o)}}function x4(n,e,t,i){const r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}class E4{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),void 0!==this._vMap){const r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}}function Tv(n,e,t,i){const r=e.tView,a=_1(n,r,t,4096&n[Un]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[Ll]=n[e.index];const l=n[ma];return null!==l&&(a[ma]=l.createEmbeddedView(r)),VD(r,a,t),a}function C4(n,e){const t=Fr+e;if(t<n.length)return n[t]}function Ug(n,e){return!e||null===e.firstChild||sg(n)}function Iv(n,e,t,i=!0){const r=e[Zt];if(function td(n,e,t,i){const r=Fr+i,o=t.length;i>0&&(t[r-1][ds]=e),i<o-Fr?(e[ds]=t[r],Km(t,Fr+i,e)):(t.push(e),e[ds]=null),e[lo]=t;const s=e[Ll];null!==s&&t!==s&&function DI(n,e){const t=n[Zc];e[nr]!==e[lo][lo][nr]&&(n[Un]|=Cf.HasTransplantedViews),null===t?n[Zc]=[e]:t.push(e)}(s,e);const a=e[ma];null!==a&&a.insertView(n),iy(e),e[Un]|=128}(r,e,n,t),i){const s=xh(t,n),a=e[di],c=ug(a,n[Ac]);null!==c&&function Js(n,e,t,i,r,o){i[no]=r,i[Ao]=e,fg(n,i,t,1,r,o)}(r,n[Ao],a,e,c,s)}const o=e[$s];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function QD(n,e){const t=np(n,e);return void 0!==t&&dg(t[Zt],t),t}let bs=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Qte}return n})();function Qte(){return M4(ir(),Rt())}const ene=bs,S4=class extends ene{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Th(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){const e=Xm(this._hostTNode,this._hostLView);if(Ic(e)){const t=Hl(e,this._hostLView),i=eu(e);return new go(t[Zt].data[i+8],t)}return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=A4(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Fr}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=Bg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Ug(this._hostTNode,s)),a}createComponent(e,t,i,r,o){const s=e&&!function Hf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const v=t||{};a=v.index,i=v.injector,r=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}const c=s?e:new wv(ui(e)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const A=(s?l:this.parentInjector).get(La,null);A&&(o=A)}const d=ui(c.componentType??{}),h=Bg(this._lContainer,d?.id??null),_=c.create(l,r,h?.firstChild??null,o);return this.insertImpl(_.hostView,a,Ug(this._hostTNode,h)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function ET(n){return Yo(n[lo])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[lo],l=new S4(c,c[Ao],c[lo]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Iv(s,r,o,i),e.attachToViewContainerRef(),Km(ek(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=A4(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=np(this._lContainer,t);i&&(ou(ek(this._lContainer),t),dg(i[Zt],i))}detach(e){const t=this._adjustIndex(e,-1),i=np(this._lContainer,t);return i&&null!=ou(ek(this._lContainer),t)?new yv(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function A4(n){return n[8]}function ek(n){return n[8]||(n[8]=[])}function M4(n,e){let t;const i=e[n.index];return Yo(i)?t=i:(t=xU(i,e,null,n),e[n.index]=t,b1(e,t)),T4(t,e,n,i),new S4(t,n,e)}let T4=function D4(n,e,t,i){if(n[Ac])return;let r;r=8&t.type?Er(i):function tne(n,e){const t=n[di],i=t.createComment(""),r=Ms(e,n);return Oc(t,ug(t,r),i,function OI(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Ac]=r},tk=()=>!1;function an(n,e,t,i,r,o,s,a){const c=Rt(),l=Li(),d=n+$n,h=l.firstCreatePass?function one(n,e,t,i,r,o,s,a,c){const l=e.consts,d=Ag(e,n,4,s||null,Tc(l,a));ID(e,t,d,Tc(l,c)),jm(e,d);const h=d.tView=TD(2,d,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,l,c,e,t,i,r,o,s):l.data[d];Oa(h,!1);const p=k4(l,c,h,n);ah()&&wh(l,c,p,h),ms(p,c);const _=xU(p,c,p,h);return c[d]=_,b1(c,_),function I4(n,e,t){return tk(n,e,t)}(_,h,c),io(h)&&AD(l,c,h),null!=s&&MD(c,h,a),an}let k4=function O4(n,e,t,i){return il(!0),e[di].createComment("")};function Ti(n,e,t){up("NgControlFlow");const i=Rt(),r=Ra(),o=nk(i,$n+n);if(No(i,r,e)){const a=L(null);try{if(QD(o,0),-1!==e){const c=ik(i[Zt],$n+e),l=Bg(o,c.tView.ssrId);Iv(o,Tv(i,c,t,{dehydratedView:l}),0,Ug(c,l))}}finally{L(a)}}else{const a=C4(o,0);void 0!==a&&(a[vr]=t)}}class cne{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-Fr}}function R4(n,e){return e}class dne{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}}class une extends Jte{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Fr}at(e){return this.getLView(e)[vr].$implicit}attach(e,t){const i=t[$s];this.needsIndexUpdate||=e!==this.length,Iv(this.lContainer,t,e,Ug(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,function hne(n,e){return np(n,e)}(this.lContainer,e)}create(e,t){const i=Bg(this.lContainer,this.templateTNode.tView.ssrId);return Tv(this.hostLView,this.templateTNode,new cne(this.lContainer,t,e),{dehydratedView:i})}destroy(e){dg(e[Zt],e)}updateValue(e,t){this.getLView(e)[vr].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[vr].$index=e}getLView(e){return function fne(n,e){return C4(n,e)}(this.lContainer,e)}}function nk(n,e){return n[e]}function ik(n,e){return kf(n,e)}function Xe(n,e,t,i){const r=Rt(),o=Li(),s=$n+n,a=r[di],c=o.firstCreatePass?function Gne(n,e,t,i,r,o){const s=e.consts,c=Ag(e,n,2,i,Tc(s,r));return ID(e,t,c,Tc(s,o)),null!==c.attrs&&v1(c,c.attrs,!1),null!==c.mergedAttrs&&v1(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],l=rV(o,r,c,a,e,n);r[s]=l;const d=io(c);return Oa(c,!0),Jy(a,l,c),32!=(32&c.flags)&&ah()&&wh(o,r,l,c),0===function ry(){return Zn.lFrame.elementDepthCount}()&&ms(l,r),function qd(){Zn.lFrame.elementDepthCount++}(),d&&(AD(o,r,c),SD(o,c,r)),null!==i&&MD(r,c),Xe}function qe(){let n=ir();sh()?el():(n=n.parent,Oa(n,!1));const e=n;(function jx(n){return Zn.skipHydrationRootTNode===n})(e)&&function CT(){Zn.skipHydrationRootTNode=null}(),function ka(){Zn.lFrame.elementDepthCount--}();const t=Li();return t.firstCreatePass&&(jm(t,n),Yb(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function py(n){return 0!=(8&n.flags)}(e)&&GD(t,e,Rt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function tE(n){return 0!=(16&n.flags)}(e)&&GD(t,e,Rt(),e.stylesWithoutHost,!1),qe}function fn(n,e,t,i){return Xe(n,e,t,i),qe(),fn}let rV=(n,e,t,i,r,o)=>(il(!0),oi(i,r,function dy(){return Zn.lFrame.currentNamespace}()));function Rv(n,e,t){const i=Rt(),r=Li(),o=n+$n,s=r.firstCreatePass?function Yne(n,e,t,i,r){const o=e.consts,s=Tc(o,i),a=Ag(e,n,8,"ng-container",s);return null!==s&&v1(a,s,!0),ID(e,t,a,Tc(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];Oa(s,!0);const a=oV(r,i,s,n);return i[o]=a,ah()&&wh(r,i,a,s),ms(a,i),io(s)&&(AD(r,i,s),SD(r,s,i)),null!=t&&MD(i,s),Rv}function Pv(){let n=ir();const e=Li();return sh()?el():(n=n.parent,Oa(n,!1)),e.firstCreatePass&&(jm(e,n),Yb(n)&&e.queries.elementEnd(n)),Pv}function hk(n,e,t){return Rv(n,e,t),Pv(),hk}let oV=(n,e,t,i)=>(il(!0),ll(e[di],""));function $r(){return Rt()}function ea(n,e,t){const i=Rt();return No(i,Ra(),e)&&cc(Li(),fr(),i,n,e,i[di],t,!0),ea}function Nv(n,e,t){const i=Rt();if(No(i,Ra(),e)){const o=Li(),s=fr();cc(o,s,i,n,e,AU(ay(o.data),s,i),t,!0)}return Nv}const gp=void 0;var Jne=["en",[["a","p"],["AM","PM"],gp],[["AM","PM"],gp,gp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gp,"{1} 'at' {0}",gp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qne(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let $g={};function aV(n){return n in $g||($g[n]=Zi.ng&&Zi.ng.common&&Zi.ng.common.locales&&Zi.ng.common.locales[n]),$g[n]}var Ur=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ur||{});const Yg="en-US";let cV=Yg;function Xg(n){return!!n&&"function"==typeof n.then}function RV(n){return!!n&&"function"==typeof n.subscribe}function kt(n,e,t,i){const r=Rt(),o=Li(),s=ir();return PV(o,r,r[di],s,n,e,i),kt}function B1(n,e){const t=ir(),i=Rt(),r=Li();return PV(r,i,AU(ay(r.data),t,i),t,n,e),B1}function PV(n,e,t,i,r,o,s){const a=io(i),l=n.firstCreatePass&&SU(n),d=e[vr],h=CU(e);let p=!0;if(3&i.type||s){const A=Ms(i,e),P=s?s(A):A,X=h.length,Q=s?Re=>s(Er(Re[i.index])):i.index;let pe=null;if(!s&&a&&(pe=function $ie(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[zi],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==pe)(pe.__ngLastListenerFn__||pe).__ngNextListenerFn__=o,pe.__ngLastListenerFn__=o,p=!1;else{o=FV(i,e,d,o,!1);const Re=t.listen(P,r,o);h.push(o,Re),l&&l.push(r,Q,X,X+1)}}else o=FV(i,e,d,o,!1);const _=i.outputs;let v;if(p&&null!==_&&(v=_[r])){const A=v.length;if(A)for(let P=0;P<A;P+=2){const Ye=e[v[P]][v[P+1]].subscribe(o),tt=h.length;h.push(o,Ye),l&&l.push(r,i.index,tt,-(tt+1))}}}function NV(n,e,t,i){try{return Mc(6,e,t),!1!==t(i)}catch(r){return y1(n,r),!1}finally{Mc(7,e,t)}}function FV(n,e,t,i,r){return function o(s){if(s===Function)return i;bv(n.componentOffset>-1?Gr(n.index,e):e);let c=NV(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=NV(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function rn(n=1){return function qx(n){return(Zn.lFrame.contextLView=function ny(n,e){for(;n>0;)e=e[Jc],n--;return e}(n,Zn.lFrame.contextLView))[vr]}(n)}function Yie(n,e){let t=null;const i=function Gb(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?Ex(n,o,!0):Rm(i,o))return r}else t=r}return t}function Qi(n){const e=Rt()[nr][Ao];if(!e.projection){const i=e.projection=function al(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?Yie(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Cn(n,e=0,t){const i=Rt(),r=Li(),o=Ag(r,$n+n,16,null,t||null);null===o.projection&&(o.projection=e),el(),(!i[$s]||Jd())&&32!=(32&o.flags)&&function RI(n,e,t){qE(e[di],0,e,t,oc(n,t,e),YE(t.parent||e[Ao],t,e))}(r,i,o)}function jv(n,e,t){return mk(n,"",e,"",t),jv}function mk(n,e,t,i,r){const o=Rt(),s=Tg(o,e,t,i);return s!==pi&&cc(Li(),fr(),o,n,s,o[di],r,!1),mk}function Yr(n){return rh(function Hx(){return Zn.lFrame.contextLView}(),$n+n)}function Ut(n,e=""){const t=Rt(),i=Li(),r=n+$n,o=i.firstCreatePass?Ag(i,r,1,e,null):i.data[r],s=ej(i,t,o,e,n);t[r]=s,ah()&&wh(i,t,s,o),Oa(o,!1)}let ej=(n,e,t,i,r)=>(il(!0),function lg(n,e){return n.createText(e)}(e[di],i));function Xr(n){return Kr("",n,""),Xr}function Kr(n,e,t){const i=Rt(),r=Tg(i,n,e,t);return r!==pi&&gu(i,Xo(),r),Kr}function U1(n,e,t,i,r){const o=Rt(),s=Ig(o,n,e,t,i,r);return s!==pi&&gu(o,Xo(),s),U1}function gk(n,e,t,i,r){if(n=de(n),Array.isArray(n))for(let o=0;o<n.length;o++)gk(n[o],e,t,i,r);else{const o=Li(),s=Rt(),a=ir();let c=lu(n)?n:de(n.provide);const l=wE(n),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(lu(n)||!n.multi){const _=new Lf(l,r,xe),v=bk(c,e,r?d:d+p,h);-1===v?(my(Bf(a,s),o,c),_k(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[v]=_,s[v]=_)}else{const _=bk(c,e,d+p,h),v=bk(c,e,d,d+p),P=v>=0&&t[v];if(r&&!P||!r&&!(_>=0&&t[_])){my(Bf(a,s),o,c);const X=function lre(n,e,t,i,r){const o=new Lf(n,t,xe);return o.multi=[],o.index=e,o.componentProviders=0,cj(o,r,i&&!t),o}(r?cre:are,t.length,r,i,l);!r&&P&&(t[v].providerFactory=X),_k(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(X),s.push(X)}else _k(o,n,_>-1?_:v,cj(t[r?v:_],l,!r&&i));!r&&i&&P&&t[v].componentProviders++}}}function _k(n,e,t,i){const r=lu(e),o=function qT(n){return!!n.useClass}(e);if(r||o){const c=(o?de(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const d=l.indexOf(t);-1===d?l.push(t,[i,c]):l[d+1].push(i,c)}else l.push(t,c)}}}function cj(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function bk(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function are(n,e,t,i){return yk(this.multi,[])}function cre(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=fs(t,t[Zt],this.providerFactory.index,i);o=a.slice(0,s),yk(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],yk(r,o);return o}function yk(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Gn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function sre(n,e,t){const i=Li();if(i.firstCreatePass){const r=wr(n);gk(t,i.data,i.blueprint,r,!0),gk(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class _p{}class lj{}class vk extends _p{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new UU(this);const r=function hn(n,e){const t=n[Tn]||null;if(!t&&!0===e)throw new Error(`Type ${ji(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function ba(n){return n instanceof Function?n():n}(r.bootstrap),this._r3Injector=CE(e,t,[{provide:_p,useValue:this},{provide:nd,useValue:this.componentFactoryResolver},...i],ji(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class wk extends lj{constructor(e){super(),this.moduleType=e}create(e){return new vk(this.moduleType,e,[])}}class dj extends _p{constructor(e){super(),this.componentFactoryResolver=new UU(this),this.instance=null;const t=new mh([...e.providers,{provide:_p,useValue:this},{provide:nd,useValue:this.componentFactoryResolver}],e.parent||eg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}let hre=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=Sy(0,t.type),r=i.length>0?function uj(n,e,t=null){return new dj({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Dt({token:n,providedIn:"environment",factory:()=>new n(et(La))})}return n})();function kh(n){up("NgStandalone"),n.getStandaloneInjector=e=>e.get(hre).getOrCreateStandaloneInjector(n)}function Ek(n,e,t){const i=Ts()+n,r=Rt();return r[i]===pi?rd(r,i,t?e.call(t):e()):function xv(n,e){return n[e]}(r,i)}function zv(n,e){const t=n[e];return t===pi?void 0:t}function Xn(n,e){const t=Li();let i;const r=n+$n;t.firstCreatePass?(i=function Ore(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=$d(i.type)),a=Ss(xe);try{const c=uh(!1),l=o();return uh(c),function Xie(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,Rt(),r,l),l}finally{Ss(a)}}function ri(n,e,t){const i=n+$n,r=Rt(),o=rh(r,i);return Gv(r,i)?function yj(n,e,t,i,r,o){const s=e+t;return No(n,s,r)?rd(n,s+1,o?i.call(o,r):i(r)):zv(n,s+1)}(r,Ts(),e,o.transform,t,o):o.transform(t)}function Hv(n,e,t,i){const r=n+$n,o=Rt(),s=rh(o,r);return Gv(o,r)?function vj(n,e,t,i,r,o,s){const a=e+t;return fp(n,a,r,o)?rd(n,a+2,s?i.call(s,r,o):i(r,o)):zv(n,a+2)}(o,Ts(),e,s.transform,t,i,s):s.transform(t,i)}function Gv(n,e){return n[Zt].data[e].pure}function Fre(){return this._results[Symbol.iterator]()}class Kg{static#e=Symbol.iterator;get changes(){return this._changes??=new Gt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=Kg.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Fre)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function ps(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function sl(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Va=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Ure}return n})();const Lre=Va,Bre=class extends Lre{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=Tv(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new yv(r)}};function Ure(){return z1(ir(),Rt())}function z1(n,e){return 4&n.type?new Bre(e,n,Th(n,e)):null}class Ck{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ck(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sk{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new Sk(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Tj(e,t).matches&&this.queries[t].setDirty()}}class Cj{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class Ak{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new Ak(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Mk{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Mk(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,Vre(t,o)),this.matchTNodeWithReadOption(e,t,Ko(t,e,o,!1,!1))}else i===Va?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ko(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===vn||r===bs||r===Va&&4&t.type)this.addMatch(t.index,-2);else{const o=Ko(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Vre(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function zre(n,e,t,i){return-1===t?function jre(n,e){return 11&n.type?Th(n,e):4&n.type?z1(n,e):null}(e,n):-2===t?function Hre(n,e,t){return t===vn?Th(e,n):t===Va?z1(e,n):t===bs?M4(e,n):void 0}(n,e,i):fs(n,n[Zt],t,e)}function Sj(n,e,t,i){const r=e[ma].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:zre(e,o[l],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function Tk(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=Sj(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],d=e[-c];for(let h=Fr;h<d.length;h++){const p=d[h];p[Ll]===p[lo]&&Tk(p[Zt],p,l,i)}if(null!==d[Zc]){const h=d[Zc];for(let p=0;p<h.length;p++){const _=h[p];Tk(_[Zt],_,l,i)}}}}}return i}function pn(n){const e=Rt(),t=Li(),i=Wx();Pf(i+1);const r=Tj(t,i);if(n.dirty&&function xT(n){return 4==(4&n[Un])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?Tk(t,e,i,[]):Sj(t,e,r,i);n.reset(o,gD),n.notifyOnChanges()}return!0}return!1}function mi(n,e,t){const i=Li();i.firstCreatePass&&(Mj(i,new Cj(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),Aj(i,Rt(),e)}function Ni(n,e,t,i){const r=Li();if(r.firstCreatePass){const o=ir();Mj(r,new Cj(e,t,i),o.index),function Wre(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}Aj(r,Rt(),t)}function mn(){return function Gre(n,e){return n[ma].queries[e].queryList}(Rt(),Wx())}function Aj(n,e,t){const i=new Kg(4==(4&t));(function zQ(n,e,t,i){const r=CU(e);r.push(t),n.firstCreatePass&&SU(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[ma]&&(e[ma]=new Sk),e[ma].queries.push(new Ck(i))}function Mj(n,e,t){null===n.queries&&(n.queries=new Ak),n.queries.track(new Mk(e,t))}function Tj(n,e){return n.queries.getByIndex(e)}function Oh(n,e){return z1(n,e)}let Zg=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Kj=new mt(""),W1=new mt("");let Fk,Pk=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fk||(function joe(n){Fk=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(et(gn),et(Nk),et(W1))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})(),Nk=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Fk?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Lk=new mt("Application Initializer");let Bk=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Ft(Lk,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Xg(o))t.push(o);else if(RV(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Yv=new mt("appBootstrapListener");function Zj(n,e){return Array.isArray(e)?e.reduce(Zj,n):{...n,...e}}let _u=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ft(aU),this.afterRenderEffectManager=Ft(vv),this.componentTypes=[],this.components=[],this.isStable=Ft(Zg).hasPendingTasks.pipe(Lt(t=>!t)),this._injector=Ft(La)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof f1;if(!this._injector.get(Bk).done)throw!r&&function Ct(n){const e=ui(n)||dt(n)||It(n);return null!==e&&e.standalone}(t),new Me(405,!1);let s;s=r?t:this._injector.get(nd).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Hoe(n){return n.isBoundToModule}(s)?void 0:this._injector.get(_p),l=s.create(Gi.NULL,[],i||s.selector,a),d=l.location.nativeElement,h=l.injector.get(Kj,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),$1(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{try{this.afterRenderEffectManager.execute()}catch(t){this.internalErrorHandler(t)}this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;$1(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(Yv,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$1(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Me(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Woe=(()=>{class n{constructor(){this.zone=Ft(gn),this.applicationRef=Ft(_u)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $oe(){const n=Ft(gn),e=Ft(ac);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Xoe=(()=>{class n{constructor(){this.subscription=new wt,this.initialized=!1,this.zone=Ft(gn),this.pendingTasks=Ft(Zg)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{gn.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{gn.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const sd=new mt("LocaleId",{providedIn:"root",factory:()=>Ft(sd,Ri.Optional|Ri.SkipSelf)||function Koe(){return typeof $localize<"u"&&$localize.locale||Yg}()}),Uk=new mt("PlatformDestroyListeners");let nz=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function Iee(n="zone.js",e){return"noop"===n?new PU:"zone.js"===n?new gn(e):n}(i?.ngZone,function tz(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function ure(n,e,t){return new vk(n,e,t)}(t.moduleType,this.injector,function ez(n){return[{provide:gn,useFactory:n},{provide:ql,multi:!0,useFactory:()=>{const e=Ft(Woe,{optional:!0});return()=>e.initialize()}},{provide:ql,multi:!0,useFactory:()=>{const e=Ft(Xoe);return()=>{e.initialize()}}},{provide:aU,useFactory:$oe}]}(()=>r)),s=o.injector.get(ac,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{$1(this._modules,o),a.unsubscribe()})}),function Jj(n,e,t){try{const i=t();return Xg(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(Bk);return a.runInitializers(),a.donePromise.then(()=>(function lV(n){Ir(n,"Expected localeId to be defined"),"string"==typeof n&&(cV=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(sd,Yg)||Yg),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=Zj({},i);return function zoe(n,e,t){const i=new wk(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(_u);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Me(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Uk,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(et(Gi))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Ph=null;const iz=new mt("AllowMultipleToken");function rz(n,e,t=[]){const i=`Platform: ${e}`,r=new mt(i);return(o=[])=>{let s=Vk();if(!s||s.injector.get(iz,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function Zoe(n){if(Ph&&!Ph.get(iz,!1))throw new Me(400,!1);(function qj(){!function me(n){pt=n}(()=>{throw new Me(600,!1)})})(),Ph=n;const e=n.get(nz);(function sz(n){n.get(AE,null)?.forEach(t=>t())})(n)}(function oz(n=[],e){return Gi.create({name:e,providers:[{provide:Ty,useValue:"platform"},{provide:Uk,useValue:new Set([()=>Ph=null])},...n]})}(a,i))}return function Qoe(n){const e=Vk();if(!e)throw new Me(401,!1);return e}()}}function Vk(){return Ph?.get(nz)??null}const ose=rz(null,"core",[]);let sse=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(et(_u))};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({})}return n})();function Ki(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Iz(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}let Kk=null;function Nh(){return Kk}class Pse{}const Qn=new mt("DocumentToken");let Dz=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:()=>Ft(Nse),providedIn:"platform"})}return n})(),Nse=(()=>{class n extends Dz{constructor(){super(),this._doc=Ft(Qn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nh().getBaseHref(this._doc)}onPopState(t){const i=Nh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Nh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function kz(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oz(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function yp(n){return n&&"?"!==n[0]?"?"+n:n}let tC=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:()=>Ft(Lse),providedIn:"root"})}return n})();const Fse=new mt("appBaseHref");let Lse=(()=>{class n extends tC{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ft(Qn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return kz(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+yp(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+yp(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+yp(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Dz),et(Fse,8))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vp=(()=>{class n{constructor(t){this._subject=new Gt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Vse(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Oz(Rz(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+yp(i))}normalize(t){return n.stripTrailingSlash(function Use(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Rz(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yp(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yp(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=yp;static#t=this.joinWithSlash=kz;static#n=this.stripTrailingSlash=Oz;static#i=this.\u0275fac=function(i){return new(i||n)(et(tC))};static#r=this.\u0275prov=Dt({token:n,factory:()=>function Bse(){return new vp(et(tC))}(),providedIn:"root"})}return n})();function Rz(n){return n.replace(/\/index.html$/,"")}var e_=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}(e_||{});const Xse=function sV(n){return function xa(n){const e=function Zne(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=aV(e);if(t)return t;const i=e.split("-")[0];if(t=aV(i),t)return t;if("en"===i)return Jne;throw new Me(701,!1)}(n)[Ur.PluralCase]};let rO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:function(i){let r=null;return i?r=new i:(o=et(sd),r=new Eae(o)),r;var o},providedIn:"root"})}return n})();let Eae=(()=>{class n extends rO{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(Xse(i||this.locale)(t)){case e_.Zero:return"zero";case e_.One:return"one";case e_.Two:return"two";case e_.Few:return"few";case e_.Many:return"many";default:return"other"}}static#e=this.\u0275fac=function(i){return new(i||n)(et(sd))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();function zz(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const oO=/\s+/,Hz=[];let hC=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=Hz,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(oO):Hz}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(oO):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(oO).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(Pc))};static#t=this.\u0275dir=$t({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Sae{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ja=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Sae(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),Wz(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Wz(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(xe(bs),xe(Va),xe(Yt))};static#t=this.\u0275dir=$t({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Wz(n,e){n.context.$implicit=e.item}let ta=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Aae,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$z("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$z("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(xe(bs),xe(Va))};static#t=this.\u0275dir=$t({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Aae{constructor(){this.$implicit=null,this.ngIf=null}}function $z(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ji(e)}'.`)}let cO=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static#e=this.\u0275fac=function(i){return new(i||n)(xe(bs))};static#t=this.\u0275dir=$t({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[xr]})}return n})();function bl(n,e){return new Me(2100,!1)}class Oae{createSubscription(e,t){return m1(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){m1(()=>e.unsubscribe())}}class Rae{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const Pae=new Rae,Nae=new Oae;let ad=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(Xg(t))return Pae;if(RV(t))return Nae;throw bl()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Mi,16))};static#t=this.\u0275pipe=ls({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Gae=/#/g;let Xz=(()=>{class n{constructor(t){this._localization=t}transform(t,i,r){if(null==t)return"";if("object"!=typeof i||null===i)throw bl();return i[function jz(n,e,t,i){let r=`=${n}`;if(e.indexOf(r)>-1||(r=t.getPluralCategory(n,i),e.indexOf(r)>-1))return r;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(t,Object.keys(i),this._localization,r)].replace(Gae,t.toString())}static#e=this.\u0275fac=function(i){return new(i||n)(xe(rO,16))};static#t=this.\u0275pipe=ls({name:"i18nPlural",type:n,pure:!0,standalone:!0})}return n})(),Kz=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=ls({name:"json",type:n,pure:!1,standalone:!0})}return n})(),ci=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({})}return n})();const Zz="browser",qae="server";function cd(n){return n===Zz}function Zv(n){return n===qae}class Qz{}class xce extends Pse{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fO extends xce{static makeCurrent(){!function Rse(n){Kk||(Kk=n)}(new fO)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ece(){return e0=e0||document.querySelector("base"),e0?e0.getAttribute("href"):null}();return null==t?null:function Cce(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){e0=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zz(document.cookie,e)}}let e0=null,Ace=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();const pO=new mt("EventManagerPlugins");let i8=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new Me(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(et(pO),et(gn))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();class r8{constructor(e){this._doc=e}}const mO="ng-app-id";let o8=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zv(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${mO}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(mO),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(mO,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(qf),et(Py,8),et(ks))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();const gO={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_O=/%COMP%/g,Dce=new mt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function a8(n,e){return e.map(t=>t.replace(_O,n))}let bO=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Zv(a),this.defaultRenderer=new yO(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===fa.ShadowDom&&(i={...i,encapsulation:fa.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof l8?r.applyToHost(t):r instanceof vO&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case fa.Emulated:o=new l8(c,l,i,this.appId,d,s,a,h);break;case fa.ShadowDom:return new Pce(c,l,t,i,s,a,this.nonce,h);default:o=new vO(c,l,i,d,s,a,h)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(et(i8),et(o8),et(qf),et(Dce),et(Qn),et(ks),et(gn),et(Py))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();class yO{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(gO[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(c8(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(c8(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new Me(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=gO[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=gO[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ed.DashCase|ed.Important)?e.style.setProperty(t,i,r&ed.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ed.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Nh().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function c8(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Pce extends yO{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=a8(r.id,r.styles);for(const d of l){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vO extends yO{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?a8(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class l8 extends vO{constructor(e,t,i,r,o,s,a,c){const l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=function kce(n){return"_ngcontent-%COMP%".replace(_O,n)}(l),this.hostAttr=function Oce(n){return"_nghost-%COMP%".replace(_O,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Nce=(()=>{class n extends r8{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();const d8=["alt","control","meta","shift"],Fce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lce={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bce=(()=>{class n extends r8{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nh().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),d8.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=Fce[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),d8.forEach(s=>{s!==r&&(0,Lce[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();const h8=[{provide:ks,useValue:Zz},{provide:AE,useValue:function Uce(){fO.makeCurrent()},multi:!0},{provide:Qn,useFactory:function jce(){return function cI(n){Ry=n}(document),document},deps:[]}],zce=rz(ose,"browser",h8),Hce=new mt(""),f8=[{provide:W1,useClass:class Sce{addToWindow(e){Zi.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Me(5103,!1);return o},Zi.getAllAngularTestabilities=()=>e.getAllTestabilities(),Zi.getAllAngularRootElements=()=>e.getAllRootElements(),Zi.frameworkStabilizers||(Zi.frameworkStabilizers=[]),Zi.frameworkStabilizers.push(i=>{const r=Zi.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Nh().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Kj,useClass:Pk,deps:[gn,Nk,W1]},{provide:Pk,useClass:Pk,deps:[gn,Nk,W1]}],p8=[{provide:Ty,useValue:"root"},{provide:ac,useFactory:function Vce(){return new ac},deps:[]},{provide:pO,useClass:Nce,multi:!0,deps:[Qn,gn,ks]},{provide:pO,useClass:Bce,multi:!0,deps:[Qn]},bO,o8,i8,{provide:fv,useExisting:bO},{provide:Qz,useClass:Ace,deps:[]},[]];let wO=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:qf,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(et(Hce,12))};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[...p8,...f8],imports:[ci,sse]})}return n})();typeof window<"u"&&window;let t_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:function(i){let r=null;return r=i?new(i||n):et(b8),r},providedIn:"root"})}return n})(),b8=(()=>{class n extends t_{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Po.NONE:return i;case Po.HTML:return Rc(i,"HTML")?ya(i):iv(this._doc,String(i)).toString();case Po.STYLE:return Rc(i,"Style")?ya(i):i;case Po.SCRIPT:if(Rc(i,"Script"))return ya(i);throw new Me(5200,!1);case Po.URL:return Rc(i,"URL")?ya(i):rp(String(i));case Po.RESOURCE_URL:if(Rc(i,"ResourceURL"))return ya(i);throw new Me(5201,!1);default:throw new Me(5202,!1)}}bypassSecurityTrustHtml(t){return function zI(n){return new LI(n)}(t)}bypassSecurityTrustStyle(t){return function ev(n){return new BI(n)}(t)}bypassSecurityTrustScript(t){return function HI(n){return new UI(n)}(t)}bypassSecurityTrustUrl(t){return function GI(n){return new VI(n)}(t)}bypassSecurityTrustResourceUrl(t){return function WI(n){return new jI(n)}(t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn))};static#t=this.\u0275prov=Dt({token:n,factory:function(i){let r=null;return r=i?new i:function Kce(n){return new b8(n.get(Qn))}(et(Gi)),r},providedIn:"root"})}return n})();const EO={now:()=>(EO.delegate||Date).now(),delegate:void 0};class wp extends Qt{constructor(e=1/0,t=1/0,i=EO){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function Bt(n,e,t,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}function Bo(n,e){return function(t,i){e(t,i,n)}}function ln(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)}function Lh(n){return this instanceof Lh?(this.v=n,this):new Lh(n)}function E8(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function MO(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const TO=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function C8(n){return ye(n?.then)}function S8(n){return ye(n[xc])}function A8(n){return Symbol.asyncIterator&&ye(n?.[Symbol.asyncIterator])}function M8(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const T8=function ple(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function I8(n){return ye(n?.[T8])}function D8(n){return function x8(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(p){i[p]&&(r[p]=function(_){return new Promise(function(v,A){o.push([p,_,v,A])>1||a(p,_)})})}function a(p,_){try{!function c(p){p.value instanceof Lh?Promise.resolve(p.value.v).then(l,d):h(o[0][2],p)}(i[p](_))}catch(v){h(o[0][3],v)}}function l(p){a("next",p)}function d(p){a("throw",p)}function h(p,_){p(_),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Lh(t.read());if(r)return yield Lh(void 0);yield yield Lh(i)}}finally{t.releaseLock()}})}function k8(n){return ye(n?.getReader)}function yo(n){if(n instanceof $e)return n;if(null!=n){if(S8(n))return function mle(n){return new $e(e=>{const t=n[xc]();if(ye(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(TO(n))return function gle(n){return new $e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(C8(n))return function _le(n){return new $e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Le)})}(n);if(A8(n))return O8(n);if(I8(n))return function ble(n){return new $e(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(k8(n))return function yle(n){return O8(D8(n))}(n)}throw M8(n)}function O8(n){return new $e(e=>{(function vle(n,e){var t,i,r,o;return function v8(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{l(i.next(d))}catch(h){s(h)}}function c(d){try{l(i.throw(d))}catch(h){s(h)}}function l(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=E8(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function wu(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Uo(n,e,t=1/0){return ye(e)?Uo((i,r)=>Lt((o,s)=>e(i,o,r,s))(yo(n(i,r))),t):("number"==typeof e&&(t=e),Oi((i,r)=>function wle(n,e,t,i,r,o,s,a){const c=[];let l=0,d=0,h=!1;const p=()=>{h&&!c.length&&!l&&e.complete()},_=A=>l<i?v(A):c.push(A),v=A=>{o&&e.next(A),l++;let P=!1;yo(t(A,d++)).subscribe(si(e,X=>{r?.(X),o?_(X):e.next(X)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;c.length&&l<i;){const X=c.shift();s?wu(e,s,()=>v(X)):v(X)}p()}catch(X){e.error(X)}}))};return n.subscribe(si(e,_,()=>{h=!0,p()})),()=>{a?.()}}(i,r,n,t)))}function t0(n=1/0){return Uo(Wo,n)}const na=new $e(n=>n.complete());function R8(n){return n&&ye(n.schedule)}function IO(n){return n[n.length-1]}function DO(n){return ye(IO(n))?n.pop():void 0}function n0(n){return R8(IO(n))?n.pop():void 0}function P8(n,e=0){return Oi((t,i)=>{t.subscribe(si(i,r=>wu(i,n,()=>i.next(r),e),()=>wu(i,n,()=>i.complete(),e),r=>wu(i,n,()=>i.error(r),e)))})}function N8(n,e=0){return Oi((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function F8(n,e){if(!n)throw new Error("Iterable cannot be null");return new $e(t=>{wu(t,e,()=>{const i=n[Symbol.asyncIterator]();wu(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function oo(n,e){return e?function Ile(n,e){if(null!=n){if(S8(n))return function Cle(n,e){return yo(n).pipe(N8(e),P8(e))}(n,e);if(TO(n))return function Ale(n,e){return new $e(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(C8(n))return function Sle(n,e){return yo(n).pipe(N8(e),P8(e))}(n,e);if(A8(n))return F8(n,e);if(I8(n))return function Mle(n,e){return new $e(t=>{let i;return wu(t,e,()=>{i=n[T8](),wu(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>ye(i?.return)&&i.return()})}(n,e);if(k8(n))return function Tle(n,e){return F8(D8(n),e)}(n,e)}throw M8(n)}(n,e):yo(n)}function Ps(...n){const e=n0(n),t=function Ele(n,e){return"number"==typeof IO(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?yo(i[0]):t0(t)(oo(i,e)):na}function jr(n,e){return Oi((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(si(i,c=>{r?.unsubscribe();let l=0;const d=o++;yo(n(c,d)).subscribe(r=si(i,h=>i.next(e?e(c,h,d,l++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}const mC={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if(typeof window>"u")return mC.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return mC.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let kO;function Ble(n,e,t){let i=t;return function kle(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((r,o)=>!("*"===r||!function Rle(n,e){if(!kO){const t=Element.prototype;kO=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&kO.call(n,e)}(n,r)||(i=o,0))),i}class Vle{constructor(e,t){this.componentFactory=t.get(nd).resolveComponentFactory(e)}create(e){return new jle(this.componentFactory,e)}}class jle{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new wp(1),this.events=this.eventEmitters.pipe(jr(i=>Ps(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(gn),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=mC.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t,i){this.runInZone(()=>{i&&(t=i.call(this.componentRef?.instance,t)),null!==this.componentRef?function Ple(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=Gi.create({providers:[],parent:this.injector}),i=function Lle(n,e){const t=n.childNodes,i=e.map(()=>[]);let r=-1;e.some((o,s)=>"*"===o&&(r=s,!0));for(let o=0,s=t.length;o<s;++o){const a=t[o],c=Ble(a,e,r);-1!==c&&i[c].push(a)}return i}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(Mi),this.implementsOnChanges=function Ole(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(_u).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e,transform:t})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e),t)}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:i,templateName:r})=>e.instance[i].pipe(Lt(s=>({name:r,value:s}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=mC.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[e];if(i)return void(i.currentValue=t);const r=this.unchangedInputs.has(e),o=r?void 0:this.getInputValue(e);this.inputChanges[e]=new Dx(o,t,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class zle extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}const Gle=new mt("cdk-dir-doc",{providedIn:"root",factory:function Wle(){return Ft(Qn)}}),$le=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let OO,yl=(()=>{class n{constructor(t){this.value="ltr",this.change=new Gt,t&&(this.value=function Yle(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?$le.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(et(Gle,8))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),r0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({})}return n})();try{OO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{OO=!1}let n_,Cr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?cd(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!OO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(et(ks))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const L8=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function B8(){if(n_)return n_;if("object"!=typeof document||!document)return n_=new Set(L8),n_;let n=document.createElement("input");return n_=new Set(L8.filter(e=>(n.setAttribute("type",e),n.type===e))),n_}let o0,xp,RO;function i_(n){return function Xle(){if(null==o0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>o0=!0}))}finally{o0=o0||!1}return o0}()?n:!!n.capture}function Kle(){if(null==xp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return xp=!1,xp;if("scrollBehavior"in document.documentElement.style)xp=!0;else{const n=Element.prototype.scrollTo;xp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return xp}function _C(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function xu(n){return n.composedPath?n.composedPath()[0]:n.target}function PO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function vi(n){return Oi((e,t)=>{yo(n).subscribe(si(t,()=>t.complete(),it)),!t.closed&&e.subscribe(t)})}function Ei(n,e){return Oi((t,i)=>{let r=0;t.subscribe(si(i,o=>n.call(e,o,r++)&&i.next(o)))})}function ld(n={}){const{connector:e=(()=>new Qt),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,d=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},_=()=>{p(),s=c=void 0,d=h=!1},v=()=>{const A=s;_(),A?.unsubscribe()};return Oi((A,P)=>{l++,!h&&!d&&p();const X=c=c??e();P.add(()=>{l--,0===l&&!h&&!d&&(a=NO(v,r))}),X.subscribe(P),!s&&l>0&&(s=new rs({next:Q=>X.next(Q),error:Q=>{h=!0,p(),a=NO(_,t,Q),X.error(Q)},complete:()=>{d=!0,p(),a=NO(_,i),X.complete()}}),yo(A).subscribe(s))})(o)}}function NO(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new rs({next:()=>{i.unsubscribe(),n()}});return yo(e(...t)).subscribe(i)}function Uc(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,ld({connector:()=>new wp(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class Zle{constructor(e){this._box=e,this._destroyed=new Qt,this._resizeSubject=new Qt,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new $e(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Ei(t=>t.some(i=>i.target===e)),Uc({bufferSize:1,refCount:!0}),vi(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Qle=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=Ft(gn)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Zle(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ei(n){return null!=n&&"false"!=`${n}`}function Vo(n,e=0){return function ede(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function bC(n){return Array.isArray(n)?n:[n]}function jo(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Eu(n){return n instanceof vn?n.nativeElement:n}const Cu="*";function Vc(n,e){return{type:7,name:n,definitions:e,options:{}}}function ys(n,e=null){return{type:4,styles:e,timings:n}}function or(n){return{type:6,styles:n,offset:null}}function Do(n,e,t){return{type:0,name:n,styles:e,options:t}}function vs(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function LO(n=null){return{type:9,options:n}}function BO(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}class s0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class U8{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class sde extends wt{constructor(e,t){super()}schedule(e,t=0){return this}}const yC={setInterval(n,e,...t){const{delegate:i}=yC;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=yC;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class VO extends sde{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return yC.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&yC.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,vt(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class a0{constructor(e,t=a0.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}a0.now=EO.now;class jO extends a0{constructor(e,t=a0.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const r_=new jO(VO),ade=r_;function zO(n,e=r_){return Oi((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,d=e.now();if(d<l)return r=this.schedule(void 0,l-d),void i.add(r);a()}t.subscribe(si(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}let V8=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[V8]})}return n})();function In(...n){return oo(n,n0(n))}function Sa(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function pr(n,e,t){const i=ye(n)||e||t?{next:n,error:e,complete:t}:n;return i?Oi((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(si(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Wo}function _r(n){return n<=0?()=>na:Oi((e,t)=>{let i=0;e.subscribe(si(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function $O(n){return Ei((e,t)=>n<=t)}function ia(n,e=Wo){return n=n??xde,Oi((t,i)=>{let r,o=!0;t.subscribe(si(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function xde(n,e){return n===e}const{isArray:Ede}=Array,{getPrototypeOf:Cde,prototype:Sde,keys:Ade}=Object;function G8(n){if(1===n.length){const e=n[0];if(Ede(e))return{args:e,keys:null};if(function Mde(n){return n&&"object"==typeof n&&Cde(n)===Sde}(e)){const t=Ade(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:Tde}=Array;function xC(n){return Lt(e=>function Ide(n,e){return Tde(e)?n(...e):n(e)}(n,e))}function W8(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function zo(...n){const e=n0(n),t=DO(n),{args:i,keys:r}=G8(n);if(0===i.length)return oo([],e);const o=new $e(function Dde(n,e,t=Wo){return i=>{$8(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)$8(e,()=>{const l=oo(n[c],e);let d=!1;l.subscribe(si(i,h=>{o[c]=h,d||(d=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>W8(r,s):Wo));return t?o.pipe(xC(t)):o}function $8(n,e,t){n?wu(t,n,e):e()}function l0(...n){return function kde(){return t0(1)}()(oo(n,n0(n)))}function Zo(...n){const e=n0(n);return Oi((t,i)=>{(e?l0(n,t,e):l0(n,t)).subscribe(i)})}const Y8=new Set;let Cp,Ode=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Pde}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Rde(n,e){if(!Y8.has(n))try{Cp||(Cp=document.createElement("style"),e&&(Cp.nonce=e),Cp.setAttribute("type","text/css"),document.head.appendChild(Cp)),Cp.sheet&&(Cp.sheet.insertRule(`@media ${n} {body{ }}`,0),Y8.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Cr),et(Py,8))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pde(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let X8=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Qt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return K8(bC(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=zo(K8(bC(t)).map(s=>this._registerQuery(s).observable));return o=l0(o.pipe(_r(1)),o.pipe($O(1),zO(0))),o.pipe(Lt(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new $e(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Zo(i),Lt(({matches:s})=>({query:t,matches:s})),vi(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(et(Ode),et(gn))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function K8(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function EC(n,e,t){const i=CC(n,e);t=t.trim(),!i.some(r=>r.trim()===t)&&(i.push(t),n.setAttribute(e,i.join(" ")))}function s_(n,e,t){const i=CC(n,e);t=t.trim();const r=i.filter(o=>o!==t);r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}function CC(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}const J8="cdk-describedby-message",SC="cdk-describedby-host";let YO=0,Fde=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+YO++,this._document=t,this._id=Ft(qf)+"-"+YO++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const o=XO(i,r);"string"!=typeof i?(Z8(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const o=XO(i,r);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${SC}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(SC);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");Z8(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(XO(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=CC(t,"aria-describedby").filter(r=>0!=r.indexOf(J8));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);EC(t,"aria-describedby",r.messageElement.id),t.setAttribute(SC,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,s_(t,"aria-describedby",r.messageElement.id),t.removeAttribute(SC)}_isElementDescribedByMessage(t,i){const r=CC(t,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=t.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(Cr))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XO(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function Z8(n,e){n.id||(n.id=`${J8}-${e}-${YO++}`)}class Q8{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Qt,this._typeaheadSubscription=wt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Qt,this.change=new Qt,e instanceof Kg&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(pr(t=>this._pressedLetters.push(t)),zO(e),Ei(()=>this._pressedLetters.length>0),Lt(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||Sa(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Kg?this._items.toArray():this._items}}class e5 extends Q8{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class t5 extends Q8{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let KO=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Bde(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Lde(n){try{return n.frameElement}catch{return null}}(function $de(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===i5(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=i5(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Gde(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function Wde(n){return!function Vde(n){return function zde(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Ude(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function jde(n){return function Hde(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||n5(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(et(Cr))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n5(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function i5(n){if(!n5(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Yde{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(_r(1)).subscribe(e)}}let r5=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Yde(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(et(KO),et(gn),et(Qn))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function o5(n){return 0===n.buttons||0===n.detail}function s5(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Xde=new mt("cdk-input-modality-detector-options"),Kde={ignoreKeys:[18,17,224,91,16]},a_=i_({passive:!0,capture:!0});let qde=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new tr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=xu(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(o5(s)?"keyboard":"mouse"),this._mostRecentTarget=xu(s))},this._onTouchstart=s=>{s5(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=xu(s))},this._options={...Kde,...o},this.modalityDetected=this._modality.pipe($O(1)),this.modalityChanged=this.modalityDetected.pipe(ia()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,a_),r.addEventListener("mousedown",this._onMousedown,a_),r.addEventListener("touchstart",this._onTouchstart,a_)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,a_),document.removeEventListener("mousedown",this._onMousedown,a_),document.removeEventListener("touchstart",this._onTouchstart,a_))}static#e=this.\u0275fac=function(i){return new(i||n)(et(Cr),et(gn),et(Qn),et(Xde,8))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Jde=new mt("liveAnnouncerElement",{providedIn:"root",factory:function Zde(){return null}}),Qde=new mt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let eue=0,c5=(()=>{class n{constructor(t,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+eue++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static#e=this.\u0275fac=function(i){return new(i||n)(et(Jde,8),et(gn),et(Qn),et(Qde,8))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const tue=new mt("cdk-focus-monitor-default-options"),AC=i_({passive:!0,capture:!0});let Su=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Qt,this._rootNodeFocusAndBlurListener=a=>{for(let l=xu(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=Eu(t);if(!this._platform.isBrowser||1!==r.nodeType)return In();const o=function Jle(n){if(function qle(){if(null==RO){const n=typeof document<"u"?document.head:null;RO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return RO}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new Qt,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Eu(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Eu(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=xu(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,AC),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,AC)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(vi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,AC),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,AC),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(et(gn),et(Cr),et(qde),et(Qn,8),et(tue,8))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const l5="cdk-high-contrast-black-on-white",d5="cdk-high-contrast-white-on-black",qO="cdk-high-contrast-active";let u5=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Ft(X8).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(qO,l5,d5),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(qO,l5):2===i&&t.add(qO,d5)}}static#e=this.\u0275fac=function(i){return new(i||n)(et(Cr),et(Qn))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),h5=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(et(u5))};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[HO]})}return n})();const nue=["text"];function iue(n,e){if(1&n&&fn(0,"mat-pseudo-checkbox",6),2&n){const t=rn();bt("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function rue(n,e){1&n&&fn(0,"mat-pseudo-checkbox",7),2&n&&bt("disabled",rn().disabled)}function oue(n,e){if(1&n&&(Xe(0,"span",8),Ut(1),qe()),2&n){const t=rn();st(),Kr("(",t.group.label,")")}}const sue=[[["mat-icon"]],"*"],aue=["mat-icon","*"],lue=new mt("mat-sanity-checks",{providedIn:"root",factory:function cue(){return!0}});let Bi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!PO()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(et(u5),et(lue,8),et(Qn))};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[r0,r0]})}return n})();function m5(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=ei(e)}constructor(...e){super(...e),this._disabled=!1}}}function JO(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function MC(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ei(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function c_(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Vo(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function ZO(n){return class extends n{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let TC=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class uue{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const g5=i_({passive:!0,capture:!0});class hue{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=xu(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,g5)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,g5)))}}const _5={enterDuration:225,exitDuration:150},b5=i_({passive:!0,capture:!0}),y5=["mousedown","touchstart"],v5=["mouseup","mouseleave","touchend","touchcancel"];class u0{static#e=this._eventManager=new hue;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Eu(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={..._5,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function pue(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=c-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const h=window.getComputedStyle(d),_=h.transitionDuration,v="none"===h.transitionProperty||"0s"===_||"0s, 0s"===_||0===r.width&&0===r.height,A=new uue(this,d,i,v);d.style.transform="scale3d(1, 1, 1)",A.state=0,i.persistent||(this._mostRecentTransientRipple=A);let P=null;return!v&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const X=()=>this._finishRippleTransition(A),Q=()=>this._destroyRipple(A);d.addEventListener("transitionend",X),d.addEventListener("transitioncancel",Q),P={onTransitionEnd:X,onTransitionCancel:Q}}),this._activeRipples.set(A,P),(v||!l)&&this._finishRippleTransition(A),A}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={..._5,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Eu(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,y5.forEach(i=>{u0._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{v5.forEach(t=>{this._triggerElement.addEventListener(t,this,b5)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=o5(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!s5(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(y5.forEach(t=>u0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&v5.forEach(t=>e.removeEventListener(t,this,b5)))}}const Bh=new mt("mat-ripple-global-options");let za=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new u0(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(gn),xe(Cr),xe(Bh,8),xe(Lr,8))};static#t=this.\u0275dir=$t({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&un("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),Ha=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[Bi,Bi]})}return n})(),mue=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Lr,8))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&un("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),w5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[Bi]})}return n})();const QO=new mt("MAT_OPTION_PARENT_COMPONENT"),eR=new mt("MatOptgroup");let gue=0;class x5{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let h0=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=t}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,i,r,o){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+gue++,this.onSelectionChange=new Gt,this._stateChanges=new Qt}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Sa(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new x5(this,t))}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(Mi),xe(QO,8),xe(eR,8))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(1&i&&mi(nue,7),2&i){let o;pn(o=mn())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&kt("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(ea("id",r.id),Yn("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),un("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:["disabled","disabled",Ki]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],features:[fl],ngContentSelectors:aue,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled"],["class","cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(Qi(sue),an(0,iue,1,2,"mat-pseudo-checkbox",0),Cn(1),Xe(2,"span",1,2),Cn(4,1),qe(),an(5,rue,1,1,"mat-pseudo-checkbox",3)(6,oue,2,1,"span",4),fn(7,"div",5)),2&i&&(Ti(0,r.multiple?0:-1),st(5),Ti(5,r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),st(),Ti(6,r.group&&r.group._inert?6:-1),st(),bt("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[za,mue],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();let IC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[Ha,Bi,w5]})}return n})();const S5={capture:!0},A5=["focus","click","mouseenter","touchstart"],tR="mat-ripple-loader-uninitialized",nR="mat-ripple-loader-class-name",M5="mat-ripple-loader-centered",DC="mat-ripple-loader-disabled";let T5=(()=>{class n{constructor(){this._document=Ft(Qn,{optional:!0}),this._animationMode=Ft(Lr,{optional:!0}),this._globalRippleOptions=Ft(Bh,{optional:!0}),this._platform=Ft(Cr),this._ngZone=Ft(gn),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${tR}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of A5)this._document?.addEventListener(t,this._onInteraction,S5)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of A5)this._document?.removeEventListener(i,this._onInteraction,S5)}configureRipple(t,i){t.setAttribute(tR,""),(i.className||!t.hasAttribute(nR))&&t.setAttribute(nR,i.className||""),i.centered&&t.setAttribute(M5,""),i.disabled&&t.setAttribute(DC,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(DC,""):t.removeAttribute(DC)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(nR)),t.append(r);const o=new za(new vn(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(M5),o.disabled=t.hasAttribute(DC),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(tR),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _ue=["notch"],bue=["matFormFieldNotchedOutline",""],yue=["*"],vue=["textField"],wue=["iconPrefixContainer"],xue=["textPrefixContainer"];function Eue(n,e){1&n&&fn(0,"span",16)}function Cue(n,e){if(1&n&&(Xe(0,"label",14),Cn(1,1),an(2,Eue,1,0,"span",15),qe()),2&n){const t=rn(2);bt("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Yn("for",t._control.id),st(2),Ti(2,!t.hideRequiredMarker&&t._control.required?2:-1)}}function Sue(n,e){1&n&&an(0,Cue,3,5,"label",14),2&n&&Ti(0,rn()._hasFloatingLabel()?0:-1)}function Aue(n,e){1&n&&fn(0,"div",17)}function Mue(n,e){}function Tue(n,e){1&n&&an(0,Mue,0,0,"ng-template",9),2&n&&(rn(2),bt("ngTemplateOutlet",Yr(1)))}function Iue(n,e){if(1&n&&(Xe(0,"div",5),an(1,Tue,1,1,null,9),qe()),2&n){const t=rn();bt("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),st(),Ti(1,t._forceDisplayInfixLabel()?-1:1)}}function Due(n,e){1&n&&(Xe(0,"div",18,19),Cn(2,2),qe())}function kue(n,e){1&n&&(Xe(0,"div",20,21),Cn(2,3),qe())}function Oue(n,e){}function Rue(n,e){1&n&&an(0,Oue,0,0,"ng-template",9),2&n&&(rn(),bt("ngTemplateOutlet",Yr(1)))}function Pue(n,e){1&n&&(Xe(0,"div",22),Cn(1,4),qe())}function Nue(n,e){1&n&&(Xe(0,"div",23),Cn(1,5),qe())}function Fue(n,e){1&n&&fn(0,"div",12)}function Lue(n,e){1&n&&(Xe(0,"div",24),Cn(1,6),qe()),2&n&&bt("@transitionMessages",rn()._subscriptAnimationState)}function Bue(n,e){if(1&n&&(Xe(0,"mat-hint",26),Ut(1),qe()),2&n){const t=rn(2);bt("id",t._hintLabelId),st(),Xr(t.hintLabel)}}function Uue(n,e){if(1&n&&(Xe(0,"div",25),an(1,Bue,2,2,"mat-hint",26),Cn(2,7),fn(3,"div",27),Cn(4,8),qe()),2&n){const t=rn();bt("@transitionMessages",t._subscriptAnimationState),st(),Ti(1,t.hintLabel?1:-1)}}const Vue=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],jue=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Uh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$t({type:n,selectors:[["mat-label"]]})}return n})(),zue=0;const I5=new mt("MatError");let Hue=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+zue++,t||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(Ks("aria-live"),xe(vn))};static#t=this.\u0275dir=$t({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&ea("id",r.id)},inputs:{id:"id"},features:[Gn([{provide:I5,useExisting:n}])]})}return n})(),Gue=0,D5=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+Gue++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$t({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(ea("id",r.id),Yn("align",null),un("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const k5=new mt("MatPrefix"),O5=new mt("MatSuffix");let iR=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$t({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Gn([{provide:O5,useExisting:n}])]})}return n})();const R5=new mt("FloatingLabelParent");let P5=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Ft(Qle),this._ngZone=Ft(gn),this._parent=Ft(R5),this._resizeSubscription=new wt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function $ue(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn))};static#t=this.\u0275dir=$t({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&un("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const N5="mdc-line-ripple--active",kC="mdc-line-ripple--deactivating";let F5=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(kC);"opacity"===r.propertyName&&s&&o.remove(N5,kC)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(kC),t.add(N5)}deactivate(){this._elementRef.nativeElement.classList.add(kC)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(gn))};static#t=this.\u0275dir=$t({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),L5=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(gn))};static#t=this.\u0275cmp=on({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&mi(_ue,5),2&i){let o;pn(o=mn())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&un("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:bue,ngContentSelectors:yue,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(Qi(),fn(0,"div",0),Xe(1,"div",1,2),Cn(3),qe(),fn(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const Yue={transitionMessages:Vc("transitionMessages",[Do("enter",or({opacity:1,transform:"translateY(0%)"})),vs("void => enter",[or({opacity:0,transform:"translateY(-5px)"}),ys("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let OC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$t({type:n})}return n})();const f0=new mt("MatFormField"),B5=new mt("MAT_FORM_FIELD_DEFAULT_OPTIONS");let U5=0,Vh=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ei(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,o,s,a,c,l){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+U5++,this._hintLabelId="mat-mdc-hint-"+U5++,this._subscriptAnimationState="",this._destroyed=new Qt,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(vi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ps(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(vi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(vi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(Mi),xe(gn),xe(yl),xe(Cr),xe(B5,8),xe(Lr,8),xe(Qn))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(Ni(o,Uh,5),Ni(o,Uh,7),Ni(o,OC,5),Ni(o,k5,5),Ni(o,O5,5),Ni(o,I5,5),Ni(o,D5,5)),2&i){let s;pn(s=mn())&&(r._labelChildNonStatic=s.first),pn(s=mn())&&(r._labelChildStatic=s.first),pn(s=mn())&&(r._formFieldControl=s.first),pn(s=mn())&&(r._prefixChildren=s),pn(s=mn())&&(r._suffixChildren=s),pn(s=mn())&&(r._errorChildren=s),pn(s=mn())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(mi(vue,5),mi(wue,5),mi(xue,5),mi(P5,5),mi(L5,5),mi(F5,5)),2&i){let o;pn(o=mn())&&(r._textField=o.first),pn(o=mn())&&(r._iconPrefixContainer=o.first),pn(o=mn())&&(r._textPrefixContainer=o.first),pn(o=mn())&&(r._floatingLabel=o.first),pn(o=mn())&&(r._notchedOutline=o.first),pn(o=mn())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&un("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Gn([{provide:f0,useExisting:n},{provide:R5,useExisting:n}])],ngContentSelectors:jue,decls:18,vars:21,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],["class","mat-mdc-form-field-icon-prefix"],["class","mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],["class","mat-mdc-form-field-text-suffix"],["class","mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i&&(Qi(Vue),an(0,Sue,1,1,"ng-template",null,0,Oh),Xe(2,"div",1,2),kt("click",function(s){return r._control.onContainerClick(s)}),an(4,Aue,1,0,"div",3),Xe(5,"div",4),an(6,Iue,2,2,"div",5)(7,Due,3,0,"div",6)(8,kue,3,0,"div",7),Xe(9,"div",8),an(10,Rue,1,1,null,9),Cn(11),qe(),an(12,Pue,2,0,"div",10)(13,Nue,2,0,"div",11),qe(),an(14,Fue,1,0,"div",12),qe(),Xe(15,"div",13),an(16,Lue,2,1)(17,Uue,5,2),qe()),2&i){let o;st(2),un("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),st(2),Ti(4,r._hasOutline()||r._control.disabled?-1:4),st(2),Ti(6,r._hasOutline()?6:-1),st(),Ti(7,r._hasIconPrefix?7:-1),st(),Ti(8,r._hasTextPrefix?8:-1),st(2),Ti(10,!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),st(2),Ti(12,r._hasTextSuffix?12:-1),st(),Ti(13,r._hasIconSuffix?13:-1),st(),Ti(14,r._hasOutline()?-1:14),st(),un("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),st(),Ti(16,"error"===(o=r._getDisplayedMessages())?16:"hint"===o?17:-1)}},dependencies:[cO,D5,P5,L5,F5],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Yue.transitionMessages]},changeDetection:0})}return n})(),Au=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[Bi,ci,HO,Bi]})}return n})();function jh(n,e){const t=ye(n)?n:()=>n,i=r=>r.error(t());return new $e(e?r=>e.schedule(i,0,r):i)}function p0(...n){const e=DO(n),{args:t,keys:i}=G8(n),r=new $e(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let d=0;d<s;d++){let h=!1;yo(t[d]).subscribe(si(o,p=>{h||(h=!0,l--),a[d]=p},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(i?W8(i,a):a),o.complete())}))}});return e?r.pipe(xC(e)):r}function Ga(n){return Oi((e,t)=>{let o,i=null,r=!1;i=e.subscribe(si(t,void 0,void 0,s=>{o=yo(n(s,Ga(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function l_(n){return Oi((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function z5(n,e,t,i,r,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,r)}function yn(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(c){z5(o,i,r,s,a,"next",c)}function a(c){z5(o,i,r,s,a,"throw",c)}s(void 0)})}}function d_(n,e){return ye(e)?Uo(n,e,1):Uo(n,1)}class RC{}class PC{}class jc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof jc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new jc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof jc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class que{encodeKey(e){return H5(e)}encodeValue(e){return H5(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Zue=/%(\d[a-f0-9])/gi,Que={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function H5(n){return encodeURIComponent(n).replace(Zue,(e,t)=>Que[t]??e)}function NC(n){return`${n}`}class zh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new que,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Jue(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(NC):[NC(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new zh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(NC(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(NC(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ehe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function G5(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function W5(n){return typeof Blob<"u"&&n instanceof Blob}function $5(n){return typeof FormData<"u"&&n instanceof FormData}class m0{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function the(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new jc),this.context||(this.context=new ehe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new zh,this.urlWithParams=t}serializeBody(){return null===this.body?null:G5(this.body)||W5(this.body)||$5(this.body)||function nhe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$5(this.body)?null:W5(this.body)?this.body.type||null:G5(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const d=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),l)),new m0(t,i,o,{params:l,headers:c,context:d,reportProgress:a,responseType:r,withCredentials:s})}}var Hh=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Hh||{});class rR{constructor(e,t=200,i="OK"){this.headers=e.headers||new jc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class FC extends rR{constructor(e={}){super(e),this.type=Hh.ResponseHeader}clone(e={}){return new FC({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Sp extends rR{constructor(e={}){super(e),this.type=Hh.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Sp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class u_ extends rR{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function oR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let Ap=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof m0)o=t;else{let c,l;c=r.headers instanceof jc?r.headers:new jc(r.headers),r.params&&(l=r.params instanceof zh?r.params:new zh({fromObject:r.params})),o=new m0(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=In(o).pipe(d_(c=>this.handler.handle(c)));if(t instanceof m0||"events"===r.observe)return s;const a=s.pipe(Ei(c=>c instanceof Sp));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Lt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Lt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Lt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Lt(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new zh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,oR(r,i))}post(t,i,r={}){return this.request("POST",t,oR(r,i))}put(t,i,r={}){return this.request("PUT",t,oR(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(et(RC))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();function X5(n,e){return e(n)}function ahe(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const lhe=new mt(""),g0=new mt(""),K5=new mt(""),q5=new mt("");function dhe(){let n=null;return(e,t)=>{null===n&&(n=(Ft(lhe,{optional:!0})??[]).reduceRight(ahe,X5));const i=Ft(Zg),r=i.add();return n(e,t).pipe(l_(()=>i.remove(r)))}}let J5=(()=>{class n extends RC{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=Ft(Zg);const r=Ft(q5,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(g0),...this.injector.get(K5,[])]));this.chain=r.reduceRight((o,s)=>function che(n,e,t){return(i,r)=>function du(n,e){n instanceof mh&&n.assertNotDestroyed();const i=Nl(n),r=Ss(void 0);try{return e()}finally{Nl(i),Ss(r)}}(t,()=>e(i,o=>n(o,r)))}(o,s,this.injector),X5)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(l_(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(et(PC),et(La))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();const mhe=/^\)\]\}',?\n/;let Q5=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Me(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?oo(i.\u0275loadImpl()):In(null)).pipe(jr(()=>new $e(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((A,P)=>s.setRequestHeader(A,P.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const A=t.detectContentTypeHeader();null!==A&&s.setRequestHeader("Content-Type",A)}if(t.responseType){const A=t.responseType.toLowerCase();s.responseType="json"!==A?A:"text"}const a=t.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const A=s.statusText||"OK",P=new jc(s.getAllResponseHeaders()),X=function ghe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new FC({headers:P,status:s.status,statusText:A,url:X}),c},d=()=>{let{headers:A,status:P,statusText:X,url:Q}=l(),pe=null;204!==P&&(pe=typeof s.response>"u"?s.responseText:s.response),0===P&&(P=pe?200:0);let Re=P>=200&&P<300;if("json"===t.responseType&&"string"==typeof pe){const Ye=pe;pe=pe.replace(mhe,"");try{pe=""!==pe?JSON.parse(pe):null}catch(tt){pe=Ye,Re&&(Re=!1,pe={error:tt,text:pe})}}Re?(o.next(new Sp({body:pe,headers:A,status:P,statusText:X,url:Q||void 0})),o.complete()):o.error(new u_({error:pe,headers:A,status:P,statusText:X,url:Q||void 0}))},h=A=>{const{url:P}=l(),X=new u_({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error(X)};let p=!1;const _=A=>{p||(o.next(l()),p=!0);let P={type:Hh.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(P.total=A.total),"text"===t.responseType&&s.responseText&&(P.partialText=s.responseText),o.next(P)},v=A=>{let P={type:Hh.UploadProgress,loaded:A.loaded};A.lengthComputable&&(P.total=A.total),o.next(P)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",_),null!==a&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:Hh.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",_),null!==a&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qz))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();const cR=new mt("XSRF_ENABLED"),e6=new mt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),t6=new mt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class n6{}let yhe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=zz(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(ks),et(e6))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();function vhe(n,e){const t=n.url.toLowerCase();if(!Ft(cR)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=Ft(n6).getToken(),r=Ft(t6);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Gh=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Gh||{});function whe(...n){const e=[Ap,Q5,J5,{provide:RC,useExisting:J5},{provide:PC,useExisting:Q5},{provide:g0,useValue:vhe,multi:!0},{provide:cR,useValue:!0},{provide:n6,useClass:yhe}];for(const t of n)e.push(...t.\u0275providers);return function kc(n){return{\u0275providers:n}}(e)}const i6=new mt("LEGACY_INTERCEPTOR_FN");function xhe(){return function Mp(n,e){return{\u0275kind:n,\u0275providers:e}}(Gh.LegacyInterceptors,[{provide:i6,useFactory:dhe},{provide:g0,useExisting:i6,multi:!0}])}let r6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[whe(xhe())]})}return n})();const The=["*"];let BC;function _0(n){return function Ihe(){if(void 0===BC&&(BC=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(BC=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return BC}()?.createHTML(n)||n}function u6(n){return Error(`Unable to find icon with the name "${n}"`)}function h6(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function f6(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Tp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let b0=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Tp(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const s=this._sanitizer.sanitize(Po.HTML,r);if(!s)throw f6(r);const a=_0(s);return this._addSvgIconConfig(t,i,new Tp("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Tp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(Po.HTML,i);if(!o)throw f6(i);const s=_0(o);return this._addSvgIconSetConfig(t,new Tp("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Po.RESOURCE_URL,t);if(!i)throw h6(t);const r=this._cachedIconsByUrl.get(i);return r?In(UC(r)):this._loadSvgIconFromConfig(new Tp(t,null)).pipe(pr(o=>this._cachedIconsByUrl.set(i,o)),Lt(o=>UC(o)))}getNamedSvgIcon(t,i=""){const r=p6(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):jh(u6(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?In(UC(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Lt(i=>UC(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?In(r):p0(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Ga(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(Po.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),In(null)})))).pipe(Lt(()=>{const s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw u6(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(pr(i=>t.svgText=i),Lt(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?In(null):this._fetchIcon(t).pipe(pr(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(_0("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(_0("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function Dhe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(Po.RESOURCE_URL,i);if(!s)throw h6(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Lt(l=>_0(l)),l_(()=>this._inProgressUrlFetches.delete(s)),ld());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(p6(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return Ohe(o)?new Tp(o.url,null,o.options):new Tp(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(et(Ap,8),et(t_),et(Qn,8),et(ac))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UC(n){return n.cloneNode(!0)}function p6(n,e){return n+":"+e}function Ohe(n){return!(!n.url||!n.options)}const Rhe=JO(class{constructor(n){this._elementRef=n}}),Phe=new mt("MAT_ICON_DEFAULT_OPTIONS"),Nhe=new mt("mat-icon-location",{providedIn:"root",factory:function Fhe(){const n=Ft(Qn),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),m6=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Lhe=m6.map(n=>`[${n}]`).join(", "),Bhe=/^url\(['"]?#(.*?)['"]?\)$/;let ws=(()=>{class n extends Rhe{get inline(){return this._inline}set inline(t){this._inline=ei(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,s,a){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=wt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Lhe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)m6.forEach(s=>{const a=i[o],c=a.getAttribute(s),l=c?c.match(Bhe):null;if(l){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(_r(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(b0),Ks("aria-hidden"),xe(Nhe),xe(ac),xe(Phe,8))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(Yn("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),un("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ln],ngContentSelectors:The,decls:1,vars:0,template:function(i,r){1&i&&(Qi(),Cn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),qr=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[Bi,Bi]})}return n})();const Uhe=["mat-button",""],Vhe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],jhe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Whe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let g6=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,r,o){this._elementRef=t,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Ft(Su),this._rippleLoader=Ft(T5),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=this._elementRef.nativeElement,a=s.classList;for(const{attribute:c,mdcClasses:l}of Whe)s.hasAttribute(c)&&a.add(...l)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){ED()};static#t=this.\u0275dir=$t({type:n,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",Ki],disabled:["disabled","disabled",Ki]},features:[fl]})}return n})(),h_=(()=>{class n extends g6{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(Cr),xe(gn),xe(Lr,8))};static#t=this.\u0275cmp=on({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:9,hostBindings:function(i,r){2&i&&(Yn("disabled",r.disabled||null),_i(r.color?"mat-"+r.color:""),un("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ln],attrs:Uhe,ngContentSelectors:jhe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Qi(Vhe),fn(0,"span",0),Cn(1),Xe(2,"span",1),Cn(3,1),qe(),Cn(4,2),fn(5,"span",2)(6,"span",3)),2&i&&un("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),dd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[Bi,Ha,Bi]})}return n})();class lR{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class f_ extends lR{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class p_ extends lR{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Xhe extends lR{constructor(e){super(),this.element=e instanceof vn?e.nativeElement:e}}class VC{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof f_?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof p_?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Xhe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Khe extends VC{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Gi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let m_=(()=>{class n extends VC{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Gt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(xe(nd),xe(bs),xe(Qn))};static#t=this.\u0275dir=$t({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ln]})}return n})(),Mu=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({})}return n})();const qhe=["addListener","removeListener"],Jhe=["addEventListener","removeEventListener"],Zhe=["on","off"];function Ip(n,e,t,i){if(ye(t)&&(i=t,t=void 0),i)return Ip(n,e,t).pipe(xC(i));const[r,o]=function tfe(n){return ye(n.addEventListener)&&ye(n.removeEventListener)}(n)?Jhe.map(s=>a=>n[s](e,a,t)):function Qhe(n){return ye(n.addListener)&&ye(n.removeListener)}(n)?qhe.map(_6(n,e)):function efe(n){return ye(n.on)&&ye(n.off)}(n)?Zhe.map(_6(n,e)):[];if(!r&&TO(n))return Uo(s=>Ip(s,e,t))(yo(n));if(!r)throw new TypeError("Invalid event target");return new $e(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function _6(n,e){return t=>i=>n[t](e,i)}const y0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=y0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new wt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=y0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=y0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class ife extends jO{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class nfe extends VO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=y0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(y0.cancelAnimationFrame(t),e._scheduled=void 0)}});let dR,ofe=1;const jC={};function b6(n){return n in jC&&(delete jC[n],!0)}const sfe={setImmediate(n){const e=ofe++;return jC[e]=!0,dR||(dR=Promise.resolve()),dR.then(()=>b6(e)&&n()),e},clearImmediate(n){b6(n)}},{setImmediate:afe,clearImmediate:cfe}=sfe,zC={setImmediate(...n){const{delegate:e}=zC;return(e?.setImmediate||afe)(...n)},clearImmediate(n){const{delegate:e}=zC;return(e?.clearImmediate||cfe)(n)},delegate:void 0};new class dfe extends jO{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class lfe extends VO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=zC.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(zC.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function v0(n=0,e,t=ade){let i=-1;return null!=e&&(R8(e)?t=e:i=e),new $e(r=>{let o=function ffe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function y6(n,e=r_){return function hfe(n){return Oi((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(si(t,l=>{i=!0,r=l,o||yo(n(l)).subscribe(o=si(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>v0(n,e))}let v6=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Qt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new $e(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(y6(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):In()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ei(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Eu(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ip(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(et(gn),et(Cr),et(Qn,8))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HC=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Qt,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(y6(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(et(Cr),et(gn),et(Qn,8))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),w0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({})}return n})(),w6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[r0,w0,r0,w0]})}return n})();function x6(n,e=!1){return Oi((t,i)=>{let r=0;t.subscribe(si(i,o=>{const s=n(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}const E6=Kle();class gfe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=jo(-this._previousScrollPosition.left),e.style.top=jo(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),E6&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),E6&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class _fe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Ei(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class C6{enable(){}disable(){}attach(){}}function uR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function S6(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class bfe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();uR(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let yfe=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new C6,this.close=s=>new _fe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new gfe(this._viewportRuler,this._document),this.reposition=s=>new bfe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(et(v6),et(HC),et(gn),et(Qn))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class x0{constructor(e){if(this.scrollStrategy=new C6,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class vfe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let A6=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wfe=(()=>{class n extends A6{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(gn,8))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xfe=(()=>{class n extends A6{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=xu(o)},this._clickListener=o=>{const s=xu(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(Cr),et(gn,8))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),E0=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||PO()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),PO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(Cr))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class GC{constructor(e,t,i,r,o,s,a,c,l,d=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new Qt,this._attachments=new Qt,this._detachments=new Qt,this._locationChanges=wt.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new Qt,this._outsidePointerEvents=new Qt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(_r(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=jo(this._config.width),e.height=jo(this._config.height),e.minWidth=jo(this._config.minWidth),e.minHeight=jo(this._config.minHeight),e.maxWidth=jo(this._config.maxWidth),e.maxHeight=jo(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=bC(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(vi(Ps(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const M6="cdk-overlay-connected-position-bounding-box",Efe=/([A-Za-z%]+)$/;class Cfe{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Qt,this._resizeSubscription=wt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(M6),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(l,t,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(d,l,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Dp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(M6),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=I6(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let p=0-a,_=a+o.height-i.height,v=this._subtractOverflows(o.width,0-s,s+o.width-i.width),A=this._subtractOverflows(o.height,p,_),P=v*A;return{visibleArea:P,isCompletelyWithinViewport:o.width*o.height===P,fitsInViewportVertically:A===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=T6(this._overlayRef.getConfig().minHeight),a=T6(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=I6(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0);let d=0,h=0;return d=r.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,h=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:d,y:h},{x:e.x+d,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new vfe(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,d,h,p;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const _=Math.min(i.bottom-e.y+i.top,e.y),v=this._lastBoundingBoxSize.height;o=2*_,s=e.y-_,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-v/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)p=i.width-e.x+this._viewportMargin,d=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)h=e.x,d=i.right-e.x;else{const _=Math.min(i.right-e.x+i.left,e.x),v=this._lastBoundingBoxSize.width;d=2*_,h=e.x-_,d>v&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-v/2)}return{top:s,left:h,bottom:a,right:p,width:d,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=jo(i.height),r.top=jo(i.top),r.bottom=jo(i.bottom),r.width=jo(i.width),r.left=jo(i.left),r.right=jo(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=jo(o)),s&&(r.maxWidth=jo(s))}this._lastBoundingBoxSize=i,Dp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Dp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Dp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();Dp(i,this._getExactOverlayY(t,e,d)),Dp(i,this._getExactOverlayX(t,e,d))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=jo(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=jo(s.maxWidth):o&&(i.maxWidth="")),Dp(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=jo(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=jo(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:S6(e,i),isOriginOutsideView:uR(e,i),isOverlayClipped:S6(t,i),isOverlayOutsideView:uR(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&bC(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof vn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Dp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function T6(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Efe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function I6(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const D6="cdk-global-overlay-wrapper";class Sfe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(D6),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,h=this._xOffset,p="rtl"===this._overlayRef.getConfig().direction;let _="",v="",A="";c?A="flex-start":"center"===d?(A="center",p?v=h:_=h):p?"left"===d||"end"===d?(A="flex-end",_=h):("right"===d||"start"===d)&&(A="flex-start",v=h):"left"===d||"start"===d?(A="flex-start",_=h):("right"===d||"end"===d)&&(A="flex-end",v=h),e.position=this._cssPosition,e.marginLeft=c?"0":_,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":v,t.justifyContent=A,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(D6),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Afe=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Sfe}flexibleConnectedTo(t){return new Cfe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(et(HC),et(Qn),et(Cr),et(E0))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mfe=0,Qo=(()=>{class n{constructor(t,i,r,o,s,a,c,l,d,h,p,_){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=d,this._location=h,this._outsideClickDispatcher=p,this._animationsModuleType=_}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new x0(t);return s.direction=s.direction||this._directionality.value,new GC(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Mfe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(_u)),new Khe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(et(yfe),et(E0),et(nd),et(Afe),et(wfe),et(Gi),et(gn),et(Qn),et(yl),et(vp),et(xfe),et(Lr,8))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Tfe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],k6=new mt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ft(Qo);return()=>n.scrollStrategies.reposition()}});let hR=(()=>{class n{constructor(t){this.elementRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn))};static#t=this.\u0275dir=$t({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),O6=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,i,r,o,s){this._overlay=t,this._dir=s,this._backdropSubscription=wt.EMPTY,this._attachSubscription=wt.EMPTY,this._detachSubscription=wt.EMPTY,this._positionSubscription=wt.EMPTY,this._disposeOnNavigation=!1,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Gt,this.positionChange=new Gt,this.attach=new Gt,this.detach=new Gt,this.overlayKeydown=new Gt,this.overlayOutsideClick=new Gt,this._templatePortal=new p_(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Tfe);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Sa(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new x0({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof hR?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(x6(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Qo),xe(Va),xe(bs),xe(k6),xe(yl,8))};static#t=this.\u0275dir=$t({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop",Ki],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition",Ki],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Ki],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Ki],push:["cdkConnectedOverlayPush","push",Ki],disposeOnNavigation:["cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Ki]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[fl,xr]})}return n})();const Dfe={provide:k6,deps:[Qo],useFactory:function Ife(n){return()=>n.scrollStrategies.reposition()}};let g_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[Qo,Dfe],imports:[r0,Mu,w6,w6]})}return n})();function kfe(n,e){if(1&n){const t=$r();Xe(0,"div",1)(1,"button",2),kt("click",function(){return ii(t),Pn(rn().action())}),Ut(2),qe()()}if(2&n){const t=rn();st(2),Kr(" ",t.data.action," ")}}const Ofe=["label"];function Rfe(n,e){}const Pfe=Math.pow(2,31)-1;class fR{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Qt,this._afterOpened=new Qt,this._onAction=new Qt,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Pfe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const pR=new mt("MatSnackBarData");class WC{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let R6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$t({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return n})(),P6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$t({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return n})(),N6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$t({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return n})(),F6=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(i){return new(i||n)(xe(fR),xe(pR))};static#t=this.\u0275cmp=on({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[kh],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(Xe(0,"div",0),Ut(1),qe(),an(2,kfe,3,1,"div",1)),2&i&&(st(),Kr(" ",r.data.message,"\n"),st(),Ti(2,r.hasAction?2:-1))},dependencies:[dd,h_,R6,P6,N6,ci],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return n})();const Nfe={snackBarState:Vc("state",[Do("void, hidden",or({transform:"scale(0.8)",opacity:0})),Do("visible",or({transform:"scale(1)",opacity:1})),vs("* => visible",ys("150ms cubic-bezier(0, 0, 0.2, 1)")),vs("* => void, * => hidden",ys("75ms cubic-bezier(0.4, 0.0, 1, 1)",or({opacity:0})))])};let Ffe=0,mR=(()=>{class n extends VC{constructor(t,i,r,o,s){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=Ft(Qn),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Qt,this._onExit=new Qt,this._onEnter=new Qt,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Ffe++,this.attachDomPortal=a=>{this._assertNotAttached();const c=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),c},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>t.classList.add(s)):t.classList.add(i)),this._exposeToModals();const r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(i){return new(i||n)(xe(gn),xe(vn),xe(Mi),xe(Cr),xe(WC))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&(mi(m_,7),mi(Ofe,7)),2&i){let o;pn(o=mn())&&(r._portalOutlet=o.first),pn(o=mn())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){1&i&&B1("@state.done",function(s){return r.onAnimationEnd(s)}),2&i&&Nv("@state",r._animationState)},standalone:!0,features:[Ln,kh],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"div",1,2)(3,"div",3),an(4,Rfe,0,0,"ng-template",4),qe(),fn(5,"div"),qe()()),2&i&&(st(5),Yn("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Mu,m_],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Nfe.snackBarState]}})}return n})();const Bfe=new mt("mat-snack-bar-default-options",{providedIn:"root",factory:function Lfe(){return new WC}});let L6=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,o,s,a){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=F6,this.snackBarContainerComponent=mR,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const o={...this._defaultConfig,...r};return o.data={message:t,action:i},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const o=Gi.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:WC,useValue:i}]}),s=new f_(this.snackBarContainerComponent,i.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){const r={...new WC,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new fR(s,o);if(t instanceof Va){const c=new p_(t,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{const c=this._createInjector(r,a),l=new f_(t,void 0,c),d=s.attachComponentPortal(l);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(vi(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new x0;i.direction=t.direction;let r=this._overlay.position().global();const o="rtl"===t.direction,s="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!o||"end"===t.horizontalPosition&&o,a=!s&&"center"!==t.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return Gi.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:fR,useValue:i},{provide:pR,useValue:t.data}]})}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qo),et(c5),et(Gi),et(X8),et(n,12),et(Bfe))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ufe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[L6],imports:[g_,Mu,dd,Bi,F6,mR,Bi]})}return n})();function B6(n){return new Me(3e3,!1)}function Wh(n){switch(n.length){case 0:return new s0;case 1:return n[0];default:return new U8(n)}}function U6(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),d=l==s,h=d&&a||new Map;c.forEach((p,_)=>{let v=_,A=p;if("offset"!==_)switch(v=n.normalizePropertyName(v,r),A){case"!":A=t.get(_);break;case Cu:A=i.get(_);break;default:A=n.normalizeStyleValue(_,v,A,r)}h.set(v,A)}),d||o.push(h),a=h,s=l}),r.length)throw function cpe(n){return new Me(3502,!1)}();return o}function gR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&_R(t,"start",n)));break;case"done":n.onDone(()=>i(t&&_R(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&_R(t,"destroy",n)))}}function _R(n,e,t){const o=bR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function bR(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function dc(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function V6(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const vpe=(()=>typeof document>"u"?null:document.documentElement)();function yR(n){const e=n.parentNode||n.host||null;return e===vpe?null:e}let kp=null,j6=!1;function z6(n,e){for(;e;){if(e===n)return!0;e=yR(e)}return!1}function H6(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let vR=(()=>{class n{validateStyleProperty(t){return function xpe(n){kp||(kp=function Epe(){return typeof document<"u"?document.body:null}()||{},j6=!!kp.style&&"WebkitAppearance"in kp.style);let e=!0;return kp.style&&!function wpe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in kp.style,!e&&j6&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in kp.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return z6(t,i)}getParentElement(t){return yR(t)}query(t,i,r){return H6(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new s0(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})(),wR=(()=>{class n{static#e=this.NOOP=new vR}return n})();class xR{}const Spe=1e3,ER="ng-enter",$C="ng-leave",YC="ng-trigger",XC=".ng-trigger",W6="ng-animating",CR=".ng-animating";function Tu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:SR(parseFloat(e[1]),e[2])}function SR(n,e){return"s"===e?n*Spe:n}function KC(n,e,t){return n.hasOwnProperty("duration")?n:function Mpe(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(B6()),{duration:0,delay:0,easing:""};r=SR(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=SR(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function Vfe(){return new Me(3100,!1)}()),a=!0),o<0&&(e.push(function jfe(){return new Me(3101,!1)}()),a=!0),a&&e.splice(c,0,B6())}return{duration:r,delay:o,easing:s}}(n,e,t)}function C0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function $6(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function $h(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function ud(n,e,t){e.forEach((i,r)=>{const o=MR(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Op(n,e){e.forEach((t,i)=>{const r=MR(i);n.style[r]=""})}function S0(n){return Array.isArray(n)?1==n.length?n[0]:function nde(n,e=null){return{type:2,steps:n,options:e}}(n):n}const AR=new RegExp("{{\\s*(.+?)\\s*}}","g");function X6(n){let e=[];if("string"==typeof n){let t;for(;t=AR.exec(n);)e.push(t[1]);AR.lastIndex=0}return e}function A0(n,e,t){const i=n.toString(),r=i.replace(AR,(o,s)=>{let a=e[s];return null==a&&(t.push(function Hfe(n){return new Me(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function qC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Dpe=/-+([a-z0-9])/g;function MR(n){return n.replace(Dpe,(...e)=>e[1].toUpperCase())}function uc(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Gfe(n){return new Me(3004,!1)}()}}function K6(n,e){return window.getComputedStyle(n)[e]}const Rpe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class q6 extends xR{normalizePropertyName(e,t){return MR(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Rpe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Wfe(n,e){return new Me(3005,!1)}())}return s+o}}const JC="*";function Ppe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Npe(n,e,t){if(":"==n[0]){const c=function Fpe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function rpe(n){return new Me(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function ipe(n){return new Me(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(J6(r,s));"<"==o[0]&&!(r==JC&&s==JC)&&e.push(J6(s,r))}(i,t,e)):t.push(n),t}const ZC=new Set(["true","1"]),QC=new Set(["false","0"]);function J6(n,e){const t=ZC.has(n)||QC.has(n),i=ZC.has(e)||QC.has(e);return(r,o)=>{let s=n==JC||n==r,a=e==JC||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?ZC.has(n):QC.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?ZC.has(e):QC.has(e)),s&&a}}const Lpe=new RegExp("s*:selfs*,?","g");function TR(n,e,t,i){return new Bpe(n).build(e,t,i)}class Bpe{constructor(e){this._driver=e}build(e,t,i){const r=new jpe(t);return this._resetContextStyleTimingState(r),uc(this,S0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function $fe(){return new Me(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function Yfe(){return new Me(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{X6(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(qC(o.values()),t.errors.push(function Xfe(n,e){return new Me(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=uc(this,S0(e.animation),t);return{type:1,matchers:Ppe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Rp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>uc(this,i,t)),options:Rp(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=uc(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:Rp(e.options)}}visitAnimate(e,t){const i=function Hpe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return IR(KC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=IR(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=KC(t,e);return IR(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:or({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=or(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Cu?i.push(a):t.errors.push(new Me(3002,!1)):i.push($6(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c);let h=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(t.errors.push(function qfe(n,e,t,i,r){return new Me(3010,!1)}()),h=!1),o=d.startTime),h&&l.set(c,{startTime:o,endTime:r}),t.options&&function Ipe(n,e,t){const i=e.params||{},r=X6(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function zfe(n){return new Me(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Jfe(){return new Me(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const d=e.steps.map(X=>{const Q=this._makeStyleAst(X,t);let pe=null!=Q.offset?Q.offset:function zpe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Q.styles),Re=0;return null!=pe&&(o++,Re=Q.offset=pe),c=c||Re<0||Re>1,a=a||Re<l,l=Re,s.push(Re),Q});c&&t.errors.push(function Zfe(){return new Me(3012,!1)}()),a&&t.errors.push(function Qfe(){return new Me(3200,!1)}());const h=e.steps.length;let p=0;o>0&&o<h?t.errors.push(function epe(){return new Me(3202,!1)}()):0==o&&(p=1/(h-1));const _=h-1,v=t.currentTime,A=t.currentAnimateTimings,P=A.duration;return d.forEach((X,Q)=>{const pe=p>0?Q==_?1:p*Q:s[Q],Re=pe*P;t.currentTime=v+A.delay+Re,A.duration=Re,this._validateStyleAst(X,t),X.offset=pe,i.styles.push(X)}),i}visitReference(e,t){return{type:8,animation:uc(this,S0(e.animation),t),options:Rp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Rp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Rp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Upe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Lpe,"")),n=n.replace(/@\*/g,XC).replace(/@\w+/g,t=>XC+"-"+t.slice(1)).replace(/:animating/g,CR),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,dc(t.collectedStyles,t.currentQuerySelector,new Map);const a=uc(this,S0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Rp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function tpe(){return new Me(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:KC(e.timings,t.errors,!0);return{type:12,animation:uc(this,S0(e.animation),t),timings:i,options:null}}}class jpe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Rp(n){return n?(n=C0(n)).params&&(n.params=function Vpe(n){return n?C0(n):null}(n.params)):n={},n}function IR(n,e,t){return{duration:n,delay:e,easing:t}}function DR(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class eS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $pe=new RegExp(":enter","g"),Xpe=new RegExp(":leave","g");function kR(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return(new Kpe).buildKeyframes(n,e,t,i,r,o,s,a,c,l)}class Kpe{buildKeyframes(e,t,i,r,o,s,a,c,l,d=[]){l=l||new eS;const h=new OR(e,t,l,r,o,d,[]);h.options=c;const p=c.delay?Tu(c.delay):0;h.currentTimeline.delayNextStep(p),h.currentTimeline.setStyles([s],null,h.errors,c),uc(this,i,h);const _=h.timelines.filter(v=>v.containsAnimation());if(_.length&&a.size){let v;for(let A=_.length-1;A>=0;A--){const P=_[A];if(P.element===t){v=P;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,h.errors,c)}return _.length?_.map(v=>v.buildKeyframes()):[DR(t,[],[],[],0,p,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Tu(A0(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Tu(i.duration):null,a=null!=i.delay?Tu(i.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),uc(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=tS);const s=Tu(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>uc(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Tu(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),uc(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return KC(t.params?A0(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Tu(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=tS);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{t.currentQueryIndex=d;const h=t.createSubContext(e.options,l);o&&h.delayNextStep(o),l===t.element&&(c=h.currentTimeline),uc(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const d=t.currentTimeline;c&&d.delayNextStep(c);const h=d.currentTime;uc(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}}const tS={};class OR{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new nS(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Tu(i.duration)),null!=i.delay&&(r.delay=Tu(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=A0(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new OR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=tS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new qpe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace($pe,"."+this._enterClassName)).replace(Xpe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function npe(n){return new Me(3014,!1)}()),a}}class nS{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new nS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Cu),this._currentKeyframe.set(t,Cu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function Jpe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Cu)}else $h(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=A0(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Cu),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=$h(a,new Map,this._backFill);l.forEach((d,h)=>{"!"===d?e.add(h):d===Cu&&t.add(h)}),i||l.set("offset",c/this.duration),r.push(l)});const o=e.size?qC(e.values()):[],s=t.size?qC(t.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return DR(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class qpe extends nS{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=$h(e[0]);c.set("offset",0),o.push(c);const l=$h(e[0]);l.set("offset",eH(a)),o.push(l);const d=e.length-1;for(let h=1;h<=d;h++){let p=$h(e[h]);const _=p.get("offset");p.set("offset",eH((t+_*i)/s)),o.push(p)}i=s,t=0,r="",e=o}return DR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function eH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function tH(n,e,t,i,r,o,s,a,c,l,d,h,p){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:h,errors:p}}const RR={};class nH{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Zpe(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,d){const h=[],p=this.ast.options&&this.ast.options.params||RR,v=this.buildStyles(i,a&&a.params||RR,h),A=c&&c.params||RR,P=this.buildStyles(r,A,h),X=new Set,Q=new Map,pe=new Map,Re="void"===r,Ye={params:Qpe(A,p),delay:this.ast.options?.delay},tt=d?[]:kR(e,t,this.ast.animation,o,s,v,P,Ye,l,h);let ht=0;if(tt.forEach(xt=>{ht=Math.max(xt.duration+xt.delay,ht)}),h.length)return tH(t,this._triggerName,i,r,Re,v,P,[],[],Q,pe,ht,h);tt.forEach(xt=>{const yt=xt.element,Ot=dc(Q,yt,new Set);xt.preStyleProps.forEach(gt=>Ot.add(gt));const Vt=dc(pe,yt,new Set);xt.postStyleProps.forEach(gt=>Vt.add(gt)),yt!==t&&X.add(yt)});const Mt=qC(X.values());return tH(t,this._triggerName,i,r,Re,v,P,tt,Mt,Q,pe,ht)}}function Qpe(n,e){const t=C0(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class eme{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=C0(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=A0(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class nme{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new eme(r.style,r.options&&r.options.params||{},i))}),iH(this.states,"true","1"),iH(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new nH(e,r,this.states))}),this.fallbackTransition=function ime(n,e,t){return new nH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function iH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const rme=new eS;class ome{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=TR(this._driver,t,i,[]);if(i.length)throw function lpe(n){return new Me(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=U6(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=kR(this._driver,t,o,ER,$C,new Map,new Map,i,rme,r),s.forEach(d=>{const h=dc(a,d.element,new Map);d.postStyleProps.forEach(p=>h.set(p,null))})):(r.push(function dpe(){return new Me(3300,!1)}()),s=[]),r.length)throw function upe(n){return new Me(3504,!1)}();a.forEach((d,h)=>{d.forEach((p,_)=>{d.set(_,this._driver.computeStyle(h,_,Cu))})});const l=Wh(s.map(d=>{const h=a.get(d.element);return this._buildPlayer(d,new Map,h)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function hpe(n){return new Me(3301,!1)}();return t}listen(e,t,i,r){const o=bR(t,"","","");return gR(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const rH="ng-animate-queued",PR="ng-animate-disabled",dme=[],oH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ume={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wl="__ng_removed";class NR{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function mme(n){return n??null}(i?e.value:e),i){const o=C0(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const M0="void",FR=new NR(M0);class hme{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,zc(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function fpe(n,e){return new Me(3302,!1)}();if(null==i||0==i.length)throw function ppe(n){return new Me(3303,!1)}();if(!function gme(n){return"start"==n||"done"==n}(i))throw function mpe(n,e){return new Me(3400,!1)}();const o=dc(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=dc(this._engine.statesByElement,e,new Map);return a.has(t)||(zc(e,YC),zc(e,YC+"-"+t),a.set(t,FR)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function gpe(n){return new Me(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new LR(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(zc(e,YC),zc(e,YC+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new NR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=FR),l.value!==M0&&c.value===l.value){if(!function yme(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const A=[],P=o.matchStyles(c.value,c.params,A),X=o.matchStyles(l.value,l.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{Op(e,P),ud(e,X)})}return}const p=dc(this._engine.playersByElement,e,[]);p.forEach(A=>{A.namespaceId==this.id&&A.triggerName==t&&A.queued&&A.destroy()});let _=o.matchTransition(c.value,l.value,e,l.params),v=!1;if(!_){if(!r)return;_=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:_,fromState:c,toState:l,player:s,isFallbackTransition:v}),v||(zc(e,rH),s.onStart(()=>{__(e,rH)})),s.onDone(()=>{let A=this.players.indexOf(s);A>=0&&this.players.splice(A,1);const P=this._engine.playersByElement.get(e);if(P){let X=P.indexOf(s);X>=0&&P.splice(X,1)}}),this.players.push(s),p.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,XC,!0);i.forEach(r=>{if(r[wl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const d=this.trigger(e,l,M0,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Wh(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||FR,d=new NR(M0),h=new LR(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[wl];(!o||o===oH)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){zc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=bR(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,gR(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class fme{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new hme(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(iS(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!iS(t))return;const o=t[wl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),zc(e,PR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),__(e,PR))}removeNode(e,t,i){if(iS(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[wl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return iS(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,XC,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,CR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Wh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[wl];if(t&&t.setForRemoval){if(e[wl]=oH,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(PR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)zc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Wh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function _pe(n){return new Me(3402,!1)}()}_flushAnimations(e,t){const i=new eS,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(_t=>{d.add(_t);const Wt=this.driver.query(_t,".ng-animate-queued",!0);for(let tn=0;tn<Wt.length;tn++)d.add(Wt[tn])});const h=this.bodyNode,p=Array.from(this.statesByElement.keys()),_=cH(p,this.collectedEnterElements),v=new Map;let A=0;_.forEach((_t,Wt)=>{const tn=ER+A++;v.set(Wt,tn),_t.forEach(cn=>zc(cn,tn))});const P=[],X=new Set,Q=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const Wt=this.collectedLeaveElements[_t],tn=Wt[wl];tn&&tn.setForRemoval&&(P.push(Wt),X.add(Wt),tn.hasAnimation?this.driver.query(Wt,".ng-star-inserted",!0).forEach(cn=>X.add(cn)):Q.add(Wt))}const pe=new Map,Re=cH(p,Array.from(X));Re.forEach((_t,Wt)=>{const tn=$C+A++;pe.set(Wt,tn),_t.forEach(cn=>zc(cn,tn))}),e.push(()=>{_.forEach((_t,Wt)=>{const tn=v.get(Wt);_t.forEach(cn=>__(cn,tn))}),Re.forEach((_t,Wt)=>{const tn=pe.get(Wt);_t.forEach(cn=>__(cn,tn))}),P.forEach(_t=>{this.processLeaveNode(_t)})});const Ye=[],tt=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(t).forEach(tn=>{const cn=tn.player,Bn=tn.element;if(Ye.push(cn),this.collectedEnterElements.length){const Ji=Bn[wl];if(Ji&&Ji.setForMove){if(Ji.previousTriggersValues&&Ji.previousTriggersValues.has(tn.triggerName)){const Hs=Ji.previousTriggersValues.get(tn.triggerName),Eo=this.statesByElement.get(tn.element);if(Eo&&Eo.has(tn.triggerName)){const qa=Eo.get(tn.triggerName);qa.value=Hs,Eo.set(tn.triggerName,qa)}}return void cn.destroy()}}const Wi=!h||!this.driver.containsElement(h,Bn),xn=pe.get(Bn),eo=v.get(Bn),ki=this._buildInstruction(tn,i,eo,xn,Wi);if(ki.errors&&ki.errors.length)return void tt.push(ki);if(Wi)return cn.onStart(()=>Op(Bn,ki.fromStyles)),cn.onDestroy(()=>ud(Bn,ki.toStyles)),void r.push(cn);if(tn.isFallbackTransition)return cn.onStart(()=>Op(Bn,ki.fromStyles)),cn.onDestroy(()=>ud(Bn,ki.toStyles)),void r.push(cn);const zs=[];ki.timelines.forEach(Ji=>{Ji.stretchStartingKeyframe=!0,this.disabledNodes.has(Ji.element)||zs.push(Ji)}),ki.timelines=zs,i.append(Bn,ki.timelines),s.push({instruction:ki,player:cn,element:Bn}),ki.queriedElements.forEach(Ji=>dc(a,Ji,[]).push(cn)),ki.preStyleProps.forEach((Ji,Hs)=>{if(Ji.size){let Eo=c.get(Hs);Eo||c.set(Hs,Eo=new Set),Ji.forEach((qa,wc)=>Eo.add(wc))}}),ki.postStyleProps.forEach((Ji,Hs)=>{let Eo=l.get(Hs);Eo||l.set(Hs,Eo=new Set),Ji.forEach((qa,wc)=>Eo.add(wc))})});if(tt.length){const _t=[];tt.forEach(Wt=>{_t.push(function bpe(n,e){return new Me(3505,!1)}())}),Ye.forEach(Wt=>Wt.destroy()),this.reportError(_t)}const ht=new Map,Mt=new Map;s.forEach(_t=>{const Wt=_t.element;i.has(Wt)&&(Mt.set(Wt,Wt),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,ht))}),r.forEach(_t=>{const Wt=_t.element;this._getPreviousPlayers(Wt,!1,_t.namespaceId,_t.triggerName,null).forEach(cn=>{dc(ht,Wt,[]).push(cn),cn.destroy()})});const xt=P.filter(_t=>dH(_t,c,l)),yt=new Map;aH(yt,this.driver,Q,l,Cu).forEach(_t=>{dH(_t,c,l)&&xt.push(_t)});const Vt=new Map;_.forEach((_t,Wt)=>{aH(Vt,this.driver,new Set(_t),c,"!")}),xt.forEach(_t=>{const Wt=yt.get(_t),tn=Vt.get(_t);yt.set(_t,new Map([...Wt?.entries()??[],...tn?.entries()??[]]))});const gt=[],St=[],Xt={};s.forEach(_t=>{const{element:Wt,player:tn,instruction:cn}=_t;if(i.has(Wt)){if(d.has(Wt))return tn.onDestroy(()=>ud(Wt,cn.toStyles)),tn.disabled=!0,tn.overrideTotalTime(cn.totalTime),void r.push(tn);let Bn=Xt;if(Mt.size>1){let xn=Wt;const eo=[];for(;xn=xn.parentNode;){const ki=Mt.get(xn);if(ki){Bn=ki;break}eo.push(xn)}eo.forEach(ki=>Mt.set(ki,Bn))}const Wi=this._buildAnimation(tn.namespaceId,cn,ht,o,Vt,yt);if(tn.setRealPlayer(Wi),Bn===Xt)gt.push(tn);else{const xn=this.playersByElement.get(Bn);xn&&xn.length&&(tn.parentPlayer=Wh(xn)),r.push(tn)}}else Op(Wt,cn.fromStyles),tn.onDestroy(()=>ud(Wt,cn.toStyles)),St.push(tn),d.has(Wt)&&r.push(tn)}),St.forEach(_t=>{const Wt=o.get(_t.element);if(Wt&&Wt.length){const tn=Wh(Wt);_t.setRealPlayer(tn)}}),r.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<P.length;_t++){const Wt=P[_t],tn=Wt[wl];if(__(Wt,$C),tn&&tn.hasAnimation)continue;let cn=[];if(a.size){let Wi=a.get(Wt);Wi&&Wi.length&&cn.push(...Wi);let xn=this.driver.query(Wt,CR,!0);for(let eo=0;eo<xn.length;eo++){let ki=a.get(xn[eo]);ki&&ki.length&&cn.push(...ki)}}const Bn=cn.filter(Wi=>!Wi.destroyed);Bn.length?_me(this,Wt,Bn):this.processLeaveNode(Wt)}return P.length=0,gt.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const Wt=this.players.indexOf(_t);this.players.splice(Wt,1)}),_t.play()}),gt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==M0;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,d=l!==o,h=dc(i,l,[]);this._getPreviousPlayers(l,d,s,a,t.toState).forEach(_=>{const v=_.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),_.destroy(),h.push(_)})}Op(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,l=[],d=new Set,h=new Set,p=t.timelines.map(v=>{const A=v.element;d.add(A);const P=A[wl];if(P&&P.removedBeforeQueried)return new s0(v.duration,v.delay);const X=A!==c,Q=function bme(n){const e=[];return lH(n,e),e}((i.get(A)||dme).map(ht=>ht.getRealPlayer())).filter(ht=>!!ht.element&&ht.element===A),pe=o.get(A),Re=s.get(A),Ye=U6(this._normalizer,v.keyframes,pe,Re),tt=this._buildPlayer(v,Ye,Q);if(v.subTimeline&&r&&h.add(A),X){const ht=new LR(e,a,A);ht.setRealPlayer(tt),l.push(ht)}return tt});l.forEach(v=>{dc(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function pme(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>zc(v,W6));const _=Wh(p);return _.onDestroy(()=>{d.forEach(v=>__(v,W6)),ud(c,t.toStyles)}),h.forEach(v=>{dc(r,v,[]).push(_)}),_}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new s0(e.duration,e.delay)}}class LR{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new s0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>gR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){dc(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function iS(n){return n&&1===n.nodeType}function sH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function aH(n,e,t,i,r){const o=[];t.forEach(c=>o.push(sH(c)));const s=[];i.forEach((c,l)=>{const d=new Map;c.forEach(h=>{const p=e.computeStyle(l,h,r);d.set(h,p),(!p||0==p.length)&&(l[wl]=ume,s.push(l))}),n.set(l,d)});let a=0;return t.forEach(c=>sH(c,o[a++])),s}function cH(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function zc(n,e){n.classList?.add(e)}function __(n,e){n.classList?.remove(e)}function _me(n,e,t){Wh(t).onDone(()=>n.processLeaveNode(e))}function lH(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof U8?lH(i.players,e):e.push(i)}}function dH(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class T0{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new fme(e.body,t,i),this._timelineEngine=new ome(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],d=TR(this._driver,o,c,[]);if(c.length)throw function ape(n,e){return new Me(3404,!1)}();a=function tme(n,e,t){return new nme(n,e,t)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=V6(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=V6(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let wme=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ud(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ud(this._element,this._initialStyles),this._endStyles&&(ud(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Op(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Op(this._element,this._endStyles),this._endStyles=null),ud(this._element,this._initialStyles),this._state=3)}}return n})();function BR(n){let e=null;return n.forEach((t,i)=>{(function xme(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class uH{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:K6(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class hH{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return z6(e,t)}getParentElement(e){return yR(e)}query(e,t,i){return H6(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,d=s.filter(_=>_ instanceof uH);(function kpe(n,e){return 0===n||0===e})(i,r)&&d.forEach(_=>{_.currentSnapshot.forEach((v,A)=>l.set(A,v))});let h=function Tpe(n){return n.length?n[0]instanceof Map?n:n.map(e=>$6(e)):[]}(t).map(_=>$h(_));h=function Ope(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,K6(n,a)))}}return e}(e,h,l);const p=function vme(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=BR(e[0]),e.length>1&&(i=BR(e[e.length-1]))):e instanceof Map&&(t=BR(e)),t||i?new wme(n,t,i):null}(e,h);return new uH(e,h,c,p)}}const fH="@.disabled";class pH{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==fH?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Eme extends pH{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==fH?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Cme(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Sme(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class Ame{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const l=this._rendererCache;let d=l.get(r);return d||(d=new pH("",r,this.engine,()=>l.delete(r)),l.set(r,d)),d}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new Eme(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let Mme=(()=>{class n extends T0{constructor(t,i,r,o){super(t,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(wR),et(xR),et(_u))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();const mH=[{provide:xR,useFactory:function Tme(){return new q6}},{provide:T0,useClass:Mme},{provide:fv,useFactory:function Ime(n,e,t){return new Ame(n,e,t)},deps:[bO,T0,gn]}],UR=[{provide:wR,useFactory:()=>new hH},{provide:Lr,useValue:"BrowserAnimations"},...mH],gH=[{provide:wR,useClass:vR},{provide:Lr,useValue:"NoopAnimations"},...mH];let VR=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?gH:UR}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:UR,imports:[wO]})}return n})();function I0(n){return(I0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Se(n,e,t){return(e=function kme(n){var e=function Dme(n,e){if("object"!==I0(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!==I0(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===I0(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _H(n){if(typeof window<"u"&&"object"==typeof window.process&&"renderer"===window.process.type||typeof process<"u"&&"object"==typeof process.versions&&process.versions.electron)return!0;const e="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent,t=n||e;return!!(t&&t.indexOf("Electron")>=0)}function hd(){return!("object"==typeof process&&"[object process]"===String(process)&&!process.browser)||_H()}const bH=typeof __VERSION__<"u"?__VERSION__:"untranspiled source";hd();class Rme{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";Se(this,"storage",void 0),Se(this,"id",void 0),Se(this,"config",void 0),this.storage=function Ome(n){try{const e=window[n],t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch{return null}}(i),this.id=e,this.config=t,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}function jR(n,e,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;const r=n.src.replace(/\(/g,"%28").replace(/\)/g,"%29");n.width>i&&(t=Math.min(t,i/n.width));const o=n.width*t,s=n.height*t,a=["font-size:1px;","padding:".concat(Math.floor(s/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(s,"px;"),"background:url(".concat(r,");"),"background-size:".concat(o,"px ").concat(s,"px;"),"color:transparent;"].join("");return["".concat(e," %c+"),a]}let oS;var n;function yH(n){return"string"==typeof n?oS[n.toUpperCase()]||oS.WHITE:n}function sS(n,e){if(!n)throw new Error(e||"Assertion failed")}(n=oS||(oS={}))[n.BLACK=30]="BLACK",n[n.RED=31]="RED",n[n.GREEN=32]="GREEN",n[n.YELLOW=33]="YELLOW",n[n.BLUE=34]="BLUE",n[n.MAGENTA=35]="MAGENTA",n[n.CYAN=36]="CYAN",n[n.WHITE=37]="WHITE",n[n.BRIGHT_BLACK=90]="BRIGHT_BLACK",n[n.BRIGHT_RED=91]="BRIGHT_RED",n[n.BRIGHT_GREEN=92]="BRIGHT_GREEN",n[n.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",n[n.BRIGHT_BLUE=94]="BRIGHT_BLUE",n[n.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",n[n.BRIGHT_CYAN=96]="BRIGHT_CYAN",n[n.BRIGHT_WHITE=97]="BRIGHT_WHITE";const Yh={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document,process:"object"==typeof process&&process},aS=Yh.window||Yh.self||Yh.global,D0=Yh.process||{};function b_(){let n;var e,t;if(hd&&"performance"in aS)n=null==aS||null===(e=aS.performance)||void 0===e||null===(t=e.now)||void 0===t?void 0:t.call(e);else if("hrtime"in D0){var i;const r=null==D0||null===(i=D0.hrtime)||void 0===i?void 0:i.call(D0);n=1e3*r[0]+r[1]/1e6}else n=Date.now();return n}const y_={debug:hd&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},Vme={enabled:!0,level:0};function Hc(){}const vH={},wH={once:!0};class k0{constructor(){let{id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};Se(this,"id",void 0),Se(this,"VERSION",bH),Se(this,"_startTs",b_()),Se(this,"_deltaTs",b_()),Se(this,"_storage",void 0),Se(this,"userData",{}),Se(this,"LOG_THROTTLE_TIMEOUT",0),this.id=e,this.userData={},this._storage=new Rme("__probe-".concat(this.id,"__"),Vme),this.timeStamp("".concat(this.id," started")),function Ume(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const t=Object.getPrototypeOf(n),i=Object.getOwnPropertyNames(t);for(const r of i)"function"==typeof n[r]&&(e.find(o=>r===o)||(n[r]=n[r].bind(n)))}(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((b_()-this._startTs).toPrecision(10))}getDelta(){return Number((b_()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){return this._storage.setConfiguration({enabled:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,t){this._storage.setConfiguration({[e]:t})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,t){sS(e,t)}warn(e){return this._getLogFunction(0,e,y_.warn,arguments,wH)}error(e){return this._getLogFunction(0,e,y_.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,y_.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,y_.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return this._getLogFunction(e,t,y_.debug||y_.info,arguments,wH)}table(e,t,i){return t?this._getLogFunction(e,t,console.table||Hc,i&&[i],{tag:Gme(t)}):Hc}image(e){let{logLevel:t,priority:i,image:r,message:o="",scale:s=1}=e;return this._shouldLog(t||i)?hd?function Hme(n){let{image:e,message:t="",scale:i=1}=n;if("string"==typeof e){const o=new Image;return o.onload=()=>{const s=jR(o,t,i);console.log(...s)},o.src=e,Hc}const r=e.nodeName||"";if("img"===r.toLowerCase())return console.log(...jR(e,t,i)),Hc;if("canvas"===r.toLowerCase()){const o=new Image;return o.onload=()=>console.log(...jR(o,t,i)),o.src=e.toDataURL(),Hc}return Hc}({image:r,message:o,scale:s}):function zme(n){let{message:t="",scale:i=1}=n;return console.warn("removed"),Hc}({image:r,message:o,scale:s}):Hc}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||Hc)}group(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const r=EH({logLevel:e,message:t,opts:i}),{collapsed:o}=i;return r.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(e,t){return this.group(e,t,Object.assign({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||Hc)}withGroup(e,t,i){this.group(e,t)();try{i()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=xH(e)}_getLogFunction(e,t,i,r,o){if(this._shouldLog(e)){o=EH({logLevel:e,message:t,args:r,opts:o}),sS(i=i||o.method),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=b_();const s=o.tag||o.message;if(o.once){if(vH[s])return Hc;vH[s]=b_()}return t=function jme(n,e,t){if("string"==typeof e){const i=t.time?function Nme(n){const t=Math.max((arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-n.length,0);return"".concat(" ".repeat(t)).concat(n)}(function Pme(n){let e;return e=n<10?"".concat(n.toFixed(2),"ms"):n<100?"".concat(n.toFixed(1),"ms"):n<1e3?"".concat(n.toFixed(0),"ms"):"".concat((n/1e3).toFixed(2),"s"),e}(t.total)):"";e=function Bme(n,e,t){return!hd&&"string"==typeof n&&(e&&(e=yH(e),n="\x1b[".concat(e,"m").concat(n,"\x1b[39m")),t&&(e=yH(t),n="\x1b[".concat(t+10,"m").concat(n,"\x1b[49m"))),n}(e=t.time?"".concat(n,": ").concat(i,"  ").concat(e):"".concat(n,": ").concat(e),t.color,t.background)}return e}(this.id,o.message,o),i.bind(console,t,...o.args)}return Hc}}function xH(n){if(!n)return 0;let e;switch(typeof n){case"number":e=n;break;case"object":e=n.logLevel||n.priority||0;break;default:return 0}return sS(Number.isFinite(e)&&e>=0),e}function EH(n){const{logLevel:e,message:t}=n;n.logLevel=xH(e);const i=n.args?Array.from(n.args):[];for(;i.length&&i.shift()!==t;);switch(typeof e){case"string":case"function":void 0!==t&&i.unshift(t),n.message=e;break;case"object":Object.assign(n,e)}"function"==typeof n.message&&(n.message=n.message());const r=typeof n.message;return sS("string"===r||"object"===r),Object.assign(n,{args:i},n.opts)}function Gme(n){for(const e in n)for(const t in n[e])return t||"untitled";return"empty"}Se(k0,"VERSION",bH);const Ui=new k0({id:"deck"}),qi={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(qi,"IDENTITY",{get:()=>(Ui.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const fd={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},cS={common:0,meters:1,pixels:2},CH={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},Dn=new k0({id:"luma.gl"});function Aa(n,e){if(!n)throw new Error(e||"luma.gl: assertion failed.")}const $me="Requires WebGL2";function lS(n){return typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext||typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||!Number.isFinite(n._version))}function Ii(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||2!==n._version)}function dS(n){return Aa(lS(n),"Invalid WebGLRenderingContext"),n}function ra(n){return Aa(Ii(n),$me),n}const R0={};const P0=function n(e){const t=e.gl;this.ext=e,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(e.maxVertexAttribs);for(let i=0;i<this.attribs.length;i++){const r=new n.VertexAttrib(t);this.attribs[i]=r}this.maxAttrib=0};(P0.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const Pp=function(e){const t=this;this.gl=e,function Jme(n){const e=n.getError;n.getError=function(){let i;do{i=e.apply(n),0!==i&&(R0[i]=!0)}while(0!==i);for(i in R0)if(R0[i])return delete R0[i],parseInt(i,10);return 0}}(e);const i=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(o){return o===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:i.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(o){const s=t.currentVertexArrayObject;return s.maxAttrib=Math.max(s.maxAttrib,o),s.attribs[o].enabled=!0,i.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(o){const s=t.currentVertexArrayObject;return s.maxAttrib=Math.max(s.maxAttrib,o),s.attribs[o].enabled=!1,i.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(o,s){switch(o){case 34962:t.currentArrayBuffer=s;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=s}return i.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(o,s){const c=t.currentVertexArrayObject.attribs[o];switch(s){case 34975:return c.buffer;case 34338:return c.enabled;case 34339:return c.size;case 34340:return c.stride;case 34341:return c.type;case 34922:return c.normalized;default:return i.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(o,s,a,c,l,d){const h=t.currentVertexArrayObject;h.maxAttrib=Math.max(h.maxAttrib,o);const p=h.attribs[o];return p.buffer=t.currentArrayBuffer,p.size=s,p.type=a,p.normalized=c,p.stride=l,p.offset=d,p.recache(),i.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",()=>{(function Kme(n){globalThis.console&&globalThis.console.log&&globalThis.console.log(n)})("OESVertexArrayObject emulation library context restored"),t.reset_()},!0),this.reset_()};Pp.prototype.VERTEX_ARRAY_BINDING_OES=34229,Pp.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(let i=0;i<this.vertexArrayObjects.length;++i)this.vertexArrayObjects.isAlive=!1;this.maxVertexAttribs=this.gl.getParameter(34921),this.defaultVertexArrayObject=new P0(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},Pp.prototype.createVertexArrayOES=function(){const e=new P0(this);return this.vertexArrayObjects.push(e),e},Pp.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},Pp.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof P0&&e.hasBeenBound&&e.ext===this)},Pp.prototype.bindVertexArrayOES=function(e){const t=this.gl;if(e&&!e.isAlive)return void function qme(n,e){R0[n]=!0,void 0!==e&&function Xme(n){globalThis.console&&globalThis.console.error&&globalThis.console.error(n)}(e)}(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject");const i=this.original,r=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const o=this.currentVertexArrayObject;if(r===o)return;(!r||o.elementArrayBuffer!==r.elementArrayBuffer)&&i.bindBuffer.call(t,34963,o.elementArrayBuffer);let s=this.currentArrayBuffer;const a=Math.max(r?r.maxAttrib:0,o.maxAttrib);for(let c=0;c<=a;c++){const l=o.attribs[c],d=r?r.attribs[c]:null;if((!r||l.enabled!==d.enabled)&&(l.enabled?i.enableVertexAttribArray.call(t,c):i.disableVertexAttribArray.call(t,c)),l.enabled){let h=!1;(!r||l.buffer!==d.buffer)&&(s!==l.buffer&&(i.bindBuffer.call(t,34962,l.buffer),s=l.buffer),h=!0),(h||l.cached!==d.cached)&&i.vertexAttribPointer.call(t,c,l.size,l.type,l.normalized,l.stride,l.offset)}}this.currentArrayBuffer!==s&&i.bindBuffer.call(t,34962,this.currentArrayBuffer)};const SH="OES_element_index",AH="WEBGL_draw_buffers",MH="WEBGL_debug_renderer_info",zr=n=>Ii(n)?void 0:0,cge={3074:n=>Ii(n)?void 0:36064,35723:n=>Ii(n)?void 0:4352,35977:zr,32937:zr,36795:(n,e)=>{const t=Ii(n)?n.getExtension("EXT_disjoint_timer_query_webgl2"):n.getExtension("EXT_disjoint_timer_query");return t&&t.GPU_DISJOINT_EXT?e(t.GPU_DISJOINT_EXT):0},37445:(n,e)=>{const t=n.getExtension(MH);return e(t&&t.UNMASKED_VENDOR_WEBGL||7936)},37446:(n,e)=>{const t=n.getExtension(MH);return e(t&&t.UNMASKED_RENDERER_WEBGL||7937)},34047:(n,e)=>{const t=n.luma.extensions.EXT_texture_filter_anisotropic;return t?e(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},32883:zr,35071:zr,37447:zr,36063:(n,e)=>{if(!Ii(n)){const t=n.getExtension(AH);return t?e(t.MAX_COLOR_ATTACHMENTS_WEBGL):0}},35379:zr,35374:zr,35377:zr,34852:n=>{if(!Ii(n)){const e=n.getExtension(AH);return e?e.MAX_DRAW_BUFFERS_WEBGL:0}},36203:n=>n.getExtension(SH)?2147483647:65535,33001:n=>n.getExtension(SH)?16777216:65535,33e3:n=>16777216,37157:zr,35373:zr,35657:zr,36183:zr,37137:zr,34045:zr,35978:zr,35979:zr,35968:zr,35376:zr,35375:zr,35659:zr,37154:zr,35371:zr,35658:zr,35076:zr,35077:zr,35380:zr},TH="ANGLE_instanced_arrays",IH={OES_vertex_array_object:{meta:{suffix:"OES"},createVertexArray:()=>{Aa(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[TH]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(n,e){Aa(0===e,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},WEBGL_draw_buffers:{meta:{suffix:"WEBGL"},drawBuffers:()=>{Aa(!1)}},EXT_disjoint_timer_query:{meta:{suffix:"EXT"},createQuery:()=>{Aa(!1)},deleteQuery:()=>{Aa(!1)},beginQuery:()=>{Aa(!1)},endQuery:()=>{},getQuery(n,e){return this.getQueryObject(n,e)},getQueryParameter(n,e){return this.getQueryObject(n,e)},getQueryObject:()=>{}}},zR={readBuffer:(n,e,t)=>{Ii(n)&&e(t)},getVertexAttrib:(n,e,t,i)=>{const{webgl2:r,ext:o}=function mge(n,e){return{webgl2:Ii(n),ext:n.getExtension(e)}}(n,TH);let s;switch(i){case 35069:s=!!r&&void 0;break;case 35070:s=r||o?void 0:0}return void 0!==s?s:e(t,i)},getProgramParameter:(n,e,t,i)=>{if(!Ii(n))switch(i){case 35967:return 35981;case 35971:case 35382:return 0}return e(t,i)},getInternalformatParameter:(n,e,t,i,r)=>Ii(n)||32937!==r?n.getInternalformatParameter(t,i,r):new Int32Array([0]),getTexParameter(n,e,t,i){if(34046===i){const{extensions:r}=n.luma,o=r.EXT_texture_filter_anisotropic;i=o&&o.TEXTURE_MAX_ANISOTROPY_EXT||34046}return e(t,i)},getParameter:function lge(n,e,t){const i=cge[t],r="function"==typeof i?i(n,e,t):i;return void 0!==r?r:e(t)},hint:(n,e,t,i)=>e(t,i)};function vge(n,e){let{extension:t,target:i,target2:r}=e;const o=IH[t];Aa(o);const{meta:s={}}=o,{suffix:a=""}=s,c=n.getExtension(t);for(const l of Object.keys(o)){const d="".concat(l).concat(a);let h=null;"meta"===l||"function"==typeof n[l]||(c&&"function"==typeof c[d]?h=function(){return c[d](...arguments)}:"function"==typeof o[l]&&(h=o[l].bind(i))),h&&(i[l]=h,r[l]=h)}}globalThis.polyfillContext=function gge(n){n.luma=n.luma||{};const{luma:e}=n;return e.polyfilled||(function Zme(n){if("function"==typeof n.createVertexArray)return;const e=n.getSupportedExtensions;n.getSupportedExtensions=function(){const r=e.call(this)||[];return r.indexOf("OES_vertex_array_object")<0&&r.push("OES_vertex_array_object"),r};const t=n.getExtension;n.getExtension=function(r){return t.call(this,r)||("OES_vertex_array_object"!==r?null:(n.__OESVertexArrayObject||(this.__OESVertexArrayObject=new Pp(this)),this.__OESVertexArrayObject))}}(n),function _ge(n){n.luma.extensions={};const e=n.getSupportedExtensions()||[];for(const t of e)n.luma[t]=n.getExtension(t)}(n),function yge(n,e){for(const t of Object.getOwnPropertyNames(e))"overrides"!==t&&vge(n,{extension:t,target:n.luma,target2:n})}(n,IH),function bge(n,e){let{target:t,target2:i}=e;Object.keys(zR).forEach(r=>{if("function"==typeof zR[r]){const o=n[r]?n[r].bind(n):()=>{},s=zR[r].bind(null,n,o);t[r]=s,i[r]=s}})}(n,{target:e,target2:n}),e.polyfilled=!0),n};const HR={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,36006:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],3333:4,3317:4,37440:!1,37441:!1,37443:37444,35723:4352,36010:null,35977:!1,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},Xh=(n,e,t)=>e?n.enable(t):n.disable(t),DH=(n,e,t)=>n.hint(t,e),hc=(n,e,t)=>n.pixelStorei(t,e);function N0(n){return Array.isArray(n)||ArrayBuffer.isView(n)}const Ege={3042:Xh,32773:(n,e)=>n.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(n,e)=>n.clearColor(...e),3107:(n,e)=>n.colorMask(...e),2884:Xh,2885:(n,e)=>n.cullFace(e),2929:Xh,2931:(n,e)=>n.clearDepth(e),2932:(n,e)=>n.depthFunc(e),2928:(n,e)=>n.depthRange(...e),2930:(n,e)=>n.depthMask(e),3024:Xh,35723:DH,36006:(n,e)=>{const t=Ii(n)?36009:36160;return n.bindFramebuffer(t,e)},2886:(n,e)=>n.frontFace(e),33170:DH,2849:(n,e)=>n.lineWidth(e),32823:Xh,32824:"polygonOffset",10752:"polygonOffset",35977:Xh,32938:"sampleCoverage",32939:"sampleCoverage",3089:Xh,3088:(n,e)=>n.scissor(...e),2960:Xh,2961:(n,e)=>n.clearStencil(e),2968:(n,e)=>n.stencilMaskSeparate(1028,e),36005:(n,e)=>n.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(n,e)=>n.viewport(...e),3333:hc,3317:hc,37440:hc,37441:hc,37443:hc,3330:hc,3332:hc,3331:hc,36010:(n,e)=>n.bindFramebuffer(36008,e),3314:hc,32878:hc,3316:hc,3315:hc,32877:hc,framebuffer:(n,e)=>n.bindFramebuffer(36160,e&&"handle"in e?e.handle:e),blend:(n,e)=>e?n.enable(3042):n.disable(3042),blendColor:(n,e)=>n.blendColor(...e),blendEquation:(n,e)=>{e=N0(e)?e:[e,e],n.blendEquationSeparate(...e)},blendFunc:(n,e)=>{e=N0(e)&&2===e.length?[...e,...e]:e,n.blendFuncSeparate(...e)},clearColor:(n,e)=>n.clearColor(...e),clearDepth:(n,e)=>n.clearDepth(e),clearStencil:(n,e)=>n.clearStencil(e),colorMask:(n,e)=>n.colorMask(...e),cull:(n,e)=>e?n.enable(2884):n.disable(2884),cullFace:(n,e)=>n.cullFace(e),depthTest:(n,e)=>e?n.enable(2929):n.disable(2929),depthFunc:(n,e)=>n.depthFunc(e),depthMask:(n,e)=>n.depthMask(e),depthRange:(n,e)=>n.depthRange(...e),dither:(n,e)=>e?n.enable(3024):n.disable(3024),derivativeHint:(n,e)=>{n.hint(35723,e)},frontFace:(n,e)=>n.frontFace(e),mipmapHint:(n,e)=>n.hint(33170,e),lineWidth:(n,e)=>n.lineWidth(e),polygonOffsetFill:(n,e)=>e?n.enable(32823):n.disable(32823),polygonOffset:(n,e)=>n.polygonOffset(...e),sampleCoverage:(n,e)=>n.sampleCoverage(...e),scissorTest:(n,e)=>e?n.enable(3089):n.disable(3089),scissor:(n,e)=>n.scissor(...e),stencilTest:(n,e)=>e?n.enable(2960):n.disable(2960),stencilMask:(n,e)=>{e=N0(e)?e:[e,e];const[t,i]=e;n.stencilMaskSeparate(1028,t),n.stencilMaskSeparate(1029,i)},stencilFunc:(n,e)=>{e=N0(e)&&3===e.length?[...e,...e]:e;const[t,i,r,o,s,a]=e;n.stencilFuncSeparate(1028,t,i,r),n.stencilFuncSeparate(1029,o,s,a)},stencilOp:(n,e)=>{e=N0(e)&&3===e.length?[...e,...e]:e;const[t,i,r,o,s,a]=e;n.stencilOpSeparate(1028,t,i,r),n.stencilOpSeparate(1029,o,s,a)},viewport:(n,e)=>n.viewport(...e)};function vo(n,e,t){return void 0!==e[n]?e[n]:t[n]}const Cge={blendEquation:(n,e,t)=>n.blendEquationSeparate(vo(32777,e,t),vo(34877,e,t)),blendFunc:(n,e,t)=>n.blendFuncSeparate(vo(32969,e,t),vo(32968,e,t),vo(32971,e,t),vo(32970,e,t)),polygonOffset:(n,e,t)=>n.polygonOffset(vo(32824,e,t),vo(10752,e,t)),sampleCoverage:(n,e,t)=>n.sampleCoverage(vo(32938,e,t),vo(32939,e,t)),stencilFuncFront:(n,e,t)=>n.stencilFuncSeparate(1028,vo(2962,e,t),vo(2967,e,t),vo(2963,e,t)),stencilFuncBack:(n,e,t)=>n.stencilFuncSeparate(1029,vo(34816,e,t),vo(36003,e,t),vo(36004,e,t)),stencilOpFront:(n,e,t)=>n.stencilOpSeparate(1028,vo(2964,e,t),vo(2965,e,t),vo(2966,e,t)),stencilOpBack:(n,e,t)=>n.stencilOpSeparate(1029,vo(34817,e,t),vo(34818,e,t),vo(34819,e,t))},kH={enable:(n,e)=>n({[e]:!0}),disable:(n,e)=>n({[e]:!1}),pixelStorei:(n,e,t)=>n({[e]:t}),hint:(n,e,t)=>n({[e]:t}),bindFramebuffer:(n,e,t)=>{switch(e){case 36160:return n({36006:t,36010:t});case 36009:return n({36006:t});case 36008:return n({36010:t});default:return null}},blendColor:(n,e,t,i,r)=>n({32773:new Float32Array([e,t,i,r])}),blendEquation:(n,e)=>n({32777:e,34877:e}),blendEquationSeparate:(n,e,t)=>n({32777:e,34877:t}),blendFunc:(n,e,t)=>n({32969:e,32968:t,32971:e,32970:t}),blendFuncSeparate:(n,e,t,i,r)=>n({32969:e,32968:t,32971:i,32970:r}),clearColor:(n,e,t,i,r)=>n({3106:new Float32Array([e,t,i,r])}),clearDepth:(n,e)=>n({2931:e}),clearStencil:(n,e)=>n({2961:e}),colorMask:(n,e,t,i,r)=>n({3107:[e,t,i,r]}),cullFace:(n,e)=>n({2885:e}),depthFunc:(n,e)=>n({2932:e}),depthRange:(n,e,t)=>n({2928:new Float32Array([e,t])}),depthMask:(n,e)=>n({2930:e}),frontFace:(n,e)=>n({2886:e}),lineWidth:(n,e)=>n({2849:e}),polygonOffset:(n,e,t)=>n({32824:e,10752:t}),sampleCoverage:(n,e,t)=>n({32938:e,32939:t}),scissor:(n,e,t,i,r)=>n({3088:new Int32Array([e,t,i,r])}),stencilMask:(n,e)=>n({2968:e,36005:e}),stencilMaskSeparate:(n,e,t)=>n({[1028===e?2968:36005]:t}),stencilFunc:(n,e,t,i)=>n({2962:e,2967:t,2963:i,34816:e,36003:t,36004:i}),stencilFuncSeparate:(n,e,t,i,r)=>n({[1028===e?2962:34816]:t,[1028===e?2967:36003]:i,[1028===e?2963:36004]:r}),stencilOp:(n,e,t,i)=>n({2964:e,2965:t,2966:i,34817:e,34818:t,34819:i}),stencilOpSeparate:(n,e,t,i,r)=>n({[1028===e?2964:34817]:t,[1028===e?2965:34818]:i,[1028===e?2966:34819]:r}),viewport:(n,e,t,i,r)=>n({2978:[e,t,i,r]})},pd=(n,e)=>n.isEnabled(e),OH={3042:pd,2884:pd,2929:pd,3024:pd,32823:pd,32926:pd,32928:pd,3089:pd,2960:pd,35977:pd};function RH(n){for(const e in n)return!1;return!0}function Sge(n,e){if(n===e)return!0;const t=Array.isArray(n)||ArrayBuffer.isView(n),i=Array.isArray(e)||ArrayBuffer.isView(e);if(t&&i&&n.length===e.length){for(let r=0;r<n.length;++r)if(n[r]!==e[r])return!1;return!0}return!1}function PH(n,e){const t=n[e].bind(n);n[e]=function(){const r=arguments.length<=0?void 0:arguments[0];return r in n.state.cache&&n.state.enable?n.state.cache[r]:t(...arguments)},Object.defineProperty(n[e],"name",{value:"".concat(e,"-from-cache"),configurable:!1})}function Age(n,e,t){const i=n[e].bind(n);n[e]=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const{valueChanged:c,oldValue:l}=t(n.state._updateCache,...s);return c&&i(...s),l},Object.defineProperty(n[e],"name",{value:"".concat(e,"-to-cache"),configurable:!1})}class Tge{constructor(e){let{copyState:t=!1,log:i=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=t?function Dge(n,e){if("number"==typeof(e=e||HR)){const r=e,o=OH[r];return o?o(n,r):n.getParameter(r)}const t=Array.isArray(e)?e:Object.keys(e),i={};for(const r of t){const o=OH[r];i[r]=o?o(n,Number(r)):n.getParameter(Number(r))}return i}(e):Object.assign({},HR),this.log=i,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){Aa(this.stateStack.length>0),Iu(this.gl,this.stateStack[this.stateStack.length-1]),this.stateStack.pop()}_updateCache(e){let i,t=!1;const r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const o in e){Aa(void 0!==o);const s=e[o],a=this.cache[o];Sge(s,a)||(t=!0,i=a,r&&!(o in r)&&(r[o]=a),this.cache[o]=s)}return{valueChanged:t,oldValue:i}}}function NH(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{enable:t=!0,copyState:i}=e;if(Aa(void 0!==i),!n.state){const{polyfillContext:r}=globalThis;r&&r(n),n.state=new Tge(n,{copyState:i}),function Mge(n){const e=n.useProgram.bind(n);n.useProgram=function(i){n.state.program!==i&&(e(i),n.state.program=i)}}(n);for(const o in kH)Age(n,o,kH[o]);PH(n,"getParameter"),PH(n,"isEnabled")}return n.state.enable=t,n}function FH(n){Aa(n.state),n.state.pop()}function Iu(n,e){if(Aa(lS(n),"setParameters requires a WebGL context"),RH(e))return;const t={};for(const r in e){const o=Number(r),s=Ege[r];s&&("string"==typeof s?t[s]=!0:s(n,e[r],o))}const i=n.state&&n.state.cache;if(i)for(const r in t)(0,Cge[r])(n,e,i)}function Gc(n,e,t){if(RH(e))return t(n);const{nocatch:i=!0}=e;let r;if(function Ige(n){n.state||NH(n,{copyState:!1}),n.state.push()}(n),Iu(n,e),i)r=t(n),FH(n);else try{r=t(n)}finally{FH(n)}return r}function v_(n){const{luma:e}=n;if(n.canvas&&e){const t=e.canvasSizeInfo,i="clientWidth"in t?t.clientWidth:n.canvas.clientWidth;return i?n.drawingBufferWidth/i:1}return 1}function GR(n,e){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function Rge(n,e,t,i,r){const o=LH(n[0],e,t);let s=BH(n[1],e,i,r),a=LH(n[0]+1,e,t);const c=a===t-1?a:a-1;let l;return a=BH(n[1]+1,e,i,r),r?(a=0===a?a:a+1,l=s,s=a):l=a===i-1?a:a-1,{x:o,y:s,width:Math.max(c-o+1,1),height:Math.max(l-s+1,1)}}(e,v_(n),n.drawingBufferWidth,n.drawingBufferHeight,t)}function LH(n,e,t){return Math.min(Math.round(n*e),t-1)}function BH(n,e,t,i){return i?Math.max(0,t-1-Math.round(n*e)):Math.min(Math.round(n*e),t-1)}const WR=hd(),Pge=WR&&typeof document<"u",UH={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function VH(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Aa(WR,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils"),n=Object.assign({},UH,n);const{width:e,height:t}=n;function i(a){if(n.throwOnError)throw new Error(a);return console.error(a),null}let r;n.onError=i;const{canvas:o}=n,s=function Bge(n){let o,{canvas:e,width:t=800,height:i=600,onError:r}=n;return"string"==typeof e?(Pge&&"complete"===document.readyState||r("createGLContext called on canvas '".concat(e,"' before page was loaded")),o=document.getElementById(e)):e?o=e:(o=document.createElement("canvas"),o.id="lumagl-canvas",o.style.width=Number.isFinite(t)?"".concat(t,"px"):"100%",o.style.height=Number.isFinite(i)?"".concat(i,"px"):"100%",document.body.insertBefore(o,document.body.firstChild)),o}({canvas:o,width:e,height:t,onError:i});return r=function Lge(n,e){const{onError:t}=e;let i=null;const r=c=>i=c.statusMessage||i;n.addEventListener("webglcontextcreationerror",r,!1);const{webgl1:o=!0,webgl2:s=!0}=e;let a=null;return s&&(a=a||n.getContext("webgl2",e),a=a||n.getContext("experimental-webgl2",e)),o&&(a=a||n.getContext("webgl",e),a=a||n.getContext("experimental-webgl",e)),n.removeEventListener("webglcontextcreationerror",r,!1),a?(e.onContextLost&&n.addEventListener("webglcontextlost",e.onContextLost,!1),e.onContextRestored&&n.addEventListener("webglcontextrestored",e.onContextRestored,!1),a):t("Failed to create ".concat(s&&!o?"WebGL2":"WebGL"," context: ").concat(i||"Unknown error"))}(s,n),r?(r=$R(r,n),function Uge(n){const e=Ii(n)?"WebGL2":"WebGL1",t=function Nge(n){const e=n.getParameter(7936),t=n.getParameter(7937),i=n.getExtension("WEBGL_debug_renderer_info");return{vendor:i&&n.getParameter(i.UNMASKED_VENDOR_WEBGL||7936)||e,renderer:i&&n.getParameter(i.UNMASKED_RENDERER_WEBGL||7937)||t,vendorMasked:e,rendererMasked:t,version:n.getParameter(7938),shadingLanguageVersion:n.getParameter(35724)}}(n),i=t?"(".concat(t.vendor,",").concat(t.renderer,")"):"",r=n.debug?" debug":"";Dn.info(1,"".concat(e).concat(r," context ").concat(i))()}(r),r):null}function $R(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!n||n._instrumented)return n;n._version=n._version||function Vge(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext?2:1}(n),n.luma=n.luma||{},n.luma.canvasSizeInfo=n.luma.canvasSizeInfo||{},e=Object.assign({},UH,e);const{manageState:t,debug:i}=e;return t&&NH(n,{copyState:!1,log:function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return Dn.log(1,...o)()}}),WR&&i&&(globalThis.makeDebugContext?(n=globalThis.makeDebugContext(n,e),Dn.level=Math.max(Dn.level,1)):Dn.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),n._instrumented=!0,n}function jH(){let n;if(typeof window<"u"&&window.performance)n=window.performance.now();else if(typeof process<"u"&&process.hrtime){const e=process.hrtime();n=1e3*e[0]+e[1]/1e6}else n=Date.now();return n}class zH{constructor(e,t){Se(this,"name",void 0),Se(this,"type",void 0),Se(this,"sampleSize",1),Se(this,"time",void 0),Se(this,"count",void 0),Se(this,"samples",void 0),Se(this,"lastTiming",void 0),Se(this,"lastSampleTime",void 0),Se(this,"lastSampleCount",void 0),Se(this,"_count",0),Se(this,"_time",0),Se(this,"_samples",0),Se(this,"_startTime",0),Se(this,"_timerPending",!1),this.name=e,this.type=t,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=jH(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(jH()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class YR{constructor(e){Se(this,"id",void 0),Se(this,"stats",{}),this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e){return this._getOrCreate({name:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count"})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const t in this.stats)e(this.stats[t])}getTable(){const e={};return this.forEach(t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}}),e}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(t=>this._getOrCreate(t))}_getOrCreate(e){if(!e||!e.name)return null;const{name:t,type:i}=e;return this.stats[t]||(this.stats[t]=e instanceof zH?e:new zH(t,i)),this.stats[t]}}const F0="8.5.21",Np=new class Hge{constructor(){this.stats=new Map}get(e){return this.stats.has(e)||this.stats.set(e,new YR({id:e})),this.stats.get(e)}};if(globalThis.luma&&globalThis.luma.VERSION!==F0)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(F0));function _n(n,e){if(!n)throw new Error(e||"luma.gl: assertion failed.")}function XR(n,e){if("string"!=typeof e)return e;const t=Number(e);if(!isNaN(t))return t;const i=n[e=e.replace(/^.*\./,"")];return _n(void 0!==i,"Accessing undefined constant GL.".concat(e)),i}function Kh(n,e){e=Number(e);for(const t in n)if(n[t]===e)return"GL.".concat(t);return String(e)}globalThis.luma||(hd()&&Dn.log(1,"luma.gl ".concat(F0," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:F0,version:F0,log:Dn,stats:Np,globals:{modules:{},nodeIO:{}}}),globalThis;const KR={};function Wa(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";KR[n]=KR[n]||1;const e=KR[n]++;return"".concat(n,"-").concat(e)}function HH(n){return _n("number"==typeof n,"Input must be a number"),n&&0==(n&n-1)}function w_(n){let e=!0;for(const t in n){e=!1;break}return e}function GH(n,e,t,i){const r="See luma.gl ".concat(t," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),o=Object.getPrototypeOf(n);i.forEach(s=>{o.methodName||(o[s]=()=>{throw Dn.removed("Calling removed method ".concat(e,".").concat(s,": "),r)(),new Error(s)})})}const x_="Resource subclass must define virtual methods";class Du{get[Symbol.toStringTag](){return"Resource"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dS(e);const{id:i,userData:r={}}=t;this.gl=e,this.gl2=e,this.id=i||Wa(this[Symbol.toStringTag]),this.userData=r,this._bound=!1,this._handle=t.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}get handle(){return this._handle}delete(){let{deleteChildren:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,t&&e&&t.filter(Boolean).forEach(i=>i.delete()),this}bind(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!=typeof e?(this._bindHandle(e),this):(this._bound?t=e():(this._bindHandle(this.handle),this._bound=!0,t=e(),this._bound=!1,this._bindHandle(null)),t)}unbind(){this.bind(null)}getParameter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_n(e=XR(this.gl,e));const r=(this.constructor.PARAMETERS||{})[e];if(r){const o=Ii(this.gl);if("webgl2"in r&&!o||"extension"in r&&!this.gl.getExtension(r.extension))return o&&"webgl2"in r?r.webgl2:r.webgl1}return this._getParameter(e,t)}getParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{parameters:t,keys:i}=e,r=this.constructor.PARAMETERS||{},o=Ii(this.gl),s={},a=t||Object.keys(r);for(const c of a){const l=r[c];if(l&&(!("webgl2"in l)||o)&&(!("extension"in l)||this.gl.getExtension(l.extension))){const h=i?Kh(this.gl,c):c;s[h]=this.getParameter(c,e),i&&"GLenum"===l.type&&(s[h]=Kh(this.gl,s[h]))}}return s}setParameter(e,t){_n(e=XR(this.gl,e));const r=(this.constructor.PARAMETERS||{})[e];if(r){const o=Ii(this.gl);if("webgl2"in r&&!o||"extension"in r&&!this.gl.getExtension(r.extension))throw new Error("Parameter not available on this platform");"GLenum"===r.type&&(t=XR(t))}return this._setParameter(e,t),this}setParameters(e){for(const t in e)this.setParameter(t,e[t]);return this}stubRemovedMethods(e,t,i){return GH(this,e,t,i)}initialize(e){}_createHandle(){throw new Error(x_)}_deleteHandle(){throw new Error(x_)}_bindHandle(e){throw new Error(x_)}_getOptsFromHandle(){throw new Error(x_)}_getParameter(e,t){throw new Error(x_)}_setParameter(e,t){throw new Error(x_)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_addStats(){const e=this[Symbol.toStringTag],t=Np.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get("".concat(e,"s Created")).incrementCount(),t.get("".concat(e,"s Active")).incrementCount()}_removeStats(){const e=this[Symbol.toStringTag];Np.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}_trackAllocatedMemory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(e,t),this._trackAllocatedMemoryForContext(e,t,this.gl.canvas&&this.gl.canvas.id),this.byteLength=e}_trackAllocatedMemoryForContext(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];const r=Np.get("Memory Usage".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""));r.get("GPU Memory").addCount(e),r.get("".concat(t," Memory")).addCount(e)}_trackDeallocatedMemory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(e),this._trackDeallocatedMemoryForContext(e,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}_trackDeallocatedMemoryForContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];const i=Np.get("Memory Usage".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:""));i.get("GPU Memory").subtractCount(this.byteLength),i.get("".concat(e," Memory")).subtractCount(this.byteLength)}}const Gge="Failed to deduce GL constant from typed array";function qR(n){switch(ArrayBuffer.isView(n)?n.constructor:n){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(Gge)}}function L0(n){let{clamped:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return e?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function $ge(n){let{data:e,width:t,height:i}=n;const r=Math.round(t/2),o=Math.round(i/2),s=new Uint8Array(r*o*4);for(let a=0;a<o;a++)for(let c=0;c<r;c++)for(let l=0;l<4;l++)s[4*(a*r+c)+l]=e[4*(2*a*t+2*c)+l];return{data:s,width:r,height:o}}function JR(n,e,t){const{removedProps:i={},deprecatedProps:r={},replacedProps:o={}}=t;for(const a in i)if(a in e){const l=i[a]?"".concat(n,".").concat(i[a]):"N/A";Dn.removed("".concat(n,".").concat(a),l)()}for(const a in r)if(a in e){const c=r[a];Dn.deprecated("".concat(n,".").concat(a),"".concat(n,".").concat(c))()}let s=null;for(const a in o)if(a in e){const c=o[a];Dn.deprecated("".concat(n,".").concat(a),"".concat(n,".").concat(c))(),s=s||Object.assign({},e),s[c]=e[a],delete s[a]}return s||e}const Yge={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},Xge={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class $a{static getBytesPerElement(e){return L0(e.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(e){return _n(e.size),L0(e.type||5126).BYTES_PER_ELEMENT*e.size}static resolve(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return new $a(Yge,...t)}constructor(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(r=>this._assign(r)),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return $a.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return $a.getBytesPerVertex(this)}_assign(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=JR("Accessor",e,Xge),void 0!==e.type&&(this.type=e.type,(5124===e.type||5125===e.type)&&(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&(this.index="boolean"==typeof e.index?e.index?1:0:e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}}const $H={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},Kge={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:$H},qge={removedProps:$H};class Sr extends Du{get[Symbol.toStringTag](){return"Buffer"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=t.target||(this.gl.webgl2?36662:34962),this.initialize(t),Object.seal(this)}getElementCount(){return Math.round(this.byteLength/$a.getBytesPerElement(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor))}getVertexCount(){return Math.round(this.byteLength/$a.getBytesPerVertex(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor))}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=JR("Buffer",e,Kge),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}setProps(e){return"accessor"in(e=JR("Buffer",e,qge))&&this.setAccessor(e.accessor),this}setAccessor(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new $a(e),this}reallocate(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}setData(e){return this.initialize(e)}subData(e){ArrayBuffer.isView(e)&&(e={data:e});const{data:t,offset:i=0,srcOffset:r=0}=e,o=e.byteLength||e.length;_n(t);const s=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(s,this.handle),0!==r||void 0!==o?(ra(this.gl),this.gl.bufferSubData(this.target,i,t,r,o)):this.gl.bufferSubData(s,i,t),this.gl.bindBuffer(s,null),this.debugData=null,this._inferType(t),this}copyData(e){let{sourceBuffer:t,readOffset:i=0,writeOffset:r=0,size:o}=e;const{gl:s}=this;return ra(s),s.bindBuffer(36662,t.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,i,r,o),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}getData(){let{dstData:e=null,srcByteOffset:t=0,dstOffset:i=0,length:r=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ra(this.gl);const o=L0(this.accessor.type||5126,{clamped:!1}),s=this._getAvailableElementCount(t),a=i;let c,l;e?(l=e.length,c=l-a):(c=Math.min(s,r||s),l=a+c);const d=Math.min(s,c);return r=r||d,_n(r<=d),e=e||new o(l),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,t,e,i,r),this.gl.bindBuffer(36662,null),e}bind(){let{target:e=this.target,index:t=this.accessor&&this.accessor.index,offset:i=0,size:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===e||35982===e?void 0!==r?this.gl.bindBufferRange(e,t,this.handle,i,r):(_n(0===i),this.gl.bindBufferBase(e,t,this.handle)):this.gl.bindBuffer(e,this.handle),this}unbind(){let{target:e=this.target,index:t=this.accessor&&this.accessor.index}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===e||35982===e?this.gl.bindBufferBase(e,t,null):this.gl.bindBuffer(e,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength+t;_n(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();const r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,i,this.usage),this.gl.bufferSubData(r,t,e),this.gl.bindBuffer(r,null),this.debugData=e.slice(0,10),this.bytesUsed=i,this._trackAllocatedMemory(i);const o=qR(e);return _n(o),this.setAccessor(new $a(this.accessor,{type:o})),this}_setByteLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;_n(e>=0),this._trackDeallocatedMemory();let i=e;0===e&&(i=new Float32Array(0));const r=this._getTarget();return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,i,t),this.gl.bindBuffer(r,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(e){const i=e/L0(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-i}_inferType(e){this.accessor.type||this.setAccessor(new $a(this.accessor,{type:qR(e)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(e){this.gl.bindBuffer(this.target,this.handle);const t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}get type(){return Dn.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return Dn.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(e){return Dn.deprecated("setByteLength","reallocate")(),this.reallocate(e)}updateAccessor(e){return Dn.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new $a(this.accessor,e),this}}const ZR={6407:{dataFormat:6407,types:[5121,33635]},6408:{dataFormat:6408,types:[5121,32819,32820]},6406:{dataFormat:6406,types:[5121]},6409:{dataFormat:6409,types:[5121]},6410:{dataFormat:6410,types:[5121]},33326:{dataFormat:6403,types:[5126],gl2:!0},33328:{dataFormat:33319,types:[5126],gl2:!0},34837:{dataFormat:6407,types:[5126],gl2:!0},34836:{dataFormat:6408,types:[5126],gl2:!0}},YH={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},XH={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1},Qge=[9729,9728],KH=globalThis.WebGLBuffer||function(){};class Fp extends Du{get[Symbol.toStringTag](){return"Texture"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{format:i,linearFiltering:r}=t;let o=!0;return i&&(o=o&&function Jge(n,e){const t=ZR[e];if(!t)return!1;if(void 0===t.gl1&&void 0===t.gl2)return!0;const i=Ii(n)&&t.gl2||t.gl1;return"string"==typeof i?n.getExtension(i):i}(e,i),o=o&&(!r||function Zge(n,e){const t=ZR[e];switch(t&&t.types[0]){case 5126:return n.getExtension("OES_texture_float_linear");case 5131:return n.getExtension("OES_texture_half_float_linear");default:return!0}}(e,i))),o}constructor(e,t){const{id:i=Wa("texture"),handle:r,target:o}=t;super(e,{id:i,handle:r}),this.target=o,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data;if(t instanceof Promise)return t.then(Q=>this.initialize(Object.assign({},e,{pixels:Q,data:Q}))),this;const i=typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement;if(i&&t.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,t.addEventListener("loadeddata",()=>this.initialize(e)),this;const{pixels:r=null,format:o=6408,border:s=0,recreate:a=!1,parameters:c={},pixelStore:l={},textureUnit:d}=e;t||(t=r);let{width:h,height:p,dataFormat:_,type:v,compressed:A=!1,mipmaps:P=!0}=e;const{depth:X=0}=e;return({width:h,height:p,compressed:A,dataFormat:_,type:v}=this._deduceParameters({format:o,type:v,dataFormat:_,compressed:A,data:t,width:h,height:p})),this.width=h,this.height=p,this.depth=X,this.format=o,this.type=v,this.dataFormat=_,this.border=s,this.textureUnit=d,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),P&&this._isNPOT()&&(Dn.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),P=!1,this._updateForNPOT(c)),this.mipmaps=P,this.setImageData({data:t,width:h,height:p,depth:X,format:o,type:v,dataFormat:_,border:s,mipmaps:P,parameters:l,compressed:A}),P&&this.generateMipmap(),this.setParameters(c),a&&(this.data=t),i&&(this._video={video:t,parameters:c,lastTime:t.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?t.currentTime:-1}),this}update(){if(this._video){const{video:e,parameters:t,lastTime:i}=this._video;if(i===e.currentTime||e.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:e,parameters:t}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=e.currentTime}}resize(e){let{height:t,width:i,mipmaps:r=!1}=e;return i!==this.width||t!==this.height?this.initialize({width:i,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:r}):this}generateMipmap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(Dn.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Gc(this.gl,e,()=>{this.gl.generateMipmap(this.target)}),this.gl.bindTexture(this.target,null),this)}setImageData(e){this._trackDeallocatedMemory("Texture");const{target:t=this.target,pixels:i=null,level:r=0,format:o=this.format,border:s=this.border,offset:a=0,parameters:c={}}=e;let{data:l=null,type:d=this.type,width:h=this.width,height:p=this.height,dataFormat:_=this.dataFormat,compressed:v=!1}=e;l||(l=i),({type:d,dataFormat:_,compressed:v,width:h,height:p}=this._deduceParameters({format:o,type:d,dataFormat:_,compressed:v,data:l,width:h,height:p}));const{gl:A}=this;A.bindTexture(this.target,this.handle);let P=null;({data:l,dataType:P}=this._getDataType({data:l,compressed:v}));let X,Q=0;return Gc(this.gl,c,()=>{switch(P){case"null":A.texImage2D(t,r,o,h,p,s,_,d,l);break;case"typed-array":A.texImage2D(t,r,o,h,p,s,_,d,l,a);break;case"buffer":X=ra(A),X.bindBuffer(35052,l.handle||l),X.texImage2D(t,r,o,h,p,s,_,d,a),X.bindBuffer(35052,null);break;case"browser-object":Ii(A)?A.texImage2D(t,r,o,h,p,s,_,d,l):A.texImage2D(t,r,o,_,d,l);break;case"compressed":for(const[pe,Re]of l.entries())A.compressedTexImage2D(t,pe,Re.format,Re.width,Re.height,s,Re.data),Q+=Re.levelSize;break;default:_n(!1,"Unknown image data type")}}),this._trackAllocatedMemory("compressed"===P?Q:l&&l.byteLength?l.byteLength:this.width*this.height*(YH[this.dataFormat]||4)*(XH[this.type]||1),"Texture"),this.loaded=!0,this}setSubImageData(e){let{target:t=this.target,pixels:i=null,data:r=null,x:o=0,y:s=0,width:a=this.width,height:c=this.height,level:l=0,format:d=this.format,type:h=this.type,dataFormat:p=this.dataFormat,compressed:_=!1,offset:v=0,border:A=this.border,parameters:P={}}=e;if(({type:h,dataFormat:p,compressed:_,width:a,height:c}=this._deduceParameters({format:d,type:h,dataFormat:p,compressed:_,data:r,width:a,height:c})),_n(0===this.depth,"texSubImage not supported for 3D textures"),r||(r=i),r&&r.data){const X=r;r=X.data,a=X.shape[0],c=X.shape[1]}r instanceof Sr&&(r=r.handle),this.gl.bindTexture(this.target,this.handle),Gc(this.gl,P,()=>{if(_)this.gl.compressedTexSubImage2D(t,l,o,s,a,c,d,r);else if(null===r)this.gl.texSubImage2D(t,l,o,s,a,c,p,h,null);else if(ArrayBuffer.isView(r))this.gl.texSubImage2D(t,l,o,s,a,c,p,h,r,v);else if(r instanceof KH){const X=ra(this.gl);X.bindBuffer(35052,r),X.texSubImage2D(t,l,o,s,a,c,p,h,v),X.bindBuffer(35052,null)}else Ii(this.gl)?ra(this.gl).texSubImage2D(t,l,o,s,a,c,p,h,r):this.gl.texSubImage2D(t,l,o,s,p,h,r)}),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return Dn.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}unbind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}_getDataType(e){let{data:t,compressed:i=!1}=e;return i?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof Sr?{data:t.handle,dataType:"buffer"}:t instanceof KH?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}_deduceParameters(e){const{format:t,data:i}=e;let{width:r,height:o,dataFormat:s,type:a,compressed:c}=e;const l=ZR[t];return s=s||l&&l.dataFormat,a=a||l&&l.types[0],c=c||l&&l.compressed,({width:r,height:o}=this._deduceImageSize(i,r,o)),{dataFormat:s,type:a,compressed:c,width:r,height:o,format:t,data:i}}_deduceImageSize(e,t,i){let r;return r=typeof ImageData<"u"&&e instanceof ImageData?{width:e.width,height:e.height}:typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?{width:e.width,height:e.height}:typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:i}:{width:t>=0?t:1,height:i>=0?i:1},_n(r,"Could not deduced texture size"),_n(void 0===t||r.width===t,"Deduced texture width does not match supplied width"),_n(void 0===i||r.height===i,"Deduced texture height does not match supplied height"),r}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}_setParameter(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:_n(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return!(Ii(this.gl)||!this.width||!this.height||HH(this.width)&&HH(this.height))}_updateForNPOT(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam(e,t){if(this._isNPOT())switch(e){case 10241:-1===Qge.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}function e_e(n,e){return _n("string"==typeof n),n=""+n,new Promise((t,i)=>{try{const r=new Image;r.onload=()=>t(r),r.onerror=()=>i(new Error("Could not load image ".concat(n,"."))),r.crossOrigin=e&&e.crossOrigin||"anonymous",r.src=n}catch(r){i(r)}})}class Ns extends Fp{get[Symbol.toStringTag](){return"Texture2D"}static isSupported(e,t){return Fp.isSupported(e,t)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dS(e),(t instanceof Promise||"string"==typeof t)&&(t={data:t}),"string"==typeof t.data&&(t=Object.assign({},t,{data:e_e(t.data)})),super(e,Object.assign({},t,{target:3553})),this.initialize(t),Object.seal(this)}}const Lp="EXT_color_buffer_float",qH={33189:{bpp:2},33190:{gl2:!0,bpp:3},36012:{gl2:!0,bpp:4},36168:{bpp:1},34041:{bpp:4},35056:{gl2:!0,bpp:4},36013:{gl2:!0,bpp:5},32854:{bpp:2},36194:{bpp:2},32855:{bpp:2},33321:{gl2:!0,bpp:1},33330:{gl2:!0,bpp:1},33329:{gl2:!0,bpp:1},33332:{gl2:!0,bpp:2},33331:{gl2:!0,bpp:2},33334:{gl2:!0,bpp:4},33333:{gl2:!0,bpp:4},33323:{gl2:!0,bpp:2},33336:{gl2:!0,bpp:2},33335:{gl2:!0,bpp:2},33338:{gl2:!0,bpp:4},33337:{gl2:!0,bpp:4},33340:{gl2:!0,bpp:8},33339:{gl2:!0,bpp:8},32849:{gl2:!0,bpp:3},32856:{gl2:!0,bpp:4},32857:{gl2:!0,bpp:4},36220:{gl2:!0,bpp:4},36238:{gl2:!0,bpp:4},36975:{gl2:!0,bpp:4},36214:{gl2:!0,bpp:8},36232:{gl2:!0,bpp:8},36226:{gl2:!0,bpp:16},36208:{gl2:!0,bpp:16},33325:{gl2:Lp,bpp:2},33327:{gl2:Lp,bpp:4},34842:{gl2:Lp,bpp:8},33326:{gl2:Lp,bpp:4},33328:{gl2:Lp,bpp:8},34836:{gl2:Lp,bpp:16},35898:{gl2:Lp,bpp:4}};class E_ extends Du{get[Symbol.toStringTag](){return"Renderbuffer"}static isSupported(e){let{format:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null};return!t||function t_e(n,e,t){const i=t[e];if(!i)return!1;const r=Ii(n)&&i.gl2||i.gl1;return"string"==typeof r?n.getExtension(r):r}(e,t,qH)}static getSamplesForFormat(e,t){let{format:i}=t;return e.getInternalformatParameter(36161,i,32937)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.initialize(t),Object.seal(this)}initialize(e){let{format:t,width:i=1,height:r=1,samples:o=0}=e;return _n(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==o&&Ii(this.gl)?this.gl.renderbufferStorageMultisample(36161,o,t,i,r):this.gl.renderbufferStorage(36161,t,i,r),this.format=t,this.width=i,this.height=r,this.samples=o,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*qH[this.format].bpp),this}resize(e){let{width:t,height:i}=e;return t!==this.width||i!==this.height?this.initialize({width:t,height:i,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(e){this.gl.bindRenderbuffer(36161,e)}_syncHandle(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}const JH=6144,tG="clear: bad arguments";function e2(n){let{framebuffer:e=null,color:t=null,depth:i=null,stencil:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o={};e&&(o.framebuffer=e);let s=0;t&&(s|=16384,!0!==t&&(o.clearColor=t)),i&&(s|=256,!0!==i&&(o.clearDepth=i)),r&&(s|=1024,!0!==i&&(o.clearStencil=i)),_n(0!==s,tG),Gc(n,o,()=>{n.clear(s)})}const t2=[34069,34070,34071,34072,34073,34074];let a_e=(()=>{class n extends Fp{get[Symbol.toStringTag](){return"TextureCube"}constructor(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dS(t),super(t,Object.assign({},i,{target:34067})),this.initialize(i),Object.seal(this)}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mipmaps:i=!0,parameters:r={}}=t;return this.opts=t,this.setCubeMapImageData(t).then(()=>{this.loaded=!0,i&&this.generateMipmap(t),this.setParameters(r)}),this}subImage(t){let{face:i,data:r,x:o=0,y:s=0,mipmapLevel:a=0}=t;return this._subImage({target:i,data:r,x:o,y:s,mipmapLevel:a})}setCubeMapImageData(t){var i=this;return yn(function*(){let{width:r,height:o,pixels:s,data:a,border:c=0,format:l=6408,type:d=5121}=t;const{gl:h}=i,p=s||a,_=yield Promise.all(t2.map(v=>{const A=p[v];return Promise.all(Array.isArray(A)?A:[A])}));i.bind(),t2.forEach((v,A)=>{_[A].length>1&&!1!==i.opts.mipmaps&&Dn.warn("".concat(i.id," has mipmap and multiple LODs."))(),_[A].forEach((P,X)=>{r&&o?h.texImage2D(v,X,l,r,o,c,l,d,P):h.texImage2D(v,X,l,l,d,P)})}),i.unbind()})()}setImageDataForFace(t){const{face:i,width:r,height:o,pixels:s,data:a,border:c=0,format:l=6408,type:d=5121}=t,{gl:h}=this,p=s||a;return this.bind(),p instanceof Promise?p.then(_=>this.setImageDataForFace(Object.assign({},t,{face:i,data:_,pixels:_}))):this.width||this.height?h.texImage2D(i,0,l,r,o,c,l,d,p):h.texImage2D(i,0,l,l,d,p),this}}return n.FACES=t2,n})();class c_e extends Fp{get[Symbol.toStringTag](){return"Texture3D"}static isSupported(e){return Ii(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ra(e),t=Object.assign({depth:1},t,{target:32879,unpackFlipY:!1}),super(e,t),this.initialize(t),Object.seal(this)}setImageData(e){let{level:t=0,dataFormat:i=6408,width:r,height:o,depth:s=1,border:a=0,format:c,type:l=5121,offset:d=0,data:h,parameters:p={}}=e;return this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),Gc(this.gl,p,()=>{ArrayBuffer.isView(h)&&this.gl.texImage3D(this.target,t,i,r,o,s,a,c,l,h),h instanceof Sr&&(this.gl.bindBuffer(35052,h.handle),this.gl.texImage3D(this.target,t,i,r,o,s,a,c,l,d))}),this._trackAllocatedMemory(h&&h.byteLength?h.byteLength:this.width*this.height*this.depth*(YH[this.dataFormat]||4)*(XH[this.type]||1),"Texture"),this.loaded=!0,this}}function d_e(n,e){const{gl:t,width:i,height:r,id:o}=n;return new Ho(t,Object.assign({},e,{id:"framebuffer-for-".concat(o),width:i,height:r,attachments:{36064:n}}))}function uS(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sourceX:t=0,sourceY:i=0,sourceFormat:r=6408}=e;let{sourceAttachment:o=36064,target:s=null,sourceWidth:a,sourceHeight:c,sourceType:l}=e;const{framebuffer:d,deleteFramebuffer:h}=B0(n);_n(d);const{gl:p,handle:_,attachments:v}=d;a=a||d.width,c=c||d.height,36064===o&&null===_&&(o=1028),_n(v[o]),l=l||v[o].type,s=function h_e(n,e,t,i,r){if(n)return n;const o=L0(e=e||5121,{clamped:!1}),s=function s_e(n){switch(n){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return _n(!1),0}}(t);return new o(i*r*s)}(s,l,r,a,c),l=l||qR(s);const A=p.bindFramebuffer(36160,_);return p.readPixels(t,i,a,c,r,l,s),p.bindFramebuffer(36160,A||null),h&&d.delete(),s}function n2(n){let{sourceAttachment:e=36064,targetMaxHeight:t=Number.MAX_SAFE_INTEGER}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=uS(n,{sourceAttachment:e}),{width:r,height:o}=n;for(;o>t;)({data:i,width:r,height:o}=$ge({data:i,width:r,height:o}));!function Wge(n){let{data:e,width:t,height:i,bytesPerPixel:r=4,temp:o}=n;const s=t*r;o=o||new Uint8Array(s);for(let a=0;a<i/2;++a){const c=a*s,l=(i-a-1)*s;o.set(e.subarray(c,c+s)),e.copyWithin(c,l,l+s),e.set(o,l)}}({data:i,width:r,height:o});const s=document.createElement("canvas");s.width=r,s.height=o;const a=s.getContext("2d"),c=a.createImageData(r,o);return c.data.set(i),a.putImageData(c,0,0),s.toDataURL()}function B0(n){return n instanceof Ho?{framebuffer:n,deleteFramebuffer:!1}:{framebuffer:d_e(n),deleteFramebuffer:!0}}const nG="Multiple render targets not supported";class Ho extends Du{get[Symbol.toStringTag](){return"Framebuffer"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{colorBufferFloat:i,colorBufferHalfFloat:r}=t;let o=!0;return i&&(o=!!(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),r&&(o=o&&!(!e.getExtension("EXT_color_buffer_float")&&!e.getExtension("EXT_color_buffer_half_float"))),o}static getDefaultFramebuffer(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new Ho(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const e=ra(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const e=ra(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(t),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize(e){let{width:t=1,height:i=1,attachments:r=null,color:o=!0,depth:s=!0,stencil:a=!1,check:c=!0,readBuffer:l,drawBuffers:d}=e;if(_n(t>=0&&i>=0,"Width and height need to be integers"),this.width=t,this.height=i,r)for(const h in r){const p=r[h];(Array.isArray(p)?p[0]:p).resize({width:t,height:i})}else r=this._createDefaultAttachments(o,s,a,t,i);this.update({clearAttachments:!0,attachments:r,readBuffer:l,drawBuffers:d}),r&&c&&this.checkStatus()}delete(){for(const e of this.ownResources)e.delete();return super.delete(),this}update(e){let{attachments:t={},readBuffer:i,drawBuffers:r,clearAttachments:o=!1,resizeAttachments:s=!0}=e;this.attach(t,{clearAttachments:o,resizeAttachments:s});const{gl:a}=this,c=a.bindFramebuffer(36160,this.handle);return i&&this._setReadBuffer(i),r&&this._setDrawBuffers(r),a.bindFramebuffer(36160,c||null),this}resize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{width:t,height:i}=e;if(null===this.handle)return _n(void 0===t&&void 0===i),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;void 0===t&&(t=this.gl.drawingBufferWidth),void 0===i&&(i=this.gl.drawingBufferHeight),t!==this.width&&i!==this.height&&Dn.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(i))();for(const r in this.attachments)this.attachments[r].resize({width:t,height:i});return this.width=t,this.height=i,this}attach(e){let{clearAttachments:t=!1,resizeAttachments:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={};t&&Object.keys(this.attachments).forEach(s=>{r[s]=null}),Object.assign(r,e);const o=this.gl.bindFramebuffer(36160,this.handle);for(const s in r){_n(void 0!==s,"Misspelled framebuffer binding point?");const a=Number(s),c=r[a];let l=c;if(l)if(l instanceof E_)this._attachRenderbuffer({attachment:a,renderbuffer:l});else if(Array.isArray(c)){const[d,h=0,p=0]=c;l=d,this._attachTexture({attachment:a,texture:d,layer:h,level:p})}else this._attachTexture({attachment:a,texture:l,layer:0,level:0});else this._unattach(a);i&&l&&l.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,o||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter(s=>!this.attachments[s]).forEach(s=>{delete this.attachments[s]})}checkStatus(){const t=this.getStatus();if(36053!==t)throw new Error(function p_e(n){return(Ho.STATUS||{})[n]||"Framebuffer error ".concat(n)}(t));return this}getStatus(){const{gl:e}=this,t=e.bindFramebuffer(36160,this.handle),i=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),i}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:t,depth:i,stencil:r,drawBuffers:o=[]}=e,s=this.gl.bindFramebuffer(36160,this.handle);return(t||i||r)&&e2(this.gl,{color:t,depth:i,stencil:r}),o.forEach((a,c)=>{!function o_e(n){let{framebuffer:e=null,buffer:t=JH,drawBuffer:i=0,value:r=[0,0,0,0]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ra(n),Gc(n,{framebuffer:e},()=>{switch(t){case JH:switch(r.constructor){case Int32Array:n.clearBufferiv(t,i,r);break;case Uint32Array:n.clearBufferuiv(t,i,r);break;case Float32Array:default:n.clearBufferfv(t,i,r)}break;case 6145:n.clearBufferfv(6145,0,[r]);break;case 6146:n.clearBufferiv(6146,0,[r]);break;case 34041:const[o,s]=r;n.clearBufferfi(34041,0,o,s);break;default:_n(!1,tG)}})}(this.gl,{drawBuffer:c,value:a})}),this.gl.bindFramebuffer(36160,s||null),this}readPixels(){return Dn.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(){return Dn.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(){return Dn.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(){return Dn.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(){return Dn.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(){return Dn.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate(e){let{attachments:t=[],x:i=0,y:r=0,width:o,height:s}=e;const a=ra(this.gl),c=a.bindFramebuffer(36008,this.handle);return 0===i&&0===r&&void 0===o&&void 0===s?a.invalidateFramebuffer(36008,t):a.invalidateFramebuffer(36008,t,i,r,o,s),a.bindFramebuffer(36008,c),this}getAttachmentParameter(e,t,i){let r=this._getAttachmentParameterFallback(t);return null===r&&(this.gl.bindFramebuffer(36160,this.handle),r=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),i&&r>1e3&&(r=Kh(this.gl,r)),r}getAttachmentParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[];const r={};for(const o of i)r[t?Kh(this.gl,o):o]=this.getAttachmentParameter(e,o,t);return r}getParameters(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=Object.keys(this.attachments),i={};for(const r of t){const o=Number(r);i[e?Kh(this.gl,o):o]=this.getAttachmentParameters(o,e)}return i}show(){return typeof window<"u"&&window.open(n2(this),"luma-debug-texture"),this}log(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>Dn.level||typeof window>"u")return this;t=t||"Framebuffer ".concat(this.id);const i=n2(this,{targetMaxHeight:100});return Dn.image({logLevel:e,message:t,image:i},t)(),this}bind(){let{target:e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(e,this.handle),this}unbind(){let{target:e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(e,null),this}_createDefaultAttachments(e,t,i,r,o){let s=null;return e&&(s=s||{},s[36064]=new Ns(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:r,height:o,mipmaps:!1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.ownResources.push(s[36064])),t&&i?(s=s||{},s[33306]=new E_(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:r,height:111}),this.ownResources.push(s[33306])):t?(s=s||{},s[36096]=new E_(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:r,height:o}),this.ownResources.push(s[36096])):i&&_n(!1),s}_unattach(e){const t=this.attachments[e];t&&(t instanceof E_?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}_attachRenderbuffer(e){let{attachment:t=36064,renderbuffer:i}=e;const{gl:r}=this;r.framebufferRenderbuffer(36160,t,36161,i.handle),this.attachments[t]=i}_attachTexture(e){let{attachment:t=36064,texture:i,layer:r,level:o}=e;const{gl:s}=this;switch(s.bindTexture(i.target,i.handle),i.target){case 35866:case 32879:ra(s).framebufferTextureLayer(36160,t,i.target,o,r);break;case 34067:const c=function f_e(n){return n<34069?n+34069:n}(r);s.framebufferTexture2D(36160,t,c,i.handle,o);break;case 3553:s.framebufferTexture2D(36160,t,3553,i.handle,o);break;default:_n(!1,"Illegal texture type")}s.bindTexture(i.target,null),this.attachments[t]=i}_setReadBuffer(e){const t=function Yme(n){return Ii(n)?n:null}(this.gl);t?t.readBuffer(e):_n(36064===e||1029===e,nG),this.readBuffer=e}_setDrawBuffers(e){const{gl:t}=this,i=ra(t);if(i)i.drawBuffers(e);else{const r=t.getExtension("WEBGL_draw_buffers");r?r.drawBuffersWEBGL(e):_n(1===e.length&&(36064===e[0]||1029===e[0]),nG)}this.drawBuffers=e}_getAttachmentParameterFallback(e){const t=function b_e(n){n.luma=n.luma||{},n.luma.caps=n.luma.caps||{};for(const e in iG)void 0===n.luma.caps[e]&&(n.luma.caps[e]=oG(n,e));return n.luma.caps}(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(e){return this.gl.bindFramebuffer(36160,e)}}Ho.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303];const iG={WEBGL2:[!1,!0],VERTEX_ARRAY_OBJECT:["OES_vertex_array_object",!0],TIMER_QUERY:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],INSTANCED_RENDERING:["ANGLE_instanced_arrays",!0],MULTIPLE_RENDER_TARGETS:["WEBGL_draw_buffers",!0],ELEMENT_INDEX_UINT32:["OES_element_index_uint",!0],BLEND_EQUATION_MINMAX:["EXT_blend_minmax",!0],FLOAT_BLEND:["EXT_float_blend"],COLOR_ENCODING_SRGB:["EXT_sRGB",!0],TEXTURE_DEPTH:["WEBGL_depth_texture",!0],TEXTURE_FLOAT:["OES_texture_float",!0],TEXTURE_HALF_FLOAT:["OES_texture_half_float",!0],TEXTURE_FILTER_LINEAR_FLOAT:["OES_texture_float_linear"],TEXTURE_FILTER_LINEAR_HALF_FLOAT:["OES_texture_half_float_linear"],TEXTURE_FILTER_ANISOTROPIC:["EXT_texture_filter_anisotropic"],COLOR_ATTACHMENT_RGBA32F:[function g_e(n){const e=new Ns(n,{format:6408,type:5126,dataFormat:6408}),t=new Ho(n,{id:"test-framebuffer",check:!1,attachments:{36064:e}}),i=t.getStatus();return e.delete(),t.delete(),36053===i},"EXT_color_buffer_float"],COLOR_ATTACHMENT_FLOAT:[!1,"EXT_color_buffer_float"],COLOR_ATTACHMENT_HALF_FLOAT:["EXT_color_buffer_half_float"],GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},__e=2;function r2(n,e){return rG(n,e)}function rG(n,e){return(e=Array.isArray(e)?e:[e]).every(t=>oG(n,t))}function oG(n,e){return n.luma=n.luma||{},n.luma.caps=n.luma.caps||{},void 0===n.luma.caps[e]&&(n.luma.caps[e]=function y_e(n,e){const t=iG[e];let i;_n(t,e);const r=Ii(n)&&t[1]||t[0];if("function"==typeof r)i=r(n);else if(Array.isArray(r)){i=!0;for(const o of r)i=i&&!!n.getExtension(o)}else"string"==typeof r?i=!!n.getExtension(r):"boolean"==typeof r?i=r:_n(!1);return i}(n,e)),n.luma.caps[e]||Dn.log(__e,"Feature: ".concat(e," not supported"))(),n.luma.caps[e]}class o2{constructor(e,t){Se(this,"opts",void 0),Se(this,"source",void 0),this.opts=t,this.source=e}get value(){return this.source.value}getValue(){const e=this.source.getBuffer(),t=this.getAccessor();if(e)return[e,t];const{value:i}=this.source,{size:r}=t;let o=i;if(i&&i.length!==r){o=new Float32Array(r);const s=t.elementOffset||0;for(let a=0;a<r;++a)o[a]=i[s+a]}return o}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}const U0=new class w_e{constructor(e={}){Se(this,"_pool",[]),Se(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,t,{size:i=1,type:r,padding:o=0,copy:s=!1,initialize:a=!1,maxCount:c}){const l=r||e&&e.constructor||Float32Array,d=t*i+o;if(ArrayBuffer.isView(e)){if(d<=e.length)return e;if(d*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new l(e.buffer,0,d)}let h=1/0;c&&(h=c*i+o);const p=this._allocate(l,d,a,h);return e&&s?p.set(e):a||p.fill(0,0,4),this._release(e),p}release(e){this._release(e)}_allocate(e,t,i,r){let o=Math.max(Math.ceil(t*this.opts.overAlloc),1);o>r&&(o=r);const s=this._pool,a=e.BYTES_PER_ELEMENT*o,c=s.findIndex(l=>l.byteLength>=a);if(c>=0){const l=new e(s.splice(c,1)[0],0,o);return i&&l.fill(0),l}return new e(o)}_release(e){if(!ArrayBuffer.isView(e))return;const t=this._pool,{buffer:i}=e,{byteLength:r}=i,o=t.findIndex(s=>s.byteLength>=r);o<0?t.push(i):(o>0||t.length<this.opts.poolSize)&&t.splice(o,0,i),t.length>this.opts.poolSize&&t.shift()}},E_e=(Math,1/180*Math.PI),ko={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function C_e(n,{precision:e=ko.precision}={}){return n=function T_e(n){return Math.round(n/ko.EPSILON)*ko.EPSILON}(n),"".concat(parseFloat(n.toPrecision(e)))}function ku(n){return Array.isArray(n)||ArrayBuffer.isView(n)&&!(n instanceof DataView)}function ho(n){return function S_e(n,e){return Ou(n,t=>t*E_e,e)}(n)}function Fs(n,e,t){return Ou(n,i=>Math.max(e,Math.min(t,i)))}function hS(n,e,t){return ku(n)?n.map((i,r)=>hS(i,e[r],t)):t*e+(1-t)*n}function C_(n,e,t){const i=ko.EPSILON;t&&(ko.EPSILON=t);try{if(n===e)return!0;if(ku(n)&&ku(e)){if(n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(!C_(n[r],e[r]))return!1;return!0}return n&&n.equals?n.equals(e):e&&e.equals?e.equals(n):"number"==typeof n&&"number"==typeof e&&Math.abs(n-e)<=ko.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))}finally{ko.EPSILON=i}}function Ou(n,e,t){if(ku(n)){const i=n;t=t||function I_e(n){return n.clone?n.clone():new Array(n.length)}(i);for(let r=0;r<t.length&&r<i.length;++r)t[r]=e(n[r],r,t);return t}return e(n)}class s2 extends(function D_e(n){function e(){var t=Reflect.construct(n,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return e.prototype=Object.create(n.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n,e}(Array)){clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){for(let i=0;i<this.ELEMENTS;++i)this[i]=e[i+t];return this.check()}toArray(e=[],t=0){for(let i=0;i<this.ELEMENTS;++i)e[t+i]=this[i];return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:ku(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(ko)}formatString(e){let t="";for(let i=0;i<this.ELEMENTS;++i)t+=(i>0?", ":"")+C_e(this[i],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!C_(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,i){if(void 0===i)return this.lerp(this,e,t);for(let r=0;r<this.ELEMENTS;++r){const o=e[r];this[r]=o+i*(t[r]-o)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e[i]),t[i]);return this.check()}add(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]+=t[i];return this.check()}subtract(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]-=t[i];return this.check()}scale(e){if("number"==typeof e)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;else for(let t=0;t<this.ELEMENTS&&t<e.length;++t)this[t]*=e[t];return this.check()}multiplyByScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}check(){if(ko.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e),t);return this.check()}get elements(){return this}}function kr(n){if(!Number.isFinite(n))throw new Error("Invalid number ".concat(n));return n}function fS(n,e,t=""){if(ko.debug&&!function k_e(n,e){if(n.length!==e)return!1;for(let t=0;t<n.length;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n,e))throw new Error("math.gl: ".concat(t," some fields set to invalid numbers'"));return n}function aG(n,e){if(!n)throw new Error("math.gl assertion ".concat(e))}class cG extends s2{get x(){return this[0]}set x(e){this[0]=kr(e)}get y(){return this[1]}set y(e){this[1]=kr(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let i=0;i<this.ELEMENTS;++i){const r=this[i]-e[i];t+=r*r}return kr(t)}dot(e){let t=0;for(let i=0;i<this.ELEMENTS;++i)t+=this[i]*e[i];return kr(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]*=t[i];return this.check()}divide(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]/=t[i];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return aG(e>=0&&e<this.ELEMENTS,"index is out of range"),kr(this[e])}setComponent(e,t){return aG(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}var md=1e-6,Ya=typeof Float32Array<"u"?Float32Array:Array;function lG(){var n=new Ya(3);return Ya!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function dG(n,e,t){var i=new Ya(3);return i[0]=n,i[1]=e,i[2]=t,i}function uG(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function pS(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2];return n[0]=r*c-o*a,n[1]=o*s-i*c,n[2]=i*a-r*s,n}function a2(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o+t[15];return n[0]=(t[0]*i+t[4]*r+t[8]*o+t[12])/(s=s||1),n[1]=(t[1]*i+t[5]*r+t[9]*o+t[13])/s,n[2]=(t[2]*i+t[6]*r+t[10]*o+t[14])/s,n}function hG(n,e,t){var i=t[0],r=t[1],o=t[2],a=e[0],c=e[1],l=e[2],d=r*l-o*c,h=o*a-i*l,p=i*c-r*a,_=r*p-o*h,v=o*d-i*p,A=i*h-r*d,P=2*t[3];return h*=P,p*=P,v*=2,A*=2,n[0]=a+(d*=P)+(_*=2),n[1]=c+h+v,n[2]=l+p+A,n}Math,Math,Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});function fG(n,e,t){const i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o||1;return n[0]=(t[0]*i+t[4]*r+t[8]*o)/s,n[1]=(t[1]*i+t[5]*r+t[9]*o)/s,n[2]=(t[2]*i+t[6]*r+t[10]*o)/s,n}lG();const c2=[0,0,0];let mS;class oa extends cG{static get ZERO(){return mS||(mS=new oa(0,0,0),Object.freeze(mS)),mS}constructor(e=0,t=0,i=0){super(-0,-0,-0),1===arguments.length&&ku(e)?this.copy(e):(ko.debug&&(kr(e),kr(t),kr(i)),this[0]=e,this[1]=t,this[2]=i)}set(e,t,i){return this[0]=e,this[1]=t,this[2]=i,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return ko.debug&&(kr(e.x),kr(e.y),kr(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=kr(e)}angle(e){return function j_e(n,e){var t=n[0],i=n[1],r=n[2],o=e[0],s=e[1],a=e[2],d=Math.sqrt(t*t+i*i+r*r)*Math.sqrt(o*o+s*s+a*a),h=d&&uG(n,e)/d;return Math.acos(Math.min(Math.max(h,-1),1))}(this,e)}cross(e){return pS(this,this,e),this.check()}rotateX({radians:e,origin:t=c2}){return function B_e(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateY({radians:e,origin:t=c2}){return function U_e(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=c2}){return function V_e(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return a2(this,this,e),this.check()}transformAsVector(e){return fG(this,this,e),this.check()}transformByMatrix3(e){return function L_e(n,e,t){var i=e[0],r=e[1],o=e[2];n[0]=i*t[0]+r*t[3]+o*t[6],n[1]=i*t[1]+r*t[4]+o*t[7],n[2]=i*t[2]+r*t[5]+o*t[8]}(this,this,e),this.check()}transformByMatrix2(e){return function W_e(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2]}(this,this,e),this.check()}transformByQuaternion(e){return hG(this,this,e),this.check()}}const pG=new oa;function S_(n,e,t,i){pG.set(n,e,t);const r=pG.len();return{distance:i/r,normal:new oa(-n/r,-e/r,-t/r)}}function J_e(n){return n-Math.fround(n)}let j0;function l2(n,e){const{size:t=1,startIndex:i=0}=e,r=void 0!==e.endIndex?e.endIndex:n.length,o=(r-i)/t;j0=U0.allocate(j0,o,{type:Float32Array,size:2*t});let s=i,a=0;for(;s<r;){for(let c=0;c<t;c++){const l=n[s++];j0[a+c]=l,j0[a+c+t]=J_e(l)}a+=2*t}return j0.subarray(0,o*t*2)}function gS(n){return n.stride||n.size*n.bytesPerElement}function mG(n,e){e.offset&&Ui.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const t=gS(n),o=(void 0!==e.vertexOffset?e.vertexOffset:n.vertexOffset||0)*t+(e.elementOffset||0)*n.bytesPerElement+(n.offset||0);return{...e,offset:o,stride:t}}class Q_e{constructor(e,t,i){Se(this,"gl",void 0),Se(this,"id",void 0),Se(this,"size",void 0),Se(this,"settings",void 0),Se(this,"value",void 0),Se(this,"doublePrecision",void 0),Se(this,"_buffer",void 0),Se(this,"state",void 0),this.gl=e,this.id=t.id||"",this.size=t.size||1;const r=t.logicalType||t.type,o=5130===r;let a,{defaultValue:s}=t;s=Number.isFinite(s)?[s]:s||new Array(this.size).fill(0),a=o?5126:!r&&t.isIndexed?e&&r2(e,"ELEMENT_INDEX_UINT32")?5125:5123:r||5126;let c=function v_e(n){switch(n){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(r||a||5126);this.doublePrecision=o,o&&!1===t.fp64&&(c=Float32Array),this.value=null,this.settings={...t,defaultType:c,defaultValue:s,logicalType:r,type:a,size:this.size,bytesPerElement:c.BYTES_PER_ELEMENT},this.state={...i,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1},this._buffer=null}get isConstant(){return this.state.constant}get buffer(){if(!this._buffer){const{isIndexed:e,type:t}=this.settings;this._buffer=new Sr(this.gl,{id:this.id,target:e?34963:34962,accessor:{type:t}})}return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*gS(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),U0.release(this.state.allocatedValue)}getShaderAttributes(e,t){if(this.doublePrecision){const i={},r=this.value instanceof Float64Array,o=function Z_e(n,e){const t=mG(n,e);return{high:t,low:{...t,offset:t.offset+4*n.size}}}(this.getAccessor(),t||{});return i[e]=new o2(this,o.high),i["".concat(e,"64Low")]=r?new o2(this,o.low):new Float32Array(this.size),i}if(t){const i=mG(this.getAccessor(),t);return{[e]:new o2(this,i)}}return{[e]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const t=Array.from(this.value);e=[t,t]}else{const{value:t,numInstances:i,size:r}=this,o=i*r;if(t&&o&&t.length>=o){const s=new Array(r).fill(1/0),a=new Array(r).fill(-1/0);for(let c=0;c<o;)for(let l=0;l<r;l++){const d=t[c++];d<s[l]&&(s[l]=d),d>a[l]&&(a[l]=d)}e=[s,a]}}return this.state.bounds=e,e}setData(e){const{state:t}=this;let i;i=ArrayBuffer.isView(e)?{value:e}:e instanceof Sr?{buffer:e}:e;const r={...this.settings,...i};if(t.bufferAccessor=r,t.bounds=null,i.constant){let o=i.value;if(o=this._normalizeValue(o,[],0),this.settings.normalized&&(o=this.normalizeConstant(o)),t.constant&&this._areValuesEqual(o,this.value))return!1;t.externalBuffer=null,t.constant=!0,this.value=o}else if(i.buffer){const o=i.buffer;t.externalBuffer=o,t.constant=!1,this.value=i.value||null;const s=i.value instanceof Float64Array;r.type=i.type||o.accessor.type,r.bytesPerElement=o.accessor.BYTES_PER_ELEMENT*(s?2:1),r.stride=gS(r)}else if(i.value){this._checkExternalBuffer(i);let o=i.value;t.externalBuffer=null,t.constant=!1,this.value=o,r.bytesPerElement=o.BYTES_PER_ELEMENT,r.stride=gS(r);const{buffer:s,byteOffset:a}=this;this.doublePrecision&&o instanceof Float64Array&&(o=l2(o,r));const c=o.byteLength+a+2*r.stride;s.byteLength<c&&s.reallocate(c),s.setAccessor(null),s.subData({data:o,offset:a}),r.type=i.type||s.accessor.type}return!0}updateSubBuffer(e={}){this.state.bounds=null;const t=this.value,{startOffset:i=0,endOffset:r}=e;this.buffer.subData({data:this.doublePrecision&&t instanceof Float64Array?l2(t,{size:this.size,startIndex:i,endIndex:r}):t.subarray(i,r),offset:i*t.BYTES_PER_ELEMENT+this.byteOffset})}allocate(e,t=!1){const{state:i}=this,r=i.allocatedValue,o=U0.allocate(r,e+1,{size:this.size,type:this.settings.defaultType,copy:t});this.value=o;const{buffer:s,byteOffset:a}=this;return s.byteLength<o.byteLength+a&&(s.reallocate(o.byteLength+a),t&&r&&s.subData({data:r instanceof Float64Array?l2(r,this):r,offset:a})),i.allocatedValue=o,i.constant=!1,i.externalBuffer=null,i.bufferAccessor=this.settings,!0}_checkExternalBuffer(e){const{value:t}=e;if(!ArrayBuffer.isView(t))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));const i=this.settings.defaultType;let r=!1;if(this.doublePrecision&&(r=t.BYTES_PER_ELEMENT<4),r)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));!(t instanceof i)&&this.settings.normalized&&!("normalized"in e)&&Ui.warn("Attribute ".concat(this.id," is normalized"))()}normalizeConstant(e){switch(this.settings.type){case 5120:return new Float32Array(e).map(t=>(t+128)/255*2-1);case 5122:return new Float32Array(e).map(t=>(t+32768)/65535*2-1);case 5121:return new Float32Array(e).map(t=>t/255);case 5123:return new Float32Array(e).map(t=>t/65535);default:return e}}_normalizeValue(e,t,i){const{defaultValue:r,size:o}=this.settings;if(Number.isFinite(e))return t[i]=e,t;if(!e)return t[i]=r[0],t;switch(o){case 4:t[i+3]=Number.isFinite(e[3])?e[3]:r[3];case 3:t[i+2]=Number.isFinite(e[2])?e[2]:r[2];case 2:t[i+1]=Number.isFinite(e[1])?e[1]:r[1];case 1:t[i+0]=Number.isFinite(e[0])?e[0]:r[0];break;default:let s=o;for(;--s>=0;)t[i+s]=Number.isFinite(e[s])?e[s]:r[s]}return t}_areValuesEqual(e,t){if(!e||!t)return!1;const{size:i}=this;for(let r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}}function Ls(n,e){if(!n)throw new Error(e||"deck.gl: assertion failed.")}const gG=[],_G=[];function _S(n,e=0,t=1/0){let i=gG;const r={index:-1,data:n,target:[]};return n?"function"==typeof n[Symbol.iterator]?i=n:n.length>0&&(_G.length=n.length,i=_G):i=gG,(e>0||Number.isFinite(t))&&(i=(Array.isArray(i)?i:Array.from(i)).slice(e,t),r.index=e-1),{iterable:i,objectInfo:r}}function bG(n){return n&&n[Symbol.asyncIterator]}function d2(n,e=(()=>!0)){return Array.isArray(n)?yG(n,e,[]):e(n)?[n]:[]}function yG(n,e,t){let i=-1;for(;++i<n.length;){const r=n[i];Array.isArray(r)?yG(r,e,t):e(r)&&t.push(r)}return t}function tbe({target:n,source:e,start:t=0,count:i=1}){const r=e.length,o=i*r;let s=0;for(let a=t;s<r;s++)n[a++]=e[s];for(;s<o;)s<o-s?(n.copyWithin(t+s,t,t+s),s*=2):(n.copyWithin(t+s,t,t+o-s),s=o);return n}const nbe=[],bS=[[0,1/0]];function u2(n){const{source:e,target:t,start:i=0,size:r,getData:o}=n,a=e.length,c=(n.end||t.length)-i;if(a>c)return void t.set(e.subarray(0,c),i);if(t.set(e,i),!o)return;let l=a;for(;l<c;){const d=o(l,e);for(let h=0;h<r;h++)t[i+l]=d[h]||0,l++}}const obe={interpolation:{duration:0,easing:n=>n},spring:{stiffness:.05,damping:.5}};function vG(n,e){if(!n)return null;Number.isFinite(n)&&(n={type:"interpolation",duration:n});const t=n.type||"interpolation";return{...obe[t],...e,...n,type:t}}function wG(n,e){const t=e.getBuffer();return t?[t,{divisor:0,size:e.size,normalized:e.settings.normalized}]:e.value}function xG(n){switch(n){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(n,'"'))}}function EG(n){n.push(n.shift())}function h2(n,e){const{doublePrecision:t,settings:i,value:r,size:o}=n,s=t&&r instanceof Float64Array?2:1;return(i.noAlloc?r.length:e*o)*s}function CG({buffer:n,numInstances:e,attribute:t,fromLength:i,fromStartIndices:r,getData:o=(s=>s)}){const s=t.doublePrecision&&t.value instanceof Float64Array?2:1,a=t.size*s,c=t.byteOffset,l=t.startIndices,d=r&&l,h=h2(t,e),p=t.isConstant;if(!d&&i>=h)return;const _=p?t.value:t.getBuffer().getData({srcByteOffset:c});if(t.settings.normalized&&!p){const X=o;o=(Q,pe)=>t.normalizeConstant(X(Q,pe))}const v=p?(X,Q)=>o(_,Q):(X,Q)=>o(_.subarray(X,X+a),Q),A=n.getData({length:i}),P=new Float32Array(h);(function rbe({source:n,target:e,size:t,getData:i,sourceStartIndices:r,targetStartIndices:o}){if(!Array.isArray(o))return u2({source:n,target:e,size:t,getData:i}),e;let s=0,a=0;const c=i&&((d,h)=>i(d+a,h)),l=Math.min(r.length,o.length);for(let d=1;d<l;d++){const h=r[d]*t,p=o[d]*t;u2({source:n.subarray(s,h),target:e,start:a,end:p,size:t,getData:c}),s=h,a=p}a<e.length&&u2({source:[],target:e,start:a,size:t,getData:c})})({source:A,target:P,sourceStartIndices:r,targetStartIndices:l,size:a,getData:v}),n.byteLength<P.byteLength+c&&n.reallocate(P.byteLength+c),n.subData({data:P,offset:c})}class f2 extends Q_e{constructor(e,t){super(e,t,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:bS}),Se(this,"constant",!1),this.settings.update=t.update||(t.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const t=this.state.needsRedraw;return this.state.needsRedraw=t&&!e,t}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat("function"!=typeof e&&e||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:t}=this.settings,i=this.settings.transition;return vG(Array.isArray(t)?e[t.find(o=>e[o])]:e[t],i)}setNeedsUpdate(e=this.id,t){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){const{startRow:i=0,endRow:r=1/0}=t;this.state.updateRanges=function ibe(n,e){if(n===bS||(e[0]<0&&(e[0]=0),e[0]>=e[1]))return n;const t=[],i=n.length;let r=0;for(let o=0;o<i;o++){const s=n[o];s[1]<e[0]?(t.push(s),r=o+1):s[0]>e[1]?t.push(s):e=[Math.min(s[0],e[0]),Math.max(s[1],e[1])]}return t.splice(r,0,e),t}(this.state.updateRanges,[i,r])}else this.state.updateRanges=bS}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=nbe}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:t,settings:i}=this;return!i.noAlloc&&!!i.update&&(super.allocate(e,t.updateRanges!==bS),!0)}updateBuffer({numInstances:e,data:t,props:i,context:r}){if(!this.needsUpdate())return!1;const{state:{updateRanges:o},settings:{update:s,noAlloc:a}}=this;let c=!0;if(s){for(const[l,d]of o)s.call(r,this,{data:t,startRow:l,endRow:d,props:i,numInstances:e});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[l,d]of o){const h=Number.isFinite(l)?this.getVertexOffset(l):0,p=Number.isFinite(d)?this.getVertexOffset(d):a||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:h,endOffset:p})}this._checkAttributeArray()}else c=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),c}setConstantValue(e){return void 0!==e&&"function"!=typeof e&&(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(e){const{state:t}=this;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}setBinaryValue(e,t=null){const{state:i,settings:r}=this;if(!e)return i.binaryValue=null,i.binaryAccessor=null,!1;if(r.noAlloc)return!1;if(i.binaryValue===e)return this.clearNeedsUpdate(),!0;if(i.binaryValue=e,this.setNeedsRedraw(),r.transform||t!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const s=e;return Ls(ArrayBuffer.isView(s.value),"invalid ".concat(r.accessor)),i.binaryAccessor=function ebe(n,e){const{size:t,stride:i,offset:r,startIndices:o,nested:s}=e,a=n.BYTES_PER_ELEMENT,c=i?i/a:t,l=r?r/a:0,d=Math.floor((n.length-l)/c);return(h,{index:p,target:_})=>{if(!o){const X=p*c+l;for(let Q=0;Q<t;Q++)_[Q]=n[X+Q];return _}const v=o[p],A=o[p+1]||d;let P;if(s){P=new Array(A-v);for(let X=v;X<A;X++){const Q=X*c+l;_=new Array(t);for(let pe=0;pe<t;pe++)_[pe]=n[Q+pe];P[X-v]=_}}else if(c===t)P=n.subarray(v*t+l,A*t+l);else{P=new n.constructor((A-v)*t);let X=0;for(let Q=v;Q<A;Q++){const pe=Q*c+l;for(let Re=0;Re<t;Re++)P[X++]=n[pe+Re]}}return P}}(s.value,{size:s.size||this.size,stride:s.stride,offset:s.offset,startIndices:t,nested:!!s.size&&s.size!==this.size}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:t}=this;return(t?e<t.length?t[e]:this.numInstances:e)*this.size}getShaderAttributes(){const e=this.settings.shaderAttributes||{[this.id]:null},t={};for(const i in e)Object.assign(t,super.getShaderAttributes(i,e[i]));return t}_autoUpdater(e,{data:t,startRow:i,endRow:r,props:o,numInstances:s}){if(e.constant)return;const{settings:a,state:c,value:l,size:d,startIndices:h}=e,{accessor:p,transform:_}=a,v=c.binaryAccessor||("function"==typeof p?p:o[p]);Ls("function"==typeof v,'accessor "'.concat(p,'" is not a function'));let A=e.getVertexOffset(i);const{iterable:P,objectInfo:X}=_S(t,i,r);for(const Q of P){X.index++;let pe=v(Q,X);if(_&&(pe=_.call(this,pe)),h){const Re=(X.index<h.length-1?h[X.index+1]:s)-h[X.index];if(pe&&Array.isArray(pe[0])){let Ye=A;for(const tt of pe)e._normalizeValue(tt,l,Ye),Ye+=d}else pe&&pe.length>d?l.set(pe,A):(e._normalizeValue(pe,X.target,0),tbe({target:l,source:X.target,start:A,count:Re}));A+=Re*d}else e._normalizeValue(pe,l,A),A+=d}}_validateAttributeUpdaters(){const{settings:e}=this;if(!e.noAlloc&&"function"!=typeof e.update)throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:e}=this,t=Math.min(4,this.size);if(e&&e.length>=t){let i=!0;switch(t){case 4:i=i&&Number.isFinite(e[3]);case 3:i=i&&Number.isFinite(e[2]);case 2:i=i&&Number.isFinite(e[1]);case 1:i=i&&Number.isFinite(e[0]);break;default:i=!1}if(!i)throw new Error("Illegal attribute generated for ".concat(this.id))}}}let p2={};function sa(n,e,t,i){Ui.level>0&&p2[n]&&p2[n].call(null,e,t,i)}function fc(n,e){if(!n)throw new Error(e||"shadertools: assertion failed.")}const SG="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",cbe="#version 300 es\n".concat(SG);function AG(n,e){e=Array.isArray(e)?e:[e];const t=n.replace(/^\s+/,"").split(/\s+/),[i,r,o]=t;return e.includes(i)&&r&&o?{qualifier:i,type:r,name:o.split(";")[0]}:null}function MG(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{version:e=100,input:t,inputType:i,output:r}=n;if(!t)return 300===e?cbe:e>300?"#version ".concat(e,"\n").concat(SG):"void main() {gl_FragColor = vec4(0);}";const o=function ube(n,e){switch(e){case"float":return"vec4(".concat(n,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(n,", 0.0, 1.0)");case"vec3":return"vec4(".concat(n,", 1.0)");case"vec4":return n;default:return fc(!1),null}}(t,i);return e>=300?"#version ".concat(e," ").concat(300===e?"es":"","\nin ").concat(i," ").concat(t,";\nout vec4 ").concat(r,";\nvoid main() {\n  ").concat(r," = ").concat(o,";\n}"):"varying ".concat(i," ").concat(t,";\nvoid main() {\n  gl_FragColor = ").concat(o,";\n}")}class TG extends Du{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(e){return Ii(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ra(e),super(e,t),this.initialize(t),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,w_(this.buffers)||this.bind(()=>this._unbindBuffers()),this.setProps(e),this}setProps(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}setBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind(()=>{for(const t in e)this.setBuffer(t,e[t])}),this}setBuffer(e,t){const i=this._getVaryingIndex(e),{buffer:r,byteSize:o,byteOffset:s}=this._getBufferParams(t);return i<0?(this.unused[e]=r,Dn.warn("".concat(this.id," unused varying buffer ").concat(e))(),this):(this.buffers[i]=t,this.bindOnUse||this._bindBuffer(i,r,s,o),this)}begin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(e){let t,i,r;return e instanceof Sr?r=e:(r=e.buffer,i=e.byteSize,t=e.byteOffset),(void 0!==t||void 0!==i)&&(t=t||0,i=i||r.byteLength-t),{buffer:r,byteOffset:t,byteSize:i}}_getVaryingInfo(e){return this.configuration&&this.configuration.getVaryingInfo(e)}_getVaryingIndex(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;const t=Number(e);return Number.isFinite(t)?t:-1}_bindBuffers(){if(this.bindOnUse)for(const e in this.buffers){const{buffer:t,byteSize:i,byteOffset:r}=this._getBufferParams(this.buffers[e]);this._bindBuffer(e,t,r,i)}}_unbindBuffers(){if(this.bindOnUse)for(const e in this.buffers)this._bindBuffer(e,null)}_bindBuffer(e,t){let r=arguments.length>3?arguments[3]:void 0;const o=t&&t.handle;return o&&void 0!==r?this.gl.bindBufferRange(35982,e,o,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r):this.gl.bindBufferBase(35982,e,o),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(e){this.gl.bindTransformFeedback(36386,this.handle)}}class hbe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}setupResources(e){for(const t of this.bindings)this._setupTransformFeedback(t,e)}updateModelProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyings:t}=this;return t.length>0&&(e=Object.assign({},e,{varyings:t})),e}getDrawOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.bindings[this.currentIndex],{sourceBuffers:i,transformFeedback:r}=t;return{attributes:Object.assign({},i,e.attributes),transformFeedback:r}}swap(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}update(){this._setupBuffers(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}getBuffer(e){const{feedbackBuffers:t}=this.bindings[this.currentIndex],i=e?t[e]:null;return i?i instanceof Sr?i:i.buffer:null}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyingName:t}=e,i=this.getBuffer(t);return i?i.getData():null}delete(){for(const e in this.resources)this.resources[e].delete()}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&_n(Ii(this.gl))}_getFeedbackBuffers(e){const{sourceBuffers:t={}}=e,i={};if(this.bindings[this.currentIndex]&&Object.assign(i,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const r in this.feedbackMap)r in t&&(i[this.feedbackMap[r]]=r);Object.assign(i,e.feedbackBuffers);for(const r in i){const o=i[r];if("string"==typeof o){const s=t[o],{byteLength:a,usage:c,accessor:l}=s;i[r]=this._createNewBuffer(r,{byteLength:a,usage:c,accessor:l})}}return i}_setupBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t=null}=e;Object.assign(this.feedbackMap,e.feedbackMap);const i=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:t,feedbackBuffers:i})}_setupTransformFeedback(e,t){let{model:i}=t;const{program:r}=i;e.transformFeedback=new TG(this.gl,{program:r,buffers:e.feedbackBuffers})}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){const{sourceBuffers:t,feedbackBuffers:i}=this._swapBuffers(this.bindings[this.currentIndex]),r=this._getNextIndex();this.bindings[r]=this._updateBinding(this.bindings[r],{sourceBuffers:t,feedbackBuffers:i})}}_updateBinding(e,t){return e?(Object.assign(e.sourceBuffers,t.sourceBuffers),Object.assign(e.feedbackBuffers,t.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},t.sourceBuffers),feedbackBuffers:Object.assign({},t.feedbackBuffers)}}_swapBuffers(e){if(!this.feedbackMap)return null;const t=Object.assign({},e.sourceBuffers),i=Object.assign({},e.feedbackBuffers);for(const r in this.feedbackMap){const o=this.feedbackMap[r];t[r]=e.feedbackBuffers[o],i[o]=e.sourceBuffers[r],_n(i[o]instanceof Sr)}return{sourceBuffers:t,feedbackBuffers:i}}_createNewBuffer(e,t){const i=new Sr(this.gl,t);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=i,i}_getNextIndex(){return(this.currentIndex+1)%2}}function IG(n){let e=100;const t=n.match(/[^\s]+/g);if(t.length>=2&&"#version"===t[0]){const i=parseInt(t[1],10);Number.isFinite(i)&&(e=i)}return e}const z0="vs",mbe={[z0]:"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",fs:"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"},yS="__LUMA_INJECT_DECLARATIONS__",DG=/void\s+main\s*\([^)]*\)\s*\{\n?/,kG=/}\n?[^{}]*$/,g2=[];function OG(n,e,t){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e===z0;for(const o in t){const s=t[o];s.sort((c,l)=>c.order-l.order),g2.length=s.length;for(let c=0,l=s.length;c<l;++c)g2[c]=s[c].injection;const a="".concat(g2.join("\n"),"\n");switch(o){case"vs:#decl":r&&(n=n.replace(yS,a));break;case"vs:#main-start":r&&(n=n.replace(DG,c=>c+a));break;case"vs:#main-end":r&&(n=n.replace(kG,c=>a+c));break;case"fs:#decl":r||(n=n.replace(yS,a));break;case"fs:#main-start":r||(n=n.replace(DG,c=>c+a));break;case"fs:#main-end":r||(n=n.replace(kG,c=>a+c));break;default:n=n.replace(o,c=>c+a)}}return n=n.replace(yS,""),i&&(n=n.replace(/\}\s*$/,o=>o+mbe[e])),n}function _2(n){const e={};return fc(Array.isArray(n)&&n.length>1),n.forEach(t=>{for(const i in t)e[i]=e[i]?"".concat(e[i],"\n").concat(t[i]):t[i]}),e}const gbe={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},vS="transform_uSize_",RG="transform_position";const Cbe={10241:9728,10240:9728,10242:33071,10243:33071};class Abe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}updateModelProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._processVertexShader(e);return Object.assign({},e,t)}getDrawOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t,sourceTextures:i,framebuffer:r,targetTexture:o}=this.bindings[this.currentIndex],s=Object.assign({},t,e.attributes),a=Object.assign({},e.uniforms),c=Object.assign({},e.parameters);let l=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){s.transform_elementID=this.elementIDBuffer;for(const h in this.samplerTextureMap)a[h]=i[this.samplerTextureMap[h]];this._setSourceTextureParameters();const d=function ybe(n){let{sourceTextureMap:e,targetTextureVarying:t,targetTexture:i}=n;const r={};let o,s;t&&(({width:o,height:s}=i),r["".concat(vS).concat(t)]=[o,s]);for(const a in e)({width:o,height:s}=e[a]),r["".concat(vS).concat(a)]=[o,s];return r}({sourceTextureMap:i,targetTextureVarying:this.targetTextureVarying,targetTexture:o});Object.assign(a,d)}return this.hasTargetTexture&&(l=!1,c.viewport=[0,0,r.width,r.height]),{attributes:s,framebuffer:r,uniforms:a,discard:l,parameters:c}}swap(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}update(){this._setupTextures(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}getTargetTexture(){const{targetTexture:e}=this.bindings[this.currentIndex];return e}getData(){let{packed:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{framebuffer:t}=this.bindings[this.currentIndex],i=uS(t);if(!e)return i;const r=i.constructor,o=function dbe(n){switch(n){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return fc(!1),null}}(this.targetTextureType),s=new r(i.length*o/4);let a=0;for(let c=0;c<i.length;c+=4)for(let l=0;l<o;l++)s[a++]=i[c+l];return s}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{_targetTextureVarying:t,_swapTexture:i}=e;this._swapTexture=i,this.targetTextureVarying=t,this.hasTargetTexture=t,this._setupTextures(e)}_createTargetTexture(e){const{sourceTextures:t,textureOrReference:i}=e;if(i instanceof Ns)return i;const r=t[i];return r?(this._targetRefTexName=i,this._createNewTexture(r)):null}_setupTextures(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t,_sourceTextures:i={},_targetTexture:r}=e,o=this._createTargetTexture({sourceTextures:i,textureOrReference:r});this.hasSourceTextures=this.hasSourceTextures||i&&Object.keys(i).length>0,this._updateBindings({sourceBuffers:t,sourceTextures:i,targetTexture:o}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}_updateElementIDBuffer(e){if("number"!=typeof e||this.elementCount>=e)return;const t=new Float32Array(e);t.forEach((i,r,o)=>{o[r]=r}),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new Sr(this.gl,{data:t,accessor:{size:1}}),this.elementCount=e}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){const{sourceTextures:t,targetTexture:i}=this._swapTextures(this.bindings[this.currentIndex]),r=this._getNextIndex();this.bindings[r]=this._updateBinding(this.bindings[r],{sourceTextures:t,targetTexture:i})}}_updateBinding(e,t){const{sourceBuffers:i,sourceTextures:r,targetTexture:o}=t;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,r),Object.assign(e.sourceBuffers,i),o){e.targetTexture=o;const{width:s,height:a}=o,{framebuffer:c}=e;c?(c.update({attachments:{36064:o},resizeAttachments:!1}),c.resize({width:s,height:a})):e.framebuffer=new Ho(this.gl,{id:"transform-framebuffer",width:s,height:a,attachments:{36064:o}})}return e}_setSourceTextureParameters(){const e=this.currentIndex,{sourceTextures:t}=this.bindings[e];for(const i in t)t[i].setParameters(Cbe)}_swapTextures(e){if(!this._swapTexture)return null;const t=Object.assign({},e.sourceTextures);return t[this._swapTexture]=e.targetTexture,{sourceTextures:t,targetTexture:e.sourceTextures[this._swapTexture]}}_createNewTexture(e){const t=function l_e(n,e){_n(n instanceof Ns||n instanceof a_e||n instanceof c_e);const t=n.constructor,{gl:i,width:r,height:o,format:s,type:a,dataFormat:c,border:l,mipmaps:d}=n;return new t(i,Object.assign({width:r,height:o,format:s,type:a,dataFormat:c,border:l,mipmaps:d},e))}(e,{parameters:{10241:9728,10240:9728,10242:33071,10243:33071},pixelStore:{37440:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=t,t}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceTextures:t,targetTexture:i}=this.bindings[this.currentIndex],{vs:r,uniforms:o,targetTextureType:s,inject:a,samplerTextureMap:c}=function bbe(n){let{vs:e,sourceTextureMap:t,targetTextureVarying:i,targetTexture:r}=n,s=Object.keys(t).length,a=null;const c={};let l=e,d={};if(s>0||i){const h=l.split("\n"),p=h.slice();if(h.forEach((_,v,A)=>{if(s>0){const P=function Ebe(n,e){const t={},i=function vbe(n){return AG(n,["attribute","in"])}(n);if(!i)return null;const{type:r,name:o}=i;if(o&&e[o]){const s="// ".concat(n," => Replaced by Transform with a sampler"),{samplerName:a,sizeName:c,uniformDeclerations:l}=function wbe(n){const e="".concat("transform_uSampler_").concat(n),t="".concat(vS).concat(n);return{samplerName:e,sizeName:t,uniformDeclerations:"  uniform sampler2D ".concat(e,";\n  uniform vec2 ").concat(t,";")}}(o),d=function lbe(n){switch(n){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return fc(!1),null}}(r),h="  ".concat(r," ").concat(o," = transform_getInput(").concat(a,", ").concat(c,").").concat(d,";\n");return t[a]=o,{updatedLine:s,inject:{"vs:#decl":l,"vs:#main-start":h},samplerTextureMap:t}}return null}(_,t);if(P){const{updatedLine:X,inject:Q}=P;p[v]=X,d=_2([d,Q]),Object.assign(c,P.samplerTextureMap),s--}}i&&!a&&(a=function xbe(n,e){const t=AG(n,["varying","out"]);return t&&t.name===e?t.type:null}(_,i))}),i){_n(r);const _="".concat(vS).concat(i),v="uniform vec2 ".concat(_,";\n"),A="     vec2 ".concat(RG," = transform_getPos(").concat(_,");\n     gl_Position = vec4(").concat(RG,", 0, 1.);\n");d=_2([d,{"vs:#decl":v,"vs:#main-start":A}])}l=p.join("\n")}return{vs:l,targetTextureType:a,inject:d,samplerTextureMap:c}}({vs:e.vs,sourceTextureMap:t,targetTextureVarying:this.targetTextureVarying,targetTexture:i}),l=_2([e.inject||{},a]);return this.targetTextureType=s,this.samplerTextureMap=c,{vs:r,fs:e._fs||MG({version:IG(r),input:this.targetTextureVarying,inputType:s,output:"transform_output"}),modules:this.hasSourceTextures||this.targetTextureVarying?[gbe].concat(e.modules||[]):e.modules,uniforms:o,inject:l}}}const b2={number:{validate:(n,e)=>Number.isFinite(n)&&(!("max"in e)||n<=e.max)&&(!("min"in e)||n>=e.min)},array:{validate:(n,e)=>Array.isArray(n)||ArrayBuffer.isView(n)}};function Tbe(n){let e=PG(n);return"object"===e?n?"type"in n?Object.assign({},n,b2[n.type]):"value"in n?(e=PG(n.value),Object.assign({type:e},n,b2[e])):{type:"object",value:n}:{type:"object",value:null}:Object.assign({type:e,value:n},b2[e])}function PG(n){return Array.isArray(n)||ArrayBuffer.isView(n)?"array":typeof n}class y2{constructor(e){let{name:t,vs:i,fs:r,dependencies:o=[],uniforms:s,getUniforms:a,deprecations:c=[],defines:l={},inject:d={},vertexShader:h,fragmentShader:p}=e;fc("string"==typeof t),this.name=t,this.vs=i||h,this.fs=r||p,this.getModuleUniforms=a,this.dependencies=o,this.deprecations=this._parseDeprecationDefinitions(c),this.defines=l,this.injections=function kbe(n){const e={vs:{},fs:{}};for(const t in n){let i=n[t];"string"==typeof i&&(i={order:0,injection:i}),e[t.slice(0,2)][t]=i}return e}(d),s&&(this.uniforms=function Mbe(n){const e={};for(const t in n){const r=Tbe(n[t]);e[t]=r}return e}(s))}getModuleSource(e){let t;switch(e){case"vs":t=this.vs||"";break;case"fs":t=this.fs||"";break;default:fc(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(t,"// END MODULE_").concat(this.name,"\n\n")}getUniforms(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}}getDefines(){return this.defines}checkDeprecations(e,t){this.deprecations.forEach(i=>{i.regex.test(e)&&(i.deprecated?t.deprecated(i.old,i.new)():t.removed(i.old,i.new)())})}_parseDeprecationDefinitions(e){return e.forEach(t=>{t.regex="function"===t.type?new RegExp("\\b".concat(t.old,"\\(")):new RegExp("".concat(t.type," ").concat(t.old,";"))}),e}_defaultGetUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={},i=this.uniforms;for(const r in i){const o=i[r];r in e&&!o.private?(o.validate&&fc(o.validate(e[r],o),"".concat(this.name,": invalid ").concat(r)),t[r]=e[r]):t[r]=o.value}return t}}function Obe(n){return function NG(n){const e={},t={};return v2({modules:n,level:0,moduleMap:e,moduleDepth:t}),Object.keys(t).sort((i,r)=>t[r]-t[i]).map(i=>e[i])}(FG(n))}function v2(n){let{modules:e,level:t,moduleMap:i,moduleDepth:r}=n;if(t>=5)throw new Error("Possible loop in shader dependency graph");for(const o of e)i[o.name]=o,(void 0===r[o.name]||r[o.name]<t)&&(r[o.name]=t);for(const o of e)o.dependencies&&v2({modules:o.dependencies,level:t+1,moduleMap:i,moduleDepth:r})}function FG(n,e){return n.map(t=>(t instanceof y2||(fc("string"!=typeof t,"Shader module use by name is deprecated. Import shader module '".concat(t,"' and use it directly.")),fc(t.name,"shader module has no name"),(t=new y2(t)).dependencies=FG(t.dependencies)),t))}const Pbe=7936,Nbe=7937,Fbe=7938,Lbe=35724,w2={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},Bp={};function Vbe(n,e){return n.match(/NVIDIA/i)||e.match(/NVIDIA/i)?"NVIDIA":n.match(/INTEL/i)||e.match(/INTEL/i)?"INTEL":n.match(/AMD/i)||e.match(/AMD/i)||n.match(/ATI/i)||e.match(/ATI/i)?"AMD":"UNKNOWN GPU"}Object.keys(w2).forEach(n=>{Bp[n]=n});const x2={};function LG(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=w2[e];if(fc(i,e),!function Rbe(){const e=typeof window<"u"&&window.navigator||{},t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).userAgent||e.userAgent||"",i=-1!==t.indexOf("MSIE "),r=-1!==t.indexOf("Trident/");return i||r}(t))return!0;if(e in x2)return x2[e];const o=t.behavior||"enable",s="#extension GL_".concat(i[0]," : ").concat(o,"\nvoid main(void) {}"),a=n.createShader(35633);n.shaderSource(a,s),n.compileShader(a);const c=n.getShaderParameter(a,35713);return n.deleteShader(a),x2[e]=c,c}function wS(n,e){return(e=Array.isArray(e)?e:[e]).every(t=>function jbe(n,e){const t=w2[e];fc(t,e);const i=function Bbe(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||2!==n._version)}(n)&&t[1]||t[0],r="string"==typeof i?!!n.getExtension(i):i;return fc(!1===r||!0===r),r}(n,t))}function A_(n){return new RegExp("\\b".concat(n,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const BG=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],Gbe=[...BG,[A_("attribute"),"in $1"],[A_("varying"),"out $1"]],Wbe=[...BG,[A_("varying"),"in $1"]],UG=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],$be=[...UG,[A_("in"),"attribute $1"],[A_("out"),"varying $1"]],Ybe=[...UG,[A_("in"),"varying $1"]],E2="gl_FragColor",C2=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,Xbe=/void\s+main\s*\([^)]*\)\s*\{\n?/;function xS(n,e){for(const[t,i]of e)n=n.replace(t,i);return n}const Zbe="\n\n".concat(yS,"\n\n"),VG={[z0]:"vertex",fs:"fragment"};function jG(n,e){let{id:t,source:i,type:r,modules:o,defines:s={},hookFunctions:a=[],inject:c={},transpileToGLSL100:l=!1,prologue:d=!0,log:h}=e;fc("string"==typeof i,"shader source must be a string");const p=r===z0,_=i.split("\n");let v=100,A="",P=i;0===_[0].indexOf("#version ")?(v=300,A=_[0],P=_.slice(1).join("\n")):A="#version ".concat(v);const X={};o.forEach(ht=>{Object.assign(X,ht.getDefines())}),Object.assign(X,s);let Q=d?"".concat(A,"\n").concat(function iye(n){let{id:e,source:t,type:i}=n;return e&&"string"==typeof e&&-1===t.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(e,"_").concat(VG[i],"\n\n"):""}({id:t,source:i,type:r}),"\n").concat(function nye(n){let{type:e}=n;return"\n#define SHADER_TYPE_".concat(VG[e].toUpperCase(),"\n")}({type:r}),"\n").concat(function zbe(n){switch(function Ube(n){const e=n.getExtension("WEBGL_debug_renderer_info"),t=n.getParameter(e&&e.UNMASKED_VENDOR_WEBGL||Pbe),i=n.getParameter(e&&e.UNMASKED_RENDERER_WEBGL||Nbe);return{gpuVendor:Vbe(t,i),vendor:t,renderer:i,version:n.getParameter(Fbe),shadingLanguageVersion:n.getParameter(Lbe)}}(n).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(n),"\n").concat(function Hbe(n,e,t){let i="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return wS(n,Bp.GLSL_FRAG_DEPTH)&&(i+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),wS(n,Bp.GLSL_DERIVATIVES)&&LG(n,Bp.GLSL_DERIVATIVES)&&(i+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),wS(n,Bp.GLSL_FRAG_DATA)&&LG(n,Bp.GLSL_FRAG_DATA,{behavior:"require"})&&(i+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),wS(n,Bp.GLSL_TEXTURE_LOD)&&(i+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),i}(n),"\n").concat(function rye(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0,t="";for(const i in n){0===e&&(t+="\n// APPLICATION DEFINES\n"),e++;const r=n[i];(r||Number.isFinite(r))&&(t+="#define ".concat(i.toUpperCase()," ").concat(n[i],"\n"))}return 0===e&&(t+="\n"),t}(X),"\n").concat(p?"":"precision highp float;\n\n","\n"):"".concat(A,"\n");const pe=function sye(n){const e={vs:{},fs:{}};return n.forEach(t=>{let i;"string"!=typeof t?(i=t,t=i.hook):i={},t=t.trim();const[r,o]=t.split(":"),s=t.replace(/\(.+/,"");e[r][s]=Object.assign(i,{signature:o})}),e}(a),Re={},Ye={},tt={};for(const ht in c){const Mt="string"==typeof c[ht]?{injection:c[ht],order:0}:c[ht],xt=ht.match(/^(v|f)s:(#)?([\w-]+)$/);xt?xt[2]?"decl"===xt[3]?Ye[ht]=[Mt]:tt[ht]=[Mt]:Re[ht]=[Mt]:tt[ht]=[Mt]}for(const ht of o){h&&ht.checkDeprecations(P,h),Q+=ht.getModuleSource(r,v);const xt=ht.injections[r];for(const yt in xt){const Ot=yt.match(/^(v|f)s:#([\w-]+)$/);if(Ot){const gt="decl"===Ot[2]?Ye:tt;gt[yt]=gt[yt]||[],gt[yt].push(xt[yt])}else Re[yt]=Re[yt]||[],Re[yt].push(xt[yt])}}return Q+=Zbe,Q=OG(Q,r,Ye),Q+=function oye(n,e){let t="";for(const i in n){const r=n[i];if(t+="void ".concat(r.signature," {\n"),r.header&&(t+="  ".concat(r.header)),e[i]){const o=e[i];o.sort((s,a)=>s.order-a.order);for(const s of o)t+="  ".concat(s.injection,"\n")}r.footer&&(t+="  ".concat(r.footer)),t+="}\n"}return t}(pe[r],Re),Q+=P,Q=OG(Q,r,tt),Q=function Kbe(n,e,t){switch(e){case 300:return t?xS(n,Gbe):function qbe(n){const e=(n=xS(n,Wbe)).match(C2);if(e){const t=e[1];n=n.replace(new RegExp("\\b".concat(E2,"\\b"),"g"),t)}else{const t="fragmentColor";n=n.replace(Xbe,i=>"out vec4 ".concat(t,";\n").concat(i)).replace(new RegExp("\\b".concat(E2,"\\b"),"g"),t)}return n}(n);case 100:return t?xS(n,$be):function Jbe(n){const e=(n=xS(n,Ybe)).match(C2);if(e){const t=e[1];n=n.replace(C2,"").replace(new RegExp("\\b".concat(t,"\\b"),"g"),E2)}return n}(n);default:throw new Error("unknown GLSL version ".concat(e))}}(Q,l?100:v,p),Q}function tye(n){return function(t){const i={};for(const r of n){const o=r.getUniforms(t,i);Object.assign(i,o)}return i}}const aye={5126:Jr.bind(null,"uniform1fv",pc,1,aa),35664:Jr.bind(null,"uniform2fv",pc,2,aa),35665:Jr.bind(null,"uniform3fv",pc,3,aa),35666:Jr.bind(null,"uniform4fv",pc,4,aa),5124:Jr.bind(null,"uniform1iv",qh,1,aa),35667:Jr.bind(null,"uniform2iv",qh,2,aa),35668:Jr.bind(null,"uniform3iv",qh,3,aa),35669:Jr.bind(null,"uniform4iv",qh,4,aa),35670:Jr.bind(null,"uniform1iv",qh,1,aa),35671:Jr.bind(null,"uniform2iv",qh,2,aa),35672:Jr.bind(null,"uniform3iv",qh,3,aa),35673:Jr.bind(null,"uniform4iv",qh,4,aa),35674:Jr.bind(null,"uniformMatrix2fv",pc,4,Ru),35675:Jr.bind(null,"uniformMatrix3fv",pc,9,Ru),35676:Jr.bind(null,"uniformMatrix4fv",pc,16,Ru),35678:Bs,35680:Bs,5125:Jr.bind(null,"uniform1uiv",ES,1,aa),36294:Jr.bind(null,"uniform2uiv",ES,2,aa),36295:Jr.bind(null,"uniform3uiv",ES,3,aa),36296:Jr.bind(null,"uniform4uiv",ES,4,aa),35685:Jr.bind(null,"uniformMatrix2x3fv",pc,6,Ru),35686:Jr.bind(null,"uniformMatrix2x4fv",pc,8,Ru),35687:Jr.bind(null,"uniformMatrix3x2fv",pc,6,Ru),35688:Jr.bind(null,"uniformMatrix3x4fv",pc,12,Ru),35689:Jr.bind(null,"uniformMatrix4x2fv",pc,8,Ru),35690:Jr.bind(null,"uniformMatrix4x3fv",pc,12,Ru),35678:Bs,35680:Bs,35679:Bs,35682:Bs,36289:Bs,36292:Bs,36293:Bs,36298:Bs,36299:Bs,36300:Bs,36303:Bs,36306:Bs,36307:Bs,36308:Bs,36311:Bs},cye={},lye={},dye={},zG=[0];function S2(n,e,t,i){1===e&&"boolean"==typeof n&&(n=n?1:0),Number.isFinite(n)&&(zG[0]=n,n=zG);const r=n.length;if(r%e&&Dn.warn("Uniform size should be multiples of ".concat(e),n)(),n instanceof t)return n;let o=i[r];o||(o=new t(r),i[r]=o);for(let s=0;s<r;s++)o[s]=n[s];return o}function pc(n,e){return S2(n,e,Float32Array,cye)}function qh(n,e){return S2(n,e,Int32Array,lye)}function ES(n,e){return S2(n,e,Uint32Array,dye)}function HG(n,e,t){const i=aye[t.type];if(!i)throw new Error("Unknown GLSL uniform type ".concat(t.type));return i().bind(null,n,e)}function uye(n){if("]"!==n[n.length-1])return{name:n,length:1,isArray:!1};const t=n.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(n));return{name:t[1],length:t[2]||1,isArray:!!t[2]}}function fye(n){return Array.isArray(n)||ArrayBuffer.isView(n)?function mye(n){if(0===n.length)return!1;const e=Math.min(n.length,16);for(let t=0;t<e;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n):!!(isFinite(n)||!0===n||!1===n||n instanceof Fp||n instanceof E_)||n instanceof Ho&&!!n.texture}function pye(n,e,t){if(Array.isArray(t)||ArrayBuffer.isView(t))if(n[e]){const i=n[e];for(let r=0,o=t.length;r<o;++r)i[r]=t[r]}else n[e]=t.slice();else n[e]=t}function Bs(){let n=null;return(e,t,i)=>{const r=n!==i;return r&&(e.uniform1i(t,i),n=i),r}}function Jr(n,e,t,i){let r=null,o=null;return(s,a,c)=>{const l=e(c,t),d=l.length;let h=!1;if(null===r)r=new Float32Array(d),o=d,h=!0;else{_n(o===d,"Uniform length cannot change.");for(let p=0;p<d;++p)if(l[p]!==r[p]){h=!0;break}}return h&&(i(s,n,a,l),r.set(l)),h}}function aa(n,e,t,i){n[e](t,i)}function Ru(n,e,t,i){n[e](t,!1,i)}function CS(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed";const i=n.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return i?i[1]:e}function WG(n,e){let t="";for(let i=0;i<e.length;i++)if((n[i+3]||n[i+2]||n[i+1])&&(t+="".concat(e[i],"\n"),n[i+1])){const o=n[i+1],s=o.split(":",3),a=s[0],c=parseInt(s[1],10)||0,l=o.substring(s.join(":").length+1).trim();t+=$G("^^^ ".concat(a,": ").concat(l,"\n\n"),c)}return t}function $G(n,e){let t="";for(let i=0;i<e;++i)t+=" ";return"".concat(t).concat(n)}class H0 extends Du{get[Symbol.toStringTag](){return"Shader"}static getTypeName(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return _n(!1),"unknown"}}constructor(e,t){dS(e),_n("string"==typeof t.source,"Shader: GLSL source code must be a JavaScript string"),super(e,{id:CS(t.source,null)||t.id||Wa("unnamed ".concat(H0.getTypeName(t.shaderType)))}),this.shaderType=t.shaderType,this.source=t.source,this.initialize(t)}initialize(e){let{source:t}=e;const i=CS(t,null);i&&(this.id=Wa(i)),this._compile(t)}getParameter(e){return this.gl.getShaderParameter(this.handle,e)}toString(){return"".concat(H0.getTypeName(this.shaderType),":").concat(this.id)}getName(){return CS(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;if(e.startsWith("#version ")||(e="#version 100\n".concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){const i=this.gl.getShaderInfoLog(this.handle),{shaderName:r,errors:o,warnings:s}=function GG(n,e,t,i){const r=n.split(/\r?\n/),o={},s={},a=i||CS(e)||"(unnamed)",c="".concat(function bye(n){switch(n){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(t)," shader ").concat(a);for(let d=0;d<r.length;d++){const h=r[d];if(h.length<=1)continue;const p=h.split(":"),_=p[0],v=parseInt(p[2],10);if(isNaN(v))throw new Error("GLSL compilation error in ".concat(c,": ").concat(n));"WARNING"!==_?o[v]=h:s[v]=h}const l=function yye(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ";const i=n.split(/\r?\n/),r=String(i.length+e-1).length;return i.map((o,s)=>{const a=String(s+e);return $G(a,r-a.length)+t+o})}(e);return{shaderName:c,errors:WG(o,l),warnings:WG(s,l)}}(i,this.source,this.shaderType,this.id);throw Dn.error("GLSL compilation errors in ".concat(r,"\n").concat(o))(),Dn.warn("GLSL compilation warnings in ".concat(r,"\n").concat(s))(),new Error("GLSL compilation errors in ".concat(r))}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class A2 extends H0{get[Symbol.toStringTag](){return"VertexShader"}constructor(e,t){"string"==typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class M2 extends H0{get[Symbol.toStringTag](){return"FragmentShader"}constructor(e,t){"string"==typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}const wye=5120,xye=5121,Eye=5122,Cye=5123,es=5126,G0=5124,W0=5125,T2={[es]:[es,1,"float"],35664:[es,2,"vec2"],35665:[es,3,"vec3"],35666:[es,4,"vec4"],[G0]:[G0,1,"int"],35667:[G0,2,"ivec2"],35668:[G0,3,"ivec3"],35669:[G0,4,"ivec4"],[W0]:[W0,1,"uint"],36294:[W0,2,"uvec2"],36295:[W0,3,"uvec3"],36296:[W0,4,"uvec4"],35670:[es,1,"bool"],35671:[es,2,"bvec2"],35672:[es,3,"bvec3"],35673:[es,4,"bvec4"],35674:[es,8,"mat2"],35685:[es,8,"mat2x3"],35686:[es,8,"mat2x4"],35675:[es,12,"mat3"],35687:[es,12,"mat3x2"],35688:[es,12,"mat3x4"],35676:[es,16,"mat4"],35689:[es,16,"mat4x2"],35690:[es,16,"mat4x3"]};function ZG(n){const e=T2[n];if(!e)return null;const[t,i]=e;return{type:t,components:i}}function QG(n,e){switch(n){case wye:case xye:case Eye:case Cye:n=es}for(const t in T2){const[i,r,o]=T2[t];if(i===n&&r===e)return{glType:t,name:o}}return null}class Xye{constructor(e){this.id=e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(e),this._readVaryingsFromProgram(e)}getAttributeInfo(e){const t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}getAttributeLocation(e){const t=this.getAttributeInfo(e);return t?t.location:-1}getAttributeAccessor(e){const t=this.getAttributeInfo(e);return t?t.accessor:null}getVaryingInfo(e){const t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}getVaryingIndex(e){const t=this.getVaryingInfo();return t?t.location:-1}getVaryingAccessor(e){const t=this.getVaryingInfo();return t?t.accessor:null}_readAttributesFromProgram(e){const{gl:t}=e,i=t.getProgramParameter(e.handle,35721);for(let r=0;r<i;r++){const{name:o,type:s,size:a}=t.getActiveAttrib(e.handle,r),c=t.getAttribLocation(e.handle,o);c>=0&&this._addAttribute(c,o,s,a)}this.attributeInfos.sort((r,o)=>r.location-o.location)}_readVaryingsFromProgram(e){const{gl:t}=e;if(!Ii(t))return;const i=t.getProgramParameter(e.handle,35971);for(let r=0;r<i;r++){const{name:o,type:s,size:a}=t.getTransformFeedbackVarying(e.handle,r);this._addVarying(r,o,s,a)}this.varyingInfos.sort((r,o)=>r.location-o.location)}_addAttribute(e,t,i,r){const{type:o,components:s}=ZG(i),a={type:o,size:r*s};this._inferProperties(e,t,a);const c={location:e,name:t,accessor:new $a(a)};this.attributeInfos.push(c),this.attributeInfosByLocation[e]=c,this.attributeInfosByName[c.name]=c}_inferProperties(e,t,i){/instance/i.test(t)&&(i.divisor=1)}_addVarying(e,t,i,r){const{type:o,components:s}=ZG(i),c={location:e,name:t,accessor:new $a({type:o,size:r*s})};this.varyingInfos.push(c),this.varyingInfosByName[c.name]=c}}const Kye=35981,qye=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class t9 extends Du{get[Symbol.toStringTag](){return"Program"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.stubRemovedMethods("Program","v6.0",qye),this._isCached=!1,this.initialize(t),Object.seal(this),this._setId(t.id)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{hash:t,vs:i,fs:r,varyings:o,bufferMode:s=Kye}=e;return this.hash=t||"",this.vs="string"==typeof i?new A2(this.gl,{id:"".concat(e.id,"-vs"),source:i}):i,this.fs="string"==typeof r?new M2(this.gl,{id:"".concat(e.id,"-fs"),source:r}):r,_n(this.vs instanceof A2),_n(this.fs instanceof M2),this.uniforms={},this._textureUniforms={},o&&o.length>0&&(ra(this.gl),this.varyings=o,this.gl2.transformFeedbackVaryings(this.handle,o,s)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new Xye(this),this.setProps(e)}delete(){return this._isCached?this:super.delete(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}setProps(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}draw(e){let{logPriority:t,drawMode:i=4,vertexCount:r,offset:o=0,start:s,end:a,isIndexed:c=!1,indexType:l=5123,instanceCount:d=0,isInstanced:h=d>0,vertexArray:p=null,transformFeedback:_,framebuffer:v,parameters:A={},uniforms:P,samplers:X}=e;if((P||X)&&(Dn.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(P||{})),Dn.priority>=t){const Q=v?v.id:"default",pe="mode=".concat(Kh(this.gl,i)," verts=").concat(r," ")+"instances=".concat(d," indexType=").concat(Kh(this.gl,l)," ")+"isInstanced=".concat(h," isIndexed=").concat(c," ")+"Framebuffer=".concat(Q);Dn.log(t,pe)()}return _n(p),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===r||h&&0===d||(p.bindForDraw(r,d,()=>{if(void 0!==v&&(A=Object.assign({},A,{framebuffer:v})),_){const Q=function JG(n){switch(n){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return _n(!1),0}}(i);_.begin(Q)}this._bindTextures(),Gc(this.gl,A,()=>{c&&h?this.gl2.drawElementsInstanced(i,r,l,o,d):c&&Ii(this.gl)&&!isNaN(s)&&!isNaN(a)?this.gl2.drawRangeElements(i,s,a,r,l,o):c?this.gl.drawElements(i,r,l,o):h?this.gl2.drawArraysInstanced(i,o,r,d):this.gl.drawArrays(i,o,r)}),_&&_.end()}),0))}setUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Dn.priority>=2&&function hye(n,e,t){for(const i in n){const r=n[i];if((!t||t[i])&&!fye(r))throw e=e?"".concat(e," "):"",console.error("".concat(e," Bad uniform ").concat(i),r),new Error("".concat(e," Bad uniform ").concat(i))}}(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const t in e){const i=e[t],r=this._uniformSetters[t];if(r){let o=i,s=!1;if(o instanceof Ho&&(o=o.texture),o instanceof Fp)if(s=this.uniforms[t]!==i,s){void 0===r.textureIndex&&(r.textureIndex=this._textureIndexCounter++);const a=o,{textureIndex:c}=r;a.bind(c),o=c,this._textureUniforms[t]=a}else o=r.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(r(o)||s)&&pye(this.uniforms,t,i)}}return this}_areTexturesRenderable(){let e=!0;for(const t in this._textureUniforms){const i=this._textureUniforms[t];i.update(),e=e&&i.loaded}return e}_bindTextures(){for(const e in this._textureUniforms)this._textureUniforms[e].bind(this._uniformSetters[e].textureIndex)}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(e){const t=this.gl.getAttachedShaders(e),i={};for(const r of t)switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:i.vs=new A2({handle:r});break;case 35632:i.fs=new M2({handle:r})}return i}_getParameter(e){return this.gl.getProgramParameter(this.handle,e)}_setId(e){if(!e){const t=this._getName();this.id=Wa(t)}}_getName(){let e=this.vs.getName()||this.fs.getName();return e=e.replace(/shader/i,""),e=e?"".concat(e,"-program"):"program",e}_compileAndLink(){const{gl:e}=this;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),Dn.time(4,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),Dn.timeEnd(4,"linkProgram for ".concat(this._getName()))(),e.debug||Dn.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));if(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}_readUniformLocationsFromLinkedProgram(){const{gl:e}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let t=0;t<this._uniformCount;t++){const i=this.gl.getActiveUniform(this.handle,t),{name:r}=uye(i.name);let o=e.getUniformLocation(this.handle,r);if(this._uniformSetters[r]=HG(e,o,i),i.size>1)for(let s=0;s<i.size;s++)o=e.getUniformLocation(this.handle,"".concat(r,"[").concat(s,"]")),this._uniformSetters["".concat(r,"[").concat(s,"]")]=HG(e,o,i)}this._textureIndexCounter=0}getActiveUniforms(e,t){return this.gl2.getActiveUniforms(this.handle,e,t)}getUniformBlockIndex(e){return this.gl2.getUniformBlockIndex(this.handle,e)}getActiveUniformBlockParameter(e,t){return this.gl2.getActiveUniformBlockParameter(this.handle,e,t)}uniformBlockBinding(e,t){this.gl2.uniformBlockBinding(this.handle,e,t)}}class $0{static getDefaultProgramManager(e){return e.luma=e.luma||{},e.luma.defaultProgramManager=e.luma.defaultProgramManager||new $0(e),e.luma.defaultProgramManager}constructor(e){this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(e){this._defaultModules.find(t=>t.name===e.name)||this._defaultModules.push(e),this.stateHash++}removeDefaultModule(e){const t="string"==typeof e?e:e.name;this._defaultModules=this._defaultModules.filter(i=>i.name!==t),this.stateHash++}addShaderHook(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{vs:t="",fs:i="",defines:r={},inject:o={},varyings:s=[],bufferMode:a=35981,transpileToGLSL100:c=!1}=e,l=this._getModuleList(e.modules),d=this._getHash(t),h=this._getHash(i),p=l.map(pe=>this._getHash(pe.name)).sort(),_=s.map(pe=>this._getHash(pe)),v=Object.keys(r).sort(),A=Object.keys(o).sort(),P=[],X=[];for(const pe of v)P.push(this._getHash(pe)),P.push(this._getHash(r[pe]));for(const pe of A)X.push(this._getHash(pe)),X.push(this._getHash(o[pe]));const Q="".concat(d,"/").concat(h,"D").concat(P.join("/"),"M").concat(p.join("/"),"I").concat(X.join("/"),"V").concat(_.join("/"),"H").concat(this.stateHash,"B").concat(a).concat(c?"T":"");if(!this._programCache[Q]){const pe=function eye(n,e){const{vs:t,fs:i}=e,r=Obe(e.modules||[]);return{gl:n,vs:jG(n,Object.assign({},e,{source:t,type:z0,modules:r})),fs:jG(n,Object.assign({},e,{source:i,type:"fs",modules:r})),getUniforms:tye(r)}}(this.gl,{vs:t,fs:i,modules:l,inject:o,defines:r,hookFunctions:this._hookFunctions,transpileToGLSL100:c});this._programCache[Q]=new t9(this.gl,{hash:Q,vs:pe.vs,fs:pe.fs,varyings:s,bufferMode:a}),this._getUniforms[Q]=pe.getUniforms||(Re=>{}),this._useCounts[Q]=0}return this._useCounts[Q]++,this._programCache[Q]}getUniforms(e){return this._getUniforms[e.hash]||null}release(e){const t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t].delete(),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])}_getHash(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}_getModuleList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=new Array(this._defaultModules.length+e.length),i={};let r=0;for(let o=0,s=this._defaultModules.length;o<s;++o){const a=this._defaultModules[o],c=a.name;t[r++]=a,i[c]=!0}for(let o=0,s=e.length;o<s;++o){const a=e[o],c=a.name;i[c]||(t[r++]=a,i[c]=!0)}return t.length=r,t}}let AS=null;const MS=globalThis;function n9(n){if(!n&&!hd())return"Node";if(_H(n))return"Electron";const t=n||(typeof navigator<"u"?navigator:{}).userAgent||"";if(t.indexOf("Edge")>-1)return"Edge";const i=-1!==t.indexOf("MSIE "),r=-1!==t.indexOf("Trident/");return i||r?"IE":MS.chrome?"Chrome":MS.safari?"Safari":MS.mozInnerScreenX?"Firefox":"Unknown"}class mc extends Du{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(e){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).constantAttributeZero||Ii(e)||"Chrome"===n9()}static getDefaultArray(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new mc(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}static getMaxAttributes(e){return mc.MAX_ATTRIBUTES=mc.MAX_ATTRIBUTES||e.getParameter(34921),mc.MAX_ATTRIBUTES}static setConstant(e,t,i){switch(i.constructor){case Float32Array:mc._setConstantFloatArray(e,t,i);break;case Int32Array:mc._setConstantIntArray(e,t,i);break;case Uint32Array:mc._setConstantUintArray(e,t,i);break;default:_n(!1)}}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,Object.assign({},t,{id:t.id||t.program&&t.program.id})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=t.isDefaultArray||!1,this.gl2=e,this.initialize(t),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return mc.getMaxAttributes(this.gl)}initialize(){return this.setProps(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}setProps(e){return this}setElementBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return _n(!e||34963===e.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind(()=>{this.gl.bindBuffer(34963,e?e.handle:null)}),this}setBuffer(e,t,i){if(34963===t.target)return this.setElementBuffer(t,i);const{size:r,type:o,stride:s,offset:a,normalized:c,integer:l,divisor:d}=i,{gl:h,gl2:p}=this;return e=Number(e),this.bind(()=>{h.bindBuffer(34962,t.handle),l?(_n(Ii(h)),p.vertexAttribIPointer(e,r,o,s,a)):h.vertexAttribPointer(e,r,o,c,s,a),h.enableVertexAttribArray(e),p.vertexAttribDivisor(e,d||0)}),this}enable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!t&&0===e&&!mc.isSupported(this.gl,{constantAttributeZero:!0})||(e=Number(e),this.bind(()=>t?this.gl.enableVertexAttribArray(e):this.gl.disableVertexAttribArray(e))),this}getConstantBuffer(e,t){const i=this._normalizeConstantArrayValue(t),r=i.byteLength*e,o=i.length*e;let s=!this.buffer;if(this.buffer=this.buffer||new Sr(this.gl,r),s=s||this.buffer.reallocate(r),s=s||!this._compareConstantArrayValues(i,this.bufferValue),s){const a=function Zye(n,e){const t=function Jye(n){return(!AS||AS.byteLength<n)&&(AS=new ArrayBuffer(n)),AS}(n.BYTES_PER_ELEMENT*e);return new n(t,0,e)}(t.constructor,o);(function Qye(n){let{target:e,source:t,start:i=0,count:r=1}=n;const o=t.length,s=r*o;let a=0;for(let c=i;a<o;a++)e[c++]=t[a];for(;a<s;)a<s-a?(e.copyWithin(i+a,i,i+a),a*=2):(e.copyWithin(i+a,i,i+s-a),a=s)})({target:a,source:i,start:0,count:o}),this.buffer.subData(a),this.bufferValue=t}return this.buffer}_normalizeConstantArrayValue(e){return Array.isArray(e)?new Float32Array(e):e}_compareConstantArrayValues(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}static _setConstantFloatArray(e,t,i){switch(i.length){case 1:e.vertexAttrib1fv(t,i);break;case 2:e.vertexAttrib2fv(t,i);break;case 3:e.vertexAttrib3fv(t,i);break;case 4:e.vertexAttrib4fv(t,i);break;default:_n(!1)}}static _setConstantIntArray(e,t,i){switch(_n(Ii(e)),i.length){case 1:e.vertexAttribI1iv(t,i);break;case 2:e.vertexAttribI2iv(t,i);break;case 3:e.vertexAttribI3iv(t,i);break;case 4:e.vertexAttribI4iv(t,i);break;default:_n(!1)}}static _setConstantUintArray(e,t,i){switch(_n(Ii(e)),i.length){case 1:e.vertexAttribI1uiv(t,i);break;case 2:e.vertexAttribI2uiv(t,i);break;case 3:e.vertexAttribI3uiv(t,i);break;case 4:e.vertexAttribI4uiv(t,i);break;default:_n(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(e){return this.gl2.deleteVertexArray(e),[this.elements]}_bindHandle(e){this.gl2.bindVertexArray(e)}_getParameter(e,t){let{location:i}=t;return _n(Number.isFinite(i)),this.bind(()=>34373===e?this.gl.getVertexAttribOffset(i,e):this.gl.getVertexAttrib(i,e))}}const nve=/^(.+)__LOCATION_([0-9]+)$/,ive=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class rve{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.id=t.id||t.program&&t.program.id,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new mc(e),GH(this,"VertexArray","v6.0",ive),this.initialize(t),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:e}=this.vertexArrayObject;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}setProps(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(e){return Object.assign(this.attributes,e),this.vertexArrayObject.bind(()=>{for(const t in e)this._setAttribute(t,e[t]);this.gl.bindBuffer(34962,null)}),this}setElementBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,t),this}setBuffer(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===t.target)return this.setElementBuffer(t,i);const{location:r,accessor:o}=this._resolveLocationAndAccessor(e,t,t.accessor,i);return r>=0&&(this.values[r]=t,this.accessors[r]=o,this.clearDrawParams(),this.vertexArrayObject.setBuffer(r,t,o)),this}setConstant(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{location:r,accessor:o}=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},i));return r>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t),this.values[r]=t,this.accessors[r]=o,this.clearDrawParams(),this.vertexArrayObject.enable(r,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new Sr(this.gl,{accessor:{size:4}});for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this.values[e]instanceof Sr&&(this.gl.disableVertexAttribArray(e),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(e,1,5126,!1,0,0))}),this}bindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.setElementBuffer(this.elements);for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++){const t=this.values[e];t instanceof Sr&&this.setBuffer(e,t)}}),this}bindForDraw(e,t,i){let r;return this.vertexArrayObject.bind(()=>{this._setConstantAttributes(e,t),r=i()}),r}_resolveLocationAndAccessor(e,t,i,r){const o={location:-1,accessor:null},{location:s,name:a}=this._getAttributeIndex(e);if(!Number.isFinite(s)||s<0)return this.unused[e]=t,Dn.once(3,()=>"unused value ".concat(e," in ").concat(this.id))(),o;const c=this._getAttributeInfo(a||s);if(!c)return o;const d=$a.resolve(c.accessor,this.accessors[s]||{},i,r),{size:h,type:p}=d;return _n(Number.isFinite(h)&&Number.isFinite(p)),{location:s,accessor:d}}_getAttributeInfo(e){return this.configuration&&this.configuration.getAttributeInfo(e)}_getAttributeIndex(e){const t=Number(e);if(Number.isFinite(t))return{location:t};const i=nve.exec(e),r=i?i[1]:e,o=i?Number(i[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(r)+o,name:r}:{location:-1}}_setAttribute(e,t){if(t instanceof Sr)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof Sr)this.setBuffer(e,t[0],t[1]);else if(ArrayBuffer.isView(t)||Array.isArray(t))this.setConstant(e,t);else{if(!(t.buffer instanceof Sr))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");this.setBuffer(e,t.buffer,t)}}_setConstantAttributes(e,t){const i=Math.max(0|e,0|t);let r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,i);for(let o=1;o<this.vertexArrayObject.MAX_ATTRIBUTES;o++)r=this.values[o],ArrayBuffer.isView(r)&&this._setConstantAttribute(o,r)}_setConstantAttributeZero(e,t){if(mc.isSupported(this.gl,{constantAttributeZero:!0}))return void this._setConstantAttribute(0,e);const i=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,i,this.accessors[0])}_setConstantAttribute(e,t){mc.setConstant(this.gl,e,t)}_updateDrawParams(){const e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}_updateDrawParamsForLocation(e,t){const i=this.values[t],r=this.accessors[t];if(!i)return;const{divisor:o}=r,s=o>0;if(e.isInstanced=e.isInstanced||s,i instanceof Sr){const a=i;if(s){const c=a.getVertexCount(r);e.instanceCount=Math.min(e.instanceCount,c)}else{const c=a.getVertexCount(r);e.vertexCount=Math.min(e.vertexCount,c)}}}setElements(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Dn.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)}}function Y0(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isInteger:i=!1}=e;if(Array.isArray(n)||ArrayBuffer.isView(n))return function ove(n,e){const{maxElts:t=16,size:i=1}=e;let r="[";for(let s=0;s<n.length&&s<t;++s)s>0&&(r+=",".concat(s%i==0?" ":"")),r+=Y0(n[s],e);const o=n.length>t?"...":"]";return"".concat(r).concat(o)}(n,e);if(!Number.isFinite(n))return String(n);if(Math.abs(n)<1e-16)return i?"0":"0.";if(i||Math.abs(n)>100&&Math.abs(n)<1e4)return n.toFixed(0);const r=n.toPrecision(2);return r.indexOf(".0")===r.length-2?r.slice(0,-1):r}function i9(n,e,t,i){const{gl:r}=n;if(!e)return{[i]:"null","Format ":"N/A"};let l,d,h,o="NOT PROVIDED",s=1,a=0,c=0;if(t&&(o=t.type,s=t.size,o=String(o).replace("Array",""),l=-1!==o.indexOf("nt")),e instanceof Sr){const p=e,{data:_,changed:v}=p.getDebugData();let A;return d=v?"*":"",h=_,c=p.byteLength,a=c/_.BYTES_PER_ELEMENT/s,t?A="".concat(t.divisor>0?"I ":"P "," ").concat(a," (x").concat(s,"=").concat(c," bytes ").concat(Kh(r,o),")"):(l=!0,A="".concat(c," bytes")),{[i]:"".concat(d).concat(Y0(h,{size:s,isInteger:l})),"Format ":A}}return h=e,s=e.length,o=String(e.constructor.name).replace("Array",""),l=-1!==o.indexOf("nt"),{[i]:"".concat(Y0(h,{size:s,isInteger:l})," (constant)"),"Format ":"".concat(s,"x").concat(o," (constant)")}}function ave(n,e){const{type:t,size:i}=e,r=QG(t,i);return r?"".concat(n," (").concat(r.name,")"):n}function r9(n){let{header:e="Uniforms",program:t,uniforms:i,undefinedOnly:r=!1}=n;_n(t);const s=".*Matrix",c={},l=Object.keys(t._uniformSetters).sort();let d=0;for(const _ of l)!_.match(".*_.*")&&!_.match(s)&&I2({table:c,header:e,uniforms:i,uniformName:_,undefinedOnly:r})&&d++;for(const _ of l)_.match(s)&&I2({table:c,header:e,uniforms:i,uniformName:_,undefinedOnly:r})&&d++;for(const _ of l)c[_]||I2({table:c,header:e,uniforms:i,uniformName:_,undefinedOnly:r})&&d++;let h=0;const p={};if(!r)for(const _ in i){const v=i[_];c[_]||(h++,p[_]={Type:"NOT USED: ".concat(v),[e]:Y0(v)})}return{table:c,count:d,unusedTable:p,unusedCount:h}}function I2(n){let{table:e,header:t,uniforms:i,uniformName:r,undefinedOnly:o}=n;const s=i[r],a=function cve(n){return null!=n}(s);return!(o&&a||(e[r]={[t]:a?Y0(s):"N/A","Uniform Type":a?s:"NOT PROVIDED"},0))}function o9(n){const{type:e,size:t}=n.accessor,i=QG(e,t);return i?"".concat(i.name," ").concat(n.name):n.name}const dve={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function hve(n,e){const{attributeMap:t=dve}=e||{};return t&&t[n]||n}function fve(n,e){let t;switch(n){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":t="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":t="vectors"}switch(t){case"vectors":e.size=e.size||3;break;case"uvs":e.size=e.size||2}_n(Number.isFinite(e.size),"attribute ".concat(n," needs size"))}const s9=()=>{},gve={};class D_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:i=Wa("model")}=t;_n(lS(e)),this.id=i,this.gl=e,this.id=t.id||Wa("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(t)}initialize(e){this.props={},this.programManager=e.programManager||$0.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:t=null,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=e;this.programProps={program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},_n(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}setProps(e){this._setModelProps(e)}delete(){for(const e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(e){const{program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=e;this.programProps={program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(e){return this.drawMode=e,this}setVertexCount(e){return _n(Number.isFinite(e)),this.vertexCount=e,this}setInstanceCount(e){return _n(Number.isFinite(e)),this.instanceCount=e,this}setGeometry(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function uve(n,e,t){const i={};let r=e.indices;for(const o in e.attributes){const s=e.attributes[o],a=hve(o,t);if("indices"===o)r=s;else if(s.constant)i[a]=s.value;else{const c=s.value,l={...s};delete l.value,i[a]=[new Sr(n,c),l],fve(o,l)}}if(r){const o=r.value||r;_n(o instanceof Uint16Array||o instanceof Uint32Array,'attribute array for "indices" must be of integer type');const s={size:1,isIndexed:void 0===r.isIndexed||r.isIndexed};i.indices=[new Sr(n,{data:o,target:34963}),s]}return i}(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(w_(e))return this;const t={};for(const i in e){const r=e[i];t[i]=r.getValue?r.getValue():r}return this.vertexArray.setAttributes(t),this}setUniforms(){return Object.assign(this.uniforms,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this}getModuleUniforms(e){this._checkProgram();const t=this.programManager.getUniforms(this.program);return t?t(e):{}}updateModuleSettings(e){const t=this.getModuleUniforms(e||{});return this.setUniforms(t)}clear(e){return e2(this.program.gl,e),this}draw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();const{moduleSettings:t=null,framebuffer:i,uniforms:r={},attributes:o={},transformFeedback:s=this.transformFeedback,parameters:a={},vertexArray:c=this.vertexArray}=e;let l;this.setAttributes(o),this.updateModuleSettings(t),this.setUniforms(r),Dn.priority>=2&&(l=this._logDrawCallStart(2));const d=this.vertexArray.getDrawParams(),{isIndexed:h=d.isIndexed,indexType:p=d.indexType,indexOffset:_=d.indexOffset,vertexArrayInstanced:v=d.isInstanced}=this.props;v&&!this.isInstanced&&Dn.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:A,instanceCount:P}=this,{onBeforeRender:X=s9,onAfterRender:Q=s9}=this.props;X(),this.program.setUniforms(this.uniforms);const pe=this.program.draw(Object.assign(gve,e,{logPriority:l,uniforms:null,framebuffer:i,parameters:a,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:c,transformFeedback:s,isIndexed:h,indexType:p,isInstanced:A,instanceCount:P,offset:h?_:0}));return Q(),Dn.priority>=2&&this._logDrawCallEnd(l,c,i),pe}transform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{discard:t=!0,feedbackBuffers:i,unbindModels:r=[]}=e;let{parameters:o}=e;i&&this._setFeedbackBuffers(i),t&&(o=Object.assign({},o,{35977:t})),r.forEach(s=>s.vertexArray.unbindBuffers());try{this.draw(Object.assign({},e,{parameters:o}))}finally{r.forEach(s=>s.vertexArray.bindBuffers())}return this}render(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Dn.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}_setModelProps(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}_checkProgram(){if(!this._programDirty&&this.programManager.stateHash===this._programManagerState)return;let{program:t}=this.programProps;if(t)this._managedProgram=!1;else{const{vs:i,fs:r,modules:o,inject:s,defines:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=this.programProps;t=this.programManager.get({vs:i,fs:r,modules:o,inject:s,defines:a,varyings:c,bufferMode:l,transpileToGLSL100:d}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}_n(t instanceof t9,"Model needs a program"),this._programDirty=!1,t!==this.program&&(this.program=t,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new rve(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const e in this.geometryBuffers){const t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof Sr&&t.delete()}}_setAnimationProps(e){this.animated&&_n(e,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(w_(e))return this;const{gl:t}=this.program;return this.transformFeedback=this.transformFeedback||new TG(t,{program:this.program}),this.transformFeedback.setBuffers(e),this}_logDrawCallStart(e){const t=e>3?0:1e4;if(!(Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),Dn.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:Dn.level<=2})(),e}_logDrawCallEnd(e,t,i,r){if(void 0===e)return;const o=function sve(n){let{vertexArray:e,header:t="Attributes"}=n;if(!e.configuration)return{};const i={};e.elements&&(i.ELEMENT_ARRAY_BUFFER=i9(e,e.elements,null,t));const r=e.values;for(const o in r){const s=e._getAttributeInfo(o);if(s){let a="".concat(o,": ").concat(s.name);const c=e.accessors[s.location];c&&(a="".concat(o,": ").concat(ave(s.name,c))),i[a]=i9(e,r[o],c,t)}}return i}({vertexArray:t,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:s,unusedTable:a,unusedCount:c}=r9({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,i)}),{table:l,count:d}=r9({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,i),undefinedOnly:!0});d>0&&Dn.log("MISSING UNIFORMS",Object.keys(l))(),c>0&&Dn.log("UNUSED UNIFORMS",Object.keys(a))();const h=function lve(n){const e={},t="Accessors for ".concat(n.id);for(const i of n.attributeInfos)if(i){const r=o9(i);e["in ".concat(r)]={[t]:JSON.stringify(i.accessor)}}for(const i of n.varyingInfos)if(i){const r=o9(i);e["out ".concat(r)]={[t]:JSON.stringify(i.accessor)}}return e}(this.vertexArray.configuration);Dn.table(e,o)(),Dn.table(e,s)(),Dn.table(e+1,h)(),r&&r.log({logLevel:2,message:"Rendered to ".concat(r.id)}),Dn.groupEnd(2)()}}class D2{static isSupported(e){return Ii(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(t),Object.seal(this)}delete(){const{model:e,bufferTransform:t,textureTransform:i}=this;e&&e.delete(),t&&t.delete(),i&&i.delete()}run(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{clearRenderTarget:t=!0}=e,i=this._updateDrawOptions(e);t&&i.framebuffer&&i.framebuffer.clear({color:!0}),this.model.transform(i)}swap(){let e=!1;const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t)e=e||i.swap();_n(e,"Nothing to swap")}getBuffer(){return this.bufferTransform&&this.bufferTransform.getBuffer(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t){const r=i.getData(e);if(r)return r}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t)i.update(e)}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gl:t}=this;this._buildResourceTransforms(t,e),e=this._updateModelProps(e),this.model=new D_(t,Object.assign({},e,{fs:e.fs||MG({version:IG(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(e){let t=Object.assign({},e);const i=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of i)t=r.updateModelProps(t);return t}_buildResourceTransforms(e,t){(function _ve(n){return!(w_(n.feedbackBuffers)&&w_(n.feedbackMap)&&!(n.varyings&&n.varyings.length>0))})(t)&&(this.bufferTransform=new hbe(e,t)),function bve(n){return!(w_(n._sourceTextures)&&!n._targetTexture&&!n._targetTextureVarying)}(t)&&(this.textureTransform=new Abe(e,t)),_n(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(e){let t=Object.assign({},e);const i=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of i)t=Object.assign(t,r.getDrawOptions(t));return t}}class X0{constructor(e){Se(this,"_inProgress",void 0),Se(this,"_handle",void 0),Se(this,"_timeline",void 0),Se(this,"time",void 0),Se(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=e,this.time=0,this.settings={duration:0}}get inProgress(){return this._inProgress}start(e){var t,i;this.cancel(),this.settings=e,this._inProgress=!0,null===(t=(i=this.settings).onStart)||void 0===t||t.call(i,this)}end(){var e,t;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(e=(t=this.settings).onEnd)||void 0===e||e.call(t,this))}cancel(){var e,t;this._inProgress&&(null===(e=(t=this.settings).onInterrupt)||void 0===e||e.call(t,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var e,t;if(!this._inProgress)return!1;if(null===this._handle){const{_timeline:i,settings:r}=this;this._handle=i.addChannel({delay:i.getTime(),duration:r.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(e=(t=this.settings).onUpdate)||void 0===e||e.call(t,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const Ave={interpolation:class yve{constructor({gl:e,attribute:t,timeline:i}){Se(this,"gl",void 0),Se(this,"type","interpolation"),Se(this,"attributeInTransition",void 0),Se(this,"settings",void 0),Se(this,"attribute",void 0),Se(this,"transition",void 0),Se(this,"currentStartIndices",void 0),Se(this,"currentLength",void 0),Se(this,"transform",void 0),Se(this,"buffers",void 0),this.gl=e,this.transition=new X0(i),this.attribute=t,this.attributeInTransition=new f2(e,t.settings),this.currentStartIndices=t.startIndices,this.currentLength=0,this.transform=function wve(n,e){const t=xG(e.size);return new D2(n,{vs:"\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n",defines:{ATTRIBUTE_TYPE:t},varyings:["vCurrent"]})}(e,t);const r={byteLength:0,usage:35050};this.buffers=[new Sr(e,r),new Sr(e,r)]}get inProgress(){return this.transition.inProgress}start(e,t){if(e.duration<=0)return void this.transition.cancel();this.settings=e;const{buffers:r,attribute:o}=this;EG(r);const s={numInstances:t,attribute:o,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const a of r)CG({buffer:a,...s});this.currentStartIndices=o.startIndices,this.currentLength=h2(o,t),this.attributeInTransition.setData({buffer:r[1],value:o.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/o.size),sourceBuffers:{aFrom:r[0],aTo:wG(0,o)},feedbackBuffers:{vCurrent:r[1]}})}update(){const e=this.transition.update();if(e){const{duration:t,easing:i}=this.settings,{time:r}=this.transition;let o=r/t;i&&(o=i(o)),this.transform.run({uniforms:{time:o}})}return e}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0}},spring:class xve{constructor({gl:e,attribute:t,timeline:i}){Se(this,"gl",void 0),Se(this,"type","spring"),Se(this,"attributeInTransition",void 0),Se(this,"settings",void 0),Se(this,"attribute",void 0),Se(this,"transition",void 0),Se(this,"currentStartIndices",void 0),Se(this,"currentLength",void 0),Se(this,"texture",void 0),Se(this,"framebuffer",void 0),Se(this,"transform",void 0),Se(this,"buffers",void 0),this.gl=e,this.type="spring",this.transition=new X0(i),this.attribute=t,this.attributeInTransition=new f2(e,{...t.settings,normalized:!1}),this.currentStartIndices=t.startIndices,this.currentLength=0,this.texture=function Cve(n){return new Ns(n,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(e),this.framebuffer=function Sve(n,e){return new Ho(n,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{36064:e}})}(e,this.texture),this.transform=function Eve(n,e,t){const i=xG(e.size);return new D2(n,{framebuffer:t,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:i},varyings:["vNext"]})}(e,t,this.framebuffer);const r={byteLength:0,usage:35050};this.buffers=[new Sr(e,r),new Sr(e,r),new Sr(e,r)]}get inProgress(){return this.transition.inProgress}start(e,t){const{buffers:r,attribute:o}=this,s={numInstances:t,attribute:o,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const a of r)CG({buffer:a,...s});this.settings=e,this.currentStartIndices=o.startIndices,this.currentLength=h2(o,t),this.attributeInTransition.setData({buffer:r[1],value:o.value}),this.transition.start({...e,duration:1/0}),this.transform.update({elementCount:Math.floor(this.currentLength/o.size),sourceBuffers:{aTo:wG(0,o)}})}update(){const{buffers:e,transform:t,framebuffer:i,transition:r}=this;if(!r.update())return!1;const s=this.settings;return t.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),t.run({framebuffer:i,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:s.stiffness,damping:s.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),EG(e),this.attributeInTransition.setData({buffer:e[1],value:this.attribute.value}),uS(i)[0]>0||r.end(),!0}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}};class Mve{constructor(e,{id:t,timeline:i}){Se(this,"id",void 0),Se(this,"isSupported",void 0),Se(this,"gl",void 0),Se(this,"timeline",void 0),Se(this,"transitions",void 0),Se(this,"needsRedraw",void 0),Se(this,"numInstances",void 0),this.id=t,this.gl=e,this.timeline=i,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=D2.isSupported(e)}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:t,numInstances:i}){this.numInstances=i||1;for(const r in e){const o=e[r],s=o.getTransitionSetting(t);s&&this._updateAttribute(r,o,s)}for(const r in this.transitions){const o=e[r];(!o||!o.getTransitionSetting(t))&&this._removeTransition(r)}}hasAttribute(e){const t=this.transitions[e];return t&&t.inProgress}getAttributes(){const e={};for(const t in this.transitions){const i=this.transitions[t];i.inProgress&&(e[t]=i.attributeInTransition)}return e}run(){if(!this.isSupported||0===this.numInstances)return!1;for(const t in this.transitions)this.transitions[t].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].cancel(),delete this.transitions[e]}_updateAttribute(e,t,i){const r=this.transitions[e];let o=!r||r.type!==i.type;if(o){if(!this.isSupported)return void Ui.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();r&&this._removeTransition(e);const s=Ave[i.type];s?this.transitions[e]=new s({attribute:t,timeline:this.timeline,gl:this.gl}):(Ui.error("unsupported transition type '".concat(i.type,"'"))(),o=!1)}(o||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(i,this.numInstances))}}const a9="attributeManager.invalidate";class Rve{constructor(e,{id:t="attribute-manager",stats:i,timeline:r}={}){Se(this,"id",void 0),Se(this,"gl",void 0),Se(this,"attributes",void 0),Se(this,"updateTriggers",void 0),Se(this,"needsRedraw",void 0),Se(this,"userData",void 0),Se(this,"stats",void 0),Se(this,"attributeTransitionManager",void 0),this.id=t,this.gl=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=i,this.attributeTransitionManager=new Mve(e,{id:"".concat(t,"-transitions"),timeline:r}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{instanced:1})}remove(e){for(const t of e)void 0!==this.attributes[t]&&(this.attributes[t].delete(),delete this.attributes[t])}invalidate(e,t){const i=this._invalidateTrigger(e,t);sa(a9,this,e,i)}invalidateAll(e){for(const t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);sa(a9,this,"all")}update({data:e,numInstances:t,startIndices:i=null,transitions:r,props:o={},buffers:s={},context:a={}}){let c=!1;sa("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const l in this.attributes){const d=this.attributes[l],h=d.settings.accessor;d.startIndices=i,d.numInstances=t,o[l]&&Ui.removed("props.".concat(l),"data.attributes.".concat(l))(),d.setExternalBuffer(s[l])||d.setBinaryValue("string"==typeof h?s[h]:void 0,e.startIndices)||"string"==typeof h&&!s[h]&&d.setConstantValue(o[h])||d.needsUpdate()&&(c=!0,this._updateAttribute({attribute:d,numInstances:t,data:e,props:o,context:a})),this.needsRedraw=this.needsRedraw||d.needsRedraw()}c&&sa("attributeManager.updateEnd",this,t),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:t,transitions:r})}updateTransition(){const{attributeTransitionManager:e}=this,t=e.run();return this.needsRedraw=this.needsRedraw||t,t}getAttributes(){return this.attributes}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:t,attributeTransitionManager:i}=this,r={...i.getAttributes()};for(const o in t){const s=t[o];s.needsRedraw(e)&&!i.hasAttribute(o)&&(r[o]=s)}return r}getShaderAttributes(e,t={}){e||(e=this.getAttributes());const i={};for(const r in e)t[r]||Object.assign(i,e[r].getShaderAttributes());return i}_add(e,t={}){for(const i in e)this.attributes[i]=this._createAttribute(i,e[i],t);this._mapUpdateTriggersToAttributes()}_createAttribute(e,t,i){const r={...t,id:e,size:(t.isIndexed?1:t.size)||1,divisor:i.instanced?1:t.divisor||0};return new f2(this.gl,r)}_mapUpdateTriggersToAttributes(){const e={};for(const t in this.attributes)this.attributes[t].getUpdateTriggers().forEach(r=>{e[r]||(e[r]=[]),e[r].push(t)});this.updateTriggers=e}_invalidateTrigger(e,t){const{attributes:i,updateTriggers:r}=this,o=r[e];return o&&o.forEach(s=>{const a=i[s];a&&a.setNeedsUpdate(a.id,t)}),o}_updateAttribute(e){const{attribute:t,numInstances:i}=e;sa("attribute.updateStart",t),t.constant?t.setConstantValue(t.value):(t.allocate(i)&&sa("attribute.allocate",t,i),t.updateBuffer(e)&&(this.needsRedraw=!0,sa("attribute.updateEnd",t,i)))}}function l9(n,e,t,i,r){const o=e-n;return(t-e)*r+-o*i+o+e}function d9(n,e){if(Array.isArray(n)){let t=0;for(let i=0;i<n.length;i++){const r=n[i]-e[i];t+=r*r}return Math.sqrt(t)}return Math.abs(n-e)}const Lve={interpolation:class Pve extends X0{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:t,toValue:i,duration:r,easing:o}}=this,s=o(e/r);this._value=hS(t,i,s)}},spring:class Fve extends X0{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:t,damping:i,stiffness:r}=this.settings,{_prevValue:o=e,_currValue:s=e}=this;let a=function Nve(n,e,t,i,r){if(Array.isArray(t)){const o=[];for(let s=0;s<t.length;s++)o[s]=l9(n[s],e[s],t[s],i,r);return o}return l9(n,e,t,i,r)}(o,s,t,i,r);const c=d9(a,t),l=d9(a,s);c<1e-5&&l<1e-5&&(a=t,this.end()),this._prevValue=s,this._currValue=a}}};class Bve{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,t,i,r){const{transitions:o}=this;if(o.has(e)){const c=o.get(e),{value:l=c.settings.fromValue}=c;t=l,this.remove(e)}if(!(r=vG(r)))return;const s=Lve[r.type];if(!s)return void Ui.error("unsupported transition type '".concat(r.type,"'"))();const a=new s(this.timeline);a.start({...r,fromValue:t,toValue:i}),o.set(e,a)}remove(e){const{transitions:t}=this;t.has(e)&&(t.get(e).cancel(),t.delete(e))}update(){const e={};for(const[t,i]of this.transitions)i.update(),e[t]=i.value,i.inProgress||this.remove(t);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}const TS=Symbol.for("component"),O_=Symbol.for("asyncPropDefaults"),Up=Symbol.for("asyncPropOriginal"),Jh=Symbol.for("asyncPropResolved");function jve(n,e){if(!n.transitions)return!1;const t={},i=O2(n);let r=!1;for(const o in n.transitions){const s=i[o],a=s&&s.type;("number"===a||"color"===a||"array"===a)&&k2(n[o],e[o],s)&&(t[o]=!0,r=!0)}return!!r&&t}function u9({newProps:n,oldProps:e,ignoreProps:t={},propTypes:i={},triggerName:r="props"}){if(e===n)return!1;if("object"!=typeof n||null===n||"object"!=typeof e||null===e)return"".concat(r," changed shallowly");for(const o of Object.keys(n))if(!(o in t)){if(!(o in e))return"".concat(r,".").concat(o," added");const s=k2(n[o],e[o],i[o]);if(s)return"".concat(r,".").concat(o," ").concat(s)}for(const o of Object.keys(e))if(!(o in t)){if(!(o in n))return"".concat(r,".").concat(o," dropped");if(!Object.hasOwnProperty.call(n,o)){const s=k2(n[o],e[o],i[o]);if(s)return"".concat(r,".").concat(o," ").concat(s)}}return!1}function k2(n,e,t){let i=t&&t.equal;return i&&!i(n,e,t)||!i&&(i=n&&e&&n.equals,i&&!i.call(n,e))?"changed deeply":i||e===n?null:"changed shallowly"}function Gve(n,e){if(null===e)return!0;const t=e.extensions,{extensions:i}=n;if(i===t)return!1;if(!t||!i||i.length!==t.length)return!0;for(let r=0;r<i.length;r++)if(!i[r].equals(t[r]))return!0;return!1}function h9(n,e,t){let i=n.updateTriggers[t];i=i??{};let r=e.updateTriggers[t];return r=r??{},u9({oldProps:r,newProps:i,triggerName:t})}function O2(n){const e=n[TS],t=e&&e.constructor;return t?t._propTypes:{}}function qve(n,e){if(n===e)return!0;if(Array.isArray(n)){const t=n.length;if(!e||e.length!==t)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}return!1}function IS(n){let t,e={};return i=>{for(const r in i)if(!qve(i[r],e[r])){t=n(i),e=i;break}return t}}function Jve(n,e){if(!e)return n;const t={...n,...e};if("defines"in e&&(t.defines={...n.defines,...e.defines}),"modules"in e&&(t.modules=(n.modules||[]).concat(e.modules),e.modules.some(i=>"project64"===i.name))){const i=t.modules.findIndex(r=>"project32"===r.name);i>=0&&t.modules.splice(i,1)}if("inject"in e)if(n.inject){const i={...n.inject};for(const r in e.inject)i[r]=(i[r]||"")+e.inject[r];t.inject=i}else t.inject=e.inject;return t}function R2(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],d=e[8],h=e[9],p=e[10],_=e[11],v=e[12],A=e[13],P=e[14],X=e[15],Q=t*a-i*s,pe=t*c-r*s,Re=t*l-o*s,Ye=i*c-r*a,tt=i*l-o*a,ht=r*l-o*c,Mt=d*A-h*v,xt=d*P-p*v,yt=d*X-_*v,Ot=h*P-p*A,Vt=h*X-_*A,gt=p*X-_*P,St=Q*gt-pe*Vt+Re*Ot+Ye*yt-tt*xt+ht*Mt;return St?(n[0]=(a*gt-c*Vt+l*Ot)*(St=1/St),n[1]=(r*Vt-i*gt-o*Ot)*St,n[2]=(A*ht-P*tt+X*Ye)*St,n[3]=(p*tt-h*ht-_*Ye)*St,n[4]=(c*yt-s*gt-l*xt)*St,n[5]=(t*gt-r*yt+o*xt)*St,n[6]=(P*Re-v*ht-X*pe)*St,n[7]=(d*ht-p*Re+_*pe)*St,n[8]=(s*Vt-a*yt+l*Mt)*St,n[9]=(i*yt-t*Vt-o*Mt)*St,n[10]=(v*tt-A*Re+X*Q)*St,n[11]=(h*Re-d*tt-_*Q)*St,n[12]=(a*xt-s*Ot-c*Mt)*St,n[13]=(t*Ot-i*xt+r*Mt)*St,n[14]=(A*pe-v*Ye-P*Q)*St,n[15]=(d*Ye-h*pe+p*Q)*St,n):null}function Vp(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],p=e[9],_=e[10],v=e[11],A=e[12],P=e[13],X=e[14],Q=e[15],pe=t[0],Re=t[1],Ye=t[2],tt=t[3];return n[0]=pe*i+Re*a+Ye*h+tt*A,n[1]=pe*r+Re*c+Ye*p+tt*P,n[2]=pe*o+Re*l+Ye*_+tt*X,n[3]=pe*s+Re*d+Ye*v+tt*Q,n[4]=(pe=t[4])*i+(Re=t[5])*a+(Ye=t[6])*h+(tt=t[7])*A,n[5]=pe*r+Re*c+Ye*p+tt*P,n[6]=pe*o+Re*l+Ye*_+tt*X,n[7]=pe*s+Re*d+Ye*v+tt*Q,n[8]=(pe=t[8])*i+(Re=t[9])*a+(Ye=t[10])*h+(tt=t[11])*A,n[9]=pe*r+Re*c+Ye*p+tt*P,n[10]=pe*o+Re*l+Ye*_+tt*X,n[11]=pe*s+Re*d+Ye*v+tt*Q,n[12]=(pe=t[12])*i+(Re=t[13])*a+(Ye=t[14])*h+(tt=t[15])*A,n[13]=pe*r+Re*c+Ye*p+tt*P,n[14]=pe*o+Re*l+Ye*_+tt*X,n[15]=pe*s+Re*d+Ye*v+tt*Q,n}function DS(n,e,t){var s,a,c,l,d,h,p,_,v,A,P,X,i=t[0],r=t[1],o=t[2];return e===n?(n[12]=e[0]*i+e[4]*r+e[8]*o+e[12],n[13]=e[1]*i+e[5]*r+e[9]*o+e[13],n[14]=e[2]*i+e[6]*r+e[10]*o+e[14],n[15]=e[3]*i+e[7]*r+e[11]*o+e[15]):(a=e[1],c=e[2],l=e[3],d=e[4],h=e[5],p=e[6],_=e[7],v=e[8],A=e[9],P=e[10],X=e[11],n[0]=s=e[0],n[1]=a,n[2]=c,n[3]=l,n[4]=d,n[5]=h,n[6]=p,n[7]=_,n[8]=v,n[9]=A,n[10]=P,n[11]=X,n[12]=s*i+d*r+v*o+e[12],n[13]=a*i+h*r+A*o+e[13],n[14]=c*i+p*r+P*o+e[14],n[15]=l*i+_*r+X*o+e[15]),n}function P2(n,e,t){var i=t[0],r=t[1],o=t[2];return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*r,n[6]=e[6]*r,n[7]=e[7]*r,n[8]=e[8]*o,n[9]=e[9]*o,n[10]=e[10]*o,n[11]=e[11]*o,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function f9(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[4],s=e[5],a=e[6],c=e[7],l=e[8],d=e[9],h=e[10],p=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=o*r+l*i,n[5]=s*r+d*i,n[6]=a*r+h*i,n[7]=c*r+p*i,n[8]=l*r-o*i,n[9]=d*r-s*i,n[10]=h*r-a*i,n[11]=p*r-c*i,n}function p9(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[0],s=e[1],a=e[2],c=e[3],l=e[4],d=e[5],h=e[6],p=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*r+l*i,n[1]=s*r+d*i,n[2]=a*r+h*i,n[3]=c*r+p*i,n[4]=l*r-o*i,n[5]=d*r-s*i,n[6]=h*r-a*i,n[7]=p*r-c*i,n}function m9(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n}function K0(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3];return n[0]=t[0]*i+t[4]*r+t[8]*o+t[12]*s,n[1]=t[1]*i+t[5]*r+t[9]*o+t[13]*s,n[2]=t[2]*i+t[6]*r+t[10]*o+t[14]*s,n[3]=t[3]*i+t[7]*r+t[11]*o+t[15]*s,n}!function h0e(){var n=new Ya(4);Ya!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0)}();const g9=[0,0,0,0],A0e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],_9=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],M0e=[0,0,0],b9=[0,0,0],T0e=IS(function k0e({viewport:n,devicePixelRatio:e,coordinateSystem:t,coordinateOrigin:i}){const{projectionCenter:r,viewProjectionMatrix:o,originCommon:s,cameraPosCommon:a,shaderCoordinateOrigin:c,geospatialOrigin:l}=function I0e(n,e,t){const{viewMatrixUncentered:i,projectionMatrix:r}=n;let{viewMatrix:o,viewProjectionMatrix:s}=n,a=g9,c=g9,l=n.cameraPosition;const{geospatialOrigin:d,shaderCoordinateOrigin:h,offsetMode:p}=y9(n,e,t);return p&&(c=n.projectPosition(d||h),l=[l[0]-c[0],l[1]-c[1],l[2]-c[2]],c[3]=1,a=K0([],c,s),o=i||o,s=Vp([],r,o),s=Vp([],s,A0e)),{viewMatrix:o,viewProjectionMatrix:s,projectionCenter:a,originCommon:c,cameraPosCommon:l,shaderCoordinateOrigin:h,geospatialOrigin:d}}(n,t,i),d=n.getDistanceScales(),h=[n.width*e,n.height*e],p=K0([],[0,0,-n.focalDistance,1],n.projectionMatrix)[3]||1,_={project_uCoordinateSystem:t,project_uProjectionMode:n.projectionMode,project_uCoordinateOrigin:c,project_uCommonOrigin:s.slice(0,3),project_uCenter:r,project_uPseudoMeters:!!n._pseudoMeters,project_uViewportSize:h,project_uDevicePixelRatio:e,project_uFocalDistance:p,project_uCommonUnitsPerMeter:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:M0e,project_uScale:n.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:o,project_uModelMatrix:_9,project_uCameraPosition:a};if(l){const v=n.getDistanceScales(l);switch(t){case qi.METER_OFFSETS:_.project_uCommonUnitsPerWorldUnit=v.unitsPerMeter,_.project_uCommonUnitsPerWorldUnit2=v.unitsPerMeter2;break;case qi.LNGLAT:case qi.LNGLAT_OFFSETS:n._pseudoMeters||(_.project_uCommonUnitsPerMeter=v.unitsPerMeter),_.project_uCommonUnitsPerWorldUnit=v.unitsPerDegree,_.project_uCommonUnitsPerWorldUnit2=v.unitsPerDegree2;break;case qi.CARTESIAN:_.project_uCommonUnitsPerWorldUnit=[1,1,v.unitsPerMeter[2]],_.project_uCommonUnitsPerWorldUnit2=[0,0,v.unitsPerMeter2[2]]}}return _});function y9(n,e,t=b9){t.length<3&&(t=[t[0],t[1],0]);let r,i=t,o=!0;switch(r=e===qi.LNGLAT_OFFSETS||e===qi.METER_OFFSETS?t:n.isGeospatial?[Math.fround(n.longitude),Math.fround(n.latitude),0]:null,n.projectionMode){case fd.WEB_MERCATOR:(e===qi.LNGLAT||e===qi.CARTESIAN)&&(r=[0,0,0],o=!1);break;case fd.WEB_MERCATOR_AUTO_OFFSET:e===qi.LNGLAT?i=r:e===qi.CARTESIAN&&(i=[Math.fround(n.center[0]),Math.fround(n.center[1]),0],r=n.unprojectPosition(i),i[0]-=t[0],i[1]-=t[1],i[2]-=t[2]);break;case fd.IDENTITY:i=n.position.map(Math.fround),i[2]=i[2]||0;break;case fd.GLOBE:o=!1,r=null;break;default:o=!1}return{geospatialOrigin:r,shaderCoordinateOrigin:i,offsetMode:o}}class O0e extends s2{toString(){let e="[";if(ko.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let i=0;i<this.RANK;++i)e+=" ".concat(this[i*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,i){return this[t*this.RANK+e]=kr(i),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)t[r]=this[i+r];return t}setColumn(e,t){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)this[i+r]=t[r];return this}}function kS(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function v9(n,e){return n[0]=-e[0],n[1]=-e[1],n}function w9(n,e,t,i){var r=e[0],o=e[1];return n[0]=r+i*(t[0]-r),n[1]=o+i*(t[1]-o),n}!function R0e(){var n=new Ya(2);Ya!=Float32Array&&(n[0]=0,n[1]=0)}();var x9=function(n){return n[n.COL0ROW0=0]="COL0ROW0",n[n.COL0ROW1=1]="COL0ROW1",n[n.COL0ROW2=2]="COL0ROW2",n[n.COL0ROW3=3]="COL0ROW3",n[n.COL1ROW0=4]="COL1ROW0",n[n.COL1ROW1=5]="COL1ROW1",n[n.COL1ROW2=6]="COL1ROW2",n[n.COL1ROW3=7]="COL1ROW3",n[n.COL2ROW0=8]="COL2ROW0",n[n.COL2ROW1=9]="COL2ROW1",n[n.COL2ROW2=10]="COL2ROW2",n[n.COL2ROW3=11]="COL2ROW3",n[n.COL3ROW0=12]="COL3ROW0",n[n.COL3ROW1=13]="COL3ROW1",n[n.COL3ROW2=14]="COL3ROW2",n[n.COL3ROW3=15]="COL3ROW3",n}(x9||{});const N0e=45*Math.PI/180,F0e=1,N2=.1,F2=500,L0e=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Nt extends O0e{static get IDENTITY(){return function U0e(){return RS||(RS=new Nt,Object.freeze(RS)),RS}()}static get ZERO(){return function B0e(){return OS||(OS=new Nt([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(OS)),OS}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return x9}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,t,i,r,o,s,a,c,l,d,h,p,_,v,A,P){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this[4]=o,this[5]=s,this[6]=a,this[7]=c,this[8]=l,this[9]=d,this[10]=h,this[11]=p,this[12]=_,this[13]=v,this[14]=A,this[15]=P,this.check()}setRowMajor(e,t,i,r,o,s,a,c,l,d,h,p,_,v,A,P){return this[0]=e,this[1]=o,this[2]=l,this[3]=_,this[4]=t,this[5]=s,this[6]=d,this[7]=v,this[8]=i,this[9]=a,this[10]=h,this[11]=A,this[12]=r,this[13]=c,this[14]=p,this[15]=P,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(L0e)}fromObject(e){return this.check()}fromQuaternion(e){return function o0e(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t+t,a=i+i,c=r+r,l=t*s,d=i*s,h=i*a,p=r*s,_=r*a,v=r*c,A=o*s,P=o*a,X=o*c;n[0]=1-h-v,n[1]=d+X,n[2]=p-P,n[3]=0,n[4]=d-X,n[5]=1-l-v,n[6]=_+A,n[7]=0,n[8]=p+P,n[9]=_-A,n[10]=1-l-h,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1}(this,e),this.check()}frustum(e){const{left:t,right:i,bottom:r,top:o,near:s=N2,far:a=F2}=e;return a===1/0?function V0e(n,e,t,i,r,o){const a=2*o/(r-i),c=(t+e)/(t-e),l=(r+i)/(r-i),p=-2*o;n[0]=2*o/(t-e),n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=a,n[6]=0,n[7]=0,n[8]=c,n[9]=l,n[10]=-1,n[11]=-1,n[12]=0,n[13]=0,n[14]=p,n[15]=0}(this,t,i,r,o,s):function s0e(n,e,t,i,r,o,s){var a=1/(t-e),c=1/(r-i),l=1/(o-s);n[0]=2*o*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*o*c,n[6]=0,n[7]=0,n[8]=(t+e)*a,n[9]=(r+i)*c,n[10]=(s+o)*l,n[11]=-1,n[12]=0,n[13]=0,n[14]=s*o*2*l,n[15]=0}(this,t,i,r,o,s,a),this.check()}lookAt(e){const{eye:t,center:i=[0,0,0],up:r=[0,1,0]}=e;return function u0e(n,e,t,i){var r,o,s,a,c,l,d,h,p,_,v=e[0],A=e[1],P=e[2],X=i[0],Q=i[1],pe=i[2],Re=t[0],Ye=t[1],tt=t[2];Math.abs(v-Re)<md&&Math.abs(A-Ye)<md&&Math.abs(P-tt)<md?function Zve(n){n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1}(n):(d=v-Re,h=A-Ye,p=P-tt,r=Q*(p*=_=1/Math.hypot(d,h,p))-pe*(h*=_),o=pe*(d*=_)-X*p,s=X*h-Q*d,(_=Math.hypot(r,o,s))?(r*=_=1/_,o*=_,s*=_):(r=0,o=0,s=0),a=h*s-p*o,c=p*r-d*s,l=d*o-h*r,(_=Math.hypot(a,c,l))?(a*=_=1/_,c*=_,l*=_):(a=0,c=0,l=0),n[0]=r,n[1]=a,n[2]=d,n[3]=0,n[4]=o,n[5]=c,n[6]=h,n[7]=0,n[8]=s,n[9]=l,n[10]=p,n[11]=0,n[12]=-(r*v+o*A+s*P),n[13]=-(a*v+c*A+l*P),n[14]=-(d*v+h*A+p*P),n[15]=1)}(this,t,i,r),this.check()}ortho(e){const{left:t,right:i,bottom:r,top:o,near:s=N2,far:a=F2}=e;return function l0e(n,e,t,i,r,o,s){var a=1/(e-t),c=1/(i-r),l=1/(o-s);n[0]=-2*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*c,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*l,n[11]=0,n[12]=(e+t)*a,n[13]=(r+i)*c,n[14]=(s+o)*l,n[15]=1}(this,t,i,r,o,s,a),this.check()}orthographic(e){const{fovy:t=N0e,aspect:i=F0e,focalDistance:r=1,near:o=N2,far:s=F2}=e;E9(t);const c=r*Math.tan(t/2),l=c*i;return this.ortho({left:-l,right:l,bottom:-c,top:c,near:o,far:s})}perspective(e){const{fovy:t=45*Math.PI/180,aspect:i=1,near:r=.1,far:o=500}=e;return E9(t),function a0e(n,e,t,i,r){var s,o=1/Math.tan(e/2);n[0]=o/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,null!=r&&r!==1/0?(n[10]=(r+i)*(s=1/(i-r)),n[14]=2*r*i*s):(n[10]=-1,n[14]=-2*i)}(this,t,i,r,o),this.check()}determinant(){return function e0e(n){var e=n[0],t=n[1],i=n[2],r=n[3],o=n[4],s=n[5],a=n[6],c=n[7],l=n[8],d=n[9],h=n[10],p=n[11],_=n[12],v=n[13],A=n[14],P=n[15];return(e*s-t*o)*(h*P-p*A)-(e*a-i*o)*(d*P-p*v)+(e*c-r*o)*(d*A-h*v)+(t*a-i*s)*(l*P-p*_)-(t*c-r*s)*(l*A-h*_)+(i*c-r*a)*(l*v-d*_)}(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0];const i=this.getScale(t=t||[-0,-0,-0]),r=1/i[0],o=1/i[1],s=1/i[2];return e[0]=this[0]*r,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*o,e[6]=this[6]*s,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*o,e[10]=this[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0];const i=this.getScale(t=t||[-0,-0,-0]),r=1/i[0],o=1/i[1],s=1/i[2];return e[0]=this[0]*r,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=this[4]*r,e[4]=this[5]*o,e[5]=this[6]*s,e[6]=this[8]*r,e[7]=this[9]*o,e[8]=this[10]*s,e}transpose(){return function Qve(n,e){if(n===e){var t=e[1],i=e[2],r=e[3],o=e[6],s=e[7],a=e[11];n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=t,n[6]=e[9],n[7]=e[13],n[8]=i,n[9]=o,n[11]=e[14],n[12]=r,n[13]=s,n[14]=a}else n[0]=e[0],n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=e[1],n[5]=e[5],n[6]=e[9],n[7]=e[13],n[8]=e[2],n[9]=e[6],n[10]=e[10],n[11]=e[14],n[12]=e[3],n[13]=e[7],n[14]=e[11],n[15]=e[15]}(this,this),this.check()}invert(){return R2(this,this),this.check()}multiplyLeft(e){return Vp(this,e,this),this.check()}multiplyRight(e){return Vp(this,this,e),this.check()}rotateX(e){return f9(this,this,e),this.check()}rotateY(e){return function n0e(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[0],s=e[1],a=e[2],c=e[3],l=e[8],d=e[9],h=e[10],p=e[11];e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*r-l*i,n[1]=s*r-d*i,n[2]=a*r-h*i,n[3]=c*r-p*i,n[8]=o*i+l*r,n[9]=s*i+d*r,n[10]=a*i+h*r,n[11]=c*i+p*r}(this,this,e),this.check()}rotateZ(e){return p9(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,t){return function t0e(n,e,t,i){var c,l,d,h,p,_,v,A,P,X,Q,pe,Re,Ye,tt,ht,Mt,xt,yt,Ot,Vt,gt,St,Xt,r=i[0],o=i[1],s=i[2],a=Math.hypot(r,o,s);a<md||(r*=a=1/a,o*=a,s*=a,c=Math.sin(t),l=Math.cos(t),p=e[1],_=e[2],v=e[3],P=e[5],X=e[6],Q=e[7],Re=e[9],Ye=e[10],tt=e[11],yt=r*o*(d=1-l)-s*c,Ot=o*o*d+l,Vt=s*o*d+r*c,gt=r*s*d+o*c,St=o*s*d-r*c,Xt=s*s*d+l,n[0]=(h=e[0])*(ht=r*r*d+l)+(A=e[4])*(Mt=o*r*d+s*c)+(pe=e[8])*(xt=s*r*d-o*c),n[1]=p*ht+P*Mt+Re*xt,n[2]=_*ht+X*Mt+Ye*xt,n[3]=v*ht+Q*Mt+tt*xt,n[4]=h*yt+A*Ot+pe*Vt,n[5]=p*yt+P*Ot+Re*Vt,n[6]=_*yt+X*Ot+Ye*Vt,n[7]=v*yt+Q*Ot+tt*Vt,n[8]=h*gt+A*St+pe*Xt,n[9]=p*gt+P*St+Re*Xt,n[10]=_*gt+X*St+Ye*Xt,n[11]=v*gt+Q*St+tt*Xt,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]))}(this,this,e,t),this.check()}scale(e){return P2(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return DS(this,this,e),this.check()}transform(e,t){return 4===e.length?(fS(t=K0(t||[-0,-0,-0,-0],e,this),4),t):this.transformAsPoint(e,t)}transformAsPoint(e,t){const{length:i}=e;let r;switch(i){case 2:r=function P0e(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[4]*r+t[12],n[1]=t[1]*i+t[5]*r+t[13],n}(t||[-0,-0],e,this);break;case 3:r=a2(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return fS(r,e.length),r}transformAsVector(e,t){let i;switch(e.length){case 2:i=function G_e(n,e,t){const i=e[0],r=e[1],o=t[3]*i+t[7]*r||1;return n[0]=(t[0]*i+t[4]*r)/o,n[1]=(t[1]*i+t[5]*r)/o,n}(t||[-0,-0],e,this);break;case 3:i=fG(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return fS(i,e.length),i}transformPoint(e,t){return this.transformAsPoint(e,t)}transformVector(e,t){return this.transformAsPoint(e,t)}transformDirection(e,t){return this.transformAsVector(e,t)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,t,i){return this.identity().translate([e,t,i])}}let OS,RS;function E9(n){if(n>2*Math.PI)throw Error("expected radians")}function R_(n,e){const t=K0([],e,n);return m9(t,t,1/t[3]),t}function C9(n,e){const t=n%e;return t<0?e+t:t}function L2(n,e,t){return n<e?e:n>t?t:n}const B2=Math.log2||function z0e(n){return Math.log(n)*Math.LOG2E};function Pu(n,e){if(!n)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const xl=Math.PI,S9=xl/4,Wc=xl/180,U2=180/xl,P_=512,PS=4003e4,NS=85.051129,H0e=1.5;function FS(n){const[e,t]=n;return Pu(Number.isFinite(e)),Pu(Number.isFinite(t)&&t>=-90&&t<=90,"invalid latitude"),[P_*(e*Wc+xl)/(2*xl),P_*(xl+Math.log(Math.tan(S9+t*Wc*.5)))/(2*xl)]}function N_(n){const[e,t]=n,i=e/P_*(2*xl)-xl,r=2*(Math.atan(Math.exp(t/P_*(2*xl)-xl))-S9);return[i*U2,r*U2]}function V2(n){const{latitude:e,longitude:t,highPrecision:i=!1}=n;Pu(Number.isFinite(e)&&Number.isFinite(t));const r=P_,o=Math.cos(e*Wc),s=r/360,a=s/o,c=r/PS/o,l={unitsPerMeter:[c,c,c],metersPerUnit:[1/c,1/c,1/c],unitsPerDegree:[s,a,c],degreesPerUnit:[1/s,1/a,1/c]};if(i){const d=Wc*Math.tan(e*Wc)/o,p=r/PS*d,_=p/a*c;l.unitsPerDegree2=[0,s*d/2,p],l.unitsPerMeter2=[_,0,_]}return l}function A9(n,e){const[t,i,r]=n,[o,s,a]=e,{unitsPerMeter:c,unitsPerMeter2:l}=V2({longitude:t,latitude:i,highPrecision:!0}),d=FS(n);d[0]+=o*(c[0]+l[0]*s),d[1]+=s*(c[1]+l[1]*s);const h=N_(d),p=(r||0)+(a||0);return Number.isFinite(r)||Number.isFinite(a)?[h[0],h[1],p]:h}function LS(n){return 2*Math.atan(.5/n)*U2}function j2(n){return.5/Math.tan(.5*n*Wc)}function T9(n,e){const[t,i,r=0]=n;return Pu(Number.isFinite(t)&&Number.isFinite(i)&&Number.isFinite(r)),R_(e,[t,i,r,1])}function q0(n,e,t=0){const[i,r,o]=n;if(Pu(Number.isFinite(i)&&Number.isFinite(r),"invalid pixel coordinate"),Number.isFinite(o))return R_(e,[i,r,o,1]);const s=R_(e,[i,r,0,1]),a=R_(e,[i,r,1,1]),c=s[2],l=a[2];return w9([],s,a,c===l?0:((t||0)-c)/(l-c))}function I9(n){const{width:e,height:t,bounds:i,minExtent:r=0,maxZoom:o=24,offset:s=[0,0]}=n,[[a,c],[l,d]]=i,h=function Y0e(n=0){return"number"==typeof n?{top:n,bottom:n,left:n,right:n}:(Pu(Number.isFinite(n.top)&&Number.isFinite(n.bottom)&&Number.isFinite(n.left)&&Number.isFinite(n.right)),n)}(n.padding),p=FS([a,L2(d,-NS,NS)]),_=FS([l,L2(c,-NS,NS)]),v=[Math.max(Math.abs(_[0]-p[0]),r),Math.max(Math.abs(_[1]-p[1]),r)],A=[e-h.left-h.right-2*Math.abs(s[0]),t-h.top-h.bottom-2*Math.abs(s[1])];Pu(A[0]>0&&A[1]>0);const P=A[0]/v[0],X=A[1]/v[1],Ye=N_([(_[0]+p[0])/2+(h.right-h.left)/2/P,(_[1]+p[1])/2+(h.top-h.bottom)/2/X]),tt=Math.min(o,B2(Math.abs(Math.min(P,X))));return Pu(Number.isFinite(tt)),{longitude:Ye[0],latitude:Ye[1],zoom:tt}}const D9=Math.PI/180;function k9(n,e,t){const{pixelUnprojectionMatrix:i}=n,r=R_(i,[e,0,1,1]),o=R_(i,[e,n.height,1,1]),l=N_(w9([],r,o,(t*n.distanceScales.unitsPerMeter[2]-r[2])/(o[2]-r[2])));return l.push(t),l}const J0e=Math.PI/180,Z0e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],F9=[0,0,0],Q0e={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};class Zh{constructor(e={}){Se(this,"id",void 0),Se(this,"x",void 0),Se(this,"y",void 0),Se(this,"width",void 0),Se(this,"height",void 0),Se(this,"padding",void 0),Se(this,"isGeospatial",void 0),Se(this,"zoom",void 0),Se(this,"focalDistance",void 0),Se(this,"position",void 0),Se(this,"modelMatrix",void 0),Se(this,"distanceScales",void 0),Se(this,"scale",void 0),Se(this,"center",void 0),Se(this,"cameraPosition",void 0),Se(this,"projectionMatrix",void 0),Se(this,"viewMatrix",void 0),Se(this,"viewMatrixUncentered",void 0),Se(this,"viewMatrixInverse",void 0),Se(this,"viewProjectionMatrix",void 0),Se(this,"pixelProjectionMatrix",void 0),Se(this,"pixelUnprojectionMatrix",void 0),Se(this,"resolution",void 0),Se(this,"_frustumPlanes",{}),this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||Q0e,this.focalDistance=e.focalDistance||1,this.position=e.position||F9,this.modelMatrix=e.modelMatrix||null;const{longitude:t,latitude:i}=e;this.isGeospatial=Number.isFinite(i)&&Number.isFinite(t),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?fd.WEB_MERCATOR:fd.WEB_MERCATOR_AUTO_OFFSET:fd.IDENTITY}equals(e){return e instanceof Zh&&(this===e||e.width===this.width&&e.height===this.height&&e.scale===this.scale&&C_(e.projectionMatrix,this.projectionMatrix)&&C_(e.viewMatrix,this.viewMatrix))}project(e,{topLeft:t=!0}={}){const r=T9(this.projectPosition(e),this.pixelProjectionMatrix),[o,s]=r,a=t?s:this.height-s;return 2===e.length?[o,a]:[o,a,r[2]]}unproject(e,{topLeft:t=!0,targetZ:i}={}){const[r,o,s]=e,l=q0([r,t?o:this.height-o,s],this.pixelUnprojectionMatrix,i&&i*this.distanceScales.unitsPerMeter[2]),[d,h,p]=this.unprojectPosition(l);return Number.isFinite(s)?[d,h,p]:Number.isFinite(i)?[d,h,i]:[d,h]}projectPosition(e){const[t,i]=this.projectFlat(e);return[t,i,(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(e){const[t,i]=this.unprojectFlat(e);return[t,i,(e[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(e){if(this.isGeospatial){const t=FS(e);return t[1]=Fs(t[1],-318,830),t}return e}unprojectFlat(e){return this.isGeospatial?N_(e):e}getBounds(e={}){const t={targetZ:e.z||0},i=this.unproject([0,0],t),r=this.unproject([this.width,0],t),o=this.unproject([0,this.height],t),s=this.unproject([this.width,this.height],t);return[Math.min(i[0],r[0],o[0],s[0]),Math.min(i[1],r[1],o[1],s[1]),Math.max(i[0],r[0],o[0],s[0]),Math.max(i[1],r[1],o[1],s[1])]}getDistanceScales(e){return e?V2({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:t,width:i=1,height:r=1}){return e<this.x+this.width&&this.x<e+i&&t<this.y+this.height&&this.y<t+r}getFrustumPlanes(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,function q_e(n){return{left:S_(n[3]+n[0],n[7]+n[4],n[11]+n[8],n[15]+n[12]),right:S_(n[3]-n[0],n[7]-n[4],n[11]-n[8],n[15]-n[12]),bottom:S_(n[3]+n[1],n[7]+n[5],n[11]+n[9],n[15]+n[13]),top:S_(n[3]-n[1],n[7]-n[5],n[11]-n[9],n[15]-n[13]),near:S_(n[3]+n[2],n[7]+n[6],n[11]+n[10],n[15]+n[14]),far:S_(n[3]-n[2],n[7]-n[6],n[11]-n[10],n[15]-n[14])}}(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition(e,t){return null}_initProps(e){const t=e.longitude,i=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=function W0e(n){const{latitude:e}=n;Pu(Number.isFinite(e));const t=Math.cos(e*Wc);return function G0e(n){return B2(n)}(PS*t)-9}({latitude:i})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||V2({latitude:i,longitude:t}));const r=Math.pow(2,this.zoom);this.scale=r;const{position:o,modelMatrix:s}=e;let a=F9;if(o&&(a=s?new Nt(s).transformAsVector(o,[]):o),this.isGeospatial){const c=this.projectPosition([t,i,0]);this.center=new oa(a).scale(this.distanceScales.unitsPerMeter).add(c)}else this.center=this.projectPosition(a)}_initMatrices(e){const{viewMatrix:t=Z0e,projectionMatrix:i=null,orthographic:r=!1,fovyRadians:o,fovy:s=75,near:a=.1,far:c=1e3,padding:l=null,focalDistance:d=1}=e;this.viewMatrixUncentered=t,this.viewMatrix=(new Nt).multiplyRight(t).translate(new oa(this.center).negate()),this.projectionMatrix=i||function ewe({width:n,height:e,orthographic:t,fovyRadians:i,focalDistance:r,padding:o,near:s,far:a}){const c=n/e,l=t?(new Nt).orthographic({fovy:i,aspect:c,focalDistance:r,near:s,far:a}):(new Nt).perspective({fovy:i,aspect:c,near:s,far:a});if(o){const{left:d=0,right:h=0,top:p=0,bottom:_=0}=o,v=Fs((d+n-h)/2,0,n)-n/2,A=Fs((p+e-_)/2,0,e)-e/2;l[8]-=2*v/n,l[9]+=2*A/e}return l}({width:this.width,height:this.height,orthographic:r,fovyRadians:o||s*J0e,focalDistance:d,padding:l,near:a,far:c});const h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Vp(h,h,this.projectionMatrix),Vp(h,h,this.viewMatrix),this.viewProjectionMatrix=h,this.viewMatrixInverse=R2([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=function K_e(n){return[n[12],n[13],n[14]]}(this.viewMatrixInverse);const p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];P2(p,p,[this.width/2,-this.height/2,1]),DS(p,p,[1,-1,0]),Vp(_,p,this.viewProjectionMatrix),this.pixelProjectionMatrix=_,this.pixelUnprojectionMatrix=R2([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||Ui.warn("Pixel project matrix not invertible")()}}Se(Zh,"displayName","Viewport");const iwe=Math.PI/180;function L9(n){return 512/4003e4/Math.cos(n*iwe)}class Qh extends Zh{constructor(e={}){const{latitude:t=0,longitude:i=0,zoom:r=0,pitch:o=0,bearing:s=0,nearZMultiplier:a=.1,farZMultiplier:c=1.01,orthographic:l=!1,projectionMatrix:d,repeat:h=!1,worldOffset:p=0,legacyMeterSizes:_=!1}=e;let{width:v,height:A,altitude:P=1.5}=e;const X=Math.pow(2,r);v=v||1,A=A||1;let Q,pe=null;d?(P=d[5]/2,Q=LS(P)):(e.fovy?(Q=e.fovy,P=j2(Q)):Q=LS(P),pe=function M9(n){const{width:e,height:t,altitude:i,pitch:r=0,offset:o,center:s,scale:a,nearZMultiplier:c=1,farZMultiplier:l=1}=n;let{fovy:d=LS(H0e)}=n;void 0!==i&&(d=LS(i));const h=d*Wc,p=r*Wc,_=j2(d);let v=_;s&&(v+=s[2]*a/Math.cos(p)/t);const A=h*(.5+(o?o[1]:0)/t),P=Math.sin(A)*v/Math.sin(L2(Math.PI/2-p-A,.01,Math.PI-.01)),X=Math.sin(p)*P+v;return{fov:h,aspect:e/t,focalDistance:_,near:c,far:Math.min(X*l,10*v)}}({width:v,height:A,pitch:o,fovy:Q,nearZMultiplier:a,farZMultiplier:c}));let Re=function $0e(n){const{height:e,pitch:t,bearing:i,altitude:r,scale:o,center:s}=n,a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];DS(a,a,[0,0,-r]),f9(a,a,-t*Wc),p9(a,a,i*Wc);const c=o/e;return P2(a,a,[c,c,c]),s&&DS(a,a,function N_e(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}([],s)),a}({height:A,pitch:o,bearing:s,scale:X,altitude:P});p&&(Re=(new Nt).translate([512*p,0,0]).multiplyLeft(Re)),super({...e,width:v,height:A,viewMatrix:Re,longitude:i,latitude:t,zoom:r,...pe,fovy:Q,focalDistance:P}),Se(this,"longitude",void 0),Se(this,"latitude",void 0),Se(this,"pitch",void 0),Se(this,"bearing",void 0),Se(this,"altitude",void 0),Se(this,"fovy",void 0),Se(this,"orthographic",void 0),Se(this,"_subViewports",void 0),Se(this,"_pseudoMeters",void 0),this.latitude=t,this.longitude=i,this.zoom=r,this.pitch=o,this.bearing=s,this.altitude=P,this.fovy=Q,this.orthographic=l,this._subViewports=h?[]:null,this._pseudoMeters=_,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),t=Math.floor((e[0]+180)/360),i=Math.ceil((e[2]-180)/360);for(let r=t;r<=i;r++){const o=r?new Qh({...this,worldOffset:r}):this;this._subViewports.push(o)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[t,i]=this.projectFlat(e);return[t,i,(e[2]||0)*L9(e[1])]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[t,i]=this.unprojectFlat(e);return[t,i,(e[2]||0)/L9(i)]}addMetersToLngLat(e,t){return A9(e,t)}panByPosition(e,t){const i=q0(t,this.pixelUnprojectionMatrix),o=kS([],this.projectFlat(e),v9([],i)),s=kS([],this.center,o),[a,c]=this.unprojectFlat(s);return{longitude:a,latitude:c}}getBounds(e={}){const t=function X0e(n,e=0){const{width:t,height:i,unproject:r}=n,o={targetZ:e},s=r([0,i],o),a=r([t,i],o);let c,l;return(n.fovy?.5*n.fovy*D9:Math.atan(.5/n.altitude))>(90-n.pitch)*D9-.01?(c=k9(n,0,e),l=k9(n,t,e)):(c=r([0,0],o),l=r([t,0],o)),[s,a,l,c]}(this,e.z||0);return[Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),Math.min(t[0][1],t[1][1],t[2][1],t[3][1]),Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),Math.max(t[0][1],t[1][1],t[2][1],t[3][1])]}fitBounds(e,t={}){const{width:i,height:r}=this,{longitude:o,latitude:s,zoom:a}=I9({width:i,height:r,bounds:e,...t});return new Qh({width:i,height:r,longitude:o,latitude:s,zoom:a})}}function H2(n,e,t=!1){const i=e.projectPosition(n);if(t&&e instanceof Qh){const[r,o,s=0]=n,a=e.getDistanceScales([r,o]);i[2]=s*a.unitsPerMeter[2]}return i}function B9(n,{viewport:e,modelMatrix:t,coordinateSystem:i,coordinateOrigin:r,offsetMode:o}){let[s,a,c=0]=n;switch(t&&([s,a,c]=K0([],[s,a,c,1],t)),i){case qi.LNGLAT:return H2([s,a,c],e,o);case qi.LNGLAT_OFFSETS:return H2([s+r[0],a+r[1],c+(r[2]||0)],e,o);case qi.METER_OFFSETS:return H2(A9(r,[s,a,c]),e,o);default:return e.isGeospatial?[s+r[0],a+r[1],c+r[2]]:e.projectPosition([s,a,c])}}Se(Qh,"displayName","WebMercatorViewport");const swe={10241:9987,10240:9729,10242:33071,10243:33071},G2={};function F_(n,e){if(n===e)return!0;if(!n||!e)return!1;for(const t in n){const i=n[t],r=e[t];if(!(i===r||Array.isArray(i)&&Array.isArray(r)&&F_(i,r)))return!1}return!0}const lwe={boolean:{validate:(n,e)=>!0,equal:(n,e,t)=>!!n==!!e},number:{validate:(n,e)=>Number.isFinite(n)&&(!("max"in e)||n<=e.max)&&(!("min"in e)||n>=e.min)},color:{validate:(n,e)=>e.optional&&!n||Z0(n)&&(3===n.length||4===n.length),equal:(n,e,t)=>W2(n,e)},accessor:{validate(n,e){const t=BS(n);return"function"===t||t===BS(e.value)},equal:(n,e,t)=>"function"==typeof e||W2(n,e)},array:{validate:(n,e)=>e.optional&&!n||Z0(n),equal:(n,e,t)=>t.compare?W2(n,e):n===e},object:{equal:(n,e,t)=>t.compare?F_(n,e):n===e},function:{validate:(n,e)=>e.optional&&!n||"function"==typeof n,equal:(n,e,t)=>!t.compare||n===e},data:{transform:(n,e,t)=>{const{dataTransform:i}=t.props;return i&&n?i(n):n}},image:{transform:(n,e,t)=>function awe(n,e){const t=n.context&&n.context.gl;if(!t||!e)return null;if(e instanceof Ns)return e;e.constructor&&"Object"!==e.constructor.name&&(e={data:e});let i=null;e.compressed&&(i={10241:e.data.length>1?9985:9729});const r=new Ns(t,{...e,parameters:{...swe,...i,...n.props.textureParameters}});return G2[r.id]=!0,r}(t,n),release:n=>{!function cwe(n){!n||!(n instanceof Ns)||G2[n.id]&&(n.delete(),delete G2[n.id])}(n)}}};function W2(n,e){if(n===e)return!0;if(!Z0(n)||!Z0(e))return!1;const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function uwe(n,e){switch(BS(e)){case"object":return J0(n,e);case"array":return J0(n,{type:"array",value:e,compare:!1});case"boolean":return J0(n,{type:"boolean",value:e});case"number":return J0(n,{type:"number",value:e});case"function":return J0(n,{type:"function",value:e,compare:!0});default:return{name:n,type:"unknown",value:e}}}function J0(n,e){return"type"in e?{name:n,...lwe[e.type],...e}:"value"in e?{name:n,type:BS(e.value),...e}:{name:n,type:"object",value:e}}function Z0(n){return Array.isArray(n)||ArrayBuffer.isView(n)}function BS(n){return Z0(n)?"array":null===n?"null":typeof n}function U9(n){return US(n,"_mergedDefaultProps")||(function fwe(n){if(!n.prototype)return;const t=Object.getPrototypeOf(n),i=U9(t),o=function dwe(n){const e={},t={},i={};for(const[r,o]of Object.entries(n)){const s=o?.deprecatedFor;if(s)i[r]=Array.isArray(s)?s:[s];else{const a=uwe(r,o);e[r]=a,t[r]=a.value}}return{propTypes:e,defaultProps:t,deprecatedProps:i}}(US(n,"defaultProps")||{}),s=function pwe(n,e,t){const i=Object.create(null);Object.assign(i,e,n);const r=function bwe(n){const e=US(n,"layerName")||US(n,"componentName");return e||Ui.once(0,"".concat(n.name,".componentName not specified"))(),e||n.name}(t);return delete n.id,Object.defineProperties(i,{id:{writable:!0,value:r}}),i}(o.defaultProps,i,n),a={...t._propTypes,...o.propTypes};!function gwe(n,e){const t={},i={};for(const r in e){const o=e[r],{name:s,value:a}=o;o.async&&(t[s]=a,i[s]=_we(s))}n[O_]=t,n[Up]={},Object.defineProperties(n,i)}(s,a);const c={...t._deprecatedProps,...o.deprecatedProps};(function mwe(n,e){for(const t in e)Object.defineProperty(n,t,{enumerable:!1,set(i){const r="".concat(this.id,": ").concat(t);for(const o of e[t])V9(this,o)||(this[o]=i);Ui.deprecated(r,e[t].join("/"))()}})})(s,c),n._mergedDefaultProps=s,n._propTypes=a,n._deprecatedProps=c}(n),n._mergedDefaultProps)}function _we(n){return{enumerable:!0,set(e){"string"==typeof e||e instanceof Promise||bG(e)?this[Up][n]=e:this[Jh][n]=e},get(){if(this[Jh]){if(n in this[Jh])return this[Jh][n]||this[O_][n];if(n in this[Up]){const e=this[TS]&&this[TS].internalState;if(e&&e.hasAsyncProp(n))return e.getAsyncProp(n)||this[O_][n]}}return this[O_][n]}}}function V9(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function US(n,e){return V9(n,e)&&n[e]}let ywe=0;class $2{constructor(...e){Se(this,"id",void 0),Se(this,"props",void 0),Se(this,"count",void 0),this.props=function hwe(n,e){const t=U9(n.constructor),i=Object.create(t);i[TS]=n,i[Up]={},i[Jh]={};for(let r=0;r<e.length;++r){const o=e[r];for(const s in o)i[s]=o[s]}return Object.freeze(i),i}(this,e),this.id=this.props.id,this.count=ywe++}clone(e){const{props:t}=this,i={};for(const r in t[O_])r in t[Jh]?i[r]=t[Jh][r]:r in t[Up]&&(i[r]=t[Up][r]);return new this.constructor({...t,...i,...e})}}function Y2(n){var e,t,i,r=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(t&&null!=(e=n[t]))return e.call(n);if(i&&null!=(e=n[i]))return new VS(e.call(n));t="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function VS(n){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var i=t.done;return Promise.resolve(t.value).then(function(r){return{value:r,done:i}})}return(VS=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(i){var r=this.s.return;return void 0===r?Promise.resolve({value:i,done:!0}):e(r.apply(this.s,arguments))},throw:function(i){var r=this.s.return;return void 0===r?Promise.reject(i):e(r.apply(this.s,arguments))}},new VS(n)}Se($2,"componentName","Component"),Se($2,"defaultProps",{});const vwe=Object.freeze({});class wwe{constructor(e){Se(this,"component",void 0),Se(this,"onAsyncPropUpdated",void 0),Se(this,"asyncProps",void 0),Se(this,"oldProps",void 0),Se(this,"oldAsyncProps",void 0),this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const t=this.asyncProps[e];t&&t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}}getOldProps(){return this.oldAsyncProps||this.oldProps||vwe}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component.props}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const t=this.asyncProps[e];return t&&t.resolvedValue}isAsyncPropLoading(e){if(e){const t=this.asyncProps[e];return!!(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(const t in this.asyncProps)if(this.isAsyncPropLoading(t))return!0;return!1}reloadAsyncProp(e,t){this._watchPromise(e,Promise.resolve(t))}setAsyncProps(e){const t=e[Jh]||{},i=e[Up]||e,r=e[O_]||{};for(const o in t){const s=t[o];this._createAsyncPropData(o,r[o]),this._updateAsyncProp(o,s),t[o]=this.getAsyncProp(o)}for(const o in i){const s=i[o];this._createAsyncPropData(o,r[o]),this._updateAsyncProp(o,s)}}_fetch(e,t){return null}_onResolve(e,t){}_onError(e,t){}_updateAsyncProp(e,t){if(this._didAsyncInputValueChange(e,t)){if("string"==typeof t&&(t=this._fetch(e,t)),t instanceof Promise)return void this._watchPromise(e,t);if(bG(t))return void this._resolveAsyncIterable(e,t);this._setPropValue(e,t)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,t){const i=this.asyncProps[e];return t!==i.resolvedValue&&t!==i.lastValue&&(i.lastValue=t,!0)}_setPropValue(e,t){this._freezeAsyncOldProps();const i=this.asyncProps[e];i&&(t=this._postProcessValue(i,t),i.resolvedValue=t,i.pendingLoadCount++,i.resolvedLoadCount=i.pendingLoadCount)}_setAsyncPropValue(e,t,i){const r=this.asyncProps[e];r&&i>=r.resolvedLoadCount&&void 0!==t&&(this._freezeAsyncOldProps(),r.resolvedValue=t,r.resolvedLoadCount=i,this.onAsyncPropUpdated(e,t))}_watchPromise(e,t){const i=this.asyncProps[e];if(i){i.pendingLoadCount++;const r=i.pendingLoadCount;t.then(o=>{o=this._postProcessValue(i,o),this._setAsyncPropValue(e,o,r),this._onResolve(e,o)}).catch(o=>{this._onError(e,o)})}}_resolveAsyncIterable(e,t){var i=this;return yn(function*(){if("data"!==e)return void i._setPropValue(e,t);const r=i.asyncProps[e];if(!r)return;r.pendingLoadCount++;const o=r.pendingLoadCount;let s=[],a=0;var d,c=!1,l=!1;try{for(var p,h=Y2(t);c=!(p=yield h.next()).done;c=!1){const _=p.value;{const{dataTransform:v}=i.component.props;s=v?v(_,s):s.concat(_),Object.defineProperty(s,"__diff",{enumerable:!1,value:[{startRow:a,endRow:s.length}]}),a=s.length,i._setAsyncPropValue(e,s,o)}}}catch(_){l=!0,d=_}finally{try{c&&null!=h.return&&(yield h.return())}finally{if(l)throw d}}i._onResolve(e,s)})()}_postProcessValue(e,t){const i=e.type;return i&&(i.release&&i.release(e.resolvedValue,i,this.component),i.transform)?i.transform(t,i,this.component):t}_createAsyncPropData(e,t){if(!this.asyncProps[e]){const r=this.component&&this.component.constructor._propTypes;this.asyncProps[e]={type:r&&r[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}class xwe extends wwe{constructor({attributeManager:e,layer:t}){super(t),Se(this,"attributeManager",void 0),Se(this,"needsRedraw",void 0),Se(this,"needsUpdate",void 0),Se(this,"subLayers",void 0),Se(this,"usesPickingColorCache",void 0),Se(this,"changeFlags",void 0),Se(this,"viewport",void 0),Se(this,"uniformTransitions",void 0),Se(this,"propsInTransition",void 0),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}set layer(e){this.component=e}_fetch(e,t){const i=this.component.props.fetch;return i?i(t,{propName:e,layer:this.layer}):super._fetch(e,t)}_onResolve(e,t){const i=this.component.props.onDataLoad;"data"===e&&i&&i(t,{propName:e,layer:this.layer})}_onError(e,t){this.layer.raiseError(t,"loading ".concat(e," of ").concat(this.layer))}}const El=n=>"function"==typeof n,ef=n=>null!==n&&"object"==typeof n,z9=n=>ef(n)&&n.constructor==={}.constructor,Ewe=n=>n&&"function"==typeof n[Symbol.iterator],Cwe=n=>n&&"function"==typeof n[Symbol.asyncIterator],L_=n=>typeof Response<"u"&&n instanceof Response||n&&n.arrayBuffer&&n.text&&n.json,B_=n=>typeof Blob<"u"&&n instanceof Blob,Swe=n=>n&&"object"==typeof n&&n.isBuffer,H9=n=>(n=>typeof ReadableStream<"u"&&n instanceof ReadableStream||ef(n)&&El(n.tee)&&El(n.cancel)&&El(n.getReader))(n)||(n=>ef(n)&&El(n.read)&&El(n.pipe)&&(n=>"boolean"==typeof n)(n.readable))(n);function G9(n,e){if(!n)throw new Error(e||"loader assertion failed.")}function X2(n){var e;return!!n&&(Array.isArray(n)&&(n=n[0]),Array.isArray(null===(e=n)||void 0===e?void 0:e.extensions))}function K2(n){var e,t;let i;return G9(n,"null loader"),G9(X2(n),"invalid loader"),Array.isArray(n)&&(i=n[1],n=n[0],n={...n,options:{...n.options,...i}}),(null!==(e=n)&&void 0!==e&&e.parseTextSync||null!==(t=n)&&void 0!==t&&t.parseText)&&(n.text=!0),n.text||(n.binary=!0),n}let q2="";const J2={},kwe=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,Owe=/^([-\w.]+\/[-\w.+]+)/;function Rwe(n){const e=Owe.exec(n);return e?e[1]:n}function W9(n){const e=kwe.exec(n);return e?e[1]:""}const Pwe=/\?.*/;function jS(n){if(L_(n)){const e=Z2(n.url||"");return{url:e,type:Rwe(n.headers.get("content-type")||"")||W9(e)}}return B_(n)?{url:Z2(n.name||""),type:n.type||""}:"string"==typeof n?{url:Z2(n),type:W9(n)}:{url:"",type:""}}function Z2(n){return n.replace(Pwe,"")}function $9(n){return Q2.apply(this,arguments)}function Q2(){return Q2=yn(function*(n){if(L_(n))return n;const e={},t=function Nwe(n){return L_(n)?n.headers["content-length"]||-1:B_(n)?n.size:"string"==typeof n?n.length:n instanceof ArrayBuffer||ArrayBuffer.isView(n)?n.byteLength:-1}(n);t>=0&&(e["content-length"]=String(t));const{url:i,type:r}=jS(n);r&&(e["content-type"]=r);const o=yield function Bwe(n){return nP.apply(this,arguments)}(n);o&&(e["x-first-bytes"]=o),"string"==typeof n&&(n=(new TextEncoder).encode(n));const s=new Response(n,{headers:e});return Object.defineProperty(s,"url",{value:i}),s}),Q2.apply(this,arguments)}function eP(){return eP=yn(function*(n){if(!n.ok){const e=yield function Lwe(n){return tP.apply(this,arguments)}(n);throw new Error(e)}}),eP.apply(this,arguments)}function tP(){return tP=yn(function*(n){let e="Failed to fetch resource ".concat(n.url," (").concat(n.status,"): ");try{const t=n.headers.get("Content-Type");let i=n.statusText;t.includes("application/json")&&(i+=" ".concat(yield n.text())),e+=i,e=e.length>60?"".concat(e.slice(0,60),"..."):e}catch{}return e}),tP.apply(this,arguments)}function nP(){return nP=yn(function*(n){if("string"==typeof n)return"data:,".concat(n.slice(0,5));if(n instanceof Blob){const t=n.slice(0,5);return yield new Promise(i=>{const r=new FileReader;r.onload=o=>{var s;return i(null==o||null===(s=o.target)||void 0===s?void 0:s.result)},r.readAsDataURL(t)})}if(n instanceof ArrayBuffer){const i=function Uwe(n){let e="";const t=new Uint8Array(n);for(let i=0;i<t.byteLength;i++)e+=String.fromCharCode(t[i]);return btoa(e)}(n.slice(0,5));return"data:base64,".concat(i)}return null}),nP.apply(this,arguments)}function Y9(n,e){return iP.apply(this,arguments)}function iP(){return iP=yn(function*(n,e){if("string"==typeof n){n=function Dwe(n){for(const e in J2)n.startsWith(e)&&(n=n.replace(e,J2[e]));return!n.startsWith("http://")&&!n.startsWith("https://")&&(n="".concat(q2).concat(n)),n}(n);let t=e;return null!=e&&e.fetch&&"function"!=typeof e?.fetch&&(t=e.fetch),yield fetch(n,t)}return yield $9(n)}),iP.apply(this,arguments)}const X9=new k0({id:"loaders.gl"});class Vwe{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const K9=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),q9=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),J9=(q9&&parseFloat(q9[1]),{fetch:null,mimeType:void 0,nothrow:!1,log:new class jwe{constructor(){Se(this,"console",void 0),this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}},CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:K9,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]}),zwe={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function rP(){globalThis.loaders=globalThis.loaders||{};const{loaders:n}=globalThis;return n._state=n._state||{},n._state}const oP=()=>{const n=rP();return n.globalOptions=n.globalOptions||{...J9},n.globalOptions};function Hwe(n,e,t,i){return t=t||[],function Gwe(n,e){Q9(n,null,J9,zwe,e);for(const t of e)Q9(n&&n[t.id]||{},t.id,t.options&&t.options[t.id]||{},t.deprecatedOptions&&t.deprecatedOptions[t.id]||{},e)}(n,t=Array.isArray(t)?t:[t]),function e7(n,e,t){const r={...n.options||{}};return function $we(n,e){e&&!("baseUri"in n)&&(n.baseUri=e)}(r,t),null===r.log&&(r.log=new Vwe),t7(r,oP()),t7(r,e),r}(e,n,i)}function Z9(n,e){const t=oP(),i=n||t;return"function"==typeof i.fetch?i.fetch:ef(i.fetch)?r=>Y9(r,i):null!=e&&e.fetch?e?.fetch:Y9}function Q9(n,e,t,i,r){const o=e||"Top level",s=e?"".concat(e,"."):"";for(const a in n){const c=!e&&ef(n[a]);if(!(a in t)&&("baseUri"!==a||e)&&("workerUrl"!==a||!e))if(a in i)X9.warn("".concat(o," loader option '").concat(s).concat(a,"' no longer supported, use '").concat(i[a],"'"))();else if(!c){const h=Wwe(a,r);X9.warn("".concat(o," loader option '").concat(s).concat(a,"' not recognized. ").concat(h))()}}}function Wwe(n,e){const t=n.toLowerCase();let i="";for(const r of e)for(const o in r.options){if(n===o)return"Did you mean '".concat(r.id,".").concat(o,"'?");const s=o.toLowerCase();(t.startsWith(s)||s.startsWith(t))&&(i=i||"Did you mean '".concat(r.id,".").concat(o,"'?"))}return i}function t7(n,e){for(const t in e)t in e&&(n[t]=z9(e[t])&&z9(n[t])?{...n[t],...e[t]}:e[t])}function _d(n,e){if(!n)throw new Error(e||"loaders.gl assertion failed.")}const Ywe="3.2.13",bd={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},Kwe=bd.global||bd.self||bd.window||{},tf="object"!=typeof process||"[object process]"!==String(process)||process.browser,sP="function"==typeof importScripts,qwe=typeof window<"u"&&typeof window.orientation<"u",n7=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);n7&&parseFloat(n7[1]);class aP{}const cP=new Map;function i7(n){const e=new Blob([n],{type:"application/javascript"});return URL.createObjectURL(e)}function r7(n,e=!0,t){const i=t||new Set;if(n)if(o7(n))i.add(n);else if(o7(n.buffer))i.add(n.buffer);else if(!ArrayBuffer.isView(n)&&e&&"object"==typeof n)for(const r in n)r7(n[r],e,i);return void 0===t?Array.from(i):[]}function o7(n){return!!n&&(n instanceof ArrayBuffer||typeof MessagePort<"u"&&n instanceof MessagePort||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)}const lP=()=>{};class dP{static isSupported(){return typeof Worker<"u"&&tf||typeof aP<"u"&&!tf}constructor(e){Se(this,"name",void 0),Se(this,"source",void 0),Se(this,"url",void 0),Se(this,"terminated",!1),Se(this,"worker",void 0),Se(this,"onMessage",void 0),Se(this,"onError",void 0),Se(this,"_loadableURL","");const{name:t,source:i,url:r}=e;_d(i||r),this.name=t,this.source=i,this.url=r,this.onMessage=lP,this.onError=o=>console.log(o),this.worker=tf?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=lP,this.onError=lP,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,t){t=t||r7(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}_createBrowserWorker(){this._loadableURL=function Jwe(n){_d(n.source&&!n.url||!n.source&&n.url);let e=cP.get(n.source||n.url);return e||(n.url&&(e=function Zwe(n){if(!n.startsWith("http"))return n;const e=function Qwe(n){return"try {\n  importScripts('".concat(n,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")}(n);return i7(e)}(n.url),cP.set(n.url,e)),n.source&&(e=i7(n.source),cP.set(n.source,e))),_d(e),e}({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=t=>{t.data?this.onMessage(t.data):this.onError(new Error("No data received"))},e.onerror=t=>{this.onError(this._getErrorFromErrorEvent(t)),this.terminated=!0},e.onmessageerror=t=>console.error(t),e}_createNodeWorker(){let e;if(this.url){const i=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new aP(i,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new aP(this.source,{eval:!0})}return e.on("message",t=>{this.onMessage(t)}),e.on("error",t=>{this.onError(t)}),e.on("exit",t=>{}),e}}class txe{constructor(e,t){Se(this,"name",void 0),Se(this,"workerThread",void 0),Se(this,"isRunning",!0),Se(this,"result",void 0),Se(this,"_resolve",()=>{}),Se(this,"_reject",()=>{}),this.name=e,this.workerThread=t,this.result=new Promise((i,r)=>{this._resolve=i,this._reject=r})}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){_d(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){_d(this.isRunning),this.isRunning=!1,this._reject(e)}}class nxe{static isSupported(){return dP.isSupported()}constructor(e){Se(this,"name","unnamed"),Se(this,"source",void 0),Se(this,"url",void 0),Se(this,"maxConcurrency",1),Se(this,"maxMobileConcurrency",1),Se(this,"onDebug",()=>{}),Se(this,"reuseWorkers",!0),Se(this,"props",{}),Se(this,"jobQueue",[]),Se(this,"idleQueue",[]),Se(this,"count",0),Se(this,"isDestroyed",!1),this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}startJob(e,t=((r,o,s)=>r.done(s)),i=((r,o)=>r.error(o))){var r=this;return yn(function*(){const o=new Promise(s=>(r.jobQueue.push({name:e,onMessage:t,onError:i,onStart:s}),r));return r._startQueuedJob(),yield o})()}_startQueuedJob(){var e=this;return yn(function*(){if(!e.jobQueue.length)return;const t=e._getAvailableWorker();if(!t)return;const i=e.jobQueue.shift();if(i){e.onDebug({message:"Starting job",name:i.name,workerThread:t,backlog:e.jobQueue.length});const r=new txe(i.name,t);t.onMessage=o=>i.onMessage(r,o.type,o.payload),t.onError=o=>i.onError(r,o),i.onStart(r);try{yield r.result}finally{e.returnWorkerToQueue(t)}}})()}returnWorkerToQueue(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new dP({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return qwe?this.maxMobileConcurrency:this.maxConcurrency}}const ixe={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class Nu{static isSupported(){return dP.isSupported()}static getWorkerFarm(e={}){return Nu._workerFarm=Nu._workerFarm||new Nu({}),Nu._workerFarm.setProps(e),Nu._workerFarm}constructor(e){Se(this,"props",void 0),Se(this,"workerPools",new Map),this.props={...ixe},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:i,url:r}=e;let o=this.workerPools.get(t);return o||(o=new nxe({name:t,source:i,url:r}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}Se(Nu,"_workerFarm",void 0);const rxe="latest";function uP(){return uP=yn(function*(n,e,t,i,r){const o=n.id,s=function oxe(n,e={}){const t=e[n.id]||{},i="".concat(n.id,"-worker.js");let r=t.workerUrl;if(!r&&"compression"===n.id&&(r=e.workerUrl),"test"===e._workerType&&(r="modules/".concat(n.module,"/dist/").concat(i)),!r){let o=n.version;"latest"===o&&(o=rxe);const s=o?"@".concat(o):"";r="https://unpkg.com/@loaders.gl/".concat(n.module).concat(s,"/dist/").concat(i)}return _d(r),r}(n,t),c=Nu.getWorkerFarm(t).getWorkerPool({name:o,url:s});t=JSON.parse(JSON.stringify(t)),i=JSON.parse(JSON.stringify(i||{}));const l=yield c.startJob("process-on-worker",cxe.bind(null,r));return l.postMessage("process",{input:e,options:t,context:i}),yield(yield l.result).result}),uP.apply(this,arguments)}function cxe(n,e,t,i){return hP.apply(this,arguments)}function hP(){return hP=yn(function*(n,e,t,i){switch(t){case"done":e.done(i);break;case"error":e.error(new Error(i.error));break;case"process":const{id:r,input:o,options:s}=i;try{const a=yield n(o,s);e.postMessage("done",{id:r,result:a})}catch(a){const c=a instanceof Error?a.message:"unknown error";e.postMessage("error",{id:r,error:c})}break;default:console.warn("parse-with-worker unknown message ".concat(t))}}),hP.apply(this,arguments)}function a7(n){return n&&"object"==typeof n&&n.isBuffer}function c7(n){if(a7(n))return function lxe(n){return a7(n)?new Uint8Array(n.buffer,n.byteOffset,n.length).slice().buffer:n}(n);if(n instanceof ArrayBuffer)return n;if(ArrayBuffer.isView(n))return 0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength);if("string"==typeof n){const e=n;return(new TextEncoder).encode(e).buffer}if(n&&"object"==typeof n&&n._toArrayBuffer)return n._toArrayBuffer();throw new Error("toArrayBuffer")}function pP(){return pP=yn(function*(n){const e=[];var r,t=!1,i=!1;try{for(var s,o=Y2(n);t=!(s=yield o.next()).done;t=!1)e.push(s.value)}catch(a){i=!0,r=a}finally{try{t&&null!=o.return&&(yield o.return())}finally{if(i)throw r}}return function uxe(...n){const e=n.map(o=>o instanceof ArrayBuffer?new Uint8Array(o):o),t=e.reduce((o,s)=>o+s.byteLength,0),i=new Uint8Array(t);let r=0;for(const o of e)i.set(o,r),r+=o.byteLength;return i.buffer}(...e)}),pP.apply(this,arguments)}m(643);const fxe=262144,mxe=262144;function l7(n,e){this.v=n,this.k=e}function zS(n){return new l7(n,0)}function Q0(n){var e,t;function i(o,s){try{var a=n[o](s),c=a.value,l=c instanceof l7;Promise.resolve(l?c.v:c).then(function(d){if(l){var h="return"===o?"return":"next";if(!c.k||d.done)return i(h,d);d=n[h](d).value}r(a.done?"return":"normal",d)},function(d){i("throw",d)})}catch(d){r("throw",d)}}function r(o,s){switch(o){case"return":e.resolve({value:s,done:!0});break;case"throw":e.reject(s);break;default:e.resolve({value:s,done:!1})}(e=e.next)?i(e.key,e.arg):t=null}this._invoke=function(o,s){return new Promise(function(a,c){var l={key:o,arg:s,resolve:a,reject:c,next:null};t?t=t.next=l:(e=t=l,i(o,s))})},"function"!=typeof n.return&&(this.return=void 0)}function gP(n){return function(){return new Q0(n.apply(this,arguments))}}Q0.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Q0.prototype.next=function(n){return this._invoke("next",n)},Q0.prototype.throw=function(n){return this._invoke("throw",n)},Q0.prototype.return=function(n){return this._invoke("return",n)};const _xe=1048576;function _P(){return _P=gP(function*(n,e){const t=e?.chunkSize||_xe;let i=0;for(;i<n.size;){const r=i+t,o=yield zS(n.slice(i,r).arrayBuffer());i=r,yield o}}),_P.apply(this,arguments)}function d7(n,e){return K9?function yxe(n,e){return bP.apply(this,arguments)}(n,e):function vxe(n,e){return yP.apply(this,arguments)}(n,e)}function bP(){return bP=gP(function*(n,e){const t=n.getReader();let i;try{for(;;){const r=i||t.read();null!=e&&e._streamReadAhead&&(i=t.read());const{done:o,value:s}=yield zS(r);if(o)return;yield c7(s)}}catch{t.releaseLock()}}),bP.apply(this,arguments)}function yP(){return yP=gP(function*(n,e){var r,t=!1,i=!1;try{for(var s,o=Y2(n);t=!(s=yield zS(o.next())).done;t=!1){const a=s.value;yield c7(a)}}catch(a){i=!0,r=a}finally{try{t&&null!=o.return&&(yield zS(o.return()))}finally{if(i)throw r}}}),yP.apply(this,arguments)}const vP="Cannot convert supplied data type";function wP(){return wP=yn(function*(n,e,t){const i=n instanceof ArrayBuffer||ArrayBuffer.isView(n);if("string"==typeof n||i)return function xxe(n,e,t){if(e.text&&"string"==typeof n)return n;if(Swe(n)&&(n=n.buffer),n instanceof ArrayBuffer){const i=n;return e.text&&!e.binary?new TextDecoder("utf8").decode(i):i}if(ArrayBuffer.isView(n)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(n);let i=n.buffer;const r=n.byteLength||n.length;return(0!==n.byteOffset||r!==i.byteLength)&&(i=i.slice(n.byteOffset,n.byteOffset+r)),i}throw new Error(vP)}(n,e);if(B_(n)&&(n=yield $9(n)),L_(n)){const r=n;return yield function Fwe(n){return eP.apply(this,arguments)}(r),e.binary?yield r.arrayBuffer():yield r.text()}if(H9(n)&&(n=function wxe(n,e){if("string"==typeof n)return function*pxe(n,e){const t=e?.chunkSize||fxe;let i=0;const r=new TextEncoder;for(;i<n.length;){const o=Math.min(n.length-i,t),s=n.slice(i,i+o);i+=o,yield r.encode(s)}}(n,e);if(n instanceof ArrayBuffer)return function*gxe(n,e={}){const{chunkSize:t=mxe}=e;let i=0;for(;i<n.byteLength;){const r=Math.min(n.byteLength-i,t),o=new ArrayBuffer(r),s=new Uint8Array(n,i,r);new Uint8Array(o).set(s),i+=r,yield o}}(n,e);if(B_(n))return function bxe(n,e){return _P.apply(this,arguments)}(n,e);if(H9(n))return d7(n,e);if(L_(n))return d7(n.body,e);throw new Error("makeIterator")}(n,t)),Ewe(n)||Cwe(n))return function hxe(n){return pP.apply(this,arguments)}(n);throw new Error(vP)}),wP.apply(this,arguments)}const Txe=new k0({id:"loaders.gl"}),u7=()=>{const n=rP();return n.loaderRegistry=n.loaderRegistry||[],n.loaderRegistry};function h7(n){const e=u7();n=Array.isArray(n)?n:[n];for(const t of n){const i=K2(t);e.find(r=>i===r)||e.unshift(i)}}const Dxe=/\.([^.]+)$/;function CP(){return CP=yn(function*(n,e=[],t,i){if(!p7(n))return null;let r=f7(n,e,{...t,nothrow:!0},i);if(r)return r;if(B_(n)&&(r=f7(n=yield n.slice(0,10).arrayBuffer(),e,t,i)),!(r||null!=t&&t.nothrow))throw new Error(m7(n));return r}),CP.apply(this,arguments)}function f7(n,e=[],t,i){if(!p7(n))return null;if(e&&!Array.isArray(e))return K2(e);let r=[];e&&(r=r.concat(e)),null!=t&&t.ignoreRegisteredLoaders||r.push(...function Ixe(){return u7()}()),function Rxe(n){for(const e of n)K2(e)}(r);const o=function Oxe(n,e,t,i){const{url:r,type:o}=jS(n),s=r||i?.url;let a=null,c="";var l;return null!=t&&t.mimeType&&(a=SP(e,t?.mimeType),c="match forced by supplied MIME type ".concat(t?.mimeType)),a=a||function Pxe(n,e){const t=e&&Dxe.exec(e),i=t&&t[1];return i?function Nxe(n,e){e=e.toLowerCase();for(const t of n)for(const i of t.extensions)if(i.toLowerCase()===e)return t;return null}(n,i):null}(e,s),c=c||(a?"matched url ".concat(s):""),a=a||SP(e,o),c=c||(a?"matched MIME type ".concat(o):""),a=a||function Fxe(n,e){if(!e)return null;for(const t of n)if("string"==typeof e){if(Lxe(e,t))return t}else if(ArrayBuffer.isView(e)){if(g7(e.buffer,e.byteOffset,t))return t}else if(e instanceof ArrayBuffer&&g7(e,0,t))return t;return null}(e,n),c=c||(a?"matched initial data ".concat(_7(n)):""),a=a||SP(e,t?.fallbackMimeType),c=c||(a?"matched fallback MIME type ".concat(o):""),c&&Txe.log(1,"selectLoader selected ".concat(null===(l=a)||void 0===l?void 0:l.name,": ").concat(c,".")),a}(n,r,t,i);if(!(o||null!=t&&t.nothrow))throw new Error(m7(n));return o}function p7(n){return!(n instanceof Response&&204===n.status)}function m7(n){const{url:e,type:t}=jS(n);let i="No valid loader found (";i+=e?"".concat(function Mxe(n){const e=n&&n.lastIndexOf("/");return e>=0?n.substr(e+1):""}(e),", "):"no url provided, ",i+="MIME type: ".concat(t?'"'.concat(t,'"'):"not provided",", ");const r=n?_7(n):"";return i+=r?' first bytes: "'.concat(r,'"'):"first bytes: not available",i+=")",i}function SP(n,e){for(const t of n)if(t.mimeTypes&&t.mimeTypes.includes(e)||e==="application/x.".concat(t.id))return t;return null}function Lxe(n,e){return e.testText?e.testText(n):(Array.isArray(e.tests)?e.tests:[e.tests]).some(i=>n.startsWith(i))}function g7(n,e,t){return(Array.isArray(t.tests)?t.tests:[t.tests]).some(r=>function Bxe(n,e,t,i){if(i instanceof ArrayBuffer)return function dxe(n,e,t){if(n.byteLength<(t=t||n.byteLength)||e.byteLength<t)return!1;const i=new Uint8Array(n),r=new Uint8Array(e);for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(i,n,i.byteLength);switch(typeof i){case"function":return i(n,t);case"string":return i===AP(n,e,i.length);default:return!1}}(n,e,t,r))}function _7(n,e=5){return"string"==typeof n?n.slice(0,e):ArrayBuffer.isView(n)?AP(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?AP(n,0,e):""}function AP(n,e,t){if(n.byteLength<e+t)return"";const i=new DataView(n);let r="";for(let o=0;o<t;o++)r+=String.fromCharCode(i.getUint8(e+o));return r}function HS(n,e,t,i){return MP.apply(this,arguments)}function MP(){return MP=yn(function*(n,e,t,i){_d(!i||"object"==typeof i),e&&!Array.isArray(e)&&!X2(e)&&(i=void 0,t=e,e=void 0),n=yield n,t=t||{};const{url:r}=jS(n),s=function Axe(n,e){if(!e&&n&&!Array.isArray(n))return n;let t;if(n&&(t=Array.isArray(n)?n:[n]),e&&e.loaders){const i=Array.isArray(e.loaders)?e.loaders:[e.loaders];t=t?[...t,...i]:i}return t&&t.length?t:null}(e,i),a=yield function kxe(n){return CP.apply(this,arguments)}(n,s,t);return a?(i=function Sxe(n,e,t=null){if(t)return t;const i={fetch:Z9(e,n),...n};return Array.isArray(i.loaders)||(i.loaders=null),i}({url:r,parse:HS,loaders:s},t=Hwe(t,a,s,r),i),yield function Uxe(n,e,t,i){return TP.apply(this,arguments)}(a,n,t,i)):null}),MP.apply(this,arguments)}function TP(){return TP=yn(function*(n,e,t,i){if(function Xwe(n,e=Ywe){_d(n,"no worker provided")}(n),L_(e)){const r=e,{ok:o,redirected:s,status:a,statusText:c,type:l,url:d}=r,h=Object.fromEntries(r.headers.entries());i.response={headers:h,ok:o,redirected:s,status:a,statusText:c,type:l,url:d}}if(e=yield function Exe(n,e,t){return wP.apply(this,arguments)}(e,n,t),n.parseTextSync&&"string"==typeof e)return t.dataType="text",n.parseTextSync(e,t,i,n);if(function sxe(n,e){return!(!Nu.isSupported()||!(tf||null!=e&&e._nodeWorkers))&&n.worker&&e?.worker}(n,t))return yield function axe(n,e,t,i,r){return uP.apply(this,arguments)}(n,e,t,i,HS);if(n.parseText&&"string"==typeof e)return yield n.parseText(e,t,i,n);if(n.parse)return yield n.parse(e,t,i,n);throw _d(!n.parseSync),new Error("".concat(n.id," loader - no parser found and worker is disabled"))}),TP.apply(this,arguments)}function ew(n,e,t,i){return IP.apply(this,arguments)}function IP(){return IP=yn(function*(n,e,t,i){!Array.isArray(e)&&!X2(e)&&(t=e,e=void 0);const r=Z9(t);let o=n;return"string"==typeof n&&(o=yield r(n)),B_(n)&&(o=yield r(n)),yield HS(o,e,t)}),IP.apply(this,arguments)}const Wxe=Object.freeze([]),$xe=IS(({oldViewport:n,viewport:e})=>n.equals(e));let yd=new Uint8ClampedArray(0);const Yxe={data:{type:"data",value:Wxe,async:!0},dataComparator:{type:"function",value:null,compare:!1,optional:!0},_dataDiff:{type:"function",value:n=>n&&n.__diff,compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:(n,{propName:e,layer:t,loaders:i,loadOptions:r,signal:o})=>{const{resourceManager:s}=t.context;var a;r=r||t.getLoadOptions(),i=i||t.props.loaders,o&&(r={...r,fetch:{...null===(a=r)||void 0===a?void 0:a.fetch,signal:o}});let c=s.contains(n);return!c&&!r&&(s.add({resourceId:n,data:ew(n,i),persistent:!1}),c=!0),c?s.subscribe({resourceId:n,onChange:l=>{var d;return null===(d=t.internalState)||void 0===d?void 0:d.reloadAsyncProp(e,l)},consumerId:t.id,requestId:e}):ew(n,i,r)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:qi.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:({layerIndex:n})=>[0,100*-n],compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class jp extends $2{constructor(...e){super(...e),Se(this,"internalState",null),Se(this,"lifecycle","Awaiting state"),Se(this,"context",void 0),Se(this,"state",void 0),Se(this,"parent",null)}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){return"".concat(this.constructor.layerName||this.constructor.name,"({id: '").concat(this.props.id,"'})")}project(e){Ls(this.internalState);const t=this.internalState.viewport||this.context.viewport,i=B9(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[r,o,s]=T9(i,t.pixelProjectionMatrix);return 2===e.length?[r,o]:[r,o,s]}unproject(e){return Ls(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,t){return Ls(this.internalState),function owe(n,e){const{viewport:t,coordinateSystem:i,coordinateOrigin:r,modelMatrix:o,fromCoordinateSystem:s,fromCoordinateOrigin:a}=function rwe(n){const{viewport:e,modelMatrix:t,coordinateOrigin:i}=n;let{coordinateSystem:r,fromCoordinateSystem:o,fromCoordinateOrigin:s}=n;return r===qi.DEFAULT&&(r=e.isGeospatial?qi.LNGLAT:qi.CARTESIAN),void 0===o&&(o=r),void 0===s&&(s=i),{viewport:e,coordinateSystem:r,coordinateOrigin:i,modelMatrix:t,fromCoordinateSystem:o,fromCoordinateOrigin:s}}(e),{geospatialOrigin:c,shaderCoordinateOrigin:l,offsetMode:d}=y9(t,i,r),h=B9(n,{viewport:t,modelMatrix:o,coordinateSystem:s,coordinateOrigin:a,offsetMode:d});d&&function P_e(n,e,t){n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2]}(h,h,t.projectPosition(c||l));return h}(e,{viewport:this.internalState.viewport||this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...t})}get isComposite(){return!1}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}setModuleParameters(e){for(const t of this.getModels())t.updateModuleSettings(e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===qi.DEFAULT||e===qi.LNGLAT||e===qi.CARTESIAN}onHover(e,t){return this.props.onHover&&this.props.onHover(e,t)||!1}onClick(e,t){return this.props.onClick&&this.props.onClick(e,t)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e,t=[]){return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}decodePickingColor(e){Ls(e instanceof Uint8Array);const[t,i,r]=e;return t+256*i+65536*r-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:function Yve(n){if(!function Kve(n){return null!==n&&"object"==typeof n}(n))throw new Error("count(): argument not an object");if("function"==typeof n.count)return n.count();if(Number.isFinite(n.size))return n.size;if(Number.isFinite(n.length))return n.length;if(function Xve(n){return null!==n&&"object"==typeof n&&n.constructor===Object}(n))return Object.keys(n).length;throw new Error("count(): argument not a container")}(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;const t=this.getAttributeManager();if(!t)return null;const{positions:i,instancePositions:r}=t.attributes;return null===(e=i||r)||void 0===e?void 0:e.getBounds()}getShaders(e){for(const t of this.props.extensions)e=Jve(e,t.getShaders.call(this,t));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const t=this.getAttributeManager(),{dataChanged:i}=e.changeFlags;if(i&&t)if(Array.isArray(i))for(const c of i)t.invalidateAll(c);else t.invalidateAll();const{props:r,oldProps:o}=e,s=Number.isInteger(o.highlightedObjectIndex)||o.pickable,a=Number.isInteger(r.highlightedObjectIndex)||r.pickable;if(s!==a&&t){const{pickingColors:c,instancePickingColors:l}=t.attributes,d=c||l;d&&(a&&d.constant&&(d.constant=!1,t.invalidate(d.id)),!d.value&&!a&&(d.constant=!0,d.value=[0,0,0]))}}finalizeState(e){for(const i of this.getModels())i.delete();const t=this.getAttributeManager();t&&t.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const t of this.getModels())t.draw(e)}getPickingInfo({info:e}){const{index:r}=e;return r>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[r]),e}raiseError(e,t){var i,r,o,s;t&&(e.message="".concat(t,": ").concat(e.message)),null!==(i=(r=this.props).onError)&&void 0!==i&&i.call(r,e)||null===(o=this.context)||void 0===o||null===(s=o.onError)||void 0===s||s.call(o,e,this)}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}hasUniformTransition(){var e;return(null===(e=this.internalState)||void 0===e?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const t=this.internalState.viewport;this.internalState.viewport=e,(!t||!$xe({oldViewport:t,viewport:e}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all"){const t=this.getAttributeManager();t&&("all"===e?t.invalidateAll():t.invalidate(e))}updateAttributes(e){for(const t of this.getModels())this._setModelAttributes(t,e)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const t=this.props,i=this.getNumInstances(),r=this.getStartIndices();e.update({data:t.data,numInstances:i,startIndices:r,props:t,transitions:t.transitions,buffers:t.data.attributes,context:this});const o=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(o)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const t=e.update(),i=Object.create(this.props);for(const r in t)Object.defineProperty(i,r,{value:t[r]});return i}return this.props}calculateInstancePickingColors(e,{numInstances:t}){if(e.constant)return;const i=Math.floor(yd.length/3);if(this.internalState.usesPickingColorCache=!0,i<t){t>16777215&&Ui.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),yd=U0.allocate(yd,t,{size:3,copy:!0,maxCount:Math.max(t,16777215)});const r=Math.floor(yd.length/3),o=[];for(let s=i;s<r;s++)this.encodePickingColor(s,o),yd[3*s+0]=o[0],yd[3*s+1]=o[1],yd[3*s+2]=o[2]}e.value=yd.subarray(0,3*t)}_setModelAttributes(e,t){const o=this.getAttributeManager().getShaderAttributes(t,e.userData.excludeAttributes||{});e.setAttributes(o)}disablePickingIndex(e){this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:t,instancePickingColors:i}=this.getAttributeManager().attributes,r=t||i;if(!r)return;const o=r.getVertexOffset(e),s=r.getVertexOffset(e+1);r.buffer.subData({data:new Uint8Array(s-o),offset:o})}restorePickingColors(){const{pickingColors:e,instancePickingColors:t}=this.getAttributeManager().attributes,i=e||t;i&&(this.internalState.usesPickingColorCache&&i.value.buffer!==yd.buffer&&(i.value=yd.subarray(0,i.value.length)),i.updateSubBuffer({startOffset:0}))}_initialize(){Ls(!this.internalState),Ls(Number.isFinite(this.props.coordinateSystem)),sa("layer.initialize",this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new xwe({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(Ui.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.layer=this,this.internalState.uniformTransitions=new Bve(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const t of this.props.extensions)t.initializeState.call(this,this.context,t);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){sa("layer.matched",this,this===e);const{state:t,internalState:i}=e;this!==e&&(this.internalState=i,this.internalState.layer=this,this.state=t,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(sa("layer.update",this,e),!e)return;const t=this.props,i=this.context,r=this.internalState,o=i.viewport,s=this._updateUniformTransition();r.propsInTransition=s,i.viewport=r.viewport||o,this.props=s;try{const a=this._getUpdateParams(),c=this.getModels();if(i.gl)this.updateState(a);else try{this.updateState(a)}catch{}for(const d of this.props.extensions)d.updateState.call(this,a,d);const l=this.getModels()[0]!==c[0];this._postUpdate(a,l)}finally{i.viewport=o,this.props=t,this._clearChangeFlags(),r.needsUpdate=!1,r.resetOldProps()}}_finalize(){sa("layer.finalize",this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,e)}_drawLayer({moduleParameters:e=null,uniforms:t={},parameters:i={}}){this._updateAttributeTransition();const r=this.props,o=this.context;this.props=this.internalState.propsInTransition||r,t.opacity=Math.pow(this.props.opacity,1/2.2);try{e&&this.setModuleParameters(e);const{getPolygonOffset:a}=this.props,c=a&&a(t)||[0,0];Iu(o.gl,{polygonOffset:c}),Gc(o.gl,i,()=>{const l={moduleParameters:e,uniforms:t,parameters:i,context:o};for(const d of this.props.extensions)d.draw.call(this,l,d);this.draw(l)})}finally{this.props=r}}getChangeFlags(){var e;return null===(e=this.internalState)||void 0===e?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:t}=this.internalState;for(const r in e)if(e[r]){let o=!1;if("dataChanged"===r){const s=e[r],a=t[r];s&&Array.isArray(a)&&(t.dataChanged=Array.isArray(s)?a.concat(s):s,o=!0)}t[r]||(t[r]=e[r],o=!0),o&&sa("layer.changeFlag",this,r,e)}const i=!!(t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged);t.propsOrDataChanged=i,t.somethingChanged=i||t.viewportChanged||t.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,t){const i=function Vve(n,e){const t=u9({newProps:n,oldProps:e,propTypes:O2(n),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),i=function zve(n,e){if(null===e)return"oldProps is null, initial diff";let t=!1;const{dataComparator:i,_dataDiff:r}=n;return i?i(n.data,e.data)||(t="Data comparator detected a change"):n.data!==e.data&&(t="A new data container was supplied"),t&&r&&(t=r(n.data,e.data)||t),t}(n,e);let r=!1;return i||(r=function Hve(n,e){if(null===e)return{all:!0};if("all"in n.updateTriggers&&h9(n,e,"all"))return{all:!0};const t={};let i=!1;for(const r in n.updateTriggers)"all"!==r&&h9(n,e,r)&&(t[r]=!0,i=!0);return!!i&&t}(n,e)),{dataChanged:i,propsChanged:t,updateTriggersChanged:r,extensionsChanged:Gve(n,e),transitionsChanged:jve(n,e)}}(e,t);if(i.updateTriggersChanged)for(const o in i.updateTriggersChanged)i.updateTriggersChanged[o]&&this.invalidateAttribute(o);if(i.transitionsChanged)for(const o in i.transitionsChanged){var r;this.internalState.uniformTransitions.add(o,t[o],e[o],null===(r=e.transitions)||void 0===r?void 0:r[o])}return this.setChangeFlags(i)}validateProps(){!function Uve(n){const e=O2(n);for(const t in e){const i=e[t],{validate:r}=i;if(r&&!r(n[t],i))throw new Error("Invalid prop ".concat(t,": ").concat(n[t]))}}(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const t={pickingSelectedColor:e.picked?e.color:null},{highlightColor:i}=this.props;e.picked&&"function"==typeof i&&(t.pickingHighlightColor=i(e)),this.setModuleParameters(t),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new Rve(e.gl,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,t){const{props:i,oldProps:r}=e;this.setNeedsRedraw(),this._updateAttributes();const{model:o}=this.state;o?.setInstanceCount(this.getNumInstances());const{autoHighlight:s,highlightedObjectIndex:a,highlightColor:c}=i;if(t||r.autoHighlight!==s||r.highlightedObjectIndex!==a||r.highlightColor!==c){const l={};s||(l.pickingSelectedColor=null),Array.isArray(c)&&(l.pickingHighlightColor=c),(t||a!==r.highlightedObjectIndex)&&(l.pickingSelectedColor=Number.isFinite(a)&&a>=0?this.encodePickingColor(a):null),this.setModuleParameters(l)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let t=!1;t=t||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags;const i=this.getAttributeManager(),r=!!i&&i.getNeedsRedraw(e);return t=t||r,t}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}Se(jp,"defaultProps",Yxe),Se(jp,"layerName","Layer");class DP extends jp{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(e=>e.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(e){}setState(e){super.setState(e),this.setNeedsUpdate()}getPickingInfo({info:e}){const{object:t}=e;return t&&t.__source&&t.__source.parent&&t.__source.parent.id===this.id&&(e.object=t.__source.object,e.index=t.__source.index),e}filterSubLayer(e){return!0}shouldRenderSubLayer(e,t){return t&&t.length}getSubLayerClass(e,t){const{_subLayerProps:i}=this.props;return i&&i[e]&&i[e].type||t}getSubLayerRow(e,t,i){return e.__source={parent:this,object:t,index:i},e}getSubLayerAccessor(e){if("function"==typeof e){const t={index:-1,data:this.props.data,target:[]};return(i,r)=>i&&i.__source?(t.index=i.__source.index,e(i.__source.object,t)):e(i,r)}return e}getSubLayerProps(e={}){var t;const{opacity:i,pickable:r,visible:o,parameters:s,getPolygonOffset:a,highlightedObjectIndex:c,autoHighlight:l,highlightColor:d,coordinateSystem:h,coordinateOrigin:p,wrapLongitude:_,positionFormat:v,modelMatrix:A,extensions:P,fetch:X,operation:Q,_subLayerProps:pe}=this.props,Re={id:"",updateTriggers:{},opacity:i,pickable:r,visible:o,parameters:s,getPolygonOffset:a,highlightedObjectIndex:c,autoHighlight:l,highlightColor:d,coordinateSystem:h,coordinateOrigin:p,wrapLongitude:_,positionFormat:v,modelMatrix:A,extensions:P,fetch:X,operation:Q},Ye=pe&&e.id&&pe[e.id],tt=Ye&&Ye.updateTriggers,ht=e.id||"sublayer";if(Ye){const Mt=this.constructor._propTypes,xt=e.type?e.type._propTypes:{};for(const yt in Ye){const Ot=xt[yt]||Mt[yt];Ot&&"accessor"===Ot.type&&(Ye[yt]=this.getSubLayerAccessor(Ye[yt]))}}Object.assign(Re,e,Ye),Re.id="".concat(this.props.id,"-").concat(ht),Re.updateTriggers={all:null===(t=this.props.updateTriggers)||void 0===t?void 0:t.all,...e.updateTriggers,...tt};for(const Mt of P){const xt=Mt.getSubLayerProps.call(this,Mt);xt&&Object.assign(Re,xt,{updateTriggers:Object.assign(Re.updateTriggers,xt.updateTriggers)})}return Re}_updateAutoHighlight(e){for(const t of this.getSubLayers())t.updateAutoHighlight(e)}_getAttributeManager(){return null}_postUpdate(e,t){let i=this.internalState.subLayers;const r=!i||this.needsUpdate();r&&(i=d2(this.renderLayers(),Boolean),this.internalState.subLayers=i),sa("compositeLayer.renderLayers",this,r,i);for(const o of i)o.parent=this}}Se(DP,"layerName","CompositeLayer");const Kxe=/([0-9]+\.?[0-9]*)(%|px)/;function nf(n){switch(typeof n){case"number":return{position:n,relative:!1};case"string":const e=Kxe.exec(n);if(e&&e.length>=3){const t="%"===e[2],i=parseFloat(e[1]);return{position:t?i/100:i,relative:t}}default:throw new Error("Could not parse position string ".concat(n))}}function rf(n,e){return n.relative?Math.round(n.position*e):n.position}class kP{constructor(e){Se(this,"id",void 0),Se(this,"viewportInstance",void 0),Se(this,"_x",void 0),Se(this,"_y",void 0),Se(this,"_width",void 0),Se(this,"_height",void 0),Se(this,"_padding",void 0),Se(this,"props",void 0);const{id:t,x:i=0,y:r=0,width:o="100%",height:s="100%",padding:a=null,viewportInstance:c}=e||{};Ls(!c||c instanceof Zh),this.viewportInstance=c,this.id=t||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=nf(i),this._y=nf(r),this._width=nf(o),this._height=nf(s),this._padding=a&&{left:nf(a.left||0),right:nf(a.right||0),top:nf(a.top||0),bottom:nf(a.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e||(this.viewportInstance?!!e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):this.ViewportType===e.ViewportType&&F_(this.props,e.props))}makeViewport({width:e,height:t,viewState:i}){if(this.viewportInstance)return this.viewportInstance;i=this.filterViewState(i);const r=this.getDimensions({width:e,height:t});return new this.ViewportType({...i,...this.props,...r})}getViewStateId(){const{viewState:e}=this.props;return"string"==typeof e?e:e?.id||this.id}filterViewState(e){if(this.props.viewState&&"object"==typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;const t={...e};for(const i in this.props.viewState)"id"!==i&&(t[i]=this.props.viewState[i]);return t}return e}getDimensions({width:e,height:t}){const i={x:rf(this._x,e),y:rf(this._y,t),width:rf(this._width,e),height:rf(this._height,t)};return this._padding&&(i.padding={left:rf(this._padding.left,e),top:rf(this._padding.top,t),right:rf(this._padding.right,e),bottom:rf(this._padding.bottom,t)}),i}get controller(){const e=this.props.controller;return e?!0===e?{type:this.ControllerType}:"function"==typeof e?{type:e}:{type:this.ControllerType,...e}:null}}const qxe=(new Nt).lookAt({eye:[0,0,1]});function Jxe({width:n,height:e,near:t,far:i,padding:r}){let o=-n/2,s=n/2,a=-e/2,c=e/2;if(r){const{left:l=0,right:d=0,top:h=0,bottom:p=0}=r,_=Fs((l+n-d)/2,0,n)-n/2,v=Fs((h+e-p)/2,0,e)-e/2;o-=_,s-=_,a+=v,c+=v}return(new Nt).ortho({left:o,right:s,bottom:a,top:c,near:t,far:i})}class Zxe extends Zh{constructor(e){const{width:t,height:i,near:r=.1,far:o=1e3,zoom:s=0,target:a=[0,0,0],padding:c=null,flipY:l=!0}=e,d=Array.isArray(s)?s[0]:s,h=Array.isArray(s)?s[1]:s,p=Math.min(d,h),_=Math.pow(2,p);let v;if(d!==h){const A=Math.pow(2,d),P=Math.pow(2,h);v={unitsPerMeter:[A/_,P/_,1],metersPerUnit:[_/A,_/P,1]}}super({...e,longitude:void 0,position:a,viewMatrix:qxe.clone().scale([_,_*(l?-1:1),_]),projectionMatrix:Jxe({width:t||1,height:i||1,padding:c,near:r,far:o}),zoom:p,distanceScales:v})}projectFlat([e,t]){const{unitsPerMeter:i}=this.distanceScales;return[e*i[0],t*i[1]]}unprojectFlat([e,t]){const{metersPerUnit:i}=this.distanceScales;return[e*i[0],t*i[1]]}panByPosition(e,t){const i=q0(t,this.pixelUnprojectionMatrix),o=kS([],this.projectFlat(e),v9([],i)),s=kS([],this.center,o);return{target:this.unprojectFlat(s)}}}const y7=()=>{},Qxe=n=>n;class tEe{constructor(e){Se(this,"getControllerState",void 0),Se(this,"props",void 0),Se(this,"propsInTransition",void 0),Se(this,"transition",void 0),Se(this,"onViewStateChange",void 0),Se(this,"onStateChange",void 0),Se(this,"_onTransitionUpdate",t=>{const{time:i,settings:{interpolator:r,startProps:o,endProps:s,duration:a,easing:c}}=t,l=c(i/a),d=r.interpolateProps(o,s,l);this.propsInTransition=this.getControllerState({...this.props,...d}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})}),this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new X0(e.timeline),this.onViewStateChange=e.onViewStateChange||y7,this.onStateChange=e.onStateChange||y7}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let t=!1;const i=this.props;if(this.props=e,!i||this._shouldIgnoreViewportChange(i,e))return!1;if(this._isTransitionEnabled(e)){let r=i;if(this.transition.inProgress){const{interruption:o,endProps:s}=this.transition.settings;r={...i,...2===o?s:this.propsInTransition||i}}this._triggerTransition(r,e),t=!0}else this.transition.cancel();return t}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:t,transitionInterpolator:i}=e;return(t>0||"auto"===t)&&!!i}_isUpdateDueToCurrentTransition(e){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}_shouldIgnoreViewportChange(e,t){return this.transition.inProgress?3===this.transition.settings.interruption||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}_triggerTransition(e,t){const i=this.getControllerState(e),r=this.getControllerState(t).shortestPathFrom(i),o=t.transitionInterpolator,s=o.getDuration?o.getDuration(e,t):t.transitionDuration;if(0===s)return;const a=o.initializeProps(e,r);this.propsInTransition={};const c={duration:s,easing:t.transitionEasing||Qxe,interpolator:o,interruption:t.transitionInterruption||1,startProps:a.start,endProps:a.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)};this.transition.start(c),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return t=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e?.(t)}}}class nEe{constructor(e){Se(this,"_propsToCompare",void 0),Se(this,"_propsToExtract",void 0),Se(this,"_requiredProps",void 0);const{compare:t,extract:i,required:r}=e;this._propsToCompare=t,this._propsToExtract=i||t,this._requiredProps=r}arePropsEqual(e,t){for(const i of this._propsToCompare)if(!(i in e)||!(i in t)||!C_(e[i],t[i]))return!1;return!0}initializeProps(e,t){const i={},r={};for(const o of this._propsToExtract)(o in e||o in t)&&(i[o]=e[o],r[o]=t[o]);return this._checkRequiredProps(i),this._checkRequiredProps(r),{start:i,end:r}}getDuration(e,t){return t.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach(t=>{const i=e[t];Ls(Number.isFinite(i)||Array.isArray(i),"".concat(t," is required for transition"))})}}const iEe=["longitude","latitude","zoom","bearing","pitch"],rEe=["longitude","latitude","zoom"];class GS extends nEe{constructor(e={}){const t=Array.isArray(e)?e:e.transitionProps,i=Array.isArray(e)?{}:e;i.transitionProps=Array.isArray(t)?{compare:t,required:t}:t||{compare:iEe,required:rEe},super(i.transitionProps),Se(this,"opts",void 0),this.opts=i}initializeProps(e,t){const i=super.initializeProps(e,t),{makeViewport:r,around:o}=this.opts;if(r&&o){const s=r(e),a=r(t),c=s.unproject(o);i.start.around=o,Object.assign(i.end,{around:a.project(c),aroundPosition:c,width:t.width,height:t.height})}return i}interpolateProps(e,t,i){const r={};for(const o of this._propsToExtract)r[o]=hS(e[o]||0,t[o]||0,i);if(t.aroundPosition&&this.opts.makeViewport){const o=this.opts.makeViewport({...t,...r});Object.assign(r,o.panByPosition(t.aroundPosition,hS(e.around,t.around,i)))}return r}}const sf={transitionDuration:0},WS=n=>1-(1-n)*(1-n),U__WHEEL=["wheel"],U__PAN=["panstart","panmove","panend"],U__PINCH=["pinchstart","pinchmove","pinchend"],U__TRIPLE_PAN=["tripanstart","tripanmove","tripanend"],U__DOUBLE_TAP=["doubletap"],U__KEYBOARD=["keydown"],zp={};class RP{constructor(e){Se(this,"props",void 0),Se(this,"state",{}),Se(this,"transitionManager",void 0),Se(this,"eventManager",void 0),Se(this,"onViewStateChange",void 0),Se(this,"onStateChange",void 0),Se(this,"makeViewport",void 0),Se(this,"_controllerState",void 0),Se(this,"_events",{}),Se(this,"_interactionState",{isDragging:!1}),Se(this,"_customEvents",[]),Se(this,"_eventStartBlocked",null),Se(this,"_panMove",!1),Se(this,"invertPan",!1),Se(this,"dragMode","rotate"),Se(this,"inertia",0),Se(this,"scrollZoom",!0),Se(this,"dragPan",!0),Se(this,"dragRotate",!0),Se(this,"doubleClickZoom",!0),Se(this,"touchZoom",!0),Se(this,"touchRotate",!1),Se(this,"keyboard",!0),this.transitionManager=new tEe({...e,getControllerState:t=>new this.ControllerState(t),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){for(const t in this._events)if(this._events[t]){var e;null===(e=this.eventManager)||void 0===e||e.off(t,this.handleEvent)}this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const t=this._eventStartBlocked;switch(e.type){case"panstart":return!t&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!t&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!t&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:t,y:i}=this.props,{offsetCenter:r}=e;return[r.x-t,r.y-i]}isPointInBounds(e,t){const{width:i,height:r}=this.props;if(t&&t.handled)return!1;const o=e[0]>=0&&e[0]<=i&&e[1]>=0&&e[1]<=r;return o&&t&&t.stopPropagation(),o}isFunctionKeyPressed(e){const{srcEvent:t}=e;return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const t=setTimeout(()=>{this._eventStartBlocked===t&&(this._eventStartBlocked=null)},e);this._eventStartBlocked=t}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:t}=e;this.inertia=Number.isFinite(t)?t:!0===t?300:0;const{scrollZoom:i=!0,dragPan:r=!0,dragRotate:o=!0,doubleClickZoom:s=!0,touchZoom:a=!0,touchRotate:c=!1,keyboard:l=!0}=e,d=!!this.onViewStateChange;this.toggleEvents(U__WHEEL,d&&i),this.toggleEvents(U__PAN,d&&(r||o)),this.toggleEvents(U__PINCH,d&&(a||c)),this.toggleEvents(U__TRIPLE_PAN,d&&c),this.toggleEvents(U__DOUBLE_TAP,d&&s),this.toggleEvents(U__KEYBOARD,d&&l),this.scrollZoom=i,this.dragPan=r,this.dragRotate=o,this.doubleClickZoom=s,this.touchZoom=a,this.touchRotate=c,this.keyboard=l}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,t){this.eventManager&&e.forEach(i=>{this._events[i]!==t&&(this._events[i]=t,t?this.eventManager.on(i,this.handleEvent):this.eventManager.off(i,this.handleEvent))})}updateViewport(e,t=null,i={}){const r={...e.getViewportProps(),...t},o=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(i),o){const s=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:r,interactionState:this._interactionState,oldViewState:s})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;let i=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(i=!i);const r=this.controllerState[i?"panStart":"rotateStart"]({pos:t});return this._panMove=i,this.updateViewport(r,sf,{isDragging:!0}),!0}_onPan(e){return!!this.isDragging()&&(this._panMove?this._onPanMove(e):this._onPanRotate(e))}_onPanEnd(e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e))}_onPanMove(e){if(!this.dragPan)return!1;const t=this.getCenter(e),i=this.controllerState.pan({pos:t});return this.updateViewport(i,sf,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:t}=this;if(this.dragPan&&t&&e.velocity){const i=this.getCenter(e),o=this.controllerState.pan({pos:[i[0]+e.velocityX*t/2,i[1]+e.velocityY*t/2]}).panEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:WS},{isDragging:!1,isPanning:!0})}else{const i=this.controllerState.panEnd();this.updateViewport(i,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const t=this.getCenter(e),i=this.controllerState.rotate({pos:t});return this.updateViewport(i,sf,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:t}=this;if(this.dragRotate&&t&&e.velocity){const i=this.getCenter(e),o=this.controllerState.rotate({pos:[i[0]+e.velocityX*t/2,i[1]+e.velocityY*t/2]}).rotateEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:WS},{isDragging:!1,isRotating:!0})}else{const i=this.controllerState.rotateEnd();this.updateViewport(i,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;e.srcEvent.preventDefault();const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const{speed:i=.01,smooth:r=!1}=!0===this.scrollZoom?{}:this.scrollZoom,{delta:o}=e;let s=2/(1+Math.exp(-Math.abs(o*i)));o<0&&0!==s&&(s=1/s);const a=this.controllerState.zoom({pos:t,scale:s});return this.updateViewport(a,{...this._getTransitionProps({around:t}),transitionDuration:r?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.controllerState.rotateStart({pos:t});return this.updateViewport(i,sf,{isDragging:!0}),!0}_onTriplePan(e){if(!this.touchRotate||!this.isDragging())return!1;const t=this.getCenter(e);t[0]-=e.deltaX;const i=this.controllerState.rotate({pos:t});return this.updateViewport(i,sf,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this;if(this.touchRotate&&t&&e.velocityY){const i=this.getCenter(e),r=[i[0],i[1]+=e.velocityY*t/2],o=this.controllerState.rotate({pos:r});this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:WS},{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{const i=this.controllerState.rotateEnd();this.updateViewport(i,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return zp._startPinchRotation=e.rotation,zp._lastPinchEvent=e,this.updateViewport(i,sf,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let t=this.controllerState;if(this.touchZoom){const{scale:i}=e,r=this.getCenter(e);t=t.zoom({pos:r,scale:i})}if(this.touchRotate){const{rotation:i}=e;t=t.rotate({deltaAngleX:zp._startPinchRotation-i})}return this.updateViewport(t,sf,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),zp._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this,{_lastPinchEvent:i}=zp;if(this.touchZoom&&t&&i&&e.scale!==i.scale){const r=this.getCenter(e);let o=this.controllerState.rotateEnd();const s=Math.log2(e.scale),a=(s-Math.log2(i.scale))/(e.deltaTime-i.deltaTime),c=Math.pow(2,s+a*t/2);o=o.zoom({pos:r,scale:c}).zoomEnd(),this.updateViewport(o,{...this._getTransitionProps({around:r}),transitionDuration:t,transitionEasing:WS},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{const r=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(r,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return zp._startPinchRotation=null,zp._lastPinchEvent=null,!0}_onDoubleTap(e){if(!this.doubleClickZoom)return!1;const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.isFunctionKeyPressed(e),r=this.controllerState.zoom({pos:t,scale:i?.5:2});return this.updateViewport(r,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const t=this.isFunctionKeyPressed(e),{zoomSpeed:i,moveSpeed:r,rotateSpeedX:o,rotateSpeedY:s}=!0===this.keyboard?{}:this.keyboard,{controllerState:a}=this;let c;const l={};switch(e.srcEvent.code){case"Minus":c=t?a.zoomOut(i).zoomOut(i):a.zoomOut(i),l.isZooming=!0;break;case"Equal":c=t?a.zoomIn(i).zoomIn(i):a.zoomIn(i),l.isZooming=!0;break;case"ArrowLeft":t?(c=a.rotateLeft(o),l.isRotating=!0):(c=a.moveLeft(r),l.isPanning=!0);break;case"ArrowRight":t?(c=a.rotateRight(o),l.isRotating=!0):(c=a.moveRight(r),l.isPanning=!0);break;case"ArrowUp":t?(c=a.rotateUp(s),l.isRotating=!0):(c=a.moveUp(r),l.isPanning=!0);break;case"ArrowDown":t?(c=a.rotateDown(s),l.isRotating=!0):(c=a.moveDown(r),l.isPanning=!0);break;default:return!1}return this.updateViewport(c,this._getTransitionProps(),l),!0}_getTransitionProps(e){const{transition:t}=this;return t&&t.transitionInterpolator?e?{...t,transitionInterpolator:new GS({...e,...t.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:t:sf}}class v7{constructor(e,t){Se(this,"_viewportProps",void 0),Se(this,"_state",void 0),this._viewportProps=this.applyConstraints(e),this._state=t}getViewportProps(){return this._viewportProps}getState(){return this._state}}class w7 extends v7{constructor(e){const{width:t,height:i,rotationX:r=0,rotationOrbit:o=0,target:s=[0,0,0],zoom:a=0,minRotationX:c=-90,maxRotationX:l=90,minZoom:d=-1/0,maxZoom:h=1/0,startPanPosition:p,startRotatePos:_,startRotationX:v,startRotationOrbit:A,startZoomPosition:P,startZoom:X}=e;super({width:t,height:i,rotationX:r,rotationOrbit:o,target:s,zoom:a,minRotationX:c,maxRotationX:l,minZoom:d,maxZoom:h},{startPanPosition:p,startRotatePos:_,startRotationX:v,startRotationOrbit:A,startZoomPosition:P,startZoom:X}),Se(this,"makeViewport",void 0),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanPosition:this._unproject(e)})}pan({pos:e,startPosition:t}){const i=this.getState().startPanPosition||t;if(!i)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(i,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:i=0}){const{startRotatePos:r,startRotationX:o,startRotationOrbit:s}=this.getState(),{width:a,height:c}=this.getViewportProps();if(!r||void 0===o||void 0===s)return this;let l;if(e){let d=(e[0]-r[0])/a;(o<-90||o>90)&&(d*=-1),l={rotationX:o+(e[1]-r[1])/c*180,rotationOrbit:s+180*d}}else l={rotationX:o+i,rotationOrbit:s+t};return this._getUpdatedState(l)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(e){const t=e.getViewportProps(),i={...this.getViewportProps()},{rotationOrbit:r}=i;return Math.abs(r-t.rotationOrbit)>180&&(i.rotationOrbit=r<0?r+360:r-360),i}zoomStart({pos:e}){return this._getUpdatedState({startZoomPosition:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:t,scale:i}){let{startZoom:r,startZoomPosition:o}=this.getState();if(o||(r=this.getViewportProps().zoom,o=this._unproject(t)||this._unproject(e)),!o)return this;const s=this._calculateNewZoom({scale:i,startZoom:r}),a=this.makeViewport({...this.getViewportProps(),zoom:s});return this._getUpdatedState({zoom:s,...a.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:e})})}zoomOut(e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/e})})}moveLeft(e=50){return this._panFromCenter([-e,0])}moveRight(e=50){return this._panFromCenter([e,0])}moveUp(e=50){return this._panFromCenter([0,-e])}moveDown(e=50){return this._panFromCenter([0,e])}rotateLeft(e=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-e})}rotateRight(e=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+e})}rotateUp(e=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-e})}rotateDown(e=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_calculateNewZoom({scale:e,startZoom:t}){const{maxZoom:i,minZoom:r}=this.getViewportProps();return void 0===t&&(t=this.getViewportProps().zoom),Fs(t+Math.log2(e),r,i)}_panFromCenter(e){const{width:t,height:i,target:r}=this.getViewportProps();return this.pan({startPosition:r,pos:[t/2+e[0],i/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}applyConstraints(e){const{maxZoom:t,minZoom:i,zoom:r,maxRotationX:o,minRotationX:s,rotationOrbit:a}=e;return e.zoom=Array.isArray(r)?[Fs(r[0],i,t),Fs(r[1],i,t)]:Fs(r,i,t),e.rotationX=Fs(e.rotationX,s,o),(a<-180||a>180)&&(e.rotationOrbit=function X_e(n,e){const t=n%e;return t<0?e+t:t}(a+180,360)-180),e}}class sEe extends RP{constructor(...e){super(...e),Se(this,"ControllerState",w7),Se(this,"transition",{transitionDuration:300,transitionInterpolator:new GS({transitionProps:{compare:["target","zoom","rotationX","rotationOrbit"],required:["target","zoom"]}})})}}class aEe extends w7{constructor(e){super(e),Se(this,"zoomAxis",void 0),this.zoomAxis=e.zoomAxis||"all"}_calculateNewZoom({scale:e,startZoom:t}){const{maxZoom:i,minZoom:r}=this.getViewportProps();void 0===t&&(t=this.getViewportProps().zoom);let o=Math.log2(e);if(Array.isArray(t)){let[s,a]=t;switch(this.zoomAxis){case"X":s=Fs(s+o,r,i);break;case"Y":a=Fs(a+o,r,i);break;default:let c=Math.min(s+o,a+o);c<r&&(o+=r-c),c=Math.max(s+o,a+o),c>i&&(o+=i-c),s+=o,a+=o}return[s,a]}return Fs(t+o,r,i)}}class cEe extends RP{constructor(...e){super(...e),Se(this,"ControllerState",aEe),Se(this,"transition",{transitionDuration:300,transitionInterpolator:new GS(["target","zoom"])}),Se(this,"dragMode","pan")}_onPanRotate(){return!1}}class PP extends kP{get ViewportType(){return Zxe}get ControllerType(){return cEe}}Se(PP,"displayName","OrthographicView");const NP=Math.PI/180;function lEe({height:n,focalDistance:e,orbitAxis:t,rotationX:i,rotationOrbit:r,zoom:o}){const s="Z"===t?[0,0,1]:[0,1,0],a="Z"===t?[0,-e,0]:[0,0,e],c=(new Nt).lookAt({eye:a,up:s});c.rotateX(i*NP),"Z"===t?c.rotateZ(r*NP):c.rotateY(r*NP);const l=Math.pow(2,o)/n;return c.scale(l),c}class dEe extends Zh{constructor(e){const{height:t,projectionMatrix:i,fovy:r=50,orbitAxis:o="Z",target:s=[0,0,0],rotationX:a=0,rotationOrbit:c=0,zoom:l=0}=e,d=i?i[5]/2:j2(r);super({...e,longitude:void 0,viewMatrix:lEe({height:t||1,focalDistance:d,orbitAxis:o,rotationX:a,rotationOrbit:c,zoom:l}),fovy:r,focalDistance:d,position:s,zoom:l}),Se(this,"projectedCenter",void 0),this.projectedCenter=this.project(this.center)}unproject(e,{topLeft:t=!0}={}){const[i,r,o=this.projectedCenter[2]]=e,s=t?r:this.height-r,[a,c,l]=q0([i,s,o],this.pixelUnprojectionMatrix);return[a,c,l]}panByPosition(e,t){const i=this.project(e);return{target:this.unproject([this.width/2+i[0]-t[0],this.height/2+i[1]-t[1],this.projectedCenter[2]])}}}class x7 extends kP{constructor(e={}){super(e),this.props.orbitAxis=e.orbitAxis||"Z"}get ViewportType(){return dEe}get ControllerType(){return sEe}}Se(x7,"displayName","OrbitView");const uEe=[255,255,255],hEe=1;let fEe=0;class E7{constructor(e={}){Se(this,"id",void 0),Se(this,"color",void 0),Se(this,"intensity",void 0),Se(this,"type","ambient");const{color:t=uEe}=e,{intensity:i=hEe}=e;this.id=e.id||"ambient-".concat(fEe++),this.color=t,this.intensity=i}}const pEe=[255,255,255],mEe=1,gEe=[0,0,-1];let _Ee=0;class C7{constructor(e={}){Se(this,"id",void 0),Se(this,"color",void 0),Se(this,"intensity",void 0),Se(this,"type","directional"),Se(this,"direction",void 0),Se(this,"shadow",void 0);const{color:t=pEe}=e,{intensity:i=mEe}=e,{direction:r=gEe}=e,{_shadow:o=!1}=e;this.id=e.id||"directional-".concat(_Ee++),this.color=t,this.intensity=i,this.type="directional",this.direction=new oa(r).normalize().toArray(),this.shadow=o}getProjectedLight(e){return this}}class bEe{constructor(e,t={id:"pass"}){Se(this,"id",void 0),Se(this,"gl",void 0),Se(this,"props",void 0);const{id:i}=t;this.id=i,this.gl=e,this.props={...t}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class $S extends bEe{constructor(...e){super(...e),Se(this,"_lastRenderIndex",-1)}render(e){return Iu(this.gl,{framebuffer:e.target}),this._drawLayers(e)}_drawLayers(e){const{target:t,moduleParameters:i,viewports:r,views:o,onViewportActive:s,clearStack:a=!0,clearCanvas:c=!0}=e;e.pass=e.pass||"unknown";const l=this.gl;c&&function vEe(n){Iu(n,{viewport:[0,0,n.drawingBufferWidth,n.drawingBufferHeight]}),n.clear(16640)}(l),a&&(this._lastRenderIndex=-1);const d=[];for(const h of r){const p=o&&o[h.id];s(h);const _=this._getDrawLayerParams(h,e),v=h.subViewports||[h];for(const A of v){const P=this._drawLayersInViewport(l,{target:t,moduleParameters:i,viewport:A,view:p,pass:e.pass,layers:e.layers},_);d.push(P)}}return d}_getDrawLayerParams(e,{layers:t,pass:i,layerFilter:r,cullRect:o,effects:s,moduleParameters:a}){const c=[],l=S7(this._lastRenderIndex+1),d={layer:t[0],viewport:e,isPicking:i.startsWith("picking"),renderPass:i,cullRect:o},h={};for(let p=0;p<t.length;p++){const _=t[p],v=this._shouldDrawLayer(_,d,r,h),A={shouldDrawLayer:v};v&&(A.layerRenderIndex=l(_,v),A.moduleParameters=this._getModuleParameters(_,s,i,a),A.layerParameters=this.getLayerParameters(_,p,e)),c[p]=A}return c}_drawLayersInViewport(e,{layers:t,moduleParameters:i,pass:r,target:o,viewport:s,view:a},c){const l=function yEe(n,{moduleParameters:e,target:t,viewport:i}){const r=t&&"default-framebuffer"!==t.id,o=e&&e.devicePixelRatio||v_(n);return[i.x*o,(r?t.height:n.drawingBufferHeight)-(i.y+i.height)*o,i.width*o,i.height*o]}(e,{moduleParameters:i,target:o,viewport:s});if(a&&a.props.clear){const h=!0===a.props.clear?{color:!0,depth:!0}:a.props.clear;Gc(e,{scissorTest:!0,scissor:l},()=>e2(e,h))}const d={totalCount:t.length,visibleCount:0,compositeCount:0,pickableCount:0};Iu(e,{viewport:l});for(let h=0;h<t.length;h++){const p=t[h],{shouldDrawLayer:_,layerRenderIndex:v,moduleParameters:A,layerParameters:P}=c[h];if(_&&p.props.pickable&&d.pickableCount++,p.isComposite)d.compositeCount++;else if(_){d.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,v),A.viewport=s;try{p._drawLayer({moduleParameters:A,uniforms:{layerIndex:v},parameters:P})}catch(X){p.raiseError(X,"drawing ".concat(p," to ").concat(r))}}}return d}shouldDrawLayer(e){return!0}getModuleParameters(e,t){return null}getLayerParameters(e,t,i){return e.props.parameters}_shouldDrawLayer(e,t,i,r){if(!e.props.visible||!this.shouldDrawLayer(e))return!1;t.layer=e;let s=e.parent;for(;s;){if(!s.props.visible||!s.filterSubLayer(t))return!1;t.layer=s,s=s.parent}if(i){const a=t.layer.id;if(a in r||(r[a]=i(t)),!r[a])return!1}return e.activateViewport(t.viewport),!0}_getModuleParameters(e,t,i,r){var o;const s=Object.assign(Object.create((null===(o=e.internalState)||void 0===o?void 0:o.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:v_(this.gl)});if(t)for(const c of t){var a;Object.assign(s,null===(a=c.getModuleParameters)||void 0===a?void 0:a.call(c,e))}return Object.assign(s,this.getModuleParameters(e,t),r)}}function S7(n=0,e={}){const t={},i=(r,o)=>{const s=r.props._offset,a=r.id,c=r.parent&&r.parent.id;let l;if(c&&!(c in e)&&i(r.parent,!1),c in t){const d=t[c]=t[c]||S7(e[c],e);l=d(r,o),t[a]=d}else Number.isFinite(s)?(l=s+(e[c]||0),t[a]=null):l=n;return o&&l>=n&&(n=l+1),e[a]=l,l};return i}class wEe extends $S{constructor(e,t){super(e,t),Se(this,"shadowMap",void 0),Se(this,"depthBuffer",void 0),Se(this,"fbo",void 0),this.shadowMap=new Ns(e,{width:1,height:1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.depthBuffer=new E_(e,{format:33189,width:1,height:1}),this.fbo=new Ho(e,{id:"shadowmap",width:1,height:1,attachments:{36064:this.shadowMap,36096:this.depthBuffer}})}render(e){const t=this.fbo;Gc(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},()=>{const i=e.viewports[0],r=v_(this.gl),o=i.width*r,s=i.height*r;(o!==t.width||s!==t.height)&&t.resize({width:o,height:s}),super.render({...e,target:t,pass:"shadow"})})}shouldDrawLayer(e){return!1!==e.props.shadowEnabled}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}const A7="#define SMOOTH_EDGE_RADIUS 0.5",SEe={name:"geometry",vs:"\n".concat(A7,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(A7,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")},AEe=Object.keys(qi).map(n=>"const int COORDINATE_SYSTEM_".concat(n," = ").concat(qi[n],";")).join(""),MEe=Object.keys(fd).map(n=>"const int PROJECTION_MODE_".concat(n," = ").concat(fd[n],";")).join(""),TEe=Object.keys(cS).map(n=>"const int UNIT_".concat(n.toUpperCase()," = ").concat(cS[n],";")).join(""),IEe="".concat(AEe,"\n").concat(MEe,"\n").concat(TEe,'\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0; // meters\nconst float GLOBE_RADIUS = 256.0;\n\n// returns an adjustment factor for uCommonUnitsPerMeter\nfloat project_size_at_latitude(float lat) {\n  float y = clamp(lat, -89.9, 89.9);\n  return 1.0 / cos(radians(y));\n}\n\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n\n    // uCommonUnitsPerMeter in low-zoom Web Mercator is non-linear\n    // Adjust by 1 / cos(latitude)\n    // If geometry.position (vertex in common space) is populated, use it\n    // Otherwise use geometry.worldPosition (anchor in world space)\n    \n    if (geometry.position.w == 0.0) {\n      return project_size_at_latitude(geometry.worldPosition.y);\n    }\n\n    // latitude from common y: 2.0 * (atan(exp(y / TILE_SIZE * 2.0 * PI - PI)) - PI / 4.0)\n    // Taylor series of 1 / cos(latitude)\n    // Max error < 0.003\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n\nfloat project_size_at_latitude(float meters, float lat) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);\n}\n\n//\n// Scaling offsets - scales meters to "world distance"\n// Note the scalar version of project_size is for scaling the z component only\n//\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\n\n// Get rotation matrix that aligns the z axis with the given up vector\n// Find 3 unit vectors ux, uy, uz that are perpendicular to each other and uz == up\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  // Tangent on XY plane\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\n\n//\n// Projects positions (defined by project_uCoordinateSystem) to common space (defined by project_uProjectionMode)\n//\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n\n  // Work around for a Mac+NVIDIA bug https://github.com/visgl/deck.gl/issues/4145\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size_at_latitude(position_world.z, position_world.y),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        // Too far from the projection center for offset mode to be accurate\n        // Only use high parts\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    // Subtract high part of 64 bit value. Convert remainder to float32, preserving precision.\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n\n  // Translation is already added to the high parts\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\n\n//\n// Projects from common space coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\n\n// Returns a clip space offset that corresponds to a given number of screen pixels\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  // UNIT_PIXELS\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n'),DEe={},FP={name:"project",dependencies:[{name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null},SEe],vs:IEe,getUniforms:function kEe(n=DEe){return"viewport"in n?function D0e({viewport:n,devicePixelRatio:e=1,modelMatrix:t=null,coordinateSystem:i=qi.DEFAULT,coordinateOrigin:r=b9,autoWrapLongitude:o=!1}){i===qi.DEFAULT&&(i=n.isGeospatial?qi.LNGLAT:qi.CARTESIAN);const s=T0e({viewport:n,devicePixelRatio:e,coordinateSystem:i,coordinateOrigin:r});return s.project_uWrapLongitude=o,s.project_uModelMatrix=t||_9,s}(n):{}}},PEe=IS(function UEe({viewport:n,center:e}){return new Nt(n.viewProjectionMatrix).invert().transform(e)}),NEe=IS(function VEe({viewport:n,shadowMatrices:e}){const t=[],i=n.pixelUnprojectionMatrix,r=n.isGeospatial?void 0:1,o=[[0,0,r],[n.width,0,r],[0,n.height,r],[n.width,n.height,r],[0,0,-1],[n.width,0,-1],[0,n.height,-1],[n.width,n.height,-1]].map(s=>function BEe(n,e){const[t,i,r]=n,o=q0([t,i,r],e);return Number.isFinite(r)?o:[o[0],o[1],0]}(s,i));for(const s of e){const a=s.clone().translate(new oa(n.center).negate()),c=o.map(d=>a.transform(d)),l=(new Nt).ortho({left:Math.min(...c.map(d=>d[0])),right:Math.max(...c.map(d=>d[0])),bottom:Math.min(...c.map(d=>d[1])),top:Math.max(...c.map(d=>d[1])),near:Math.min(...c.map(d=>-d[2])),far:Math.max(...c.map(d=>-d[2]))});t.push(l.multiplyRight(s))}return t}),FEe=[0,0,0,1],LEe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],LP={name:"shadow",dependencies:[FP],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:(n={},e={})=>"viewport"in n&&(n.drawToShadowMap||n.shadowMaps&&n.shadowMaps.length>0)?function jEe(n,e){const{shadowEnabled:t=!0}=n;if(!t||!n.shadowMatrices||!n.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};const i={shadow_uDrawShadowMap:!!n.drawToShadowMap,shadow_uUseShadowMap:!!n.shadowMaps&&n.shadowMaps.length>0,shadow_uColor:n.shadowColor||FEe,shadow_uLightId:n.shadowLightId||0,shadow_uLightCount:n.shadowMatrices.length},r=PEe({viewport:n.viewport,center:e.project_uCenter}),o=[],s=NEe({shadowMatrices:n.shadowMatrices,viewport:n.viewport}).slice();for(let a=0;a<n.shadowMatrices.length;a++){const c=s[a],l=c.clone().translate(new oa(n.viewport.center).negate());e.project_uCoordinateSystem===qi.LNGLAT&&e.project_uProjectionMode===fd.WEB_MERCATOR?(s[a]=l,o[a]=r):(s[a]=c.clone().multiplyRight(LEe),o[a]=l.transform(r))}for(let a=0;a<s.length;a++)i["shadow_uViewProjectionMatrices[".concat(a,"]")]=s[a],i["shadow_uProjectCenters[".concat(a,"]")]=o[a],i["shadow_uShadowMap".concat(a)]=n.shadowMaps&&n.shadowMaps.length>0?n.shadowMaps[a]:n.dummyShadowMap;return i}(n,e):{}},zEe={color:[255,255,255],intensity:1},M7=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],HEe=[0,0,0,200/255];class BP{constructor(e={}){Se(this,"id","lighting-effect"),Se(this,"props",null),Se(this,"shadowColor",HEe),Se(this,"shadow",void 0),Se(this,"ambientLight",null),Se(this,"directionalLights",[]),Se(this,"pointLights",[]),Se(this,"shadowPasses",[]),Se(this,"shadowMaps",[]),Se(this,"dummyShadowMap",null),Se(this,"programManager",void 0),Se(this,"shadowMatrices",void 0);for(const t in e){const i=e[t];switch(i.type){case"ambient":this.ambientLight=i;break;case"directional":this.directionalLights.push(i);break;case"point":this.pointLights.push(i)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(t=>t.shadow)}preRender(e,{layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s}){if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=$0.getDefaultProgramManager(e),LP&&this.programManager.addDefaultModule(LP)),this.dummyShadowMap||(this.dummyShadowMap=new Ns(e,{width:1,height:1}));for(let a=0;a<this.shadowPasses.length;a++)this.shadowPasses[a].render({layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s,moduleParameters:{shadowLightId:a,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}getModuleParameters(e){const t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(i=>i.getProjectedLight({layer:e})),pointLights:this.pointLights.map(i=>i.getProjectedLight({layer:e}))},t}cleanup(){for(const e of this.shadowPasses)e.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(LP),this.programManager=null)}_calculateMatrices(){const e=[];for(const t of this.directionalLights){const i=(new Nt).lookAt({eye:new oa(t.direction).negate()});e.push(i)}return e}_createShadowPasses(e){for(let t=0;t<this.directionalLights.length;t++){const i=new wEe(e);this.shadowPasses[t]=i,this.shadowMaps[t]=i.shadowMap}}_applyDefaultLights(){const{ambientLight:e,pointLights:t,directionalLights:i}=this;!e&&0===t.length&&0===i.length&&(this.ambientLight=new E7(zEe),this.directionalLights.push(new C7(M7[0]),new C7(M7[1])))}}let GEe=1,WEe=1;class T7{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(e){const{delay:t=0,duration:i=Number.POSITIVE_INFINITY,rate:r=1,repeat:o=1}=e,s=GEe++,a={time:0,delay:t,duration:i,rate:r,repeat:o};return this._setChannelTime(a,this.time),this.channels.set(s,a),s}removeChannel(e){this.channels.delete(e);for(const[t,i]of this.animations)i.channel===e&&this.detachAnimation(t)}isFinished(e){const t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}getTime(e){if(void 0===e)return this.time;const t=this.channels.get(e);return void 0===t?-1:t.time}setTime(e){this.time=Math.max(0,e);const t=this.channels.values();for(const r of t)this._setChannelTime(r,this.time);const i=this.animations.values();for(const r of i){const{animation:o,channel:s}=r;o.setTime(this.getTime(s))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,t){const i=WEe++;return this.animations.set(i,{animation:e,channel:t}),e.setTime(this.getTime(t)),i}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,t){const i=t-e.delay;i>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,i)%e.duration,e.time*=e.rate)}}class $Ee{constructor(e,t,i){Se(this,"id",void 0),Se(this,"context",void 0),Se(this,"isLoaded",void 0),Se(this,"persistent",void 0),Se(this,"_loadCount",0),Se(this,"_subscribers",new Set),Se(this,"_data",void 0),Se(this,"_loader",void 0),Se(this,"_error",void 0),Se(this,"_content",void 0),this.id=e,this.context=i,this.setData(t)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(e,t){if(e===this._data&&!t)return;this._data=e;const i=++this._loadCount;let r=e;"string"==typeof e&&(r=ew(e)),r instanceof Promise?(this.isLoaded=!1,this._loader=r.then(o=>{this._loadCount===i&&(this.isLoaded=!0,this._error=void 0,this._content=o)}).catch(o=>{this._loadCount===i&&(this.isLoaded=!0,this._error=o||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const o of this._subscribers)o.onChange(this.getData())}}class YEe{constructor({gl:e,protocol:t}){Se(this,"protocol",void 0),Se(this,"_context",void 0),Se(this,"_resources",void 0),Se(this,"_consumers",void 0),Se(this,"_pruneRequest",void 0),this.protocol=t||"resource://",this._context={gl:e,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return!!e.startsWith(this.protocol)||e in this._resources}add({resourceId:e,data:t,forceUpdate:i=!1,persistent:r=!0}){let o=this._resources[e];o?o.setData(t,i):(o=new $Ee(e,t,this._context),this._resources[e]=o),o.persistent=r}remove(e){const t=this._resources[e];t&&(t.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const t=this._consumers[e];if(t){for(const i in t){const r=t[i],o=this._resources[r.resourceId];o&&o.unsubscribe(r)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:t,consumerId:i,requestId:r="default"}){const{_resources:o,protocol:s}=this;e.startsWith(s)&&(o[e=e.replace(s,"")]||this.add({resourceId:e,data:null,persistent:!1}));const a=o[e];if(this._track(i,r,a,t),a)return a.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,t,i,r){const o=this._consumers,s=o[e]=o[e]||{},a=s[t]||{},c=a.resourceId&&this._resources[a.resourceId];c&&(c.unsubscribe(a),this.prune()),i&&(s[t]=a,a.onChange=r,a.resourceId=i.id,i.subscribe(a))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const t=this._resources[e];!t.persistent&&!t.inUse()&&(t.delete(),delete this._resources[e])}}}const XEe=[FP],KEe=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function qEe(n){const e=$0.getDefaultProgramManager(n);for(const t of XEe)e.addDefaultModule(t);for(const t of KEe)e.addShaderHook(t);return e}class QEe{constructor(e,{deck:t,stats:i,viewport:r,timeline:o}={}){Se(this,"layers",void 0),Se(this,"context",void 0),Se(this,"resourceManager",void 0),Se(this,"_lastRenderedLayers",[]),Se(this,"_needsRedraw",!1),Se(this,"_needsUpdate",!1),Se(this,"_nextLayers",null),Se(this,"_debug",!1),Se(this,"activateViewport",s=>{sa("layerManager.activateViewport",this,s),s&&(this.context.viewport=s)}),this.layers=[],this.resourceManager=new YEe({gl:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:e,deck:t,programManager:e&&qEe(e),stats:i||new YR({id:"deck.gl"}),viewport:r||new Zh({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:o||new T7,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const i of this.layers){const r=i.getNeedsRedraw(e);t=t||r}return t}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter(t=>e.find(i=>0===t.id.indexOf(i))):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,t){sa("layerManager.setLayers",this,t,e),this._lastRenderedLayers=e;const i=d2(e,Boolean);for(const r of i)r.context=this.context;this._updateLayers(this.layers,i)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}_handleError(e,t,i){i.raiseError(t,"".concat(e," of ").concat(i))}_updateLayers(e,t){const i={};for(const s of e)i[s.id]?Ui.warn("Multiple old layers with same id ".concat(s.id))():i[s.id]=s;const r=[];this._updateSublayersRecursively(t,i,r),this._finalizeOldLayers(i);let o=!1;for(const s of r)if(s.hasUniformTransition()){o="Uniform transition in ".concat(s);break}this._needsUpdate=o,this.layers=r}_updateSublayersRecursively(e,t,i){for(const r of e){r.context=this.context;const o=t[r.id];null===o&&Ui.warn("Multiple new layers with same id ".concat(r.id))(),t[r.id]=null;let s=null;try{this._debug&&o!==r&&r.validateProps(),o?(this._transferLayerState(o,r),this._updateLayer(r)):this._initializeLayer(r),i.push(r),s=r.isComposite?r.getSubLayers():null}catch(a){this._handleError("matching",a,r)}s&&this._updateSublayersRecursively(s,t,i)}}_finalizeOldLayers(e){for(const t in e){const i=e[t];i&&this._finalizeLayer(i)}}_initializeLayer(e){try{e._initialize(),e.lifecycle="Initialized"}catch(t){this._handleError("initialization",t,e)}}_transferLayerState(e,t){t._transferState(e),t.lifecycle="Matched. State transferred from previous layer",t!==e&&(e.lifecycle="Discarded. Awaiting garbage collection")}_updateLayer(e){try{e._update()}catch(t){this._handleError("update",t,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle="No longer matched. Awaiting garbage collection";try{e._finalize(),e.lifecycle="Finalized! Awaiting garbage collection"}catch(t){this._handleError("finalization",t,e)}}}class e1e{constructor(e){Se(this,"width",void 0),Se(this,"height",void 0),Se(this,"views",void 0),Se(this,"viewState",void 0),Se(this,"controllers",void 0),Se(this,"timeline",void 0),Se(this,"_viewports",void 0),Se(this,"_viewportMap",void 0),Se(this,"_isUpdating",void 0),Se(this,"_needsRedraw",void 0),Se(this,"_needsUpdate",void 0),Se(this,"_eventManager",void 0),Se(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const t=this.controllers[e];t&&t.finalize()}this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const t=this.controllers[e];t&&t.updateTransition()}}getViewports(e){return e?this._viewports.filter(t=>t.containsPixel(e)):this._viewports}getViews(){const e={};return this.views.forEach(t=>{e[t.id]=t}),e}getView(e){return this.views.find(t=>t.id===e)}getViewState(e){const t="string"==typeof e?this.getView(e):e,i=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(i):i}getViewport(e){return this._viewportMap[e]}unproject(e,t){const i=this.getViewports(),r={x:e[0],y:e[1]};for(let o=i.length-1;o>=0;--o){const s=i[o];if(s.containsPixel(r)){const a=e.slice();return a[0]-=s.x,a[1]-=s.y,s.unproject(a,t)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,t){(e!==this.width||t!==this.height)&&(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}_setViews(e){e=d2(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!F_(e,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):Ui.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(e,t){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange({...t,viewId:e})}_createController(e,t){return new(0,t.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,t.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:o=>{var s;return null===(s=this.getView(e.id))||void 0===s?void 0:s.makeViewport({viewState:o,width:this.width,height:this.height})}})}_updateController(e,t,i,r){const o=e.controller;if(o){const s={...t,...o,id:e.id,x:i.x,y:i.y,width:i.width,height:i.height};return r||(r=this._createController(e,s)),r&&r.setProps(s),r}return null}_rebuildViewports(){const{views:e}=this,t=this.controllers;this._viewports=[],this.controllers={};let i=!1;for(let r=e.length;r--;){const o=e[r],s=this.getViewState(o),a=o.makeViewport({viewState:s,width:this.width,height:this.height});let c=t[o.id];const l=!!o.controller;l&&!c&&(i=!0),(i||!l)&&c&&(c.finalize(),c=null),this.controllers[o.id]=this._updateController(o,s,a,c),this._viewports.unshift(a)}for(const r in t){const o=t[r];o&&!this.controllers[r]&&o.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)})}_diffViews(e,t){return e.length!==t.length||e.some((i,r)=>!e[r].equals(t[r]))}}class n1e extends v7{constructor(e){const{width:t,height:i,latitude:r,longitude:o,zoom:s,bearing:a=0,pitch:c=0,altitude:l=1.5,position:d=[0,0,0],maxZoom:h=20,minZoom:p=0,maxPitch:_=60,minPitch:v=0,startPanLngLat:A,startZoomLngLat:P,startRotatePos:X,startBearing:Q,startPitch:pe,startZoom:Re,normalize:Ye=!0}=e;Ls(Number.isFinite(o)),Ls(Number.isFinite(r)),Ls(Number.isFinite(s)),super({width:t,height:i,latitude:r,longitude:o,zoom:s,bearing:a,pitch:c,altitude:l,maxZoom:h,minZoom:p,maxPitch:_,minPitch:v,normalize:Ye,position:d},{startPanLngLat:A,startZoomLngLat:P,startRotatePos:X,startBearing:Q,startPitch:pe,startZoom:Re}),Se(this,"makeViewport",void 0),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:t}){const i=this.getState().startPanLngLat||this._unproject(t);if(!i)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(i,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:i=0}){const{startRotatePos:r,startBearing:o,startPitch:s}=this.getState();if(!r||void 0===o||void 0===s)return this;let a;return a=e?this._getNewRotation(e,r,s,o):{bearing:o+t,pitch:s+i},this._getUpdatedState(a)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:t,scale:i}){let{startZoom:r,startZoomLngLat:o}=this.getState();if(o||(r=this.getViewportProps().zoom,o=this._unproject(t)||this._unproject(e)),!o)return this;const{maxZoom:s,minZoom:a}=this.getViewportProps();let c=r+Math.log2(i);c=Fs(c,a,s);const l=this.makeViewport({...this.getViewportProps(),zoom:c});return this._getUpdatedState({zoom:c,...l.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const t=e.getViewportProps(),i={...this.getViewportProps()},{bearing:r,longitude:o}=i;return Math.abs(r-t.bearing)>180&&(i.bearing=r<0?r+360:r-360),Math.abs(o-t.longitude)>180&&(i.longitude=o<0?o+360:o-360),i}applyConstraints(e){const{maxZoom:t,minZoom:i,zoom:r}=e;e.zoom=Fs(r,i,t);const{maxPitch:o,minPitch:s,pitch:a}=e;e.pitch=Fs(a,s,o);const{normalize:c=!0}=e;return c&&Object.assign(e,function K0e(n){const{width:e,height:t,pitch:i=0}=n;let{longitude:r,latitude:o,zoom:s,bearing:a=0}=n;(r<-180||r>180)&&(r=C9(r+180,360)-180),(a<-180||a>180)&&(a=C9(a+180,360)-180);const c=B2(t/512);if(s<=c)s=c,o=0;else{const l=t/2/Math.pow(2,s),d=N_([0,l])[1];if(o<d)o=d;else{const h=N_([0,512-l])[1];o>h&&(o=h)}}return{width:e,height:t,longitude:r,latitude:o,zoom:s,pitch:i,bearing:a}}(e)),e}_zoomFromCenter(e){const{width:t,height:i}=this.getViewportProps();return this.zoom({pos:[t/2,i/2],scale:e})}_panFromCenter(e){const{width:t,height:i}=this.getViewportProps();return this.pan({startPos:[t/2,i/2],pos:[t/2+e[0],i/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_getNewRotation(e,t,i,r){const o=e[0]-t[0],s=e[1]-t[1],a=e[1],c=t[1],{width:l,height:d}=this.getViewportProps(),h=o/l;let p=0;s>0?Math.abs(d-c)>5&&(p=s/(c-d)*1.2):s<0&&c>5&&(p=1-a/c),p=Fs(p,-1,1);const{minPitch:_,maxPitch:v}=this.getViewportProps();let P=i;return p>0?P=i+p*(v-i):p<0&&(P=i-p*(_-i)),{pitch:P,bearing:r+180*h}}}class i1e extends RP{constructor(...e){super(...e),Se(this,"ControllerState",n1e),Se(this,"transition",{transitionDuration:300,transitionInterpolator:new GS({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),Se(this,"dragMode","pan")}setProps(e){e.position=e.position||[0,0,0];const t=this.props;super.setProps(e),(!t||t.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class D7 extends kP{get ViewportType(){return Qh}get ControllerType(){return i1e}}Se(D7,"displayName","MapView");class r1e extends $S{constructor(e,t){super(e,t),Se(this,"maskMap",void 0),Se(this,"fbo",void 0);const{mapSize:i=2048}=t;this.maskMap=new Ns(e,{width:i,height:i,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.fbo=new Ho(e,{id:"maskmap",width:i,height:i,attachments:{36064:this.maskMap}})}render(e){const t=this.gl,i=[!1,!1,!1,!1];return i[e.channel]=!0,Gc(t,{clearColor:[255,255,255,255],blend:!0,blendFunc:[0,1],blendEquation:32778,colorMask:i,depthTest:!1},()=>super.render({...e,target:this.fbo,pass:"mask"}))}shouldDrawLayer(e){return"mask"===e.props.operation}delete(){this.fbo.delete(),this.maskMap.delete()}}class c1e{constructor(){Se(this,"id","mask-effect"),Se(this,"props",null),Se(this,"useInPicking",!0),Se(this,"dummyMaskMap",void 0),Se(this,"channels",[]),Se(this,"masks",null),Se(this,"maskPass",void 0),Se(this,"maskMap",void 0),Se(this,"lastViewport",void 0)}preRender(e,{layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s}){this.dummyMaskMap||(this.dummyMaskMap=new Ns(e,{width:1,height:1}));const a=t.filter(h=>h.props.visible&&"mask"===h.props.operation);if(0===a.length)return this.masks=null,void(this.channels.length=0);this.masks={},this.maskPass||(this.maskPass=new r1e(e,{id:"default-mask"}),this.maskMap=this.maskPass.maskMap);const c=this._sortMaskChannels(a),l=r[0],d=!this.lastViewport||!this.lastViewport.equals(l);for(const h in c)this._renderChannel(c[h],{layerFilter:i,onViewportActive:o,views:s,viewport:l,viewportChanged:d})}_renderChannel(e,{layerFilter:t,onViewportActive:i,views:r,viewport:o,viewportChanged:s}){const a=this.channels[e.index];if(!a)return;const c=e===a||a.layers.length!==e.layers.length||e.layerBounds.some((l,d)=>l!==a.layerBounds[d]);if(e.bounds=a.bounds,e.maskBounds=a.maskBounds,this.channels[e.index]=e,(c||s)&&(this.lastViewport=o,e.bounds=function o1e({layers:n,viewport:e}){let t=null;for(const o of n){const s=o.getBounds();s&&(t?(t[0]=Math.min(t[0],s[0][0]),t[1]=Math.min(t[1],s[0][1]),t[2]=Math.max(t[2],s[1][0]),t[3]=Math.max(t[3],s[1][1])):t=[s[0][0],s[0][1],s[1][0],s[1][1]])}const i=e.getBounds();if(!t)return i;const r=function a1e(n){const e_x=n[2]-n[0],e_y=n[3]-n[1],t_x=n[0]+.5*e_x,t_y=n[1]+.5*e_y;return[t_x-e_x,t_y-e_y,t_x+e_x,t_y+e_y]}(i);return t[2]-t[0]<r[2]-r[0]||t[3]-t[1]<r[3]-r[1]||(t[0]=Math.max(t[0],r[0]),t[1]=Math.max(t[1],r[1]),t[2]=Math.min(t[2],r[2]),t[3]=Math.min(t[3],r[3])),t}({layers:e.layers,viewport:o}),c||!C_(e.bounds,a.bounds))){const{maskPass:l,maskMap:d}=this,h=function s1e({bounds:n,viewport:e,width:t,height:i}){if(n[2]<=n[0]||n[3]<=n[1])return null;if(t-=2,i-=2,e instanceof Qh){const{longitude:a,latitude:c,zoom:l}=I9({width:t,height:i,bounds:[[n[0],n[1]],[n[2],n[3]]],maxZoom:20});return new Qh({longitude:a,latitude:c,zoom:l,x:1,y:1,width:t,height:i})}const o=[(n[0]+n[2])/2,(n[1]+n[3])/2,0],s=Math.min(20,t/(n[2]-n[0]),i/(n[3]-n[1]));return new PP({x:1,y:1}).makeViewport({width:t,height:i,viewState:{target:o,zoom:Math.log2(s)}})}({bounds:e.bounds,viewport:o,width:d.width,height:d.height});e.maskBounds=h?h.getBounds():[0,0,1,1],l.render({pass:"mask",channel:e.index,layers:e.layers,layerFilter:t,viewports:h?[h]:[],onViewportActive:i,views:r,moduleParameters:{devicePixelRatio:1}})}this.masks[e.id]={index:e.index,bounds:e.maskBounds,coordinateOrigin:e.coordinateOrigin,coordinateSystem:e.coordinateSystem}}_sortMaskChannels(e){const t={};let i=0;for(const r of e){const{id:o}=r.root;let s=t[o];if(!s){if(++i>4){Ui.warn("Too many mask layers. The max supported is 4")();continue}s={id:o,index:this.channels.findIndex(a=>a?.id===o),layers:[],layerBounds:[],coordinateOrigin:r.root.props.coordinateOrigin,coordinateSystem:r.root.props.coordinateSystem},t[o]=s}s.layers.push(r),s.layerBounds.push(r.getBounds())}for(let r=0;r<4;r++){const o=this.channels[r];(!o||!(o.id in t))&&(this.channels[r]=null)}for(const r in t){const o=t[r];o.index<0&&(o.index=this.channels.findIndex(s=>!s),this.channels[o.index]=o)}return t}getModuleParameters(){return{maskMap:this.masks?this.maskMap:this.dummyMaskMap,maskChannels:this.masks}}cleanup(){this.dummyMaskMap&&(this.dummyMaskMap.delete(),this.dummyMaskMap=void 0),this.maskPass&&(this.maskPass.delete(),this.maskPass=void 0,this.maskMap=void 0),this.lastViewport=void 0,this.masks=null,this.channels.length=0}}const l1e=new BP;class d1e{constructor(){Se(this,"effects",void 0),Se(this,"_internalEffects",void 0),Se(this,"_needsRedraw",void 0),this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}setProps(e){"effects"in e&&(e.effects.length!==this.effects.length||!F_(e.effects,this.effects))&&(this.setEffects(e.effects),this._needsRedraw="effects changed")}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}getEffects(){return this._internalEffects}finalize(){this.cleanup()}setEffects(e=[]){this.cleanup(),this.effects=e,this._internalEffects=e.slice(),this._internalEffects.push(new c1e),e.some(t=>t instanceof BP)||this._internalEffects.push(l1e)}cleanup(){for(const e of this.effects)e.cleanup();for(const e of this._internalEffects)e.cleanup();this.effects.length=0,this._internalEffects.length=0}}class u1e extends $S{shouldDrawLayer(e){return"draw"===e.props.operation}}const k7={blendFunc:[1,0,32771,0],blendEquation:32774};class O7 extends $S{constructor(...e){super(...e),Se(this,"pickZ",void 0),Se(this,"_colors",null)}render(e){return e.pickingFBO?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:t,views:i,viewports:r,onViewportActive:o,pickingFBO:s,deviceRect:{x:a,y:c,width:l,height:d},cullRect:h,effects:p,pass:_="picking",pickZ:v}){const A=this.gl;this.pickZ=v;const P=v?null:{byLayer:new Map,byAlpha:[]};this._colors=P;const X=Gc(A,{scissorTest:!0,scissor:[a,c,l,d],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...k7,blend:!v},()=>super.render({target:s,layers:e,layerFilter:t,views:i,viewports:r,onViewportActive:o,cullRect:h,effects:p?.filter(pe=>pe.useInPicking),pass:_}));return this._colors=null,{decodePickingColor:P&&f1e.bind(null,P),stats:X}}shouldDrawLayer(e){return e.props.pickable&&"draw"===e.props.operation}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(e,t,i){const r={...e.props.parameters};return this._colors?(Object.assign(r,k7),r.blend=!0,r.blendColor=function h1e(n,e,t){const{byLayer:i,byAlpha:r}=n;let o,s=i.get(e);return s?(s.viewports.push(t),o=s.a):(o=i.size+1,o<=255?(s={a:o,layer:e,viewports:[t]},i.set(e,s),r[o]=s):(Ui.warn("Too many pickable layers, only picking the first 255")(),o=0)),[0,0,0,o/255]}(this._colors,e,i)):r.blend=!1,r}}function f1e(n,e){const t=n.byAlpha[e[3]];return t&&{pickedLayer:t.layer,pickedViewports:t.viewports,pickedObjectIndex:t.layer.decodePickingColor(e)}}class m1e{constructor(e){this.gl=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new u1e(e),this.pickLayersPass=new O7(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){"layerFilter"in e&&this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in e&&this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){const t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;e.layerFilter=e.layerFilter||this.layerFilter,e.effects=e.effects||[],e.target=e.target||Ho.getDefaultFramebuffer(this.gl),this._preRender(e.effects,e);const i=this.lastPostProcessEffect?this.renderBuffers[0]:e.target,r=t.render({...e,target:i});this._postRender(e.effects,e),this.renderCount++,sa("deckRenderer.renderLayers",this,r,e)}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}finalize(){const{renderBuffers:e}=this;for(const t of e)t.delete();e.length=0}_preRender(e,t){let i=null;for(const r of e)r.preRender(this.gl,t),r.postRender&&(i=r);i&&this._resizeRenderBuffers(),this.lastPostProcessEffect=i}_resizeRenderBuffers(){const{renderBuffers:e}=this;0===e.length&&e.push(new Ho(this.gl),new Ho(this.gl));for(const t of e)t.resize()}_postRender(e,t){const{renderBuffers:i}=this,r={inputBuffer:i[0],swapBuffer:i[1],target:null};for(const o of e)if(o.postRender){if(o===this.lastPostProcessEffect){r.target=t.target,o.postRender(this.gl,r);break}const s=o.postRender(this.gl,r);r.inputBuffer=s,r.swapBuffer=s===i[0]?i[1]:i[0]}}}const g1e={pickedColor:null,pickedObjectIndex:-1};function _1e({pickedColors:n,decodePickingColor:e,deviceX:t,deviceY:i,deviceRadius:r,deviceRect:o}){const{x:s,y:a,width:c,height:l}=o;let d=r*r,h=-1,p=0;for(let _=0;_<l;_++){const v=_+a-i,A=v*v;if(A>d)p+=4*c;else for(let P=0;P<c;P++){if(n[p+3]-1>=0){const Q=P+s-t,pe=Q*Q+A;pe<=d&&(d=pe,h=p)}p+=4}}if(h>=0){const _=n.slice(h,h+4),v=e(_);if(v){const A=Math.floor(h/4/c),P=h/4-A*c;return{...v,pickedColor:_,pickedX:s+P,pickedY:a+A}}Ui.error("Picked non-existent layer. Is picking buffer corrupt?")()}return g1e}function R7({pickInfo:n,viewports:e,pixelRatio:t,x:i,y:r,z:o}){let a,s=e[0];if(e.length>1&&(s=function v1e(n,e){for(let t=n.length-1;t>=0;t--){const i=n[t];if(i.containsPixel(e))return i}return n[0]}(n?.pickedViewports||e,{x:i,y:r})),s){const c=[i-s.x,r-s.y];void 0!==o&&(c[2]=o),a=s.unproject(c)}return{color:null,layer:null,viewport:s,index:-1,picked:!1,x:i,y:r,pixel:[i,r],coordinate:a,devicePixel:n&&"pickedX"in n?[n.pickedX,n.pickedY]:void 0,pixelRatio:t}}function y1e(n){const{pickInfo:e,lastPickedInfo:t,mode:i,layers:r}=n,{pickedColor:o,pickedLayer:s,pickedObjectIndex:a}=e,c=s?[s]:[];if("hover"===i){const p=t.layerId,_=s?s.props.id:null;if(_!==p||a!==t.index){if(_!==p){const v=r.find(A=>A.props.id===p);v&&c.unshift(v)}t.layerId=_,t.index=a,t.info=null}}const l=R7(n),d=new Map;return d.set(null,l),c.forEach(h=>{let p={...l};h===s&&(p.color=o,p.index=a,p.picked=!0),p=P7({layer:h,info:p,mode:i});const _=p.layer;h===s&&"hover"===i&&(t.info=p),d.set(_.id,p),"hover"===i&&_.updateAutoHighlight(p)}),d}function P7({layer:n,info:e,mode:t}){for(;n&&e;){const i=e.layer||null;e.sourceLayer=i,e.layer=n,e=n.getPickingInfo({info:e,mode:t,sourceLayer:i}),n=n.parent}return e}class w1e{constructor(e){Se(this,"gl",void 0),Se(this,"pickingFBO",void 0),Se(this,"depthFBO",void 0),Se(this,"pickLayersPass",void 0),Se(this,"layerFilter",void 0),Se(this,"lastPickedInfo",void 0),Se(this,"_pickable",!0),this.gl=e,this.pickLayersPass=new O7(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:t,layers:i,viewports:r},o=this.lastPickedInfo.info){const s=o&&o.layer&&o.layer.id,a=o&&o.viewport&&o.viewport.id,c=s?i.find(p=>p.id===s):null,l=a&&r.find(p=>p.id===a)||r[0],d=l&&l.unproject([e-l.x,t-l.y]);return{...o,x:e,y:t,viewport:l,coordinate:d,layer:c}}_resizeBuffer(){var e,t;const{gl:i}=this;if(!this.pickingFBO&&(this.pickingFBO=new Ho(i),Ho.isSupported(i,{colorBufferFloat:!0}))){const r=new Ho(i);r.attach({36064:new Ns(i,{format:Ii(i)?34836:6408,type:5126})}),this.depthFBO=r}null===(e=this.pickingFBO)||void 0===e||e.resize({width:i.canvas.width,height:i.canvas.height}),null===(t=this.depthFBO)||void 0===t||t.resize({width:i.canvas.width,height:i.canvas.height})}_getPickable(e){if(!1===this._pickable)return null;const t=e.filter(i=>i.isPickable()&&!i.isComposite);return t.length?t:null}_pickClosestObject({layers:e,views:t,viewports:i,x:r,y:o,radius:s=0,depth:a=1,mode:c="query",unproject3D:l,onViewportActive:d,effects:h}){const p=this._getPickable(e),_=v_(this.gl);if(!p)return{result:[],emptyInfo:R7({viewports:i,x:r,y:o,pixelRatio:_})};this._resizeBuffer();const v=GR(this.gl,[r,o],!0),A=[v.x+Math.floor(v.width/2),v.y+Math.floor(v.height/2)],P=Math.round(s*_),{width:X,height:Q}=this.pickingFBO,pe=this._getPickingRect({deviceX:A[0],deviceY:A[1],deviceRadius:P,deviceWidth:X,deviceHeight:Q}),Re={x:r-s,y:o-s,width:2*s+1,height:2*s+1};let Ye;const tt=[],ht=new Set;for(let Mt=0;Mt<a;Mt++){let xt,yt;xt=pe?_1e({...this._drawAndSample({layers:p,views:t,viewports:i,onViewportActive:d,deviceRect:pe,cullRect:Re,effects:h,pass:"picking:".concat(c)}),deviceX:A[0],deviceY:A[1],deviceRadius:P,deviceRect:pe}):{pickedColor:null,pickedObjectIndex:-1},xt.pickedLayer&&l&&this.depthFBO&&(yt=this._drawAndSample({layers:[xt.pickedLayer],views:t,viewports:i,onViewportActive:d,deviceRect:{x:xt.pickedX,y:xt.pickedY,width:1,height:1},cullRect:Re,effects:h,pass:"picking:".concat(c,":z")},!0).pickedColors[0]),xt.pickedLayer&&Mt+1<a&&(ht.add(xt.pickedLayer),xt.pickedLayer.disablePickingIndex(xt.pickedObjectIndex)),Ye=y1e({pickInfo:xt,lastPickedInfo:this.lastPickedInfo,mode:c,layers:p,viewports:i,x:r,y:o,z:yt,pixelRatio:_});for(const Ot of Ye.values())Ot.layer&&tt.push(Ot);if(!xt.pickedColor)break}for(const Mt of ht)Mt.restorePickingColors();return{result:tt,emptyInfo:Ye.get(null)}}_pickVisibleObjects({layers:e,views:t,viewports:i,x:r,y:o,width:s=1,height:a=1,mode:c="query",maxObjects:l=null,onViewportActive:d,effects:h}){const p=this._getPickable(e);if(!p)return[];this._resizeBuffer();const _=v_(this.gl),v=GR(this.gl,[r,o],!0),A=v.x,P=v.y+v.height,X=GR(this.gl,[r+s,o+a],!0),pe=X.y,tt=function b1e({pickedColors:n,decodePickingColor:e}){const t=new Map;if(n)for(let i=0;i<n.length;i+=4)if(n[i+3]-1>=0){const o=n.slice(i,i+4),s=o.join(",");if(!t.has(s)){const a=e(o);a?t.set(s,{...a,color:o}):Ui.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(t.values())}(this._drawAndSample({layers:p,views:t,viewports:i,onViewportActive:d,deviceRect:{x:A,y:pe,width:X.x+X.width-A,height:P-pe},cullRect:{x:r,y:o,width:s,height:a},effects:h,pass:"picking:".concat(c)})),ht=new Map,Mt=Number.isFinite(l);for(let xt=0;xt<tt.length&&!(Mt&&l&&ht.size>=l);xt++){const yt=tt[xt];let Ot={color:yt.pickedColor,layer:null,index:yt.pickedObjectIndex,picked:!0,x:r,y:o,pixelRatio:_};Ot=P7({layer:yt.pickedLayer,info:Ot,mode:c}),ht.has(Ot.object)||ht.set(Ot.object,Ot)}return Array.from(ht.values())}_drawAndSample({layers:e,views:t,viewports:i,onViewportActive:r,deviceRect:o,cullRect:s,effects:a,pass:c},l=!1){const d=l?this.depthFBO:this.pickingFBO,{decodePickingColor:h}=this.pickLayersPass.render({layers:e,layerFilter:this.layerFilter,views:t,viewports:i,onViewportActive:r,pickingFBO:d,deviceRect:o,cullRect:s,effects:a,pass:c,pickZ:l}),{x:p,y:_,width:v,height:A}=o,P=new(l?Float32Array:Uint8Array)(v*A*4);return uS(d,{sourceX:p,sourceY:_,sourceWidth:v,sourceHeight:A,target:P}),{pickedColors:P,decodePickingColor:h}}_getPickingRect({deviceX:e,deviceY:t,deviceRadius:i,deviceWidth:r,deviceHeight:o}){const s=Math.max(0,e-i),a=Math.max(0,t-i),c=Math.min(r,e+i+1)-s,l=Math.min(o,t+i+1)-a;return c<=0||l<=0?null:{x:s,y:a,width:c,height:l}}}const x1e={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class E1e{constructor(e){Se(this,"el",null),Se(this,"isVisible",!1);const t=e.parentElement;t&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,x1e),t.appendChild(this.el))}setTooltip(e,t,i){const r=this.el;if(r){if("string"==typeof e)r.innerText=e;else{if(!e)return this.isVisible=!1,void(r.style.display="none");e.text&&(r.innerText=e.text),e.html&&(r.innerHTML=e.html),e.className&&(r.className=e.className),Object.assign(r.style,e.style)}this.isVisible=!0,r.style.display="block",r.style.transform="translate(".concat(t,"px, ").concat(i,"px)")}}remove(){this.el&&(this.el.remove(),this.el=null)}}function N7(n,e){if(!n)throw new Error(e||"loader assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const S1e=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),F7=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),{_parseImageNode:A1e}=(F7&&parseFloat(F7[1]),globalThis),UP=typeof Image<"u",VP=typeof ImageBitmap<"u",jP=!!S1e||!!A1e;function L7(n){const e=function U7(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&n instanceof Image?"image":n&&"object"==typeof n&&n.data&&n.width&&n.height?"data":null}(n);if(!e)throw new Error("Not an image");return e}const I1e=/^data:image\/svg\+xml/,D1e=/\.svg((\?|#).*)?$/;function zP(n){return n&&(I1e.test(n)||D1e.test(n))}function V7(n,e){if(zP(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(n)])}function j7(n,e,t){return HP.apply(this,arguments)}function HP(){return HP=yn(function*(n,e,t){const i=function k1e(n,e){if(zP(e)){let i=(new TextDecoder).decode(n);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(i=unescape(encodeURIComponent(i)))}catch(o){throw new Error(o.message)}return"data:image/svg+xml;base64,".concat(btoa(i))}return V7(n,e)}(n,t),r=self.URL||self.webkitURL,o="string"!=typeof i&&r.createObjectURL(i);try{return yield function O1e(n,e){return GP.apply(this,arguments)}(o||i,e)}finally{o&&r.revokeObjectURL(o)}}),HP.apply(this,arguments)}function GP(){return GP=yn(function*(n,e){const t=new Image;return t.src=n,e.image&&e.image.decode&&t.decode?(yield t.decode(),t):yield new Promise((i,r)=>{try{t.onload=()=>i(t),t.onerror=o=>r(new Error("Could not load image ".concat(n,": ").concat(o)))}catch(o){r(o)}})}),GP.apply(this,arguments)}const R1e={};let z7=!0;function WP(){return WP=yn(function*(n,e,t){let i;i=zP(t)?yield j7(n,e,t):V7(n,t);const r=e&&e.imagebitmap;return yield function N1e(n){return $P.apply(this,arguments)}(i,r)}),WP.apply(this,arguments)}function $P(){return $P=yn(function*(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((function F1e(n){for(const e in n||R1e)return!1;return!0}(e)||!z7)&&(e=null),e)try{return yield createImageBitmap(n,e)}catch(t){console.warn(t),z7=!1}return yield createImageBitmap(n)}),$P.apply(this,arguments)}const wd=!1,tw=!0;function H7(n){const e=nw(n);return function H1e(n){const e=nw(n);return e.byteLength>=24&&2303741511===e.getUint32(0,wd)?{mimeType:"image/png",width:e.getUint32(16,wd),height:e.getUint32(20,wd)}:null}(e)||function $1e(n){const e=nw(n);if(!(e.byteLength>=3&&65496===e.getUint16(0,wd)&&255===e.getUint8(2)))return null;const{tableMarkers:i,sofMarkers:r}=function Y1e(){const n=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)n.add(t);return{tableMarkers:n,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let o=2;for(;o+9<e.byteLength;){const s=e.getUint16(o,wd);if(r.has(s))return{mimeType:"image/jpeg",height:e.getUint16(o+5,wd),width:e.getUint16(o+7,wd)};if(!i.has(s))return null;o+=2,o+=e.getUint16(o,wd)}return null}(e)||function G1e(n){const e=nw(n);return e.byteLength>=10&&1195984440===e.getUint32(0,wd)?{mimeType:"image/gif",width:e.getUint16(6,tw),height:e.getUint16(8,tw)}:null}(e)||function W1e(n){const e=nw(n);return e.byteLength>=14&&16973===e.getUint16(0,wd)&&e.getUint32(2,tw)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,tw),height:e.getUint32(22,tw)}:null}(e)||function z1e(n){const t=function L1e(n){return function j1e(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=function V1e(n){return[...n].map(e=>e.charCodeAt(0))}(e);for(let r=0;r<i.length;++r)if(i[r]!==n[r+t])return!1;return!0}(n,"ftyp",4)&&96&n[8]?function B1e(n){switch(function U1e(n,e,t){return String.fromCharCode(...n.slice(e,t))}(n,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}(n):null}(new Uint8Array(n instanceof DataView?n.buffer:n));return t?{mimeType:t.mimeType,width:0,height:0}:null}(e)}function nw(n){if(n instanceof DataView)return n;if(ArrayBuffer.isView(n))return new DataView(n.buffer);if(n instanceof ArrayBuffer)return new DataView(n);throw new Error("toDataView")}function YP(){return YP=yn(function*(n,e){const{mimeType:t}=H7(n)||{},i=globalThis._parseImageNode;return N7(i),yield i(n,t)}),YP.apply(this,arguments)}function XP(){return XP=yn(function*(n,e,t){const r=((e=e||{}).image||{}).type||"auto",{url:o}=t||{},s=function q1e(n){switch(n){case"auto":case"data":return function T1e(){if(VP)return"imagebitmap";if(UP)return"image";if(jP)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function M1e(n){switch(n){case"auto":return VP||UP||jP;case"imagebitmap":return VP;case"image":return UP;case"data":return jP;default:throw new Error("@loaders.gl/images: image ".concat(n," not supported in this environment"))}}(n),n}}(r);let a;switch(s){case"imagebitmap":a=yield function P1e(n,e,t){return WP.apply(this,arguments)}(n,e,o);break;case"image":a=yield j7(n,e,o);break;case"data":a=yield function X1e(n,e){return YP.apply(this,arguments)}(n,e);break;default:N7(!1)}return"data"===r&&(a=function B7(n){switch(L7(n)){case"data":return n;case"image":case"imagebitmap":const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("getImageData");return e.width=n.width,e.height=n.height,t.drawImage(n,0,0),t.getImageData(0,0,n.width,n.height);default:throw new Error("getImageData")}}(a)),a}),XP.apply(this,arguments)}const G7={id:"image",module:"images",name:"Images",version:"3.4.14",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:function K1e(n,e,t){return XP.apply(this,arguments)},tests:[n=>!!H7(new DataView(n))],options:{image:{type:"auto",decode:!0}}},Z1e={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function J1e(n){const e=n[0],t=n[n.length-1];return"{"===e&&"}"===t||"["===e&&"]"===t},parseTextSync:JSON.parse},iw="8.8.27",YS=globalThis.deck&&globalThis.deck.VERSION;if(YS&&YS!==iw)throw new Error("deck.gl - multiple versions detected: ".concat(YS," vs ").concat(iw));YS||(Ui.log(1,"deck.gl ".concat(iw))(),globalThis.deck={...globalThis.deck,VERSION:iw,version:iw,log:Ui,_registerLoggers:function sbe(n){p2=n}},h7([Z1e,[G7,{imagebitmap:{premultiplyAlpha:"none"}}]]));const Q1e=globalThis.deck;class XS extends Du{get[Symbol.toStringTag](){return"Query"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=Ii(e),r=rG(e,"TIMER_QUERY");let o=i||r;for(const s of t)switch(s){case"queries":o=o&&i;break;case"timers":o=o&&r;break;default:_n(!1)}return o}constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(35007)}beginOcclusionQuery(){let{conservative:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.begin(e?36202:35887)}beginTransformFeedbackQuery(){return this.begin(35976)}begin(e){return this._queryPending||(this.target=e,this.gl2.beginQuery(this.target,this.handle)),this}end(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}isResultAvailable(){if(!this._queryPending)return!1;const e=this.gl2.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}isTimerDisjoint(){return this.gl2.getParameter(36795)}getResult(){return this.gl2.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let t=0;return this._pollingPromise=new Promise((i,r)=>{const o=()=>{this.isResultAvailable()?(i(this.getResult()),this._pollingPromise=null):t++>e?(r("Timed out"),this._pollingPromise=null):requestAnimationFrame(o)};requestAnimationFrame(o)}),this._pollingPromise}_createHandle(){return XS.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}const W7=hd()&&typeof document<"u";let lCe=0;class dCe{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onCreateContext:t=(P=>VH(P)),onAddHTML:i=null,onInitialize:r=(()=>{}),onRender:o=(()=>{}),onFinalize:s=(()=>{}),onError:a,gl:c=null,glOptions:l={},debug:d=!1,createFramebuffer:h=!1,autoResizeViewport:p=!0,autoResizeDrawingBuffer:_=!0,stats:v=Np.get("animation-loop-".concat(lCe++))}=e;let{useDevicePixels:A=!0}=e;"useDevicePixelRatio"in e&&(Dn.deprecated("useDevicePixelRatio","useDevicePixels")(),A=e.useDevicePixelRatio),this.props={onCreateContext:t,onAddHTML:i,onInitialize:r,onRender:o,onFinalize:s,onError:a,gl:c,glOptions:l,debug:d,createFramebuffer:h},this.gl=c,this.needsRedraw=null,this.timeline=null,this.stats=v,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:p,autoResizeDrawingBuffer:_,useDevicePixels:A}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(e){return _n("string"==typeof e),this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;const t=this._getPageLoadPromise().then(()=>!this._running||this._initialized?null:(this._createWebGLContext(e),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=XS.isSupported(this.gl,["timers"])?new XS(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps))).then(i=>{this._running&&(this._addCallbackData(i||{}),!1!==i&&this._startLoop())});return this.props.onError&&t.catch(this.props.onError),this}redraw(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(e=>{this._resolveNextFrame=e})),this._nextFramePromise}toDataURL(){var e=this;return yn(function*(){return e.setNeedsRedraw("toDataURL"),yield e.waitForRender(),e.gl.canvas.toDataURL()})()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=document.getElementById(e);return i?Number(i.value):t}setViewParameters(){return Dn.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const e=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(e))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(e)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=W7?new Promise((e,t)=>{W7&&"complete"===document.readyState?e(document):window.addEventListener("load",()=>{e(document)})}):Promise.resolve({})),this._pageLoadPromise}_setDisplay(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_cancelAnimationFrame(e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(e):function cCe(n){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(n):clearTimeout(n)}(e)}_requestAnimationFrame(e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(e):function aCe(n){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(n):setTimeout(n,1e3/60)}(e)}_renderFrame(){this.display?this.display._renderFrame(...arguments):this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:e,height:t,aspect:i}=this._getSizeAndAspect();(e!==this.animationProps.width||t!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),i!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=t,this.animationProps.aspect=i,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(e){"object"==typeof e&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}_createWebGLContext(e){if(this.offScreen=e.canvas&&typeof OffscreenCanvas<"u"&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?$R(this.props.gl,e):this.onCreateContext(e),!lS(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");(function kge(n){Iu(n,HR)})(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);const i=this.props.onAddHTML(t);i&&(t.innerHTML=i)}}_getSizeAndAspect(){const e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight;let i=1;const{canvas:r}=this.gl;return r&&r.clientHeight?i=r.clientWidth/r.clientHeight:e>0&&t>0&&(i=e/t),{width:e,height:t,aspect:i}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&function Fge(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.canvas){const i=function Oge(n){const e=typeof window>"u"?1:window.devicePixelRatio||1;return Number.isFinite(n)?n<=0?1:n:n?e:1}(e.useDevicePixels);return void function jge(n,e,t){let i="width"in t?t.width:n.canvas.clientWidth,r="height"in t?t.height:n.canvas.clientHeight;(!i||!r)&&(Dn.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,i=n.canvas.width||1,r=n.canvas.height||1),n.luma=n.luma||{},n.luma.canvasSizeInfo=n.luma.canvasSizeInfo||{};const o=n.luma.canvasSizeInfo;if(o.clientWidth!==i||o.clientHeight!==r||o.devicePixelRatio!==e){let s=e;const a=Math.floor(i*s),c=Math.floor(r*s);n.canvas.width=a,n.canvas.height=c,(n.drawingBufferWidth!==a||n.drawingBufferHeight!==c)&&(Dn.warn("Device pixel ratio clamped")(),s=Math.min(n.drawingBufferWidth/i,n.drawingBufferHeight/r),n.canvas.width=Math.floor(i*s),n.canvas.height=Math.floor(r*s)),Object.assign(n.luma.canvasSizeInfo,{clientWidth:i,clientHeight:r,devicePixelRatio:e})}}(n,i,e)}const t=n.getExtension("STACKGL_resize_drawingbuffer");t&&"width"in e&&"height"in e&&t.resize(e.width,e.height)}(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new Ho(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:e}=this.gl;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}_onMouseleave(e){this.animationProps._mousePosition=null}}var KS=m(7271);const uCe={mousedown:1,mousemove:2,mouseup:4};(function fCe(n){const e=n.prototype.handler;n.prototype.handler=function(i){const r=this.store;i.button>0&&"pointerdown"===i.type&&(function hCe(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return!0;return!1}(r,o=>o.pointerId===i.pointerId)||r.push(i)),e.call(this,i)}})(KS.PointerEventInput),function pCe(n){n.prototype.handler=function(t){let i=uCe[t.type];1&i&&t.button>=0&&(this.pressed=!0),2&i&&0===t.which&&(i=4),this.pressed&&(4&i&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}}(KS.MouseInput);const mCe=KS.Manager,xd=KS;class qS{constructor(e,t,i){this.element=e,this.callback=t,this.options={enable:!0,...i}}}const gCe=xd?[[xd.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[xd.Rotate,{enable:!1}],[xd.Pinch,{enable:!1}],[xd.Swipe,{enable:!1}],[xd.Pan,{threshold:0,enable:!1}],[xd.Press,{enable:!1}],[xd.Tap,{event:"doubletap",taps:2,enable:!1}],[xd.Tap,{event:"anytap",enable:!1}],[xd.Tap,{enable:!1}]]:null,X7={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},_Ce={doubletap:["tap"]},bCe={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},qP={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},yCe={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},K7={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},vCe=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",V_=typeof window<"u"?window:global;typeof global<"u"?global:window,typeof document<"u"&&document;let JP=!1;try{V_.addEventListener("test",null,{get passive(){return JP=!0,!0}}),V_.removeEventListener("test",null)}catch{JP=!1}const wCe=-1!==vCe.indexOf("firefox"),{WHEEL_EVENTS:xCe}=qP,J7=4.000244140625;class SCe extends qS{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{if(!this.options.enable)return;let o=r.deltaY;V_.WheelEvent&&(wCe&&r.deltaMode===V_.WheelEvent.DOM_DELTA_PIXEL&&(o/=V_.devicePixelRatio),r.deltaMode===V_.WheelEvent.DOM_DELTA_LINE&&(o*=40)),0!==o&&o%J7==0&&(o=Math.floor(o/J7)),r.shiftKey&&o&&(o*=.25),this.callback({type:"wheel",center:{x:r.clientX,y:r.clientY},delta:-o,srcEvent:r,pointerType:"mouse",target:r.target})},this.events=(this.options.events||[]).concat(xCe),this.events.forEach(r=>e.addEventListener(r,this.handleEvent,!!JP&&{passive:!1}))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){"wheel"===e&&(this.options.enable=t)}}const{MOUSE_EVENTS:ACe}=qP,Z7="pointermove",Q7="pointerover",eW="pointerout",tW="pointerenter",nW="pointerleave";class MCe extends qS{constructor(e,t,i){super(e,t,i),this.handleEvent=o=>{this.handleOverEvent(o),this.handleOutEvent(o),this.handleEnterEvent(o),this.handleLeaveEvent(o),this.handleMoveEvent(o)},this.pressed=!1;const{enable:r}=this.options;this.enableMoveEvent=r,this.enableLeaveEvent=r,this.enableEnterEvent=r,this.enableOutEvent=r,this.enableOverEvent=r,this.events=(this.options.events||[]).concat(ACe),this.events.forEach(o=>e.addEventListener(o,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){e===Z7&&(this.enableMoveEvent=t),e===Q7&&(this.enableOverEvent=t),e===eW&&(this.enableOutEvent=t),e===tW&&(this.enableEnterEvent=t),e===nW&&(this.enableLeaveEvent=t)}handleOverEvent(e){this.enableOverEvent&&"mouseover"===e.type&&this._emit(Q7,e)}handleOutEvent(e){this.enableOutEvent&&"mouseout"===e.type&&this._emit(eW,e)}handleEnterEvent(e){this.enableEnterEvent&&"mouseenter"===e.type&&this._emit(tW,e)}handleLeaveEvent(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this._emit(nW,e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this._emit(Z7,e);break;case"mouseup":this.pressed=!1}}_emit(e,t){this.callback({type:e,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}const{KEY_EVENTS:TCe}=qP,iW="keydown";class ICe extends qS{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{const o=r.target||r.srcElement;"INPUT"===o.tagName&&"text"===o.type||"TEXTAREA"===o.tagName||(this.enableDownEvent&&"keydown"===r.type&&this.callback({type:iW,srcEvent:r,key:r.key,target:r.target}),this.enableUpEvent&&"keyup"===r.type&&this.callback({type:"keyup",srcEvent:r,key:r.key,target:r.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(TCe),e.tabIndex=this.options.tabIndex||0,e.style.outline="none",this.events.forEach(r=>e.addEventListener(r,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){e===iW&&(this.enableDownEvent=t),"keyup"===e&&(this.enableUpEvent=t)}}const oW="contextmenu";class DCe extends qS{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{this.options.enable&&this.callback({type:oW,center:{x:r.clientX,y:r.clientY},srcEvent:r,pointerType:"mouse",target:r.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,t){e===oW&&(this.options.enable=t)}}const kCe={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function jCe(n){const e=kCe[n.srcEvent.type];if(!e)return null;const{buttons:t,button:i,which:r}=n.srcEvent;let o=!1,s=!1,a=!1;return 4===e||2===e&&!Number.isFinite(t)?(o=1===r,s=2===r,a=3===r):2===e?(o=!!(1&t),s=!!(4&t),a=!!(2&t)):1===e&&(o=0===i,s=1===i,a=2===i),{leftButton:o,middleButton:s,rightButton:a}}function zCe(n,e){const t=n.center;if(!t)return null;const i=e.getBoundingClientRect();return{center:t,offsetCenter:{x:(t.x-i.left-e.clientLeft)/(i.width/e.offsetWidth||1),y:(t.y-i.top-e.clientTop)/(i.height/e.offsetHeight||1)}}}const eN={srcElement:"root",priority:0};class HCe{constructor(e){this.handleEvent=t=>{if(this.isEmpty())return;const i=this._normalizeEvent(t);let r=t.srcEvent.target;for(;r&&r!==i.rootElement;){if(this._emit(i,r),i.handled)return;r=r.parentNode}this._emit(i,"root")},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,t,i,r=!1,o=!1){const{handlers:s,handlersByElement:a}=this;let c=eN;"string"==typeof i||i&&i.addEventListener?c={...eN,srcElement:i}:i&&(c={...eN,...i});let l=a.get(c.srcElement);l||(l=[],a.set(c.srcElement,l));const d={type:e,handler:t,srcElement:c.srcElement,priority:c.priority};r&&(d.once=!0),o&&(d.passive=!0),s.push(d),this._active=this._active||!d.passive;let h=l.length-1;for(;h>=0&&!(l[h].priority>=d.priority);)h--;l.splice(h+1,0,d)}remove(e,t){const{handlers:i,handlersByElement:r}=this;for(let o=i.length-1;o>=0;o--){const s=i[o];if(s.type===e&&s.handler===t){i.splice(o,1);const a=r.get(s.srcElement);a.splice(a.indexOf(s),1),0===a.length&&r.delete(s.srcElement)}}this._active=i.some(o=>!o.passive)}_emit(e,t){const i=this.handlersByElement.get(t);if(i){let r=!1;const o=()=>{e.handled=!0},s=()=>{e.handled=!0,r=!0},a=[];for(let c=0;c<i.length;c++){const{type:l,handler:d,once:h}=i[c];if(d({...e,type:l,stopPropagation:o,stopImmediatePropagation:s}),h&&a.push(i[c]),r)break}for(let c=0;c<a.length;c++){const{type:l,handler:d}=a[c];this.remove(l,d)}}}_normalizeEvent(e){const t=this.eventManager.getElement();return{...e,...jCe(e),...zCe(e,t),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:t}}}const GCe={events:null,recognizers:null,recognizerOptions:{},Manager:mCe,touchAction:"none",tabIndex:0};class WCe{constructor(e=null,t){this._onBasicInput=r=>{const{srcEvent:o}=r,s=bCe[o.type];s&&this.manager.emit(s,r)},this._onOtherEvent=r=>{this.manager.emit(r.type,r)},this.options={...GCe,...t},this.events=new Map,this.setElement(e);const{events:i}=this.options;i&&this.on(i)}getElement(){return this.element}setElement(e){if(this.element&&this.destroy(),this.element=e,!e)return;const{options:t}=this;this.manager=new(0,t.Manager)(e,{touchAction:t.touchAction,recognizers:t.recognizers||gCe}).on("hammer.input",this._onBasicInput),t.recognizers||Object.keys(X7).forEach(r=>{const o=this.manager.get(r);o&&X7[r].forEach(s=>{o.recognizeWith(s)})});for(const r in t.recognizerOptions){const o=this.manager.get(r);if(o){const s=t.recognizerOptions[r];delete s.enable,o.set(s)}}this.wheelInput=new SCe(e,this._onOtherEvent,{enable:!1}),this.moveInput=new MCe(e,this._onOtherEvent,{enable:!1}),this.keyInput=new ICe(e,this._onOtherEvent,{enable:!1,tabIndex:t.tabIndex}),this.contextmenuInput=new DCe(e,this._onOtherEvent,{enable:!1});for(const[r,o]of this.events)o.isEmpty()||(this._toggleRecognizer(o.recognizerName,!0),this.manager.on(r,o.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(e,t,i){this._addEventHandler(e,t,i,!1)}once(e,t,i){this._addEventHandler(e,t,i,!0)}watch(e,t,i){this._addEventHandler(e,t,i,!1,!0)}off(e,t){this._removeEventHandler(e,t)}_toggleRecognizer(e,t){const{manager:i}=this;if(!i)return;const r=i.get(e);if(r&&r.options.enable!==t){r.set({enable:t});const o=_Ce[e];o&&!this.options.recognizers&&o.forEach(s=>{const a=i.get(s);t?(a.requireFailure(e),r.dropRequireFailure(s)):a.dropRequireFailure(e)})}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}_addEventHandler(e,t,i,r,o){if("string"!=typeof e){i=t;for(const d in e)this._addEventHandler(d,e[d],i,r,o);return}const{manager:s,events:a}=this,c=K7[e]||e;let l=a.get(c);l||(l=new HCe(this),a.set(c,l),l.recognizerName=yCe[c]||c,s&&s.on(c,l.handleEvent)),l.add(e,t,i,r,o),l.isEmpty()||this._toggleRecognizer(l.recognizerName,!0)}_removeEventHandler(e,t){if("string"!=typeof e){for(const s in e)this._removeEventHandler(s,e[s]);return}const{events:i}=this,o=i.get(K7[e]||e);if(o&&(o.remove(e,t),o.isEmpty())){const{recognizerName:s}=o;let a=!1;for(const c of i.values())if(c.recognizerName===s&&!c.isEmpty()){a=!0;break}a||this._toggleRecognizer(s,!1)}}}function Hp(){}const sW={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:Hp,onResize:Hp,onViewStateChange:Hp,onInteractionStateChange:Hp,onBeforeRender:Hp,onAfterRender:Hp,onLoad:Hp,onError:n=>Ui.error(n.message)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:({isDragging:n})=>n?"grabbing":"grab",getTooltip:null,debug:!1,drawPickingColors:!1};class tN{constructor(e){Se(this,"props",void 0),Se(this,"width",0),Se(this,"height",0),Se(this,"userData",{}),Se(this,"canvas",null),Se(this,"viewManager",null),Se(this,"layerManager",null),Se(this,"effectManager",null),Se(this,"deckRenderer",null),Se(this,"deckPicker",null),Se(this,"eventManager",null),Se(this,"tooltip",null),Se(this,"metrics",void 0),Se(this,"animationLoop",void 0),Se(this,"stats",void 0),Se(this,"viewState",void 0),Se(this,"cursorState",void 0),Se(this,"_needsRedraw",void 0),Se(this,"_pickRequest",void 0),Se(this,"_lastPointerDownInfo",null),Se(this,"_metricsCounter",void 0),Se(this,"_onPointerMove",t=>{const{_pickRequest:i}=this;if("pointerleave"===t.type)i.x=-1,i.y=-1,i.radius=0;else{if(t.leftButton||t.rightButton)return;{const r=t.offsetCenter;if(!r)return;i.x=r.x,i.y=r.y,i.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:i.x,y:i.y}),i.event=t}),Se(this,"_onEvent",t=>{const i=CH[t.type],r=t.offsetCenter;if(!i||!r||!this.layerManager)return;const o=this.layerManager.getLayers(),s=this.deckPicker.getLastPickedObject({x:r.x,y:r.y,layers:o,viewports:this.getViewports(r)},this._lastPointerDownInfo),{layer:a}=s,c=a&&(a[i.handler]||a.props[i.handler]),l=this.props[i.handler];let d=!1;c&&(d=c.call(a,s,t)),!d&&l&&l(s,t)}),Se(this,"_onPointerDown",t=>{const i=t.offsetCenter,r=this._pick("pickObject","pickObject Time",{x:i.x,y:i.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=r.result[0]||r.emptyInfo}),this.props={...sW,...e},e=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},e.viewState&&e.initialViewState&&Ui.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===n9()&&Ui.warn("IE 11 is not supported")(),this.viewState=e.initialViewState,e.gl||typeof document<"u"&&(this.canvas=this._createCanvas(e)),this.animationLoop=this._createAnimationLoop(e),this.stats=new YR({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(e),e._typedArrayManagerProps&&U0.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,t,i,r,o,s,a,c;this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(e=this.layerManager)||void 0===e||e.finalize(),this.layerManager=null,null===(t=this.viewManager)||void 0===t||t.finalize(),this.viewManager=null,null===(i=this.effectManager)||void 0===i||i.finalize(),this.effectManager=null,null===(r=this.deckRenderer)||void 0===r||r.finalize(),this.deckRenderer=null,null===(o=this.deckPicker)||void 0===o||o.finalize(),this.deckPicker=null,null===(s=this.eventManager)||void 0===s||s.destroy(),this.eventManager=null,null===(a=this.tooltip)||void 0===a||a.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas||(null===(c=this.canvas.parentElement)||void 0===c||c.removeChild(this.canvas),this.canvas=null)}setProps(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&Ui.removed("onLayerHover","onHover")(),"onLayerClick"in e&&Ui.removed("onLayerClick","onClick")(),e.initialViewState&&!F_(this.props.initialViewState,e.initialViewState)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const t=Object.create(this.props);Object.assign(t,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(t),this.layerManager&&(this.viewManager.setProps(t),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(t),this.effectManager.setProps(t),this.deckRenderer.setProps(t),this.deckPicker.setProps(t)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const i=this.viewManager.needsRedraw(e),r=this.layerManager.needsRedraw(e),o=this.effectManager.needsRedraw(e),s=this.deckRenderer.needsRedraw(e);return t=t||i||r||o||s,t}redraw(e){if(!this.layerManager)return;let t=this.needsRedraw({clearRedrawFlags:!0});t=e||t,t&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}get isInitialized(){return null!==this.viewManager}getViews(){return Ls(this.viewManager),this.viewManager.views}getViewports(e){return Ls(this.viewManager),this.viewManager.getViewports(e)}pickObject(e){const t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,t=!1){for(const i in e)this.layerManager.resourceManager.add({resourceId:i,data:e[i],forceUpdate:t})}_removeResources(e){for(const t of e)this.layerManager.resourceManager.remove(t)}_pick(e,t,i){Ls(this.deckPicker);const{stats:r}=this;r.get("Pick Count").incrementCount(),r.get(t).timeStart();const o=this.deckPicker[e]({layers:this.layerManager.getLayers(i),views:this.viewManager.getViews(),viewports:this.getViewports(i),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...i});return r.get(t).timeEnd(),o}_createCanvas(e){let t=e.canvas;return"string"==typeof t&&(t=document.getElementById(t),Ls(t)),t||(t=document.createElement("canvas"),t.id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(t)),Object.assign(t.style,e.style),t}_setCanvasSize(e){if(!this.canvas)return;const{width:t,height:i}=e;if(t||0===t){const o=Number.isFinite(t)?"".concat(t,"px"):t;this.canvas.style.width=o}if(i||0===i){var r;const o=Number.isFinite(i)?"".concat(i,"px"):i;this.canvas.style.position=(null===(r=e.style)||void 0===r?void 0:r.position)||"absolute",this.canvas.style.height=o}}_updateCanvasSize(){const{canvas:e}=this;if(!e)return;const t=e.clientWidth||e.width,i=e.clientHeight||e.height;var r;t===this.width&&i===this.height||(this.width=t,this.height=i,null===(r=this.viewManager)||void 0===r||r.setProps({width:t,height:i}),this.props.onResize({width:t,height:i}))}_createAnimationLoop(e){const{width:t,height:i,gl:r,glOptions:o,debug:s,onError:a,onBeforeRender:c,onAfterRender:l,useDevicePixels:d}=e;return new dCe({width:t,height:i,useDevicePixels:d,autoResizeViewport:!1,gl:r,onCreateContext:h=>VH({...o,...h,canvas:this.canvas,debug:s,onContextLost:()=>this._onContextLost()}),onInitialize:h=>this._setGLContext(h.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:c,onAfterRender:l,onError:a})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let e=this.props.views||[new D7({id:"default-view"})];return e=Array.isArray(e)?e:[e],e.length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:e}=this;if(e.event){const{result:i,emptyInfo:r}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=i.length>0;let o=r,s=!1;for(const a of i){var t;o=a,s=(null===(t=a.layer)||void 0===t?void 0:t.onHover(a,e.event))||s}if(!s&&this.props.onHover&&this.props.onHover(o,e.event),this.props.getTooltip&&this.tooltip){const a=this.props.getTooltip(o);this.tooltip.setTooltip(a,o.x,o.y)}e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setGLContext(e){if(this.layerManager)return;this.canvas||(this.canvas=e.canvas,$R(e,{enable:!0,copyState:!0})),this.tooltip=new E1e(this.canvas),Iu(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);const t=new T7;t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new WCe(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const r in CH)this.eventManager.on(r,this._onEvent);this.viewManager=new e1e({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const i=this.viewManager.getViewports()[0];this.layerManager=new QEe(e,{deck:this,stats:this.stats,viewport:i,timeline:t}),this.effectManager=new d1e,this.deckRenderer=new m1e(e),this.deckPicker=new w1e(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,t){const{gl:i}=this.layerManager.context;Iu(i,this.props.parameters),this.props.onBeforeRender({gl:i}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:e,effects:this.effectManager.getEffects(),...t}),this.props.onAfterRender({gl:i})}_onRenderFrame(e){this._getFrameStats(),this._metricsCounter++%60==0&&(this._getMetrics(),this.stats.reset(),Ui.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:t},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:t}=this;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();const i=Np.get("Memory Usage");e.bufferMemory=i.get("Buffer Memory").count,e.textureMemory=i.get("Texture Memory").count,e.renderbufferMemory=i.get("Renderbuffer Memory").count,e.gpuMemory=i.get("GPU Memory").count}}Se(tN,"defaultProps",sW),Se(tN,"VERSION",Q1e.VERSION);const ZS={name:"project32",dependencies:[FP],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"},$Ce={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1},QS={inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:#decl":"\nuniform bool picking_uAttribute;\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}},name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function YCe(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$Ce;const e={};if(void 0!==n.pickingSelectedColor)if(n.pickingSelectedColor){const t=n.pickingSelectedColor.slice(0,3);e.picking_uSelectedColorValid=1,e.picking_uSelectedColor=t}else e.picking_uSelectedColorValid=0;if(n.pickingHighlightColor){const t=Array.from(n.pickingHighlightColor,i=>i/255);Number.isFinite(t[3])||(t[3]=1),e.picking_uHighlightColor=t}return void 0!==n.pickingActive&&(e.picking_uActive=!!n.pickingActive,e.picking_uAttribute=!!n.pickingAttribute),e}},aW={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class af{static get DRAW_MODE(){return aW}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Wa("geometry"),drawMode:i=aW.TRIANGLES,attributes:r={},indices:o=null,vertexCount:s=null}=e;this.id=t,this.drawMode=0|i,this.attributes={},this.userData={},this._setAttributes(r,o),this.vertexCount=s||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return"Geometry ".concat(this.id," attribute ").concat(e)}_setAttributes(e,t){t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t);for(const i in e){let r=e[i];r=ArrayBuffer.isView(r)?{value:r}:r,_n(ArrayBuffer.isView(r.value),"".concat(this._print(i),": must be typed array or object with value as typed array")),("POSITION"===i||"positions"===i)&&!r.size&&(r.size=3),"indices"===i?(_n(!this.indices),this.indices=r):this.attributes[i]=r}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(e,t){if(t)return t.value.length;let i=1/0;for(const r in e){const o=e[r],{value:s,size:a,constant:c}=o;!c&&s&&a>=1&&(i=Math.min(i,s.length/a))}return _n(Number.isFinite(i)),i}}const cW=()=>{},lW={10241:9987,10240:9729,10242:33071,10243:33071};function ZCe(n){return Math.pow(2,Math.ceil(Math.log2(n)))}function QCe(n,e,t,i){return t===e.width&&i===e.height?e:(n.canvas.height=i,n.canvas.width=t,n.clearRect(0,0,n.canvas.width,n.canvas.height),n.drawImage(e,0,0,e.width,e.height,0,0,t,i),n.canvas)}function rw(n){return n&&(n.id||n.url)}function dW(n,e,t){for(let i=0;i<e.length;i++){const{icon:r,xOffset:o}=e[i];n[rw(r)]={...r,x:o,y:t}}}class iSe{constructor(e,{onUpdate:t=cW,onError:i=cW}){Se(this,"gl",void 0),Se(this,"onUpdate",void 0),Se(this,"onError",void 0),Se(this,"_loadOptions",null),Se(this,"_texture",null),Se(this,"_externalTexture",null),Se(this,"_mapping",{}),Se(this,"_textureParameters",null),Se(this,"_pendingCount",0),Se(this,"_autoPacking",!1),Se(this,"_xOffset",0),Se(this,"_yOffset",0),Se(this,"_rowHeight",0),Se(this,"_buffer",4),Se(this,"_canvasWidth",1024),Se(this,"_canvasHeight",0),Se(this,"_canvas",null),this.gl=e,this.onUpdate=t,this.onError=i}finalize(){var e;null===(e=this._texture)||void 0===e||e.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(e){const t=this._autoPacking?rw(e):e;return this._mapping[t]||{}}setProps({loadOptions:e,autoPacking:t,iconAtlas:i,iconMapping:r,textureParameters:o}){var s;e&&(this._loadOptions=e),void 0!==t&&(this._autoPacking=t),r&&(this._mapping=r),i&&(null===(s=this._texture)||void 0===s||s.delete(),this._texture=null,this._externalTexture=i),o&&(this._textureParameters=o)}get isLoaded(){return 0===this._pendingCount}packIcons(e,t){if(!this._autoPacking||typeof document>"u")return;const i=Object.values(function nSe(n,e,t){if(!n||!e)return null;t=t||{};const i={},{iterable:r,objectInfo:o}=_S(n);for(const s of r){o.index++;const a=e(s,o),c=rw(a);if(!a)throw new Error("Icon is missing.");if(!a.url)throw new Error("Icon url is missing.");!i[c]&&(!t[c]||a.url!==t[c].url)&&(i[c]={...a,source:s,sourceIndex:o.index})}return i}(e,t,this._mapping)||{});if(i.length>0){const{mapping:r,xOffset:o,yOffset:s,rowHeight:a,canvasHeight:c}=function tSe({icons:n,buffer:e,mapping:t={},xOffset:i=0,yOffset:r=0,rowHeight:o=0,canvasWidth:s}){let a=[];for(let c=0;c<n.length;c++){const l=n[c];if(!t[rw(l)]){const{height:h,width:p}=l;i+p+e>s&&(dW(t,a,r),i=0,r=o+r+e,o=0,a=[]),a.push({icon:l,xOffset:i}),i=i+p+e,o=Math.max(o,h)}}return a.length>0&&dW(t,a,r),{mapping:t,rowHeight:o,xOffset:i,yOffset:r,canvasWidth:s,canvasHeight:ZCe(o+r+e)}}({icons:i,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=a,this._mapping=r,this._xOffset=o,this._yOffset=s,this._canvasHeight=c,this._texture||(this._texture=new Ns(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:this._textureParameters||lW})),this._texture.height!==this._canvasHeight&&(this._texture=function eSe(n,e,t,i){const r=n.width,o=n.height,s=new Ns(n.gl,{width:e,height:t,parameters:i});return function u_e(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{sourceX:i=0,sourceY:r=0,targetMipmaplevel:o=0,targetInternalFormat:s=6408}=t;let{targetX:a,targetY:c,targetZ:l,width:d,height:h}=t;const{framebuffer:p,deleteFramebuffer:_}=B0(n);_n(p);const{gl:v,handle:A}=p,P=typeof a<"u"||typeof c<"u"||typeof l<"u";a=a||0,c=c||0,l=l||0;const X=v.bindFramebuffer(36160,A);_n(e);let Q=null;if(e instanceof Fp&&(Q=e,d=Number.isFinite(d)?d:Q.width,h=Number.isFinite(h)?h:Q.height,Q.bind(0),e=Q.target),P)switch(e){case 3553:case 34067:v.copyTexSubImage2D(e,o,a,c,i,r,d,h);break;case 35866:case 32879:ra(v).copyTexSubImage3D(e,o,a,c,l,i,r,d,h)}else v.copyTexImage2D(e,o,s,i,r,d,h,0);Q&&Q.unbind(),v.bindFramebuffer(36160,X||null),_&&p.delete()}(n,s,{targetY:0,width:r,height:o}),n.delete(),s}(this._texture,this._canvasWidth,this._canvasHeight,this._textureParameters||lW)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(i)}}_loadIcons(e){const t=this._canvas.getContext("2d");for(const i of e)this._pendingCount++,ew(i.url,G7,this._loadOptions).then(r=>{const o=rw(i),{x:s,y:a,width:c,height:l}=this._mapping[o],d=QCe(t,r,c,l);this._texture.setSubImageData({data:d,x:s,y:a,width:c,height:l}),this._texture.generateMipmap(),this.onUpdate()}).catch(r=>{this.onError({url:i.url,source:i.source,sourceIndex:i.sourceIndex,loadOptions:this._loadOptions,error:r})}).finally(()=>{this._pendingCount--})}}const uW=[0,0,0,255],rSe={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:n=>n.position},getIcon:{type:"accessor",value:n=>n.icon},getColor:{type:"accessor",value:uW},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,compare:!1,optional:!0}};class nN extends jp{constructor(...e){super(...e),Se(this,"state",void 0)}getShaders(){return super.getShaders({vs:'#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  // convert size in meters to pixels, then scaled and clamp\n \n  // project meters to pixels and clamp to limits \n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n',fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[ZS,QS]})}initializeState(){this.state={iconManager:new iSe(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:uW},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(e){super.updateState(e);const{props:t,oldProps:i,changeFlags:r}=e,o=this.getAttributeManager(),{iconAtlas:s,iconMapping:a,data:c,getIcon:l,textureParameters:d}=t,{iconManager:h}=this.state,p=s||this.internalState.isAsyncPropLoading("iconAtlas");if(h.setProps({loadOptions:t.loadOptions,autoPacking:!p,iconAtlas:s,iconMapping:p?a:null,textureParameters:d}),p?i.iconMapping!==t.iconMapping&&o.invalidate("getIcon"):(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getIcon))&&h.packIcons(c,l),r.extensionsChanged){var _;const{gl:v}=this.context;null===(_=this.state.model)||void 0===_||_.delete(),this.state.model=this._getModel(v),o.invalidateAll()}}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(e){super.finalizeState(e),this.state.iconManager.finalize()}draw({uniforms:e}){const{sizeScale:t,sizeMinPixels:i,sizeMaxPixels:r,sizeUnits:o,billboard:s,alphaCutoff:a}=this.props,{iconManager:c}=this.state,l=c.getTexture();l&&this.state.model.setUniforms(e).setUniforms({iconsTexture:l,iconsTextureDim:[l.width,l.height],sizeUnits:cS[o],sizeScale:t,sizeMinPixels:i,sizeMaxPixels:r,billboard:s,alphaCutoff:a}).draw()}_getModel(e){return new D_(e,{...this.getShaders(),id:this.props.id,geometry:new af({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(e){var t;const i=null===(t=this.getCurrentLayer())||void 0===t?void 0:t.props.onIconError;i?i(e):Ui.error(e.error.message)()}getInstanceOffset(e){const{width:t,height:i,anchorX:r=t/2,anchorY:o=i/2}=this.state.iconManager.getIconMapping(e);return[t/2-r,i/2-o]}getInstanceColorMode(e){return this.state.iconManager.getIconMapping(e).mask?1:0}getInstanceIconFrame(e){const{x:t,y:i,width:r,height:o}=this.state.iconManager.getIconMapping(e);return[t,i,r,o]}}Se(nN,"defaultProps",rSe),Se(nN,"layerName","IconLayer");const fW=[];class iN extends nN{constructor(...e){super(...e),Se(this,"state",void 0)}getShaders(){return{...super.getShaders(),fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float buffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    vec4 color = vColor;\n\n    // if enable sdf (signed distance fields)\n    if (sdf) {\n      float distance = alpha;\n      alpha = smoothstep(buffer - gamma, buffer + gamma, distance);\n\n      if (outlineBuffer > 0.0) {\n        float inFill = alpha;\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\n        color = mix(outlineColor, vColor, inFill);\n        alpha = inBorder;\n      }\n    }\n\n    // Take the global opacity and the alpha from color into account for the alpha component\n    float a = alpha * color.a;\n    \n    if (a < alphaCutoff) {\n      discard;\n    }\n\n    gl_FragColor = vec4(color.rgb, a * opacity);\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:(t,{index:i,target:r})=>this.encodePickingColor(i,r)}})}updateState(e){super.updateState(e);const{props:t,oldProps:i}=e;let{outlineColor:r}=t;r!==i.outlineColor&&(r=r.map(o=>o/255),r[3]=Number.isFinite(r[3])?r[3]:1,this.setState({outlineColor:r})),!t.sdf&&t.outlineWidth&&Ui.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}draw(e){const{sdf:t,smoothing:i,outlineWidth:r}=this.props,{outlineColor:o}=this.state;e.uniforms={...e.uniforms,buffer:.75,outlineBuffer:r?Math.max(i,.75*(1-r)):-1,gamma:i,sdf:!!t,outlineColor:o},super.draw(e)}getInstanceOffset(e){return e?Array.from(e).flatMap(t=>super.getInstanceOffset(t)):fW}getInstanceColorMode(e){return 1}getInstanceIconFrame(e){return e?Array.from(e).flatMap(t=>super.getInstanceIconFrame(t)):fW}}Se(iN,"defaultProps",{getIconOffsets:{type:"accessor",value:n=>n.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}}),Se(iN,"layerName","MultiIconLayer");var aSe=m(822),cSe=m.n(aSe);const lSe=32,dSe=[];function uSe(n){return Math.pow(2,Math.ceil(Math.log2(n)))}function pW(n,e,t,i){let r=0;for(let s=e;s<t;s++){var o;r+=(null===(o=i[n[s]])||void 0===o?void 0:o.width)||0}return r}function mW(n,e,t,i,r,o){let s=e,a=0;for(let c=e;c<t;c++){const l=pW(n,c,c+1,r);a+l>i&&(s<c&&o.push(c),s=c,a=0),a+=l}return a}function pSe(n,e,t,i,r=0,o){void 0===o&&(o=n.length);const s=[];return"break-all"===e?mW(n,r,o,t,i,s):function fSe(n,e,t,i,r,o){let s=e,a=e,c=e,l=0;for(let d=e;d<t;d++)if((" "===n[d]||" "===n[d+1]||d+1===t)&&(c=d+1),c>a){let h=pW(n,a,c,r);l+h>i&&(s<a&&(o.push(a),s=a,l=0),h>i&&(h=mW(n,a,c,i,r,o),s=o[o.length-1])),a=c,l+=h}}(n,r,o,t,i,s),s}function mSe(n,e,t,i,r,o){let s=0,a=0;for(let c=e;c<t;c++){const l=n[c],d=i[l];d?(a||(a=d.height),r[c]=s+d.width/2,s+=d.width):(Ui.warn("Missing character: ".concat(l," (").concat(l.codePointAt(0),")"))(),r[c]=s,s+=lSe)}o[0]=s,o[1]=a}function gW(n,e,t,i,r){const o=Array.from(n),s=o.length,a=new Array(s),c=new Array(s),l=new Array(s),d=("break-word"===t||"break-all"===t)&&isFinite(i)&&i>0,h=[0,0],p=[0,0];let _=0,v=0,A=0;for(let P=0;P<=s;P++){const X=o[P];if(("\n"===X||P===s)&&(A=P),A>v){const Q=d?pSe(o,t,i,r,v,A):dSe;for(let pe=0;pe<=Q.length;pe++){const Re=0===pe?v:Q[pe-1],Ye=pe<Q.length?Q[pe]:A;mSe(o,Re,Ye,r,a,p);for(let tt=Re;tt<Ye;tt++)c[tt]=_+p[1]/2,l[tt]=p[0];_+=p[1]*e,h[0]=Math.max(h[0],p[0])}v=A}"\n"===X&&(a[v]=0,c[v]=0,l[v]=0,v++)}return h[1]=_,{x:a,y:c,rowWidth:l,size:h}}class _W{constructor(e=5){Se(this,"limit",void 0),Se(this,"_cache",{}),Se(this,"_order",[]),this.limit=e}get(e){const t=this._cache[e];return t&&(this._deleteOrder(e),this._appendOrder(e)),t}set(e,t){this._cache[e]?(this.delete(e),this._cache[e]=t,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=t,this._appendOrder(e))}delete(e){this._cache[e]&&(delete this._cache[e],this._deleteOrder(e))}_deleteOrder(e){const t=this._order.indexOf(e);t>=0&&this._order.splice(t,1)}_appendOrder(e){this._order.push(e)}}const ow={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function _Se(){const n=[];for(let e=32;e<128;e++)n.push(String.fromCharCode(e));return n}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1};let eA=new _W(3);function vSe(n,e){for(let t=0;t<n.length;t++)e.data[4*t+3]=n[t]}function wW(n,e,t,i){n.font="".concat(i," ").concat(t,"px ").concat(e),n.fillStyle="#000",n.textBaseline="alphabetic",n.textAlign="left"}class xSe{constructor(){Se(this,"props",{...ow}),Se(this,"_key",void 0),Se(this,"_atlas",void 0)}get texture(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){return 1.2}setProps(e={}){Object.assign(this.props,e);const t=this._key;this._key=this._getKey();const i=function ySe(n,e){let t;t="string"==typeof e?new Set(Array.from(e)):new Set(e);const i=eA.get(n);if(!i)return t;for(const r in i.mapping)t.has(r)&&t.delete(r);return t}(this._key,this.props.characterSet),r=eA.get(this._key);if(r&&0===i.size)return void(this._key!==t&&(this._atlas=r));const o=this._generateFontAtlas(this._key,i,r);this._atlas=o,eA.set(this._key,o)}_generateFontAtlas(e,t,i){const{fontFamily:r,fontWeight:o,fontSize:s,buffer:a,sdf:c,radius:l,cutoff:d}=this.props;let h=i&&i.data;h||(h=document.createElement("canvas"),h.width=1024);const p=h.getContext("2d");wW(p,r,s,o);const{mapping:_,canvasHeight:v,xOffset:A,yOffset:P}=function hSe({characterSet:n,getFontWidth:e,fontHeight:t,buffer:i,maxCanvasWidth:r,mapping:o={},xOffset:s=0,yOffset:a=0}){let c=0,l=s;for(const h of n)if(!o[h]){const p=e(h);l+p+2*i>r&&(l=0,c++),o[h]={x:l+i,y:a+c*(t+2*i)+i,width:p,height:t},l+=p+2*i}const d=t+2*i;return{mapping:o,xOffset:l,yOffset:a+c*d,canvasHeight:uSe(a+(c+1)*d)}}({getFontWidth:X=>p.measureText(X).width,fontHeight:1.2*s,buffer:a,characterSet:t,maxCanvasWidth:1024,...i&&{mapping:i.mapping,xOffset:i.xOffset,yOffset:i.yOffset}});if(h.height!==v){const X=p.getImageData(0,0,h.width,h.height);h.height=v,p.putImageData(X,0,0)}if(wW(p,r,s,o),c){const X=new(cSe())(s,a,l,d,r,o),Q=p.getImageData(0,0,X.size,X.size);for(const pe of t)vSe(X.draw(pe),Q),p.putImageData(Q,_[pe].x-a,_[pe].y+a)}else for(const X of t)p.fillText(X,_[X].x,_[X].y+.9*s);return{xOffset:A,yOffset:P,mapping:_,data:h,width:h.width,height:h.height}}_getKey(){const{fontFamily:e,fontWeight:t,fontSize:i,buffer:r,sdf:o,radius:s,cutoff:a}=this.props;return o?"".concat(e," ").concat(t," ").concat(i," ").concat(r," ").concat(s," ").concat(a):"".concat(e," ").concat(t," ").concat(i," ").concat(r)}}const SSe={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:n=>n.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class rN extends jp{constructor(...e){super(...e),Se(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME text-background-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceRects;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec2 instancePixelOffsets;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = radians(angle);\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n  vLineWidth = instanceLineWidths;\n\n  // convert size in meters to pixels, then scaled and clamp\n\n  // project meters to pixels and clamp to limits\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\n    sizeMinPixels, sizeMaxPixels\n  );\n\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\n\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\n  pixelOffset += instancePixelOffsets;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME text-background-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec2 pixelPosition = uv * dimensions;\n  if (stroked) {\n    float distToEdge = min(\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\n    );\n    float isBorder = smoothedge(distToEdge, vLineWidth);\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[ZS,QS]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){super.updateState(e);const{changeFlags:t}=e;if(t.extensionsChanged){var i;const{gl:r}=this.context;null===(i=this.state.model)||void 0===i||i.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}draw({uniforms:e}){const{billboard:t,sizeScale:i,sizeUnits:r,sizeMinPixels:o,sizeMaxPixels:s,getLineWidth:a}=this.props;let{padding:c}=this.props;c.length<4&&(c=[c[0],c[1],c[0],c[1]]),this.state.model.setUniforms(e).setUniforms({billboard:t,stroked:!!a,padding:c,sizeUnits:cS[r],sizeScale:i,sizeMinPixels:o,sizeMaxPixels:s}).draw()}_getModel(e){return new D_(e,{...this.getShaders(),id:this.props.id,geometry:new af({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,1,1,0,1])}}}),isInstanced:!0})}}Se(rN,"defaultProps",SSe),Se(rN,"layerName","TextBackgroundLayer");const xW={start:1,middle:0,end:-1},EW={top:1,center:0,bottom:-1},oN=[0,0,0,255],MSe={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:oN},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:ow.characterSet},fontFamily:ow.fontFamily,fontWeight:ow.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:oN},fontSettings:{},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:n=>n.text},getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:oN},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class sN extends DP{constructor(...e){super(...e),Se(this,"state",void 0),Se(this,"getBoundingRect",(t,i)=>{const r=this.state.fontAtlasManager.mapping,o=this.state.getText,{wordBreak:s,maxWidth:a,lineHeight:c,getTextAnchor:l,getAlignmentBaseline:d}=this.props,h=o(t,i)||"",{size:[p,_]}=gW(h,c,s,a,r);return[(xW["function"==typeof l?l(t,i):l]-1)*p/2,(EW["function"==typeof d?d(t,i):d]-1)*_/2,p,_]}),Se(this,"getIconOffsets",(t,i)=>{const r=this.state.fontAtlasManager.mapping,o=this.state.getText,{wordBreak:s,maxWidth:a,lineHeight:c,getTextAnchor:l,getAlignmentBaseline:d}=this.props,h=o(t,i)||"",{x:p,y:_,rowWidth:v,size:[A,P]}=gW(h,c,s,a,r),X=xW["function"==typeof l?l(t,i):l],Q=EW["function"==typeof d?d(t,i):d],pe=p.length,Re=new Array(2*pe);let Ye=0;for(let tt=0;tt<pe;tt++)Re[Ye++]=(X-1)*A/2+(1-X)*(A-v[tt])/2+p[tt],Re[Ye++]=(Q-1)*P/2+_[tt];return Re})}initializeState(){this.state={styleVersion:0,fontAtlasManager:new xSe}}updateState(e){const{props:t,oldProps:i,changeFlags:r}=e;(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this._updateText(),(this._updateFontAtlas()||t.lineHeight!==i.lineHeight||t.wordBreak!==i.wordBreak||t.maxWidth!==i.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:e}){return e.object=e.index>=0?this.props.data[e.index]:null,e}_updateFontAtlas(){const{fontSettings:e,fontFamily:t,fontWeight:i}=this.props,{fontAtlasManager:r,characterSet:o}=this.state,s={...e,characterSet:o,fontFamily:t,fontWeight:i};if(!r.mapping)return r.setProps(s),!0;for(const a in s)if(s[a]!==r.props[a])return r.setProps(s),!0;return!1}_updateText(){var e;const{data:t,characterSet:i}=this.props,r=null===(e=t.attributes)||void 0===e?void 0:e.getText;let a,{getText:o}=this.props,s=t.startIndices;const c="auto"===i&&new Set;if(r&&s){const{texts:l,characterCount:d}=function gSe({value:n,length:e,stride:t,offset:i,startIndices:r,characterSet:o}){const s=n.BYTES_PER_ELEMENT,a=t?t/s:1,c=i?i/s:0,l=r[e]||Math.ceil((n.length-c)/a),d=o&&new Set,h=new Array(e);let p=n;if(a>1||c>0){p=new(0,n.constructor)(l);for(let v=0;v<l;v++)p[v]=n[v*a+c]}for(let _=0;_<e;_++){const P=p.subarray(r[_],r[_+1]||l);h[_]=String.fromCodePoint.apply(null,P),d&&P.forEach(d.add,d)}if(d)for(const _ of d)o.add(String.fromCodePoint(_));return{texts:h,characterCount:l}}({...ArrayBuffer.isView(r)?{value:r}:r,length:t.length,startIndices:s,characterSet:c});a=d,o=(h,{index:p})=>l[p]}else{const{iterable:l,objectInfo:d}=_S(t);s=[0],a=0;for(const h of l){d.index++;const p=Array.from(o(h,d)||"");c&&p.forEach(c.add,c),a+=p.length,s.push(a)}}this.setState({getText:o,startIndices:s,numInstances:a,characterSet:c||i})}renderLayers(){const{startIndices:e,numInstances:t,getText:i,fontAtlasManager:{scale:r,texture:o,mapping:s},styleVersion:a}=this.state,{data:c,_dataDiff:l,getPosition:d,getColor:h,getSize:p,getAngle:_,getPixelOffset:v,getBackgroundColor:A,getBorderColor:P,getBorderWidth:X,backgroundPadding:Q,background:pe,billboard:Re,fontSettings:Ye,outlineWidth:tt,outlineColor:ht,sizeScale:Mt,sizeUnits:xt,sizeMinPixels:yt,sizeMaxPixels:Ot,transitions:Vt,updateTriggers:gt}=this.props,St=this.getSubLayerClass("characters",iN),Xt=this.getSubLayerClass("background",rN);return[pe&&new Xt({getFillColor:A,getLineColor:P,getLineWidth:X,padding:Q,getPosition:d,getSize:p,getAngle:_,getPixelOffset:v,billboard:Re,sizeScale:Mt/this.state.fontAtlasManager.props.fontSize,sizeUnits:xt,sizeMinPixels:yt,sizeMaxPixels:Ot,transitions:Vt&&{getPosition:Vt.getPosition,getAngle:Vt.getAngle,getSize:Vt.getSize,getFillColor:Vt.getBackgroundColor,getLineColor:Vt.getBorderColor,getLineWidth:Vt.getBorderWidth,getPixelOffset:Vt.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:gt.getPosition,getAngle:gt.getAngle,getSize:gt.getSize,getFillColor:gt.getBackgroundColor,getLineColor:gt.getBorderColor,getLineWidth:gt.getBorderWidth,getPixelOffset:gt.getPixelOffset,getBoundingRect:{getText:gt.getText,getTextAnchor:gt.getTextAnchor,getAlignmentBaseline:gt.getAlignmentBaseline,styleVersion:a}}}),{data:c.attributes&&c.attributes.background?{length:c.length,attributes:c.attributes.background}:c,_dataDiff:l,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new St({sdf:Ye.sdf,smoothing:Number.isFinite(Ye.smoothing)?Ye.smoothing:ow.smoothing,outlineWidth:tt,outlineColor:ht,iconAtlas:o,iconMapping:s,getPosition:d,getColor:h,getSize:p,getAngle:_,getPixelOffset:v,billboard:Re,sizeScale:Mt*r,sizeUnits:xt,sizeMinPixels:yt*r,sizeMaxPixels:Ot*r,transitions:Vt&&{getPosition:Vt.getPosition,getAngle:Vt.getAngle,getColor:Vt.getColor,getSize:Vt.getSize,getPixelOffset:Vt.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getIcon:gt.getText,getPosition:gt.getPosition,getAngle:gt.getAngle,getColor:gt.getColor,getSize:gt.getSize,getPixelOffset:gt.getPixelOffset,getIconOffsets:{getText:gt.getText,getTextAnchor:gt.getTextAnchor,getAlignmentBaseline:gt.getAlignmentBaseline,styleVersion:a}}}),{data:c,_dataDiff:l,startIndices:e,numInstances:t,getIconOffsets:this.getIconOffsets,getIcon:i})]}static set fontAtlasCacheLimit(e){!function wSe(n){Ui.assert(Number.isFinite(n)&&n>=3,"Invalid cache limit"),eA=new _W(n)}(e)}}Se(sN,"defaultProps",MSe),Se(sN,"layerName","TextLayer");const CW="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",TSe={lightSources:{}};function aN(){let{color:n=[0,0,0],intensity:e=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.map(t=>t*e/255)}const cN={name:"lights",vs:CW,fs:CW,getUniforms:function SW(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TSe;if("lightSources"in n){const{ambientLight:e,pointLights:t,directionalLights:i}=n.lightSources||{};return e||t&&t.length>0||i&&i.length>0?Object.assign({},function ISe(n){let{ambientLight:e,pointLights:t=[],directionalLights:i=[]}=n;const r={};return r["lighting_uAmbientLight.color"]=e?aN(e):[0,0,0],t.forEach((o,s)=>{r["lighting_uPointLight[".concat(s,"].color")]=aN(o),r["lighting_uPointLight[".concat(s,"].position")]=o.position,r["lighting_uPointLight[".concat(s,"].attenuation")]=o.attenuation||[1,0,0]}),r.lighting_uPointLightCount=t.length,i.forEach((o,s)=>{r["lighting_uDirectionalLight[".concat(s,"].color")]=aN(o),r["lighting_uDirectionalLight[".concat(s,"].direction")]=o.direction}),r.lighting_uDirectionalLightCount=i.length,r}({ambientLight:e,pointLights:t,directionalLights:i}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in n){const e={pointLights:[],directionalLights:[]};for(const t of n.lights||[])switch(t.type){case"ambient":e.ambientLight=t;break;case"directional":e.directionalLights.push(t);break;case"point":e.pointLights.push(t)}return SW({lightSources:e})}return{}},defines:{MAX_LIGHTS:3}},DSe={};const OSe={name:"phong-lighting",dependencies:[cN],fs:"\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",defines:{LIGHTING_FRAGMENT:1},getUniforms:function MW(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DSe;if(!("material"in n))return{};const{material:e}=n;return e?function kSe(n){const{ambient:e=.35,diffuse:t=.6,shininess:i=32,specularColor:r=[30,30,30]}=n;return{lighting_uAmbient:e,lighting_uDiffuse:t,lighting_uShininess:i,lighting_uSpecularColor:r.map(o=>o/255)}}(e):{lighting_uEnabled:!1}}},lN=Math.PI/180,tA=new Float32Array(16),TW=new Float32Array(12);function IW(n,e,t){const i=e[0]*lN,r=e[1]*lN,o=e[2]*lN,s=Math.sin(o),a=Math.sin(i),c=Math.sin(r),l=Math.cos(o),d=Math.cos(i),h=Math.cos(r),p=t[0],_=t[1],v=t[2];n[0]=p*h*d,n[1]=p*c*d,n[2]=p*-a,n[3]=_*(-c*l+h*a*s),n[4]=_*(h*l+c*a*s),n[5]=_*d*s,n[6]=v*(c*s+h*a*l),n[7]=v*(-h*s+c*a*l),n[8]=v*d*l}function DW(n){return n[0]=n[0],n[1]=n[1],n[2]=n[2],n[3]=n[4],n[4]=n[5],n[5]=n[6],n[6]=n[8],n[7]=n[9],n[8]=n[10],n[9]=n[12],n[10]=n[13],n[11]=n[14],n.subarray(0,12)}const kW={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update(n,{startRow:e,endRow:t}){const{data:i,getOrientation:r,getScale:o,getTranslation:s,getTransformMatrix:a}=this.props,c=Array.isArray(a),l=c&&16===a.length,d=Array.isArray(o),h=Array.isArray(r),p=Array.isArray(s),_=l||!c&&!!a(i[0]);n.constant=_?l:h&&d&&p;const v=n.value;if(n.constant){let A;_?(tA.set(a),A=DW(tA)):(A=TW,IW(A,r,o),A.set(s,9)),n.value=new Float32Array(A)}else{let A=e*n.size;const{iterable:P,objectInfo:X}=_S(i,e,t);for(const Q of P){let pe;X.index++,_?(tA.set(l?a:a(Q,X)),pe=DW(tA)):(pe=TW,IW(pe,h?r:r(Q,X),d?o:o(Q,X)),pe.set(p?s:s(Q,X),9)),v[A++]=pe[0],v[A++]=pe[1],v[A++]=pe[2],v[A++]=pe[3],v[A++]=pe[4],v[A++]=pe[5],v[A++]=pe[6],v[A++]=pe[7],v[A++]=pe[8],v[A++]=pe[9],v[A++]=pe[10],v[A++]=pe[11]}}}};function OW(n,e){return e===qi.CARTESIAN||e===qi.METER_OFFSETS||e===qi.DEFAULT&&!n.isGeospatial}function RW(n,e){(n.COLOR_0||n.colors)&&e||(n.colors={constant:!0,value:new Float32Array([1,1,1])}),Ui.assert(n.positions||n.POSITION,'no "postions" or "POSITION" attribute in mesh')}function NSe(n,e){if(n.attributes)return RW(n.attributes,e),n instanceof af?n:new af(n);if(n.positions||n.POSITION)return RW(n,e),new af({attributes:n});throw Error("Invalid mesh")}class dN extends jp{constructor(...e){super(...e),Se(this,"state",void 0)}getShaders(){const e=!Ii(this.context.gl),t={};return r2(this.context.gl,"GLSL_DERIVATIVES")&&(t.DERIVATIVES_AVAILABLE=1),super.getShaders({vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\n\n// Scale the model\nuniform float sizeScale;\nuniform bool composeModelMatrix;\n\n// Primitive attributes\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Outputs to fragment shader\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n    geometry.position = position_commonspace;\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n    geometry.position = position_commonspace;\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n  }\n\n  geometry.normal = normals_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n\n// NOTE(Tarek): This is necessary because\n// headless.gl reports the extension as\n// available but does not support it in\n// the shader.\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[ZS,OSe,QS],transpileToGLSL100:e,defines:t})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:5130,fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:5121,transition:!0,size:this.props.colorFormat.length,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:kW}),this.setState({emptyTexture:new Ns(this.context.gl,{data:new Uint8Array(4),width:1,height:1})})}updateState(e){super.updateState(e);const{props:t,oldProps:i,changeFlags:r}=e;if(t.mesh!==i.mesh||r.extensionsChanged){var o;if(null===(o=this.state.model)||void 0===o||o.delete(),t.mesh){this.state.model=this.getModel(t.mesh);const s=t.mesh.attributes||t.mesh;this.setState({hasNormals:!(!s.NORMAL&&!s.normals)})}this.getAttributeManager().invalidateAll()}t.texture!==i.texture&&this.setTexture(t.texture),this.state.model&&this.state.model.setDrawMode(this.props.wireframe?3:4)}finalizeState(e){super.finalizeState(e),this.state.emptyTexture.delete()}draw({uniforms:e}){if(!this.state.model)return;const{viewport:t}=this.context,{sizeScale:i,coordinateSystem:r,_instanced:o}=this.props;this.state.model.setUniforms(e).setUniforms({sizeScale:i,composeModelMatrix:!o||OW(t,r),flatShading:!this.state.hasNormals}).draw()}getModel(e){const t=new D_(this.context.gl,{...this.getShaders(),id:this.props.id,geometry:NSe(e,this.props._useMeshColors),isInstanced:!0}),{texture:i}=this.props,{emptyTexture:r}=this.state;return t.setUniforms({sampler:i||r,hasTexture:!!i}),t}setTexture(e){const{emptyTexture:t,model:i}=this.state;i&&i.setUniforms({sampler:e||t,hasTexture:!!e})}}Se(dN,"defaultProps",{mesh:{type:"object",value:null,async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_useMeshColors:{type:"boolean",value:!1},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:[0,0,0,255]},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]}}),Se(dN,"layerName","SimpleMeshLayer");const PW={name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)\n# error PBR fragment shader: Texture LOD is not available\n#endif\n\n#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)\n# error PBR fragment shader: Derivatives are not available\n#endif\n\n\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n\nstruct PBRInfo\n{\n  float NdotL;\n  float NdotV;\n  float NdotH;\n  float LdotH;\n  float VdotH;\n  float perceptualRoughness;\n  float metalness;\n  vec3 reflectance0;\n  vec3 reflectance90;\n  float alphaRoughness;\n  vec3 diffuseColor;\n  vec3 specularColor;\n  vec3 n;\n  vec3 v;\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif\n  return vec4(linOut,srgbIn.w);;\n#else\n  return srgbIn;\n#endif\n}\n\nvec3 getNormal()\n{\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0;\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n\n\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n\n\n\n\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);\n  vec3 h = normalize(l+v);\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n\n\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n\n\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();\n    vec3 v = normalize(u_Camera - pbr_vPosition);\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0,\n      NdotV,\n      0.0,\n      0.0,\n      0.0,\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n#ifdef PBR_DEBUG\n\n\n\n\n\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[cN]};class j_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t}=e;this.id=t||Wa(this.constructor.name),this.display=!0,this.position=new oa,this.rotation=new oa,this.scale=new oa(1,1,1),this.matrix=new Nt,this.userData={},this.props={},this._setScenegraphNodeProps(e)}delete(){}setProps(e){return this._setScenegraphNodeProps(e),this}toString(){return"{type: ScenegraphNode, id: ".concat(this.id,")}")}getBounds(){return null}setPosition(e){return _n(3===e.length,"setPosition requires vector argument"),this.position=e,this}setRotation(e){return _n(3===e.length,"setRotation requires vector argument"),this.rotation=e,this}setScale(e){return _n(3===e.length,"setScale requires vector argument"),this.scale=e,this}setMatrix(e){arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?this.matrix=e:this.matrix.copy(e)}setMatrixComponents(e){let{position:t,rotation:i,scale:r,update:o=!0}=e;return t&&this.setPosition(t),i&&this.setRotation(i),r&&this.setScale(r),o&&this.updateMatrix(),this}updateMatrix(){const e=this.position,t=this.rotation,i=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(i),this}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{position:t,rotation:i,scale:r}=e;return t&&this.setPosition(t),i&&this.setRotation(i),r&&this.setScale(r),this.updateMatrix(),this}getCoordinateUniforms(e,t){_n(e),t=t||this.matrix;const i=new Nt(e).multiplyRight(t),r=i.invert(),o=r.transpose();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:i,worldInverseMatrix:r,worldInverseTransposeMatrix:o}}_setScenegraphNodeProps(e){"display"in e&&(this.display=e.display),"position"in e&&this.setPosition(e.position),"rotation"in e&&this.setRotation(e.rotation),"scale"in e&&this.setScale(e.scale),"matrix"in e&&this.setMatrix(e.matrix),Object.assign(this.props,e)}}class sw extends j_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Array.isArray(e)?{children:e}:e;const{children:t=[]}=e;Dn.assert(t.every(i=>i instanceof j_),"every child must an instance of ScenegraphNode"),super(e),this.children=t}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const r of t)Array.isArray(r)?this.add(...r):this.children.push(r);return this}remove(e){const t=this.children,i=t.indexOf(e);return i>-1&&t.splice(i,1),this}removeAll(){return this.children=[],this}delete(){this.children.forEach(e=>e.delete()),this.removeAll(),super.delete()}getBounds(){const e=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];return this.traverse((t,i)=>{let{worldMatrix:r}=i;const o=t.getBounds();if(!o)return;const[s,a]=o,c=new oa(s).add(a).divide([2,2,2]);r.transformAsPoint(c,c);const l=new oa(a).subtract(s).divide([2,2,2]);r.transformAsVector(l,l);for(let d=0;d<8;d++){const h=new oa(1&d?-1:1,2&d?-1:1,4&d?-1:1).multiply(l).add(c);for(let p=0;p<3;p++)e[0][p]=Math.min(e[0][p],h[p]),e[1][p]=Math.max(e[1][p],h[p])}}),Number.isFinite(e[0][0])?e:null}traverse(e){let{worldMatrix:t=new Nt}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new Nt(t).multiplyRight(this.matrix);for(const r of this.children)r instanceof sw?r.traverse(e,{worldMatrix:i}):e(r,{worldMatrix:i})}}let nA;class uN extends cG{static get ZERO(){return nA||(nA=new uN(0,0,0,0),Object.freeze(nA)),nA}constructor(e=0,t=0,i=0,r=0){super(-0,-0,-0,-0),ku(e)&&1===arguments.length?this.copy(e):(ko.debug&&(kr(e),kr(t),kr(i),kr(r)),this[0]=e,this[1]=t,this[2]=i,this[3]=r)}set(e,t,i,r){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}fromObject(e){return ko.debug&&(kr(e.x),kr(e.y),kr(e.z),kr(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}get ELEMENTS(){return 4}get z(){return this[2]}set z(e){this[2]=kr(e)}get w(){return this[3]}set w(e){this[3]=kr(e)}transform(e){return a2(this,this,e),this.check()}transformByMatrix3(e){return function Y_e(n,e,t){const i=e[0],r=e[1],o=e[2];n[0]=t[0]*i+t[3]*r+t[6]*o,n[1]=t[1]*i+t[4]*r+t[7]*o,n[2]=t[2]*i+t[5]*r+t[8]*o,n[3]=e[3]}(this,this,e),this.check()}transformByMatrix2(e){return function $_e(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2],n[3]=e[3]}(this,this,e),this.check()}transformByQuaternion(e){return hG(this,this,e),this.check()}applyMatrix4(e){return e.transform(this,this),this}}function NW(){var n=new Ya(4);return Ya!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function FW(n,e,t){t*=.5;var i=Math.sin(t);return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=Math.cos(t),n}function LW(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=t[0],c=t[1],l=t[2],d=t[3];return n[0]=i*d+s*a+r*l-o*c,n[1]=r*d+s*c+o*a-i*l,n[2]=o*d+s*l+i*c-r*a,n[3]=s*d-i*a-r*c-o*l,n}var UW=m9,JSe=function(){var n=lG(),e=dG(1,0,0),t=dG(0,1,0);return function(i,r,o){var s=uG(r,o);return s<-.999999?(pS(n,e,r),function R_e(n){return Math.hypot(n[0],n[1],n[2])}(n)<1e-6&&pS(n,t,r),function F_e(n,e){var t=e[0],i=e[1],r=e[2],o=t*t+i*i+r*r;o>0&&(o=1/Math.sqrt(o)),n[0]=e[0]*o,n[1]=e[1]*o,n[2]=e[2]*o}(n,n),FW(i,n,Math.PI),i):s>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(pS(n,r,o),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=1+s,function v0e(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*t+i*i+r*r+o*o;return s>0&&(s=1/Math.sqrt(s)),n[0]=t*s,n[1]=i*s,n[2]=r*s,n[3]=o*s,n}(i,i))}}();NW(),NW(),function LSe(){var n=new Ya(9);Ya!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1}();const ZSe=[0,0,0,1],eAe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},tAe={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function zW(n){if(!n._animation){const e=tAe[n.componentType],t=eAe[n.type],i=t*n.count,{buffer:r,byteOffset:o}=n.bufferView.data,s=new e(r,o+(n.byteOffset||0),i);if(1===t)n._animation=Array.from(s);else{const a=[];for(let c=0;c<s.length;c+=t)a.push(Array.from(s.slice(c,c+t)));n._animation=a}}return n._animation}const nAe=new Nt,hN=new class QSe extends s2{constructor(e=0,t=0,i=0,r=1){super(-0,-0,-0,-0),Array.isArray(e)&&1===arguments.length?this.copy(e):this.set(e,t,i,r)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}set(e,t,i,r){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this.check()}fromObject(e){return this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this.check()}fromMatrix3(e){return function BW(n,e){var i,t=e[0]+e[4]+e[8];if(t>0)i=Math.sqrt(t+1),n[3]=.5*i,n[0]=(e[5]-e[7])*(i=.5/i),n[1]=(e[6]-e[2])*i,n[2]=(e[1]-e[3])*i;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var o=(r+1)%3,s=(r+2)%3;i=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*s+s]+1),n[r]=.5*i,n[3]=(e[3*o+s]-e[3*s+o])*(i=.5/i),n[o]=(e[3*o+r]+e[3*r+o])*i,n[s]=(e[3*s+r]+e[3*r+s])*i}return n}(this,e),this.check()}fromAxisRotation(e,t){return FW(this,e,t),this.check()}identity(){return function BSe(n){n[0]=0,n[1]=0,n[2]=0,n[3]=1}(this),this.check()}setAxisAngle(e,t){return this.fromAxisRotation(e,t)}get ELEMENTS(){return 4}get x(){return this[0]}set x(e){this[0]=kr(e)}get y(){return this[1]}set y(e){this[1]=kr(e)}get z(){return this[2]}set z(e){this[2]=kr(e)}get w(){return this[3]}set w(e){this[3]=kr(e)}len(){return function b0e(n){return Math.hypot(n[0],n[1],n[2],n[3])}(this)}lengthSquared(){return function y0e(n){var e=n[0],t=n[1],i=n[2],r=n[3];return e*e+t*t+i*i+r*r}(this)}dot(e){return function w0e(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}(this,e)}rotationTo(e,t){return JSe(this,e,t),this.check()}add(e){return function _0e(n,e,t){n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3]}(this,this,e),this.check()}calculateW(){return function zSe(n,e){var t=e[0],i=e[1],r=e[2];n[0]=t,n[1]=i,n[2]=r,n[3]=Math.sqrt(Math.abs(1-t*t-i*i-r*r))}(this,this),this.check()}conjugate(){return function $Se(n,e){n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3]}(this,this),this.check()}invert(){return function WSe(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*t+i*i+r*r+o*o,a=s?1/s:0;n[0]=-t*a,n[1]=-i*a,n[2]=-r*a,n[3]=o*a}(this,this),this.check()}lerp(e,t,i){return void 0===i?this.lerp(this,e,t):(function x0e(n,e,t,i){var r=e[0],o=e[1],s=e[2],a=e[3];n[0]=r+i*(t[0]-r),n[1]=o+i*(t[1]-o),n[2]=s+i*(t[2]-s),n[3]=a+i*(t[3]-a)}(this,e,t,i),this.check())}multiplyRight(e){return LW(this,this,e),this.check()}multiplyLeft(e){return LW(this,e,this),this.check()}normalize(){const e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}rotateX(e){return function USe(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c+s*a,n[1]=r*c+o*a,n[2]=o*c-r*a,n[3]=s*c-i*a}(this,this,e),this.check()}rotateY(e){return function VSe(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c-o*a,n[1]=r*c+s*a,n[2]=o*c+i*a,n[3]=s*c-r*a}(this,this,e),this.check()}rotateZ(e){return function jSe(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c+r*a,n[1]=r*c-i*a,n[2]=o*c+s*a,n[3]=s*c-o*a}(this,this,e),this.check()}scale(e){return UW(this,this,e),this.check()}slerp(e,t,i){let r,o,s;switch(arguments.length){case 1:({start:r=ZSe,target:o,ratio:s}=e);break;case 2:r=this,o=e,s=t;break;default:r=e,o=t,s=i}return function iA(n,e,t,i){var p,_,v,A,P,r=e[0],o=e[1],s=e[2],a=e[3],c=t[0],l=t[1],d=t[2],h=t[3];return(_=r*c+o*l+s*d+a*h)<0&&(_=-_,c=-c,l=-l,d=-d,h=-h),1-_>md?(p=Math.acos(_),v=Math.sin(p),A=Math.sin((1-i)*p)/v,P=Math.sin(i*p)/v):(A=1-i,P=i),n[0]=A*r+P*c,n[1]=A*o+P*l,n[2]=A*s+P*d,n[3]=A*a+P*h,n}(this,r,o,s),this.check()}transformVector4(e,t=new uN){return function E0e(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2],l=t[3],d=l*i+a*o-c*r,h=l*r+c*i-s*o,p=l*o+s*r-a*i,_=-s*i-a*r-c*o;n[0]=d*l+_*-s+h*-c-p*-a,n[1]=h*l+_*-a+p*-s-d*-c,n[2]=p*l+_*-c+d*-a-h*-s,n[3]=e[3]}(t,e,this),fS(t,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(e,t){return this.setAxisAngle(e,t)}premultiply(e){return this.multiplyLeft(e)}multiply(e){return this.multiplyRight(e)}};class cAe{constructor(e){this.startTime=0,this.playing=!0,this.speed=1,this.channels=[],Object.assign(this,e)}animate(e){if(!this.playing)return;const i=(e/1e3-this.startTime)*this.speed;this.channels.forEach(r=>{let{sampler:o,target:s,path:a}=r;(function aAe(n,e,t,i){let{input:r,interpolation:o,output:s}=e;const c=n%r[r.length-1],l=r.findIndex(_=>_>=c),d=Math.max(0,l-1);if(!Array.isArray(t[i]))switch(i){case"translation":t[i]=[0,0,0];break;case"rotation":t[i]=[0,0,0,1];break;case"scale":t[i]=[1,1,1];break;default:Dn.warn("Bad animation path ".concat(i))()}_n(t[i].length===s[d].length);const h=r[d],p=r[l];switch(o){case"STEP":!function sAe(n,e,t){for(let i=0;i<t.length;i++)n[e][i]=t[i]}(t,i,s[d]);break;case"LINEAR":p>h&&function rAe(n,e,t,i,r){if("rotation"===e){hN.slerp({start:t,target:i,ratio:r});for(let o=0;o<hN.length;o++)n[e][o]=hN[o]}else for(let o=0;o<t.length;o++)n[e][o]=r*i[o]+(1-r)*t[o]}(t,i,s[d],s[l],(c-h)/(p-h));break;case"CUBICSPLINE":p>h&&function oAe(n,e,t){let{p0:i,outTangent0:r,inTangent1:o,p1:s,tDiff:a,ratio:c}=t;for(let l=0;l<n[e].length;l++){const d=r[l]*a,h=o[l]*a;n[e][l]=(2*Math.pow(c,3)-3*Math.pow(c,2)+1)*i[l]+(Math.pow(c,3)-2*Math.pow(c,2)+c)*d+(-2*Math.pow(c,3)+3*Math.pow(c,2))*s[l]+(Math.pow(c,3)-Math.pow(c,2))*h}}(t,i,{p0:s[3*d+1],outTangent0:s[3*d+2],inTangent1:s[3*l+0],p1:s[3*l+1],tDiff:p-h,ratio:(c-h)/(p-h)});break;default:Dn.warn("Interpolation ".concat(o," not supported"))()}})(i,o,s,a),function iAe(n,e){if(e.matrix.identity(),n.translation&&e.matrix.translate(n.translation),n.rotation){const t=nAe.fromQuaternion(n.rotation);e.matrix.multiplyRight(t)}n.scale&&e.matrix.scale(n.scale)}(s,s._node)})}}class lAe{constructor(e){this.animations=e.animations.map((t,i)=>{const r=t.name||"Animation-".concat(i),o=t.samplers.map(a=>{let{input:c,interpolation:l="LINEAR",output:d}=a;return{input:zW(e.accessors[c]),interpolation:l,output:zW(e.accessors[d])}}),s=t.channels.map(a=>{let{sampler:c,target:l}=a;return{sampler:o[c],target:e.nodes[l.node],path:l.path}});return new cAe({name:r,channels:s})})}animate(e){this.setTime(e)}setTime(e){this.animations.forEach(t=>t.animate(e))}getAnimations(){return this.animations}}class dAe extends j_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this.onBeforeRender=null,this.AfterRender=null,e instanceof D_?(this.model=e,this._setModelNodeProps(t)):this.model=new D_(e,t),this.bounds=null,this.managedResources=t.managedResources||[]}setProps(e){return super.setProps(e),this._setModelNodeProps(e),this}getBounds(){return this.bounds}delete(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach(e=>e.delete()),this.managedResources=[]}draw(){return this.model.draw(...arguments)}setUniforms(){return this.model.setUniforms(...arguments),this}setAttributes(){return this.model.setAttributes(...arguments),this}updateModuleSettings(){return this.model.updateModuleSettings(...arguments),this}_setModelNodeProps(e){this.model.setProps(e)}}class uAe{constructor(e,t){let{attributes:i,material:r,pbrDebug:o,imageBasedLightingEnvironment:s,lights:a,useTangents:c}=t;this.gl=e,this.defines={MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},r2(e,"GLSL_TEXTURE_LOD")&&(this.defines.USE_TEX_LOD=1),this.uniforms={u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},this.parameters={},this.generatedTextures=[],s&&(this.uniforms.u_DiffuseEnvSampler=s.getDiffuseEnvSampler(),this.uniforms.u_SpecularEnvSampler=s.getSpecularEnvSampler(),this.uniforms.u_brdfLUT=s.getBrdfTexture(),this.uniforms.u_ScaleIBLAmbient=[1,1]),o&&(this.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],this.uniforms.u_ScaleFGDSpec=[0,0,0,0]),this.defineIfPresent(i.NORMAL,"HAS_NORMALS"),this.defineIfPresent(i.TANGENT&&c,"HAS_TANGENTS"),this.defineIfPresent(i.TEXCOORD_0,"HAS_UV"),this.defineIfPresent(s,"USE_IBL"),this.defineIfPresent(a,"USE_LIGHTS"),this.defineIfPresent(o,"PBR_DEBUG"),r&&this.parseMaterial(r)}defineIfPresent(e,t){e&&(this.defines[t]=1)}parseTexture(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=e.texture.source.image;let s,a={};o.compressed?(s=o,a={[this.gl.TEXTURE_MIN_FILTER]:o.data.length>1?this.gl.LINEAR_MIPMAP_NEAREST:this.gl.LINEAR}):s={data:o};const c=new Ns(this.gl,{id:e.name||e.id,parameters:{...e.texture&&e.texture.sampler&&e.texture.sampler.parameters||{},...a},pixelStore:{[this.gl.UNPACK_FLIP_Y_WEBGL]:!1},...s});this.uniforms[t]=c,this.defineIfPresent(i,i),this.generatedTextures.push(c)}parsePbrMetallicRoughness(e){e.baseColorTexture&&this.parseTexture(e.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP"),this.uniforms.u_BaseColorFactor=e.baseColorFactor||[1,1,1,1],e.metallicRoughnessTexture&&this.parseTexture(e.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP");const{metallicFactor:t=1,roughnessFactor:i=1}=e;this.uniforms.u_MetallicRoughnessValues=[t,i]}parseMaterial(e){if(this.uniforms.pbr_uUnlit=!!e.unlit,e.pbrMetallicRoughness&&this.parsePbrMetallicRoughness(e.pbrMetallicRoughness),e.normalTexture){this.parseTexture(e.normalTexture,"u_NormalSampler","HAS_NORMALMAP");const{scale:t=1}=e.normalTexture;this.uniforms.u_NormalScale=t}if(e.occlusionTexture){this.parseTexture(e.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP");const{strength:t=1}=e.occlusionTexture;this.uniforms.u_OcclusionStrength=t}if(e.emissiveTexture&&(this.parseTexture(e.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP"),this.uniforms.u_EmissiveFactor=e.emissiveFactor||[0,0,0]),"MASK"===e.alphaMode){const{alphaCutoff:t=.5}=e;this.defines.ALPHA_CUTOFF=1,this.uniforms.u_AlphaCutoff=t}else"BLEND"===e.alphaMode&&(Dn.warn("BLEND alphaMode might not work well because it requires mesh sorting")(),Object.assign(this.parameters,{blend:!0,blendEquation:this.gl.FUNC_ADD,blendFunc:[this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA]}))}delete(){this.generatedTextures.forEach(e=>e.delete())}}function HW(n,e){return Ii(n)?"#version 300 es\n".concat(e):e}const mAe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},gAe={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1};class _Ae{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.options=Object.assign({},gAe,t)}instantiate(e){return this.gltf=e,(e.scenes||[]).map(i=>this.createScene(i))}createAnimator(){return Array.isArray(this.gltf.animations)?new lAe(this.gltf):null}createScene(e){const i=(e.nodes||[]).map(o=>this.createNode(o));return new sw({id:e.name||e.id,children:i})}createNode(e){if(!e._node){const i=(e.children||[]).map(o=>this.createNode(o));e.mesh&&i.push(this.createMesh(e.mesh));const r=new sw({id:e.name||e.id,children:i});if(e.matrix)r.setMatrix(e.matrix);else{if(r.matrix.identity(),e.translation&&r.matrix.translate(e.translation),e.rotation){const o=(new Nt).fromQuaternion(e.rotation);r.matrix.multiplyRight(o)}e.scale&&r.matrix.scale(e.scale)}e._node=r}return e._node}createMesh(e){if(!e._mesh){const i=(e.primitives||[]).map((o,s)=>this.createPrimitive(o,s,e)),r=new sw({id:e.name||e.id,children:i});e._mesh=r}return e._mesh}getVertexCount(e){Dn.warn("getVertexCount() not found")()}createPrimitive(e,t,i){const r=function pAe(n,e){const{id:t,drawMode:i,vertexCount:r,attributes:o,modelOptions:s}=e,a=new uAe(n,e);Dn.info(4,"createGLTFModel defines: ",a.defines)();const c=[];c.push(...a.generatedTextures),c.push(...Object.values(o).map(d=>d.buffer));const l=new dAe(n,{id:t,drawMode:i,vertexCount:r,modules:[PW],parameters:a.parameters,vs:HW(n,"\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  _attr vec4 POSITION;\n\n  #ifdef HAS_NORMALS\n    _attr vec4 NORMAL;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    _attr vec2 TEXCOORD_0;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = NORMAL;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = TEXCOORD_0;\n    #endif\n\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * POSITION;\n  }\n"),fs:HW(n,"\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    fragmentColor = pbr_filterColor(vec4(0));\n  }\n"),managedResources:c,...s,defines:{...a.defines,...s.defines}});return l.setProps({attributes:o}),l.setUniforms(a.uniforms),l}(this.gl,Object.assign({id:e.name||"".concat(i.name||i.id,"-primitive-").concat(t),drawMode:e.mode||4,vertexCount:e.indices?e.indices.count:this.getVertexCount(e.attributes),attributes:this.createAttributes(e.attributes,e.indices),material:e.material},this.options));return r.bounds=[e.attributes.POSITION.min,e.attributes.POSITION.max],r}createAttributes(e,t){const i={};return Object.keys(e).forEach(r=>{i[r]=this.createAccessor(e[r],this.createBuffer(e[r],this.gl.ARRAY_BUFFER))}),t&&(i.indices=this.createAccessor(t,this.createBuffer(t,this.gl.ELEMENT_ARRAY_BUFFER))),Dn.info(4,"glTF Attributes",{attributes:e,indices:t,generated:i})(),i}createBuffer(e,t){e.bufferView||(e.bufferView={});const{bufferView:i}=e;return i.lumaBuffers||(i.lumaBuffers={}),i.lumaBuffers[t]||(i.lumaBuffers[t]=new Sr(this.gl,{id:"from-".concat(i.id),data:i.data||e.value,target:t})),i.lumaBuffers[t]}createAccessor(e,t){return new $a({buffer:t,offset:e.byteOffset||0,stride:e.bufferView.byteStride||0,type:e.componentType,size:mAe[e.type]})}createSampler(e){return e}needsPOT(){return!1}}var aw=m(9125);const wAe="3.2.13",fN={};function Gp(n){return pN.apply(this,arguments)}function pN(){return pN=yn(function*(n,e=null,t={}){return e&&(n=function xAe(n,e,t){if(n.startsWith("http"))return n;const i=t.modules||{};return i[n]?i[n]:tf?t.CDN?(_d(t.CDN.startsWith("http")),"".concat(t.CDN,"/").concat(e,"@").concat(wAe,"/dist/libs/").concat(n)):sP?"../src/libs/".concat(n):"modules/".concat(e,"/src/libs/").concat(n):"modules/".concat(e,"/dist/libs/").concat(n)}(n,e,t)),fN[n]=fN[n]||function EAe(n){return mN.apply(this,arguments)}(n),yield fN[n]}),pN.apply(this,arguments)}function mN(){return mN=yn(function*(n){if(n.endsWith("wasm"))return yield(yield fetch(n)).arrayBuffer();if(!tf)try{return aw&&aw.requireFromFile&&(yield aw.requireFromFile(n))}catch{return null}return sP?importScripts(n):function CAe(n,e){if(!tf)return aw.requireFromString&&aw.requireFromString(n,e);if(sP)return eval.call(Kwe,n),null;const t=document.createElement("script");t.id=e;try{t.appendChild(document.createTextNode(n))}catch{t.text=n}return document.body.appendChild(t),null}(yield(yield fetch(n)).text(),n)}),mN.apply(this,arguments)}const SAe="https://unpkg.com/@loaders.gl/textures@".concat("3.2.13","/dist/libs/basis_encoder.wasm"),AAe="https://unpkg.com/@loaders.gl/textures@".concat("3.2.13","/dist/libs/basis_encoder.js");let gN,yN;function WW(n){return _N.apply(this,arguments)}function _N(){return _N=yn(function*(n){const e=n.modules||{};return e.basis?e.basis:(gN=gN||function MAe(n){return bN.apply(this,arguments)}(n),yield gN)}),_N.apply(this,arguments)}function bN(){return bN=yn(function*(n){let e=null,t=null;return[e,t]=yield Promise.all([yield Gp("basis_transcoder.js","textures",n),yield Gp("basis_transcoder.wasm","textures",n)]),e=e||globalThis.BASIS,yield function TAe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n(t).then(r=>{const{BasisFile:o,initializeBasis:s}=r;s(),i({BasisFile:o})})})}(e,t)}),bN.apply(this,arguments)}function $W(n){return vN.apply(this,arguments)}function vN(){return vN=yn(function*(n){const e=n.modules||{};return e.basisEncoder?e.basisEncoder:(yN=yN||function IAe(n){return wN.apply(this,arguments)}(n),yield yN)}),vN.apply(this,arguments)}function wN(){return wN=yn(function*(n){let e=null,t=null;return[e,t]=yield Promise.all([yield Gp(AAe,"textures",n),yield Gp(SAe,"textures",n)]),e=e||globalThis.BASIS,yield function DAe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n(t).then(r=>{const{BasisFile:o,KTX2File:s,initializeBasis:a,BasisEncoder:c}=r;a(),i({BasisFile:o,KTX2File:s,BasisEncoder:c})})})}(e,t)}),wN.apply(this,arguments)}const kAe=["","WEBKIT_","MOZ_"],YW={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let rA=null;var xN,oA,EN,sA,KW,CN,qW,JW;new Uint8Array([0]),function(n){n[n.NONE=0]="NONE",n[n.BASISLZ=1]="BASISLZ",n[n.ZSTD=2]="ZSTD",n[n.ZLIB=3]="ZLIB"}(xN||(xN={})),function(n){n[n.BASICFORMAT=0]="BASICFORMAT"}(oA||(oA={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.ETC1S=163]="ETC1S",n[n.UASTC=166]="UASTC"}(EN||(EN={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.SRGB=1]="SRGB"}(sA||(sA={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.LINEAR=1]="LINEAR",n[n.SRGB=2]="SRGB",n[n.ITU=3]="ITU",n[n.NTSC=4]="NTSC",n[n.SLOG=5]="SLOG",n[n.SLOG2=6]="SLOG2"}(KW||(KW={})),function(n){n[n.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",n[n.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(CN||(CN={})),function(n){n[n.RGB=0]="RGB",n[n.RRR=3]="RRR",n[n.GGG=4]="GGG",n[n.AAA=15]="AAA"}(qW||(qW={})),function(n){n[n.RGB=0]="RGB",n[n.RGBA=3]="RGBA",n[n.RRR=4]="RRR",n[n.RRRG=5]="RRRG"}(JW||(JW={}));const gc=[171,75,84,88,32,50,48,187,13,10,26,10],LAe={etc1:{basisFormat:0,compressed:!0,format:36196},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:33776},bc3:{basisFormat:3,compressed:!0,format:33779},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:35840},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:35842},"astc-4x4":{basisFormat:10,compressed:!0,format:37808},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function AN(){return AN=yn(function*(n,e){if("auto"===e.basis.containerFormat){if(function FAe(n){const e=new Uint8Array(n);return!(e.byteLength<gc.length||e[0]!==gc[0]||e[1]!==gc[1]||e[2]!==gc[2]||e[3]!==gc[3]||e[4]!==gc[4]||e[5]!==gc[5]||e[6]!==gc[6]||e[7]!==gc[7]||e[8]!==gc[8]||e[9]!==gc[9]||e[10]!==gc[10]||e[11]!==gc[11])}(n))return e$((yield $W(e)).KTX2File,n,e);const{BasisFile:t}=yield WW(e);return MN(t,n,e)}if("encoder"===e.basis.module){const t=yield $W(e);return"ktx2"===e.basis.containerFormat?e$(t.KTX2File,n,e):MN(t.BasisFile,n,e)}{const{BasisFile:i}=yield WW(e);return MN(i,n,e)}}),AN.apply(this,arguments)}function MN(n,e,t){const i=new n(new Uint8Array(e));try{if(!i.startTranscoding())throw new Error("Failed to start basis transcoding");const r=i.getNumImages(),o=[];for(let s=0;s<r;s++){const a=i.getNumLevels(s),c=[];for(let l=0;l<a;l++)c.push(UAe(i,s,l,t));o.push(c)}return o}finally{i.close(),i.delete()}}function UAe(n,e,t,i){const r=n.getImageWidth(e,t),o=n.getImageHeight(e,t),s=n.getHasAlpha(),{compressed:a,format:c,basisFormat:l}=t$(i,s),d=n.getImageTranscodedSizeInBytes(e,t,l),h=new Uint8Array(d);if(!n.transcodeImage(h,e,t,l,0,0))throw new Error("failed to start Basis transcoding");return{width:r,height:o,data:h,compressed:a,format:c,hasAlpha:s}}function e$(n,e,t){const i=new n(new Uint8Array(e));try{if(!i.startTranscoding())throw new Error("failed to start KTX2 transcoding");const r=i.getLevels(),o=[];for(let s=0;s<r;s++){o.push(VAe(i,s,t));break}return[o]}finally{i.close(),i.delete()}}function VAe(n,e,t){const{alphaFlag:i,height:r,width:o}=n.getImageLevelInfo(e,0,0),{compressed:s,format:a,basisFormat:c}=t$(t,i),l=n.getImageTranscodedSizeInBytes(e,0,0,c),d=new Uint8Array(l);if(!n.transcodeImage(d,e,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:r,data:d,compressed:s,hasAlpha:i,format:a}}function t$(n,e){let t=n&&n.basis&&n.basis.format;return"auto"===t&&(t=n$()),"object"==typeof t&&(t=e?t.alpha:t.noAlpha),t=t.toLowerCase(),LAe[t]}function n$(){const n=function OAe(n){if(!rA){n=n||function RAe(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}()||void 0,rA=new Set;for(const e of kAe)for(const t in YW)n&&n.getExtension("".concat(e).concat(t))&&rA.add(YW[t])}return rA}();return n.has("astc")?"astc-4x4":n.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:n.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:n.has("etc1")?"etc1":n.has("etc2")?"etc2":"rgb565"}const jAe={name:"Basis",id:"basis",module:"textures",version:"3.2.13",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}},parse:function BAe(n,e){return AN.apply(this,arguments)}};function Wp(n,e){if(!n)throw new Error(e||"loader assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const cA=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),i$=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),{_parseImageNode:HAe}=(i$&&parseFloat(i$[1]),globalThis),TN=typeof Image<"u",IN=typeof ImageBitmap<"u",DN=!!cA||!!HAe;function r$(n){const e=function s$(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&n instanceof Image?"image":n&&"object"==typeof n&&n.data&&n.width&&n.height?"data":null}(n);if(!e)throw new Error("Not an image");return e}const $Ae=/^data:image\/svg\+xml/,YAe=/\.svg((\?|#).*)?$/;function kN(n){return n&&($Ae.test(n)||YAe.test(n))}function a$(n,e){if(kN(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(n)])}function c$(n,e,t){return ON.apply(this,arguments)}function ON(){return ON=yn(function*(n,e,t){const i=function XAe(n,e){if(kN(e)){let i=(new TextDecoder).decode(n);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(i=unescape(encodeURIComponent(i)))}catch(o){throw new Error(o.message)}return"data:image/svg+xml;base64,".concat(btoa(i))}return a$(n,e)}(n,t),r=self.URL||self.webkitURL,o="string"!=typeof i&&r.createObjectURL(i);try{return yield function KAe(n,e){return RN.apply(this,arguments)}(o||i,e)}finally{o&&r.revokeObjectURL(o)}}),ON.apply(this,arguments)}function RN(){return RN=yn(function*(n,e){const t=new Image;return t.src=n,e.image&&e.image.decode&&t.decode?(yield t.decode(),t):yield new Promise((i,r)=>{try{t.onload=()=>i(t),t.onerror=o=>r(new Error("Could not load image ".concat(n,": ").concat(o)))}catch(o){r(o)}})}),RN.apply(this,arguments)}const qAe={};let l$=!0;function PN(){return PN=yn(function*(n,e,t){let i;i=kN(t)?yield c$(n,e,t):a$(n,t);const r=e&&e.imagebitmap;return yield function ZAe(n){return NN.apply(this,arguments)}(i,r)}),PN.apply(this,arguments)}function NN(){return NN=yn(function*(n,e=null){if((function QAe(n){for(const e in n||qAe)return!1;return!0}(e)||!l$)&&(e=null),e)try{return yield createImageBitmap(n,e)}catch(t){console.warn(t),l$=!1}return yield createImageBitmap(n)}),NN.apply(this,arguments)}const Cd=!1,lw=!0;function FN(n){const e=dw(n);return function eMe(n){const e=dw(n);return e.byteLength>=24&&2303741511===e.getUint32(0,Cd)?{mimeType:"image/png",width:e.getUint32(16,Cd),height:e.getUint32(20,Cd)}:null}(e)||function iMe(n){const e=dw(n);if(!(e.byteLength>=3&&65496===e.getUint16(0,Cd)&&255===e.getUint8(2)))return null;const{tableMarkers:i,sofMarkers:r}=function rMe(){const n=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)n.add(t);return{tableMarkers:n,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let o=2;for(;o+9<e.byteLength;){const s=e.getUint16(o,Cd);if(r.has(s))return{mimeType:"image/jpeg",height:e.getUint16(o+5,Cd),width:e.getUint16(o+7,Cd)};if(!i.has(s))return null;o+=2,o+=e.getUint16(o,Cd)}return null}(e)||function tMe(n){const e=dw(n);return e.byteLength>=10&&1195984440===e.getUint32(0,Cd)?{mimeType:"image/gif",width:e.getUint16(6,lw),height:e.getUint16(8,lw)}:null}(e)||function nMe(n){const e=dw(n);return e.byteLength>=14&&16973===e.getUint16(0,Cd)&&e.getUint32(2,lw)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,lw),height:e.getUint32(22,lw)}:null}(e)}function dw(n){if(n instanceof DataView)return n;if(ArrayBuffer.isView(n))return new DataView(n.buffer);if(n instanceof ArrayBuffer)return new DataView(n);throw new Error("toDataView")}function LN(){return LN=yn(function*(n,e){const{mimeType:t}=FN(n)||{},i=globalThis._parseImageNode;return Wp(i),yield i(n,t)}),LN.apply(this,arguments)}function BN(){return BN=yn(function*(n,e,t){const r=((e=e||{}).image||{}).type||"auto",{url:o}=t||{},s=function aMe(n){switch(n){case"auto":case"data":return function WAe(){if(IN)return"imagebitmap";if(TN)return"image";if(DN)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function GAe(n){switch(n){case"auto":return IN||TN||DN;case"imagebitmap":return IN;case"image":return TN;case"data":return DN;default:throw new Error("@loaders.gl/images: image ".concat(n," not supported in this environment"))}}(n),n}}(r);let a;switch(s){case"imagebitmap":a=yield function JAe(n,e,t){return PN.apply(this,arguments)}(n,e,o);break;case"image":a=yield c$(n,e,o);break;case"data":a=yield function oMe(n,e){return LN.apply(this,arguments)}(n,e);break;default:Wp(!1)}return"data"===r&&(a=function o$(n){switch(r$(n)){case"data":return n;case"image":case"imagebitmap":const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("getImageData");return e.width=n.width,e.height=n.height,t.drawImage(n,0,0),t.getImageData(0,0,n.width,n.height);default:throw new Error("getImageData")}}(a)),a}),BN.apply(this,arguments)}const cMe={id:"image",module:"images",name:"Images",version:"3.2.13",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:function sMe(n,e,t){return BN.apply(this,arguments)},tests:[n=>!!FN(new DataView(n))],options:{image:{type:"auto",decode:!0}}};function d$(n,e,t){if(n.byteLength<=e+t)return"";const i=new DataView(n);let r="";for(let o=0;o<t;o++)r+=String.fromCharCode(i.getUint8(e+o));return r}function u$(n,e,t){const i=void 0!==t?new Uint8Array(n).subarray(e,e+t):new Uint8Array(n).subarray(e);return new Uint8Array(i).buffer}function _c(n,e){if(!n)throw new Error(e||"assert failed: gltf")}function h$(n,e){if(n.startsWith("data:")||n.startsWith("http:")||n.startsWith("https:"))return n;const i=e.baseUri||e.uri;if(!i)throw new Error("'baseUri' must be provided to resolve relative url ".concat(n));return i.substr(0,i.lastIndexOf("/")+1)+n}function uw(n,e){return Wp(n>=0),Wp(e>0),n+(e-1)&~(e-1)}function uMe(n,e,t){let i;return i=n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer||n.arrayBuffer,n.byteOffset,n.byteLength),e.set(i,t),t+uw(i.byteLength,4)}const p$=["SCALAR","VEC2","VEC3","VEC4"],hMe=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],fMe=new Map(hMe),pMe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},mMe={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},gMe={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function m$(n){return p$[n-1]||p$[0]}function g$(n){const e=fMe.get(n.constructor);if(!e)throw new Error("Illegal typed array");return e}function _$(n,e){const t=gMe[n.componentType],i=pMe[n.type],o=n.count*i,s=n.count*i*mMe[n.componentType];return _c(s>=0&&s<=e.byteLength),{ArrayType:t,length:o,byteLength:s}}const _Me={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]};class $c{constructor(e){Se(this,"gltf",void 0),Se(this,"sourceBuffers",void 0),Se(this,"byteLength",void 0),this.gltf=e||{json:{..._Me},buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(e){return this.json[e]}getExtraData(e){return(this.json.extras||{})[e]}getExtension(e){return this.getUsedExtensions().find(r=>r===e)?(this.json.extensions||{})[e]||!0:null}getRequiredExtension(e){return this.getRequiredExtensions().find(i=>i===e)?this.getExtension(e):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getObjectExtension(e,t){return(e.extensions||{})[t]}getScene(e){return this.getObject("scenes",e)}getNode(e){return this.getObject("nodes",e)}getSkin(e){return this.getObject("skins",e)}getMesh(e){return this.getObject("meshes",e)}getMaterial(e){return this.getObject("materials",e)}getAccessor(e){return this.getObject("accessors",e)}getTexture(e){return this.getObject("textures",e)}getSampler(e){return this.getObject("samplers",e)}getImage(e){return this.getObject("images",e)}getBufferView(e){return this.getObject("bufferViews",e)}getBuffer(e){return this.getObject("buffers",e)}getObject(e,t){if("object"==typeof t)return t;const i=this.json[e]&&this.json[e][t];if(!i)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return i}getTypedArrayForBufferView(e){e=this.getBufferView(e);const i=this.gltf.buffers[e.buffer];return _c(i),new Uint8Array(i.arrayBuffer,(e.byteOffset||0)+i.byteOffset,e.byteLength)}getTypedArrayForAccessor(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),r=this.getBuffer(t.buffer).data,{ArrayType:o,length:s}=_$(e,t);return new o(r,t.byteOffset+e.byteOffset,s)}getTypedArrayForImageData(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),r=this.getBuffer(t.buffer).data;return new Uint8Array(r,t.byteOffset||0,t.byteLength)}addApplicationData(e,t){return this.json[e]=t,this}addExtraData(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}addObjectExtension(e,t,i){return e.extensions=e.extensions||{},e.extensions[t]=i,this.registerUsedExtension(t),this}setObjectExtension(e,t,i){(e.extensions||{})[t]=i}removeObjectExtension(e,t){const i=e.extensions||{},r=i[t];return delete i[t],r}addExtension(e,t={}){return _c(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}addRequiredExtension(e,t={}){return _c(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}registerUsedExtension(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(t=>t===e)||this.json.extensionsUsed.push(e)}registerRequiredExtension(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(t=>t===e)||this.json.extensionsRequired.push(e)}removeExtension(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}setDefaultScene(e){this.json.scene=e}addScene(e){const{nodeIndices:t}=e;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}addNode(e){const{meshIndex:t,matrix:i}=e;this.json.nodes=this.json.nodes||[];const r={mesh:t};return i&&(r.matrix=i),this.json.nodes.push(r),this.json.nodes.length-1}addMesh(e){const{attributes:t,indices:i,material:r,mode:o=4}=e,a={primitives:[{attributes:this._addAttributes(t),mode:o}]};if(i){const c=this._addIndices(i);a.primitives[0].indices=c}return Number.isFinite(r)&&(a.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(a),this.json.meshes.length-1}addPointCloud(e){const i={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(i),this.json.meshes.length-1}addImage(e,t){const i=FN(e),r=t||i?.mimeType,s={bufferView:this.addBufferView(e),mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(s),this.json.images.length-1}addBufferView(e){const t=e.byteLength;_c(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);const i={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=uw(t,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(i),this.json.bufferViews.length-1}addAccessor(e,t){const i={bufferView:e,type:m$(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(i),this.json.accessors.length-1}addBinaryBuffer(e,t={size:3}){const i=this.addBufferView(e);let r={min:t.min,max:t.max};(!r.min||!r.max)&&(r=this._getAccessorMinMax(e,t.size));const o={size:t.size,componentType:g$(e),count:Math.round(e.length/t.size),min:r.min,max:r.max};return this.addAccessor(i,Object.assign(o,t))}addTexture(e){const{imageIndex:t}=e,i={source:t};return this.json.textures=this.json.textures||[],this.json.textures.push(i),this.json.textures.length-1}addMaterial(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}createBinaryChunk(){var e,t;this.gltf.buffers=[];const i=this.byteLength,r=new ArrayBuffer(i),o=new Uint8Array(r);let s=0;for(const a of this.sourceBuffers||[])s=uMe(a,o,s);null!==(e=this.json)&&void 0!==e&&null!==(t=e.buffers)&&void 0!==t&&t[0]?this.json.buffers[0].byteLength=i:this.json.buffers=[{byteLength:i}],this.gltf.binary=r,this.sourceBuffers=[r]}_removeStringFromArray(e,t){let i=!0;for(;i;){const r=e.indexOf(t);r>-1?e.splice(r,1):i=!1}}_addAttributes(e={}){const t={};for(const i in e){const r=e[i],o=this._getGltfAttributeName(i),s=this.addBinaryBuffer(r.value,r);t[o]=s}return t}_addIndices(e){return this.addBinaryBuffer(e,{size:1})}_getGltfAttributeName(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}_getAccessorMinMax(e,t){const i={min:null,max:null};if(e.length<t)return i;i.min=[],i.max=[];const r=e.subarray(0,t);for(const o of r)i.min.push(o),i.max.push(o);for(let o=t;o<e.length;o+=t)for(let s=0;s<t;s++)i.min[0+s]=Math.min(i.min[0+s],e[o+s]),i.max[0+s]=Math.max(i.max[0+s],e[o+s]);return i}}const yMe="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",vMe="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",wMe=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),xMe=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),b$={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},EMe={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};function zN(){return zN=yn(function*(n,e,t,i,r,o="NONE"){const s=yield function lA(){return GN.apply(this,arguments)}();!function dA(n,e,t,i,r,o,s){const a=n.exports.sbrk,c=i+3&-4,l=a(c*r),d=a(o.length),h=new Uint8Array(n.exports.memory.buffer);h.set(o,d);const p=e(l,i,r,d,o.length);if(0===p&&s&&s(l,c,r),t.set(h.subarray(l,l+i*r)),a(l-a(0)),0!==p)throw new Error("Malformed buffer data: ".concat(p))}(s,s.exports[EMe[r]],n,e,t,i,s.exports[b$[o||"NONE"]])}),zN.apply(this,arguments)}let HN;function GN(){return GN=yn(function*(){return HN||(HN=function SMe(){return WN.apply(this,arguments)}()),HN}),GN.apply(this,arguments)}function WN(){return WN=yn(function*(){let n=yMe;WebAssembly.validate(wMe)&&(n=vMe,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const e=yield WebAssembly.instantiate(function AMe(n){const e=new Uint8Array(n.length);for(let i=0;i<n.length;++i){const r=n.charCodeAt(i);e[i]=r>96?r-71:r>64?r-65:r>47?r+4:r>46?63:62}let t=0;for(let i=0;i<n.length;++i)e[t++]=e[i]<60?xMe[e[i]]:64*(e[i]-60)+e[++i];return e.buffer.slice(0,t)}(n),{});return yield e.instance.exports.__wasm_call_ctors(),e.instance}),WN.apply(this,arguments)}const $N="EXT_meshopt_compression",MMe=$N;function TMe(n,e){return YN.apply(this,arguments)}function YN(){return YN=yn(function*(n,e){var t;const i=new $c(n);if(null==e||null===(t=e.gltf)||void 0===t||!t.decompressMeshes)return;const r=[];for(const o of n.json.bufferViews||[])r.push(IMe(i,o));yield Promise.all(r),i.removeExtension($N)}),YN.apply(this,arguments)}function IMe(n,e){return XN.apply(this,arguments)}function XN(){return XN=yn(function*(n,e){const t=n.getObjectExtension(e,$N);if(t){const{byteOffset:i=0,byteLength:r=0,byteStride:o,count:s,mode:a,filter:c="NONE",buffer:l}=t,d=n.gltf.buffers[l],h=new Uint8Array(d.arrayBuffer,d.byteOffset+i,r),p=new Uint8Array(n.gltf.buffers[e.buffer].arrayBuffer,e.byteOffset,e.byteLength);return yield function CMe(n,e,t,i,r){return zN.apply(this,arguments)}(p,s,o,h,a,c),p}return null}),XN.apply(this,arguments)}const DMe=["image/png","image/jpeg","image/gif"],KN={};const H_="EXT_texture_webp",PMe=H_;function NMe(n,e){const t=new $c(n);if(!function kMe(n){return void 0===KN[n]&&(KN[n]=function OMe(n){switch(n){case"image/webp":return function RMe(){if(!cA)return!1;try{return 0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch{return!1}}();case"image/svg":return cA;default:if(!cA){const{_parseImageNode:e}=globalThis;return!!e&&DMe.includes(n)}return!0}}(n)),KN[n]}("image/webp")){if(t.getRequiredExtensions().includes(H_))throw new Error("gltf: Required extension ".concat(H_," not supported by browser"));return}const{json:i}=t;for(const r of i.textures||[]){const o=t.getObjectExtension(r,H_);o&&(r.source=o.source),t.removeObjectExtension(r,H_)}t.removeExtension(H_)}const uA="KHR_texture_basisu",FMe=uA;function LMe(n,e){const t=new $c(n),{json:i}=t;for(const r of i.textures||[]){const o=t.getObjectExtension(r,uA);o&&(r.source=o.source),t.removeObjectExtension(r,uA)}t.removeExtension(uA)}const v$={name:"Draco",id:"draco",module:"draco",shapes:["mesh"],version:"3.2.13",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};class hA{constructor(e,t,i=!1,r=new Map){Se(this,"name",void 0),Se(this,"type",void 0),Se(this,"nullable",void 0),Se(this,"metadata",void 0),this.name=e,this.type=t,this.nullable=i,this.metadata=r}get typeId(){return this.type&&this.type.typeId}clone(){return new hA(this.name,this.type,this.nullable,this.metadata)}compareTo(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}toString(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}let Ar,w$,x$,E$,C$,S$,A$,M$,T$;!function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"}(Ar||(Ar={}));class $p{static isNull(e){return e&&e.typeId===Ar.Null}static isInt(e){return e&&e.typeId===Ar.Int}static isFloat(e){return e&&e.typeId===Ar.Float}static isBinary(e){return e&&e.typeId===Ar.Binary}static isUtf8(e){return e&&e.typeId===Ar.Utf8}static isBool(e){return e&&e.typeId===Ar.Bool}static isDecimal(e){return e&&e.typeId===Ar.Decimal}static isDate(e){return e&&e.typeId===Ar.Date}static isTime(e){return e&&e.typeId===Ar.Time}static isTimestamp(e){return e&&e.typeId===Ar.Timestamp}static isInterval(e){return e&&e.typeId===Ar.Interval}static isList(e){return e&&e.typeId===Ar.List}static isStruct(e){return e&&e.typeId===Ar.Struct}static isUnion(e){return e&&e.typeId===Ar.Union}static isFixedSizeBinary(e){return e&&e.typeId===Ar.FixedSizeBinary}static isFixedSizeList(e){return e&&e.typeId===Ar.FixedSizeList}static isMap(e){return e&&e.typeId===Ar.Map}static isDictionary(e){return e&&e.typeId===Ar.Dictionary}get typeId(){return Ar.NONE}compareTo(e){return this===e}}Symbol,Symbol,w$=Symbol.toStringTag;class G_ extends $p{constructor(e,t){super(),Se(this,"isSigned",void 0),Se(this,"bitWidth",void 0),this.isSigned=e,this.bitWidth=t}get typeId(){return Ar.Int}get[w$](){return"Int"}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}class UMe extends G_{constructor(){super(!0,8)}}class VMe extends G_{constructor(){super(!0,16)}}class jMe extends G_{constructor(){super(!0,32)}}class zMe extends G_{constructor(){super(!1,8)}}class HMe extends G_{constructor(){super(!1,16)}}class GMe extends G_{constructor(){super(!1,32)}}x$=Symbol.toStringTag;class I$ extends $p{constructor(e){super(),Se(this,"precision",void 0),this.precision=e}get typeId(){return Ar.Float}get[x$](){return"Float"}toString(){return"Float".concat(this.precision)}}class WMe extends I${constructor(){super(32)}}class $Me extends I${constructor(){super(64)}}Symbol,Symbol,E$=Symbol.toStringTag,C$=Symbol.toStringTag,S$=Symbol.toStringTag,A$=Symbol.toStringTag,M$=Symbol.toStringTag;class YMe extends $p{constructor(e,t){super(),Se(this,"listSize",void 0),Se(this,"children",void 0),this.listSize=e,this.children=[t]}get typeId(){return Ar.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[M$](){return"FixedSizeList"}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}T$=Symbol.toStringTag;class W_{constructor(e,t){Se(this,"fields",void 0),Se(this,"metadata",void 0),function JMe(n,e){if(!n)throw new Error(e||"loader assertion failed.")}(Array.isArray(e)),function ZMe(n){const e={};for(const t of n)e[t.name]&&console.warn("Schema: duplicated field name",t.name,t),e[t.name]=!0}(e),this.fields=e,this.metadata=t||new Map}compareTo(e){if(this.metadata!==e.metadata||this.fields.length!==e.fields.length)return!1;for(let t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}select(...e){const t=Object.create(null);for(const r of e)t[r]=!0;const i=this.fields.filter(r=>t[r.name]);return new W_(i,this.metadata)}selectAt(...e){const t=e.map(i=>this.fields[i]).filter(Boolean);return new W_(t,this.metadata)}assign(e){let t,i=this.metadata;if(e instanceof W_){const s=e;t=s.fields,i=k$(k$(new Map,this.metadata),s.metadata)}else t=e;const r=Object.create(null);for(const s of this.fields)r[s.name]=s;for(const s of t)r[s.name]=s;const o=Object.values(r);return new W_(o,i)}}function k$(n,e){return new Map([...n||new Map,...e||new Map])}function O$(n,e,t){return function D$(n,e,t){const i=function XMe(n){switch(n.constructor){case Int8Array:return new UMe;case Uint8Array:return new zMe;case Int16Array:return new VMe;case Uint16Array:return new HMe;case Int32Array:return new jMe;case Uint32Array:return new GMe;case Float32Array:return new WMe;case Float64Array:return new $Me;default:throw new Error("array type not supported")}}(e.value),r=t||function qMe(n){const e=new Map;return"byteOffset"in n&&e.set("byteOffset",n.byteOffset.toString(10)),"byteStride"in n&&e.set("byteStride",n.byteStride.toString(10)),"normalized"in n&&e.set("normalized",n.normalized.toString()),e}(e);return new hA(n,new YMe(e.size,new hA("value",i)),!1,r)}(n,e,t?R$(t.metadata):void 0)}function R$(n){const e=new Map;for(const t in n)e.set("".concat(t,".string"),JSON.stringify(n[t]));return e}const P$={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},tTe={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array};class iTe{constructor(e){Se(this,"draco",void 0),Se(this,"decoder",void 0),Se(this,"metadataQuerier",void 0),this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e,t={}){const i=new this.draco.DecoderBuffer;i.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);const r=this.decoder.GetEncodedGeometryType(i),o=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let s;switch(r){case this.draco.TRIANGULAR_MESH:s=this.decoder.DecodeBufferToMesh(i,o);break;case this.draco.POINT_CLOUD:s=this.decoder.DecodeBufferToPointCloud(i,o);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!s.ok()||!o.ptr){const p="DRACO decompression failed: ".concat(s.error_msg());throw new Error(p)}const a=this._getDracoLoaderData(o,r,t),c=this._getMeshData(o,a,t),l=function BMe(n){let e=1/0,t=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;const a=n.POSITION?n.POSITION.value:[],c=a&&a.length;for(let l=0;l<c;l+=3){const d=a[l],h=a[l+1],p=a[l+2];e=d<e?d:e,t=h<t?h:t,i=p<i?p:i,r=d>r?d:r,o=h>o?h:o,s=p>s?p:s}return[[e,t,i],[r,o,s]]}(c.attributes),d=function QMe(n,e,t){const i=R$(e.metadata),r=[],o=function eTe(n){const e={};for(const t in n){const i=n[t];e[i.name||"undefined"]=i}return e}(e.attributes);for(const s in n){const c=O$(s,n[s],o[s]);r.push(c)}if(t){const s=O$("indices",t);r.push(s)}return new W_(r,i)}(c.attributes,a,c.indices);return{loader:"draco",loaderData:a,header:{vertexCount:o.num_points(),boundingBox:l},...c,schema:d}}finally{this.draco.destroy(i),o&&this.draco.destroy(o)}}_getDracoLoaderData(e,t,i){const r=this._getTopLevelMetadata(e),o=this._getDracoAttributes(e,i);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:r,attributes:o}}_getDracoAttributes(e,t){const i={};for(let r=0;r<e.num_attributes();r++){const o=this.decoder.GetAttribute(e,r),s=this._getAttributeMetadata(e,r);i[o.unique_id()]={unique_id:o.unique_id(),attribute_type:o.attribute_type(),data_type:o.data_type(),num_components:o.num_components(),byte_offset:o.byte_offset(),byte_stride:o.byte_stride(),normalized:o.normalized(),attribute_index:r,metadata:s};const a=this._getQuantizationTransform(o,t);a&&(i[o.unique_id()].quantization_transform=a);const c=this._getOctahedronTransform(o,t);c&&(i[o.unique_id()].octahedron_transform=c)}return i}_getMeshData(e,t,i){const r=this._getMeshAttributes(t,e,i);if(!r.POSITION)throw new Error("DRACO: No position attribute found.");return e instanceof this.draco.Mesh?"triangle-strip"===i.topology?{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(e),size:1}}:{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(e),size:1}}:{topology:"point-list",mode:0,attributes:r}}_getMeshAttributes(e,t,i){const r={};for(const o of Object.values(e.attributes)){const s=this._deduceAttributeName(o,i);o.name=s;const{value:a,size:c}=this._getAttributeValues(t,o);r[s]={value:a,size:c,byteOffset:o.byte_offset,byteStride:o.byte_stride,normalized:o.normalized}}return r}_getTriangleListIndices(e){const i=3*e.num_faces(),r=4*i,o=this.draco._malloc(r);try{return this.decoder.GetTrianglesUInt32Array(e,r,o),new Uint32Array(this.draco.HEAPF32.buffer,o,i).slice()}finally{this.draco._free(o)}}_getTriangleStripIndices(e){const t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),function sTe(n){const e=n.size(),t=new Int32Array(e);for(let i=0;i<e;i++)t[i]=n.GetValue(i);return t}(t)}finally{this.draco.destroy(t)}}_getAttributeValues(e,t){const i=tTe[t.data_type],r=t.num_components,s=e.num_points()*r,a=s*i.BYTES_PER_ELEMENT,c=function rTe(n,e){switch(e){case Float32Array:return n.DT_FLOAT32;case Int8Array:return n.DT_INT8;case Int16Array:return n.DT_INT16;case Int32Array:return n.DT_INT32;case Uint8Array:return n.DT_UINT8;case Uint16Array:return n.DT_UINT16;case Uint32Array:return n.DT_UINT32;default:return n.DT_INVALID}}(this.draco,i);let l;const d=this.draco._malloc(a);try{const h=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,h,c,a,d),l=new i(this.draco.HEAPF32.buffer,d,s).slice()}finally{this.draco._free(d)}return{value:l,size:r}}_deduceAttributeName(e,t){const i=e.unique_id;for(const[s,a]of Object.entries(t.extraAttributes||{}))if(a===i)return s;const r=e.attribute_type;for(const s in P$)if(this.draco[s]===r)return P$[s];const o=t.attributeNameEntry||"name";return e.metadata[o]?e.metadata[o].string:"CUSTOM_ATTRIBUTE_".concat(i)}_getTopLevelMetadata(e){const t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}_getAttributeMetadata(e,t){const i=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(i)}_getDracoMetadata(e){if(!e||!e.ptr)return{};const t={},i=this.metadataQuerier.NumEntries(e);for(let r=0;r<i;r++){const o=this.metadataQuerier.GetEntryName(e,r);t[o]=this._getDracoMetadataField(e,o)}return t}_getDracoMetadataField(e,t){const i=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,i);const r=function oTe(n){const e=n.size(),t=new Int32Array(e);for(let i=0;i<e;i++)t[i]=n.GetValue(i);return t}(i);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:r}}finally{this.draco.destroy(i)}}_disableAttributeTransforms(e){const{quantizedAttributes:t=[],octahedronAttributes:i=[]}=e,r=[...t,...i];for(const o of r)this.decoder.SkipAttributeTransform(this.draco[o])}_getQuantizationTransform(e,t){const{quantizedAttributes:i=[]}=t,r=e.attribute_type();if(i.map(s=>this.decoder[s]).includes(r)){const s=new this.draco.AttributeQuantizationTransform;try{if(s.InitFromAttribute(e))return{quantization_bits:s.quantization_bits(),range:s.range(),min_values:new Float32Array([1,2,3]).map(a=>s.min_value(a))}}finally{this.draco.destroy(s)}}return null}_getOctahedronTransform(e,t){const{octahedronAttributes:i=[]}=t,r=e.attribute_type();if(i.map(s=>this.decoder[s]).includes(r)){const s=new this.draco.AttributeQuantizationTransform;try{if(s.InitFromAttribute(e))return{quantization_bits:s.quantization_bits()}}finally{this.draco.destroy(s)}}return null}}const fA="1.4.1",aTe="https://www.gstatic.com/draco/versioned/decoders/".concat(fA,"/draco_decoder.js"),cTe="https://www.gstatic.com/draco/versioned/decoders/".concat(fA,"/draco_wasm_wrapper.js"),lTe="https://www.gstatic.com/draco/versioned/decoders/".concat(fA,"/draco_decoder.wasm");let hw;function QN(){return QN=yn(function*(n){const e=n.modules||{};return hw=e.draco3d?hw||e.draco3d.createDecoderModule({}).then(t=>({draco:t})):hw||function hTe(n){return tF.apply(this,arguments)}(n),yield hw}),QN.apply(this,arguments)}function tF(){return tF=yn(function*(n){let e,t;return"js"===(n.draco&&n.draco.decoderType)?e=yield Gp(aTe,"draco",n):[e,t]=yield Promise.all([yield Gp(cTe,"draco",n),yield Gp(lTe,"draco",n)]),e=e||globalThis.DracoDecoderModule,yield function fTe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n({...t,onModuleLoaded:r=>i({draco:r})})})}(e,t)}),tF.apply(this,arguments)}"https://raw.githubusercontent.com/google/draco/".concat(fA,"/javascript/draco_encoder.js");const iF={...v$,parse:function mTe(n,e){return rF.apply(this,arguments)}};function rF(){return rF=yn(function*(n,e){const{draco:t}=yield function uTe(n){return QN.apply(this,arguments)}(e),i=new iTe(t);try{return i.parseSync(n,e?.draco)}finally{i.destroy()}}),rF.apply(this,arguments)}function N$(n){const{buffer:e,size:t,count:i}=function _Te(n){let e=n,t=1,i=0;return n&&n.value&&(e=n.value,t=n.size||1),e&&(ArrayBuffer.isView(e)||(e=function bTe(n,e,t=!1){return n?Array.isArray(n)?new e(n):!t||n instanceof e?n:new e(n):null}(e,Float32Array)),i=e.length/t),{buffer:e,size:t,count:i}}(n);return{value:e,size:t,byteOffset:0,count:i,type:m$(t),componentType:g$(e)}}const Yp="KHR_draco_mesh_compression",yTe=Yp;function vTe(n,e,t){const i=new $c(n);for(const r of F$(i))i.getObjectExtension(r,Yp)}function wTe(n,e,t){return oF.apply(this,arguments)}function oF(){return oF=yn(function*(n,e,t){var i;if(null==e||null===(i=e.gltf)||void 0===i||!i.decompressMeshes)return;const r=new $c(n),o=[];for(const s of F$(r))r.getObjectExtension(s,Yp)&&o.push(ETe(r,s,e,t));yield Promise.all(o),r.removeExtension(Yp)}),oF.apply(this,arguments)}function xTe(n,e={}){const t=new $c(n);for(const i of t.json.meshes||[])CTe(i),t.addRequiredExtension(Yp)}function ETe(n,e,t,i){return sF.apply(this,arguments)}function sF(){return sF=yn(function*(n,e,t,i){const r=n.getObjectExtension(e,Yp);if(!r)return;const o=n.getTypedArrayForBufferView(r.bufferView),s=u$(o.buffer,o.byteOffset),{parse:a}=i,c={...t};delete c["3d-tiles"];const l=yield a(s,iF,c,i),d=function gTe(n){const e={};for(const t in n)if("indices"!==t){const r=N$(n[t]);e[t]=r}return e}(l.attributes);for(const[h,p]of Object.entries(d))if(h in e.attributes){const v=n.getAccessor(e.attributes[h]);null!=v&&v.min&&null!=v&&v.max&&(p.min=v.min,p.max=v.max)}e.attributes=d,l.indices&&(e.indices=N$(l.indices)),function STe(n){if(!n.attributes&&Object.keys(n.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(e)}),sF.apply(this,arguments)}function CTe(n,e,t=4,i,r){var o;if(!i.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const s=i.DracoWriter.encodeSync({attributes:n}),a=null==r||null===(o=r.parseSync)||void 0===o?void 0:o.call(r,{attributes:n}),c=i._addFauxAttributes(a.attributes),l=i.addBufferView(s);return{primitives:[{attributes:c,mode:t,extensions:{[Yp]:{bufferView:l,attributes:c}}}]}}function*F$(n){for(const e of n.json.meshes||[])for(const t of e.primitives)yield t}const Xp="KHR_lights_punctual",ATe=Xp;function MTe(n){return aF.apply(this,arguments)}function aF(){return aF=yn(function*(n){const e=new $c(n),{json:t}=e,i=e.getExtension(Xp);i&&(e.json.lights=i.lights,e.removeExtension(Xp));for(const r of t.nodes||[]){const o=e.getObjectExtension(r,Xp);o&&(r.light=o.light),e.removeObjectExtension(r,Xp)}}),aF.apply(this,arguments)}function TTe(n){return cF.apply(this,arguments)}function cF(){return cF=yn(function*(n){const e=new $c(n),{json:t}=e;if(t.lights){const i=e.addExtension(Xp);_c(!i.lights),i.lights=t.lights,delete t.lights}if(e.json.lights){for(const i of e.json.lights)e.addObjectExtension(i.node,Xp,i);delete e.json.lights}}),cF.apply(this,arguments)}const pw="KHR_materials_unlit",ITe=pw;function DTe(n){return lF.apply(this,arguments)}function lF(){return lF=yn(function*(n){const e=new $c(n),{json:t}=e;e.removeExtension(pw);for(const i of t.materials||[])i.extensions&&i.extensions.KHR_materials_unlit&&(i.unlit=!0),e.removeObjectExtension(i,pw)}),lF.apply(this,arguments)}function kTe(n){const e=new $c(n),{json:t}=e;if(e.materials)for(const i of t.materials||[])i.unlit&&(delete i.unlit,e.addObjectExtension(i,pw,{}),e.addExtension(pw))}const mw="KHR_techniques_webgl",OTe=mw;function RTe(n){return dF.apply(this,arguments)}function dF(){return dF=yn(function*(n){const e=new $c(n),{json:t}=e,i=e.getExtension(mw);if(i){const r=function NTe(n,e){const{programs:t=[],shaders:i=[],techniques:r=[]}=n,o=new TextDecoder;return i.forEach(s=>{if(!Number.isFinite(s.bufferView))throw new Error("KHR_techniques_webgl: no shader code");s.code=o.decode(e.getTypedArrayForBufferView(s.bufferView))}),t.forEach(s=>{s.fragmentShader=i[s.fragmentShader],s.vertexShader=i[s.vertexShader]}),r.forEach(s=>{s.program=t[s.program]}),r}(i,e);for(const o of t.materials||[]){const s=e.getObjectExtension(o,mw);s&&(o.technique=Object.assign({},s,r[s.technique]),o.technique.values=FTe(o.technique,e)),e.removeObjectExtension(o,mw)}e.removeExtension(mw)}}),dF.apply(this,arguments)}function PTe(n,e){return uF.apply(this,arguments)}function uF(){return(uF=yn(function*(n,e){})).apply(this,arguments)}function FTe(n,e){const t=Object.assign({},n.values);return Object.keys(n.uniforms||{}).forEach(i=>{n.uniforms[i].value&&!(i in t)&&(t[i]=n.uniforms[i].value)}),Object.keys(t).forEach(i=>{"object"==typeof t[i]&&void 0!==t[i].index&&(t[i].texture=e.getTexture(t[i].index))}),t}const L$=[S,b,D,C,O,g,y];function hF(){return hF=yn(function*(n,e={},t){const i=L$.filter(o=>B$(o.name,e));for(const o of i){var r;yield null===(r=o.decode)||void 0===r?void 0:r.call(o,n,e,t)}}),hF.apply(this,arguments)}function B$(n,e){var t;const i=(null==e||null===(t=e.gltf)||void 0===t?void 0:t.excludeExtensions)||{};return!(n in i&&!i[n])}const fF="KHR_binary_glTF",U$={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},VTe={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class jTe{constructor(){Se(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),Se(this,"json",void 0)}normalize(e,t){this.json=e.json;const i=e.json;switch(i.asset&&i.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(i.asset.version))}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(i),this._convertTopLevelObjectsToArrays(i),function UTe(n){const e=new $c(n),{json:t}=e;for(const i of t.images||[]){const r=e.getObjectExtension(i,fF);r&&Object.assign(i,r),e.removeObjectExtension(i,fF)}t.buffers&&t.buffers[0]&&delete t.buffers[0].uri,e.removeExtension(fF)}(e),this._convertObjectIdsToArrayIndices(i),this._updateObjects(i),this._updateMaterial(i)}_addAsset(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(e){for(const t in U$)this._convertTopLevelObjectToArray(e,t)}_convertTopLevelObjectToArray(e,t){const i=e[t];if(i&&!Array.isArray(i)){e[t]=[];for(const r in i){const o=i[r];o.id=o.id||r;const s=e[t].length;e[t].push(o),this.idToIndexMap[t][r]=s}}}_convertObjectIdsToArrayIndices(e){for(const t in U$)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));for(const t of e.textures)this._convertTextureIds(t);for(const t of e.meshes)this._convertMeshIds(t);for(const t of e.nodes)this._convertNodeIds(t);for(const t of e.scenes)this._convertSceneIds(t)}_convertTextureIds(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}_convertMeshIds(e){for(const t of e.primitives){const{attributes:i,indices:r,material:o}=t;for(const s in i)i[s]=this._convertIdToIndex(i[s],"accessor");r&&(t.indices=this._convertIdToIndex(r,"accessor")),o&&(t.material=this._convertIdToIndex(o,"material"))}}_convertNodeIds(e){e.children&&(e.children=e.children.map(t=>this._convertIdToIndex(t,"node"))),e.meshes&&(e.meshes=e.meshes.map(t=>this._convertIdToIndex(t,"mesh")))}_convertSceneIds(e){e.nodes&&(e.nodes=e.nodes.map(t=>this._convertIdToIndex(t,"node")))}_convertIdsToIndices(e,t){e[t]||(console.warn("gltf v1: json doesn't contain attribute ".concat(t)),e[t]=[]);for(const i of e[t])for(const r in i){const s=this._convertIdToIndex(i[r],r);i[r]=s}}_convertIdToIndex(e,t){const i=VTe[t];if(i in this.idToIndexMap){const r=this.idToIndexMap[i][e];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return r}return e}_updateObjects(e){for(const t of this.json.buffers)delete t.type}_updateMaterial(e){for(const o of e.materials){var t,i,r;o.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const s=(null===(t=o.values)||void 0===t?void 0:t.tex)||(null===(i=o.values)||void 0===i?void 0:i.texture2d_0)||(null===(r=o.values)||void 0===r?void 0:r.diffuseTex),a=e.textures.findIndex(c=>c.id===s);-1!==a&&(o.pbrMetallicRoughness.baseColorTexture={index:a})}}}const HTe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},GTe={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},WTe={magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243},$Te={10240:9729,10241:9986,10242:10497,10243:10497};class KTe{constructor(){Se(this,"baseUri",""),Se(this,"json",{}),Se(this,"buffers",[]),Se(this,"images",[])}postProcess(e,t={}){const{json:i,buffers:r=[],images:o=[],baseUri:s=""}=e;return _c(i),this.baseUri=s,this.json=i,this.buffers=r,this.images=o,this._resolveTree(this.json,t),this.json}_resolveTree(e,t={}){e.bufferViews&&(e.bufferViews=e.bufferViews.map((i,r)=>this._resolveBufferView(i,r))),e.images&&(e.images=e.images.map((i,r)=>this._resolveImage(i,r))),e.samplers&&(e.samplers=e.samplers.map((i,r)=>this._resolveSampler(i,r))),e.textures&&(e.textures=e.textures.map((i,r)=>this._resolveTexture(i,r))),e.accessors&&(e.accessors=e.accessors.map((i,r)=>this._resolveAccessor(i,r))),e.materials&&(e.materials=e.materials.map((i,r)=>this._resolveMaterial(i,r))),e.meshes&&(e.meshes=e.meshes.map((i,r)=>this._resolveMesh(i,r))),e.nodes&&(e.nodes=e.nodes.map((i,r)=>this._resolveNode(i,r))),e.skins&&(e.skins=e.skins.map((i,r)=>this._resolveSkin(i,r))),e.scenes&&(e.scenes=e.scenes.map((i,r)=>this._resolveScene(i,r))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}getScene(e){return this._get("scenes",e)}getNode(e){return this._get("nodes",e)}getSkin(e){return this._get("skins",e)}getMesh(e){return this._get("meshes",e)}getMaterial(e){return this._get("materials",e)}getAccessor(e){return this._get("accessors",e)}getCamera(e){return null}getTexture(e){return this._get("textures",e)}getSampler(e){return this._get("samplers",e)}getImage(e){return this._get("images",e)}getBufferView(e){return this._get("bufferViews",e)}getBuffer(e){return this._get("buffers",e)}_get(e,t){if("object"==typeof t)return t;const i=this.json[e]&&this.json[e][t];return i||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),i}_resolveScene(e,t){return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map(i=>this.getNode(i)),e}_resolveNode(e,t){return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map(i=>this.getNode(i))),void 0!==e.mesh?e.mesh=this.getMesh(e.mesh):void 0!==e.meshes&&e.meshes.length&&(e.mesh=e.meshes.reduce((i,r)=>{const o=this.getMesh(r);return i.id=o.id,i.primitives=i.primitives.concat(o.primitives),i},{primitives:[]})),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}_resolveSkin(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}_resolveMesh(e,t){return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map(i=>{const r=(i={...i}).attributes;i.attributes={};for(const o in r)i.attributes[o]=this.getAccessor(r[o]);return void 0!==i.indices&&(i.indices=this.getAccessor(i.indices)),void 0!==i.material&&(i.material=this.getMaterial(i.material)),i})),e}_resolveMaterial(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture={...e.normalTexture},e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture={...e.occlustionTexture},e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture={...e.emmisiveTexture},e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.emissiveFactor||(e.emissiveFactor=e.emmisiveTexture?[1,1,1]:[0,0,0]),e.pbrMetallicRoughness){e.pbrMetallicRoughness={...e.pbrMetallicRoughness};const i=e.pbrMetallicRoughness;i.baseColorTexture&&(i.baseColorTexture={...i.baseColorTexture},i.baseColorTexture.texture=this.getTexture(i.baseColorTexture.index)),i.metallicRoughnessTexture&&(i.metallicRoughnessTexture={...i.metallicRoughnessTexture},i.metallicRoughnessTexture.texture=this.getTexture(i.metallicRoughnessTexture.index))}return e}_resolveAccessor(e,t){if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=function YTe(n){return GTe[n]}(e.componentType),e.components=function XTe(n){return HTe[n]}(e.type),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){const i=e.bufferView.buffer,{ArrayType:r,byteLength:o}=_$(e,e.bufferView),s=(e.bufferView.byteOffset||0)+(e.byteOffset||0)+i.byteOffset;let a=i.arrayBuffer.slice(s,s+o);e.bufferView.byteStride&&(a=this._getValueFromInterleavedBuffer(i,s,e.bufferView.byteStride,e.bytesPerElement,e.count)),e.value=new r(a)}return e}_getValueFromInterleavedBuffer(e,t,i,r,o){const s=new Uint8Array(o*r);for(let a=0;a<o;a++){const c=t+a*i;s.set(new Uint8Array(e.arrayBuffer.slice(c,c+r)),a*r)}return s.buffer}_resolveTexture(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):$Te,e.source=this.getImage(e.source),e}_resolveSampler(e,t){e.id=e.id||"sampler-".concat(t),e.parameters={};for(const i in e){const r=this._enumSamplerParameter(i);void 0!==r&&(e.parameters[r]=e[i])}return e}_enumSamplerParameter(e){return WTe[e]}_resolveImage(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));const i=this.images[t];return i&&(e.image=i),e}_resolveBufferView(e,t){const i=e.buffer,r={id:"bufferView-".concat(t),...e,buffer:this.buffers[i]};let s=this.buffers[i].byteOffset||0;return"byteOffset"in e&&(s+=e.byteOffset),r.data=new Uint8Array(this.buffers[i].arrayBuffer,s,e.byteLength),r}_resolveCamera(e,t){return e.id=e.id||"camera-".concat(t),e}}const V$=1735152710,pF=12,pA=8,JTe=1313821514,ZTe=5130562,QTe=0,eIe=1,tIe=0,$_=!0;function mF(n,e,t,i){const r=new Uint8Array(e.buffer,t,i),s=new TextDecoder("utf8").decode(r);return n.json=JSON.parse(s),uw(i,4)}function gF(n,e,t,i){return n.header.hasBinChunk=!0,n.binChunks.push({byteOffset:t,byteLength:i,arrayBuffer:e.buffer}),uw(i,4)}function _F(){return _F=yn(function*(n,e,t=0,i,r){var o,s,a,c;(function lIe(n,e,t,i){if(i.uri&&(n.baseUri=i.uri),e instanceof ArrayBuffer&&!function iIe(n,e=0,t={}){const i=new DataView(n),{magic:r=V$}=t,o=i.getUint32(e,!1);return o===r||o===V$}(e,t,i)&&(e=(new TextDecoder).decode(e)),"string"==typeof e)n.json=function dMe(n){try{return JSON.parse(n)}catch{throw new Error('Failed to parse JSON from data starting with "'.concat(function lMe(n,e=5){return"string"==typeof n?n.slice(0,e):ArrayBuffer.isView(n)?d$(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?d$(n,0,e):""}(n),'"'))}}(e);else if(e instanceof ArrayBuffer){const s={};t=function rIe(n,e,t=0,i={}){const r=new DataView(e),o=function nIe(n,e=0){return"".concat(String.fromCharCode(n.getUint8(e+0))).concat(String.fromCharCode(n.getUint8(e+1))).concat(String.fromCharCode(n.getUint8(e+2))).concat(String.fromCharCode(n.getUint8(e+3)))}(r,t+0),s=r.getUint32(t+4,$_),a=r.getUint32(t+8,$_);switch(Object.assign(n,{header:{byteOffset:t,byteLength:a,hasBinChunk:!1},type:o,version:s,json:{},binChunks:[]}),t+=pF,n.version){case 1:return function oIe(n,e,t){Wp(n.header.byteLength>pF+pA);const i=e.getUint32(t+0,$_),r=e.getUint32(t+4,$_);return t+=pA,Wp(r===tIe),mF(n,e,t,i),(t+=i)+gF(n,e,t,n.header.byteLength)}(n,r,t);case 2:return function sIe(n,e,t,i){return Wp(n.header.byteLength>pF+pA),function aIe(n,e,t,i){for(;t+8<=n.header.byteLength;){const r=e.getUint32(t+0,$_),o=e.getUint32(t+4,$_);switch(t+=pA,o){case JTe:mF(n,e,t,r);break;case ZTe:gF(n,e,t,r);break;case QTe:i.strict||mF(n,e,t,r);break;case eIe:i.strict||gF(n,e,t,r)}t+=uw(r,4)}}(n,e,t,i),t+n.header.byteLength}(n,r,t,{});default:throw new Error("Invalid GLB version ".concat(n.version,". Only supports v1 and v2."))}}(s,e,t,i.glb),_c("glTF"===s.type,"Invalid GLB magic string ".concat(s.type)),n._glb=s,n.json=s.json}else _c(!1,"GLTF: must be ArrayBuffer or string");if(n.buffers=new Array((n.json.buffers||[]).length).fill(null),n._glb&&n._glb.header.hasBinChunk){const{binChunks:s}=n._glb;n.buffers[0]={arrayBuffer:s[0].arrayBuffer,byteOffset:s[0].byteOffset,byteLength:s[0].byteLength}}n.images=new Array((n.json.images||[]).length).fill({})})(n,e,t,i),function zTe(n,e={}){(new jTe).normalize(n,e)}(n,{normalize:null==i||null===(o=i.gltf)||void 0===o?void 0:o.normalize}),function LTe(n,e={},t){const i=L$.filter(o=>B$(o.name,e));for(const o of i){var r;null===(r=o.preprocess)||void 0===r||r.call(o,n,e,t)}}(n,i,r);const l=[];if(null!=i&&null!==(s=i.gltf)&&void 0!==s&&s.loadBuffers&&n.json.buffers&&(yield function dIe(n,e,t){return bF.apply(this,arguments)}(n,i,r)),null!=i&&null!==(a=i.gltf)&&void 0!==a&&a.loadImages){const h=function uIe(n,e,t){return yF.apply(this,arguments)}(n,i,r);l.push(h)}const d=function BTe(n){return hF.apply(this,arguments)}(n,i,r);return l.push(d),yield Promise.all(l),null!=i&&null!==(c=i.gltf)&&void 0!==c&&c.postProcess?function qTe(n,e){return(new KTe).postProcess(n,e)}(n,i):n}),_F.apply(this,arguments)}function bF(){return bF=yn(function*(n,e,t){const i=n.json.buffers||[];for(let s=0;s<i.length;++s){const a=i[s];if(a.uri){var r,o;const{fetch:c}=t;_c(c);const l=h$(a.uri,e),d=yield null==t||null===(r=t.fetch)||void 0===r?void 0:r.call(t,l),h=yield null==d||null===(o=d.arrayBuffer)||void 0===o?void 0:o.call(d);n.buffers[s]={arrayBuffer:h,byteOffset:0,byteLength:h.byteLength},delete a.uri}else null===n.buffers[s]&&(n.buffers[s]={arrayBuffer:new ArrayBuffer(a.byteLength),byteOffset:0,byteLength:a.byteLength})}}),bF.apply(this,arguments)}function yF(){return yF=yn(function*(n,e,t){const i=function hIe(n){const e=new Set,t=n.json.textures||[];for(const i of t)void 0!==i.source&&e.add(i.source);return Array.from(e).sort()}(n),r=n.json.images||[],o=[];for(const s of i)o.push(fIe(n,r[s],s,e,t));return yield Promise.all(o)}),yF.apply(this,arguments)}function fIe(n,e,t,i,r){return vF.apply(this,arguments)}function vF(){return vF=yn(function*(n,e,t,i,r){const{fetch:o,parse:s}=r;let a;if(e.uri&&!e.hasOwnProperty("bufferView")){const l=h$(e.uri,i);a=yield(yield o(l)).arrayBuffer()}if(Number.isFinite(e.bufferView)){const l=function f$(n,e,t){const i=n.bufferViews[t];_c(i);const o=e[i.buffer];return _c(o),new Uint8Array(o.arrayBuffer,(i.byteOffset||0)+o.byteOffset,i.byteLength)}(n.json,n.buffers,e.bufferView);a=u$(l.buffer,l.byteOffset,l.byteLength)}_c(a,"glTF image has no data");let c=yield s(a,[cMe,jAe],{mimeType:e.mimeType,basis:i.basis||{format:n$()}},r);c&&c[0]&&(c={compressed:!0,mipmaps:!1,width:c[0].width,height:c[0].height,data:c[0]}),n.images=n.images||[],n.images[t]=c}),vF.apply(this,arguments)}const Y_={name:"glTF",id:"gltf",module:"gltf",version:"3.2.13",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function pIe(n){return wF.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};function wF(){return wF=yn(function*(n,e={},t){(e={...Y_.options,...e}).gltf={...Y_.options.gltf,...e.gltf};const{byteOffset:i=0}=e;return yield function cIe(n,e){return _F.apply(this,arguments)}({},n,i,e,t)}),wF.apply(this,arguments)}function xF(){return xF=yn(function*(n){const e=[];return n.scenes.forEach(t=>{t.traverse(i=>{Object.values(i.model.getUniforms()).forEach(r=>{!1===r.loaded&&e.push(r)})})}),yield function gIe(n){return EF.apply(this,arguments)}(()=>e.some(t=>!t.loaded))}),xF.apply(this,arguments)}function EF(){return EF=yn(function*(n){for(;n();)yield new Promise(e=>requestAnimationFrame(e))}),EF.apply(this,arguments)}const j$=[255,255,255,255],yIe={scenegraph:{type:"object",value:null,async:!0},getScene:n=>n&&n.scenes?"object"==typeof n.scene?n.scene:n.scenes[n.scene||0]:n,getAnimator:n=>n&&n.animator,_animations:null,sizeScale:{type:"number",value:1,min:0},sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:j$},_lighting:"flat",_imageBasedLightingEnvironment:null,getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},loaders:[Y_]};class CF extends jp{constructor(...e){super(...e),Se(this,"state",void 0)}getShaders(){const e=[ZS,QS];return"pbr"===this.props._lighting&&e.push(PW),{vs:"#version 300 es\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Uniforms\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform mat4 sceneModelMatrix;\nuniform bool composeModelMatrix;\n\n// Attributes\nin vec4 POSITION;\n\n#ifdef HAS_UV\n  in vec2 TEXCOORD_0;\n#endif\n\n#ifdef MODULE_PBR\n  #ifdef HAS_NORMALS\n    in vec4 NORMAL;\n  #endif\n#endif\n\n// Varying\nout vec4 vColor;\n\n// MODULE_PBR contains all the varying definitions needed\n#ifndef MODULE_PBR\n  #ifdef HAS_UV\n    out vec2 vTEXCOORD_0;\n  #endif\n#endif\n\n// Main\nvoid main(void) {\n  #if defined(HAS_UV) && !defined(MODULE_PBR)\n    vTEXCOORD_0 = TEXCOORD_0;\n    geometry.uv = vTEXCOORD_0;\n  #endif\n\n  geometry.worldPosition = instancePositions;\n  geometry.pickingColor = instancePickingColors;\n\n  vec3 normal = vec3(0.0, 0.0, 1.0);\n  #ifdef MODULE_PBR\n    #ifdef HAS_NORMALS\n      normal = instanceModelMatrix * (sceneModelMatrix * vec4(NORMAL.xyz, 0.0)).xyz;\n    #endif\n  #endif\n\n  float originalSize = project_size_to_pixel(sizeScale);\n  float clampedSize = clamp(originalSize, sizeMinPixels, sizeMaxPixels);\n\n  vec3 pos = (instanceModelMatrix * (sceneModelMatrix * POSITION).xyz) * sizeScale * (clampedSize / originalSize) + instanceTranslation;\n  if(composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    geometry.normal = project_normal(normal);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);\n    geometry.normal = project_normal(normal);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    // set PBR data\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = TEXCOORD_0;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n\n// Uniforms\nuniform float opacity;\n\n// Varying\nin vec4 vColor;\n\nout vec4 fragmentColor;\n\n// MODULE_PBR contains all the varying definitions needed\n#ifndef MODULE_PBR\n  #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n    in vec2 vTEXCOORD_0;\n    uniform sampler2D u_BaseColorSampler;\n  #endif\n#endif\n\nvoid main(void) {\n  #ifdef MODULE_PBR\n    fragmentColor = vColor * pbr_filterColor(vec4(0));\n    geometry.uv = pbr_vUV;\n  #else\n    #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n      fragmentColor = vColor * texture2D(u_BaseColorSampler, vTEXCOORD_0);\n      geometry.uv = vTEXCOORD_0;\n    #else\n      fragmentColor = vColor;\n    #endif\n  #endif\n\n  fragmentColor.a *= opacity;\n  DECKGL_FILTER_COLOR(fragmentColor, geometry);\n}\n",modules:e}}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),accessor:"getPosition",transition:!0},instanceColors:{type:5121,size:this.props.colorFormat.length,accessor:"getColor",normalized:!0,defaultValue:j$,transition:!0},instanceModelMatrix:kW})}updateState(e){super.updateState(e);const{props:t,oldProps:i}=e;t.scenegraph!==i.scenegraph?this._updateScenegraph():t._animations!==i._animations&&this._applyAnimationsProp(this.state.scenegraph,this.state.animator,t._animations)}finalizeState(e){super.finalizeState(e),this._deleteScenegraph()}_updateScenegraph(){const e=this.props,{gl:t}=this.context;let i=null;if(e.scenegraph instanceof j_)i={scenes:[e.scenegraph]};else if(e.scenegraph&&!e.scenegraph.gltf){const a=e.scenegraph,c=function bAe(n,e,t){const i=new _Ae(n,t);return{scenes:i.instantiate(e),animator:i.createAnimator()}}(t,a,this._getModelOptions());i={gltf:a,...c},function mIe(n){return xF.apply(this,arguments)}(c).then(()=>this.setNeedsRedraw())}else e.scenegraph&&(Ui.deprecated("ScenegraphLayer.props.scenegraph","Use GLTFLoader instead of GLTFScenegraphLoader")(),i=e.scenegraph);const r={layer:this,gl:t},o=e.getScene(i,r),s=e.getAnimator(i,r);o instanceof j_?(this._deleteScenegraph(),this._applyAllAttributes(o),this._applyAnimationsProp(o,s,e._animations),this.setState({scenegraph:o,animator:s})):null!==o&&Ui.warn("invalid scenegraph:",o)()}_applyAllAttributes(e){if(this.state.attributesAvailable){const t=this.getAttributeManager().getAttributes();e.traverse(i=>{this._setModelAttributes(i.model,t)})}}_applyAnimationsProp(e,t,i){if(!e||!t||!i)return;const r=t.getAnimations();Object.keys(i).sort().forEach(o=>{const s=i[o];if("*"===o)r.forEach(a=>{Object.assign(a,s)});else if(Number.isFinite(Number(o))){const a=Number(o);a>=0&&a<r.length?Object.assign(r[a],s):Ui.warn("animation ".concat(o," not found"))()}else{const a=r.find(({name:c})=>c===o);a?Object.assign(a,s):Ui.warn("animation ".concat(o," not found"))()}})}_deleteScenegraph(){const{scenegraph:e}=this.state;e instanceof j_&&e.delete()}_getModelOptions(){const{_imageBasedLightingEnvironment:e}=this.props;let t=null;return e&&(t="function"==typeof e?e({gl:this.context.gl,layer:this}):e),{gl:this.context.gl,waitForFullLoad:!0,imageBasedLightingEnvironment:t,modelOptions:{isInstanced:!0,transpileToGLSL100:!Ii(this.context.gl),...this.getShaders()},useTangents:!1}}updateAttributes(e){this.setState({attributesAvailable:!0}),this.state.scenegraph&&this.state.scenegraph.traverse(t=>{this._setModelAttributes(t.model,e)})}draw({moduleParameters:e=null,parameters:t={},context:i}){if(!this.state.scenegraph)return;this.props._animations&&this.state.animator&&(this.state.animator.animate(i.timeline.getTime()),this.setNeedsRedraw());const{viewport:r}=this.context,{sizeScale:o,sizeMinPixels:s,sizeMaxPixels:a,opacity:c,coordinateSystem:l}=this.props,d=this.getNumInstances();this.state.scenegraph.traverse((h,{worldMatrix:p})=>{h.model.setInstanceCount(d),h.updateModuleSettings(e),h.draw({parameters:t,uniforms:{sizeScale:o,opacity:c,sizeMinPixels:s,sizeMaxPixels:a,composeModelMatrix:OW(r,l),sceneModelMatrix:p,u_Camera:h.model.getUniforms().project_uCameraPosition}})})}}Se(CF,"defaultProps",yIe),Se(CF,"layerName","ScenegraphLayer");class vIe extends af{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Wa("sphere-geometry")}=e,{indices:i,attributes:r}=function wIe(n){const{nlat:e=10,nlong:t=10}=n;let{radius:i=1}=n;const s=Math.PI-0,l=2*Math.PI-0,d=(e+1)*(t+1);if("number"==typeof i){const X=i;i=(Q,pe,Re,Ye,tt)=>X}const h=new Float32Array(3*d),p=new Float32Array(3*d),_=new Float32Array(2*d),A=new(d>65535?Uint32Array:Uint16Array)(e*t*6);for(let X=0;X<=e;X++)for(let Q=0;Q<=t;Q++){const pe=Q/t,Re=X/e,Ye=Q+X*(t+1),tt=2*Ye,ht=3*Ye,Mt=l*pe,xt=s*Re,yt=Math.sin(Mt),Ot=Math.cos(Mt),Vt=Math.sin(xt),St=Ot*Vt,Xt=Math.cos(xt),_t=yt*Vt,Wt=i(St,Xt,_t,pe,Re);h[ht+0]=Wt*St,h[ht+1]=Wt*Xt,h[ht+2]=Wt*_t,p[ht+0]=St,p[ht+1]=Xt,p[ht+2]=_t,_[tt+0]=pe,_[tt+1]=1-Re}const P=t+1;for(let X=0;X<t;X++)for(let Q=0;Q<e;Q++){const pe=6*(X*e+Q);A[pe+0]=Q*P+X,A[pe+1]=Q*P+X+1,A[pe+2]=(Q+1)*P+X,A[pe+3]=(Q+1)*P+X,A[pe+4]=Q*P+X+1,A[pe+5]=(Q+1)*P+X+1}return{indices:{size:1,value:A},attributes:{POSITION:{size:3,value:h},NORMAL:{size:3,value:p},TEXCOORD_0:{size:2,value:_}}}}(e);super({...e,id:t,indices:i,attributes:{...r,...e.attributes}})}}const xIe={x:[2,0,1],y:[0,1,2],z:[1,2,0]};class z$ extends af{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Wa("truncated-code-geometry")}=e,{indices:i,attributes:r}=function EIe(n){const{bottomRadius:e=0,topRadius:t=0,height:i=1,nradial:r=10,nvertical:o=10,verticalAxis:s="y",topCap:a=!1,bottomCap:c=!1}=n,l=(a?2:0)+(c?2:0),d=(r+1)*(o+1+l),h=Math.atan2(e-t,i),p=Math.sin,_=Math.cos,v=Math.PI,A=_(h),P=p(h),X=a?-2:0,Q=o+(c?2:0),pe=r+1,Re=new Uint16Array(r*(o+l)*6),Ye=xIe[s],tt=new Float32Array(3*d),ht=new Float32Array(3*d),Mt=new Float32Array(2*d);let xt=0,yt=0;for(let Ot=X;Ot<=Q;Ot++){let St,Vt=Ot/o,gt=i*Vt;Ot<0?(gt=0,Vt=1,St=e):Ot>o?(gt=i,Vt=1,St=t):St=e+Ot/o*(t-e),(-2===Ot||Ot===o+2)&&(St=0,Vt=0),gt-=i/2;for(let Xt=0;Xt<pe;Xt++){const _t=p(Xt*v*2/r),Wt=_(Xt*v*2/r);tt[xt+Ye[0]]=_t*St,tt[xt+Ye[1]]=gt,tt[xt+Ye[2]]=Wt*St,ht[xt+Ye[0]]=Ot<0||Ot>o?0:_t*A,ht[xt+Ye[1]]=Ot<0?-1:Ot>o?1:P,ht[xt+Ye[2]]=Ot<0||Ot>o?0:Wt*A,Mt[yt+0]=Xt/r,Mt[yt+1]=Vt,yt+=2,xt+=3}}for(let Ot=0;Ot<o+l;Ot++)for(let Vt=0;Vt<r;Vt++){const gt=6*(Ot*r+Vt);Re[gt+0]=pe*(Ot+0)+0+Vt,Re[gt+1]=pe*(Ot+0)+1+Vt,Re[gt+2]=pe*(Ot+1)+1+Vt,Re[gt+3]=pe*(Ot+0)+0+Vt,Re[gt+4]=pe*(Ot+1)+1+Vt,Re[gt+5]=pe*(Ot+1)+0+Vt}return{indices:Re,attributes:{POSITION:{size:3,value:tt},NORMAL:{size:3,value:ht},TEXCOORD_0:{size:2,value:Mt}}}}(e);super({...e,id:t,indices:i,attributes:{...r,...e.attributes}})}}class CIe extends z${constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Wa("cone-geometry"),radius:i=1,cap:r=!0}=e;super({...e,id:t,topRadius:0,topCap:!!r,bottomCap:!!r,bottomRadius:i})}}class SIe extends z${constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Wa("cylinder-geometry"),radius:i=1}=e;super({...e,id:t,bottomRadius:i,topRadius:i})}}const AIe=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),MIe=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),TIe=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),IIe=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),DIe={POSITION:{size:3,value:new Float32Array(MIe)},NORMAL:{size:3,value:new Float32Array(TIe)},TEXCOORD_0:{size:2,value:new Float32Array(IIe)}};class kIe extends af{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Wa("cube-geometry")}=e;super({...e,id:t,indices:{size:1,value:new Uint16Array(AIe)},attributes:{...DIe,...e.attributes}})}}class Cl{constructor(e){void 0===e&&(e=[0,0,0,0,0,0,0,0,0]),this.elements=e}identity(){const e=this.elements;e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1}setZero(){const e=this.elements;e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0}setTrace(e){const t=this.elements;t[0]=e.x,t[4]=e.y,t[8]=e.z}getTrace(e){void 0===e&&(e=new we);const t=this.elements;return e.x=t[0],e.y=t[4],e.z=t[8],e}vmult(e,t){void 0===t&&(t=new we);const i=this.elements,r=e.x,o=e.y,s=e.z;return t.x=i[0]*r+i[1]*o+i[2]*s,t.y=i[3]*r+i[4]*o+i[5]*s,t.z=i[6]*r+i[7]*o+i[8]*s,t}smult(e){for(let t=0;t<this.elements.length;t++)this.elements[t]*=e}mmult(e,t){void 0===t&&(t=new Cl);const i=this.elements,r=e.elements,o=t.elements,s=i[0],a=i[1],c=i[2],l=i[3],d=i[4],h=i[5],p=i[6],_=i[7],v=i[8],A=r[0],P=r[1],X=r[2],Q=r[3],pe=r[4],Re=r[5],Ye=r[6],tt=r[7],ht=r[8];return o[0]=s*A+a*Q+c*Ye,o[1]=s*P+a*pe+c*tt,o[2]=s*X+a*Re+c*ht,o[3]=l*A+d*Q+h*Ye,o[4]=l*P+d*pe+h*tt,o[5]=l*X+d*Re+h*ht,o[6]=p*A+_*Q+v*Ye,o[7]=p*P+_*pe+v*tt,o[8]=p*X+_*Re+v*ht,t}scale(e,t){void 0===t&&(t=new Cl);const i=this.elements,r=t.elements;for(let o=0;3!==o;o++)r[3*o+0]=e.x*i[3*o+0],r[3*o+1]=e.y*i[3*o+1],r[3*o+2]=e.z*i[3*o+2];return t}solve(e,t){void 0===t&&(t=new we);const o=[];let s,a;for(s=0;s<12;s++)o.push(0);for(s=0;s<3;s++)for(a=0;a<3;a++)o[s+4*a]=this.elements[s+3*a];o[3]=e.x,o[7]=e.y,o[11]=e.z;let c=3;const l=c;let d,p;do{if(s=l-c,0===o[s+4*s])for(a=s+1;a<l;a++)if(0!==o[s+4*a]){d=4;do{p=4-d,o[p+4*s]+=o[p+4*a]}while(--d);break}if(0!==o[s+4*s])for(a=s+1;a<l;a++){const _=o[s+4*a]/o[s+4*s];d=4;do{p=4-d,o[p+4*a]=p<=s?0:o[p+4*a]-o[p+4*s]*_}while(--d)}}while(--c);if(t.z=o[11]/o[10],t.y=(o[7]-o[6]*t.z)/o[5],t.x=(o[3]-o[2]*t.z-o[1]*t.y)/o[0],isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||t.x===1/0||t.y===1/0||t.z===1/0)throw`Could not solve equation! Got x=[${t.toString()}], b=[${e.toString()}], A=[${this.toString()}]`;return t}e(e,t,i){if(void 0===i)return this.elements[t+3*e];this.elements[t+3*e]=i}copy(e){for(let t=0;t<e.elements.length;t++)this.elements[t]=e.elements[t];return this}toString(){let e="";for(let i=0;i<9;i++)e+=this.elements[i]+",";return e}reverse(e){void 0===e&&(e=new Cl);const r=OIe;let o,s;for(o=0;o<3;o++)for(s=0;s<3;s++)r[o+6*s]=this.elements[o+3*s];r[3]=1,r[9]=0,r[15]=0,r[4]=0,r[10]=1,r[16]=0,r[5]=0,r[11]=0,r[17]=1;let a=3;const c=a;let l,h;do{if(o=c-a,0===r[o+6*o])for(s=o+1;s<c;s++)if(0!==r[o+6*s]){l=6;do{h=6-l,r[h+6*o]+=r[h+6*s]}while(--l);break}if(0!==r[o+6*o])for(s=o+1;s<c;s++){const p=r[o+6*s]/r[o+6*o];l=6;do{h=6-l,r[h+6*s]=h<=o?0:r[h+6*s]-r[h+6*o]*p}while(--l)}}while(--a);o=2;do{s=o-1;do{const p=r[o+6*s]/r[o+6*o];l=6;do{h=6-l,r[h+6*s]=r[h+6*s]-r[h+6*o]*p}while(--l)}while(s--)}while(--o);o=2;do{const p=1/r[o+6*o];l=6;do{h=6-l,r[h+6*o]=r[h+6*o]*p}while(--l)}while(o--);o=2;do{s=2;do{if(h=r[3+s+6*o],isNaN(h)||h===1/0)throw`Could not reverse! A=[${this.toString()}]`;e.e(o,s,h)}while(s--)}while(o--);return e}setRotationFromQuaternion(e){const t=e.x,i=e.y,r=e.z,o=e.w,s=t+t,a=i+i,c=r+r,l=t*s,d=t*a,h=t*c,p=i*a,_=i*c,v=r*c,A=o*s,P=o*a,X=o*c,Q=this.elements;return Q[0]=1-(p+v),Q[1]=d-X,Q[2]=h+P,Q[3]=d+X,Q[4]=1-(l+v),Q[5]=_-A,Q[6]=h-P,Q[7]=_+A,Q[8]=1-(l+p),this}transpose(e){void 0===e&&(e=new Cl);const t=this.elements,i=e.elements;let r;return i[0]=t[0],i[4]=t[4],i[8]=t[8],r=t[1],i[1]=t[3],i[3]=r,r=t[2],i[2]=t[6],i[6]=r,r=t[5],i[5]=t[7],i[7]=r,e}}const OIe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];class we{constructor(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.x=e,this.y=t,this.z=i}cross(e,t){void 0===t&&(t=new we);const i=e.x,r=e.y,o=e.z,s=this.x,a=this.y,c=this.z;return t.x=a*o-c*r,t.y=c*i-s*o,t.z=s*r-a*i,t}set(e,t,i){return this.x=e,this.y=t,this.z=i,this}setZero(){this.x=this.y=this.z=0}vadd(e,t){if(!t)return new we(this.x+e.x,this.y+e.y,this.z+e.z);t.x=e.x+this.x,t.y=e.y+this.y,t.z=e.z+this.z}vsub(e,t){if(!t)return new we(this.x-e.x,this.y-e.y,this.z-e.z);t.x=this.x-e.x,t.y=this.y-e.y,t.z=this.z-e.z}crossmat(){return new Cl([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])}normalize(){const e=this.x,t=this.y,i=this.z,r=Math.sqrt(e*e+t*t+i*i);if(r>0){const o=1/r;this.x*=o,this.y*=o,this.z*=o}else this.x=0,this.y=0,this.z=0;return r}unit(e){void 0===e&&(e=new we);const t=this.x,i=this.y,r=this.z;let o=Math.sqrt(t*t+i*i+r*r);return o>0?(o=1/o,e.x=t*o,e.y=i*o,e.z=r*o):(e.x=1,e.y=0,e.z=0),e}length(){const e=this.x,t=this.y,i=this.z;return Math.sqrt(e*e+t*t+i*i)}lengthSquared(){return this.dot(this)}distanceTo(e){const t=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z;return Math.sqrt((o-t)*(o-t)+(s-i)*(s-i)+(a-r)*(a-r))}distanceSquared(e){const t=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z;return(o-t)*(o-t)+(s-i)*(s-i)+(a-r)*(a-r)}scale(e,t){void 0===t&&(t=new we);const r=this.y,o=this.z;return t.x=e*this.x,t.y=e*r,t.z=e*o,t}vmul(e,t){return void 0===t&&(t=new we),t.x=e.x*this.x,t.y=e.y*this.y,t.z=e.z*this.z,t}addScaledVector(e,t,i){return void 0===i&&(i=new we),i.x=this.x+e*t.x,i.y=this.y+e*t.y,i.z=this.z+e*t.z,i}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}isZero(){return 0===this.x&&0===this.y&&0===this.z}negate(e){return void 0===e&&(e=new we),e.x=-this.x,e.y=-this.y,e.z=-this.z,e}tangents(e,t){const i=this.length();if(i>0){const r=RIe,o=1/i;r.set(this.x*o,this.y*o,this.z*o);const s=PIe;Math.abs(r.x)<.9?(s.set(1,0,0),r.cross(s,e)):(s.set(0,1,0),r.cross(s,e)),r.cross(e,t)}else e.set(1,0,0),t.set(0,1,0)}toString(){return`${this.x},${this.y},${this.z}`}toArray(){return[this.x,this.y,this.z]}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}lerp(e,t,i){const r=this.x,o=this.y,s=this.z;i.x=r+(e.x-r)*t,i.y=o+(e.y-o)*t,i.z=s+(e.z-s)*t}almostEquals(e,t){return void 0===t&&(t=1e-6),!(Math.abs(this.x-e.x)>t||Math.abs(this.y-e.y)>t||Math.abs(this.z-e.z)>t)}almostZero(e){return void 0===e&&(e=1e-6),!(Math.abs(this.x)>e||Math.abs(this.y)>e||Math.abs(this.z)>e)}isAntiparallelTo(e,t){return this.negate(H$),H$.almostEquals(e,t)}clone(){return new we(this.x,this.y,this.z)}}we.ZERO=new we(0,0,0),we.UNIT_X=new we(1,0,0),we.UNIT_Y=new we(0,1,0),we.UNIT_Z=new we(0,0,1);const RIe=new we,PIe=new we,H$=new we;class Mr{constructor(e){void 0===e&&(e={}),this.lowerBound=new we,this.upperBound=new we,e.lowerBound&&this.lowerBound.copy(e.lowerBound),e.upperBound&&this.upperBound.copy(e.upperBound)}setFromPoints(e,t,i,r){const o=this.lowerBound,s=this.upperBound,a=i;o.copy(e[0]),a&&a.vmult(o,o),s.copy(o);for(let c=1;c<e.length;c++){let l=e[c];a&&(a.vmult(l,G$),l=G$),l.x>s.x&&(s.x=l.x),l.x<o.x&&(o.x=l.x),l.y>s.y&&(s.y=l.y),l.y<o.y&&(o.y=l.y),l.z>s.z&&(s.z=l.z),l.z<o.z&&(o.z=l.z)}return t&&(t.vadd(o,o),t.vadd(s,s)),r&&(o.x-=r,o.y-=r,o.z-=r,s.x+=r,s.y+=r,s.z+=r),this}copy(e){return this.lowerBound.copy(e.lowerBound),this.upperBound.copy(e.upperBound),this}clone(){return(new Mr).copy(this)}extend(e){this.lowerBound.x=Math.min(this.lowerBound.x,e.lowerBound.x),this.upperBound.x=Math.max(this.upperBound.x,e.upperBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,e.lowerBound.y),this.upperBound.y=Math.max(this.upperBound.y,e.upperBound.y),this.lowerBound.z=Math.min(this.lowerBound.z,e.lowerBound.z),this.upperBound.z=Math.max(this.upperBound.z,e.upperBound.z)}overlaps(e){const t=this.lowerBound,i=this.upperBound,r=e.lowerBound,o=e.upperBound;return(r.x<=i.x&&i.x<=o.x||t.x<=o.x&&o.x<=i.x)&&(r.y<=i.y&&i.y<=o.y||t.y<=o.y&&o.y<=i.y)&&(r.z<=i.z&&i.z<=o.z||t.z<=o.z&&o.z<=i.z)}volume(){const e=this.lowerBound,t=this.upperBound;return(t.x-e.x)*(t.y-e.y)*(t.z-e.z)}contains(e){const t=this.lowerBound,i=this.upperBound,r=e.lowerBound,o=e.upperBound;return t.x<=r.x&&i.x>=o.x&&t.y<=r.y&&i.y>=o.y&&t.z<=r.z&&i.z>=o.z}getCorners(e,t,i,r,o,s,a,c){const l=this.lowerBound,d=this.upperBound;e.copy(l),t.set(d.x,l.y,l.z),i.set(d.x,d.y,l.z),r.set(l.x,d.y,d.z),o.set(d.x,l.y,d.z),s.set(l.x,d.y,l.z),a.set(l.x,l.y,d.z),c.copy(d)}toLocalFrame(e,t){const i=W$;this.getCorners(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);for(let p=0;8!==p;p++){const _=i[p];e.pointToLocal(_,_)}return t.setFromPoints(i)}toWorldFrame(e,t){const i=W$;this.getCorners(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);for(let p=0;8!==p;p++){const _=i[p];e.pointToWorld(_,_)}return t.setFromPoints(i)}overlapsRay(e){const{direction:t,from:i}=e,r=1/t.x,o=1/t.y,s=1/t.z,a=(this.lowerBound.x-i.x)*r,c=(this.upperBound.x-i.x)*r,l=(this.lowerBound.y-i.y)*o,d=(this.upperBound.y-i.y)*o,h=(this.lowerBound.z-i.z)*s,p=(this.upperBound.z-i.z)*s,_=Math.max(Math.max(Math.min(a,c),Math.min(l,d)),Math.min(h,p)),v=Math.min(Math.min(Math.max(a,c),Math.max(l,d)),Math.max(h,p));return!(v<0||_>v)}}const G$=new we,W$=[new we,new we,new we,new we,new we,new we,new we,new we];class NIe{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;return void 0===i[e]&&(i[e]=[]),i[e].includes(t)||i[e].push(t),this}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return!(void 0===i[e]||!i[e].includes(t))}hasAnyEventListener(e){return void 0!==this._listeners&&void 0!==this._listeners[e]}removeEventListener(e,t){if(void 0===this._listeners)return this;const i=this._listeners;if(void 0===i[e])return this;const r=i[e].indexOf(t);return-1!==r&&i[e].splice(r,1),this}dispatchEvent(e){if(void 0===this._listeners)return this;const i=this._listeners[e.type];if(void 0!==i){e.target=this;for(let r=0,o=i.length;r<o;r++)i[r].call(this,e)}return this}}class wo{constructor(e,t,i,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=1),this.x=e,this.y=t,this.z=i,this.w=r}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}toString(){return`${this.x},${this.y},${this.z},${this.w}`}toArray(){return[this.x,this.y,this.z,this.w]}setFromAxisAngle(e,t){const i=Math.sin(.5*t);return this.x=e.x*i,this.y=e.y*i,this.z=e.z*i,this.w=Math.cos(.5*t),this}toAxisAngle(e){void 0===e&&(e=new we),this.normalize();const t=2*Math.acos(this.w),i=Math.sqrt(1-this.w*this.w);return i<.001?(e.x=this.x,e.y=this.y,e.z=this.z):(e.x=this.x/i,e.y=this.y/i,e.z=this.z/i),[e,t]}setFromVectors(e,t){if(e.isAntiparallelTo(t)){const i=FIe;e.tangents(i,LIe),this.setFromAxisAngle(i,Math.PI)}else{const i=e.cross(t);this.x=i.x,this.y=i.y,this.z=i.z,this.w=Math.sqrt(e.length()**2*t.length()**2)+e.dot(t),this.normalize()}return this}mult(e,t){void 0===t&&(t=new wo);const i=this.x,r=this.y,o=this.z,s=this.w,a=e.x,c=e.y,l=e.z,d=e.w;return t.x=i*d+s*a+r*l-o*c,t.y=r*d+s*c+o*a-i*l,t.z=o*d+s*l+i*c-r*a,t.w=s*d-i*a-r*c-o*l,t}inverse(e){void 0===e&&(e=new wo);const t=this.x,i=this.y,r=this.z,o=this.w;this.conjugate(e);const s=1/(t*t+i*i+r*r+o*o);return e.x*=s,e.y*=s,e.z*=s,e.w*=s,e}conjugate(e){return void 0===e&&(e=new wo),e.x=-this.x,e.y=-this.y,e.z=-this.z,e.w=this.w,e}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=0):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}normalizeFast(){const e=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;return 0===e?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}vmult(e,t){void 0===t&&(t=new we);const i=e.x,r=e.y,o=e.z,s=this.x,a=this.y,c=this.z,l=this.w,d=l*i+a*o-c*r,h=l*r+c*i-s*o,p=l*o+s*r-a*i,_=-s*i-a*r-c*o;return t.x=d*l+_*-s+h*-c-p*-a,t.y=h*l+_*-a+p*-s-d*-c,t.z=p*l+_*-c+d*-a-h*-s,t}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}toEuler(e,t){let i,r,o;void 0===t&&(t="YZX");const s=this.x,a=this.y,c=this.z,l=this.w;if("YZX"!==t)throw new Error(`Euler order ${t} not supported yet.`);{const d=s*a+c*l;if(d>.499&&(i=2*Math.atan2(s,l),r=Math.PI/2,o=0),d<-.499&&(i=-2*Math.atan2(s,l),r=-Math.PI/2,o=0),void 0===i){const h=s*s,_=c*c;i=Math.atan2(2*a*l-2*s*c,1-a*a*2-2*_),r=Math.asin(2*d),o=Math.atan2(2*s*l-2*a*c,1-2*h-2*_)}}e.y=i,e.z=r,e.x=o}setFromEuler(e,t,i,r){void 0===r&&(r="XYZ");const o=Math.cos(e/2),s=Math.cos(t/2),a=Math.cos(i/2),c=Math.sin(e/2),l=Math.sin(t/2),d=Math.sin(i/2);return"XYZ"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a-c*l*d):"YXZ"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a+c*l*d):"ZXY"===r?(this.x=c*s*a-o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a-c*l*d):"ZYX"===r?(this.x=c*s*a-o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a+c*l*d):"YZX"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a-c*l*d):"XZY"===r&&(this.x=c*s*a-o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a+c*l*d),this}clone(){return new wo(this.x,this.y,this.z,this.w)}slerp(e,t,i){void 0===i&&(i=new wo);const r=this.x,o=this.y,s=this.z,a=this.w;let p,_,v,A,P,c=e.x,l=e.y,d=e.z,h=e.w;return _=r*c+o*l+s*d+a*h,_<0&&(_=-_,c=-c,l=-l,d=-d,h=-h),1-_>1e-6?(p=Math.acos(_),v=Math.sin(p),A=Math.sin((1-t)*p)/v,P=Math.sin(t*p)/v):(A=1-t,P=t),i.x=A*r+P*c,i.y=A*o+P*l,i.z=A*s+P*d,i.w=A*a+P*h,i}integrate(e,t,i,r){void 0===r&&(r=new wo);const o=e.x*i.x,s=e.y*i.y,a=e.z*i.z,c=this.x,l=this.y,d=this.z,h=this.w,p=.5*t;return r.x+=p*(o*h+s*d-a*l),r.y+=p*(s*h+a*c-o*d),r.z+=p*(a*h+o*l-s*c),r.w+=p*(-o*c-s*l-a*d),r}}const FIe=new we,LIe=new we,BIe={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256};let kn=(()=>{class n{constructor(t){void 0===t&&(t={}),this.id=n.idCounter++,this.type=t.type||0,this.boundingSphereRadius=0,this.collisionResponse=!t.collisionResponse||t.collisionResponse,this.collisionFilterGroup=void 0!==t.collisionFilterGroup?t.collisionFilterGroup:1,this.collisionFilterMask=void 0!==t.collisionFilterMask?t.collisionFilterMask:-1,this.material=t.material?t.material:null,this.body=null}updateBoundingSphereRadius(){throw`computeBoundingSphereRadius() not implemented for shape type ${this.type}`}volume(){throw`volume() not implemented for shape type ${this.type}`}calculateLocalInertia(t,i){throw`calculateLocalInertia() not implemented for shape type ${this.type}`}calculateWorldAABB(t,i,r,o){throw`calculateWorldAABB() not implemented for shape type ${this.type}`}}return n.idCounter=0,n.types=BIe,n})();class er{constructor(e){void 0===e&&(e={}),this.position=new we,this.quaternion=new wo,e.position&&this.position.copy(e.position),e.quaternion&&this.quaternion.copy(e.quaternion)}pointToLocal(e,t){return er.pointToLocalFrame(this.position,this.quaternion,e,t)}pointToWorld(e,t){return er.pointToWorldFrame(this.position,this.quaternion,e,t)}vectorToWorldFrame(e,t){return void 0===t&&(t=new we),this.quaternion.vmult(e,t),t}static pointToLocalFrame(e,t,i,r){return void 0===r&&(r=new we),i.vsub(e,r),t.conjugate(X$),X$.vmult(r,r),r}static pointToWorldFrame(e,t,i,r){return void 0===r&&(r=new we),t.vmult(i,r),r.vadd(e,r),r}static vectorToWorldFrame(e,t,i){return void 0===i&&(i=new we),e.vmult(t,i),i}static vectorToLocalFrame(e,t,i,r){return void 0===r&&(r=new we),t.w*=-1,t.vmult(i,r),t.w*=-1,r}}const X$=new wo;class Kp extends kn{constructor(e){void 0===e&&(e={});const{vertices:t=[],faces:i=[],normals:r=[],axes:o,boundingSphereRadius:s}=e;super({type:kn.types.CONVEXPOLYHEDRON}),this.vertices=t,this.faces=i,this.faceNormals=r,0===this.faceNormals.length&&this.computeNormals(),s?this.boundingSphereRadius=s:this.updateBoundingSphereRadius(),this.worldVertices=[],this.worldVerticesNeedsUpdate=!0,this.worldFaceNormals=[],this.worldFaceNormalsNeedsUpdate=!0,this.uniqueAxes=o?o.slice():null,this.uniqueEdges=[],this.computeEdges()}computeEdges(){const e=this.faces,t=this.vertices,i=this.uniqueEdges;i.length=0;const r=new we;for(let o=0;o!==e.length;o++){const s=e[o],a=s.length;for(let c=0;c!==a;c++){t[s[c]].vsub(t[s[(c+1)%a]],r),r.normalize();let d=!1;for(let h=0;h!==i.length;h++)if(i[h].almostEquals(r)||i[h].almostEquals(r)){d=!0;break}d||i.push(r.clone())}}}computeNormals(){this.faceNormals.length=this.faces.length;for(let e=0;e<this.faces.length;e++){for(let r=0;r<this.faces[e].length;r++)if(!this.vertices[this.faces[e][r]])throw new Error(`Vertex ${this.faces[e][r]} not found!`);const t=this.faceNormals[e]||new we;if(this.getFaceNormal(e,t),t.negate(t),this.faceNormals[e]=t,t.dot(this.vertices[this.faces[e][0]])<0){console.error(`.faceNormals[${e}] = Vec3(${t.toString()}) looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.`);for(let r=0;r<this.faces[e].length;r++)console.warn(`.vertices[${this.faces[e][r]}] = Vec3(${this.vertices[this.faces[e][r]].toString()})`)}}}getFaceNormal(e,t){const i=this.faces[e];Kp.computeNormal(this.vertices[i[0]],this.vertices[i[1]],this.vertices[i[2]],t)}static computeNormal(e,t,i,r){const o=new we,s=new we;t.vsub(e,s),i.vsub(t,o),o.cross(s,r),r.isZero()||r.normalize()}clipAgainstHull(e,t,i,r,o,s,a,c,l){const d=new we;let h=-1,p=-Number.MAX_VALUE;for(let v=0;v<i.faces.length;v++){d.copy(i.faceNormals[v]),o.vmult(d,d);const A=d.dot(s);A>p&&(p=A,h=v)}const _=[];for(let v=0;v<i.faces[h].length;v++){const A=i.vertices[i.faces[h][v]],P=new we;P.copy(A),o.vmult(P,P),r.vadd(P,P),_.push(P)}h>=0&&this.clipFaceAgainstHull(s,e,t,_,a,c,l)}findSeparatingAxis(e,t,i,r,o,s,a,c){const l=new we,d=new we,h=new we,p=new we,_=new we,v=new we;let A=Number.MAX_VALUE;const P=this;if(P.uniqueAxes)for(let X=0;X!==P.uniqueAxes.length;X++){i.vmult(P.uniqueAxes[X],l);const Q=P.testSepAxis(l,e,t,i,r,o);if(!1===Q)return!1;Q<A&&(A=Q,s.copy(l))}else{const X=a?a.length:P.faces.length;for(let Q=0;Q<X;Q++){l.copy(P.faceNormals[a?a[Q]:Q]),i.vmult(l,l);const Re=P.testSepAxis(l,e,t,i,r,o);if(!1===Re)return!1;Re<A&&(A=Re,s.copy(l))}}if(e.uniqueAxes)for(let X=0;X!==e.uniqueAxes.length;X++){o.vmult(e.uniqueAxes[X],d);const Q=P.testSepAxis(d,e,t,i,r,o);if(!1===Q)return!1;Q<A&&(A=Q,s.copy(d))}else{const X=c?c.length:e.faces.length;for(let Q=0;Q<X;Q++){d.copy(e.faceNormals[c?c[Q]:Q]),o.vmult(d,d);const Re=P.testSepAxis(d,e,t,i,r,o);if(!1===Re)return!1;Re<A&&(A=Re,s.copy(d))}}for(let X=0;X!==P.uniqueEdges.length;X++){i.vmult(P.uniqueEdges[X],p);for(let Q=0;Q!==e.uniqueEdges.length;Q++)if(o.vmult(e.uniqueEdges[Q],_),p.cross(_,v),!v.almostZero()){v.normalize();const pe=P.testSepAxis(v,e,t,i,r,o);if(!1===pe)return!1;pe<A&&(A=pe,s.copy(v))}}return r.vsub(t,h),h.dot(s)>0&&s.negate(s),!0}testSepAxis(e,t,i,r,o,s){Kp.project(this,e,i,r,SF),Kp.project(t,e,o,s,AF);const c=SF[0],l=SF[1],d=AF[0],h=AF[1];if(c<h||d<l)return!1;const p=c-h,_=d-l;return p<_?p:_}calculateLocalInertia(e,t){const i=new we,r=new we;this.computeLocalAABB(r,i);const o=i.x-r.x,s=i.y-r.y,a=i.z-r.z;t.x=1/12*e*(2*s*2*s+2*a*2*a),t.y=1/12*e*(2*o*2*o+2*a*2*a),t.z=1/12*e*(2*s*2*s+2*o*2*o)}getPlaneConstantOfFace(e){return-this.faceNormals[e].dot(this.vertices[this.faces[e][0]])}clipFaceAgainstHull(e,t,i,r,o,s,a){const c=new we,l=new we,d=new we,h=new we,p=new we,_=new we,v=new we,A=new we,P=this,Q=r,pe=[];let Re=-1,Ye=Number.MAX_VALUE;for(let yt=0;yt<P.faces.length;yt++){c.copy(P.faceNormals[yt]),i.vmult(c,c);const Ot=c.dot(e);Ot<Ye&&(Ye=Ot,Re=yt)}if(Re<0)return;const tt=P.faces[Re];tt.connectedFaces=[];for(let yt=0;yt<P.faces.length;yt++)for(let Ot=0;Ot<P.faces[yt].length;Ot++)-1!==tt.indexOf(P.faces[yt][Ot])&&yt!==Re&&-1===tt.connectedFaces.indexOf(yt)&&tt.connectedFaces.push(yt);const ht=tt.length;for(let yt=0;yt<ht;yt++){const Ot=P.vertices[tt[yt]];Ot.vsub(P.vertices[tt[(yt+1)%ht]],l),d.copy(l),i.vmult(d,d),t.vadd(d,d),h.copy(this.faceNormals[Re]),i.vmult(h,h),t.vadd(h,h),d.cross(h,p),p.negate(p),_.copy(Ot),i.vmult(_,_),t.vadd(_,_);const gt=tt.connectedFaces[yt];v.copy(this.faceNormals[gt]);const St=this.getPlaneConstantOfFace(gt);A.copy(v),i.vmult(A,A);const Xt=St-A.dot(t);for(this.clipFaceAgainstPlane(Q,pe,A,Xt);Q.length;)Q.shift();for(;pe.length;)Q.push(pe.shift())}v.copy(this.faceNormals[Re]);const Mt=this.getPlaneConstantOfFace(Re);A.copy(v),i.vmult(A,A);const xt=Mt-A.dot(t);for(let yt=0;yt<Q.length;yt++){let Ot=A.dot(Q[yt])+xt;Ot<=o&&(console.log(`clamped: depth=${Ot} to minDist=${o}`),Ot=o),Ot<=s&&Ot<=1e-6&&a.push({point:Q[yt],normal:A,depth:Ot})}}clipFaceAgainstPlane(e,t,i,r){let o,s;const a=e.length;if(a<2)return t;let c=e[e.length-1],l=e[0];o=i.dot(c)+r;for(let d=0;d<a;d++){if(l=e[d],s=i.dot(l)+r,o<0)if(s<0){const h=new we;h.copy(l),t.push(h)}else{const h=new we;c.lerp(l,o/(o-s),h),t.push(h)}else if(s<0){const h=new we;c.lerp(l,o/(o-s),h),t.push(h),t.push(l)}c=l,o=s}return t}computeWorldVertices(e,t){for(;this.worldVertices.length<this.vertices.length;)this.worldVertices.push(new we);const i=this.vertices,r=this.worldVertices;for(let o=0;o!==this.vertices.length;o++)t.vmult(i[o],r[o]),e.vadd(r[o],r[o]);this.worldVerticesNeedsUpdate=!1}computeLocalAABB(e,t){const i=this.vertices;e.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),t.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(let r=0;r<this.vertices.length;r++){const o=i[r];o.x<e.x?e.x=o.x:o.x>t.x&&(t.x=o.x),o.y<e.y?e.y=o.y:o.y>t.y&&(t.y=o.y),o.z<e.z?e.z=o.z:o.z>t.z&&(t.z=o.z)}}computeWorldFaceNormals(e){const t=this.faceNormals.length;for(;this.worldFaceNormals.length<t;)this.worldFaceNormals.push(new we);const i=this.faceNormals,r=this.worldFaceNormals;for(let o=0;o!==t;o++)e.vmult(i[o],r[o]);this.worldFaceNormalsNeedsUpdate=!1}updateBoundingSphereRadius(){let e=0;const t=this.vertices;for(let i=0;i!==t.length;i++){const r=t[i].lengthSquared();r>e&&(e=r)}this.boundingSphereRadius=Math.sqrt(e)}calculateWorldAABB(e,t,i,r){const o=this.vertices;let s,a,c,l,d,h,p=new we;for(let _=0;_<o.length;_++)p.copy(o[_]),t.vmult(p,p),e.vadd(p,p),(void 0===s||p.x<s)&&(s=p.x),(void 0===l||p.x>l)&&(l=p.x),(void 0===a||p.y<a)&&(a=p.y),(void 0===d||p.y>d)&&(d=p.y),(void 0===c||p.z<c)&&(c=p.z),(void 0===h||p.z>h)&&(h=p.z);i.set(s,a,c),r.set(l,d,h)}volume(){return 4*Math.PI*this.boundingSphereRadius/3}getAveragePointLocal(e){void 0===e&&(e=new we);const t=this.vertices;for(let i=0;i<t.length;i++)e.vadd(t[i],e);return e.scale(1/t.length,e),e}transformAllPoints(e,t){const i=this.vertices.length,r=this.vertices;if(t){for(let o=0;o<i;o++){const s=r[o];t.vmult(s,s)}for(let o=0;o<this.faceNormals.length;o++){const s=this.faceNormals[o];t.vmult(s,s)}}if(e)for(let o=0;o<i;o++){const s=r[o];s.vadd(e,s)}}pointIsInside(e){const t=this.vertices,i=this.faces,r=this.faceNormals,s=new we;this.getAveragePointLocal(s);for(let a=0;a<this.faces.length;a++){let c=r[a];const l=t[i[a][0]],d=new we;e.vsub(l,d);const h=c.dot(d),p=new we;s.vsub(l,p);const _=c.dot(p);if(h<0&&_>0||h>0&&_<0)return!1}return-1}static project(e,t,i,r,o){const s=e.vertices.length,a=VIe;let c=0,l=0;const d=jIe,h=e.vertices;d.setZero(),er.vectorToLocalFrame(i,r,t,a),er.pointToLocalFrame(i,r,d,d);const p=d.dot(a);l=c=h[0].dot(a);for(let _=1;_<s;_++){const v=h[_].dot(a);v>c&&(c=v),v<l&&(l=v)}if(l-=p,c-=p,l>c){const _=l;l=c,c=_}o[0]=c,o[1]=l}}const SF=[],AF=[],VIe=(new we,new we),jIe=new we;class mA extends kn{constructor(e){super({type:kn.types.BOX}),this.halfExtents=e,this.convexPolyhedronRepresentation=null,this.updateConvexPolyhedronRepresentation(),this.updateBoundingSphereRadius()}updateConvexPolyhedronRepresentation(){const e=this.halfExtents.x,t=this.halfExtents.y,i=this.halfExtents.z,r=we,o=[new r(-e,-t,-i),new r(e,-t,-i),new r(e,t,-i),new r(-e,t,-i),new r(-e,-t,i),new r(e,-t,i),new r(e,t,i),new r(-e,t,i)],a=[new r(0,0,1),new r(0,1,0),new r(1,0,0)],c=new Kp({vertices:o,faces:[[3,2,1,0],[4,5,6,7],[5,4,0,1],[2,3,7,6],[0,4,7,3],[1,2,6,5]],axes:a});this.convexPolyhedronRepresentation=c,c.material=this.material}calculateLocalInertia(e,t){return void 0===t&&(t=new we),mA.calculateInertia(this.halfExtents,e,t),t}static calculateInertia(e,t,i){const r=e;i.x=1/12*t*(2*r.y*2*r.y+2*r.z*2*r.z),i.y=1/12*t*(2*r.x*2*r.x+2*r.z*2*r.z),i.z=1/12*t*(2*r.y*2*r.y+2*r.x*2*r.x)}getSideNormals(e,t){const i=e,r=this.halfExtents;if(i[0].set(r.x,0,0),i[1].set(0,r.y,0),i[2].set(0,0,r.z),i[3].set(-r.x,0,0),i[4].set(0,-r.y,0),i[5].set(0,0,-r.z),void 0!==t)for(let o=0;o!==i.length;o++)t.vmult(i[o],i[o]);return i}volume(){return 8*this.halfExtents.x*this.halfExtents.y*this.halfExtents.z}updateBoundingSphereRadius(){this.boundingSphereRadius=this.halfExtents.length()}forEachWorldCorner(e,t,i){const r=this.halfExtents,o=[[r.x,r.y,r.z],[-r.x,r.y,r.z],[-r.x,-r.y,r.z],[-r.x,-r.y,-r.z],[r.x,-r.y,-r.z],[r.x,r.y,-r.z],[-r.x,r.y,-r.z],[r.x,-r.y,r.z]];for(let s=0;s<o.length;s++)lf.set(o[s][0],o[s][1],o[s][2]),t.vmult(lf,lf),e.vadd(lf,lf),i(lf.x,lf.y,lf.z)}calculateWorldAABB(e,t,i,r){const o=this.halfExtents;Sd[0].set(o.x,o.y,o.z),Sd[1].set(-o.x,o.y,o.z),Sd[2].set(-o.x,-o.y,o.z),Sd[3].set(-o.x,-o.y,-o.z),Sd[4].set(o.x,-o.y,-o.z),Sd[5].set(o.x,o.y,-o.z),Sd[6].set(-o.x,o.y,-o.z),Sd[7].set(o.x,-o.y,o.z);const s=Sd[0];t.vmult(s,s),e.vadd(s,s),r.copy(s),i.copy(s);for(let a=1;a<8;a++){const c=Sd[a];t.vmult(c,c),e.vadd(c,c);const l=c.x,d=c.y,h=c.z;l>r.x&&(r.x=l),d>r.y&&(r.y=d),h>r.z&&(r.z=h),l<i.x&&(i.x=l),d<i.y&&(i.y=d),h<i.z&&(i.z=h)}}}const lf=new we,Sd=[new we,new we,new we,new we,new we,new we,new we,new we];class On extends NIe{constructor(e){void 0===e&&(e={}),super(),this.id=On.idCounter++,this.index=-1,this.world=null,this.vlambda=new we,this.collisionFilterGroup="number"==typeof e.collisionFilterGroup?e.collisionFilterGroup:1,this.collisionFilterMask="number"==typeof e.collisionFilterMask?e.collisionFilterMask:-1,this.collisionResponse="boolean"!=typeof e.collisionResponse||e.collisionResponse,this.position=new we,this.previousPosition=new we,this.interpolatedPosition=new we,this.initPosition=new we,e.position&&(this.position.copy(e.position),this.previousPosition.copy(e.position),this.interpolatedPosition.copy(e.position),this.initPosition.copy(e.position)),this.velocity=new we,e.velocity&&this.velocity.copy(e.velocity),this.initVelocity=new we,this.force=new we;const t="number"==typeof e.mass?e.mass:0;this.mass=t,this.invMass=t>0?1/t:0,this.material=e.material||null,this.linearDamping="number"==typeof e.linearDamping?e.linearDamping:.01,this.type=t<=0?On.STATIC:On.DYNAMIC,typeof e.type==typeof On.STATIC&&(this.type=e.type),this.allowSleep=!(typeof e.allowSleep<"u")||e.allowSleep,this.sleepState=On.AWAKE,this.sleepSpeedLimit=typeof e.sleepSpeedLimit<"u"?e.sleepSpeedLimit:.1,this.sleepTimeLimit=typeof e.sleepTimeLimit<"u"?e.sleepTimeLimit:1,this.timeLastSleepy=0,this.wakeUpAfterNarrowphase=!1,this.torque=new we,this.quaternion=new wo,this.initQuaternion=new wo,this.previousQuaternion=new wo,this.interpolatedQuaternion=new wo,e.quaternion&&(this.quaternion.copy(e.quaternion),this.initQuaternion.copy(e.quaternion),this.previousQuaternion.copy(e.quaternion),this.interpolatedQuaternion.copy(e.quaternion)),this.angularVelocity=new we,e.angularVelocity&&this.angularVelocity.copy(e.angularVelocity),this.initAngularVelocity=new we,this.shapes=[],this.shapeOffsets=[],this.shapeOrientations=[],this.inertia=new we,this.invInertia=new we,this.invInertiaWorld=new Cl,this.invMassSolve=0,this.invInertiaSolve=new we,this.invInertiaWorldSolve=new Cl,this.fixedRotation=typeof e.fixedRotation<"u"&&e.fixedRotation,this.angularDamping=typeof e.angularDamping<"u"?e.angularDamping:.01,this.linearFactor=new we(1,1,1),e.linearFactor&&this.linearFactor.copy(e.linearFactor),this.angularFactor=new we(1,1,1),e.angularFactor&&this.angularFactor.copy(e.angularFactor),this.aabb=new Mr,this.aabbNeedsUpdate=!0,this.boundingRadius=0,this.wlambda=new we,this.isTrigger=!!e.isTrigger,e.shape&&this.addShape(e.shape),this.updateMassProperties()}wakeUp(){const e=this.sleepState;this.sleepState=On.AWAKE,this.wakeUpAfterNarrowphase=!1,e===On.SLEEPING&&this.dispatchEvent(On.wakeupEvent)}sleep(){this.sleepState=On.SLEEPING,this.velocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.wakeUpAfterNarrowphase=!1}sleepTick(e){if(this.allowSleep){const t=this.sleepState,i=this.velocity.lengthSquared()+this.angularVelocity.lengthSquared(),r=this.sleepSpeedLimit**2;t===On.AWAKE&&i<r?(this.sleepState=On.SLEEPY,this.timeLastSleepy=e,this.dispatchEvent(On.sleepyEvent)):t===On.SLEEPY&&i>r?this.wakeUp():t===On.SLEEPY&&e-this.timeLastSleepy>this.sleepTimeLimit&&(this.sleep(),this.dispatchEvent(On.sleepEvent))}}updateSolveMassProperties(){this.sleepState===On.SLEEPING||this.type===On.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve.setZero(),this.invInertiaWorldSolve.setZero()):(this.invMassSolve=this.invMass,this.invInertiaSolve.copy(this.invInertia),this.invInertiaWorldSolve.copy(this.invInertiaWorld))}pointToLocalFrame(e,t){return void 0===t&&(t=new we),e.vsub(this.position,t),this.quaternion.conjugate().vmult(t,t),t}vectorToLocalFrame(e,t){return void 0===t&&(t=new we),this.quaternion.conjugate().vmult(e,t),t}pointToWorldFrame(e,t){return void 0===t&&(t=new we),this.quaternion.vmult(e,t),t.vadd(this.position,t),t}vectorToWorldFrame(e,t){return void 0===t&&(t=new we),this.quaternion.vmult(e,t),t}addShape(e,t,i){const r=new we,o=new wo;return t&&r.copy(t),i&&o.copy(i),this.shapes.push(e),this.shapeOffsets.push(r),this.shapeOrientations.push(o),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=this,this}removeShape(e){const t=this.shapes.indexOf(e);return-1===t?(console.warn("Shape does not belong to the body"),this):(this.shapes.splice(t,1),this.shapeOffsets.splice(t,1),this.shapeOrientations.splice(t,1),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=null,this)}updateBoundingRadius(){const e=this.shapes,t=this.shapeOffsets,i=e.length;let r=0;for(let o=0;o!==i;o++){const s=e[o];s.updateBoundingSphereRadius();const a=t[o].length(),c=s.boundingSphereRadius;a+c>r&&(r=a+c)}this.boundingRadius=r}updateAABB(){const e=this.shapes,t=this.shapeOffsets,i=this.shapeOrientations,r=e.length,o=zIe,s=HIe,a=this.quaternion,c=this.aabb,l=GIe;for(let d=0;d!==r;d++){const h=e[d];a.vmult(t[d],o),o.vadd(this.position,o),a.mult(i[d],s),h.calculateWorldAABB(o,s,l.lowerBound,l.upperBound),0===d?c.copy(l):c.extend(l)}this.aabbNeedsUpdate=!1}updateInertiaWorld(e){const t=this.invInertia;if(t.x!==t.y||t.y!==t.z||e){const i=WIe,r=$Ie;i.setRotationFromQuaternion(this.quaternion),i.transpose(r),i.scale(t,i),i.mmult(r,this.invInertiaWorld)}}applyForce(e,t){if(void 0===t&&(t=new we),this.type!==On.DYNAMIC)return;this.sleepState===On.SLEEPING&&this.wakeUp();const i=XIe;t.cross(e,i),this.force.vadd(e,this.force),this.torque.vadd(i,this.torque)}applyLocalForce(e,t){if(void 0===t&&(t=new we),this.type!==On.DYNAMIC)return;const i=KIe,r=qIe;this.vectorToWorldFrame(e,i),this.vectorToWorldFrame(t,r),this.applyForce(i,r)}applyTorque(e){this.type===On.DYNAMIC&&(this.sleepState===On.SLEEPING&&this.wakeUp(),this.torque.vadd(e,this.torque))}applyImpulse(e,t){if(void 0===t&&(t=new we),this.type!==On.DYNAMIC)return;this.sleepState===On.SLEEPING&&this.wakeUp();const i=t,r=JIe;r.copy(e),r.scale(this.invMass,r),this.velocity.vadd(r,this.velocity);const o=ZIe;i.cross(e,o),this.invInertiaWorld.vmult(o,o),this.angularVelocity.vadd(o,this.angularVelocity)}applyLocalImpulse(e,t){if(void 0===t&&(t=new we),this.type!==On.DYNAMIC)return;const i=QIe,r=eDe;this.vectorToWorldFrame(e,i),this.vectorToWorldFrame(t,r),this.applyImpulse(i,r)}updateMassProperties(){const e=tDe;this.invMass=this.mass>0?1/this.mass:0;const t=this.inertia,i=this.fixedRotation;this.updateAABB(),e.set((this.aabb.upperBound.x-this.aabb.lowerBound.x)/2,(this.aabb.upperBound.y-this.aabb.lowerBound.y)/2,(this.aabb.upperBound.z-this.aabb.lowerBound.z)/2),mA.calculateInertia(e,this.mass,t),this.invInertia.set(t.x>0&&!i?1/t.x:0,t.y>0&&!i?1/t.y:0,t.z>0&&!i?1/t.z:0),this.updateInertiaWorld(!0)}getVelocityAtWorldPoint(e,t){const i=new we;return e.vsub(this.position,i),this.angularVelocity.cross(i,t),this.velocity.vadd(t,t),t}integrate(e,t,i){if(this.previousPosition.copy(this.position),this.previousQuaternion.copy(this.quaternion),this.type!==On.DYNAMIC&&this.type!==On.KINEMATIC||this.sleepState===On.SLEEPING)return;const r=this.velocity,o=this.angularVelocity,s=this.position,a=this.force,c=this.torque,l=this.quaternion,h=this.invInertiaWorld,p=this.linearFactor,_=this.invMass*e;r.x+=a.x*_*p.x,r.y+=a.y*_*p.y,r.z+=a.z*_*p.z;const v=h.elements,A=this.angularFactor,P=c.x*A.x,X=c.y*A.y,Q=c.z*A.z;o.x+=e*(v[0]*P+v[1]*X+v[2]*Q),o.y+=e*(v[3]*P+v[4]*X+v[5]*Q),o.z+=e*(v[6]*P+v[7]*X+v[8]*Q),s.x+=r.x*e,s.y+=r.y*e,s.z+=r.z*e,l.integrate(this.angularVelocity,e,this.angularFactor,l),t&&(i?l.normalizeFast():l.normalize()),this.aabbNeedsUpdate=!0,this.updateInertiaWorld()}}On.idCounter=0,On.COLLIDE_EVENT_NAME="collide",On.DYNAMIC=1,On.STATIC=2,On.KINEMATIC=4,On.AWAKE=0,On.SLEEPY=1,On.SLEEPING=2,On.wakeupEvent={type:"wakeup"},On.sleepyEvent={type:"sleepy"},On.sleepEvent={type:"sleep"};const zIe=new we,HIe=new wo,GIe=new Mr,WIe=new Cl,$Ie=new Cl,XIe=(new Cl,new we),KIe=new we,qIe=new we,JIe=new we,ZIe=new we,QIe=new we,eDe=new we,tDe=new we;new we,new we,new wo,new we,new we,new we,new we;class gw{constructor(){this.rayFromWorld=new we,this.rayToWorld=new we,this.hitNormalWorld=new we,this.hitPointWorld=new we,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}reset(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}abort(){this.shouldStop=!0}set(e,t,i,r,o,s,a){this.rayFromWorld.copy(e),this.rayToWorld.copy(t),this.hitNormalWorld.copy(i),this.hitPointWorld.copy(r),this.shape=o,this.body=s,this.distance=a}}let K$,q$,J$,Z$,Q$,eY,tY;K$=kn.types.SPHERE,q$=kn.types.PLANE,J$=kn.types.BOX,Z$=kn.types.CYLINDER,Q$=kn.types.CONVEXPOLYHEDRON,eY=kn.types.HEIGHTFIELD,tY=kn.types.TRIMESH;class Go{get[K$](){return this._intersectSphere}get[q$](){return this._intersectPlane}get[J$](){return this._intersectBox}get[Z$](){return this._intersectConvex}get[Q$](){return this._intersectConvex}get[eY](){return this._intersectHeightfield}get[tY](){return this._intersectTrimesh}constructor(e,t){void 0===e&&(e=new we),void 0===t&&(t=new we),this.from=e.clone(),this.to=t.clone(),this.direction=new we,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=Go.ANY,this.result=new gw,this.hasHit=!1,this.callback=i=>{}}intersectWorld(e,t){return this.mode=t.mode||Go.ANY,this.result=t.result||new gw,this.skipBackfaces=!!t.skipBackfaces,this.collisionFilterMask=typeof t.collisionFilterMask<"u"?t.collisionFilterMask:-1,this.collisionFilterGroup=typeof t.collisionFilterGroup<"u"?t.collisionFilterGroup:-1,this.checkCollisionResponse=!(typeof t.checkCollisionResponse<"u")||t.checkCollisionResponse,t.from&&this.from.copy(t.from),t.to&&this.to.copy(t.to),this.callback=t.callback||(()=>{}),this.hasHit=!1,this.result.reset(),this.updateDirection(),this.getAABB(nY),DF.length=0,e.broadphase.aabbQuery(e,nY,DF),this.intersectBodies(DF),this.hasHit}intersectBody(e,t){t&&(this.result=t,this.updateDirection());const i=this.checkCollisionResponse;if(i&&!e.collisionResponse||!(this.collisionFilterGroup&e.collisionFilterMask)||!(e.collisionFilterGroup&this.collisionFilterMask))return;const r=cDe,o=lDe;for(let s=0,a=e.shapes.length;s<a;s++){const c=e.shapes[s];if((!i||c.collisionResponse)&&(e.quaternion.mult(e.shapeOrientations[s],o),e.quaternion.vmult(e.shapeOffsets[s],r),r.vadd(e.position,r),this.intersectShape(c,o,r,e),this.result.shouldStop))break}}intersectBodies(e,t){t&&(this.result=t,this.updateDirection());for(let i=0,r=e.length;!this.result.shouldStop&&i<r;i++)this.intersectBody(e[i])}updateDirection(){this.to.vsub(this.from,this.direction),this.direction.normalize()}intersectShape(e,t,i,r){if(function SDe(n,e,t){t.vsub(n,qp);const i=qp.dot(e);return e.scale(i,_A),_A.vadd(n,_A),t.distanceTo(_A)}(this.from,this.direction,i)>e.boundingSphereRadius)return;const a=this[e.type];a&&a.call(this,e,t,i,r,e)}_intersectBox(e,t,i,r,o){return this._intersectConvex(e.convexPolyhedronRepresentation,t,i,r,o)}_intersectPlane(e,t,i,r,o){const s=this.from,a=this.to,c=this.direction,l=new we(0,0,1);t.vmult(l,l);const d=new we;s.vsub(i,d);const h=d.dot(l);if(a.vsub(i,d),h*d.dot(l)>0||s.distanceTo(a)<h)return;const _=l.dot(c);if(Math.abs(_)<this.precision)return;const v=new we,A=new we,P=new we;s.vsub(i,v);const X=-l.dot(v)/_;c.scale(X,A),s.vadd(A,P),this.reportIntersection(l,P,o,r,-1)}getAABB(e){const{lowerBound:t,upperBound:i}=e,r=this.to,o=this.from;t.x=Math.min(r.x,o.x),t.y=Math.min(r.y,o.y),t.z=Math.min(r.z,o.z),i.x=Math.max(r.x,o.x),i.y=Math.max(r.y,o.y),i.z=Math.max(r.z,o.z)}_intersectHeightfield(e,t,i,r,o){const s=dDe;s.from.copy(this.from),s.to.copy(this.to),er.pointToLocalFrame(i,t,s.from,s.from),er.pointToLocalFrame(i,t,s.to,s.to),s.updateDirection();const a=uDe;let c,l,d,h;c=l=0,d=h=e.data.length-1;const p=new Mr;s.getAABB(p),e.getIndexOfPosition(p.lowerBound.x,p.lowerBound.y,a,!0),c=Math.max(c,a[0]),l=Math.max(l,a[1]),e.getIndexOfPosition(p.upperBound.x,p.upperBound.y,a,!0),d=Math.min(d,a[0]+1),h=Math.min(h,a[1]+1);for(let _=c;_<d;_++)for(let v=l;v<h;v++){if(this.result.shouldStop)return;if(e.getAabbAtIndex(_,v,p),p.overlapsRay(s)){if(e.getConvexTrianglePillar(_,v,!1),er.pointToWorldFrame(i,t,e.pillarOffset,gA),this._intersectConvex(e.pillarConvex,t,gA,r,o,iY),this.result.shouldStop)return;e.getConvexTrianglePillar(_,v,!0),er.pointToWorldFrame(i,t,e.pillarOffset,gA),this._intersectConvex(e.pillarConvex,t,gA,r,o,iY)}}}_intersectSphere(e,t,i,r,o){const s=this.from,a=this.to,l=(a.x-s.x)**2+(a.y-s.y)**2+(a.z-s.z)**2,d=2*((a.x-s.x)*(s.x-i.x)+(a.y-s.y)*(s.y-i.y)+(a.z-s.z)*(s.z-i.z)),p=d**2-4*l*((s.x-i.x)**2+(s.y-i.y)**2+(s.z-i.z)**2-e.radius**2),_=hDe,v=fDe;if(!(p<0))if(0===p)s.lerp(a,p,_),_.vsub(i,v),v.normalize(),this.reportIntersection(v,_,o,r,-1);else{const A=(-d-Math.sqrt(p))/(2*l),P=(-d+Math.sqrt(p))/(2*l);if(A>=0&&A<=1&&(s.lerp(a,A,_),_.vsub(i,v),v.normalize(),this.reportIntersection(v,_,o,r,-1)),this.result.shouldStop)return;P>=0&&P<=1&&(s.lerp(a,P,_),_.vsub(i,v),v.normalize(),this.reportIntersection(v,_,o,r,-1))}}_intersectConvex(e,t,i,r,o,s){const a=pDe,c=rY,l=s&&s.faceList||null,d=e.faces,h=e.vertices,p=e.faceNormals,_=this.direction,v=this.from,P=v.distanceTo(this.to),X=l?l.length:d.length,Q=this.result;for(let pe=0;!Q.shouldStop&&pe<X;pe++){const Re=l?l[pe]:pe,Ye=d[Re],tt=p[Re],ht=t,Mt=i;c.copy(h[Ye[0]]),ht.vmult(c,c),c.vadd(Mt,c),c.vsub(v,c),ht.vmult(tt,a);const xt=_.dot(a);if(Math.abs(xt)<this.precision)continue;const yt=a.dot(c)/xt;if(!(yt<0)){_.scale(yt,Xa),Xa.vadd(v,Xa),Sl.copy(h[Ye[0]]),ht.vmult(Sl,Sl),Mt.vadd(Sl,Sl);for(let Ot=1;!Q.shouldStop&&Ot<Ye.length-1;Ot++){Ad.copy(h[Ye[Ot]]),Md.copy(h[Ye[Ot+1]]),ht.vmult(Ad,Ad),ht.vmult(Md,Md),Mt.vadd(Ad,Ad),Mt.vadd(Md,Md);const Vt=Xa.distanceTo(v);!Go.pointInTriangle(Xa,Sl,Ad,Md)&&!Go.pointInTriangle(Xa,Ad,Sl,Md)||Vt>P||this.reportIntersection(a,Xa,o,r,Re)}}}}_intersectTrimesh(e,t,i,r,o,s){const a=_De,c=EDe,l=CDe,d=rY,h=bDe,p=yDe,_=vDe,v=xDe,A=wDe,P=e.indices,X=this.from,Q=this.to,pe=this.direction;l.position.copy(i),l.quaternion.copy(t),er.vectorToLocalFrame(i,t,pe,h),er.pointToLocalFrame(i,t,X,p),er.pointToLocalFrame(i,t,Q,_),_.x*=e.scale.x,_.y*=e.scale.y,_.z*=e.scale.z,p.x*=e.scale.x,p.y*=e.scale.y,p.z*=e.scale.z,_.vsub(p,h),h.normalize();const Re=p.distanceSquared(_);e.tree.rayQuery(this,l,c);for(let Ye=0,tt=c.length;!this.result.shouldStop&&Ye!==tt;Ye++){const ht=c[Ye];e.getNormal(ht,a),e.getVertex(P[3*ht],Sl),Sl.vsub(p,d);const Mt=h.dot(a),xt=a.dot(d)/Mt;if(xt<0)continue;h.scale(xt,Xa),Xa.vadd(p,Xa),e.getVertex(P[3*ht+1],Ad),e.getVertex(P[3*ht+2],Md);const yt=Xa.distanceSquared(p);!Go.pointInTriangle(Xa,Ad,Sl,Md)&&!Go.pointInTriangle(Xa,Sl,Ad,Md)||yt>Re||(er.vectorToWorldFrame(t,a,A),er.pointToWorldFrame(i,t,Xa,v),this.reportIntersection(A,v,o,r,ht))}c.length=0}reportIntersection(e,t,i,r,o){const s=this.from,a=this.to,c=s.distanceTo(t),l=this.result;if(!(this.skipBackfaces&&e.dot(this.direction)>0))switch(l.hitFaceIndex=typeof o<"u"?o:-1,this.mode){case Go.ALL:this.hasHit=!0,l.set(s,a,e,t,i,r,c),l.hasHit=!0,this.callback(l);break;case Go.CLOSEST:(c<l.distance||!l.hasHit)&&(this.hasHit=!0,l.hasHit=!0,l.set(s,a,e,t,i,r,c));break;case Go.ANY:this.hasHit=!0,l.hasHit=!0,l.set(s,a,e,t,i,r,c),l.shouldStop=!0}}static pointInTriangle(e,t,i,r){r.vsub(t,qp),i.vsub(t,_w),e.vsub(t,kF);const o=qp.dot(qp),s=qp.dot(_w),a=qp.dot(kF),c=_w.dot(_w),l=_w.dot(kF);let d,h;return(d=c*a-s*l)>=0&&(h=o*l-s*a)>=0&&d+h<o*c-s*s}}Go.CLOSEST=1,Go.ANY=2,Go.ALL=4;const nY=new Mr,DF=[],_w=new we,kF=new we,cDe=new we,lDe=new wo,Xa=new we,Sl=new we,Ad=new we,Md=new we;new we,new gw;const iY={faceList:[0]},gA=new we,dDe=new Go,uDe=[],hDe=new we,fDe=new we,pDe=new we,rY=(new we,new we,new we),_De=new we,bDe=new we,yDe=new we,vDe=new we,wDe=new we,xDe=new we;new Mr;const EDe=[],CDe=new er,qp=new we,_A=new we;new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new Go,new we,new we,new we,new we(1,0,0),new we(0,1,0),new we(0,0,1),new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new Mr,new we,new Mr,new we,new we,new we,new we,new we,new we,new we,new Mr,new we,new er,new Mr,new we,new we,new we,new we,new we,new wo,new wo,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new Mr,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new we,new wo,new we,new we,new we,new we,new we,new we,new we,new we,new we,new Mr,new Go;const ts=globalThis.performance||{};if(!ts.now){let n=Date.now();ts.timing&&ts.timing.navigationStart&&(n=ts.timing.navigationStart),ts.now=()=>Date.now()-n}new we;var Td=m(1979);function J_(n,e,t){e||(e=new Nt(Nt.IDENTITY));const i=new Nt(Nt.IDENTITY);if(!n)return!0;if(n.matrix)i.copy(n.matrix);else{if(i.identity(),n.translation&&i.translate(n.translation),n.rotation){const o=new Nt(Nt.IDENTITY).fromQuaternion(n.rotation);i.multiplyRight(o)}n.scale&&i.scale(n.scale)}const r=new Nt(e).multiplyRight(i);if(!1===t(n,r,e))return!1;for(const o of n.nodes||n.children||[])if(!1===J_(o,r,t))return!1;return!0}function DY(){h7([v$,Y_])}function kY(n,e){const t=e.nodes?.find(i=>i.name===n);if(t){let i=!1;for(const r of e.scenes)i||J_(r,new Nt(Nt.IDENTITY),(o,s)=>o!==t||(o.matrix=s,o.translation=void 0,o.rotation=void 0,o.scale=void 0,i=!0,!1));return e.scene={id:n,name:n,nodes:[t]},e.scenes=[e.scene],{scene:e.scene,scenes:e.scenes}}return e}function NF(n,e){return FF.apply(this,arguments)}function FF(){return FF=yn(function*(n,e){const t=n.scenegraph;let i;i=e?e[t]||(e[t]=fetch(t).then(o=>o.blob())):fetch(t);const r=yield HS(i,Y_,{DracoLoader:iF,gltf:{decompressMeshes:!0,postProcess:!0}});return r.nodes||console.log("WARNING: Empty Scene",t,r),kY(n.scenegraphNode,r)}),FF.apply(this,arguments)}function IRe(n,e){return LF.apply(this,arguments)}function LF(){return LF=yn(function*(n,e){return kY(n,yield e)}),LF.apply(this,arguments)}function BF(){return BF=yn(function*(n){console.log("Starting Collisioning");const e=n.filter(s=>!s.scenegraph&&"wireframe"!==s.geometry).map(s=>{const a=new Nt(s.transformMatrix),c=a.transformAsPoint([-1,-1,-1],[]),l=a.transformAsPoint([1,1,1],[]);return{"@id":s["@id"],name:s.tooltip,entityId:s.entityId,bbox:new Mr({lowerBound:new we(...c.map((d,h)=>Math.min(d,l[h]))),upperBound:new we(...l.map((d,h)=>Math.max(d,c[h])))})}}),t=[];for(const s of n.filter(a=>!!a.scenegraph)){const a=yield ew(s.scenegraph,Y_,{DracoLoader:iF,decompress:!0,postProcess:!0});for(const c of a.scenes)J_(c,new Nt(s.transformMatrix),(l,d)=>{if(l.mesh&&l.mesh.primitives&&l.mesh.primitives.length>0)for(const h of l.mesh.primitives)if(h.attributes.POSITION&&h.attributes.POSITION.min){const p=d.transformAsPoint(h.attributes.POSITION.min,[]),_=d.transformAsPoint(h.attributes.POSITION.max,[]);t.push({"@id":s["@id"],name:l.name,entityId:s.entityId,bbox:new Mr({lowerBound:new we(...p.map((v,A)=>Math.min(v,_[A]))),upperBound:new we(..._.map((v,A)=>Math.max(v,p[A])))}),gltf:a})}return!0})}const i=[],r=[];for(const s of e){const a=[];for(const c of t)s.bbox.overlaps(c.bbox)&&a.push({"@id":c["@id"],name:c.name});a.length>0?i.push({"@id":s.entityId,name:s.name,hits:a}):r.push(s)}console.log({sourceBoxes:e,targetBoxes:t,report:i,sad:r,maxHits:Math.max(...i.map(s=>s.hits.length))});const o=[];for(const s of i){o.push({"Tissue ID":s["@id"],"Tissue Name":s.name,"Hit ID":"","Hit Name":""});for(const a of s.hits)o.push({"Tissue ID":s["@id"],"Tissue Name":s.name,"Hit ID":a["@id"],"Hit Name":a.name})}return console.log(o),i}),BF.apply(this,arguments)}function UF(n,e,t){if(e&&0!==e.length){let i;switch(t.geometry){case"sphere":i=new vIe;break;case"cone":i=new CIe;break;case"cylinder":i=new SIe;break;default:i=new kIe}return new dN({id:n,pickable:!0,autoHighlight:!1,highlightColor:[30,136,229,255],coordinateSystem:qi.CARTESIAN,data:e,mesh:i,wireframe:!1,getColor:r=>r.color||[255,255,255,229.5],getTransformMatrix:r=>r.transformMatrix,...t})}}function OY(n,e,t){if(e&&0!==e.length)return new sN({id:n,pickable:!0,data:e.map(i=>({...i,position:new Nt(i.transformMatrix).getTranslation()})),getText:i=>i.text,getPosition:i=>i.position,getColor:i=>i.color,...t})}let kRe=(()=>{class n extends DP{static#e=this.layerName="BodyUILayer";static#t=this.gltfCache={};initializeState(){const{data:t}=this.props;this.setState({data:t??[],zoomOpacity:.8,doCollisions:!1}),DY()}renderLayers(){const t=this.state,i={sphere:[],cone:[],cylinder:[],cube:[],text:[],wireframe:[],scenegraph:[]};for(const s of t.data){const a=s.geometry??"cube";s.scenegraph?i.scenegraph.push(s):void 0!==i[a]&&i[a].push(s)}const r={};for(const s of i.scenegraph)s.scenegraph&&s.scenegraphNode&&!Object.prototype.hasOwnProperty.call(r,s.scenegraph)&&(r[s.scenegraph]=NF({scenegraph:s.scenegraph},n.gltfCache));const o=[];for(const[s,a]of Object.entries(i))if("scenegraph"===s)for(const c of a)o.push(new CF({id:"models-"+c["@id"],opacity:c.zoomBasedOpacity?t.zoomOpacity:c.opacity??1,pickable:!c.unpickable,coordinateSystem:qi.CARTESIAN,data:[c],scenegraph:c.scenegraphNode?IRe(c.scenegraphNode,r[c.scenegraph]):c.scenegraph,_lighting:c._lighting,getTransformMatrix:c.transformMatrix,getColor:c.color??[0,255,0,127.5],parameters:{depthMask:!c.zoomBasedOpacity&&(void 0===c.opacity||1===c.opacity)}}));else"text"===s?(o.push(OY("text",a.filter(c=>c.unpickable),{pickable:!1})),o.push(OY("textPickable",a.filter(c=>!c.unpickable),{pickable:!0}))):"wireframe"===s?o.push(UF(s,a,{wireframe:!0,pickable:!1,geometry:s})):(o.push(UF(s,a.filter(c=>c.unpickable),{wireframe:!1,pickable:!1,geometry:s})),o.push(UF(`${s}Pickable`,a.filter(c=>!c.unpickable),{wireframe:!1,pickable:!0,geometry:s})));return t.doCollisions&&function DRe(n){BF.apply(this,arguments)}(t.data),o.filter(s=>!!s)}getPickingInfo(t){return t.info}}return n})();function RY(n,e=[]){for(const t of n.nodes||n.children||[])e.push(t.name),RY(t,e);return e}function VF(){return VF=yn(function*(n,e,t,i){DY();const r=yield NF({scenegraph:n,scenegraphNode:t},i),o={},s=[];for(const a of r.scenes)J_(a,e=new Nt(e||Nt.IDENTITY),(c,l)=>{const d={"@id":c.name||c.id,"@type":"ProcessedNode",transformMatrix:new Nt(l),geometry:"wireframe",node:c};if(s.push({"@id":`GLTF:${d["@id"]}`,"@type":"GLTFNode",scenegraph:n,scenegraphNode:d["@id"],transformMatrix:new Nt(e||Nt.IDENTITY),tooltip:c.name||c.id,color:[255,255,255,255],_lighting:"pbr",zoomBasedOpacity:!0,node:c}),c.mesh&&c.mesh.primitives&&c.mesh.primitives.length>0)for(const h of c.mesh.primitives)if(h.attributes.POSITION&&h.attributes.POSITION.min){const p=l.transformAsPoint(h.attributes.POSITION.min,[]),_=l.transformAsPoint(h.attributes.POSITION.max,[]);d.bbox=new Mr({lowerBound:new we(...p.map((v,A)=>Math.min(v,_[A]))),upperBound:new we(..._.map((v,A)=>Math.max(v,p[A])))})}return o[d["@id"]]=d,!0});for(const a of Object.values(o).filter(c=>!c.bbox)){for(const c of RY(a.node).map(l=>o[l]).filter(l=>l.bbox))a.bbox?a.bbox.extend(c.bbox):a.bbox=c.bbox.clone();a.bbox||delete o[a["@id"]]}for(const a of Object.values(o)){const c=a.bbox.lowerBound,h=(a.size=a.bbox.upperBound.clone().vsub(c)).clone().vmul(new we(.5,.5,.5)),p=a.center=c.clone().vadd(h);a.transformMatrix=new Nt(Nt.IDENTITY).translate(p.toArray()).scale(h.toArray())}for(const a of s)o[a["@id"]]=a;return o}),VF.apply(this,arguments)}let RRe=(()=>{class n{constructor(t){this.deckProps=t,this.bodyUILayer=new kRe({}),this.nodeClickSubject=new Qt,this.nodeHoverStartSubject=new Qt,this.nodeHoverStopSubject=new Qt,this.sceneRotationSubject=new tr([0,0]),this.nodeDragStartSubject=new Qt,this.nodeDragSubject=new Qt,this.nodeDragEndSubject=new Qt,this.nodeClick$=this.nodeClickSubject.pipe(ld()),this.nodeHoverStart$=this.nodeHoverStartSubject.pipe(ld()),this.nodeHoverStop$=this.nodeHoverStopSubject.pipe(ld()),this.sceneRotation$=this.sceneRotationSubject.pipe(ld()),this.nodeDragStart$=this.nodeDragStartSubject.pipe(ld()),this.nodeDrag$=this.nodeDragSubject.pipe(ld()),this.nodeDragEnd$=this.nodeDragEndSubject.pipe(ld());const i={...t,views:["orthographic"===t.camera?new PP({flipY:!1,near:-1e3}):new x7({orbitAxis:"Y"})],controller:t.interactive??!0,layers:[this.bodyUILayer],onHover:this._onHover,onClick:this._onClick,onViewStateChange:this._onViewStateChange,onDragStart:this._onDragStart,onDrag:this._onDrag,onDragEnd:this._onDragEnd,getCursor:r=>this.cursor??(r.isDragging?"grabbing":"grab")};t.legacyLighting&&(i.effects=[new BP({ambientLight:new E7({color:[255,255,255],intensity:10})})]),this.deck=new tN(i),this.deck.setProps({viewState:{orbitAxis:"Y",minRotationX:t.minRotationX??-15,maxRotationX:t.maxRotationX??15,target:t.target??[.5,.5,0],rotationX:0,rotationOrbit:t.rotation??0,zoom:t.zoom??9.5,camera:t.camera}}),t.rotation&&this.sceneRotationSubject.next([t.rotation,0])}initialize(){var t=this;return yn(function*(){for(;!t.bodyUILayer.state;)yield new Promise(i=>{setTimeout(i,200)})})()}finalize(){this.deck.finalize()}setScene(t){if(t?.length>0){let i=this.bodyUILayer.state.zoomOpacity,r=!1;for(const o of t)o.zoomToOnLoad&&(this.zoomTo(o),r=!0);i=r?.05:i,this.deckProps.debugSceneNodeProcessing?this.debugSceneNodeProcessing(t,i):this.bodyUILayer.setState({data:t,zoomOpacity:i})}}debugSceneNodeProcessing(t,i){const r="https://hubmapconsortium.github.io/ccf-3d-reference-object-library/VH_Female/United/VHF_United_Color.glb",o=new Nt([.076,0,0,0,0,.076,16875389974302382e-33,0,0,-16875389974302382e-33,.076,0,.49,.034,.11,1]);(function ORe(n,e,t,i){return VF.apply(this,arguments)})(r,o,"VHF_Kidney_L_Low1").then(s=>{console.log("results",s),console.log("data",t),(t=t.concat(Object.values(s))).push({"@id":"TEST","@type":"TEST",scenegraph:r,scenegraphNode:"VHF_Kidney_R_Low",transformMatrix:o,color:[255,255,255,200],_lighting:"pbr",zoomBasedOpacity:!1}),this.bodyUILayer.setState({data:t,zoomOpacity:i})})}zoomTo(t){const i=new Nt(t.transformMatrix);this.deck.setProps({viewState:{...this.deck.props.viewState,target:i.getTranslation(),rotationX:0,rotationOrbit:0,zoom:11.5}})}setRotation(t){this.deck.setProps({viewState:{...this.deck.props.viewState,rotationOrbit:t}})}setRotationX(t){this.deck.setProps({viewState:{...this.deck.props.viewState,rotationX:t}})}setZoom(t){this.deck.setProps({viewState:{...this.deck.props.viewState,zoom:t}})}setTarget(t){this.deck.setProps({viewState:{...this.deck.props.viewState,target:t}})}setInteractive(t){this.deck.setProps({controller:t})}_onHover(t){const{lastHovered:i}=this;this.cursor=t.picked?"pointer":void 0,t.picked&&t.object?.["@id"]?i!==t.object&&(i&&this.nodeHoverStopSubject.next(i),this.lastHovered=t.object,this.nodeHoverStartSubject.next(t.object)):i&&(this.nodeHoverStopSubject.next(i),this.lastHovered=void 0)}_onClick(t,i){t.picked&&t.object?.["@id"]&&this.nodeClickSubject.next({node:t.object,ctrlClick:i?.srcEvent?.ctrlKey??void 0})}_onViewStateChange(t){if(t.interactionState?.isZooming){const i=this.bodyUILayer.state,r=Math.min(Math.max(1-(t.viewState.zoom-8.9)/2,.05),1);i.zoomOpacity!==r&&this.bodyUILayer.setState({data:i.data,zoomOpacity:r})}this.deck.setProps({viewState:{...t.viewState}}),this.sceneRotationSubject.next([t.viewState.rotationOrbit,t.viewState.rotationX])}_onDragStart(t,i){this._dragEvent(t,i,this.nodeDragStartSubject)}_onDrag(t,i){this._dragEvent(t,i,this.nodeDragSubject)}_onDragEnd(t,i){this._dragEvent(t,i,this.nodeDragEndSubject)}_dragEvent(t,i,r){t?.object?.["@id"]&&r.next({node:t.object,info:t,e:i})}}return Bt([Td.ak],n.prototype,"_onHover",null),Bt([Td.ak],n.prototype,"_onClick",null),Bt([Td.ak],n.prototype,"_onViewStateChange",null),Bt([Td.ak],n.prototype,"_onDragStart",null),Bt([Td.ak],n.prototype,"_onDrag",null),Bt([Td.ak],n.prototype,"_onDragEnd",null),n})();const Ew=je(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});let PY=(()=>{class n{constructor(){this.bootstrap$=new wp(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NRe(n,e){return n===e}function zF(n,e=NRe){let t=null,i=null;function r(){return function FRe(n,e,t){if(null===e||null===t||e.length!==t.length)return!1;const i=e.length;for(let r=0;r<i;r++)if(!n(e[r],t[r]))return!1;return!0}(e,t,arguments)||(i=n.apply(null,arguments)),t=arguments,i}return r.reset=function(){t=null,i=null},r}let LRe=(()=>{class n{static set(t){this._value=t}static pop(){const t=this._value;return this._value={},t}}return n._value={},n})();const NY=new mt("INITIAL_STATE_TOKEN",{providedIn:"root",factory:()=>LRe.pop()}),FY=new mt("\u0275NGXS_STATE_FACTORY"),LY=new mt("\u0275NGXS_STATE_CONTEXT_FACTORY");function em(n){return!!n&&(n instanceof $e||ye(n.lift)&&ye(n.subscribe))}function BY(n,e){return e?t=>t.pipe(BY((i,r)=>yo(n(i,r)).pipe(Lt((o,s)=>e(i,o,r,s))))):Oi((t,i)=>{let r=0,o=null,s=!1;t.subscribe(si(i,a=>{o||(o=si(i,void 0,()=>{o=null,s&&i.complete()}),yo(n(a,r++)).subscribe(o))},()=>{s=!0,!o&&i.complete()}))})}function Z_(n){return Oi((e,t)=>{let i=!1;e.subscribe(si(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function SA(n){return"function"==typeof n}function UY(n){return typeof n>"u"}function VRe(n,e,t){return function(r){let o=!!n;return function HF(n){return"function"==typeof n}(n)&&(o=n(r)),function zY(n,e){return SA(n)?n(e):UY(n)?e:n}(o?e:t,r)}}function jRe(n,e){return function(i){if(function URe(n){return null===n||UY(n)}(n)&&i)return i;if(!Array.isArray(i))return[n];const r=i.slice();let o=0;return e>0&&(o=e),r.splice(o,0,n),r}}function tm(n){return function(t){let i=null;for(const r in n){const o=n[r],s=t?.[r],a=SA(o)?o(s):o;a!==s&&(i||(i=Object.assign({},t)),i[r]=a)}return i||t}}function nm(n){return n.constructor&&n.constructor.type?n.constructor.type:n.type}const GF=(n,e,t)=>{n=Object.assign({},n);const i=e.split("."),r=i.length-1;return i.reduce((o,s,a)=>(o[s]=a===r?t:Array.isArray(o[s])?o[s].slice():Object.assign({},o[s]),o&&o[s]),n),n},Cw=(n,e)=>e.split(".").reduce((t,i)=>t&&t[i],n),WF=n=>n&&"object"==typeof n&&!Array.isArray(n),$F=(n,...e)=>{if(!e.length)return n;const t=e.shift();if(WF(n)&&WF(t))for(const i in t)WF(t[i])?(n[i]||Object.assign(n,{[i]:{}}),$F(n[i],t[i])):Object.assign(n,{[i]:t[i]});return $F(n,...e)};let HY=(()=>{class n{constructor(t,i){this._ngZone=t,this._platformId=i}enter(t){return Zv(this._platformId)?this.runInsideAngular(t):this.runOutsideAngular(t)}leave(t){return this.runInsideAngular(t)}runInsideAngular(t){return gn.isInAngularZone()?t():this._ngZone.run(t)}runOutsideAngular(t){return gn.isInAngularZone()?this._ngZone.runOutsideAngular(t):t()}}return n.\u0275fac=function(t){return new(t||n)(et(gn),et(ks))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GY=new mt("ROOT_OPTIONS"),WY=new mt("ROOT_STATE_TOKEN"),$Y=new mt("FEATURE_STATE_TOKEN"),YF=new mt("NGXS_PLUGINS"),zu="NGXS_META",YY="NGXS_OPTIONS_META",XF="NGXS_SELECTOR_META";let AA=(()=>{class n{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=HY}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Dt({token:n,factory:function(t){let i=null;return t?i=new t:(r=et(GY),i=$F(new n,r)),i;var r},providedIn:"root"}),n})();class qRe{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}}let JRe=(()=>{class n{enter(t){return t()}leave(t){return t()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XY=new mt("USER_PROVIDED_NGXS_EXECUTION_STRATEGY"),ZRe=new mt("NGXS_EXECUTION_STRATEGY",{providedIn:"root",factory:()=>{const n=Ft(cu),e=n.get(XY);return n.get(e||(typeof Zi.Zone<"u"?HY:JRe))}});function KF(n){if(!n.hasOwnProperty(zu)){const e={name:null,actions:{},defaults:{},path:null,makeRootSelector:t=>t.getStateGetter(e.name),children:[]};Object.defineProperty(n,zu,{value:e})}return im(n)}function im(n){return n[zu]}function qF(n){return n.hasOwnProperty(XF)||Object.defineProperty(n,XF,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),MA(n)}function MA(n){return n[XF]}function KY(n,e){return e&&e.compatibility&&e.compatibility.strictContentSecurityPolicy?function QRe(n){const e=n.slice();return t=>e.reduce((i,r)=>i&&i[r],t)}(n):function e2e(n){const e=n;let t="store."+e[0],i=0;const r=e.length;let o=t;for(;++i<r;)o=o+" && "+(t=t+"."+e[i]);return new Function("store","return "+o+";")}(n)}function s2e(...n){return function Q_(n,e,t=l2e){const i=function d2e(n){return n.reduce((e,t)=>(e[nm(t)]=!0,e),{})}(n),r=e&&function u2e(n){return n.reduce((e,t)=>(e[t]=!0,e),{})}(e);return function(o){return o.pipe(function a2e(n,e){return Ei(t=>{const i=nm(t.action);return n[i]&&(!e||e[t.status])})}(i,r),t())}}(n,["DISPATCHED"])}function l2e(){return Lt(n=>n.action)}function TA(n){return e=>new $e(t=>e.subscribe({next(i){n.leave(()=>t.next(i))},error(i){n.leave(()=>t.error(i))},complete(){n.leave(()=>t.complete())}}))}let qY=(()=>{class n{constructor(t){this._executionStrategy=t}enter(t){return this._executionStrategy.enter(t)}leave(t){return this._executionStrategy.leave(t)}}return n.\u0275fac=function(t){return new(t||n)(et(ZRe))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JY(n){const e=[];let t=!1;return function(...r){if(t)e.unshift(r);else{for(t=!0,n(...r);e.length>0;){const o=e.pop();o&&n(...o)}t=!1}}}class h2e extends Qt{constructor(){super(...arguments),this._orderedNext=JY(e=>super.next(e))}next(e){this._orderedNext(e)}}class f2e extends tr{constructor(e){super(e),this._orderedNext=JY(t=>super.next(t)),this._currentValue=e}getValue(){return this._currentValue}next(e){this._currentValue=e,this._orderedNext(e)}}let ZY=(()=>{class n extends h2e{ngOnDestroy(){this.complete()}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Hi(n)))(i||n)}})(),n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QY=n=>(...e)=>n.shift()(...e,(...i)=>QY(n)(...i));let eX=(()=>{class n{constructor(t){this._injector=t,this._errorHandler=null}reportErrorSafely(t){null===this._errorHandler&&(this._errorHandler=this._injector.get(ac));try{this._errorHandler.handleError(t)}catch{}}}return n.\u0275fac=function(t){return new(t||n)(et(Gi))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JF=(()=>{class n extends f2e{constructor(){super({})}ngOnDestroy(){this.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZF=(()=>{class n{constructor(t,i){this._parentManager=t,this._pluginHandlers=i,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const t=this.getPluginHandlers();this.rootPlugins.push(...t)}getPluginHandlers(){return(this._pluginHandlers||[]).map(i=>i.handle?i.handle.bind(i):i)}}return n.\u0275fac=function(t){return new(t||n)(et(n,12),et(YF,8))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})(),tX=(()=>{class n extends Qt{}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Hi(n)))(i||n)}})(),n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m2e=(()=>{class n{constructor(t,i,r,o,s,a){this._actions=t,this._actionResults=i,this._pluginManager=r,this._stateStream=o,this._ngxsExecutionStrategy=s,this._internalErrorReporter=a}dispatch(t){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(t)).pipe(function p2e(n,e){return t=>{let i=!1;return t.subscribe({error:r=>{e.enter(()=>Promise.resolve().then(()=>{i||e.leave(()=>n.reportErrorSafely(r))}))}}),new $e(r=>(i=!0,t.pipe(TA(e)).subscribe(r)))}}(this._internalErrorReporter,this._ngxsExecutionStrategy))}dispatchByEvents(t){return Array.isArray(t)?0===t.length?In(this._stateStream.getValue()):p0(t.map(i=>this.dispatchSingle(i))):this.dispatchSingle(t)}dispatchSingle(t){const i=this._stateStream.getValue();return QY([...this._pluginManager.plugins,(o,s)=>{o!==i&&this._stateStream.next(o);const a=this.getActionResultStream(s);return a.subscribe(c=>this._actions.next(c)),this._actions.next({action:s,status:"DISPATCHED"}),this.createDispatchObservable(a)}])(i,t).pipe(Uc())}getActionResultStream(t){return this._actionResults.pipe(Ei(i=>i.action===t&&"DISPATCHED"!==i.status),_r(1),Uc())}createDispatchObservable(t){return t.pipe(BY(i=>{switch(i.status){case"SUCCESSFUL":return In(this._stateStream.getValue());case"ERRORED":return jh(i.error);default:return na}})).pipe(Uc())}}return n.\u0275fac=function(t){return new(t||n)(et(ZY),et(tX),et(ZF),et(JF),et(qY),et(eX))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sw=(()=>{class n{constructor(t,i,r){this._stateStream=t,this._dispatcher=i,this._config=r}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:i=>this._stateStream.next(i),dispatch:i=>this._dispatcher.dispatch(i)}}setStateToTheCurrentWithNew(t){const i=this.getRootStateOperations(),r=i.getState();i.setState(Object.assign(Object.assign({},r),t.defaults))}}return n.\u0275fac=function(t){return new(t||n)(et(JF),et(m2e),et(AA))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QF=(()=>{class n{constructor(t){this._internalStateOperations=t}createStateContext(t){const i=this._internalStateOperations.getRootStateOperations();return{getState:()=>oX(i.getState(),t.path),patchState(r){const o=i.getState(),s=function g2e(n){return e=>{const t=Object.assign({},e);for(const i in n)t[i]=n[i];return t}}(r);return rX(i,o,s,t.path)},setState(r){const o=i.getState();return SA(r)?rX(i,o,r,t.path):iX(i,o,r,t.path)},dispatch:r=>i.dispatch(r)}}}return n.\u0275fac=function(t){return new(t||n)(et(Sw))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iX(n,e,t,i){const r=GF(e,i,t);return n.setState(r),r}function rX(n,e,t,i){return iX(n,e,t(oX(e,i)),i)}function oX(n,e){return Cw(n,e)}new RegExp("^[a-zA-Z0-9_]+$");let eL=(()=>{class n{}return n.type="@@INIT",n})(),tL=(()=>{class n{constructor(t){this.addedStates=t}}return n.type="@@UPDATE_STATE",n})();new mt("NGXS_DEVELOPMENT_OPTIONS",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})});let eb=(()=>{class n{constructor(t,i,r,o,s,a,c){this._injector=t,this._config=i,this._parentFactory=r,this._actions=o,this._actionResults=s,this._stateContextFactory=a,this._initialState=c,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=zF(()=>{const l=this;function d(p){const _=l.statePaths[p];return _?KY(_.split("."),l._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(p){let _=d(p);return _||((...v)=>(_||(_=d(p)),_?_(...v):void 0))},getSelectorOptions:p=>Object.assign(Object.assign({},l._config.selectorOptions),p||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static _cloneDefaults(t){let i=t;return Array.isArray(t)?i=t.slice():function o2e(n){return"object"==typeof n&&null!==n||"function"==typeof n}(t)?i=Object.assign({},t):void 0===t&&(i={}),i}ngOnDestroy(){var t;null===(t=this._actionsSubscription)||void 0===t||t.unsubscribe()}add(t){const{newStates:i}=this.addToStatesMap(t);if(!i.length)return[];const r=function t2e(n){const e=t=>n.find(r=>r===t)[zu].name;return n.reduce((t,i)=>{const{name:r,children:o}=i[zu];return t[r]=(o||[]).map(e),t},{})}(i),o=function r2e(n){const e=[],t={},i=(r,o=[])=>{Array.isArray(o)||(o=[]),o.push(r),t[r]=!0,n[r].forEach(s=>{t[s]||i(s,o.slice(0))}),e.indexOf(r)<0&&e.push(r)};return Object.keys(n).forEach(r=>i(r)),e.reverse()}(r),s=function i2e(n,e={}){const t=(i,r)=>{for(const o in i)if(i.hasOwnProperty(o)&&i[o].indexOf(r)>=0){const s=t(i,o);return null!==s?`${s}.${o}`:o}return null};for(const i in n)if(n.hasOwnProperty(i)){const r=t(n,i);e[i]=r?`${r}.${i}`:i}return e}(r),a=function n2e(n){return n.reduce((e,t)=>(e[t[zu].name]=t,e),{})}(i),c=[];for(const l of o){const d=a[l],h=s[l],p=d[zu];this.addRuntimeInfoToMeta(p,h);const _={name:l,path:h,isInitialised:!1,actions:p.actions,instance:this._injector.get(d),defaults:n._cloneDefaults(p.defaults)};this.hasBeenMountedAndBootstrapped(l,h)||c.push(_),this.states.push(_)}return c}addAndReturnDefaults(t){const r=this.add(t||[]);return{defaults:r.reduce((s,a)=>GF(s,a.path,a.defaults),{}),states:r}}connectActionHandlers(){if(this._parentFactory||null!==this._actionsSubscription)return;const t=new Qt;this._actionsSubscription=this._actions.pipe(Ei(i=>"DISPATCHED"===i.status),Uo(i=>{t.next(i);const r=i.action;return this.invokeActions(t,r).pipe(Lt(()=>({action:r,status:"SUCCESSFUL"})),Z_({action:r,status:"CANCELED"}),Ga(o=>In({action:r,status:"ERRORED",error:o})))})).subscribe(i=>this._actionResults.next(i))}invokeActions(t,i){const r=nm(i),o=[];let s=!1;for(const a of this.states){const c=a.actions[r];if(c)for(const l of c){const d=this._stateContextFactory.createStateContext(a);try{let h=a.instance[l.fn](d,i);h instanceof Promise&&(h=oo(h)),em(h)?(h=h.pipe(Uo(p=>p instanceof Promise?oo(p):em(p)?p:In(p)),Z_({})),l.options.cancelUncompleted&&(h=h.pipe(vi(t.pipe(s2e(i)))))):h=In({}).pipe(Uc()),o.push(h)}catch(h){o.push(jh(h))}s=!0}}return o.length||o.push(In({})),p0(o)}addToStatesMap(t){const i=[],r=this.statesByName;for(const o of t){const s=im(o).name;!r[s]&&(i.push(o),r[s]=o)}return{newStates:i}}addRuntimeInfoToMeta(t,i){this.statePaths[t.name]=i,t.path=i}hasBeenMountedAndBootstrapped(t,i){const r=void 0!==Cw(this._initialState,i);return this.statesByName[t]&&r}}return n.\u0275fac=function(t){return new(t||n)(et(Gi),et(AA),et(n,12),et(ZY),et(tX),et(QF),et(NY,8))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})();function sX(n){const e=MA(n)||im(n);return e&&e.makeRootSelector||(()=>n)}let Id=(()=>{class n{constructor(t,i,r,o,s,a){this._stateStream=t,this._internalStateOperations=i,this._config=r,this._internalExecutionStrategy=o,this._stateFactory=s,this._selectableStateStream=this._stateStream.pipe(TA(this._internalExecutionStrategy),Uc({bufferSize:1,refCount:!0})),this.initStateStream(a)}dispatch(t){return this._internalStateOperations.getRootStateOperations().dispatch(t)}select(t){const i=this.getStoreBoundSelectorFn(t);return this._selectableStateStream.pipe(Lt(i),Ga(r=>{const{suppressErrors:o}=this._config.selectorOptions;return r instanceof TypeError&&o?In(void 0):jh(r)}),ia(),TA(this._internalExecutionStrategy))}selectOnce(t){return this.select(t).pipe(_r(1))}selectSnapshot(t){return this.getStoreBoundSelectorFn(t)(this._stateStream.getValue())}subscribe(t){return this._selectableStateStream.pipe(TA(this._internalExecutionStrategy)).subscribe(t)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(t){return this._internalStateOperations.getRootStateOperations().setState(t)}getStoreBoundSelectorFn(t){return sX(t)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(t){const i=this._stateStream.value;if(!i||0===Object.keys(i).length){const s=Object.keys(this._config.defaultsState).length>0?Object.assign(Object.assign({},this._config.defaultsState),t):t;this._stateStream.next(s)}}}return n.\u0275fac=function(t){return new(t||n)(et(JF),et(Sw),et(AA),et(qY),et(eb),et(NY,8))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DA=(()=>{class n{constructor(t,i){n.store=t,n.config=i}ngOnDestroy(){n.store=null,n.config=null}}return n.store=null,n.config=null,n.\u0275fac=function(t){return new(t||n)(et(Id),et(AA))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aX=(()=>{class n{constructor(t,i,r,o,s){this._store=t,this._internalErrorReporter=i,this._internalStateOperations=r,this._stateContextFactory=o,this._bootstrapper=s,this._destroy$=new Qt}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(t,i){this._internalStateOperations.getRootStateOperations().dispatch(t).pipe(Ei(()=>!!i),pr(()=>this._invokeInitOnStates(i.states)),Uo(()=>this._bootstrapper.appBootstrapped$),Ei(r=>!!r),Ga(r=>(this._internalErrorReporter.reportErrorSafely(r),na)),vi(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(i.states))}_invokeInitOnStates(t){for(const i of t){const r=i.instance;r.ngxsOnChanges&&this._store.select(o=>Cw(o,i.path)).pipe(Zo(void 0),Oi((n,e)=>{let t,i=!1;n.subscribe(si(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))}),vi(this._destroy$)).subscribe(([o,s])=>{const a=new qRe(o,s,!i.isInitialised);r.ngxsOnChanges(a)}),r.ngxsOnInit&&r.ngxsOnInit(this._getStateContext(i)),i.isInitialised=!0}}_invokeBootstrapOnStates(t){for(const i of t){const r=i.instance;r.ngxsAfterBootstrap&&r.ngxsAfterBootstrap(this._getStateContext(i))}}_getStateContext(t){return this._stateContextFactory.createStateContext(t)}}return n.\u0275fac=function(t){return new(t||n)(et(Id),et(eX),et(Sw),et(QF),et(PY))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I2e=(()=>{class n{constructor(t,i,r,o,s=[],a){const c=t.addAndReturnDefaults(s);i.setStateToTheCurrentWithNew(c),t.connectActionHandlers(),a.ngxsBootstrap(new eL,c)}}return n.\u0275fac=function(t){return new(t||n)(et(eb),et(Sw),et(Id),et(DA),et(WY,8),et(aX))},n.\u0275mod=Jt({type:n}),n.\u0275inj=Kt({}),n})(),D2e=(()=>{class n{constructor(t,i,r,o=[],s){const a=n.flattenStates(o),c=r.addAndReturnDefaults(a);c.states.length&&(i.setStateToTheCurrentWithNew(c),s.ngxsBootstrap(new tL(c.defaults),c))}static flattenStates(t=[]){return t.reduce((i,r)=>i.concat(r),[])}}return n.\u0275fac=function(t){return new(t||n)(et(Id),et(Sw),et(eb),et($Y,8),et(aX))},n.\u0275mod=Jt({type:n}),n.\u0275inj=Kt({}),n})(),cX=(()=>{class n{static forRoot(t=[],i={}){return{ngModule:I2e,providers:[eb,ZF,...t,...n.ngxsTokenProviders(t,i)]}}static forFeature(t=[]){return{ngModule:D2e,providers:[eb,ZF,...t,{provide:$Y,multi:!0,useValue:t}]}}static ngxsTokenProviders(t,i){return[{provide:XY,useValue:i.executionStrategy},{provide:WY,useValue:t},{provide:GY,useValue:i},{provide:Yv,useFactory:n.appBootstrapListenerFactory,multi:!0,deps:[PY]},{provide:LY,useExisting:QF},{provide:FY,useExisting:eb}]}static appBootstrapListenerFactory(t){return()=>t.bootstrap()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Jt({type:n}),n.\u0275inj=Kt({}),n})();function nL(n,e){return(t,i)=>{const r=KF(t.constructor);Array.isArray(n)||(n=[n]);for(const o of n){const s=o.type;r.actions[s]||(r.actions[s]=[]),r.actions[s].push({fn:i,options:e||{},type:s})}}}function Hu(n){return e=>{const t=e,i=KF(t),r=Object.getPrototypeOf(t),o=function k2e(n,e){return Object.assign(Object.assign({},n[YY]||{}),e)}(r,n);(function O2e(n){const{meta:e,inheritedStateClass:t,optionsWithInheritance:i}=n,{children:r,defaults:o,name:s}=i,a="string"==typeof s?s:s&&s.getName()||null;if(t.hasOwnProperty(zu)){const c=t[zu]||{};e.actions=Object.assign(Object.assign({},e.actions),c.actions)}e.children=r,e.defaults=o,e.name=a})({meta:i,inheritedStateClass:r,optionsWithInheritance:o}),t[YY]=o}}const R2e=36;function kA(n,...e){return function(t,i){const r=i.toString(),o=`__${r}__selector`,s=function N2e(n,e,t=[]){return e=e||function F2e(n){const e=n.length-1;return n.charCodeAt(e)===R2e?n.slice(0,e):n}(n),"string"==typeof e?KY(t.length?[e,...t]:e.split("."),DA.config):e}(r,n,e);Object.defineProperties(t,{[o]:{writable:!0,enumerable:!1,configurable:!0},[r]:{enumerable:!0,configurable:!0,get(){return this[o]||(this[o]=function P2e(n){return DA.store||function KRe(){throw new Error("You have forgotten to import the NGXS module!")}(),DA.store.select(n)}(s))}}})}}const lX="NGXS_SELECTOR_OPTIONS_META",OA={getOptions:n=>n&&n[lX]||{},defineOptions:(n,e)=>{n&&(n[lX]=e)}};function Aw(n,e,t){const i=function A2e(n,e){const t=e&&e.containerClass,r=zF(function(...s){const a=n.apply(t,s);return a instanceof Function?zF.apply(null,[a]):a});return Object.setPrototypeOf(r,n),r}(e,t),r=function L2e(n,e){const t=qF(n);t.originalFn=n;let i=()=>({});e&&(t.containerClass=e.containerClass,t.selectorName=e.selectorName||null,i=e.getSelectorOptions||i);const r=Object.assign({},t);return t.getSelectorOptions=()=>function B2e(n,e){return Object.assign(Object.assign(Object.assign(Object.assign({},OA.getOptions(n.containerClass)||{}),OA.getOptions(n.originalFn)||{}),n.getSelectorOptions()||{}),e)}(r,i()),t}(e,t);return r.makeRootSelector=function S2e(n,e,t){return i=>{const{argumentSelectorFunctions:r,selectorOptions:o}=function M2e(n,e,t=[]){const i=e.getSelectorOptions(),r=n.getSelectorOptions(i),s=function T2e(n=[],e,t){const i=[];return t&&(0===n.length||e.injectContainerState)&&im(t)&&i.push(t),n&&i.push(...n),i}(t,r,e.containerClass).map(a=>sX(a)(n));return{selectorOptions:r,argumentSelectorFunctions:s}}(i,n,e);return function(a){const c=r.map(l=>l(a));try{return t(...c)}catch(l){if(l instanceof TypeError&&o.suppressErrors)return;throw l}}}}(r,n,i),i}function tb(n){return(e,t,i)=>{i||(i=Object.getOwnPropertyDescriptor(e,t));const r=i?.value,o=Aw(n,r,{containerClass:e,selectorName:t.toString(),getSelectorOptions:()=>({})}),s={configurable:!0,get:()=>o};return s.originalFn=r,s}}class U2e{constructor(e){this.name=e,qF(this).makeRootSelector=i=>i.getStateGetter(this.name)}getName(){return this.name}toString(){return`StateToken[${this.name}]`}}let dX=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Pc),xe(vn))};static#t=this.\u0275dir=$t({type:n})}return n})(),rm=(()=>{class n extends dX{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Hi(n)))(r||n)}})();static#t=this.\u0275dir=$t({type:n,features:[Ln]})}return n})();const xs=new mt("NgValueAccessor"),z2e={provide:xs,useExisting:Ee(()=>nb),multi:!0},G2e=new mt("CompositionEventMode");let nb=(()=>{class n extends dX{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function H2e(){const n=Nh()?Nh().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Pc),xe(vn),xe(G2e,8))};static#t=this.\u0275dir=$t({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&kt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Gn([z2e]),Ln]})}return n})();function df(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function hX(n){return null!=n&&"number"==typeof n.length}const Es=new mt("NgValidators"),uf=new mt("NgAsyncValidators"),W2e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class om{static min(e){return function fX(n){return e=>{if(df(e.value)||df(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function pX(n){return e=>{if(df(e.value)||df(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function mX(n){return df(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function gX(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function _X(n){return df(n.value)||W2e.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function bX(n){return e=>df(e.value)||!hX(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return yX(e)}static pattern(e){return function vX(n){if(!n)return PA;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(df(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return AX(e)}static composeAsync(e){return MX(e)}}function yX(n){return e=>hX(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function PA(n){return null}function wX(n){return null!=n}function xX(n){return Xg(n)?oo(n):n}function EX(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function CX(n,e){return e.map(t=>t(n))}function SX(n){return n.map(e=>function $2e(n){return!n.validate}(e)?e:t=>e.validate(t))}function AX(n){if(!n)return null;const e=n.filter(wX);return 0==e.length?null:function(t){return EX(CX(t,e))}}function iL(n){return null!=n?AX(SX(n)):null}function MX(n){if(!n)return null;const e=n.filter(wX);return 0==e.length?null:function(t){return p0(CX(t,e).map(xX)).pipe(Lt(EX))}}function rL(n){return null!=n?MX(SX(n)):null}function TX(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function IX(n){return n._rawValidators}function DX(n){return n._rawAsyncValidators}function oL(n){return n?Array.isArray(n)?n:[n]:[]}function NA(n,e){return Array.isArray(n)?n.includes(e):n===e}function kX(n,e){const t=oL(e);return oL(n).forEach(r=>{NA(t,r)||t.push(r)}),t}function OX(n,e){return oL(e).filter(t=>!NA(n,t))}class RX{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ma extends RX{get formDirective(){return null}get path(){return null}}class Al extends RX{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class PX{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let FA=(()=>{class n extends PX{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Al,2))};static#t=this.\u0275dir=$t({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&un("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ln]})}return n})();const Mw="VALID",BA="INVALID",ib="PENDING",Tw="DISABLED";function cL(n){return(UA(n)?n.validators:n)||null}function lL(n,e){return(UA(e)?e.asyncValidators:n)||null}function UA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class UX{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mw}get invalid(){return this.status===BA}get pending(){return this.status==ib}get disabled(){return this.status===Tw}get enabled(){return this.status!==Tw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kX(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kX(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(OX(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(OX(e,this._rawAsyncValidators))}hasValidator(e){return NA(this._rawValidators,e)}hasAsyncValidator(e){return NA(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ib,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tw,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mw,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mw||this.status===ib)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tw:Mw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ib,this._hasOwnPendingAsyncValidator=!0;const t=xX(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Gt,this.statusChanges=new Gt}_calculateStatus(){return this._allControlsDisabled()?Tw:this.errors?BA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ib)?ib:this._anyControlsHaveStatus(BA)?BA:Mw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){UA(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function q2e(n){return Array.isArray(n)?iL(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function J2e(n){return Array.isArray(n)?rL(n):n||null}(this._rawAsyncValidators)}}class dL extends UX{constructor(e,t,i){super(cL(t),lL(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function BX(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new Me(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function LX(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new Me(1e3,"");if(!i[t])throw new Me(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const sm=new mt("CallSetDisabledState",{providedIn:"root",factory:()=>Iw}),Iw="always";function Dw(n,e,t=Iw){uL(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ePe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&VX(n,e)})}(n,e),function nPe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function tPe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&VX(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Q2e(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function jA(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),HA(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function uL(n,e){const t=IX(n);null!==e.validator?n.setValidators(TX(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=DX(n);null!==e.asyncValidator?n.setAsyncValidators(TX(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();zA(e._rawValidators,r),zA(e._rawAsyncValidators,r)}function HA(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=IX(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=DX(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return zA(e._rawValidators,i),zA(e._rawAsyncValidators,i),t}function VX(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jX(n,e){uL(n,e)}function fL(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function zX(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function pL(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===nb?t=o:function oPe(n){return Object.getPrototypeOf(n.constructor)===rm}(o)?i=o:r=o}),r||i||t||null}const aPe={provide:Ma,useExisting:Ee(()=>am)},kw=(()=>Promise.resolve())();let am=(()=>{class n extends Ma{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Gt,this.form=new dL({},iL(t),rL(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){kw.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Dw(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){kw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){kw.then(()=>{const i=this._findContainer(t.path),r=new dL({});jX(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){kw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){kw.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,zX(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Es,10),xe(uf,10),xe(sm,8))};static#t=this.\u0275dir=$t({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&kt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gn([aPe]),Ln]})}return n})();function HX(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function GX(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const GA=class extends UX{constructor(e=null,t,i){super(cL(t),lL(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),UA(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=GX(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HX(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HX(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){GX(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Ow=GA,dPe={provide:Al,useExisting:Ee(()=>mL)},YX=(()=>Promise.resolve())();let mL=(()=>{class n extends Al{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new GA,this._registered=!1,this.name="",this.update=new Gt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=pL(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),fL(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){YX.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Ki(i);YX.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function VA(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Ma,9),xe(Es,10),xe(uf,10),xe(xs,10),xe(Mi,8),xe(sm,8))};static#t=this.\u0275dir=$t({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Gn([dPe]),Ln,xr]})}return n})(),qX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({})}return n})();const gL=new mt("NgModelWithFormControlWarning"),mPe={provide:Al,useExisting:Ee(()=>Rw)};let Rw=(()=>{class n extends Al{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new Gt,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=pL(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&jA(i,this,!1),Dw(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}fL(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&jA(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static#t=this.\u0275fac=function(i){return new(i||n)(xe(Es,10),xe(uf,10),xe(xs,10),xe(gL,8),xe(sm,8))};static#n=this.\u0275dir=$t({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Gn([mPe]),Ln,xr]})}return n})();const gPe={provide:Ma,useExisting:Ee(()=>rb)};let rb=(()=>{class n extends Ma{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Gt,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(HA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Dw(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){jA(t.control||null,t,!1),function sPe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,zX(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(jA(i||null,t),(n=>n instanceof GA)(r)&&(Dw(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);jX(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function iPe(n,e){return HA(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){uL(this.form,this),this._oldForm&&HA(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Es,10),xe(uf,10),xe(sm,8))};static#t=this.\u0275dir=$t({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&kt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gn([gPe]),Ln,xr]})}return n})();let cm=(()=>{class n{constructor(){this._validator=PA}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):PA,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$t({type:n,features:[xr]})}return n})();const OPe={provide:Es,useExisting:Ee(()=>xL),multi:!0};let xL=(()=>{class n extends cm{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function iK(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>yX(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Hi(n)))(r||n)}})();static#t=this.\u0275dir=$t({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Yn("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Gn([OPe]),Ln]})}return n})(),dK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[qX]})}return n})(),$A=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sm,useValue:t.callSetDisabledState??Iw}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[dK]})}return n})(),YA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gL,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:sm,useValue:t.callSetDisabledState??Iw}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[dK]})}return n})();function lm(n){return new $e(e=>{yo(n()).subscribe(e)})}function EL(n){return Lt(()=>n)}function uK(n,e){return e?t=>l0(e.pipe(_r(1),function NPe(){return Oi((n,e)=>{n.subscribe(si(e,it))})}()),t.pipe(uK(n))):Uo((t,i)=>yo(n(t,i)).pipe(_r(1),EL(t)))}function hK(n,e=r_){const t=v0(n,e);return uK(()=>t)}const gK=i_({passive:!0});let XPe=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return na;const i=Eu(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Qt,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,gK),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,gK)}}),o}stopMonitoring(t){const i=Eu(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(et(Cr),et(gn))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({})}return n})();const qPe=new mt("MAT_INPUT_VALUE_ACCESSOR"),JPe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ZPe=0;const QPe=ZO(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Qt}});let dm=(()=>{class n extends QPe{get disabled(){return this._disabled}set disabled(t){this._disabled=ei(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(om.required)??!1}set required(t){this._required=ei(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&B8().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ei(t)}constructor(t,i,r,o,s,a,c,l,d,h){super(a,o,s,r),this._elementRef=t,this._platform=i,this._autofillMonitor=l,this._formField=h,this._uid="mat-input-"+ZPe++,this.focused=!1,this.stateChanges=new Qt,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(v=>B8().has(v)),this._iOSKeyupListener=v=>{const A=v.target;!A.value&&0===A.selectionStart&&0===A.selectionEnd&&(A.setSelectionRange(1,1),A.setSelectionRange(0,0))};const p=this._elementRef.nativeElement,_=p.nodeName.toLowerCase();this._inputValueAccessor=c||p,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&d.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===_,this._isTextarea="textarea"===_,this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){JPe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(Cr),xe(Al,10),xe(am,8),xe(rb,8),xe(TC),xe(qPe,10),xe(XPe),xe(gn),xe(f0,8))};static#t=this.\u0275dir=$t({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&kt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(ea("id",r.id)("disabled",r.disabled)("required",r.required),Yn("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),un("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Gn([{provide:OC,useExisting:n}]),Ln,xr]})}return n})(),um=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[Bi,Au,Au,KPe,Bi]})}return n})();function CL(...n){const e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return Lt(t=>{let i=t;for(let r=0;r<e;r++){const o=i?.[n[r]];if(!(typeof o<"u"))return;i=o}return i})}function _K(n,e){return Oi((t,i)=>{const{leading:r=!0,trailing:o=!1}=e??{};let s=!1,a=null,c=null,l=!1;const d=()=>{c?.unsubscribe(),c=null,o&&(_(),l&&i.complete())},h=()=>{c=null,l&&i.complete()},p=v=>c=yo(n(v)).subscribe(si(i,d,h)),_=()=>{if(s){s=!1;const v=a;a=null,i.next(v),!l&&p(v)}};t.subscribe(si(i,v=>{s=!0,a=v,(!c||c.closed)&&(r?_():p(v))},()=>{l=!0,(!(o&&s&&c)||c.closed)&&i.complete()}))})}function XA(n,e=r_,t){const i=v0(n,e);return _K(()=>i,t)}var bK=m(1563);const eNe=["tooltip"],vK=new mt("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ft(Qo);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),nNe={provide:vK,deps:[Qo],useFactory:function tNe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},rNe=new mt("mat-tooltip-default-options",{providedIn:"root",factory:function iNe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),wK="tooltip-panel",xK=i_({passive:!0});let Xc=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=ei(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ei(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Vo(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Vo(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,r,o,s,a,c,l,d,h,p,_){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=c,this._focusMonitor=l,this._dir=h,this._defaultOptions=p,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=dNe,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Qt,this._scrollStrategy=d,this._document=_,p&&(this._showDelay=p.showDelay,this._hideDelay=p.hideDelay,p.position&&(this.position=p.position),p.positionAtOrigin&&(this.positionAtOrigin=p.positionAtOrigin),p.touchGestures&&(this.touchGestures=p.touchGestures)),h.change.pipe(vi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(vi(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,xK)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new f_(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(vi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&o._origin instanceof vn)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(vi(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${wK}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(vi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(vi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(vi(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Sa(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(_r(1),vi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:o}=t;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const c=`${this._cssClassPrefix}-${wK}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,xK)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Qo),xe(vn),xe(v6),xe(bs),xe(gn),xe(Cr),xe(Fde),xe(Su),xe(vK),xe(yl),xe(rNe,8),xe(Qn))};static#t=this.\u0275dir=$t({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&un("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),dNe=(()=>{class n{constructor(t,i,r){this._changeDetectorRef=t,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Qt,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:r),i.classList.add(t?r:o),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Mi),xe(vn),xe(Lr,8))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&mi(eNe,7),2&i){let o;pn(o=mn())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&kt("mouseleave",function(s){return r._handleMouseLeave(s)}),2&i&&Lg("zoom",r.isVisible()?1:null)},decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){1&i&&(Xe(0,"div",0,1),kt("animationend",function(s){return r._handleAnimationEnd(s)}),Xe(2,"div",2),Ut(3),qe()()),2&i&&(un("mdc-tooltip--multiline",r._isMultiline),bt("ngClass",r.tooltipClass),st(3),Xr(r.message))},dependencies:[hC],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),bc=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[nNe],imports:[h5,ci,g_,Bi,Bi,w0]})}return n})();const uNe=["knob"],hNe=["valueIndicatorContainer"];function fNe(n,e){if(1&n&&(Xe(0,"div",4,5)(2,"div",6)(3,"span",7),Ut(4),qe()()()),2&n){const t=rn();st(4),Xr(t.valueIndicatorText)}}const pNe=["trackActive"];function mNe(n,e){if(1&n&&fn(0,"div"),2&n){const t=e.$implicit,i=e.$index,r=rn(3);_i(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),Lg("transform",r._calcTickMarkTransform(i))}}function gNe(n,e){1&n&&function P4(n,e,t,i,r,o,s,a,c,l,d){up("NgControlFlow");const h=void 0!==c,p=Rt(),_=a?s.bind(p[nr][vr]):s,v=new dne(h,_);p[$n+n]=v,an(n+1,e,t,i,r,o),h&&an(n+2,c,l,d)}(0,mNe,1,4,"div",9,R4),2&n&&function N4(n){const e=L(null),t=Xo();try{const i=Rt(),r=i[Zt],o=i[t];if(void 0===o.liveCollection){const a=t+1,c=nk(i,a),l=ik(r,a);o.liveCollection=new une(c,i,l)}else o.liveCollection.reset();const s=o.liveCollection;if(function Zte(n,e,t){let i,r,o=0,s=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){const c=n.at(o),l=e[o],d=JD(o,c,o,l,t);if(0!==d){d<0&&n.updateValue(o,l),o++;continue}const h=n.at(s),p=e[a],_=JD(s,h,a,p,t);if(0!==_){_<0&&n.updateValue(s,p),s--,a--;continue}const v=t(o,c),A=t(s,h),P=t(o,l);if(Object.is(P,A)){const X=t(a,p);Object.is(X,v)?(n.swap(o,s),n.updateValue(s,p),a--,s--):n.move(s,o),n.updateValue(o,l),o++}else if(i??=new E4,r??=x4(n,o,s,t),ZD(n,i,o,P))n.updateValue(o,l),o++,s++;else if(r.has(P))i.set(v,n.detach(o)),s--;else{const X=n.create(o,e[o]);n.attach(o,X),o++,s++}}for(;o<=a;)w4(n,i,t,o,e[o]),o++}else if(null!=e){const a=e[Symbol.iterator]();let c=a.next();for(;!c.done&&o<=s;){const l=n.at(o),d=c.value,h=JD(o,l,o,d,t);if(0!==h)h<0&&n.updateValue(o,d),o++,c=a.next();else{i??=new E4,r??=x4(n,o,s,t);const p=t(o,d);if(ZD(n,i,o,p))n.updateValue(o,d),o++,s++,c=a.next();else if(r.has(p)){const _=t(o,l);i.set(_,n.detach(o)),s--}else n.attach(o,n.create(o,d)),o++,s++,c=a.next()}}for(;!c.done;)w4(n,i,t,n.length,c.value),c=a.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(a=>{n.destroy(a)})}(s,n,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){const a=Ra(),c=0===s.length;if(No(i,a,c)){const l=t+2,d=nk(i,l);if(c){const h=ik(r,l),p=Bg(d,h.tView.ssrId);Iv(d,Tv(i,h,void 0,{dehydratedView:p}),0,Ug(h,p))}else QD(d,0)}}}finally{L(e)}}(rn(2)._tickMarks)}function _Ne(n,e){if(1&n&&(Xe(0,"div",7,8),an(2,gNe,2,0),qe()),2&n){const t=rn();st(2),Ti(2,t._cachedWidth?2:-1)}}function bNe(n,e){if(1&n&&fn(0,"mat-slider-visual-thumb",6),2&n){const t=rn();bt("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}const yNe=["*"],KA=new mt("_MatSlider"),EK=new mt("_MatSliderThumb"),CK=new mt("_MatSliderRangeThumb"),SK=new mt("_MatSliderVisualThumb");let vNe=(()=>{class n{constructor(t,i,r,o){this._cdr=t,this._ngZone=i,this._slider=o,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=Ft(Cr),this._onPointerMove=s=>{if(this._sliderInput._isFocused)return;const a=this._hostElement.getBoundingClientRect(),c=this._slider._isCursorOnSliderThumb(s,a);this._isHovered=c,c?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=s=>{0===s.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=r.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const t=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{t.addEventListener("pointermove",this._onPointerMove),t.addEventListener("pointerdown",this._onDragStart),t.addEventListener("pointerup",this._onDragEnd),t.addEventListener("pointerleave",this._onMouseLeave),t.addEventListener("focus",this._onFocus),t.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const t=this._sliderInputEl;t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return 0===t?.state||1===t?.state}_showRipple(t,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Mi),xe(gn),xe(vn),xe(KA))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,r){if(1&i&&(mi(za,5),mi(uNe,5),mi(hNe,5)),2&i){let o;pn(o=mn())&&(r._ripple=o.first),pn(o=mn())&&(r._knob=o.first),pn(o=mn())&&(r._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[Gn([{provide:SK,useExisting:n}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,r){1&i&&(an(0,fNe,5,1,"div",0),fn(1,"div",1,2)(3,"div",3)),2&i&&(Ti(0,r.discrete?0:-1),st(3),bt("matRippleDisabled",!0))},dependencies:[za],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return n})();const wNe=JO(MC(class{constructor(n){this._elementRef=n}}),"primary");let AK=(()=>{class n extends wNe{get disabled(){return this._disabled}set disabled(t){this._disabled=ei(t);const i=this._getInput(2),r=this._getInput(1);i&&(i.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(t){this._discrete=ei(t),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(t){this._showTickMarks=ei(t)}get min(){return this._min}set min(t){const i=Vo(t,this._min);this._min!==i&&this._updateMin(i)}_updateMin(t){const i=this._min;this._min=t,this._isRange?this._updateMinRange({old:i,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){const i=this._getInput(2),r=this._getInput(1),o=i.value,s=r.value;r.min=t.new,i.min=Math.max(t.new,r.value),r.max=Math.min(i.max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),o!==i.value&&this._onValueChange(i),s!==r.value&&this._onValueChange(r)}_updateMinNonRange(t){const i=this._getInput(2);if(i){const r=i.value;i.min=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(t){const i=Vo(t,this._max);this._max!==i&&this._updateMax(i)}_updateMax(t){const i=this._max;this._max=t,this._isRange?this._updateMaxRange({old:i,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){const i=this._getInput(2),r=this._getInput(1),o=i.value,s=r.value;i.max=t.new,r.max=Math.min(t.new,i.value),i.min=r.value,i._updateWidthInactive(),r._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),o!==i.value&&this._onValueChange(i),s!==r.value&&this._onValueChange(r)}_updateMaxNonRange(t){const i=this._getInput(2);if(i){const r=i.value;i.max=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(t){const i=Vo(t,this._step);this._step!==i&&this._updateStep(i)}_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const t=this._getInput(2),i=this._getInput(1),r=t.value,o=i.value,s=i.value;t.min=this._min,i.max=this._max,t.step=this._step,i.step=this._step,this._platform.SAFARI&&(t.value=t.value,i.value=i.value),t.min=Math.max(this._min,i.value),i.max=Math.min(this._max,t.value),i._updateWidthInactive(),t._updateWidthInactive(),t.value<s?this._onTranslateXChangeBySideEffect(i,t):this._onTranslateXChangeBySideEffect(t,i),r!==t.value&&this._onValueChange(t),o!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const t=this._getInput(2);if(t){const i=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),i!==t.value&&this._onValueChange(t)}}constructor(t,i,r,o,s,a){super(r),this._ngZone=t,this._cdr=i,this._dir=o,this._globalRippleOptions=s,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=1,this.displayWith=c=>`${c}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=Ft(Cr),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===a,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const t=this._getInput(2),i=this._getInput(1);this._isRange=!!t&&!!i,this._cdr.detectChanges();const r=this._getThumb(2);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(t,i):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,i){t.initProps(),t.initUI(),i.initProps(),i.initUI(),t._updateMinMax(),i._updateMinMax(),t._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const t=this._getInput(2),i=this._getInput(1);t._setIsLeftThumb(),i._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateWidthInactive(),i._updateWidthInactive(),t._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(t=2){const i=this._getInput(t);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){const i=this._trackActive.nativeElement.style;i.left=t.left,i.right=t.right,i.transformOrigin=t.transformOrigin,i.transform=t.transform}_calcTickMarkTransform(t){return`translateX(${t*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,i){this._hasViewInitialized&&(t._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const t=this._getInput(2),i=this._getInput(1);t._updateThumbUIByValue(),i._updateThumbUIByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateMinMax(),i._updateMinMax(),t._updateWidthInactive(),i._updateWidthInactive()}else{const t=this._getInput(2);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const t=this._getInput(1),i=this._getInput(2);return!(!t||!i)&&i.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){const i=t.getSibling(),r=this._getThumb(t.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){this._skipUpdate()||(this._getThumb(2===t.thumbPosition?2:1)._hostElement.style.transform=`translateX(${t.translateX}px)`)}_updateValueIndicatorUI(t){if(this._skipUpdate())return;const i=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext=i:t._hostElement.setAttribute("aria-valuetext",i),this.discrete){1===t.thumbPosition?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const r=this._getThumb(t.thumbPosition);i.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const t=this._getInput(2),i=this._getInput(1);t&&this._updateValueIndicatorUI(t),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const t=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){const i=t.getSibling();if(!i||!this._cachedWidth)return;const r=Math.abs(i.translateX-t.translateX)/this._cachedWidth;this._setTrackActiveStyles(t._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(t){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(t){const i=this._getValue();let r=Math.max(Math.floor((i-this.min)/t),0),o=Math.max(Math.floor((this.max-i)/t),0);this._isRtl?r++:o++,this._tickMarks=Array(r).fill(0).concat(Array(o).fill(1))}_updateTickMarkUIRange(t){const i=this._getValue(),r=this._getValue(1),o=Math.max(Math.floor((r-this.min)/t),0),s=Math.max(Math.floor((i-r)/t)+1,0),a=Math.max(Math.floor((this.max-i)/t),0);this._tickMarks=Array(o).fill(1).concat(Array(s).fill(0),Array(a).fill(1))}_getInput(t){return 2===t&&this._input?this._input:this._inputs?.length?1===t?this._inputs.first:this._inputs.last:void 0}_getThumb(t){return 2===t?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=!this._platform.IOS&&t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(t,i){const r=i.width/2,c=t.clientY-(i.y+r);return Math.pow(t.clientX-(i.x+r),2)+Math.pow(c,2)<Math.pow(r,2)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(gn),xe(Mi),xe(vn),xe(yl,8),xe(Bh,8),xe(Lr,8))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-slider"]],contentQueries:function(i,r,o){if(1&i&&(Ni(o,EK,5),Ni(o,CK,4)),2&i){let s;pn(s=mn())&&(r._input=s.first),pn(s=mn())&&(r._inputs=s)}},viewQuery:function(i,r){if(1&i&&(mi(pNe,5),mi(SK,5)),2&i){let o;pn(o=mn())&&(r._trackActive=o.first),pn(o=mn())&&(r._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(i,r){2&i&&un("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[Gn([{provide:KA,useExisting:n}]),Ln],ngContentSelectors:yNe,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[3,"class","transform"]],template:function(i,r){1&i&&(Qi(),Cn(0),Xe(1,"div",0),fn(2,"div",1),Xe(3,"div",2),fn(4,"div",3,4),qe(),an(6,_Ne,3,1,"div",5),qe(),an(7,bNe,1,3,"mat-slider-visual-thumb",6),fn(8,"mat-slider-visual-thumb",6)),2&i&&(st(6),Ti(6,r.showTickMarks?6:-1),st(),Ti(7,r._isRange?7:-1),st(),bt("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[vNe],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:50%;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:translateX(-50%);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:translateX(-50%);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color);opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color)}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size);width:var(--mdc-slider-with-tick-marks-container-size)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking);font-size:var(--mdc-slider-label-label-text-size);font-family:var(--mdc-slider-label-label-text-font);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape);width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-style:solid;border-width:calc(var(--mdc-slider-handle-height) / 2) calc(var(--mdc-slider-handle-width) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator-container{transform:var(--mat-slider-value-indicator-container-transform)}.mat-mdc-slider .mdc-slider__value-indicator{width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mat-mdc-slider .mdc-slider__value-indicator::before{display:var(--mat-slider-value-indicator-caret-display)}.mat-mdc-slider .mdc-slider__value-indicator-text{width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slider .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__value-indicator-text{text-align:center}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();const ENe={provide:xs,useExisting:Ee(()=>qA),multi:!0};let qA=(()=>{class n{get value(){return Vo(this._hostElement.value)}set value(t){const i=Vo(t).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=i,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()):this._initialValue=i}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}get min(){return Vo(this._hostElement.min)}set min(t){this._hostElement.min=Vo(t).toString(),this._cdr.detectChanges()}get max(){return Vo(this._hostElement.max)}set max(t){this._hostElement.max=Vo(t).toString(),this._cdr.detectChanges()}get step(){return Vo(this._hostElement.step)}set step(t){this._hostElement.step=Vo(t).toString(),this._cdr.detectChanges()}get disabled(){return ei(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=ei(t),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(t){this._isFocused=t}constructor(t,i,r,o){this._ngZone=t,this._elementRef=i,this._cdr=r,this._slider=o,this.valueChange=new Gt,this.dragStart=new Gt,this.dragEnd=new Gt,this.thumbPosition=2,this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Qt,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=Ft(Cr),this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){if(!this.disabled&&0===t.button){if(this._platform.IOS){const i=this._slider._isCursorOnSliderThumb(t,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=i,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){const i=t.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,o=0===this._slider.step?1:this._slider.step,s=Math.floor((this._slider.max-this._slider.min)/o),l=Math.round((this._slider._isRtl?1-i/r:i/r)*s)/s*(this._slider.max-this._slider.min)+this._slider.min,d=Math.round(l/o)*o;if(d===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=d,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(t){const i=this._tickMarkOffset;return Math.max(Math.min(t,this._slider._cachedWidth-this._tickMarkOffset),i)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(i)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){(this._isControlInitialized||null!==t)&&(this.value=t)}registerOnChange(t){this._onChangeFn=t,this._isControlInitialized=!0}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(i){return new(i||n)(xe(gn),xe(vn),xe(Mi),xe(KA))};static#t=this.\u0275dir=$t({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,r){1&i&&kt("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),2&i&&Yn("aria-valuetext",r._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[Gn([ENe,{provide:EK,useExisting:n}])]})}return n})(),MK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[Bi,Ha]})}return n})();function ANe(n,e){}class JA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let SL=(()=>{class n extends VC{constructor(t,i,r,o,s,a,c,l){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._platform=Ft(Cr),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const h=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),h},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=_C(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=_C();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=_C()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(r5),xe(Qn,8),xe(JA),xe(KO),xe(gn),xe(GC),xe(Su))};static#t=this.\u0275cmp=on({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&mi(m_,7),2&i){let o;pn(o=mn())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Yn("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[Ln,kh],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&an(0,ANe,0,0,"ng-template",0)},dependencies:[Mu,m_],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class AL{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Qt,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Sa(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const TK=new mt("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=Ft(Qo);return()=>n.scrollStrategies.block()}}),MNe=new mt("DialogData"),TNe=new mt("DefaultDialogConfig");let DNe=0,IK=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Qt,this._afterOpenedAtThisLevel=new Qt,this._ariaHiddenElements=new Map,this.afterAllClosed=lm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Zo(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new JA,...i}).id=i.id||"cdk-dialog-"+DNe++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new AL(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){ML(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){ML(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),ML(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new x0({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:JA,useValue:r},{provide:AL,useValue:i},{provide:GC,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=SL;const c=new f_(a,r.viewContainerRef,Gi.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,o){if(t instanceof Va){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new p_(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new f_(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:MNe,useValue:t.data},{provide:AL,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(yl,null,{optional:!0}))&&a.push({provide:yl,useValue:{value:t.direction,change:In()}}),Gi.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qo),et(Gi),et(TNe,8),et(n,12),et(E0),et(TK))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ML(n,e){let t=n.length;for(;t--;)e(n[t])}let kNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[IK],imports:[g_,Mu,h5,SL,Mu]})}return n})();function ONe(n,e){}class TL{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const IL="mdc-dialog--open",DK="mdc-dialog--opening",kK="mdc-dialog--closing";let DL=(()=>{class n extends SL{constructor(t,i,r,o,s,a,c,l,d){super(t,i,r,o,s,a,c,d),this._animationMode=l,this._animationStateChanged=new Gt,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?RK(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?RK(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(OK,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(DK,IL)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(IL),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(IL),this._animationsEnabled?(this._hostElement.style.setProperty(OK,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(kK)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(DK,kK)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(r5),xe(Qn,8),xe(TL),xe(KO),xe(gn),xe(GC),xe(Lr,8),xe(Su))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(ea("id",r._config.id),Yn("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),un("_mat-animation-noopable",!r._animationsEnabled))},standalone:!0,features:[Ln,kh],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"div",1),an(2,ONe,0,0,"ng-template",2),qe()())},dependencies:[Mu,m_],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();const OK="--mat-dialog-transition-duration";function RK(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Vo(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Vo(n.substring(0,n.length-1)):"0"===n?0:null}class ob{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new Qt,this._beforeClosed=new Qt,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(Ei(r=>"opened"===r.state),_r(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Ei(r=>"closed"===r.state),_r(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Ps(this.backdropClick(),this.keydownEvents().pipe(Ei(r=>27===r.keyCode&&!this.disableClose&&!Sa(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function PK(n,e,t){return n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ei(t=>"closing"===t.state),_r(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const kL=new mt("MatMdcDialogData"),NNe=new mt("mat-mdc-dialog-default-options"),NK=new mt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ft(Qo);return()=>n.scrollStrategies.block()}});let LNe=0,hm=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,c,l){this._overlay=t,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Qt,this._afterOpenedAtThisLevel=new Qt,this.dialogConfigClass=TL,this.afterAllClosed=lm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Zo(void 0))),this._dialog=i.get(IK),this._dialogRefConstructor=ob,this._dialogContainerType=DL,this._dialogDataToken=kL}open(t,i){let r;(i={...this._defaultOptions||new TL,...i}).id=i.id||"mat-mdc-dialog-"+LNe++,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:JA,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qo),et(Gi),et(vp,8),et(NNe,8),et(NK),et(n,12),et(E0),et(Lr,8))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BNe=0,ZA=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+BNe++}ngOnInit(){this._dialogRef||(this._dialogRef=function FK(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const t=this._dialogRef?._containerInstance?._ariaLabelledByQueue;t&&Promise.resolve().then(()=>{const i=t.indexOf(this.id);i>-1&&t.splice(i,1)})}static#e=this.\u0275fac=function(i){return new(i||n)(xe(ob,8),xe(vn),xe(hm))};static#t=this.\u0275dir=$t({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&ea("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0})}return n})(),QA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$t({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0})}return n})();let Pw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[hm],imports:[kNe,g_,Mu,Bi,DL,Bi]})}return n})();class OL{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Qt,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let i of t)if(this.compareWith(e,i))return i;return e}return e}}let RL=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const BK=new mt("CdkAccordion");let jNe=0,zNe=(()=>{class n{get expanded(){return this._expanded}set expanded(t){this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=wt.EMPTY,this.closed=new Gt,this.opened=new Gt,this.destroyed=new Gt,this.expandedChange=new Gt,this.id="cdk-accordion-child-"+jNe++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static#e=this.\u0275fac=function(i){return new(i||n)(xe(BK,12),xe(Mi),xe(RL))};static#t=this.\u0275dir=$t({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:["expanded","expanded",Ki],disabled:["disabled","disabled",Ki]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Gn([{provide:BK,useValue:void 0}]),fl]})}return n})(),HNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({})}return n})();const GNe=["body"];function WNe(n,e){}const $Ne=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],YNe=["mat-expansion-panel-header","*","mat-action-row"];function XNe(n,e){1&n&&fn(0,"span",2),2&n&&bt("@indicatorRotate",rn()._getExpandedState())}const KNe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],qNe=["mat-panel-title","mat-panel-description","*"],UK=new mt("MAT_ACCORDION"),VK="225ms cubic-bezier(0.4,0.0,0.2,1)",jK={indicatorRotate:Vc("indicatorRotate",[Do("collapsed, void",or({transform:"rotate(0deg)"})),Do("expanded",or({transform:"rotate(180deg)"})),vs("expanded <=> collapsed, void => collapsed",ys(VK))]),bodyExpansion:Vc("bodyExpansion",[Do("collapsed, void",or({height:"0px",visibility:"hidden"})),Do("expanded",or({height:"*",visibility:""})),vs("expanded <=> collapsed, void => collapsed",ys(VK))])},zK=new mt("MAT_EXPANSION_PANEL");let JNe=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Va),xe(zK,8))};static#t=this.\u0275dir=$t({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]})}return n})(),ZNe=0;const HK=new mt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let eM=(()=>{class n extends zNe{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=ei(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,r,o,s,a,c){super(t,i,r),this._viewContainerRef=o,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new Gt,this.afterCollapse=new Gt,this._inputChanges=new Qt,this._headerId="mat-expansion-panel-header-"+ZNe++,this._bodyAnimationDone=new Qt,this.accordion=t,this._document=s,this._bodyAnimationDone.pipe(ia((l,d)=>l.fromState===d.fromState&&l.toState===d.toState)).subscribe(l=>{"void"!==l.fromState&&("expanded"===l.toState?this.afterExpand.emit():"collapsed"===l.toState&&this.afterCollapse.emit())}),c&&(this.hideToggle=c.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Zo(null),Ei(()=>this.expanded&&!this._portal),_r(1)).subscribe(()=>{this._portal=new p_(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}static#e=this.\u0275fac=function(i){return new(i||n)(xe(UK,12),xe(Mi),xe(RL),xe(bs),xe(Qn),xe(Lr,8),xe(HK,8))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,o){if(1&i&&Ni(o,JNe,5),2&i){let s;pn(s=mn())&&(r._lazyContent=s.first)}},viewQuery:function(i,r){if(1&i&&mi(GNe,5),2&i){let o;pn(o=mn())&&(r._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){2&i&&un("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Gn([{provide:UK,useValue:void 0},{provide:zK,useExisting:n}]),Ln,xr],ngContentSelectors:YNe,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){1&i&&(Qi($Ne),Cn(0),Xe(1,"div",0,1),kt("@bodyExpansion.done",function(s){return r._bodyAnimationDone.next(s)}),Xe(3,"div",2),Cn(4,1),an(5,WNe,0,0,"ng-template",3),qe(),Cn(6,2),qe()),2&i&&(st(),bt("@bodyExpansion",r._getExpandedState())("id",r.id),Yn("aria-labelledby",r._headerId),st(4),bt("cdkPortalOutlet",r._portal))},dependencies:[m_],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[jK.bodyExpansion]},changeDetection:0})}return n})();class QNe{}const eFe=c_(QNe);let PL=(()=>{class n extends eFe{constructor(t,i,r,o,s,a,c){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=a,this._parentChangeSubscription=wt.EMPTY;const l=t.accordion?t.accordion._stateChanges.pipe(Ei(d=>!(!d.hideToggle&&!d.togglePosition))):na;this.tabIndex=parseInt(c||"")||0,this._parentChangeSubscription=Ps(t.opened,t.closed,l,t._inputChanges.pipe(Ei(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Ei(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Sa(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(eM,1),xe(vn),xe(Su),xe(Mi),xe(HK,8),xe(Lr,8),Ks("tabindex"))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){1&i&&kt("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),2&i&&(Yn("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Lg("height",r._getHeaderHeight()),un("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Ln],ngContentSelectors:qNe,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator"],[1,"mat-expansion-indicator"]],template:function(i,r){1&i&&(Qi(KNe),Xe(0,"span",0),Cn(1),Cn(2,1),Cn(3,2),qe(),an(4,XNe,1,1,"span",1)),2&i&&(un("mat-content-hide-toggle",!r._showToggle()),st(4),Ti(4,r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[jK.indicatorRotate]},changeDetection:0})}return n})(),GK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$t({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return n})(),NL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[Bi,HNe,Mu]})}return n})();function WK(n,e,t){return t?WK(n,e).pipe(xC(t)):new $e(i=>{const r=(...s)=>i.next(1===s.length?s[0]:s),o=n(r);return ye(e)?()=>e(r,o):void 0})}const tFe=["youtubeContainer"];let XK=(()=>{class n{get height(){return this._height}set height(t){this._height=t||390}get width(){return this._width}set width(t){this._width=t||640}constructor(t,i){this._ngZone=t,this._destroyed=new Qt,this._playerChanges=new tr(void 0),this._height=390,this._width=640,this.disableCookies=!1,this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=cd(i)}ngAfterViewInit(){this._isBrowser&&(window.YT&&window.YT.Player?this._createPlayer():(this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback?.(),this._ngZone.run(()=>this._createPlayer())}))}ngOnChanges(t){this._shouldRecreatePlayer(t)?this._createPlayer():this._player&&((t.width||t.height)&&this._setSize(),t.suggestedQuality&&this._setQuality(),(t.startSeconds||t.endSeconds||t.suggestedQuality)&&this._cuePlayer())}ngOnDestroy(){this._pendingPlayer?.destroy(),this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(t,i){this._player?this._player.seekTo(t,i):this._getPendingState().seek={seconds:t,allowSeekAhead:i}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(t){this._player?this._player.setVolume(t):this._getPendingState().volume=t}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(t){if(this._player)return this._player.setPlaybackRate(t);this._getPendingState().playbackRate=t}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_shouldRecreatePlayer(t){const i=t.videoId||t.playerVars||t.disableCookies;return!!i&&!i.isFirstChange()}_createPlayer(){if(this._player?.destroy(),this._pendingPlayer?.destroy(),typeof YT>"u"||!this.videoId&&!this.playerVars?.list)return;const t=this._ngZone.runOutsideAngular(()=>new YT.Player(this.youtubeContainer.nativeElement,{videoId:this.videoId,host:this.disableCookies?"https://www.youtube-nocookie.com":void 0,width:this.width,height:this.height,playerVars:this.playerVars})),i=()=>{this._player=t,this._pendingPlayer=void 0,t.removeEventListener("onReady",i),this._playerChanges.next(t),this._setSize(),this._setQuality(),this._pendingPlayerState&&(this._applyPendingPlayerState(t,this._pendingPlayerState),this._pendingPlayerState=void 0);const r=t.getPlayerState();(r===YT.PlayerState.UNSTARTED||r===YT.PlayerState.CUED||null==r)&&this._cuePlayer()};this._pendingPlayer=t,t.addEventListener("onReady",i)}_applyPendingPlayerState(t,i){const{playbackState:r,playbackRate:o,volume:s,muted:a,seek:c}=i;switch(r){case YT.PlayerState.PLAYING:t.playVideo();break;case YT.PlayerState.PAUSED:t.pauseVideo();break;case YT.PlayerState.CUED:t.stopVideo()}null!=o&&t.setPlaybackRate(o),null!=s&&t.setVolume(s),null!=a&&(a?t.mute():t.unMute()),null!=c&&t.seekTo(c.seconds,c.allowSeekAhead)}_cuePlayer(){this._player&&this.videoId&&this._player.cueVideoById({videoId:this.videoId,startSeconds:this.startSeconds,endSeconds:this.endSeconds,suggestedQuality:this.suggestedQuality})}_setSize(){this._player?.setSize(this.width,this.height)}_setQuality(){this._player&&this.suggestedQuality&&this._player.setPlaybackQuality(this.suggestedQuality)}_getLazyEmitter(t){return this._playerChanges.pipe(jr(i=>i?WK(r=>{i.addEventListener(t,r)},r=>{try{i?.removeEventListener?.(t,r)}catch{}}):In()),i=>new $e(r=>i.subscribe({next:o=>this._ngZone.run(()=>r.next(o)),error:o=>r.error(o),complete:()=>r.complete()})),vi(this._destroyed))}static#e=this.\u0275fac=function(i){return new(i||n)(xe(gn),xe(ks))};static#t=this.\u0275cmp=on({type:n,selectors:[["youtube-player"]],viewQuery:function(i,r){if(1&i&&mi(tFe,7),2&i){let o;pn(o=mn())&&(r.youtubeContainer=o.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:"disableCookies",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},features:[xr],decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(i,r){1&i&&fn(0,"div",null,0)},encapsulation:2,changeDetection:0})}return n})(),nFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({})}return n})();function KK(n=iFe){return Oi((e,t)=>{let i=!1;e.subscribe(si(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function iFe(){return new Ew}let fm={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function qK(n){fm=n}const JK=/[&<>"']/,rFe=new RegExp(JK.source,"g"),ZK=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,oFe=new RegExp(ZK.source,"g"),sFe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},QK=n=>sFe[n];function yc(n,e){if(e){if(JK.test(n))return n.replace(rFe,QK)}else if(ZK.test(n))return n.replace(oFe,QK);return n}const aFe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function cFe(n){return n.replace(aFe,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const lFe=/(^|[^\[])\^/g;function mr(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(i,r)=>(r=(r="object"==typeof r&&"source"in r?r.source:r).replace(lFe,"$1"),n=n.replace(i,r),t),getRegex:()=>new RegExp(n,e)};return t}function eq(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const tM={exec:()=>null};function tq(n,e){const i=n.replace(/\|/g,(o,s,a)=>{let c=!1,l=s;for(;--l>=0&&"\\"===a[l];)c=!c;return c?"|":" |"}).split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function nM(n,e,t){const i=n.length;if(0===i)return"";let r=0;for(;r<i;){const o=n.charAt(i-r-1);if(o!==e||t){if(o===e||!t)break;r++}else r++}return n.slice(0,i-r)}function nq(n,e,t,i){const r=e.href,o=e.title?yc(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){i.state.inLink=!0;const a={type:"link",raw:t,href:r,title:o,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,a}return{type:"image",raw:t,href:r,title:o,text:yc(s)}}class iM{options;rules;lexer;constructor(e){this.options=e||fm}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:nM(i,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],r=function uFe(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const i=t[1];return e.split("\n").map(r=>{const o=r.match(/^\s+/);if(null===o)return r;const[s]=o;return s.length>=i.length?r.slice(i.length):r}).join("\n")}(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const r=nM(i,"#");(this.options.pedantic||!r||/ $/.test(r))&&(i=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const i=nM(t[0].replace(/^ *>[ \t]?/gm,""),"\n"),r=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(i);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:o,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const r=i.length>1,o={type:"list",raw:"",ordered:r,start:r?+i.slice(0,-1):"",loose:!1,items:[]};i=r?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=r?i:"[*+-]");const s=new RegExp(`^( {0,3}${i})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",c="",l=!1;for(;e;){let d=!1;if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let h=t[2].split("\n",1)[0].replace(/^\t+/,X=>" ".repeat(3*X.length)),p=e.split("\n",1)[0],_=0;this.options.pedantic?(_=2,c=h.trimStart()):(_=t[2].search(/[^ ]/),_=_>4?1:_,c=h.slice(_),_+=t[1].length);let v=!1;if(!h&&/^ *$/.test(p)&&(a+=p+"\n",e=e.substring(p.length+1),d=!0),!d){const X=new RegExp(`^ {0,${Math.min(3,_-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Q=new RegExp(`^ {0,${Math.min(3,_-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),pe=new RegExp(`^ {0,${Math.min(3,_-1)}}(?:\`\`\`|~~~)`),Re=new RegExp(`^ {0,${Math.min(3,_-1)}}#`);for(;e;){const Ye=e.split("\n",1)[0];if(p=Ye,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),pe.test(p)||Re.test(p)||X.test(p)||Q.test(e))break;if(p.search(/[^ ]/)>=_||!p.trim())c+="\n"+p.slice(_);else{if(v||h.search(/[^ ]/)>=4||pe.test(h)||Re.test(h)||Q.test(h))break;c+="\n"+p}!v&&!p.trim()&&(v=!0),a+=Ye+"\n",e=e.substring(Ye.length+1),h=p.slice(_)}}o.loose||(l?o.loose=!0:/\n *\n *$/.test(a)&&(l=!0));let P,A=null;this.options.gfm&&(A=/^\[[ xX]\] /.exec(c),A&&(P="[ ] "!==A[0],c=c.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:a,task:!!A,checked:P,loose:!1,text:c,tokens:[]}),o.raw+=a}o.items[o.items.length-1].raw=a.trimEnd(),o.items[o.items.length-1].text=c.trimEnd(),o.raw=o.raw.trimEnd();for(let d=0;d<o.items.length;d++)if(this.lexer.state.top=!1,o.items[d].tokens=this.lexer.blockTokens(o.items[d].text,[]),!o.loose){const h=o.items[d].tokens.filter(_=>"space"===_.type),p=h.length>0&&h.some(_=>/\n.*\n/.test(_.raw));o.loose=p}if(o.loose)for(let d=0;d<o.items.length;d++)o.items[d].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:r,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(t){if(!/[:|]/.test(t[2]))return;const i={type:"table",raw:t[0],header:tq(t[1]).map(r=>({text:r,tokens:[]})),align:t[2].replace(/^\||\| *$/g,"").split("|"),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(i.header.length===i.align.length){let o,s,a,c,r=i.align.length;for(o=0;o<r;o++){const l=i.align[o];l&&(i.align[o]=/^ *-+: *$/.test(l)?"right":/^ *:-+: *$/.test(l)?"center":/^ *:-+ *$/.test(l)?"left":null)}for(r=i.rows.length,o=0;o<r;o++)i.rows[o]=tq(i.rows[o],i.header.length).map(l=>({text:l,tokens:[]}));for(r=i.header.length,s=0;s<r;s++)i.header[s].tokens=this.lexer.inline(i.header[s].text);for(r=i.rows.length,s=0;s<r;s++)for(c=i.rows[s],a=0;a<c.length;a++)c[a].tokens=this.lexer.inline(c[a].text);return i}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:yc(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const s=nM(i.slice(0,-1),"\\");if((i.length-s.length)%2==0)return}else{const s=function dFe(n,e){if(-1===n.indexOf(e[1]))return-1;let t=0;for(let i=0;i<n.length;i++)if("\\"===n[i])i++;else if(n[i]===e[0])t++;else if(n[i]===e[1]&&(t--,t<0))return i;return-1}(t[2],"()");if(s>-1){const c=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);s&&(r=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(r=this.options.pedantic&&!/>$/.test(i)?r.slice(1):r.slice(1,-1)),nq(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r){const o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return nq(i,r,i[0],this.lexer)}}emStrong(e,t,i=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))&&(!r[1]&&!r[2]||!i||this.rules.inline.punctuation.exec(i))){const s=[...r[0]].length-1;let a,c,l=s,d=0;const h="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+s);null!=(r=h.exec(t));){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(c=[...a].length,r[3]||r[4]){l+=c;continue}if((r[5]||r[6])&&s%3&&!((s+c)%3)){d+=c;continue}if(l-=c,l>0)continue;c=Math.min(c,c+l+d);const p=[...r[0]][0].length,_=e.slice(0,s+r.index+p+c);if(Math.min(s,c)%2){const A=_.slice(1,-1);return{type:"em",raw:_,text:A,tokens:this.lexer.inlineTokens(A)}}const v=_.slice(2,-2);return{type:"strong",raw:_,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const r=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return r&&o&&(i=i.substring(1,i.length-1)),i=yc(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let i,r;return"@"===t[2]?(i=yc(t[1]),r="mailto:"+i):(i=yc(t[1]),r=i),{type:"link",raw:t[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let i,r;if("@"===t[2])i=yc(t[0]),r="mailto:"+i;else{let o;do{o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0]}while(o!==t[0]);i=yc(t[0]),r="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let i;return i=this.lexer.state.inRawBlock?t[0]:yc(t[0]),{type:"text",raw:t[0],text:i}}}}const Wn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:tM,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Wn.def=mr(Wn.def).replace("label",Wn._label).replace("title",Wn._title).getRegex(),Wn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Wn.listItemStart=mr(/^( *)(bull) */).replace("bull",Wn.bullet).getRegex(),Wn.list=mr(Wn.list).replace(/bull/g,Wn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Wn.def.source+")").getRegex(),Wn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Wn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Wn.html=mr(Wn.html,"i").replace("comment",Wn._comment).replace("tag",Wn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Wn.lheading=mr(Wn.lheading).replace(/bull/g,Wn.bullet).getRegex(),Wn.paragraph=mr(Wn._paragraph).replace("hr",Wn.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wn._tag).getRegex(),Wn.blockquote=mr(Wn.blockquote).replace("paragraph",Wn.paragraph).getRegex(),Wn.normal={...Wn},Wn.gfm={...Wn.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Wn.gfm.table=mr(Wn.gfm.table).replace("hr",Wn.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wn._tag).getRegex(),Wn.gfm.paragraph=mr(Wn._paragraph).replace("hr",Wn.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Wn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wn._tag).getRegex(),Wn.pedantic={...Wn.normal,html:mr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Wn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:tM,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:mr(Wn.normal._paragraph).replace("hr",Wn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Wn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Sn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:tM,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:tM,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};Sn.punctuation=mr(Sn.punctuation,"u").replace(/punctuation/g,Sn._punctuation).getRegex(),Sn.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Sn.anyPunctuation=/\\[punct]/g,Sn._escapes=/\\([punct])/g,Sn._comment=mr(Wn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Sn.emStrong.lDelim=mr(Sn.emStrong.lDelim,"u").replace(/punct/g,Sn._punctuation).getRegex(),Sn.emStrong.rDelimAst=mr(Sn.emStrong.rDelimAst,"gu").replace(/punct/g,Sn._punctuation).getRegex(),Sn.emStrong.rDelimUnd=mr(Sn.emStrong.rDelimUnd,"gu").replace(/punct/g,Sn._punctuation).getRegex(),Sn.anyPunctuation=mr(Sn.anyPunctuation,"gu").replace(/punct/g,Sn._punctuation).getRegex(),Sn._escapes=mr(Sn._escapes,"gu").replace(/punct/g,Sn._punctuation).getRegex(),Sn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Sn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Sn.autolink=mr(Sn.autolink).replace("scheme",Sn._scheme).replace("email",Sn._email).getRegex(),Sn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Sn.tag=mr(Sn.tag).replace("comment",Sn._comment).replace("attribute",Sn._attribute).getRegex(),Sn._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Sn._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Sn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Sn.link=mr(Sn.link).replace("label",Sn._label).replace("href",Sn._href).replace("title",Sn._title).getRegex(),Sn.reflink=mr(Sn.reflink).replace("label",Sn._label).replace("ref",Wn._label).getRegex(),Sn.nolink=mr(Sn.nolink).replace("ref",Wn._label).getRegex(),Sn.reflinkSearch=mr(Sn.reflinkSearch,"g").replace("reflink",Sn.reflink).replace("nolink",Sn.nolink).getRegex(),Sn.normal={...Sn},Sn.pedantic={...Sn.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:mr(/^!?\[(label)\]\((.*?)\)/).replace("label",Sn._label).getRegex(),reflink:mr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Sn._label).getRegex()},Sn.gfm={...Sn.normal,escape:mr(Sn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Sn.gfm.url=mr(Sn.gfm.url,"i").replace("email",Sn.gfm._extended_email).getRegex(),Sn.breaks={...Sn.gfm,br:mr(Sn.br).replace("{2,}","*").getRegex(),text:mr(Sn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Dd{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||fm,this.options.tokenizer=this.options.tokenizer||new iM,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Wn.normal,inline:Sn.normal};this.options.pedantic?(t.block=Wn.pedantic,t.inline=Sn.pedantic):this.options.gfm&&(t.block=Wn.gfm,t.inline=this.options.breaks?Sn.breaks:Sn.gfm),this.tokenizer.rules=t}static get rules(){return{block:Wn,inline:Sn}}static lex(e,t){return new Dd(t).lex(e)}static lexInline(e,t){return new Dd(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let i,r,o,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,c,l)=>c+"    ".repeat(l.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(i=a.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),1===i.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(i):(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(r.raw+="\n"+i.raw,r.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=e.slice(1);let l;this.options.extensions.startBlock.forEach(d=>{l=d.call({lexer:this},c),"number"==typeof l&&l>=0&&(a=Math.min(a,l))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){r=t[t.length-1],s&&"paragraph"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i),s=o.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,r,o,a,c,l,s=e;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(l=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>!!(i=d.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,s,l)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const h=e.slice(1);let p;this.options.extensions.startInline.forEach(_=>{p=_.call({lexer:this},h),"number"==typeof p&&p>=0&&(d=Math.min(d,p))}),d<1/0&&d>=0&&(o=e.substring(0,d+1))}if(i=this.tokenizer.inlineText(o)){e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),c=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}return t}}class sb{options;constructor(e){this.options=e||fm}code(e,t,i){const r=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="language-'+yc(r)+'">'+(i?e:yc(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:yc(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,i){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,i){const r=t?"ol":"ul";return"<"+r+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e,t,i){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+e+`</${i}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,i){const r=eq(e);if(null===r)return i;let o='<a href="'+(e=r)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+i+"</a>",o}image(e,t,i){const r=eq(e);if(null===r)return i;let o=`<img src="${e=r}" alt="${i}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return e}}class LL{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class kd{options;renderer;textRenderer;constructor(e){this.options=e||fm,this.options.renderer=this.options.renderer||new sb,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new LL}static parse(e,t){return new kd(t).parse(e)}static parseInline(e,t){return new kd(t).parseInline(e)}parse(e,t=!0){let i="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const s=o,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){i+=a||"";continue}}switch(o.type){case"space":continue;case"hr":i+=this.renderer.hr();continue;case"heading":{const s=o;i+=this.renderer.heading(this.parseInline(s.tokens),s.depth,cFe(this.parseInline(s.tokens,this.textRenderer)));continue}case"code":i+=this.renderer.code(o.text,o.lang,!!o.escaped);continue;case"table":{const s=o;let a="",c="";for(let d=0;d<s.header.length;d++)c+=this.renderer.tablecell(this.parseInline(s.header[d].tokens),{header:!0,align:s.align[d]});a+=this.renderer.tablerow(c);let l="";for(let d=0;d<s.rows.length;d++){const h=s.rows[d];c="";for(let p=0;p<h.length;p++)c+=this.renderer.tablecell(this.parseInline(h[p].tokens),{header:!1,align:s.align[p]});l+=this.renderer.tablerow(c)}i+=this.renderer.table(a,l);continue}case"blockquote":{const a=this.parse(o.tokens);i+=this.renderer.blockquote(a);continue}case"list":{const s=o,a=s.ordered,c=s.start,l=s.loose;let d="";for(let h=0;h<s.items.length;h++){const p=s.items[h],_=p.checked,v=p.task;let A="";if(p.task){const P=this.renderer.checkbox(!!_);l?p.tokens.length>0&&"paragraph"===p.tokens[0].type?(p.tokens[0].text=P+" "+p.tokens[0].text,p.tokens[0].tokens&&p.tokens[0].tokens.length>0&&"text"===p.tokens[0].tokens[0].type&&(p.tokens[0].tokens[0].text=P+" "+p.tokens[0].tokens[0].text)):p.tokens.unshift({type:"text",text:P+" "}):A+=P+" "}A+=this.parse(p.tokens,l),d+=this.renderer.listitem(A,v,!!_)}i+=this.renderer.list(d,a,c);continue}case"html":i+=this.renderer.html(o.text,o.block);continue;case"paragraph":i+=this.renderer.paragraph(this.parseInline(o.tokens));continue;case"text":{let s=o,a=s.tokens?this.parseInline(s.tokens):s.text;for(;r+1<e.length&&"text"===e[r+1].type;)s=e[++r],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);i+=t?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const s=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=s||"";continue}}switch(o.type){case"escape":case"text":i+=t.text(o.text);break;case"html":i+=t.html(o.text);break;case"link":i+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break;case"image":i+=t.image(o.href,o.title,o.text);break;case"strong":i+=t.strong(this.parseInline(o.tokens,t));break;case"em":i+=t.em(this.parseInline(o.tokens,t));break;case"codespan":i+=t.codespan(o.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(o.tokens,t));break;default:{const s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return i}}class rM{options;constructor(e){this.options=e||fm}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}const pm=new class hFe{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(Dd.lex,kd.parse);parseInline=this.#e(Dd.lexInline,kd.parseInline);Parser=kd;Renderer=sb;TextRenderer=LL;Lexer=Dd;Tokenizer=iM;Hooks=rM;constructor(...e){this.use(...e)}walkTokens(e,t){let i=[];for(const r of e)switch(i=i.concat(t.call(this,r)),r.type){case"table":{const o=r;for(const s of o.header)i=i.concat(this.walkTokens(s.tokens,t));for(const s of o.rows)for(const a of s)i=i.concat(this.walkTokens(a.tokens,t));break}case"list":i=i.concat(this.walkTokens(r.items,t));break;default:{const o=r;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(s=>{i=i.concat(this.walkTokens(o[s],t))}):o.tokens&&(i=i.concat(this.walkTokens(o.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const r={...i};if(r.async=this.defaults.async||r.async||!1,i.extensions&&(i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=t.renderers[o.name];t.renderers[o.name]=s?function(...a){let c=o.renderer.apply(this,a);return!1===c&&(c=s.apply(this,a)),c}:o.renderer}if("tokenizer"in o){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");const s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&("block"===o.level?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:"inline"===o.level&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),i.renderer){const o=this.defaults.renderer||new sb(this.defaults);for(const s in i.renderer){const a=i.renderer[s],l=o[s];o[s]=(...d)=>{let h=a.apply(o,d);return!1===h&&(h=l.apply(o,d)),h||""}}r.renderer=o}if(i.tokenizer){const o=this.defaults.tokenizer||new iM(this.defaults);for(const s in i.tokenizer){const a=i.tokenizer[s],l=o[s];o[s]=(...d)=>{let h=a.apply(o,d);return!1===h&&(h=l.apply(o,d)),h}}r.tokenizer=o}if(i.hooks){const o=this.defaults.hooks||new rM;for(const s in i.hooks){const a=i.hooks[s],l=o[s];o[s]=rM.passThroughHooks.has(s)?d=>{if(this.defaults.async)return Promise.resolve(a.call(o,d)).then(p=>l.call(o,p));const h=a.call(o,d);return l.call(o,h)}:(...d)=>{let h=a.apply(o,d);return!1===h&&(h=l.apply(o,d)),h}}r.hooks=o}if(i.walkTokens){const o=this.defaults.walkTokens,s=i.walkTokens;r.walkTokens=function(a){let c=[];return c.push(s.call(this,a)),o&&(c=c.concat(o.call(this,a))),c}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Dd.lex(e,t??this.defaults)}parser(e,t){return kd.parse(e,t??this.defaults)}#e(e,t){return(i,r)=>{const o={...r},s={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const a=this.#t(!!s.silent,!!s.async);if(typeof i>"u"||null===i)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof i)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(i):i).then(c=>e(c,s)).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>t(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(a);try{s.hooks&&(i=s.hooks.preprocess(i));const c=e(i,s);s.walkTokens&&this.walkTokens(c,s.walkTokens);let l=t(c,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(c){return a(c)}}}#t(e,t){return i=>{if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const r="<p>An error occurred:</p><pre>"+yc(i.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(i);throw i}}};function sr(n,e){return pm.parse(n,e)}sr.options=sr.setOptions=function(n){return pm.setOptions(n),qK(sr.defaults=pm.defaults),sr},sr.getDefaults=function FL(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},sr.defaults=fm,sr.use=function(...n){return pm.use(...n),qK(sr.defaults=pm.defaults),sr},sr.walkTokens=function(n,e){return pm.walkTokens(n,e)},sr.parseInline=pm.parseInline,sr.Parser=kd,sr.parser=kd.parse,sr.Renderer=sb,sr.TextRenderer=LL,sr.Lexer=Dd,sr.lexer=Dd.lex,sr.Tokenizer=iM,sr.Hooks=rM,sr.parse=sr;const fFe=["*"];let iq=(()=>{class n{constructor(){this._buttonClick$=new Qt,this.copied$=this._buttonClick$.pipe(jr(()=>Ps(In(!0),v0(3e3).pipe(EL(!1)))),ia(),Uc(1)),this.copiedText$=this.copied$.pipe(Zo(!1),Lt(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=on({type:n,selectors:[["markdown-clipboard"]],standalone:!0,features:[kh],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(i,r){1&i&&(Xe(0,"button",0),kt("click",function(){return r.onCopyToClipboardClick()}),Xn(1,"async"),Ut(2),Xn(3,"async"),qe()),2&i&&(un("copied",ri(1,3,r.copied$)),st(2),Xr(ri(3,5,r.copiedText$)))},dependencies:[ad],encapsulation:2,changeDetection:0})}return n})();const gFe=new mt("CLIPBOARD_OPTIONS");var BL=function(n){return n.CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",n}(BL||{});const rq=new mt("MARKED_EXTENSIONS"),bFe=new mt("MARKED_OPTIONS"),oq=new mt("SECURITY_CONTEXT");let UL=(()=>{class n{get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}constructor(t,i,r,o,s,a,c){this.clipboardOptions=t,this.extensions=i,this.platform=o,this.securityContext=s,this.http=a,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new sb},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new Qt,this.reload$=this._reload$.asObservable(),this.options=r}parse(t,i=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:r,inline:o,emoji:s,mermaid:a,disableSanitizer:c}=i,l={...this.options,...i.markedOptions},d=l.renderer||this.renderer||new sb;this.extensions&&(this.renderer=this.extendsRendererForExtensions(d)),a&&(this.renderer=this.extendsRendererForMermaid(d));const h=this.trimIndentation(t),p=r?this.decodeHtml(h):h,_=s?this.parseEmoji(p):p,v=this.parseMarked(_,l,o);return(c?v:this.sanitizer.sanitize(this.securityContext,v))||""}render(t,i=this.DEFAULT_RENDER_OPTIONS,r){const{clipboard:o,clipboardOptions:s,katex:a,katexOptions:c,mermaid:l,mermaidOptions:d}=i;o&&this.renderClipboard(t,r,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...c}),l&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...d}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Lt(i=>this.handleExtension(t,i)))}highlight(t){if(!cd(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const i=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(i,r=>r.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!cd(this.platform))return t;const i=document.createElement("textarea");return i.innerHTML=t,i.value}extendsRendererForExtensions(t){const i=t;return!0===i.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&sr.use(...this.extensions),i.\u0275NgxMarkdownRendererExtendedForExtensions=!0),t}extendsRendererForMermaid(t){const i=t;if(!0===i.\u0275NgxMarkdownRendererExtendedForMermaid)return t;const r=t.code;return t.code=function(o,s,a){return"mermaid"===s?`<div class="mermaid">${o}</div>`:r.call(this,o,s,a)},i.\u0275NgxMarkdownRendererExtendedForMermaid=!0,t}handleExtension(t,i){const r=t.lastIndexOf("://"),o=r>-1?t.substring(r+4):t,s=o.lastIndexOf("/"),a=s>-1?o.substring(s+1).split("?")[0]:"",c=a.lastIndexOf("."),l=c>-1?a.substring(c+1):"";return l&&"md"!==l?"```"+l+"\n"+i+"\n```":i}parseMarked(t,i,r=!1){return i.renderer&&(sr.use({renderer:i.renderer}),delete i.renderer),r?sr.parseInline(t,i):sr.parse(t,i)}parseEmoji(t){if(!cd(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,i){if(cd(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,i)}}renderClipboard(t,i,r){if(!cd(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!i)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:o,buttonTemplate:s}=r,a=t.querySelectorAll("pre");for(let c=0;c<a.length;c++){const l=a.item(c),d=document.createElement("div");d.style.position="relative",l.parentNode.insertBefore(d,l),d.appendChild(l);const h=document.createElement("div");let p,_;h.style.position="absolute",h.style.top=".5em",h.style.right=".5em",h.style.opacity="0",h.style.transition="opacity 250ms ease-out",d.insertAdjacentElement("beforeend",h),l.onmouseover=()=>h.style.opacity="1",l.onmouseout=()=>h.style.opacity="0",p=o?i.createComponent(o).hostView:s?i.createEmbeddedView(s):i.createComponent(iq).hostView,p.rootNodes.forEach(v=>{v.onmouseover=()=>h.style.opacity="1",h.appendChild(v),_=new ClipboardJS(v,{text:()=>l.innerText})}),p.onDestroy(()=>_.destroy())}}renderMermaid(t,i=this.DEFAULT_MERMAID_OPTIONS){if(!cd(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const r=t.querySelectorAll(".mermaid");0!==r.length&&(mermaid.initialize(i),mermaid.run({nodes:r}))}trimIndentation(t){if(!t)return"";let i;return t.split("\n").map(r=>{let o=i;return r.length>0&&(o=isNaN(o)?r.search(/\S|$/):Math.min(r.search(/\S|$/),o)),isNaN(i)&&(i=o),o?r.substring(o):r}).join("\n")}static#e=this.\u0275fac=function(i){return new(i||n)(et(gFe,8),et(rq,8),et(bFe,8),et(ks),et(oq),et(Ap,8),et(t_))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})(),sq=(()=>{class n{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}constructor(t,i,r){this.element=t,this.markdownService=i,this.viewContainerRef=r,this.error=new Gt,this.load=new Gt,this.ready=new Gt,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new Qt}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(vi(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,i=!1){var r=this;return yn(function*(){const o={decodeHtml:i,inline:r.inline,emoji:r.emoji,mermaid:r.mermaid,disableSanitizer:r.disableSanitizer},s={clipboard:r.clipboard,clipboardOptions:{buttonComponent:r.clipboardButtonComponent,buttonTemplate:r.clipboardButtonTemplate},katex:r.katex,katexOptions:r.katexOptions,mermaid:r.mermaid,mermaidOptions:r.mermaidOptions},a=yield r.markdownService.parse(t,o);r.element.nativeElement.innerHTML=a,r.handlePlugins(),r.markdownService.render(r.element.nativeElement,s,r.viewContainerRef),r.ready.emit()})()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t).then(()=>{this.load.emit(t)})},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,BL.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,BL.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,i){const r=t.querySelectorAll("pre");for(let o=0;o<r.length;o++){const s=i instanceof Array?i:[i];r.item(o).classList.add(...s)}}setPluginOptions(t,i){const r=t.querySelectorAll("pre");for(let o=0;o<r.length;o++)Object.keys(i).forEach(s=>{const a=i[s];if(a){const c=this.toLispCase(s);r.item(o).setAttribute(c,a.toString())}})}toLispCase(t){const i=t.match(/([A-Z])/g);if(!i)return t;let r=t.toString();for(let o=0,s=i.length;o<s;o++)r=r.replace(new RegExp(i[o]),"-"+i[o].toLowerCase());return"-"===r.slice(0,1)&&(r=r.slice(1)),r}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(UL),xe(bs))};static#t=this.\u0275cmp=on({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[xr,kh],ngContentSelectors:fFe,decls:1,vars:0,template:function(i,r){1&i&&(Qi(),Cn(0))},encapsulation:2})}return n})();function AFe(n){return[UL,n?.loader??[],n?.clipboardOptions??[],n?.markedOptions??[],{provide:rq,useValue:n?.markedExtensions??[]},{provide:oq,useValue:n?.sanitize??Po.HTML}]}let MFe=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[AFe(t)]}}static forChild(){return{ngModule:n}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci]})}return n})();var aq;!function(n){let e;var r;let t,i;(r=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",r.Loose="loose",r.Antiscript="antiscript",r.Sandbox="sandbox",function(r){r.Base="base",r.Forest="forest",r.Dark="dark",r.Default="default",r.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(r){r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.Fatal=5]="Fatal"}(i=n.LogLevel||(n.LogLevel={}))}(aq||(aq={}));let cq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$t({type:n,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-mdc-card-sm-image","mdc-card__media"]})}return n})();function ab(n){return!0===n}function Vs(n){return null===n||typeof n>"u"}function ca(n){return!Vs(n)}function VL(n){return!!n}function pq(n){return Vs(n)?n:JSON.parse(JSON.stringify(n))}function mq(n){return ca(n)&&"object"==typeof n&&function jL(n){return"[object Object]"===Object.prototype.toString.call(n)}(n)}const pLe="NGXS_COMPUTED_OPTION",bq="NGXS_DATA_META",zL="NGXS_META",yq="NGXS_ARGUMENT_REGISTRY_META";let vq=(()=>{class n{constructor(t){this.subscription=null,this.sequence$=new tr(0),t&&(this.subscription=t.subscribe(()=>this.updateSequence()))}get sequenceValue(){return this.sequence$.getValue()}ngOnDestroy(){this.sequence$.next(0),this.subscription?.unsubscribe()}updateSequence(){this.sequence$.next(this.sequenceValue+1)}}return n.\u0275fac=function(t){return new(t||n)(et(Id,8))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})();function Fw(n){return n[bq]}let Kc=(()=>{class n{constructor(t,i,r){n.store=t.get(Id),n.ngZone=t.get(gn),n.factory=i,n.context=r,n.computed=t.get(vq),n.injector=t}}return n.store=null,n.computed=null,n.context=null,n.factory=null,n.ngZone=null,n.injector=null,n.\u0275fac=function(t){return new(t||n)(et(Gi),et(FY),et(LY))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})();class Oo{constructor(){Oo.statesCachedMeta.clear()}static createStateContext(e){return Kc.context.createStateContext(e)}static ensureMappedState(e){if(Vs(Kc.factory)||Vs(e))throw new Error("Metadata not created \n Maybe you forgot to import the NgxsDataPluginModule\n Also, you cannot use this.ctx.* until the application is fully rendered \n (use by default ngxsOnInit(ctx: StateContext), or ngxsAfterBootstrap(ctx: StateContext) !!!");return(ca(e.name)?Oo.statesCachedMeta.get(e.name):null)||Oo.ensureMeta(e)}static getRepositoryByInstance(e){const i=Fw(Oo.getStateClassByInstance(e))??null;if(Vs(i))throw new Error("You forgot add decorator @StateRepository or initialize state!\nExample: NgxsModule.forRoot([ .. ]), or NgxsModule.forFeature([ .. ])");return i}static getStateClassByInstance(e){return(e??{}).constructor}static clearMetaByInstance(e){const t=Oo.getRepositoryByInstance(e);t.stateMeta.actions={},t.operations={}}static createPayload(e,t){const i={},r=Array.from(e);for(const[o,s]of r.entries()){const a=t?.getPayloadTypeByIndex(o);ca(a)&&(i[a]=s)}return Object.keys(i).length>0?i:null}static createAction(e,t,i){const r=Oo.createPayload(t,i),o=function bLe(n){return class{constructor(t){if(t)for(const i of Object.keys(t))this[i]=t[i]}static get type(){return n}}}(e.type);return new o(r)}static ensureMeta(e){const t=ca(e.name)?Kc.factory.states?.find(i=>i.name===e.name):null;return ca(t)&&ca(e.name)&&Oo.statesCachedMeta.set(e.name,t),t}}Oo.statesCachedMeta=new Map,Oo.\u0275fac=function(e){return new(e||Oo)},Oo.\u0275prov=Dt({token:Oo,factory:Oo.\u0275fac}),new class yLe{constructor(){this.subject=new wp(1)}init(){this.subject.next()}onInit(e){this.subject.pipe(function Gu(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ei((r,o)=>n(r,o,i)):Wo,_r(1),t?Z_(e):KK(()=>new Ew))}()).subscribe(e)}reset(){this.subject.complete(),this.subject=new wp(1)}};class wLe extends Error{constructor(e){super(`Child states can only be added to an object. Cannot convert ${ca(e?.constructor)?e.constructor.name:e} to PlainObject`)}}function wq(n){return n.NGXS_OPTIONS_META??{name:""}}function xq(n){const e=wq(n),t=e.children??[],r=pq(void 0===e.defaults?{}:e.defaults);if(t.length>0){if(mq(r))return function xLe(n,e){return e.reduce((t,i)=>{const r=wq(i);if(function Nw(n){const e="string"==typeof n?n.trim():n;return[void 0,null,NaN,"",1/0].includes(e)}(r.name))throw new Error("State name not provided in class");return t[r.name.toString()]=xq(i),t},n??{})}(r,t);throw new wLe(r)}return r}function Eq(){return`__${pLe}__`}function Cq(n){return n[Eq()]??null}function Sq(){return Kc?.computed?.sequenceValue??0}function SLe(n){let e=!1;return em(n)&&(e=!0),e}function HL(n){return n[yq]}class ALe extends Error{constructor(e,t){super(`An argument with the name '${e}' already exists in the method '${t}'`)}}class MLe{constructor(){this.payloadMap=new Map,this.argumentMap=new Map}getPayloadTypeByIndex(e){return this.payloadMap.get(e)??null}getArgumentNameByIndex(e){return this.argumentMap.get(e)??null}createPayloadType(e,t,i){this.checkDuplicateName(e,t),this.payloadMap.set(i,e),this.payloadMap.set(e,e)}createArgumentName(e,t,i){this.checkDuplicateName(e,t),this.argumentMap.set(i,e),this.argumentMap.set(e,e)}checkDuplicateName(e,t){if(VL(this.argumentMap.has(e))||VL(this.payloadMap.has(e)))throw new ALe(e,t)}}function OLe(n){return{enumerable:!0,configurable:!0,get(){const e=Fw(n),t=Oo.ensureMappedState(e.stateMeta);return Oo.createStateContext(t)}}}function WL(n){if(!n)throw new Error("You forgot add decorator @StateRepository or initialize state!\nExample: NgxsModule.forRoot([ .. ]), or NgxsModule.forFeature([ .. ])");return{...n,getState:()=>n.getState(),setState(e){n.setState(e)},patchState(e){n.patchState(e)}}}const LLe={dataActionSubscribeRequired:!0},BLe=new mt("NGXS_DATA_CONFIG",{providedIn:"root",factory:()=>LLe});let ULe=(()=>{class n{constructor(t,i){this.accessor=t,this.injector=i}static forRoot(t=[]){return{ngModule:n,providers:[Oo,Kc,vq,...t]}}}return n.\u0275fac=function(t){return new(t||n)(et(Oo,2),et(Kc,2))},n.\u0275mod=Jt({type:n}),n.\u0275inj=Kt({}),n})();function $i(){return(n,e,t)=>{!function _Le(n,e){if(!function oLe(n,e){let t=n,i=!1;if(mq(t))for(;null!==t;){if(ab(t?.hasOwnProperty(e))){i=!!Object.getOwnPropertyDescriptor(t,e)?.get;break}t=Object.getPrototypeOf(t)}return i}(n,e?.toString()))throw new Error(`The method must be a getter for the computed decorator to work properly.\nExample: \n@Computed() get ${e.toString()}() { \n\t .. \n}`)}(n,e);const i=t.get;return t.get=function(...r){const o=function CLe(n){return Vs(Cq(n))&&Object.defineProperties(n,{[Eq()]:{enumerable:!0,configurable:!0,value:new WeakMap}}),Cq(n)}(this),s=o?.get(i);if(ab(s?.isObservable))return s?.value;if(Vs(s)||s.sequenceId!==Sq()){o.delete(i);const c=i.apply(this,r);return o.set(i,{value:c,sequenceId:Sq(),isObservable:SLe(c)}),c}return s?.value},t}}const VLe={cancelUncompleted:!0,insideZone:!1,subscribeRequired:!0};function ti(n={}){const e=function jLe(n){const e=Kc?.injector?.get(BLe,void 0,Ri.Optional),t={...VLe};return ca(e)&&void 0!==e?.dataActionSubscribeRequired&&(t.subscribeRequired=e.dataActionSubscribeRequired),{...t,...n}}(n);return(t,i,r)=>{!function gLe(n,e){if(n.hasOwnProperty("prototype"))throw new Error("Cannot support static methods with @DataAction()");if(void 0===e)throw new Error("@DataAction() can only decorate a method implementation")}(t,r);const o=r.value,s=i.toString();return r.value=function(...a){const c=this;let l=null;const d=Oo.getRepositoryByInstance(c),h=d.operations;let p=h[s];const _=d.stateMeta,v=HL(o);if(Vs(p)){const pe=function FLe(n){return String(n).replace(/\/\/.*$/gm,"").replace(/\s+/g,"").replace(/\/\*[^*/]*\*\//g,"").split("){",1)?.[0]?.replace(/^[^(]*\(/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean)??[]}(o),Re=function vLe(n){const{statePath:e,argumentsNames:t,methodName:i,argumentRegistry:r}=n;let o="";for(let s=0;s<t.length;s++)ca(r?.getArgumentNameByIndex(s))?o+=r?.getArgumentNameByIndex(s):ca(r?.getPayloadTypeByIndex(s))?o+=r?.getPayloadTypeByIndex(s):o+=`$arg${s}`,s!==t.length-1&&(o+=", ");return`@${e.replace(/\./g,"/")}.${i}(${o})`}({statePath:_.path,methodName:s,argumentsNames:pe,argumentRegistry:v});p=h[s]={type:Re,options:{cancelUncompleted:e.cancelUncompleted??!1}},ca(p)&&(_.actions[p.type]=[{type:p.type,options:p.options,fn:p.type}])}Oo.ensureMappedState(_).instance[p.type]=()=>(ab(e.insideZone)?Kc.ngZone?.run(()=>{l=o.apply(c,a)}):l=o.apply(c,a),em(l)&&ab(e.subscribeRequired)?In(null).pipe(Lt(()=>l)):l);const X=Oo.createAction(p,a,v),Q=Kc.store.dispatch(X);return em(l)?function ELe(n,e){return p0([n,e]).pipe(Lt(t=>t.pop()))}(Q,l):l},r}}function ns(n){return(e,t,i)=>{const r=n.trim();if(!r)throw new Error("Payload name should be initialized");(function TLe(n,e){const t=n[e];return Vs(HL(t))&&Object.defineProperties(t,{[yq]:{enumerable:!0,configurable:!0,value:new MLe}}),HL(t)})(e,t).createPayloadType(r,t,i)}}function hf(){return n=>{const e=function NLe(n){if(function XFe(n){return!VL(n)}(n.hasOwnProperty(zL))){const e={name:null,actions:{},defaults:{},path:null,makeRootSelector:t=>t.getStateGetter(e.name),children:[]};Object.defineProperty(n,zL,{value:e})}return function PLe(n){return n?.[zL]}(n)}(n);if(Vs(e.name))throw new Error("@StateRepository should be add before decorator @State");!function kLe(n,e){(function DLe(n){const e=Fw(n)??null;return(Vs(e)||e?.stateClass!==n)&&function ILe(n){Object.defineProperty(n,bq,{writable:!0,configurable:!0,enumerable:!0,value:{stateMeta:null,operations:{},stateClass:n}})}(n),Fw(n)}(n)).stateMeta=e}(n,e),function HLe(n,e,t){Object.defineProperties(n.prototype,{name:{enumerable:!0,configurable:!0,value:e.name},initialState:{enumerable:!0,configurable:!0,get:()=>pq(t)},context:OLe(n)})}(n,e,xq(n)),function RLe(n){const t=Fw(n)?.stateMeta?.name??null;if(ca(t)){const i=`__${t}__selector`;Object.defineProperties(n.prototype,{[i]:{writable:!0,enumerable:!1,configurable:!0},state$:{enumerable:!0,configurable:!0,get(){if(ca(this[i]))return this[i];if(Vs(Kc.store))throw new Error("Metadata not created \n Maybe you forgot to import the NgxsDataPluginModule\n Also, you cannot use this.ctx.* until the application is fully rendered \n (use by default ngxsOnInit(ctx: StateContext), or ngxsAfterBootstrap(ctx: StateContext) !!!");return this[i]=Kc.store.select(n).pipe(Lt(r=>r),Uc({refCount:!0,bufferSize:1})),this[i]}}})}}(n)}}var Aq=function(n){return n.ID="id",n}(Aq||{}),$L=function(n){return n.ASC="asc",n.DESC="desc",n}($L||{});let YL=(()=>{class n{constructor(){this._dirty=!0,this.browserStorageEvents$=new Qt,this.isInitialised=!1,this.isBootstrapped=!1}get dirty(){return this._dirty}set dirty(t){this._dirty=t}ngxsOnChanges(t){this.dirty&&this.isBootstrapped&&(this.dirty=!1,this.ngxsDataDoCheck?.())}ngxsOnInit(){this.isInitialised=!0}ngxsAfterBootstrap(){this.isBootstrapped=!0,this.dirty&&(this.dirty=!1,this.ngxsDataDoCheck?.())}markAsDirtyAfterReset(){this.dirty=!0,this.ngxsDataAfterReset?.()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})(),WLe=(()=>{class n extends YL{get snapshot(){return this.getState()}get ctx(){return WL(this.context)}patchState(t){this.ctx.patchState(t)}setState(t){this.ctx.setState(t)}reset(){this.ctx.setState(this.initialState),this.markAsDirtyAfterReset()}getState(){return this.ctx.getState()}dispatch(t){return this.ctx.dispatch(t)}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Hi(n)))(i||n)}})(),n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),Bt([$i(),ln("design:type",Object),ln("design:paramtypes",[])],n.prototype,"snapshot",null),Bt([ti(),Bo(0,ns("patchValue")),ln("design:type",Function),ln("design:paramtypes",[Object]),ln("design:returntype",void 0)],n.prototype,"patchState",null),Bt([ti(),Bo(0,ns("stateValue")),ln("design:type",Function),ln("design:paramtypes",[Object]),ln("design:returntype",void 0)],n.prototype,"setState",null),Bt([ti(),ln("design:type",Function),ln("design:paramtypes",[]),ln("design:returntype",void 0)],n.prototype,"reset",null),n})(),$Le=(()=>{class n extends YL{constructor(){super(...arguments),this.primaryKey=Aq.ID,this.comparator=null}get snapshot(){return this.getState()}get ids(){return this.snapshot.ids}get entities(){return this.snapshot.entities}get entitiesArray(){const t=this.snapshot;return t.ids.map(i=>t.entities[i])}get ids$(){return this.state$.pipe(Lt(t=>t.ids))}get entities$(){return this.state$.pipe(Lt(t=>t.entities))}get entitiesArray$(){return this.state$.pipe(Lt(t=>t.ids.map(i=>t.entities[i])))}get ctx(){return WL(this.context)}reset(){this.setEntitiesState(this.initialState),this.markAsDirtyAfterReset()}addOne(t){this.addEntityOne(t)}addMany(t){this.addEntitiesMany(t)}setOne(t){this.setEntityOne(t)}setMany(t){this.setEntitiesMany(t)}setAll(t){this.setEntitiesAll(t)}updateOne(t){this.updateEntitiesMany([t])}updateMany(t){this.updateEntitiesMany(t)}upsertOne(t){this.upsertEntitiesMany([t])}upsertMany(t){this.upsertEntitiesMany(t)}removeOne(t){this.removeEntitiesMany([t])}removeMany(t){this.removeEntitiesMany(t)}removeByEntity(t){const i=this.selectId(t);this.removeEntitiesMany([i])}removeByEntities(t){const i=[];for(const r of t){const o=this.selectId(r);i.push(o)}this.removeEntitiesMany(i)}removeAll(){this.setAll([])}sort(t){this.comparator=t??this.comparator,Vs(this.comparator)?console.warn("You must set the compare function before sorting."):this.setEntitiesState(this.getState())}patchState(t){this.ctx.patchState(t)}setComparator(t){return this.comparator=t,this}dispatch(t){return this.ctx.dispatch(t)}getState(){return this.ctx.getState()}selectId(t){return t?.[this.primaryKey]}selectOne(t){return this.snapshot.entities[t]??null}selectAll(){const t=this.getState();return t.ids.map(i=>t.entities[i])}addEntityOne(t){const i=this.getState(),r=this.selectIdValue(t);r in i.entities||this.setEntitiesState({...i,ids:[...i.ids,r],entities:{...i.entities,[r]:t}})}addEntitiesMany(t){const i=this.getState(),r={},o=[];for(const s of t){const a=this.selectIdValue(s);a in i.entities||a in r||(o.push(a),r[a]=s)}o.length>0&&this.setEntitiesState({...i,ids:[...i.ids,...o],entities:{...i.entities,...r}})}setEntitiesAll(t){const i=this.getState(),r={},o=[];for(const s of t){const a=this.selectIdValue(s);a in r||(o.push(a),r[a]=s)}this.setEntitiesState({...i,ids:o,entities:r})}setEntityOne(t){const i=this.getState(),r=this.selectIdValue(t);this.setEntitiesState(r in i.entities?{...i,entities:{...i.entities,[r]:t}}:{...i,ids:[...i.ids,r],entities:{...i.entities,[r]:t}})}setEntitiesMany(t){for(const i of t)this.setEntityOne(i)}updateEntitiesMany(t){const i=this.getState(),r=t.filter(a=>a.id in i.entities);if(0===r.length)return;const o=this.generateKeyMap(i),s={...i.entities};for(const a of r){const c=this.updateOrigin(s,a),l=this.selectIdValue(c);l!==a.id&&(delete o[a.id],delete s[a.id]),o[a.id]=l,s[l]=c}this.setEntitiesState({...i,ids:i.ids.map(a=>o[a]??a),entities:s})}upsertEntitiesMany(t){const i=this.getState(),r=[],o=[];for(const s of t){const a=this.selectIdValue(s);a in i.entities?r.push({id:a,changes:s}):o.push(s)}this.updateMany(r),this.addMany(o)}removeEntitiesMany(t){const i=this.getState(),r=this.generateKeyMap(i),o={...i.entities};for(const s of t)s in o&&(delete r[s],delete o[s]);this.setEntitiesState({...i,ids:i.ids.filter(s=>s in r),entities:o})}setEntitiesState(t){const i=this.sortKeysByComparator(t.ids,t.entities);this.ctx.patchState({...t,ids:i,entities:t.entities})}sortKeysByComparator(t,i){if(Vs(this.comparator))return t;const r=t.slice(),o=this.comparator;return"function"==typeof o?r.sort((s,a)=>o(i[s],i[a])):this.sortByComparatorOptions(r,o,i)}sortByComparatorOptions(t,i,r){switch(i?.sortByOrder){case $L.ASC:return t.sort((o,s)=>function cLe(n,e,t){return e?.[n]>t?.[n]?1:e?.[n]<t?.[n]?-1:0}(i?.sortBy,r[o],r[s]));case $L.DESC:return t.sort((o,s)=>function lLe(n,e,t){return e?.[n]>t?.[n]?-1:e?.[n]<t?.[n]?1:0}(i?.sortBy,r[o],r[s]));default:return t}}generateKeyMap(t){return t.ids.reduce((i,r)=>(i[r]=r,i),{})}updateOrigin(t,i){return{...t[i.id],...i.changes}}selectIdValue(t){const i=this.selectId(t);return Vs(i),i}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Hi(n)))(i||n)}})(),n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),Bt([$i(),ln("design:type",Object),ln("design:paramtypes",[])],n.prototype,"snapshot",null),Bt([$i(),ln("design:type",Array),ln("design:paramtypes",[])],n.prototype,"ids",null),Bt([$i(),ln("design:type",Object),ln("design:paramtypes",[])],n.prototype,"entities",null),Bt([$i(),ln("design:type",Array),ln("design:paramtypes",[])],n.prototype,"entitiesArray",null),Bt([$i(),ln("design:type",$e),ln("design:paramtypes",[])],n.prototype,"ids$",null),Bt([$i(),ln("design:type",$e),ln("design:paramtypes",[])],n.prototype,"entities$",null),Bt([$i(),ln("design:type",$e),ln("design:paramtypes",[])],n.prototype,"entitiesArray$",null),Bt([ti(),ln("design:type",Function),ln("design:paramtypes",[]),ln("design:returntype",void 0)],n.prototype,"reset",null),Bt([ti(),Bo(0,ns("entity")),ln("design:type",Function),ln("design:paramtypes",[Object]),ln("design:returntype",void 0)],n.prototype,"addOne",null),Bt([ti(),Bo(0,ns("entities")),ln("design:type",Function),ln("design:paramtypes",[Array]),ln("design:returntype",void 0)],n.prototype,"addMany",null),Bt([ti(),Bo(0,ns("entity")),ln("design:type",Function),ln("design:paramtypes",[Object]),ln("design:returntype",void 0)],n.prototype,"setOne",null),Bt([ti(),Bo(0,ns("entities")),ln("design:type",Function),ln("design:paramtypes",[Array]),ln("design:returntype",void 0)],n.prototype,"setMany",null),Bt([ti(),Bo(0,ns("entities")),ln("design:type",Function),ln("design:paramtypes",[Array]),ln("design:returntype",void 0)],n.prototype,"setAll",null),Bt([ti(),Bo(0,ns("update")),ln("design:type",Function),ln("design:paramtypes",[Object]),ln("design:returntype",void 0)],n.prototype,"updateOne",null),Bt([ti(),Bo(0,ns("updates")),ln("design:type",Function),ln("design:paramtypes",[Array]),ln("design:returntype",void 0)],n.prototype,"updateMany",null),Bt([ti(),Bo(0,ns("entity")),ln("design:type",Function),ln("design:paramtypes",[Object]),ln("design:returntype",void 0)],n.prototype,"upsertOne",null),Bt([ti(),Bo(0,ns("entities")),ln("design:type",Function),ln("design:paramtypes",[Array]),ln("design:returntype",void 0)],n.prototype,"upsertMany",null),Bt([ti(),Bo(0,ns("id")),ln("design:type",Function),ln("design:paramtypes",[Object]),ln("design:returntype",void 0)],n.prototype,"removeOne",null),Bt([ti(),Bo(0,ns("ids")),ln("design:type",Function),ln("design:paramtypes",[Array]),ln("design:returntype",void 0)],n.prototype,"removeMany",null),Bt([ti(),Bo(0,ns("entity")),ln("design:type",Function),ln("design:paramtypes",[Object]),ln("design:returntype",void 0)],n.prototype,"removeByEntity",null),Bt([ti(),Bo(0,ns("entities")),ln("design:type",Function),ln("design:paramtypes",[Array]),ln("design:returntype",void 0)],n.prototype,"removeByEntities",null),Bt([ti(),ln("design:type",Function),ln("design:paramtypes",[]),ln("design:returntype",void 0)],n.prototype,"removeAll",null),Bt([ti(),Bo(0,ns("comparator")),ln("design:type",Function),ln("design:paramtypes",[Object]),ln("design:returntype",void 0)],n.prototype,"sort",null),Bt([ti(),Bo(0,ns("patchValue")),ln("design:type",Function),ln("design:paramtypes",[Object]),ln("design:returntype",void 0)],n.prototype,"patchState",null),n})(),cb=(()=>{class n extends YL{get snapshot(){return this.getState()}get ctx(){return WL(this.context)}patchState(t){this.ctx.patchState(t)}setState(t){this.ctx.setState(t)}reset(){this.ctx.setState(this.initialState),this.markAsDirtyAfterReset()}getState(){return this.ctx.getState()}dispatch(t){return this.ctx.dispatch(t)}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Hi(n)))(i||n)}})(),n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),Bt([$i(),ln("design:type",Object),ln("design:paramtypes",[])],n.prototype,"snapshot",null),Bt([ti(),Bo(0,ns("patchValue")),ln("design:type",Function),ln("design:paramtypes",[Object]),ln("design:returntype",void 0)],n.prototype,"patchState",null),Bt([ti(),Bo(0,ns("stateValue")),ln("design:type",Function),ln("design:paramtypes",[Object]),ln("design:returntype",void 0)],n.prototype,"setState",null),Bt([ti(),ln("design:type",Function),ln("design:paramtypes",[]),ln("design:returntype",void 0)],n.prototype,"reset",null),n})();function XL(){return Ei(n=>null!=n)}const YLe={};function KL(...n){const e=n[n.length-1];let t=n,i=YLe;return"object"==typeof e&&(i=e,t=t.slice(0,-1)),r=>r.pipe(CL(...t),ia(i.compare),Uc(1))}Error;const xM=new mt("ngx-google-analytics-settings",{factory:()=>({trackingCode:"",enableTracing:!1})}),SB=new mt("ngx-window",{providedIn:"root",factory:()=>{const{defaultView:n}=Ft(Qn);if(!n)throw new Error("Window is not available");return n}}),dUe=new mt("ngx-data-layer",{providedIn:"root",factory:()=>function lUe(n){return n?n.dataLayer=n.dataLayer||[]:null}(Ft(SB))}),CJ=new mt("ngx-gtag-fn",{providedIn:"root",factory:()=>function uUe(n,e){return n?n.gtag=n.gtag||function(){e.push(arguments)}:null}(Ft(SB),Ft(dUe))});let la=(()=>{class n{constructor(t,i,r){this.settings=t,this._document=i,this._gtag=r}get document(){return this._document}throw(t){this.settings.enableTracing&&console&&console.error&&console.error(t)}toKeyValue(t){return t.size>0?Array.from(t).reduce((i,[r,o])=>Object.defineProperty(i,r,{value:o,enumerable:!0}),{}):void 0}gtag(...t){try{this._gtag(...t.filter(i=>void 0!==i))}catch(i){this.throw(i)}}event(t,i,r,o,s,a){try{const c=new Map;i&&c.set("event_category",i),r&&c.set("event_label",r),o&&c.set("value",o),void 0!==s&&c.set("interaction",s),a&&Object.entries(a).map(([d,h])=>c.set(d,h));const l=this.toKeyValue(c);l?this.gtag("event",t,l):this.gtag("event",t)}catch(c){this.throw(c)}}pageView(t,i,r,o){try{const s=new Map([["page_path",t]]);i&&s.set("page_title",i),(r||this.document)&&s.set("page_location",r||this.document.location.href),o&&Object.entries(o).map(([a,c])=>s.set(a,c)),this.gtag("config",this.settings.trackingCode,this.toKeyValue(s))}catch(s){this.throw(s)}}appView(t,i,r,o,s){try{const a=new Map([["screen_name",t],["app_name",i]]);r&&a.set("app_id",r),o&&a.set("app_version",o),s&&a.set("app_installer_id",s),this.gtag("event","screen_view",this.toKeyValue(a))}catch(a){this.throw(a)}}set(...t){try{this._gtag("set",...t)}catch(i){this.throw(i)}}exception(t,i){try{const r=new Map;t&&r.set("description",t),i&&r.set("fatal",i),this.toKeyValue(r)?this.gtag("event","exception",this.toKeyValue(r)):this.gtag("event","exception")}catch(r){this.throw(r)}}}return n.\u0275fac=function(t){return new(t||n)(et(xM),et(Qn),et(CJ))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fUe={provide:Lk,multi:!0,useFactory:function pUe(n,e,t){return yn(function*(){if(!n.trackingCode)return void console.error("Empty tracking code for Google Analytics. Make sure to provide one when initializing NgxGoogleAnalyticsModule.");if(!e)return void console.error("Was not possible create or read gtag() fn. Make sure this module is running on a Browser w/ access to Window interface.");t||console.error("Was not possible to access Document interface. Make sure this module is running on a Browser w/ access do Document interface."),n.uri=n.uri||`https://www.googletagmanager.com/gtag/js?id=${n.trackingCode}`,n.initCommands=n?.initCommands??[],n.initCommands.find(o=>"config"===o.command)||n.initCommands.unshift({command:"config",values:[n.trackingCode]}),n.initCommands.find(o=>"js"===o.command)||n.initCommands.unshift({command:"js",values:[new Date]});for(const o of n.initCommands)e(o.command,...o.values);const i=t.createElement("script");i.async=!0,i.src=n.uri,n.nonce&&i.setAttribute("nonce",n.nonce),t.getElementsByTagName("head")[0].appendChild(i)})},deps:[xM,CJ,Qn]};new mt("ngx-google-analytics-routing-settings",{factory:()=>({})});let AJ=(()=>{class n{static forRoot(t,i=[],r,o,s){return{ngModule:n,providers:[{provide:xM,useValue:{trackingCode:t,initCommands:i,uri:r,enableTracing:o,nonce:s}},fUe]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Jt({type:n}),n.\u0275inj=Kt({}),n})(),Zw=(()=>{class n{constructor(){this.consent="not-set",this.consentChange=new wp(1),this.consentChange.next(this.consent)}ngOnDestroy(){this.consentChange.complete()}setConsent(t){this.consent!==t&&(this.consent=t,this.consentChange.next(t))}unsetConsent(){this.setConsent("not-set")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})(),_Ue=(()=>{class n{constructor(t,i,{trackingCode:r}){this.window=i,this.subscriptions=new wt,this.token=r,this.subscriptions.add(t.consentChange.subscribe(o=>this.toggleGoogleAnalytics("rescinded"===o)))}ngOnDestroy(){this.subscriptions.unsubscribe()}toggleGoogleAnalytics(t){this.window&&(this.window[`ga-disable-${this.token}`]=t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Zw),et(SB),et(xM))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();const bUe=new mt("Key under which consent is stored",{providedIn:"root",factory:()=>"ALLOW_TELEMETRY"}),MJ=[Zw,_Ue,(()=>{class n{constructor(t,i){this.key=i,this.subscriptions=new wt;try{this.storage=localStorage}catch{}t.setConsent(this.loadConsent()),this.subscriptions.add(t.consentChange.subscribe(r=>this.saveConsent(r)))}ngOnDestroy(){this.subscriptions.unsubscribe()}loadConsent(){const t=this.storage?.getItem?.(this.key);if(null==t)return"not-set";const i=t.trim().toLowerCase();switch(i){case"given":case"rescinded":return i;default:return"not-set"}}saveConsent(t){this.storage?.setItem?.(this.key,t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Zw),et(bUe))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})()];function yUe(n){return Object.entries(n).reduce((e,[t,i])=>(null!=i&&(e[t]=`${i}`),e),{})}let wUe=(()=>{class n{static forRoot(t){const{providers:i=[]}=AJ.forRoot(t.gaToken,function vUe(n){const{appName:e,projectName:t,developmentMode:i}=n;return[{command:"set",values:[yUe({appName:e,projectName:t,developmentMode:i})]}]}(t));return{ngModule:n,providers:i}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[...MJ,{provide:Lk,multi:!0,useFactory:()=>()=>{},deps:MJ}],imports:[AJ]})}return n})();class TJ extends Error{constructor(){super(...arguments),this.message="NgxsDispatchPluginModule is not imported"}}class MUe{constructor(){this.cancelUncompleted$=new Qt}cancelPreviousAction(){this.cancelUncompleted$.next()}}const AB="\u0275fac",IJ=Symbol("InjectorInstance"),DJ=Symbol("FactoryHasBeenDecorated");function kJ(n,e){const t=n[IJ];return t?t.get(e):null}const DUe={cancelUncompleted:!1};function OJ(n=DUe){return(e,t,i)=>{let r;const o=function TUe(n){return n?new MUe:null}(n.cancelUncompleted);function s(){null!==o&&o.cancelPreviousAction();const a=kJ(this,Id)||function SUe(){throw new TJ}(),c=kJ(this,gn)||function AUe(){throw new TJ}(),l=r.apply(this,arguments);return c.runOutsideAngular(()=>function CUe(n,e,t){return Xg(e)?function EUe(n,e){return e.then(t=>(n.dispatch(t),t))}(n,e):em(e)?function xUe(n,e,t){return null!==t&&(e=e.pipe(vi(t.cancelUncompleted$))),e.subscribe({next:i=>n.dispatch(i)}),e}(n,e,t):(n.dispatch(e),e)}(a,l,o))}"function"==typeof i?.value?(r=i.value,i.value=s):Object.defineProperty(e,t,{set:a=>r=a,get:()=>s}),function IUe(n){if(DJ in n.constructor.prototype)return;const e=n.constructor;"function"==typeof e[AB]&&function MB(n){const e=n[AB];if("function"!=typeof e)return;const t=n.\u0275prov||n.\u0275pipe||n.\u0275cmp||n.\u0275dir,i=()=>{const r=e();return r[IJ]=xe(cu),r};t&&(t.factory=i),Object.defineProperty(n,AB,{get:()=>i})}(e),n.constructor.prototype[DJ]=!0}(e)}}const kUe=["input"],OUe=["label"],RUe=["*"],PUe=new mt("mat-checkbox-default-options",{providedIn:"root",factory:RJ});function RJ(){return{color:"accent",clickAction:"check-indeterminate"}}const NUe={provide:xs,useExisting:Ee(()=>TB),multi:!0};class FUe{}let LUe=0;const PJ=RJ();let TB=(()=>{class n{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const i=new FUe;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._animationMode=s,this._options=a,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Gt,this.indeterminateChange=new Gt,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||PJ,this.color=this._options.color||PJ.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++LUe}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=t,i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_transitionCheckState(t){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(Mi),xe(gn),Ks("tabindex"),xe(Lr,8),xe(PUe,8))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-checkbox"]],viewQuery:function(i,r){if(1&i&&(mi(kUe,5),mi(OUe,5),mi(za,5)),2&i){let o;pn(o=mn())&&(r._inputElement=o.first),pn(o=mn())&&(r._labelElement=o.first),pn(o=mn())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(i,r){2&i&&(ea("id",r.id),Yn("tabindex",null)("aria-label",null)("aria-labelledby",null),_i(r.color?"mat-"+r.color:"mat-accent"),un("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:["required","required",Ki],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:["disableRipple","disableRipple",Ki],tabIndex:["tabIndex","tabIndex",t=>null==t?void 0:Iz(t)],color:"color",checked:["checked","checked",Ki],disabled:["disabled","disabled",Ki],indeterminate:["indeterminate","indeterminate",Ki]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Gn([NUe]),fl],ngContentSelectors:RUe,decls:15,vars:20,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(i,r){if(1&i&&(Qi(),Xe(0,"div",0),kt("click",function(s){return r._preventBubblingFromLabel(s)}),Xe(1,"div",1,2)(3,"div",3),kt("click",function(){return r._onTouchTargetClick()}),qe(),Xe(4,"input",4,5),kt("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(s){return r._onInteractionEvent(s)}),qe(),fn(6,"div",6),Xe(7,"div",7),Qd(),Xe(8,"svg",8),fn(9,"path",9),qe(),Ff(),fn(10,"div",10),qe(),fn(11,"div",11),qe(),Xe(12,"label",12,13),Cn(14),qe()()),2&i){const o=Yr(2);un("mdc-form-field--align-end","before"==r.labelPosition),st(4),un("mdc-checkbox--selected",r.checked),bt("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.disabled?-1:r.tabIndex),Yn("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("name",r.name)("value",r.value),st(7),bt("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),st(),bt("for",r.inputId)}},dependencies:[za],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),NJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({})}return n})(),FJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[Bi,Ha,NJ,Bi,NJ]})}return n})(),LJ=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=ei(t)}get inset(){return this._inset}set inset(t){this._inset=ei(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(Yn("aria-orientation",r.vertical?"vertical":"horizontal"),un("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return n})(),EM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[Bi,Bi]})}return n})();const _4e=["bodyCanvas"];let b4e=(()=>{class n{constructor(){this.clsName="ccf-body-ui",this.rotationChange=new Gt,this.nodeDrag=new Gt,this.nodeClick=new Gt,this.nodeHoverStart=new Gt,this.nodeHoverStop=new Gt,this.initialized=new Gt,this._interactive=!0,this._rotation=0,this._rotationX=0,this._zoom=9.5,this._target=[0,0,0],this._scene=[],this.subscriptions=[]}get scene(){return this._scene}set scene(t){this._scene=t,this.bodyUI?.setScene(t)}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this.bodyUI?.setRotation(t)}get rotationX(){return this._rotationX}set rotationX(t){this._rotationX=t,this.bodyUI?.setRotationX(t)}get zoom(){return this._zoom}set zoom(t){this._zoom=t,this.bodyUI?.setZoom(t)}get target(){return this._target}set target(t){this._target=t,this.bodyUI?.setTarget(t)}get bounds(){return this._bounds}set bounds(t){this._bounds=t,this.zoomToBounds(t)}get camera(){return this._camera}set camera(t){this._camera=t}get interactive(){return this._interactive}set interactive(t){this._interactive=t,this.bodyUI&&this.recreateBodyUI()}ngAfterViewInit(){this.setupBodyUI()}zoomToBounds(t,i={x:48,y:48}){if(this.bodyCanvas){const{width:r,height:o}=this.bodyCanvas.nativeElement,s=window.devicePixelRatio,a=Math.min(Math.log2((r-i.x)/s/t.x),Math.log2((o-i.y)/s/t.y));this.zoom=a}}setupBodyUI(){var t=this;return yn(function*(){const i=t.bodyCanvas.nativeElement,r=new RRe({id:"body-ui",canvas:i,zoom:t.zoom,target:[0,0,0],rotation:0,minRotationX:-75,maxRotationX:75,interactive:t.interactive,camera:t.camera});i.addEventListener("contextmenu",o=>o.preventDefault()),yield r.initialize(),t.bodyUI=r,window.bodyUI=r,t.scene?.length>0&&t.bodyUI.setScene(t.scene),t.bounds&&t.zoomToBounds(t.bounds),t.target&&t.bodyUI.setTarget(t.target),t.subscriptions=[t.bodyUI.sceneRotation$.subscribe(o=>t.rotationChange.next(o)),t.bodyUI.nodeDrag$.subscribe(o=>t.nodeDrag.emit(o)),t.bodyUI.nodeClick$.subscribe(o=>t.nodeClick.emit(o)),t.bodyUI.nodeHoverStart$.subscribe(o=>t.nodeHoverStart.emit(o)),t.bodyUI.nodeHoverStop$.subscribe(o=>t.nodeHoverStop.emit(o))],t.initialized.emit()})()}recreateBodyUI(){this.clearSubscriptions(),this.bodyUI.finalize(),this.setupBodyUI()}clearSubscriptions(){this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions=[]}ngOnDestroy(){this.clearSubscriptions()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-body-ui"]],viewQuery:function(i,r){if(1&i&&mi(_4e,5,vn),2&i){let o;pn(o=mn())&&(r.bodyCanvas=o.first)}},hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{scene:"scene",rotation:"rotation",rotationX:"rotationX",zoom:"zoom",target:"target",bounds:"bounds",camera:"camera",interactive:"interactive"},outputs:{rotationChange:"rotationChange",nodeDrag:"nodeDrag",nodeClick:"nodeClick",nodeHoverStart:"nodeHoverStart",nodeHoverStop:"nodeHoverStop",initialized:"initialized"},decls:2,vars:0,consts:[[1,"body-ui"],["bodyCanvas",""]],template:function(i,r){1&i&&fn(0,"canvas",0,1)},styles:["[_nghost-%COMP%]{height:100%;display:block}[_nghost-%COMP%]   .body-ui[_ngcontent-%COMP%]{position:relative!important;background-color:#000;border-radius:.5rem}"],changeDetection:0})}return n})(),y4e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci]})}return n})();function C4e(n,e){if(1&n&&(Xe(0,"li",4),Ut(1),Xn(2,"json"),qe()),2&n){const t=e.$implicit;st(),U1(" ",t[0],": ",ri(2,2,t[1])," ")}}function S4e(n,e){if(1&n&&(Xe(0,"div",1)(1,"div"),Ut(2),qe(),Xe(3,"ul",2),an(4,C4e,3,4,"li",3),qe()()),2&n){const t=e.$implicit;st(2),Xr(t[0]),st(2),bt("ngForOf",t[1])}}let A4e=(()=>{class n{get data(){return Object.entries(this.root).map(([o,s])=>[o,Object.entries(s)]).filter(([o,s])=>s.length>0)}constructor(t,i){this.clsName="ccf-store-debug",this.root={},this.subscriptions=new wt;const r=t.subscribe(o=>{this.root=o,i.markForCheck()});this.subscriptions.add(r)}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Id),xe(Mi))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-store-debug"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},decls:1,vars:1,consts:[["class","state",4,"ngFor","ngForOf"],[1,"state"],[1,"kvlist"],["class","kvpair",4,"ngFor","ngForOf"],[1,"kvpair"]],template:function(i,r){1&i&&an(0,S4e,5,2,"div",0),2&i&&bt("ngForOf",r.data)},dependencies:[ja,Kz],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})(),M4e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci]})}return n})();new mt("Maximum number of autocomplete options displayed",{providedIn:"root",factory:()=>10});const ex=[{src:"app:skin",organ:"Skin",name:"Skin",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002097"},{src:"app:brain",organ:"Brain",name:"Brain",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000955"},{disabled:!0,src:"app:lymph-nodes",organ:"Lymph Node",name:"Lymph Node",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000029"},{src:"app:lymph-nodes",organ:"Lymph Node",name:"Lymph Node",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002509"},{disabled:!0,src:"app:eye",organ:"Eye",name:"Eye, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000970"},{src:"app:eye",organ:"Eye",name:"Eye, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004548"},{src:"app:eye",organ:"Eye",name:"Eye, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004549"},{disabled:!0,src:"app:fallopian-tube-left",organ:"Fallopian Tube",name:"Fallopian Tube, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0003889"},{src:"app:fallopian-tube-left",organ:"Fallopian Tube",name:"Fallopian Tube, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001303"},{src:"app:fallopian-tube-right",organ:"Fallopian Tube",name:"Fallopian Tube, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001302"},{src:"app:heart",organ:"Heart",name:"Heart",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000948"},{disabled:!0,src:"app:kidney-left",organ:"Kidney",name:"Kidney, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002113"},{src:"app:kidney-left",organ:"Kidney",name:"Kidney, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004538"},{src:"app:kidney-right",organ:"Kidney",name:"Kidney, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004539"},{disabled:!0,src:"app:knee",organ:"Knee",name:"Knee, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001465"},{src:"app:knee",organ:"Knee",name:"Knee, L",side:"left",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma24978"},{src:"app:knee",organ:"Knee",name:"Knee, R",side:"right",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma24977"},{src:"app:liver",organ:"Liver",name:"Liver",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002107"},{disabled:!0,src:"app:lung",organ:"Lung",name:"Lungs",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002048"},{src:"app:lung",organ:"Lung",name:"Lungs",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001004"},{disabled:!0,src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001911"},{src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma57991"},{src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma57987"},{disabled:!0,src:"app:ovary-left",organ:"Ovary",name:"Ovary, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0000992"},{src:"app:ovary-left",organ:"Ovary",name:"Ovary, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma7214"},{src:"app:ovary-right",organ:"Ovary",name:"Ovary, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma7213"},{src:"app:larynx",organ:"Larynx",name:"Larynx",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001737"},{src:"app:main-bronchus",organ:"Main Bronchus",name:"Main Bronchus",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002182"},{disabled:!0,src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002373"},{src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, L",side:"left",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma54974"},{src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, R",side:"right",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma54973"},{src:"app:pancreas",organ:"Pancreas",name:"Pancreas",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001264"},{src:"app:pelvis-f",organ:"Pelvis",name:"Pelvis",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001270"},{src:"app:placenta",organ:"Placenta",name:"Placenta",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001987"},{src:"app:prostate",organ:"Prostate",name:"Prostate",hasSex:!1,sex:"male",id:"http://purl.obolibrary.org/obo/UBERON_0002367",disabled:!0},{src:"app:prostate",organ:"Prostate",name:"Prostate",hasSex:!1,sex:"male",id:"http://purl.obolibrary.org/obo/UBERON_0000079"},{src:"app:small-intestine",organ:"Small Intestine",name:"Small Intestine",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002108"},{src:"app:large-intestine",organ:"Large Intestine",name:"Large Intestine",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000059"},{src:"app:spinal-cord",organ:"Spinal Cord",name:"Spinal Cord",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002240"},{src:"app:spleen",organ:"Spleen",name:"Spleen",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002106"},{src:"app:thymus",organ:"Thymus",name:"Thymus",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002370"},{src:"app:trachea",organ:"Trachea",name:"Trachea",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0003126"},{disabled:!0,src:"app:ureter-left",organ:"Ureter",name:"Ureter, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000056"},{src:"app:ureter-left",organ:"Ureter",name:"Ureter, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001223"},{src:"app:ureter-right",organ:"Ureter",name:"Ureter, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001222"},{src:"app:bladder",organ:"Urinary Bladder",name:"Urinary Bladder",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001255"},{src:"app:uterus",organ:"Uterus",name:"Uterus",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0000995"},{src:"app:vasculature-thick",organ:"Blood Vasculature",name:"Blood Vasculature",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004537"},{disabled:!0,src:"app:vasculature-thick",organ:"Blood Vasculature",name:"Blood Vasculature",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002049"}].sort((n,e)=>n.name.localeCompare(e.name)).filter(n=>!0!==n.disabled);let U4e=(()=>{class n{constructor(){this.clsName="ccf-opacity-slider",this.opacity=20,this.visible=!0,this.opacityChange=new Gt,this.visibilityToggle=new Gt,this.opacityReset=new Gt,this.sliderChanged=new Gt}ngOnInit(){this.prevOpacity=this.visible?0:20}reset(){this.prevOpacity=20}toggleVisibility(){const t=this.opacity;this.opacity=this.prevOpacity,this.prevOpacity=t,this.visibilityToggle.emit(),this.opacityChange.emit(this.opacity)}resetOpacity(){this.prevOpacity=0,this.opacityReset.emit()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-opacity-slider"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{opacity:"opacity",visible:"visible"},outputs:{opacityChange:"opacityChange",visibilityToggle:"visibilityToggle",opacityReset:"opacityReset",sliderChanged:"sliderChanged"},decls:12,vars:18,consts:[[1,"slider-box"],[1,"slider-and-label"],[1,"slider",3,"step","min","max","disableRipple"],["matSliderThumb","",1,"opacity-slider",3,"value","input"],["slider",""],[1,"opacity-value"],[1,"icons"],["matRipple","","svgIcon","app:visibility_off",1,"visibility","icon","invisible",3,"matRippleCentered","matRippleUnbounded","click"],["matRipple","","svgIcon","app:visibility_on",1,"visibility","icon","visible",3,"matRippleCentered","matRippleUnbounded","click"],["matRipple","",1,"icon","reset",3,"matRippleCentered","matRippleUnbounded","click"]],template:function(i,r){if(1&i){const o=$r();Xe(0,"div",0)(1,"div",1)(2,"mat-slider",2)(3,"input",3,4),kt("input",function(){ii(o);const a=Yr(4);return Pn(r.opacityChange.emit(+a.value))}),qe()(),Xe(5,"span",5),Ut(6),qe()(),Xe(7,"div",6)(8,"mat-icon",7),kt("click",function(){return r.toggleVisibility()}),qe(),Xe(9,"mat-icon",8),kt("click",function(){return r.toggleVisibility()}),qe(),Xe(10,"mat-icon",9),kt("click",function(){return r.resetOpacity()}),Ut(11,"refresh"),qe()()()}2&i&&(st(2),un("disabled",!r.visible),bt("step",1)("min",0)("max",100)("disableRipple",!0),st(),bt("value",r.opacity),st(3),Kr("",r.opacity,"%"),st(2),un("hidden",r.opacity>0),bt("matRippleCentered",!0)("matRippleUnbounded",!0),st(),un("hidden",0===r.opacity),bt("matRippleCentered",!0)("matRippleUnbounded",!0),st(),bt("matRippleCentered",!0)("matRippleUnbounded",!0))},dependencies:[ws,AK,qA,za],styles:["[_nghost-%COMP%]{height:2.25rem;display:flex;align-items:center;justify-content:space-between;border-radius:.1875rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;height:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]{width:60%;display:flex;align-items:center;height:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]     mat-slider-visual-thumb{transition:none}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]     .mat-ripple{display:none}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   .opacity-value[_ngcontent-%COMP%]{width:1.5rem;margin-left:.5rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;cursor:pointer!important}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{margin-right:1rem;padding:.25rem;cursor:pointer;transition:.6s;border-radius:.25rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .visibility[_ngcontent-%COMP%]{transition:.6s;cursor:pointer;padding:.25rem;border-radius:.25rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .visibility.hidden[_ngcontent-%COMP%]{display:none}"],changeDetection:0})}return n})(),YJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,qr,MK,Ha]})}return n})();function V4e(n,e){if(1&n&&(Xe(0,"div",16),fn(1,"youtube-player",17),qe()),2&n){const t=rn(3);st(),jv("videoId",t.videoID)}}function j4e(n,e){if(1&n&&(Xe(0,"mat-expansion-panel",11)(1,"mat-expansion-panel-header")(2,"h2",12),Ut(3),qe()(),Xe(4,"div",13),fn(5,"markdown",14),an(6,V4e,2,1,"div",15),qe()()),2&n){const t=rn(),i=t.index,r=t.$implicit;bt("expanded",0===i),st(3),Xr(r.title),st(2),un("first",0===i),bt("data",r.content),st(),bt("ngIf",0===i)}}function z4e(n,e){if(1&n&&(Xe(0,"div",9),an(1,j4e,7,6,"mat-expansion-panel",10),qe()),2&n){const t=e.$implicit;st(),bt("ngIf",t)}}let XJ=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.documentationContents=i.content||[],this.infoTitle=i.title||"",this.videoID=i.videoID}ngOnInit(){const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.body.appendChild(t)}close(){document.getElementsByClassName("modal-animated")[0]?.classList.add("modal-animate-fade-out"),setTimeout(()=>{this.dialogRef.close()},250)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(ob),xe(kL))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-info-dialog"]],decls:11,vars:2,consts:[[1,"about","wrapper"],[1,"container"],[1,"content"],[1,"header"],["mat-dialog-title","",1,"title"],[1,"close"],[1,"material-icons","close-icon",3,"click"],[1,"mat-typography","dialog-content"],["class","panel",4,"ngFor","ngForOf"],[1,"panel"],[3,"expanded",4,"ngIf"],[3,"expanded"],[1,"no-header-margin"],[1,"top-padding"],[1,"variable-binding",3,"data"],["class","video-player",4,"ngIf"],[1,"video-player"],[3,"videoId"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),Ut(5),qe(),Xe(6,"div",5)(7,"mat-icon",6),kt("click",function(){return r.close()}),Ut(8,"clear"),qe()()(),Xe(9,"mat-dialog-content",7),an(10,z4e,2,1,"div",8),qe()()()()),2&i&&(st(5),Xr(r.infoTitle),st(5),bt("ngForOf",r.documentationContents))},dependencies:[ja,ta,ZA,QA,ws,eM,PL,XK,sq],styles:[".mat-dialog-container{padding:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1.5rem;text-align:left}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:3rem;margin-bottom:2.25rem;position:relative}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5rem;margin-bottom:1rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{cursor:pointer;height:3rem;width:3rem;line-height:3rem;text-align:center;transition:.6s}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 auto;line-height:3rem;height:3rem;justify-self:center;display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;margin-top:0;margin-bottom:.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{margin-bottom:1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .no-header-margin[_ngcontent-%COMP%]{font-weight:300;margin-bottom:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .top-padding[_ngcontent-%COMP%]{display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .top-padding[_ngcontent-%COMP%]   markdown[_ngcontent-%COMP%]     ul{margin-top:0;padding-left:1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:50rem;min-height:10rem;padding:0 1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]{font-weight:300;display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding.first[_ngcontent-%COMP%]{padding-right:1rem;width:73%}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]     ul{margin:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]     img{margin-left:1rem;float:right}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{position:relative;width:50%}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]     iframe{width:100%;height:100%}"],changeDetection:0})}return n})(),H4e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,Pw,qr,NL,nFe,MFe.forRoot({})]})}return n})(),KJ=(()=>{class n{constructor(t){this.http=t,this.panelContent=new tr({content:[],infoTitle:"",videoID:""})}updateData(t,i,r){this.http.get(t,{responseType:"text"}).subscribe(o=>{const s={content:this.parseMarkdown(o),infoTitle:r,videoID:i};this.panelContent.next(s)})}parseMarkdown(t){const i=[],r=t.split("# ");for(const o of r)if(o.length){const s=o.includes("\n\n")?"\n\n":"\r\n\r\n",a=o.split(s);i.push({title:a[0],content:a.splice(1).join(s)})}return i}static#e=this.\u0275fac=function(i){return new(i||n)(et(Ap))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G4e=(()=>{class n{constructor(t,i){this.dialog=t,this.infoButtonService=i,this.infoTitle="",this.subscriptions=new wt,this.subscriptions.add(i.panelContent.subscribe(r=>{r.content.length&&this.launchInfoDialog(r)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}launchInfoDialog(t){0==this.dialog.openDialogs.length&&this.dialog.open(XJ,{autoFocus:!1,panelClass:"modal-animated",width:"72rem",data:{title:t.infoTitle,content:t.content,videoID:t.videoID}})}onDialogButtonClick(){this.infoButtonService.updateData(this.documentationUrl,this.videoID,this.infoTitle)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(hm),xe(KJ))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-info-button"]],inputs:{infoTitle:"infoTitle",videoID:"videoID",documentationUrl:"documentationUrl"},decls:3,vars:0,consts:[[1,"info-button-wrapper"],["aria-hidden","false","aria-label","Page information",1,"ccf-info-button",3,"click"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"mat-icon",1),kt("click",function(){return r.onDialogButtonClick()}),Ut(2," info "),qe()())},dependencies:[ws],styles:[".info-button-wrapper[_ngcontent-%COMP%]{border-radius:.25rem;padding:.65rem;transition:.6s}.info-button-wrapper[_ngcontent-%COMP%]   .ccf-info-button[_ngcontent-%COMP%]{cursor:pointer;transition:color .6s;font-size:1.5rem;vertical-align:sub}"],changeDetection:0})}return n})(),W4e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,H4e,qr,r6]})}return n})(),$4e=(()=>{class n{constructor(){this.clsName="ccf-call-to-action",this.callToActionClicked=new Gt,this.closeClicked=new Gt}close(){this.closeClicked.emit()}onDialogButtonClick(){this.callToActionClicked.emit()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-call-to-action"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{infoTitle:"infoTitle",imageUrl:"imageUrl",message:"message",callToAction:"callToAction"},outputs:{callToActionClicked:"callToActionClicked",closeClicked:"closeClicked"},decls:13,vars:4,consts:[[1,"rui-about","wrapper"],[1,"container"],[1,"content"],[1,"first-row"],["mat-dialog-title","",1,"title"],[1,"cta-mat-icon","material-icons","close-icon",3,"click"],["mat-card-sm-image","","alt","preview","layout-fill","",1,"cta-image",3,"src"],[1,"mat-typography","dialog-content"],[1,"message"],["mat-button","",1,"mat-button",3,"text","click"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),Ut(5),qe(),Xe(6,"mat-icon",5),kt("click",function(){return r.close()}),Ut(7,"clear"),qe()(),fn(8,"img",6),Xe(9,"mat-dialog-content",7)(10,"div",8),Ut(11),qe(),Xe(12,"a",9),kt("click",function(){return r.onDialogButtonClick()}),qe()()()()()),2&i&&(st(5),Xr(r.infoTitle),st(3),bt("src",r.imageUrl,vg),st(3),Kr(" ",r.message,""),st(),bt("text",r.callToAction))},dependencies:[ws,ZA,QA,cq],styles:["[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:block;align-content:center;padding-left:1.6rem;padding-right:1.6rem;border-radius:.25rem}[_nghost-%COMP%]   .info-button-wrapper[_ngcontent-%COMP%]{border-radius:.25rem;padding:.6rem;transition:.6s}[_nghost-%COMP%]   .info-button-wrapper[_ngcontent-%COMP%]   .ccf-info-button[_ngcontent-%COMP%]{cursor:pointer;transition:color .6s;font-size:1.2rem;vertical-align:sub}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]{display:flex;width:100%;line-height:.9rem}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-right:7rem;padding-left:.2rem;font-size:.875rem;padding-top:.75rem}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]   .cta-mat-icon[_ngcontent-%COMP%]{height:30%;line-height:3.4rem}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{padding:.5rem}[_nghost-%COMP%]   .cta-image[_ngcontent-%COMP%]{align-self:center;object-fit:cover;width:100%;border-radius:.25rem}[_nghost-%COMP%]   .mat-button[_ngcontent-%COMP%]{background-color:#444a65;font-size:.75rem;position:relative;margin-bottom:1rem;width:100%;height:2rem;color:#fff}"],changeDetection:0})}return n})(),X4e=(()=>{class n{constructor(t){this.el=t}onInputChange(t){const i=this.el.nativeElement.value;this.el.nativeElement.value=i.replace(/[^0-9]*/g,""),i!==this.el.nativeElement.value&&t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn))};static#t=this.\u0275dir=$t({type:n,selectors:[["input","ccfNumbersOnly",""]],hostBindings:function(i,r){1&i&&kt("input",function(s){return r.onInputChange(s)})}})}return n})(),K4e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({})}return n})(),qJ=(()=>{class n{get obj(){const t=this.findGlobalObject();return Object.defineProperties(this,{obj:{configurable:!1,writable:!1,value:t}}),t}has(t){const{obj:i}=this;return null!=i&&t in i}get(t,i){const{obj:r}=this;return(r&&r[t])??i}set(t,i){const{obj:r}=this;r&&(r[t]=i)}remove(t){const{obj:i}=this;i&&delete i[t]}findGlobalObject(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self;try{return new Function("return this;")()}catch{}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ld=(()=>{let n=class fx extends cb{constructor(){super(...arguments),this.optionCache=new Map}get config$(){return this.state$.pipe(XL(),Uc(1))}setConfig(t){this.setState(t)}patchConfig(t){this.patchState(t)}getProperty(t){return this.config$.pipe(CL(...t),ia(),Uc(1))}getOption(...t){const i=this.getPathKey(t);if(this.optionCache.has(i))return this.optionCache.get(i);const r=this.config$.pipe(CL(...t),ia(),Uc(1));return this.optionCache.set(i,r),r}getPathKey(t){return`${t.length}:${t.join(".")}`}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Hi(fx)))(r||fx)}})();static#t=this.\u0275prov=Dt({token:fx,factory:fx.\u0275fac})};return Bt([$i()],n.prototype,"config$",null),n=Bt([hf(),Hu({name:"globalConfig",defaults:null})],n),n})();!function J4e(){const n=localStorage.getItem("ALLOW_TELEMETRY");null===n||n.toLowerCase()}();let Q4e=(()=>{class n{constructor(t,i){t&&function Z4e(n,e){Ip(n,"mousemove").pipe(XA(1e3),Lt(r=>{const{clientWidth:o,clientHeight:s}=n,{clientX:a,clientY:c}=r;return[a,c,o,s].join("_")})).subscribe(r=>e.event("webpage","mousemove",r))}(t.body,i)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(la))};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({})}return n})();function eVe(n,e){if(1&n){const t=$r();Xe(0,"button",1),kt("click",function(){return ii(t),Pn(rn().submit(!0))}),Ut(1),qe()}if(2&n){const t=rn();st(),Kr(" ","not-set"===t.allowTelemetry?"I understand":"Opt in","\n")}}function tVe(n,e){if(1&n){const t=$r();Xe(0,"button",1),kt("click",function(){return ii(t),Pn(rn().submit(!1))}),Ut(1,"Opt out"),qe()}}let nVe=(()=>{class n{get allowTelemetry(){return this.consentService.consent}constructor(t,i,r){this.consentService=i,this.data=r,this.clsName="ccf-tracking-popup",this.container=t.nativeElement}dismiss(){this.data.preClose()}submit(t){this.consentService.setConsent(t?"given":"rescinded"),this.dismiss()}showButton(t){const{allowTelemetry:i}=this;return"not-set"===i||("opt-in"===t?"rescinded"===i:"given"===i)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(Zw),xe(pR))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-tracking-popup"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},decls:4,vars:2,consts:[["mat-button","","color","basic",3,"click",4,"ngIf"],["mat-button","","color","basic",3,"click"]],template:function(i,r){1&i&&(Xe(0,"p"),Ut(1,"We log usage to improve this service."),qe(),an(2,eVe,2,1,"button",0)(3,tVe,2,0,"button",0)),2&i&&(st(2),bt("ngIf",r.showButton("opt-in")),st(),bt("ngIf",r.showButton("opt-out")))},dependencies:[ta,h_],styles:["[_nghost-%COMP%]{display:flex;align-items:center;min-width:400px;color:#ffffffb3;background:#323232;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;z-index:9999}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin:24px}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem;min-width:6rem;background-color:#007cbe;display:flex;justify-content:center}"],changeDetection:0})}return n})(),iVe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,dd]})}return n})();new Qt;let DB=(()=>{class n{static#e=this.type="[CallToAction] Learn More"}return n})(),kB=(()=>{class n{static#e=this.type="[CallToAction] Open Dialog"}return n})(),OB=(()=>{class n{static#e=this.type="[CallToAction] Close Dialog"}return n})();var RB;class Tl{static#e=this.storage=(()=>{let e;try{e=window.localStorage;const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length?e:void 0}})();get length(){return Tl.storage?.length??0}key(e){return Tl.storage?.key(e)??null}getItem(e,t){return Tl.storage?.getItem(e)??t??null}setItem(e,t){try{return Tl.storage?.setItem(e,t),!0}catch{return!1}}removeItem(e){Tl.storage?.removeItem(e)}clear(){Tl.storage?.clear()}static#t=this.\u0275fac=function(t){return new(t||Tl)};static#n=this.\u0275prov=Dt({token:Tl,factory:Tl.\u0275fac,providedIn:"root"})}const QJ="callToActionPopupShown";let mf=(()=>{let n=class XM{static#e=RB=this;static ctaDatePassed(t,i=Date.now){return+i()>+new Date(t)}constructor(t,i,r,o,s){this.dialog=t,this.ga=i,this.storage=r,this.infoService=o,this.http=s}ngxsOnInit(t){const{expirationDate:i,popupShown:r}=t.getState(),o=this.storage.getItem(QJ,`${r}`),s=RB.ctaDatePassed(i);"true"!==o&&!s&&t.dispatch(new kB)}getDialogData(){return this.http.get("assets/docs/SPATIAL_SEARCH_README.md",{responseType:"text"}).pipe(Lt(t=>this.infoService.parseMarkdown(t)))}launchLearnMore(t){this.dialog.open(XJ,{autoFocus:!1,panelClass:"modal-animated",width:"72rem",data:{title:"Spatial Search",content:t,videoID:"UfxMpzatowE"}})}learnMore(t){return this.dialog.closeAll(),this.ga.event("open_learn_more","call_to_action"),this.getDialogData().pipe(pr(i=>this.launchLearnMore(i)))}open(t){this.dialog.open(oVe,{autoFocus:!1,panelClass:"modal-animated",width:"30.75rem",height:"36.688rem"}),this.ga.event("open","call_to_action"),this.storage.setItem(QJ,"true"),t.patchState({popupShown:!0})}close(t){this.dialog.closeAll(),this.ga.event("close","call_to_action")}static#t=this.\u0275fac=function(i){return new(i||XM)(et(hm),et(la),et(Tl),et(KJ),et(Ap))};static#n=this.\u0275prov=Dt({token:XM,factory:XM.\u0275fac})};return Bt([nL(DB)],n.prototype,"learnMore",null),Bt([nL(kB)],n.prototype,"open",null),Bt([nL(OB)],n.prototype,"close",null),n})();mf=RB=Bt([Hu({name:"callToAction",defaults:{title:"New to the Exploration User Interface",message:"Spatial Search has arrived!",callToAction:"Learn More",imageUrl:"assets/images/spatial_search.gif",expirationDate:"Dec 1, 2022",popupShown:!1}})],mf);let CM=(()=>{class n{static title(t){return t.title}static message(t){return t.message}static callToAction(t){return t.callToAction}static imageUrl(t){return t.imageUrl}static expirationDate(t){return t.expirationDate}static popupShown(t){return t.popupShown}}return Bt([tb([mf])],n,"title",null),Bt([tb([mf])],n,"message",null),Bt([tb([mf])],n,"callToAction",null),Bt([tb([mf])],n,"imageUrl",null),Bt([tb([mf])],n,"expirationDate",null),Bt([tb([mf])],n,"popupShown",null),n})(),oVe=(()=>{class n{constructor(){this.close=()=>new OB,this.learnMore=()=>new DB}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-call-to-action-behavior"]],decls:5,vars:12,consts:[[3,"infoTitle","message","callToAction","imageUrl","callToActionClicked","closeClicked"]],template:function(i,r){1&i&&(Xe(0,"ccf-call-to-action",0),kt("callToActionClicked",function(){return r.learnMore()})("closeClicked",function(){return r.close()}),Xn(1,"async"),Xn(2,"async"),Xn(3,"async"),Xn(4,"async"),qe()),2&i&&bt("infoTitle",ri(1,4,r.title$))("message",ri(2,6,r.message$))("callToAction",ri(3,8,r.callToAction$))("imageUrl",ri(4,10,r.imageUrl$))},dependencies:[$4e,ad],changeDetection:0})}return Bt([kA(CM.title)],n.prototype,"title$",void 0),Bt([kA(CM.message)],n.prototype,"message$",void 0),Bt([kA(CM.callToAction)],n.prototype,"callToAction$",void 0),Bt([kA(CM.imageUrl)],n.prototype,"imageUrl$",void 0),Bt([OJ()],n.prototype,"close",void 0),Bt([OJ()],n.prototype,"learnMore",void 0),n})();function cVe(n,e){if(1&n&&(Xe(0,"mat-icon",8),Ut(1),qe()),2&n){const t=e.$implicit;un("active",rn().currentKey===t.key),st(),Kr("",t.direction," ")}}function lVe(n,e){1&n&&(Xe(0,"div",9),Ut(1,"SHIFT"),qe())}let dVe=(()=>{class n{constructor(){this.className="ccf-spatial-search-keyboard-ui",this.keyClicked=new Gt,this.keyHovered=new Gt,this.keyMap=[{key:"w",direction:"north"},{key:"s",direction:"south"},{key:"a",direction:"west"},{key:"d",direction:"east"},{key:"e",direction:"north_east"},{key:"q",direction:"south_west"}]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-spatial-search-keyboard-ui"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.className)},inputs:{currentKey:"currentKey",shiftPressed:"shiftPressed"},outputs:{keyClicked:"keyClicked",keyHovered:"keyHovered"},decls:18,vars:14,consts:[[1,"direction-arrow"],["class","arrow",3,"active",4,"ngFor","ngForOf"],[1,"keys"],[1,"keyrow"],[1,"key","blue",3,"mousedown","mouseover","mouseout"],[1,"key","green",3,"mousedown","mouseover","mouseout"],[1,"key","red",3,"mousedown","mouseover","mouseout"],["class","shift",4,"ngIf"],[1,"arrow"],[1,"shift"]],template:function(i,r){1&i&&(Xe(0,"div",0),an(1,cVe,2,3,"mat-icon",1),qe(),Xe(2,"div",2)(3,"div",3)(4,"div",4),kt("mousedown",function(){return r.keyClicked.emit("q")})("mouseover",function(){return r.keyHovered.emit("q")})("mouseout",function(){return r.keyHovered.emit()}),Ut(5,"Q"),qe(),Xe(6,"div",5),kt("mousedown",function(){return r.keyClicked.emit("w")})("mouseover",function(){return r.keyHovered.emit("w")})("mouseout",function(){return r.keyHovered.emit()}),Ut(7,"W"),qe(),Xe(8,"div",4),kt("mousedown",function(){return r.keyClicked.emit("e")})("mouseover",function(){return r.keyHovered.emit("e")})("mouseout",function(){return r.keyHovered.emit()}),Ut(9,"E"),qe()(),Xe(10,"div",3)(11,"div",6),kt("mousedown",function(){return r.keyClicked.emit("a")})("mouseover",function(){return r.keyHovered.emit("a")})("mouseout",function(){return r.keyHovered.emit()}),Ut(12,"A"),qe(),Xe(13,"div",5),kt("mousedown",function(){return r.keyClicked.emit("s")})("mouseover",function(){return r.keyHovered.emit("s")})("mouseout",function(){return r.keyHovered.emit()}),Ut(14,"S"),qe(),Xe(15,"div",6),kt("mousedown",function(){return r.keyClicked.emit("d")})("mouseover",function(){return r.keyHovered.emit("d")})("mouseout",function(){return r.keyHovered.emit()}),Ut(16,"D"),qe()(),an(17,lVe,2,0,"div",7),qe()),2&i&&(st(),bt("ngForOf",r.keyMap),st(3),un("highlighted","q"===r.currentKey),st(2),un("highlighted","w"===r.currentKey),st(2),un("highlighted","e"===r.currentKey),st(3),un("highlighted","a"===r.currentKey),st(2),un("highlighted","s"===r.currentKey),st(2),un("highlighted","d"===r.currentKey),st(2),bt("ngIf",r.shiftPressed))},dependencies:[ja,ta,ws],styles:["[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,.5fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;margin-bottom:1rem;width:7rem}[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{grid-area:1/3/2/4;opacity:0;transition:.5s}[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]   .arrow.active[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:0;gap:.5rem;width:7rem;height:7rem;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .keyrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0;gap:.5rem}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .keyrow[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:.25rem;width:2rem;height:2rem;border:2px solid;border-radius:.5rem;cursor:pointer}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .shift[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:.25rem;width:7rem;height:2rem;border:2px solid;border-radius:.5rem}"],changeDetection:0})}return n})(),uVe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,qr]})}return n})(),hVe=(()=>{class n{constructor(){this.className="ccf-spatial-search-keyboard-ui-behavior",this.delta=1,this.shiftDelta=2,this.disablePositionChange=!1,this.changePosition=new Gt,this.shiftPressed=!1}updatePosition(t){if(this.currentDelta=this.shiftPressed?this.shiftDelta:this.delta,"Shift"===t)this.shiftPressed=!0;else{switch(this.currentKey=t.toLowerCase(),this.currentKey){case"q":this.position={...this.position,z:this.position.z+this.currentDelta};break;case"e":this.position={...this.position,z:this.position.z-this.currentDelta};break;case"w":this.position={...this.position,y:this.position.y+this.currentDelta};break;case"s":this.position={...this.position,y:this.position.y-this.currentDelta};break;case"a":this.position={...this.position,x:this.position.x-this.currentDelta};break;case"d":this.position={...this.position,x:this.position.x+this.currentDelta}}this.changePosition.emit(this.position)}}handleKey(t){this.disablePositionChange||(t.preventDefault(),this.updatePosition(t.key))}keyUp(t){"Shift"===t.key?this.shiftPressed=!1:this.currentKey=void 0}keyClick(t){this.updatePosition(t)}keyHover(t){this.currentKey=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-spatial-search-keyboard-ui-behavior"]],hostVars:2,hostBindings:function(i,r){1&i&&kt("keydown",function(s){return r.handleKey(s)},0,_h)("keyup",function(s){return r.keyUp(s)},!1,_h),2&i&&_i(r.className)},inputs:{delta:"delta",shiftDelta:"shiftDelta",position:"position",disablePositionChange:"disablePositionChange"},outputs:{changePosition:"changePosition"},decls:1,vars:2,consts:[[3,"currentKey","shiftPressed","keyClicked","keyHovered"]],template:function(i,r){1&i&&(Xe(0,"ccf-spatial-search-keyboard-ui",0),kt("keyClicked",function(s){return r.keyClick(s)})("keyHovered",function(s){return r.keyHover(s)}),qe()),2&i&&bt("currentKey",r.currentKey)("shiftPressed",r.shiftPressed)},dependencies:[dVe],encapsulation:2,changeDetection:0})}return n})(),fVe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,uVe]})}return n})();const pVe={initialConfig:{},parse:{},rename:{}};class mVe{constructor(e,t){this.configState=e,this.storedChanges={},this.options={...pVe,...t}}addChanges(e){this.storedChanges={...this.storedChanges,...e}}applyChanges(e,t={}){void 0===e&&(e=this.storedChanges,this.storedChanges={});const{configState:i,options:{initialConfig:r}}=this,s={...r,...i.snapshot,...t};for(const[a,c]of Object.entries(e))this.processChange(a,c,s);i.setConfig(s)}processChange(e,t,i){const{options:{parse:r,rename:o}}=this,s=o[e]??e,a=t.currentValue,c=r[e]??r[s];if(null==a)delete i[s];else if(c)try{i[s]=c(a)}catch(l){console.warn(`Failed to parse ${e} = ${a} (${typeof a})`,l.message)}else i[s]=a}}let gVe=(()=>{class n{constructor(t,i,r={}){this.configState=t,this.cdr=i,this.options=r,this.initialized=!1,this.configManager=new mVe(this.configState,this.options)}ngOnInit(){this._init=setTimeout(()=>this.initialize(),this.options.initialDelay??0)}ngOnDestroy(){this._init&&clearTimeout(this._init)}ngOnChanges(t){this.configManager.addChanges(t),this.initialized&&this.configManager.applyChanges()}initialize(){this._init=void 0,!this.initialized&&(this.configManager.applyChanges(),this.initialized=!0,this.cdr.markForCheck())}static#e=this.\u0275fac=function(i){ED()};static#t=this.\u0275dir=$t({type:n,features:[xr]})}return n})();const eZ={boolean:n=>"false"!=`${n}`,json:n=>"string"==typeof n?JSON.parse(n):n,stringArray:n=>"string"==typeof n?Array.from(n).filter(e=>!"[], ".includes(e)):n,function:n=>{if("function"!=typeof n)throw new Error("Expected a javascript function");return n}},Bd_dbOptions={ccfOwlUrl:"https://ccf-ontology.hubmapconsortium.org/v2.1.0/ccf.owl",ccfContextUrl:"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld",hubmapDataService:"search-api",hubmapPortalUrl:"https://portal.hubmapconsortium.org/",hubmapDataUrl:"",hubmapAssetsUrl:"https://assets.hubmapconsortium.org",hubmapToken:localStorage.getItem("HUBMAP_TOKEN")??""},Bd_customization={theme:"hubmap",header:!0,homeUrl:"https://portal.hubmapconsortium.org/",logoTooltip:"Human BioMolecular Atlas Project"};var tx=m(6990);function da(n,e){return Oi((t,i)=>{const r=new Set;t.subscribe(si(i,o=>{const s=n?n(o):o;r.has(s)||(r.add(s),i.next(o))})),e&&yo(e).subscribe(si(i,()=>r.clear(),it))})}var yVe=m(217);const tZ={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let SM;const vVe=new Uint8Array(16);function wVe(){if(!SM&&(SM=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!SM))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return SM(vVe)}const js=[];for(let n=0;n<256;++n)js.push((n+256).toString(16).slice(1));const EVe=function xVe(n,e,t){if(tZ.randomUUID&&!e&&!n)return tZ.randomUUID();const i=(n=n||{}).random||(n.rng||wVe)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){t=t||0;for(let r=0;r<16;++r)e[t+r]=i[r];return e}return function nZ(n,e=0){return js[n[e+0]]+js[n[e+1]]+js[n[e+2]]+js[n[e+3]]+"-"+js[n[e+4]]+js[n[e+5]]+"-"+js[n[e+6]]+js[n[e+7]]+"-"+js[n[e+8]]+js[n[e+9]]+"-"+js[n[e+10]]+js[n[e+11]]+js[n[e+12]]+js[n[e+13]]+js[n[e+14]]+js[n[e+15]]}(i)};function Ka(n){return new Promise((e,t)=>{n.oncomplete=n.onsuccess=()=>e(n.result),n.onabort=n.onerror=()=>t(n.error)})}let PB;function Il(){return PB||(PB=function SVe(n,e){const t=indexedDB.open(n);t.onupgradeneeded=()=>t.result.createObjectStore(e);const i=Ka(t);return(r,o)=>i.then(s=>o(s.transaction(e,r).objectStore(e)))}("keyval-store","keyval")),PB}function AVe(n,e=Il()){return e("readonly",t=>Ka(t.get(n)))}function MVe(n,e=Il()){return e("readwrite",t=>(n.forEach(i=>t.put(i[1],i[0])),Ka(t.transaction)))}function TVe(n,e=Il()){return e("readwrite",t=>(n.forEach(i=>t.delete(i)),Ka(t.transaction)))}function iZ(n,e,t,i,r){return n.readQuads(e,t,i,r)}m(5020),m(7661),m(2821),m(8905);const nx="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ix="http://www.w3.org/2001/XMLSchema#",UB="http://www.w3.org/2000/10/swap/",IVe={xsd:{decimal:`${ix}decimal`,boolean:`${ix}boolean`,double:`${ix}double`,integer:`${ix}integer`,string:`${ix}string`},rdf:{type:`${nx}type`,nil:`${nx}nil`,first:`${nx}first`,rest:`${nx}rest`,langString:`${nx}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${UB}reify#forSome`,forAll:`${UB}reify#forAll`},log:{implies:`${UB}log#implies`}},{rdf:DVe,xsd:_m}=IVe;let rx,kVe=0;const VB={namedNode:function FVe(n){return new sZ(n)},blankNode:function LVe(n){return new OVe(n||"n3-"+kVe++)},variable:function UVe(n){return new RVe(n)},literal:function BVe(n,e){if("string"==typeof e)return new yb(`"${n}"@${e.toLowerCase()}`);let t=e?e.value:"";return""===t&&("boolean"==typeof n?t=_m.boolean:"number"==typeof n&&(Number.isFinite(n)?t=Number.isInteger(n)?_m.integer:_m.double:(t=_m.double,Number.isNaN(n)||(n=n>0?"INF":"-INF")))),new yb(""===t||t===_m.string?`"${n}"`:`"${n}"^^${t}`)},defaultGraph:function VVe(){return rx},quad:aZ,triple:aZ},gf=VB;class Wu{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof Wu?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class sZ extends Wu{get termType(){return"NamedNode"}}class yb extends Wu{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new sZ(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,i=t<e.length?e[t]:"";return"^"===i?e.substr(t+2):"@"!==i?_m.string:DVe.langString}equals(e){return e instanceof yb?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class OVe extends Wu{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class RVe extends Wu{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}rx=new class PVe extends Wu{constructor(){return super(""),rx||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};class NVe extends Wu{constructor(e,t,i,r){super(""),this._subject=e,this._predicate=t,this._object=i,this._graph=r||rx}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function aZ(n,e,t,i){return new NVe(n,e,t,i)}m(4938),m(7991),m(5440),m(7184);var HVe=m(9689);m(6030),Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1}),Math,Math;const Qr={};function YVe(n,{precision:e=Qr.precision||4}={}){return n=function $Ve(n){return Math.round(n/Qr.EPSILON)*Qr.EPSILON}(n),"".concat(parseFloat(n.toPrecision(e)))}function _f(n){return Array.isArray(n)||ArrayBuffer.isView(n)&&!(n instanceof DataView)}function ox(n,e,t){const i=Qr.EPSILON;t&&(Qr.EPSILON=t);try{if(n===e)return!0;if(_f(n)&&_f(e)){if(n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(!ox(n[r],e[r]))return!1;return!0}return n&&n.equals?n.equals(e):e&&e.equals?e.equals(n):!(!Number.isFinite(n)||!Number.isFinite(e))&&Math.abs(n-e)<=Qr.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))}finally{Qr.EPSILON=i}}function Yu(n,e){if(!n)throw new Error("math.gl assertion ".concat(e))}Qr.EPSILON=1e-12,Qr.debug=!1,Qr.precision=4,Qr.printTypes=!1,Qr.printDegrees=!1,Qr.printRowMajor=!0;class dZ extends(function QVe(n){function e(){var t=Reflect.construct(n,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return e.prototype=Object.create(n.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n,e}(Array)){get ELEMENTS(){return Yu(!1),0}clone(){return(new this.constructor).copy(this)}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}fromArray(e,t=0){for(let i=0;i<this.ELEMENTS;++i)this[i]=e[i+t];return this.check()}to(e){return e===this?this:_f(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toArray(e=[],t=0){for(let i=0;i<this.ELEMENTS;++i)e[t+i]=this[i];return e}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Qr)}formatString(e){let t="";for(let i=0;i<this.ELEMENTS;++i)t+=(i>0?", ":"")+YVe(this[i],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!ox(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,i){void 0===i&&(i=t,t=e,e=this);for(let r=0;r<this.ELEMENTS;++r){const o=e[r];this[r]=o+i*(t[r]-o)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e[i]),t[i]);return this.check()}add(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]+=t[i];return this.check()}subtract(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]-=t[i];return this.check()}scale(e){if(Array.isArray(e))return this.multiply(e);for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.scale(1/e)}clampScalar(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e),t);return this.check()}multiplyByScalar(e){return this.scale(e)}get elements(){return this}check(){if(Qr.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}}function vc(n){if(!Number.isFinite(n))throw new Error("Invalid number ".concat(n));return n}const uZ={};function jB(n,e){uZ[n]||(uZ[n]=!0,console.warn("".concat(n," has been removed in version ").concat(e,", see upgrade guide for more information")))}class nje extends dZ{get ELEMENTS(){return Yu(!1),0}copy(e){return Yu(!1),this}get x(){return this[0]}set x(e){this[0]=vc(e)}get y(){return this[1]}set y(e){this[1]=vc(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let i=0;i<this.ELEMENTS;++i){const r=this[i]-e[i];t+=r*r}return vc(t)}dot(e){let t=0;for(let i=0;i<this.ELEMENTS;++i)t+=this[i]*e[i];return vc(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]*=t[i];return this.check()}divide(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]/=t[i];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return Yu(e>=0&&e<this.ELEMENTS,"index is out of range"),vc(this[e])}setComponent(e,t){return Yu(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}var sx=typeof Float32Array<"u"?Float32Array:Array;function hZ(n,e,t){var i=e[0],r=e[1],o=e[2];return n[0]=i*t[0]+r*t[3]+o*t[6],n[1]=i*t[1]+r*t[4]+o*t[7],n[2]=i*t[2]+r*t[5]+o*t[8],n}Math,Math,Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)}),function oje(){var n=new sx(3);sx!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0)}();const zB=[0,0,0],fZ={};class gi extends nje{static get ZERO(){return fZ.ZERO=fZ.ZERO||Object.freeze(new gi(0,0,0,0))}constructor(e=0,t=0,i=0){super(-0,-0,-0),1===arguments.length&&_f(e)?this.copy(e):(Qr.debug&&(vc(e),vc(t),vc(i)),this[0]=e,this[1]=t,this[2]=i)}set(e,t,i){return this[0]=e,this[1]=t,this[2]=i,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return Qr.debug&&(vc(e.x),vc(e.y),vc(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=vc(e)}angle(e){return function fje(n,e){var t=n[0],i=n[1],r=n[2],o=e[0],s=e[1],a=e[2],d=Math.sqrt(t*t+i*i+r*r)*Math.sqrt(o*o+s*s+a*a),h=d&&function sje(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}(n,e)/d;return Math.acos(Math.min(Math.max(h,-1),1))}(this,e)}cross(e){return function aje(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2];n[0]=r*c-o*a,n[1]=o*s-i*c,n[2]=i*a-r*s}(this,this,e),this.check()}rotateX({radians:e,origin:t=zB}){return function dje(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateY({radians:e,origin:t=zB}){return function uje(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=zB}){return function hje(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return function cje(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o+t[15];n[0]=(t[0]*i+t[4]*r+t[8]*o+t[12])/(s=s||1),n[1]=(t[1]*i+t[5]*r+t[9]*o+t[13])/s,n[2]=(t[2]*i+t[6]*r+t[10]*o+t[14])/s}(this,this,e),this.check()}transformAsVector(e){return function pje(n,e,t){const i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o||1;n[0]=(t[0]*i+t[4]*r+t[8]*o)/s,n[1]=(t[1]*i+t[5]*r+t[9]*o)/s,n[2]=(t[2]*i+t[6]*r+t[10]*o)/s}(this,this,e),this.check()}transformByMatrix3(e){return hZ(this,this,e),this.check()}transformByMatrix2(e){return function mje(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2]}(this,this,e),this.check()}transformByQuaternion(e){return function lje(n,e,t){var i=t[0],r=t[1],o=t[2],a=e[0],c=e[1],l=e[2],d=r*l-o*c,h=o*a-i*l,p=i*c-r*a,_=r*p-o*h,v=o*d-i*p,A=i*h-r*d,P=2*t[3];h*=P,p*=P,v*=2,A*=2,n[0]=a+(d*=P)+(_*=2),n[1]=c+h+v,n[2]=l+p+A}(this,this,e),this.check()}}new gi,new gi,new gi,new gi,new gi,new gi,new gi,new gi,new gi,new gi,new gi;const yZ=new gi,vZ=new gi;class HB{constructor(e=[0,0,1],t=0){this.normal=new gi,this.distance=-0,this.fromNormalDistance(e,t)}fromNormalDistance(e,t){return Yu(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}fromPointNormal(e,t){e=yZ.from(e),this.normal.from(t).normalize();const i=-this.normal.dot(e);return this.distance=i,this}fromCoefficients(e,t,i,r){return this.normal.set(e,t,i),Yu(ox(this.normal.len(),1)),this.distance=r,this}clone(e){return new HB(this.normal,this.distance)}equals(e){return ox(this.distance,e.distance)&&ox(this.normal,e.normal)}getPointDistance(e){return this.normal.dot(e)+this.distance}transform(e){const t=vZ.copy(this.normal).transformAsVector(e).normalize(),i=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(i,t)}projectPointOntoPlane(e,t=[0,0,0]){e=yZ.from(e);const i=this.getPointDistance(e),r=vZ.copy(this.normal).scale(i);return e.subtract(r).to(t)}}new gi([1,0,0]),new gi([0,1,0]),new gi([0,0,1]),new gi,new gi,new HB(new gi(1,0,0),0),new gi,new gi,new gi,new gi,new gi,new gi,new gi,new gi,new gi,new gi,new gi,new gi,new gi,new gi,new gi,new gi,new gi,Math;class Vje extends dZ{get ELEMENTS(){return Yu(!1),0}get RANK(){return Yu(!1),0}toString(){let e="[";if(Qr.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let i=0;i<this.RANK;++i)e+=" ".concat(this[i*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,i){return this[t*this.RANK+e]=vc(i),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)t[r]=this[i+r];return t}setColumn(e,t){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)this[i+r]=t[r];return this}}function EZ(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],p=t[0],_=t[1],v=t[2],A=t[3],P=t[4],X=t[5],Q=t[6],pe=t[7],Re=t[8];return n[0]=p*i+_*s+v*l,n[1]=p*r+_*a+v*d,n[2]=p*o+_*c+v*h,n[3]=A*i+P*s+X*l,n[4]=A*r+P*a+X*d,n[5]=A*o+P*c+X*h,n[6]=Q*i+pe*s+Re*l,n[7]=Q*r+pe*a+Re*d,n[8]=Q*o+pe*c+Re*h,n}function CZ(n,e,t){var i=t[0],r=t[1];return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=r*e[3],n[4]=r*e[4],n[5]=r*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}!function Yje(){var n=new sx(2);sx!=Float32Array&&(n[0]=0,n[1]=0)}();const SZ=Object.freeze([1,0,0,0,1,0,0,0,1]),Kje=Object.freeze([0,0,0,0,0,0,0,0,0]),qje=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),wb={};class Dl extends Vje{static get IDENTITY(){return wb.IDENTITY=wb.IDENTITY||Object.freeze(new Dl(SZ)),wb.IDENTITY}static get ZERO(){return wb.ZERO=wb.ZERO||Object.freeze(new Dl(Kje)),wb.ZERO}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return qje}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}set(e,t,i,r,o,s,a,c,l){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this[4]=o,this[5]=s,this[6]=a,this[7]=c,this[8]=l,this.check()}setRowMajor(e,t,i,r,o,s,a,c,l){return this[0]=e,this[1]=r,this[2]=a,this[3]=t,this[4]=o,this[5]=c,this[6]=i,this[7]=s,this[8]=l,this.check()}determinant(){return function Hje(n){var r=n[3],o=n[4],s=n[5],a=n[6],c=n[7],l=n[8];return n[0]*(l*o-s*c)+n[1]*(-l*r+s*a)+n[2]*(c*r-o*a)}(this)}identity(){return this.copy(SZ)}fromQuaternion(e){return function $je(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t+t,a=i+i,c=r+r,l=t*s,d=i*s,h=i*a,p=r*s,_=r*a,v=r*c,A=o*s,P=o*a,X=o*c;n[0]=1-h-v,n[3]=d-X,n[6]=p+P,n[1]=d+X,n[4]=1-l-v,n[7]=_-A,n[2]=p-P,n[5]=_+A,n[8]=1-l-h}(this,e),this.check()}transpose(){return function jje(n,e){if(n===e){var t=e[1],i=e[2],r=e[5];n[1]=e[3],n[2]=e[6],n[3]=t,n[5]=e[7],n[6]=i,n[7]=r}else n[0]=e[0],n[1]=e[3],n[2]=e[6],n[3]=e[1],n[4]=e[4],n[5]=e[7],n[6]=e[2],n[7]=e[5],n[8]=e[8]}(this,this),this.check()}invert(){return function zje(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],d=e[8],h=d*s-a*l,p=-d*o+a*c,_=l*o-s*c,v=t*h+i*p+r*_;v&&(n[0]=h*(v=1/v),n[1]=(-d*i+r*l)*v,n[2]=(a*i-r*s)*v,n[3]=p*v,n[4]=(d*t-r*c)*v,n[5]=(-a*t+r*o)*v,n[6]=_*v,n[7]=(-l*t+i*c)*v,n[8]=(s*t-i*o)*v)}(this,this),this.check()}multiplyLeft(e){return EZ(this,e,this),this.check()}multiplyRight(e){return EZ(this,this,e),this.check()}rotate(e){return function Wje(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],p=Math.sin(t),_=Math.cos(t);n[0]=_*i+p*s,n[1]=_*r+p*a,n[2]=_*o+p*c,n[3]=_*s-p*i,n[4]=_*a-p*r,n[5]=_*c-p*o,n[6]=l,n[7]=d,n[8]=h}(this,this,e),this.check()}scale(e){return Array.isArray(e)?CZ(this,this,e):CZ(this,this,[e,e,e]),this.check()}translate(e){return function Gje(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],p=t[0],_=t[1];n[0]=i,n[1]=r,n[2]=o,n[3]=s,n[4]=a,n[5]=c,n[6]=p*i+_*s+l,n[7]=p*r+_*a+d,n[8]=p*o+_*c+h}(this,this,e),this.check()}transform(e,t){switch(e.length){case 2:t=function Xje(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[3]*r+t[6],n[1]=t[1]*i+t[4]*r+t[7],n}(t||[-0,-0],e,this);break;case 3:t=hZ(t||[-0,-0,-0],e,this);break;case 4:t=function gje(n,e,t){const i=e[0],r=e[1],o=e[2];return n[0]=t[0]*i+t[3]*r+t[6]*o,n[1]=t[1]*i+t[4]*r+t[7]*o,n[2]=t[2]*i+t[5]*r+t[8]*o,n[3]=e[3],n}(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return function tje(n,e,t=""){if(Qr.debug&&!function eje(n,e){if(n.length!==e)return!1;for(let t=0;t<n.length;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n,e))throw new Error("math.gl: ".concat(t," some fields set to invalid numbers'"));return n}(t,e.length),t}transformVector(e,t){return jB("Matrix3.transformVector"),this.transform(e,t)}transformVector2(e,t){return jB("Matrix3.transformVector"),this.transform(e,t)}transformVector3(e,t){return jB("Matrix3.transformVector"),this.transform(e,t)}}new Dl,new Dl,new Dl,new Dl,new Dl,new gi,new gi,new gi,new gi,new gi,new Dl,new Dl,new Dl;var cze=m(7659);const br=function cZ(n,e){const t=Object.create(null);for(const r in n)i(r,n[r]);function i(r,o){if("string"==typeof o){const s=Object.create(null);t[r]=a=>s[a]||(s[a]=e.namedNode(o+a))}else if(!(r in t))throw new Error(`Unknown prefix: ${r}`);return t[r]}return e=e||gf,i}({base:"http://purl.org/ccf/latest/ccf.owl#",ccf:"http://purl.org/ccf/",fma:"http://purl.org/sig/ont/fma/fma",obo:"http://purl.obolibrary.org/obo/",uberon:"http://purl.obolibrary.org/obo/UBERON_",cl:"http://purl.obolibrary.org/obo/CL_",lmha:"http://purl.obolibrary.org/obo/LMHA_",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/"},gf),wn=(br("rdf"),br("rdf")("type"),br("rdfs"),br("rdfs")("label"),br("rdfs")("comment"),br("rdfs")("isDefinedBy"),br("rdfs")("seeAlso"),br("ccf")),Di=(br("ccf")("has_registration_location"),br("rdfs")("label"),br("rdfs")("comment"),wn("url"),wn("sex"),wn("age"),wn("bmi"),gf.literal("Male"),gf.literal("Female"),wn("consortium_name"),wn("tissue_provider_name"),wn("tissue_provider_uuid"),wn("comes_from"),wn("subdivided_into_sections"),wn("generates_dataset"),wn("sample_type"),gf.literal("Tissue Block"),gf.literal("Tissue Section"),gf.literal("Non-standard"),wn("section_count"),wn("section_size"),wn("section_size_unit"),wn("section_number"),wn("has_registration_location"),wn("has_ontology_term"),wn("has_cell_type_term"),wn("has_biomarker_term"),wn("technology"),wn("thumbnail"),{x:wn,base:br("base"),ontologyNode:{label:wn("ccf_pref_label"),parent:wn("ccf_part_of"),children:wn("ccf_part_of"),rui_rank:wn("rui_rank"),synonymLabels:gf.namedNode("http://www.geneontology.org/formats/oboInOwl#hasExactSynonym")},asctb:{part_of:wn("ccf_part_of"),ct_is_a:wn("ccf_ct_isa"),located_in:wn("ccf_located_in"),characterizes:wn("ccf_characterizes"),bm_located_in:wn("ccf_bm_located_in")},spatial:{Female:br("base")("VHFemale"),Male:br("base")("VHMale"),BothSexes:br("base")("VHBothSexes"),FemaleOrgans:br("base")("VHFemaleOrgans"),MaleOrgans:br("base")("VHMaleOrgans")},SpatialObjectReference:wn("spatial_object_reference"),SpatialEntity:wn("spatial_entity"),SpatialPlacement:wn("spatial_placement"),spatialObjectReference:{file:wn("file_url"),file_format:wn("file_format"),file_subpath:wn("file_subpath")},extractionSet:{label:br("rdfs")("label"),rui_rank:wn("rui_rank")},spatialEntity:{label:br("rdfs")("label"),description:br("rdfs")("comment"),creator:br("dcterms")("creator"),creator_first_name:wn("creator_first_name"),creator_last_name:wn("creator_last_name"),creator_middle_name:wn("creator_middle_name"),creator_orcid:wn("creator_orcid"),creation_date:br("dcterms")("created"),updated_date:wn("updated_date"),ccf_annotations:wn("collides_with"),representation_of:wn("representation_of"),reference_organ:wn("has_reference_organ"),extraction_set_for:wn("extraction_set_for"),extraction_set:wn("has_extraction_set"),sex:wn("organ_owner_sex"),side:wn("organ_side"),rui_rank:wn("rui_rank"),slice_thickness:wn("slice_thickness"),slice_count:wn("slice_count"),x_dimension:wn("x_dimension"),y_dimension:wn("y_dimension"),z_dimension:wn("z_dimension"),dimension_units:wn("dimension_unit"),object:wn("has_object_reference")},spatialPlacement:{source:wn("placement_for"),target:wn("placement_relative_to"),placement_date:br("dcterms")("created"),x_scaling:wn("x_scaling"),y_scaling:wn("y_scaling"),z_scaling:wn("z_scaling"),scaling_units:wn("scaling_unit"),x_rotation:wn("x_rotation"),y_rotation:wn("y_rotation"),z_rotation:wn("z_rotation"),w_rotation:wn("theta_rotation"),rotation_order:wn("rotation_order"),rotation_units:wn("rotation_unit"),x_translation:wn("x_translation"),y_translation:wn("y_translation"),z_translation:wn("z_translation"),translation_units:wn("translation_unit")}}),xi={x:br("uberon"),body:br("uberon")("0013702")},dze={x:br("cl"),cell:br("cl")("0000000")},lx={x:br("fma")},kl=(br("lmha"),{body:xi.body,cell:dze.cell,respiratory_system:xi.x("0001004"),colon:xi.x("0001155"),left_lung:xi.x("0002168"),right_lung:xi.x("0002167"),left_bronchus:xi.x("0002178"),right_bronchus:xi.x("0002177"),kidney:xi.x("0002113"),ureter:xi.x("0000056"),eye:xi.x("0000970"),fallopian_tube:xi.x("0003889"),knee:xi.x("0001465"),ovary:xi.x("0000992"),trachea:xi.x("0003126"),aorta:xi.x("0000947"),blood:xi.x("0000178"),bone_marrow:xi.x("0002371"),male_reproductive_system:xi.x("0000079"),lymph_node:xi.x("0000029"),blood_vasculature:xi.x("0004537"),brain:xi.x("0000955"),eye_left:xi.x("0004548"),eye_right:lx.x("54449"),fallopian_tube_left:xi.x("0001303"),fallopian_tube_right:xi.x("0001302"),heart:xi.x("0000948"),kidney_left:xi.x("0004538"),kidney_right:xi.x("0004539"),knee_left:lx.x("24978"),knee_right:lx.x("24977"),large_intestine:xi.x("0000059"),liver:xi.x("0002107"),lungs:xi.x("0002048"),mesenteric_lymph_node:xi.x("0002509"),ovary_left:lx.x("7214"),ovary_right:lx.x("7213"),pancreas:xi.x("0001264"),pelvis:xi.x("0001270"),prostate_gland:xi.x("0002367"),skin:xi.x("0002097"),small_intestine:xi.x("0002108"),spleen:xi.x("0002106"),thymus:xi.x("0002370"),ureter_left:xi.x("0001223"),ureter_right:xi.x("0001222"),urinary_bladder:xi.x("0001255"),uterus:xi.x("0000995")});function KB(n){const e={};return Object.entries(n).forEach(([t,i])=>{e[i.id]=t}),e}KB(Di.spatialObjectReference),KB(Di.spatialEntity),KB(Di.spatialPlacement);function t8e(n,e,t){const i={"@id":e,"@type":"OntologyTreeNode",id:e,parent:"",children:[],synonymLabels:[],label:""},r={[Di.ontologyNode.label.id]:"label",[t]:"parent",[Di.ontologyNode.synonymLabels.id]:"synonymLabels"};for(const[o,s]of function*OM(n,e,t){for(const[i,r]of Object.entries(t))for(const o of iZ(n,e,i,null,null)){const s="Literal"===o.object.termType?(0,HVe.fromRdf)(o.object):o.object.id;yield[r,s]}}(n,e,r))"synonymLabels"===o?i.synonymLabels.push(s):i[o]=s;return i.children=n.getSubjects(t,e,null).map(o=>o.id),i}function NZ(n,e,t,i){const r={root:e,nodes:{}},o=new Set;for(const a of iZ(n,null,i,null,null))o.add(a.subject.id),o.add(a.object.id);for(const a of o)r.nodes[a]=t8e(n,a,i);r.nodes[e]||(r.nodes[e]={"@id":e,"@type":"OntologyTreeNode",id:e,label:t,children:[],synonymLabels:[]});const s=n.getSubjects(i,e,null).map(a=>a.id).sort((a,c)=>r.nodes[a].label.localeCompare(r.nodes[c].label));return r.nodes[e].children=s,FZ(r),r}function FZ(n,e=void 0,t=new Set){const i=n.nodes[e??n.root];if(i){i.children=i.children.filter(r=>!t.has(r)),i.children.forEach(r=>t.add(r));for(const r of i.children)FZ(n,r,t),n.nodes[r]&&(n.nodes[r].parent=i["@id"])}}cze(function n8e(n){const e=NZ(n,kl.body.id,"body",Di.asctb.part_of.id);return e.nodes[kl.body.id].children=["http://purl.obolibrary.org/obo/UBERON_0000955","http://purl.obolibrary.org/obo/UBERON_0000029","http://purl.obolibrary.org/obo/UBERON_0000970","http://purl.obolibrary.org/obo/UBERON_0003889","http://purl.obolibrary.org/obo/UBERON_0000948","http://purl.obolibrary.org/obo/UBERON_0002113","http://purl.obolibrary.org/obo/UBERON_0001465","http://purl.obolibrary.org/obo/UBERON_0001737","http://purl.obolibrary.org/obo/UBERON_0002107","http://purl.obolibrary.org/obo/UBERON_0002048","http://purl.obolibrary.org/obo/UBERON_0002182","http://purl.obolibrary.org/obo/UBERON_0001911","http://purl.obolibrary.org/obo/UBERON_0000992","http://purl.obolibrary.org/obo/UBERON_0002373","http://purl.obolibrary.org/obo/UBERON_0001264","http://purl.obolibrary.org/obo/UBERON_0001270","http://purl.obolibrary.org/obo/UBERON_0001987","http://purl.obolibrary.org/obo/UBERON_0002367","http://purl.obolibrary.org/obo/UBERON_0002097","http://purl.obolibrary.org/obo/UBERON_0002108","http://purl.obolibrary.org/obo/UBERON_0002240","http://purl.obolibrary.org/obo/UBERON_0000059","http://purl.obolibrary.org/obo/UBERON_0002106","http://purl.obolibrary.org/obo/UBERON_0002370","http://purl.obolibrary.org/obo/UBERON_0003126","http://purl.obolibrary.org/obo/UBERON_0000056","http://purl.obolibrary.org/obo/UBERON_0001255","http://purl.obolibrary.org/obo/UBERON_0000995","http://purl.obolibrary.org/obo/UBERON_0004537"].filter(t=>t in e.nodes),e},()=>"");const w8e=[204,204,204,255],vm=[213,0,0,255],wm=[29,204,101,255],xm=[41,121,255,255],E8e=[204,204,204,255],BM=[213,0,0,255],UM=[29,204,101,255],VM=[41,121,255,255];let Em=class KM extends cb{constructor(e,t){super(),this.globals=e,this.globalConfig=t}ngxsOnInit(){super.ngxsOnInit(),this.getSourceDB().subscribe(e=>{this.setState(e)})}getSourceDB(){return this.globalConfig.getOption("baseHref").pipe(Lt(e=>(e??"")+"assets/reference-organ-data.json"),jr(e=>oo(fetch(e)).pipe(jr(t=>t.json()),Ga(()=>na))))}normalizePlacement(e){const i=this.snapshot.placementPatches[e?.target];if(i){const r=function S8e(n,e){const t=e;let i;switch(t.translation_units){case"centimeter":i=.01;break;case"millimeter":i=.001;break;default:i=1}const r=[t.x_translation,t.y_translation,t.z_translation].map(a=>a*i),o=[t.x_rotation,t.y_rotation,t.z_rotation].map(ho),s=[t.x_scaling,t.y_scaling,t.z_scaling];return n.translate(r).rotateXYZ(o).scale(s)}(new Nt(Nt.IDENTITY),i),o={x:e.x_translation,y:e.y_translation,z:e.z_translation},[s,a,c]=r.transformAsPoint([o.x,o.y,o.z],[]),l={...e,target:i.target};return l.x_translation=s,l.y_translation=a,l.z_translation=c,l}return e}getReferenceOrganIri(e,t,i,r){const o=this.snapshot;"KIDNEY"!==e.toUpperCase()&&(i=""),r?.sex&&(t=r.sex);const s=[e,t,i||r?.side].join("|").toUpperCase(),a=Object.keys(o.organIRILookup).find(c=>c.toUpperCase().endsWith(s));return this.getLatestIri(a?o.organIRILookup[a]:void 0)}getOrganData(e){const t=this.getLatestIri(e),r=this.snapshot.organSpatialEntities[t];if(!r)return;const o=r.label??"",s=ex.find(a=>o.endsWith(a.organ)&&(!r.side||r.side.toLowerCase()===a.side));return s?{organ:s,sex:r.sex?.toLowerCase(),side:r.side?.toLowerCase()}:void 0}getLatestIri(e){if(!e)return"";const t=this.snapshot.placementPatches[e];return t?this.getLatestIri(t.target):e}static#e=this.\u0275fac=function(t){return new(t||KM)(et(qJ),et(Ld))};static#t=this.\u0275prov=Dt({token:KM,factory:KM.\u0275fac})};function VZ(n){const e=new Nt(n.transformMatrix),t=e.transformAsPoint([-1,-1,-1],[]),i=e.transformAsPoint([1,1,1],[]);return new Mr({lowerBound:new we(...t.map((r,o)=>Math.min(r,i[o]))),upperBound:new we(...i.map((r,o)=>Math.max(r,t[o])))})}Em=Bt([hf(),Hu({name:"reference",defaults:{organIRILookup:{},organSpatialEntities:{},anatomicalStructures:{},extractionSets:{},sceneNodeLookup:{},simpleSceneNodeLookup:{},placementPatches:{}}})],Em);let ua=class qM extends cb{get nodes$(){return zo([this.placementCube$,this.referenceOrganNodes$,this.previousRegistrationNodes$,this.nodeCollisions$,this.spatialKeyBoardAxis$]).pipe(Lt(([e,t,i,r,o])=>[...e,...i,...t,...o,...this.snapshot.showCollisions?r:[]]))}get rotatedNodes$(){return zo([this.rotation$,this.nodes$]).pipe(Lt(([e,t])=>0===e?t:t.map(i=>({...i,transformMatrix:new Nt(Nt.IDENTITY).rotateY(ho(e)).multiplyRight(i.transformMatrix)}))))}get referenceOrganNodes$(){return zo([this.model.anatomicalStructures$,this.model.extractionSites$,this.model.organIri$]).pipe(Lt(([e,t,i])=>{const r=this.getOrganSpatialEntity(i),o=i?function C8e(n,e=!1,t=!1){const i=n.x_dimension/1e3,r=n.y_dimension/1e3,o=n.z_dimension/1e3,s=.05*Math.max(i,r,o),a=.1*s,c=t?[i,r,o].map(l=>-.5*l):[0,0,0];return[{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginSphere","@type":"SpatialSceneNode",unpickable:!0,geometry:"sphere",transformMatrix:new Nt(Nt.IDENTITY).translate(c).scale(s),color:E8e},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginX","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Nt(Nt.IDENTITY).translate(c).translate([i/2,0,0]).rotateZ(ho(-90)).scale([a,i,a]),color:BM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Nt(Nt.IDENTITY).translate(c).translate([i,0,0]).rotateZ(ho(-90)).scale([s,3*s,s]),color:BM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXALabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"A",transformMatrix:new Nt(Nt.IDENTITY).translate(c).translate([2*-s,0,0]).scale(s),color:BM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXDLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"D",transformMatrix:new Nt(Nt.IDENTITY).translate(c).translate([i+2*s,0,0]).scale(s),color:BM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginY","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Nt(Nt.IDENTITY).translate(c).translate([0,r/2,0]).scale([a,r,a]),color:UM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Nt(Nt.IDENTITY).translate(c).translate([0,r,0]).scale([s,3*s,s]),color:UM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYSLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"S",transformMatrix:new Nt(Nt.IDENTITY).translate(c).translate([1.5*s,1.5*s,0]).scale(s),color:UM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYWLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"W",transformMatrix:new Nt(Nt.IDENTITY).translate(c).translate([0,r+2*s,0]).scale(s),color:UM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Nt(Nt.IDENTITY).translate(c).translate([0,0,o/2]).rotateX(ho(90)).scale([a,o,a]),color:VM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Nt(Nt.IDENTITY).translate(c).translate([0,0,o]).rotateX(ho(90)).scale([s,3*s,s]),color:VM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZQLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"Q",transformMatrix:new Nt(Nt.IDENTITY).translate(c).translate([1.5*s,1.5*-s,0]).scale(s),color:VM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZELabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"E",transformMatrix:new Nt(Nt.IDENTITY).translate(c).translate([0,0,o+2*s]).scale(s),color:VM}].filter(l=>e&&"text"===l.geometry&&l.text||!l.text)}(r,!1,!0):[];return[...o,...this.createSceneNodes(i,[...e,...t])]}))}get referenceOrganSimpleNodes$(){return zo([this.model.anatomicalStructures$,this.model.organIri$,this.referenceData.state$]).pipe(Lt(([e,t,i])=>e.map(r=>i.sceneNodeLookup[r.id]?[{...i.simpleSceneNodeLookup[r.id],opacity:(r.opacity??100)/100,color:[255,255,255,255]}]:(i.anatomicalStructures[t]||[]).filter(o=>o.representation_of===r.id).map(o=>({...i.simpleSceneNodeLookup[o["@id"]],opacity:(r.opacity??100)/100,color:[255,255,255,255]}))).reduce((r,o)=>r.concat(o),[])),ia(tx.isEqual))}get nodeCollisions$(){return zo([this.referenceOrganSimpleNodes$,this.collisions$,this.placementCube$]).pipe(XA(10,void 0,{leading:!0,trailing:!0}),Lt(([e,t,i])=>void 0!==t?this.filterNodeCollisions(e,t):i.length>0?this.filterNodeBBox(e,i[0]):[]),ld())}get previousRegistrationNodes$(){return zo([this.model.organIri$,this.model.showPrevious$,this.registration.previousRegistrations$]).pipe(Lt(([e,t,i])=>t?i.map(r=>{const o=Array.isArray(r.placement)?r.placement[0]:r.placement;if(o.target===e){const s=this.model.snapshot.organDimensions,a=[s.x,s.y,s.z].map(c=>-c/1e3/2);return{"@id":r["@id"],"@type":"SpatialSceneNode",transformMatrix:new Nt(Nt.IDENTITY).translate([o.x_translation,o.y_translation,o.z_translation].map((c,l)=>c/1e3+a[l])).rotateXYZ([o.x_rotation,o.y_rotation,o.z_rotation].map(ho)).scale([r.x_dimension,r.y_dimension,r.z_dimension].map(c=>c/1e3/2)),color:[25,118,210,200],tooltip:r.label,unpickable:!0}}}).filter(r=>!!r):[]))}get spatialKeyBoardAxis$(){return zo([this.model.organIri$.pipe(Ei(e=>""!==e)),this.model.position$]).pipe(Lt(([e,t])=>{const i=this.getOrganSpatialEntity(e),r=this.model.snapshot.blockSize,o=this.model.snapshot.rotation;return i?function x8e(n,e){const t=n.x_dimension/1e3,i=n.y_dimension/1e3,r=n.z_dimension/1e3,o=.1*Math.max(t,i,r),s=Math.max(t,i,r),a=.05*s,c=2*s,l=4*a,d={radius:s/1e3/2,x:e.x_translation/1e3,y:e.y_translation/1e3,z:e.z_translation/1e3,rx:ho(e.x_rotation),ry:ho(e.y_rotation),rz:ho(e.z_rotation),sx:n.x_dimension/1e3,sy:n.y_dimension/1e3,sz:n.z_dimension/1e3};return[{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginSphere","@type":"SpatialSceneNode",unpickable:!0,geometry:"sphere",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Nt(Nt.IDENTITY).translate([-d.sx/2,-d.sy/2,-d.sz/2]).scale(o)),color:w8e},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginX","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Nt(Nt.IDENTITY).translate([0,-d.sy/2,-d.sz/2]).rotateZ(ho(-90)).scale([a,d.sx,a])),color:vm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginY","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Nt(Nt.IDENTITY).translate([-d.sx/2,0,-d.sz/2]).scale([a,d.sy,a])),color:wm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginZ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Nt(Nt.IDENTITY).translate([-d.sx/2,-d.sy/2,0]).rotateX(ho(90)).scale([a,d.sz,a])),color:xm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXD","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x+d.radius+c/2,d.y,d.z]).rotateZ(ho(-90)).scale([a,c,a]),color:vm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXDCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x+d.radius+c,d.y,d.z]).rotateZ(ho(-90)).scale([l,3*l,l]),color:vm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXDLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"D",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x+d.radius+c+3*l,d.y,d.z]).scale(l),color:vm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXA","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x-d.radius-c/2,d.y,d.z]).rotateZ(ho(-90)).scale([a,c,a]),color:vm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXACone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x-d.radius-c,d.y,d.z]).rotateZ(ho(90)).scale([l,3*l,l]),color:vm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXALabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"A",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x-d.radius-c-3.5*l,d.y,d.z]).scale(l),color:vm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYW","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y+d.radius+c/2,d.z]).scale([a,c,a]),color:wm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYWCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y+d.radius+c,d.z]).scale([l,3*l,l]),color:wm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYWLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"W",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y+d.radius+c+3*l,d.z]).scale(l),color:wm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYS","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y-d.radius-c/2,d.z]).scale([a,c,a]),color:wm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYSCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y-d.radius-c,d.z]).rotateZ(ho(180)).scale([l,3*l,l]),color:wm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYSLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"S",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y-d.radius-c-3.5*l,d.z]).scale(l),color:wm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c/2]).rotateX(ho(90)).scale([a,c,a]),color:xm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c]).rotateX(ho(90)).scale([l,3*l,l]),color:xm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"Q",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c+3*l]).scale(l),color:xm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZE","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c/2]).rotateX(ho(-90)).scale([a,c,a]),color:xm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZECone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c]).rotateX(ho(-90)).scale([l,3*l,l]),color:xm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZELabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"E",transformMatrix:new Nt(Nt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c-3.5*l]).scale(l),color:xm}]}({x_dimension:r.x,y_dimension:r.y,z_dimension:r.z},{x_translation:t.x-i.x_dimension/2,y_translation:t.y-i.y_dimension/2,z_translation:t.z-i.z_dimension/2,x_rotation:o.x,y_rotation:o.y,z_rotation:o.z,x_scaling:1,y_scaling:1,z_scaling:1}):[]}))}get placementCube$(){return zo([this.model.viewType$,this.model.blockSize$,this.model.rotation$,this.model.position$,this.model.organ$]).pipe(Lt(([e,t,i,r,o])=>""===o.src?[]:[this.placementCube]),ia(tx.isEqual))}get placementCube(){const{viewType:e,blockSize:t,rotation:i,position:r,organDimensions:o}=this.model.snapshot,s=[o.x,o.y,o.z].map(a=>-a/1e3/2);return{"@id":"#DraftPlacement","@type":"SpatialSceneNode",transformMatrix:new Nt(Nt.IDENTITY).translate([r.x,r.y,r.z].map((a,c)=>a/1e3+s[c])).rotateXYZ([i.x,i.y,i.z].map(ho)).scale([t.x,t.y,t.z].map(a=>a/1e3/2)),color:[255,255,0,200],tooltip:"Draft Placement",unpickable:"3d"===e}}get rotation$(){return this.model.viewSide$.pipe(Lt(e=>{let t=0;switch(e){case"left":t=-90;break;case"right":t=90;break;case"posterior":t=180}return t}))}get collisions$(){return lm(()=>this.registration.throttledJsonld$).pipe(d_(e=>this.getCollisions(e)),Zo([]))}constructor(e,t,i){super(),this.injector=e,this.http=t,this.globalConfig=i,this.gizmo$=In([{"@id":"http://purl.org/ccf/latest/ccf.owl#VHMaleOrgans_VHM_Spleen_Colic_Surface","@type":"SpatialSceneNode",scenegraph:"https://hubmapconsortium.github.io/ccf-3d-reference-object-library/Assets/body4Mesh_1338.glb",transformMatrix:new Nt(Nt.IDENTITY).scale([2,2,2]).rotateY(ho(0)),tooltip:"Gizmo",unpickable:!0,_lighting:"pbr",zoomBasedOpacity:!1,color:[255,255,255,255],opacity:1}])}ngxsOnInit(){super.ngxsOnInit(),this.model=this.injector.get(yr),this.registration=this.injector.get(Ro),this.referenceData=this.injector.get(Em)}createSceneNodes(e,t){const i=this.referenceData.snapshot;return t.filter(r=>r.visible&&r.opacity&&r.opacity>0).map(r=>i.sceneNodeLookup[r.id]?[{...i.sceneNodeLookup[r.id],opacity:(r.opacity??100)/100,color:[255,255,255,255]}]:(i.anatomicalStructures[e]||[]).filter(o=>o.representation_of===r.id).map(o=>({...i.sceneNodeLookup[o["@id"]],opacity:(r.opacity??100)/100,color:[255,255,255,255]}))).reduce((r,o)=>r.concat(o),[])}getOrganSpatialEntity(e){return this.referenceData.snapshot.organSpatialEntities[e]}getCollisions(e){return this.globalConfig.getOption("collisionsEndpoint").pipe(jr((t="https://pfn8zf2gtu.us-east-2.awsapprunner.com/get-collisions")=>this.http.post(t,JSON.stringify(e),{headers:{"Content-Type":"application/json"}})),Ga(()=>In(void 0)),_r(1))}filterNodeCollisions(e,t){const i=new Set(t.map(r=>r.id));return e.filter(r=>i.has(r["@id"]))}filterNodeBBox(e,t){const i=VZ(t);return e.filter(r=>i.overlaps(VZ(r)))}static#e=this.\u0275fac=function(t){return new(t||qM)(et(Gi),et(Ap),et(Ld))};static#t=this.\u0275prov=Dt({token:qM,factory:qM.\u0275fac})};Bt([$i()],ua.prototype,"nodes$",null),Bt([$i()],ua.prototype,"rotatedNodes$",null),Bt([$i()],ua.prototype,"referenceOrganNodes$",null),Bt([$i()],ua.prototype,"referenceOrganSimpleNodes$",null),Bt([$i()],ua.prototype,"nodeCollisions$",null),Bt([$i()],ua.prototype,"previousRegistrationNodes$",null),Bt([$i()],ua.prototype,"spatialKeyBoardAxis$",null),Bt([$i()],ua.prototype,"placementCube$",null),Bt([$i()],ua.prototype,"placementCube",null),Bt([$i()],ua.prototype,"rotation$",null),Bt([$i()],ua.prototype,"collisions$",null),ua=Bt([hf(),Hu({name:"scene",defaults:{showCollisions:!1}})],ua);let Vd=class JM extends $Le{get tags$(){return zo([this.entities$,this.scene.nodeCollisions$]).pipe(Lt(([e,t])=>{const i=[],r=new Set,o=new Set;Object.entries(e).forEach(([s,a])=>{"removed"===a.type?o.add(s):(r.add(s),i.push(a))});for(const s of t){const a=s.representation_of;a&&!o.has(a)&&!r.has(a)&&(r.add(a),i.push({id:a,label:s.tooltip,type:"assigned"}))}return i}))}get latestTags(){return this._latestTags}constructor(e){super(),this.injector=e,this._latestTags=[]}ngxsOnInit(){super.ngxsOnInit(),this.model=this.injector.get(yr),this.scene=this.injector.get(ua),this.page=this.injector.get(so),this.tags$.subscribe(e=>{this._latestTags=e}),this.entities$.subscribe(()=>this.page.setHasChanges())}addTags(e){for(const t of e)this.addTagRaw(t)}addTag(e){this.addTagRaw(e)}removeTag(e){this.snapshot.entities[e.id]?this.updateEntitiesMany([{id:e.id,changes:{type:"removed"}}]):this.addEntityOne({...e,type:"removed"})}searchExternal(e,t){const i=this.model.snapshot.anatomicalStructures.filter(r=>-1!==r.name.toLowerCase().indexOf(e.toLowerCase()));return[{totalCount:i.length,results:i.map(r=>({id:r.id,label:r.name,type:"added"})).slice(0,t)}]}addTagRaw(e){this.snapshot.entities[e.id]?this.updateEntitiesMany([{id:e.id,changes:{type:"added"}}]):this.addEntityOne({...e,type:"added"})}static#e=this.\u0275fac=function(t){return new(t||JM)(et(Gi))};static#t=this.\u0275prov=Dt({token:JM,factory:JM.\u0275fac})};Bt([$i()],Vd.prototype,"tags$",null),Bt([ti()],Vd.prototype,"addTags",null),Bt([ti()],Vd.prototype,"addTag",null),Bt([ti()],Vd.prototype,"removeTag",null),Bt([Td.ak],Vd.prototype,"searchExternal",null),Vd=Bt([hf(),Hu({name:"tags",defaults:{...function CVe(n){return n??{ids:[],entities:{}}}()}})],Vd);let Ro=class ZM extends cb{get metadata$(){return zo([this.page.state$,this.model.state$,this.tags.tags$]).pipe(Lt(([e,t,i])=>this.buildMetadata(e,t,i)))}get jsonld$(){return zo([this.page.state$,this.model.state$,this.tags.tags$]).pipe(Lt(([e,t,i])=>this.buildJsonLd(e,t,i)))}get throttledJsonld$(){return zo([this.page.state$,this.model.state$,this.tags.tags$]).pipe(XA(100,void 0,{leading:!0,trailing:!0}),ia(tx.isEqual),Lt(([e,t,i])=>this.buildJsonLd(e,t,i)))}get valid$(){return zo([this.page.state$,this.model.state$]).pipe(Lt(()=>this.isValid))}get previousRegistrations$(){const{globalConfig:e,state$:t}=this;return zo([t.pipe(Lt(o=>o?.registrations)),e.getOption("fetchPreviousRegistrations").pipe(jr(o=>o?.()??[[]]),Zo([]))]).pipe(Lt(([o,s])=>[...o,...s]))}get currentIdentifier(){return EVe()}get currentDate(){return(new Date).toISOString().split("T")[0]}constructor(e,t){super(),this.injector=e,this.globalConfig=t,this.displayErrors$=this.state$.pipe(Lt(i=>i?.displayErrors))}ngxsOnInit(){super.ngxsOnInit(),this.page=this.injector.get(so),this.model=this.injector.get(yr),this.tags=this.injector.get(Vd),this.refData=this.injector.get(Em),this.refData.state$.subscribe(()=>{this.globalConfig.config$.pipe(_r(1),pr(({useDownload:e,register:t,organOptions:i})=>{this.ctx.patchState({useRegistrationCallback:!(e||!t)}),this.page.setOrcidId(),this.model.setOrganDefaults(),this.setOrganSelection(i)})).subscribe(),this.globalConfig.getOption("editRegistration").pipe(XL(),pr(e=>{this.editRegistration(e)})).subscribe()})}editRegistration(e){var t=this;return yn(function*(){t.ctx.patchState({initialRegistration:e});const i=t.refData.normalizePlacement(Array.isArray(e.placement)?e.placement[0]:e.placement),r=t.refData.getOrganData(i.target);t.page.setUserName({firstName:e.creator_first_name,middleName:e.creator_middle_name,lastName:e.creator_last_name});const o=t.page.uriToOrcid(e.creator_orcid);t.page.setOrcidId(o),r&&(t.model.setOrgan(r.organ),r.sex&&t.model.setSex(r.sex),r.side&&t.model.setSide(r.side)),t.model.setBlockSize({x:e.x_dimension,y:e.y_dimension,z:e.z_dimension}),t.model.setRotation({x:i.x_rotation,y:i.y_rotation,z:i.z_rotation}),t.model.setSlicesConfig({thickness:e.slice_thickness||NaN,numSlices:e.slice_count||NaN}),t.model.setPosition({x:i.x_translation,y:i.y_translation,z:i.z_translation});const s=new Set(e.ccf_annotations);t.tags.addTags(t.model.snapshot.anatomicalStructures.filter(a=>s.has(a.id)).map(a=>({id:a.id,label:a.name,type:"added"}))),t.page.registrationStarted()})()}setUseRegistrationCallback(e){this.ctx.patchState({useRegistrationCallback:e})}setDisplayErrors(e){this.ctx.patchState({displayErrors:e})}addRegistration(e){this.ctx.setState(tm({registrations:jRe(e)})),this.page.registrationStarted()}setOrganSelection(e=[]){this.page.patchState({organOptions:this.organListOptions(e)})}isDataValid(e,t){return[e.user.firstName,e.user.lastName,e.orcidValid,t.organ.src,t.organ.name,t.organ.organ].every(r=>!!r)}get isValid(){return this.isDataValid(this.page.snapshot,this.model.snapshot)}register(e){if(this.page.registrationStarted(),!this.isValid)return;const{globalConfig:{snapshot:{register:t}},page:i,model:r,snapshot:o}=this,s=this.buildJsonLd(i.snapshot,r.snapshot,this.tags.latestTags),a=JSON.stringify(s,void 0,2);if(e??(void 0===e&&o.useRegistrationCallback))t?.(a);else{const c=new Blob([a],{type:"application/json",endings:"native"});(0,yVe.saveAs)(c,"registration-data.json")}this.setDisplayErrors(!1),this.page.clearHasChanges(),this.addRegistration(s)}setToInitialRegistration(){const{page:e}=this,t={...this.snapshot.initialRegistration,creator_first_name:e.snapshot.user.firstName,creator_last_name:e.snapshot.user.lastName,creator_middle_name:e.snapshot.user.middleName,creator_orcid:e.snapshot.user.orcidId};this.editRegistration(t)}buildMetadata(e,t,i){const r=[];return e.registrationCallbackSet||r.push({label:"First Name",value:e.user.firstName},{label:"Last Name",value:e.user.lastName}),r.push({label:"Reference Organ Name",value:t.organ.name},{label:"Tissue Block Dimensions (mm)",value:this.xyzTripletToString(t.blockSize)},{label:"Tissue Block Position (mm)",value:this.xyzTripletToString(t.position)},{label:"Tissue Block Rotation",value:this.xyzTripletToString(t.rotation)},{label:"Anatomical Structure Tags",value:i.map(o=>o.label).join(", ")},{label:"Time Stamp",value:this.currentDate},{label:"Alignment ID",value:this.currentIdentifier}),r}buildJsonLd(e,t,i){return{"@context":"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld","@id":`http://purl.org/ccf/1.5/${this.currentIdentifier}`,"@type":"SpatialEntity",label:t.label||void 0,creator:`${e.user.firstName} ${e.user.middleName?e.user.middleName+" ":""}${e.user.lastName}`,creator_first_name:e.user.firstName,creator_last_name:e.user.lastName,creator_middle_name:e.user.middleName,creator_orcid:e.user.orcidId,creation_date:this.currentDate,ccf_annotations:i.map(r=>r.id),slice_thickness:t.slicesConfig?.thickness||void 0,slice_count:t.slicesConfig?.numSlices||void 0,x_dimension:+t.blockSize.x.toFixed(3),y_dimension:+t.blockSize.y.toFixed(3),z_dimension:+t.blockSize.z.toFixed(3),dimension_units:"millimeter",placement:{"@context":"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld","@id":`http://purl.org/ccf/1.5/${this.currentIdentifier}_placement`,"@type":"SpatialPlacement",target:t.organIri,placement_date:this.currentDate,x_scaling:1,y_scaling:1,z_scaling:1,scaling_units:"ratio",x_rotation:+t.rotation.x.toFixed(3),y_rotation:+t.rotation.y.toFixed(3),z_rotation:+t.rotation.z.toFixed(3),rotation_order:"XYZ",rotation_units:"degree",x_translation:+t.position.x.toFixed(3),y_translation:+t.position.y.toFixed(3),z_translation:+t.position.z.toFixed(3),translation_units:"millimeter"}}}xyzTripletToString(e){return`${Math.round(e.x)}, ${Math.round(e.y)}, ${Math.round(e.z)}`}organListOptions(e){return e&&e.length>0?s3.filter(t=>!!t.id&&e.includes(t.id)):s3}static#e=this.\u0275fac=function(t){return new(t||ZM)(et(Gi),et(Ld))};static#t=this.\u0275prov=Dt({token:ZM,factory:ZM.\u0275fac})};Bt([$i()],Ro.prototype,"metadata$",null),Bt([$i()],Ro.prototype,"jsonld$",null),Bt([$i()],Ro.prototype,"throttledJsonld$",null),Bt([$i()],Ro.prototype,"valid$",null),Bt([$i()],Ro.prototype,"previousRegistrations$",null),Bt([$i()],Ro.prototype,"currentIdentifier",null),Bt([$i()],Ro.prototype,"currentDate",null),Bt([ti()],Ro.prototype,"setUseRegistrationCallback",null),Bt([ti()],Ro.prototype,"setDisplayErrors",null),Bt([ti()],Ro.prototype,"addRegistration",null),Bt([ti()],Ro.prototype,"setOrganSelection",null),Bt([$i()],Ro.prototype,"isValid",null),Ro=Bt([hf(),Hu({name:"registration",defaults:{useRegistrationCallback:!1,displayErrors:!1,registrations:[]}})],Ro);let so=class QM extends cb{get skipConfirmation$(){return this.state$.pipe(KL("skipConfirmation"))}get globalSkipConfirmation$(){return this.globalConfig.getOption("skipUnsavedChangesConfirmation").pipe(Lt(e=>e??false),ia())}get hasChanges$(){return this.state$.pipe(KL("hasChanges"))}constructor(e,t){super(),this.globalConfig=e,this.reg=t,this.user$=this.state$.pipe(Lt(i=>i?.user)),this.registrationStarted$=this.state$.pipe(KL("registrationStarted")),this.useCancelRegistrationCallback$=this.state$.pipe(Lt(i=>i?.useCancelRegistrationCallback)),this.registrationCallbackSet$=this.state$.pipe(Lt(i=>i?.registrationCallbackSet)),this.organOptions$=this.state$.pipe(Lt(i=>i?.organOptions)),this.orcidValid$=this.state$.pipe(Lt(i=>i?.orcidValid))}ngxsOnInit(){super.ngxsOnInit(),zo([this.reg.state$,this.globalConfig.config$]).pipe(pr(([e,t])=>{this.setState(tm({registrationCallbackSet:!!e.useRegistrationCallback&&!!t.register,useCancelRegistrationCallback:!!t.cancelRegistration,user:VRe(!!t.user,t.user),registrationStarted:!!(t.user??e.initialRegistration)||void 0}))})).subscribe(),this.initSkipConfirmationListeners()}cancelRegistration(){const{globalConfig:{snapshot:{cancelRegistration:e}},snapshot:{useCancelRegistrationCallback:t,skipConfirmation:i}}=this;t&&(i||confirm("Changes you made may not be saved."))&&e?.()}setUseCancelRegistrationCallback(e){this.ctx.patchState({useCancelRegistrationCallback:e})}setUserName(e){this.ctx.setState(tm({user:tm({firstName:e.firstName,lastName:e.lastName,middleName:""!==e.middleName?e.middleName:void 0})}))}setOrcidId(e){this.ctx.setState(tm({user:tm({orcidId:e?this.orcidToUri(e):void 0})})),this.ctx.patchState({orcidValid:!e||this.isOrcidValid()})}registrationStarted(){this.ctx.setState(tm({registrationStarted:!0}))}setHasChanges(){const{snapshot:{registrationStarted:e,hasChanges:t}}=this;e&&!t&&this.ctx.patchState({hasChanges:!0})}clearHasChanges(){this.ctx.patchState({hasChanges:!1})}initSkipConfirmationListeners(){const e=i=>this.patchState({skipConfirmation:i});this.globalSkipConfirmation$.pipe(Ei(i=>i)).subscribe(e),this.hasChanges$.pipe(function bVe(...n){const e=DO(n);return Oi((t,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let c=0;c<r;c++)yo(n[c]).subscribe(si(i,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Wo))&&(s=null))},it));t.subscribe(si(i,c=>{if(a){const l=[c,...o];i.next(e?e(...l):l)}}))})}(this.globalSkipConfirmation$),Lt(([i,r])=>r||!i),ia()).subscribe(e);const t=i=>(i.preventDefault(),i.returnValue="Changes you made may not be saved.",i.returnValue);this.skipConfirmation$.subscribe(i=>{i?removeEventListener("beforeunload",t):addEventListener("beforeunload",t)})}isOrcidValid(){const e=this.uriToOrcid(this.snapshot.user.orcidId);return!(e&&!e.match("^[a-zA-Z0-9]{4}(-[a-zA-Z0-9]{4}){3}$"))}uriToOrcid(e){return e?e.split("/").slice(-1)[0]:""}orcidToUri(e){return"https://orcid.org/"+e.replace(/-/g,"").replace(/(.{1,4})/g,"$1-").slice(0,-1)}static#e=this.\u0275fac=function(t){return new(t||QM)(et(Ld),et(Ro))};static#t=this.\u0275prov=Dt({token:QM,factory:QM.\u0275fac})};Bt([$i()],so.prototype,"skipConfirmation$",null),Bt([$i()],so.prototype,"globalSkipConfirmation$",null),Bt([$i()],so.prototype,"hasChanges$",null),Bt([ti()],so.prototype,"setUseCancelRegistrationCallback",null),Bt([ti()],so.prototype,"setUserName",null),Bt([ti()],so.prototype,"setOrcidId",null),Bt([ti()],so.prototype,"registrationStarted",null),Bt([ti()],so.prototype,"setHasChanges",null),Bt([ti()],so.prototype,"clearHasChanges",null),so=Bt([hf(),Hu({name:"page",defaults:{user:{firstName:"",lastName:""},registrationStarted:!1,useCancelRegistrationCallback:!1,registrationCallbackSet:!1,skipConfirmation:!0,hasChanges:!1,organOptions:[],orcidValid:!1}})],so);const s3=ex;let yr=class eT extends cb{get modelChanged$(){const e=["viewType","viewSide","showPrevious"],t=Object.keys(this.initialState).filter(i=>!e.includes(i));return this.state$.pipe(XA(0,void 0,{leading:!1,trailing:!0}),ia((i,r)=>{for(const o of t)if(i[o]!==r[o])return!1;return!0}),Lt(()=>{}))}constructor(e,t,i){super(),this.ga=e,this.injector=t,this.globalConfig=i,this.id$=this.state$.pipe(Lt(r=>r?.id),da()),this.blockSize$=this.state$.pipe(Lt(r=>r?.blockSize),da()),this.rotation$=this.state$.pipe(Lt(r=>r?.rotation),da()),this.position$=this.state$.pipe(Lt(r=>r?.position),da()),this.slicesConfig$=this.state$.pipe(Lt(r=>r?.slicesConfig),da()),this.viewType$=this.state$.pipe(Lt(r=>r?.viewType),da()),this.viewSide$=this.state$.pipe(Lt(r=>r?.viewSide),da()),this.organ$=this.state$.pipe(Lt(r=>r?.organ),da()),this.organIri$=this.state$.pipe(Lt(r=>r?.organIri),da()),this.organDimensions$=this.state$.pipe(Lt(r=>r?.organDimensions),da()),this.sex$=this.state$.pipe(Lt(r=>r?.sex),da()),this.side$=this.state$.pipe(Lt(r=>r?.side),da()),this.showPrevious$=this.state$.pipe(Lt(r=>r?.showPrevious),da()),this.extractionSites$=this.state$.pipe(Lt(r=>r?.extractionSites),da()),this.anatomicalStructures$=this.state$.pipe(Lt(r=>r?.anatomicalStructures),da()),this.extractionSets$=this.state$.pipe(Lt(r=>r?.extractionSets),da())}ngxsOnInit(){super.ngxsOnInit(),this.referenceData=this.injector.get(Em),this.page=this.injector.get(so),this.referenceData.state$.subscribe(()=>this.onReferenceDataChange())}idMatches(e,t){return ex.find(i=>!(!e||i.id!==e||i.side&&i.side!==t))}nameMatches(e,t){return ex.find(i=>i.side?i.organ.toLowerCase()===e&&i.side===t:i.organ.toLowerCase()===e)}setBlockSize(e){this.ctx.patchState({blockSize:e})}setRotation(e){this.ctx.patchState({rotation:e})}setPosition(e){this.ga.event("placement",`${this.snapshot.organ?.name}_placement`,`${e.x.toFixed(1)}_${e.y.toFixed(1)}_${e.z.toFixed(1)}`),this.ctx.patchState({position:e})}setSlicesConfig(e){this.ctx.patchState({slicesConfig:e})}setViewType(e){this.ctx.patchState({viewType:e})}setViewSide(e){this.ctx.patchState({viewSide:e})}get defaultPosition(){const e=this.snapshot.organDimensions;return{x:e.x+2*this.snapshot.blockSize.x,y:e.y/2,z:e.z/2}}setOrgan(e){e&&(this.ga.event("organ_select","organ",e.name),this.ctx.patchState({organ:e}),this.ctx.patchState(e.side?{side:e.side}:{side:void 0}),this.onOrganIriChange())}setOrganDefaults(){this.ctx.patchState({position:this.defaultPosition,rotation:{x:0,y:0,z:0}})}setSex(e){this.ctx.patchState({sex:e}),this.onOrganIriChange()}setSide(e){this.ctx.patchState({side:e}),this.onOrganIriChange()}setShowPrevious(e){this.ctx.patchState({showPrevious:e})}setExtractionSites(e){this.ctx.patchState({extractionSites:e})}setAnatomicalStructures(e){this.ctx.patchState({anatomicalStructures:e})}setExtractionSets(e){this.ctx.patchState({extractionSets:e})}toggleRegistrationBlocksVisibility(e,t){if(this.setShowPrevious(e),e){const i=t.map(r=>({...r,opacity:Math.min(20,r.opacity??20)}));this.setAnatomicalStructures(i)}else this.setAnatomicalStructures(t)}onOrganIriChange(){const e=this.referenceData.getReferenceOrganIri(this.snapshot.organ?.organ||"",this.snapshot.sex,this.snapshot.side,this.snapshot.organ),t={x:100,y:100,z:100};if(this.snapshot.organ?.sex&&this.ctx.patchState({sex:this.snapshot.organ?.sex}),e){const i=this.referenceData.snapshot,r={};for(const a of i.anatomicalStructures[e]||[]){const c=a.representation_of??a["@id"];r[c]||(r[c]={id:a.representation_of??a["@id"],name:a.label,visible:!0,opacity:20,tooltip:a.comment})}this.ctx.patchState({anatomicalStructures:[{id:"all",name:"all anatomical structures",opacity:20,visible:!0},...Object.values(r)]});const o=(i.extractionSets[e]||[]).map(a=>({name:a.label,sites:[{id:"all",name:"all landmarks",visible:!0,opacity:0}].concat((0,tx.sortBy)(a.extractionSites.map(c=>({id:c["@id"],name:c.label,visible:!0,opacity:0,tooltip:c.comment})),"name"))}));this.ctx.patchState({extractionSets:o}),this.ctx.patchState({extractionSites:o.length>0?o[0].sites:[]});const s=i.organSpatialEntities[e];t.x=s.x_dimension,t.y=s.y_dimension,t.z=s.z_dimension}this.ctx.patchState({organIri:e,organDimensions:t})}onReferenceDataChange(){this.globalConfig.getOption("organ").pipe(XL(),hK(0),jr(e=>this.onOrganChange(e))).subscribe(),this.modelChanged$.pipe(function _Ve(n){return Oi((e,t)=>{let i=!1;const r=si(t,()=>{r?.unsubscribe(),i=!0},it);yo(n).subscribe(r),e.subscribe(si(t,o=>i&&t.next(o)))})}(this.page.registrationStarted$.pipe(Ei(e=>e)))).subscribe(()=>this.page.setHasChanges())}onOrganChange(e){let t,i;if("string"==typeof e){const r=this.referenceData.getOrganData(e);i=r?.sex?.toLowerCase(),t=r?.organ}else{const r=e.name.toLowerCase(),o=e.side,s=e.ontologyId;i=e.sex?.toLowerCase(),t=this.idMatches(s,o),t||(t=this.nameMatches(r,o))}return t?(this.ctx.patchState({organ:t,sex:i,side:t?.side?.toLowerCase()}),this.referenceData.state$.pipe(pr(()=>this.onOrganIriChange()))):na}static#e=this.\u0275fac=function(t){return new(t||eT)(et(la),et(Gi),et(Ld))};static#t=this.\u0275prov=Dt({token:eT,factory:eT.\u0275fac})};Bt([$i()],yr.prototype,"modelChanged$",null),Bt([ti()],yr.prototype,"setBlockSize",null),Bt([ti()],yr.prototype,"setRotation",null),Bt([ti()],yr.prototype,"setPosition",null),Bt([ti()],yr.prototype,"setSlicesConfig",null),Bt([ti()],yr.prototype,"setViewType",null),Bt([ti()],yr.prototype,"setViewSide",null),Bt([$i()],yr.prototype,"defaultPosition",null),Bt([ti()],yr.prototype,"setOrgan",null),Bt([ti()],yr.prototype,"setOrganDefaults",null),Bt([ti()],yr.prototype,"setSex",null),Bt([ti()],yr.prototype,"setSide",null),Bt([ti()],yr.prototype,"setShowPrevious",null),Bt([ti()],yr.prototype,"setExtractionSites",null),Bt([ti()],yr.prototype,"setAnatomicalStructures",null),Bt([ti()],yr.prototype,"setExtractionSets",null),yr=Bt([hf(),Hu({name:"model",defaults:{id:"",label:"",organ:{src:"",name:""},organIri:"",organDimensions:{x:90,y:90,z:90},sex:"male",blockSize:{x:10,y:10,z:10},rotation:{x:0,y:0,z:0},position:{x:0,y:0,z:0},slicesConfig:{thickness:NaN,numSlices:NaN},viewType:"register",viewSide:"anterior",showPrevious:!1,extractionSites:[],anatomicalStructures:[],extractionSets:[]}})],yr);const jZ=new mt("Default theme class");let a3=(()=>{class n{static initialize(t){const{injector:i,location:r}=t;i.get(n).initialize(r,i)}constructor(t){this.defaultTheme=this.theme=t??""}getTheme(){return this.theme}setTheme(t){t!==this.theme&&(this.applyThemeClass(this.theme,"remove"),this.applyThemeClass(t),this.theme=t)}resetTheme(){this.setTheme(this.defaultTheme)}initialize(t,i){this.element=t,this.injector=i,this.applyThemeClass(this.getTheme())}applyThemeClass(t,i="add"){const{element:r,injector:o}=this;if(!t||!r||!o)return;const s=o.get(Pc,null);if(!s)return;const a=r.nativeElement,c=o.get(E0,null)?.getContainerElement(),l="add"===i?"addClass":"removeClass";s[l](a,t),c&&s[l](c,t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(jZ,8))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();const zZ={isolated:!0},HZ=new mt("Message service configuration",{providedIn:"root",factory:()=>zZ});let I8e=(()=>{class n{static#e=this.counter=0;constructor(t,i,r){this.source=t,this.channel=i,this.messages=r}sendMessage(t){this.channel.next({id:this.nextMessageId(),source:this.source,payload:t})}getMessages(){return this.messages.pipe(Ei(t=>t.source!==this.source))}getMessagesFromSource(t){return this.getMessages().pipe(Ei(i=>i.source===t))}getMessagesFromSources(t){return this.getMessages().pipe(Ei(i=>t.includes(i.source)))}nextMessageId(){return n.counter++}}return n})();const hx=(()=>{class n{constructor(t,i){this.config=t,this.parent=i,this.channel=new Qt,this.messages=t.isolated||!i?this.channel.asObservable():oo([this.channel,i.messages.pipe(x6(()=>!this.channel.closed))]).pipe(t0())}ngOnDestroy(){this.channel.complete()}connect(t){return new I8e(t,this.channel,this.messages)}static#e=this.\u0275fac=function(i){return new(i||n)(et(HZ),et(n,12))};static#t=this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),D8e=["*"];let jM=(()=>{class n{constructor(t,i){this.className="ccf-drawer-content",this.animationsEnabled=!1,this.leftMargin=0,this.rightMargin=0,this.faded=!1,this.drawers=[],this.subscriptions=new wt;const r=t.connect(this).getMessages();this.subscriptions.add(r.subscribe(o=>{this.handleMessage(o)&&i.markForCheck()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){switch(t.payload.type){case"drawer-containers-changed":return this.drawers=t.payload.drawers,this.updateFaded(),!0;case"drawer-initialized":return this.animationsEnabled=!0,!0;case"drawer-toggled":{const i=t.source.position,{opened:r,width:o,margin:s}=t.payload;return this.updateMargin(i,r,o,s),this.updateFaded(),!0}default:return!1}}updateMargin(t,i,r,o){const s=i?r+o:o;"start"===t?this.leftMargin=s:this.rightMargin=s}updateFaded(){const[t,i]=this.drawers;this.faded=!!(t?.opened&&t?.expanded||i?.opened&&i?.expanded)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(hx),xe(Mi))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-drawer-content"]],hostVars:9,hostBindings:function(i,r){2&i&&(Nv("@fadeInOut",r.faded),_i(r.className),Lg("margin-left",r.leftMargin,"px")("margin-right",r.rightMargin,"px"),un("cff-drawer-content-animations",r.animationsEnabled))},ngContentSelectors:D8e,decls:1,vars:0,template:function(i,r){1&i&&(Qi(),Cn(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;z-index:2;overflow:auto}.cff-drawer-content-animations[_nghost-%COMP%]{transition-duration:.5s;transition-timing-function:ease-in-out;transition-property:margin-left,margin-right}"],data:{animation:[Vc("fadeInOut",[Do("false",or({opacity:1})),Do("true",or({opacity:0})),vs("false <=> true",ys("1s"))])]},changeDetection:0})}return n})();const k8e=["*"],c3={params:{width:0,margin:0,margin2:0}};class O8e{constructor(){this.initialized=!1,this.deferred=new Promise(e=>{this.resolve=e})}set(){this.initialized=!0,this.resolve()}wait(){var e=this;return yn(function*(){return e.deferred})()}valueOf(){return this.initialized}}let l3=(()=>{class n{get classEnd(){return"end"===this.position}get position(){return this._position}set position(t){this._position=t||"start"}get opened(){return this._opened}set opened(t){this.toggle(ei(t))}get expanded(){return this._expanded}set expanded(t){this.toggleExpanded(ei(t))}get expandedStateObj(){return{value:this.expandedState2,params:{width:this.width,margin:this.measuredMargin,margin2:this.margin2}}}get measuredWidth(){if(this._measuredWidth>0)return this._measuredWidth;const t=this.element.nativeElement;if(!t)return 0;const i=t.getBoundingClientRect(),r=i.right-i.left;return 0===r?0:(this._measuredWidth=r,r)}get measuredMargin(){if(this._measuredMargin>0)return this._measuredMargin;const t=this.element.nativeElement;if(!t)return 0;const o=globalThis.getComputedStyle(t).getPropertyValue("start"===this.position?"margin-right":"margin-left"),s=Number(o.slice(0,-2));return this._measuredMargin=s,s}constructor(t,i,r){this.element=r,this.className="ccf-drawer",this._position="start",this._opened=!1,this._expanded=!1,this.openedChange=new Gt(!0),this.expandedChange=new Gt(!0),this.stateChange=new Gt(!0),this.openedState="closed",this.expandedState="closed",this.expandedState2="collapsed",this._measuredWidth=0,this.width=0,this._measuredMargin=0,this.margin2=0,this.initialized=new O8e,this.subscriptions=new wt,this.channel=t.connect(this),this.subscriptions.add(this.channel.getMessages().subscribe(o=>{this.handleMessage(o)&&i.markForCheck()}))}ngAfterViewInit(){this.initialized.set(),setTimeout(()=>this.channel.sendMessage({type:"drawer-initialized"}))}ngOnDestroy(){this.subscriptions.unsubscribe()}open(){this.toggle(!0)}close(){this.toggle(!1)}toggle(t=!this.opened){this.opened!==t&&(t?this.openedState=this.initialized.valueOf()?"open":"open-instant":(this.openedState="closed",this.expandedState="closed",this.expandedState2="collapsed",this._expanded=!1),this._opened=t,this.sendToggle())}openExpanded(){this.toggleExpanded(!0)}closeExpanded(){this.toggleExpanded(!1)}toggleExpanded(t=!this.expanded){this.expanded!==t&&(t?this.expandedState=this.initialized.valueOf()?"open":"open-instant":(this.expandedState="closed",this.expandedState2="collapsed"),this._expanded=t,this.sendToggle())}closeOpenDone(){this.openedChange.emit(this.opened)}expandCollapseDone(){this.expandedChange.emit(this.expanded)}sendToggle(){var t=this;return yn(function*(){yield t.initialized.wait(),t.channel.sendMessage({type:"drawer-toggled",opened:t.opened,expanded:t.expanded,width:t.measuredWidth,margin:t.measuredMargin}),t.stateChange.emit()})()}handleMessage(t){return"drawer-toggled"===t.payload.type&&(this.syncExpanded(t.source),!0)}syncExpanded(t){(this.expanded||t.expanded)&&(this.expanded&&t.expanded?this.expandedState2=t.expandedState2="half":this.expanded?t.opened?(this.expandedState2="extended",this.width=t.measuredWidth+t.measuredMargin):(this.expandedState2="full",this.margin2=t.measuredMargin):this.opened?(t.expandedState2="extended",t.width=this.measuredWidth+this.measuredMargin):(t.expandedState2="full",t.margin2=this.measuredMargin))}static#e=this.\u0275fac=function(i){return new(i||n)(xe(hx),xe(Mi),xe(vn))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-drawer"]],hostVars:10,hostBindings:function(i,r){1&i&&B1("@openClose.done",function(){return r.closeOpenDone()})("@expandCollapse.done",function(){return r.expandCollapseDone()}),2&i&&(Nv("@openClose",r.openedState)("@expandCollapse",r.expandedStateObj),_i(r.className),un("ccf-drawer-end",r.classEnd)("ccf-drawer-opened",r.opened)("ccf-drawer-expanded",r.expanded))},inputs:{position:"position",opened:"opened",expanded:"expanded"},outputs:{openedChange:"openedChange",expandedChange:"expandedChange",stateChange:"stateChange"},exportAs:["ccfDrawer"],ngContentSelectors:k8e,decls:2,vars:0,consts:[[1,"cff-drawer-inner-container"]],template:function(i,r){1&i&&(Qi(),Xe(0,"div",0),Cn(1),qe())},styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;bottom:0;z-index:2;outline:0;transform:translate3d(-100%,0,0)}.ccf-drawer-end[_nghost-%COMP%]{right:0;transform:translate3d(100%,0,0)}[_nghost-%COMP%]   .cff-drawer-inner-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch;scrollbar-width:thin}"],data:{animation:[Vc("openClose",[Do("open, open-instant",or({transform:"none"})),Do("closed",or({})),vs("closed => open-instant",ys(0)),vs("closed <=> open, open-instant => closed",ys(".5s ease-in-out"))]),Vc("expandCollapse",[Do("collapsed",or({})),Do("half",or({width:"calc(50% - {{ margin }}px)"}),c3),Do("extended",or({width:"calc(100% - {{ width }}px - {{ margin }}px)"}),c3),Do("full",or({width:"calc(100% - {{ margin }}px - {{ margin2 }}px)"}),c3),vs("* <=> *",ys(".5s ease-in-out"))])]},changeDetection:0})}return n})();function R8e(n,e){1&n&&(Xe(0,"ccf-drawer-content"),Cn(1,2),qe())}const P8e=[[["ccf-drawer"]],[["ccf-drawer-content"]],"*"],N8e=["ccf-drawer","ccf-drawer-content","*"];function GZ(n){throw new Error(`Multiple drawers in position ${n}`)}let F8e=(()=>{class n{get content(){return this.content1.first??this.content2.first}get hasWrappedContent(){return 0!==this.content1.length}constructor(t,i){this.cdr=i,this.className="ccf-drawer-container",this.subscriptions=new wt,this.channel=t.connect(this),this.subscriptions.add(this.channel.getMessages().subscribe(r=>{this.handleMessage(r)&&i.markForCheck()}))}ngAfterViewInit(){this.drawers.changes.pipe(Zo(null)).subscribe(()=>{const t=this.validateDrawers();this.channel.sendMessage({type:"drawer-containers-changed",drawers:t}),this.cdr.markForCheck()}),this.content1.changes.pipe(Zo(null)).subscribe(()=>{this.channel.sendMessage({type:"content-container-changed",content:this.content}),this.cdr.markForCheck()})}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){return!0}validateDrawers(){const t=this.drawers.toArray(),i=t.filter(o=>"start"===o.position),r=t.filter(o=>"end"===o.position);return i.length>1&&GZ("start"),r.length>1&&GZ("end"),[i[0],r[0]]}static#e=this.\u0275fac=function(i){return new(i||n)(xe(hx),xe(Mi))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(Ni(o,l3,5),Ni(o,jM,5)),2&i){let s;pn(s=mn())&&(r.drawers=s),pn(s=mn())&&(r.content1=s)}},viewQuery:function(i,r){if(1&i&&mi(jM,5),2&i){let o;pn(o=mn())&&(r.content2=o)}},hostVars:2,hostBindings:function(i,r){2&i&&_i(r.className)},exportAs:["ccfDrawerContainer"],features:[Gn([hx])],ngContentSelectors:N8e,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(i,r){1&i&&(Qi(P8e),Cn(0),Cn(1,1),an(2,R8e,2,0,"ccf-drawer-content",0)),2&i&&(st(2),bt("ngIf",!r.hasWrappedContent))},dependencies:[ta,jM],styles:["[_nghost-%COMP%]{display:block;position:relative;z-index:1;overflow:hidden;-webkit-overflow-scrolling:touch}"],changeDetection:0})}return n})(),L8e=(()=>{class n{get classEnd(){return"end"===this.position}get icon(){let t="arrow_right",i="arrow_left";return"end"===this.position&&([t,i]=[i,t]),this.opened?i:t}constructor(t,i,r){this.drawer=t,this.cdr=r,this.className="ccf-drawer-toggle-button",this.position="start",this.opened=!1,this.subscriptions=new wt;const o=i.connect(this);this.subscriptions.add(o.getMessagesFromSource(t).subscribe(s=>{this.handleMessage(s)&&r.markForCheck()}))}ngAfterViewInit(){setTimeout(()=>{this.position=this.drawer.position,this.cdr.markForCheck()})}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){return"drawer-toggled"===t.payload.type&&(this.opened=t.payload.opened,!0)}toggle(){const t=this.drawer,{opened:i,expanded:r}=t;i?r?t.closeExpanded():t.close():t.open()}static#e=this.\u0275fac=function(i){return new(i||n)(xe(l3),xe(hx),xe(Mi))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-drawer-toggle-button"]],hostVars:4,hostBindings:function(i,r){2&i&&(_i(r.className),un("ccf-drawer-toggle-button-end",r.classEnd))},decls:4,vars:4,consts:[["aria-hidden","false","aria-label","Close side drawer",1,"expand-collapse-icon",3,"click"]],template:function(i,r){1&i&&(Xe(0,"mat-icon",0),kt("click",function(){return r.toggle()}),Ut(1," arrow_right\n"),qe(),Xe(2,"mat-icon",0),kt("click",function(){return r.toggle()}),Ut(3," arrow_left\n"),qe()),2&i&&(un("hidden","arrow_left"===r.icon),st(2),un("hidden","arrow_right"===r.icon))},dependencies:[ws],styles:["[_nghost-%COMP%]{position:absolute;top:calc(50% - 2.0625rem);right:-1.0625rem;width:1.0625rem;height:3rem;border-radius:0rem .25rem .25rem 0rem;cursor:pointer;transition:.25s}.ccf-drawer-toggle-button-end[_nghost-%COMP%]{right:unset;left:calc(-1rem - 1px);border-radius:.25rem 0rem 0rem .25rem}[_nghost-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{position:absolute;right:0rem;transition:.6s;padding-left:.15rem}[_nghost-%COMP%]   .expand-collapse-icon.hidden[_ngcontent-%COMP%]{opacity:0}.ccf-drawer-toggle-button-end[_nghost-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{right:unset;left:-.25rem}.mat-icon[_ngcontent-%COMP%]{right:.3rem;top:.675rem;padding-top:.05rem}"],changeDetection:0})}return n})();function B8e(n,e){1&n&&hk(0)}function U8e(n,e){if(1&n){const t=$r();Xe(0,"div",4),kt("click",function(){return ii(t),Pn(rn().page.cancelRegistration())}),Xe(1,"mat-icon",5),Ut(2,"chevron_left"),qe(),Xe(3,"span",6),Ut(4,"BACK"),qe()()}}function V8e(n,e){if(1&n&&(Xe(0,"a",7),fn(1,"div",8),qe()),2&n){const t=rn();bt("href",t.homeUrl,vg)("matTooltip",t.logoTooltip)}}let j8e=(()=>{class n{constructor(t){this.page=t,this.clsName="ccf-header"}static#e=this.\u0275fac=function(i){return new(i||n)(xe(so))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-header"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{homeUrl:"homeUrl",logoTooltip:"logoTooltip"},decls:7,vars:5,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["backButton",""],["logo",""],[1,"filler"],["rel","noreferrer noopener",1,"link","home",3,"click"],[1,"icon","backbutton"],[1,"text"],["rel","noreferrer noopener","matTooltipPosition","right",1,"link","portal",3,"href","matTooltip"],["aria-hidden","false","aria-label","Reset tool",1,"logo"]],template:function(i,r){if(1&i&&(an(0,B8e,1,0,"ng-container",0),Xn(1,"async"),an(2,U8e,5,0,"ng-template",null,1,Oh)(4,V8e,2,2,"ng-template",null,2,Oh),fn(6,"div",3)),2&i){const o=Yr(3),s=Yr(5);bt("ngIf",ri(1,3,r.page.useCancelRegistrationCallback$))("ngIfThen",o)("ngIfElse",s)}},dependencies:[ta,ws,Xc,ad],styles:["[_nghost-%COMP%]{display:flex;align-items:center;min-height:4rem;padding:0 1.5rem;border-bottom-width:1px;border-bottom-style:solid}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{padding:.25rem 0;height:2rem;display:flex;align-items:center;font-weight:lighter;font-size:1.5rem}[_nghost-%COMP%]   .link[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;text-decoration:none;padding:.25rem 0}[_nghost-%COMP%]   .home[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:color .6s}[_nghost-%COMP%]   .home[_ngcontent-%COMP%]   .backbutton[_ngcontent-%COMP%]{font-size:2.25rem;width:2.25rem;height:2.25rem}[_nghost-%COMP%]   .portal[_ngcontent-%COMP%]{height:100%;width:25rem;align-items:center;display:flex}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%;height:50%;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1;margin:0}"],changeDetection:0})}return n})();function WZ(n,e){return ia((t,i)=>e?e(t[n],i[n]):t[n]===i[n])}const z8e=["input"],H8e=["*"];let $Z=0;class YZ{constructor(e,t){this.source=e,this.value=t}}const G8e={provide:xs,useExisting:Ee(()=>d3),multi:!0},XZ=new mt("MatRadioGroup"),W8e=new mt("mat-radio-default-options",{providedIn:"root",factory:function $8e(){return{color:"accent"}}});let d3=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=ei(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=ei(t),this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+$Z++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new Gt}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new YZ(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Mi))};static#t=this.\u0275dir=$t({type:n,selectors:[["mat-radio-group"]],contentQueries:function(i,r,o){if(1&i&&Ni(o,u3,5),2&i){let s;pn(s=mn())&&(r._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[Gn([G8e,{provide:XZ,useExisting:n}])]})}return n})();class Y8e{constructor(e){this._elementRef=e}}const X8e=MC(c_(Y8e));let u3=(()=>{class n extends X8e{get checked(){return this._checked}set checked(t){const i=ei(t);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(ei(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=ei(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a,c,l){super(i),this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=s,this._providerOverride=c,this._uniqueId="mat-radio-"+ ++$Z,this.id=this._uniqueId,this.change=new Gt,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===a,l&&(this.tabIndex=Vo(l,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new YZ(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static#e=this.\u0275fac=function(i){return new(i||n)(xe(XZ,8),xe(vn),xe(Mi),xe(Su),xe(RL),xe(Lr,8),xe(W8e,8),Ks("tabindex"))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(1&i&&mi(z8e,5),2&i){let o;pn(o=mn())&&(r._inputElement=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,r){1&i&&kt("focus",function(){return r._inputElement.nativeElement.focus()}),2&i&&(Yn("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),un("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],features:[Ln],ngContentSelectors:H8e,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i&&(Qi(),Xe(0,"div",0,1)(2,"div",2)(3,"div",3),kt("click",function(s){return r._onTouchTargetClick(s)}),qe(),Xe(4,"input",4,5),kt("change",function(s){return r._onInputInteraction(s)}),qe(),Xe(6,"div",6),fn(7,"div",7)(8,"div",8),qe(),Xe(9,"div",9),fn(10,"div",10),qe()(),Xe(11,"label",11),Cn(12),qe()()),2&i){const o=Yr(1);un("mdc-form-field--align-end","before"==r.labelPosition),st(2),un("mdc-radio--disabled",r.disabled),st(2),bt("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),Yn("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),st(5),bt("matRippleTrigger",o)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),st(2),bt("for",r.inputId)}},dependencies:[za],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return n})(),KZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[Bi,ci,Ha,Bi]})}return n})();const K8e=["switch"];function q8e(n,e){1&n&&(Xe(0,"div",12),Qd(),Xe(1,"svg",13),fn(2,"path",14),qe(),Xe(3,"svg",15),fn(4,"path",16),qe()())}const J8e=["*"],Z8e=new mt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),Q8e={provide:xs,useExisting:Ee(()=>JZ),multi:!0};class qZ{constructor(e,t){this.source=e,this.checked=t}}let e5e=0,JZ=(()=>{class n{_createChangeEvent(t){return new qZ(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a){this._elementRef=t,this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=s,this._onChange=c=>{},this._onTouched=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new Gt,this.toggleChange=new Gt,this.tabIndex=parseInt(o)||0,this.color=s.color||"accent",this._noopAnimations="NoopAnimations"===a,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++e5e,this.hideIcon=s.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new qZ(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(Su),xe(Mi),Ks("tabindex"),xe(Z8e),xe(Lr,8))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&mi(K8e,5),2&i){let o;pn(o=mn())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){2&i&&(ea("id",r.id),Yn("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),_i(r.color?"mat-"+r.color:""),un("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:["disabled","disabled",Ki],disableRipple:["disableRipple","disableRipple",Ki],color:"color",tabIndex:["tabIndex","tabIndex",t=>null==t?0:Iz(t)],name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:["required","required",Ki],checked:["checked","checked",Ki],hideIcon:["hideIcon","hideIcon",Ki]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[Gn([Q8e]),fl],ngContentSelectors:J8e,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i&&(Qi(),Xe(0,"div",0)(1,"button",1,2),kt("click",function(){return r._handleClick()}),fn(3,"div",3),Xe(4,"div",4)(5,"div",5)(6,"div",6),fn(7,"div",7),qe(),Xe(8,"div",8),fn(9,"div",9),qe(),an(10,q8e,5,0,"div",10),qe()()(),Xe(11,"label",11),kt("click",function(s){return s.stopPropagation()}),Cn(12),qe()()),2&i){const o=Yr(2);un("mdc-form-field--align-end","before"==r.labelPosition),st(),un("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),bt("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled),Yn("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),st(8),bt("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),st(),Ti(10,r.hideIcon?-1:10),st(),bt("for",r.buttonId),Yn("id",r._labelId)}},dependencies:[za],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return n})(),ZZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({})}return n})(),i5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ZZ,Bi,Ha,ZZ,Bi]})}return n})(),r5e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-labeled-slide-toggle",this.labels=["Left","Right"],this.value="Left",this.disabled=!1,this.valueChange=new Gt}get left(){const{value:t,labels:i}=this;return t!==i[1]}updateToggle(t){this.value=t?this.labels[0]:this.labels[1],this.ga.event("slide_toggle_toggled","slide_toggle",this.value),this.valueChange.emit(this.value)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(la))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-labeled-slide-toggle"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{labels:"labels",value:"value",disabled:"disabled"},outputs:{valueChange:"valueChange"},decls:6,vars:12,consts:[[1,"slide-label",3,"click"],["hideIcon","",1,"slider",3,"disabled","checked","change"],["toggle",""]],template:function(i,r){if(1&i){const o=$r();Xe(0,"span",0),kt("click",function(){ii(o);const a=Yr(3);return r.left||a.toggle(),Pn(r.updateToggle(!0))}),Ut(1),qe(),Xe(2,"mat-slide-toggle",1,2),kt("change",function(a){return r.updateToggle(!a.checked)}),qe(),Xe(4,"span",0),kt("click",function(){ii(o);const a=Yr(3);return r.left&&a.toggle(),Pn(r.updateToggle(!1))}),Ut(5),qe()}2&i&&(un("disabled",r.disabled)("highlighted",r.left),st(),Xr(r.labels[0]),st(),bt("disabled",r.disabled)("checked",!r.left),st(2),un("disabled",r.disabled)("highlighted",!r.left),st(),Xr(r.labels[1]))},dependencies:[JZ],styles:["[_nghost-%COMP%]   .slide-label[_ngcontent-%COMP%]{margin:0 1rem;transition:color .6s;cursor:pointer}[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:30%;cursor:not-allowed}"],changeDetection:0})}return n})();const o5e=["label"],s5e=["options"],a5e=()=>["Register","3D\xa0Preview"];let c5e=(()=>{class n{set useDropdownMenu(t){this.isDropdownActive=t,this.isDropdownHidden=!0}get labelEl(){return this.labelRef.nativeElement}get optionsEl(){return this.optionsRef.nativeElement}constructor(t){this.ga=t,this.clsName="ccf-stage-nav",this.side="anterior",this.view3D=!1,this.sideChange=new Gt,this.view3DChange=new Gt,this.isDropdownActive=!1,this.isDropdownHidden=!0}handleClick(t){const{isDropdownHidden:i,labelEl:r,optionsEl:o}=this;r.contains(t)?this.isDropdownHidden=!i:o.contains(t)||(this.isDropdownHidden=!0)}updateSide(t){this.ga.event("side_update","stage_nav",t),"3D"===t?this.updateView(!0):(this.updateView(!1),this.side=t,this.sideChange.emit(this.side))}updateView(t){this.view3D=t,this.ga.event("view_update","stage_nav",t?"3D":"Register"),this.view3DChange.emit(this.view3D)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(la))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-stage-nav"]],viewQuery:function(i,r){if(1&i&&(mi(o5e,7),mi(s5e,7)),2&i){let o;pn(o=mn())&&(r.labelRef=o.first),pn(o=mn())&&(r.optionsRef=o.first)}},hostVars:2,hostBindings:function(i,r){1&i&&kt("click",function(s){return r.handleClick(s.target)},0,_h),2&i&&_i(r.clsName)},inputs:{useDropdownMenu:"useDropdownMenu",side:"side",view3D:"view3D"},outputs:{sideChange:"sideChange",view3DChange:"view3DChange"},decls:18,vars:10,consts:[[1,"dropdown-label"],["label",""],[1,"stage-options"],["options",""],[1,"input-group",3,"value","change"],["value","left",1,"nav-input"],["value","right",1,"nav-input"],["value","anterior","checked","",1,"nav-input"],["value","posterior",1,"nav-input"],["matTooltip","Change view.",1,"view-slider",3,"labels","value","valueChange"]],template:function(i,r){1&i&&(Xe(0,"div",0,1)(2,"mat-label"),Ut(3,"Options"),qe(),Xe(4,"mat-icon"),Ut(5,"arrow_drop_down"),qe()(),Xe(6,"div",2,3)(8,"mat-radio-group",4),kt("change",function(s){return r.updateSide(s.value)}),Xe(9,"mat-radio-button",5),Ut(10,"Left"),qe(),Xe(11,"mat-radio-button",6),Ut(12,"Right"),qe(),Xe(13,"mat-radio-button",7),Ut(14,"Anterior"),qe(),Xe(15,"mat-radio-button",8),Ut(16,"Posterior"),qe()(),Xe(17,"ccf-labeled-slide-toggle",9),kt("valueChange",function(s){return r.updateView("Register"!==s)}),qe()()),2&i&&(un("dropdown",r.isDropdownActive),st(6),un("dropdowncontainer",r.isDropdownActive)("hidden",r.isDropdownActive&&r.isDropdownHidden),st(2),bt("value",r.side),st(9),bt("labels",Ek(9,a5e))("value",r.view3D?"3D\xa0Preview":"Register"))},dependencies:[d3,u3,Uh,ws,r5e,Xc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}[_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]{display:none;align-items:center}[_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:1.5rem}[_nghost-%COMP%]   .dropdown-label.dropdown[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:start}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]{margin-right:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]     .mdc-label{font-size:1.25rem}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]{white-space:nowrap;display:flex}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]     .slider{display:flex}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]     .slide-label{font-size:1.25rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:.25rem;position:absolute;top:3.5rem;z-index:11;transition:opacity .25s}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-top:.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{margin-bottom:.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-left:.875rem;margin-right:0;display:flex;flex-wrap:wrap}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]{display:flex;margin:0;margin-right:.875rem;height:2.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]     .mdc-label{padding-left:0}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;margin:0 .5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{visibility:visible;border-top:2px solid}[_nghost-%COMP%]   .stage-options.hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:visibility .25s,opacity .25s}[_nghost-%COMP%]   .stage-options.hidden[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0})}return n})();function l5e(n,e){if(1&n){const t=$r();Xe(0,"ccf-body-ui",17),kt("rotationChange",function(r){ii(t),rn();const o=Yr(13);return o.rotation=r[0],Pn(o.rotationX=r[1])}),Xn(1,"async"),Xn(2,"async"),Xn(3,"async"),qe()}if(2&n){const t=rn();bt("scene",ri(1,5,t.scene.nodes$))("rotation",ri(2,7,t.scene.rotation$))("bounds",ri(3,9,t.bounds$))("zoom",11.5)("interactive",!0)}}function d5e(n,e){if(1&n){const t=$r();Xe(0,"ccf-body-ui",18),kt("nodeDrag",function(r){return ii(t),Pn(rn().handleNodeDrag(r))}),Xn(1,"async"),Xn(2,"async"),qe()}if(2&n){const t=rn();bt("scene",ri(1,4,t.scene.rotatedNodes$))("interactive",!1)("bounds",ri(2,6,t.bounds$))("zoom",11.5)}}function u5e(n,e){if(1&n&&(fn(0,"ccf-spatial-search-keyboard-ui-behavior",19),Xn(1,"async")),2&n){const t=rn();bt("delta",1)("shiftDelta",2)("position",ri(1,4,t.position$))("disablePositionChange",t.disablePositionChange)}}function h5e(n,e){1&n&&fn(0,"ccf-store-debug",20)}function f5e(n,e){if(1&n){const t=$r();Xe(0,"div",21)(1,"button",22),kt("click",function(){ii(t);const r=rn();return Pn(r.debugMode=!r.debugMode)}),Ut(2,"State"),qe(),Xe(3,"button",23),kt("click",function(){return ii(t),Pn(rn().registration.setUseRegistrationCallback(!0))}),Ut(4,"Use callback"),qe(),Xe(5,"button",23),kt("click",function(){return ii(t),Pn(rn().registration.setUseRegistrationCallback(!1))}),Ut(6,"Use download"),qe()()}}let p5e=(()=>{class n{constructor(t,i,r,o,s,a){this.model=t,this.page=i,this.registration=r,this.scene=o,this.rootRef=s,this.cdr=a,this.clsName="ccf-content",this.disablePositionChange=!1,this.position$=this.model.position$.pipe(Lt(c=>({x:Math.floor(c.x),y:Math.floor(c.y),z:Math.floor(c.z)}))),this.is3DView$=this.model.viewType$.pipe(Lt(c=>"3d"===c)),this.bounds$=this.model.organDimensions$.pipe(Lt(c=>({x:Math.max(c.x,this.model.defaultPosition.x+40)/1e3,y:Math.max(c.y,this.model.defaultPosition.y+40)/1e3,z:Math.max(c.z,this.model.defaultPosition.z+40)/1e3})),WZ("x"),WZ("y")),this.isNarrowView=!1,this.debugMode=!1,this.showDebugButtons=!1}ngOnInit(){this.sensor=new bK.ResizeSensor(this.rootRef.nativeElement,({width:t})=>{const i=t<440;this.isNarrowView!==i&&(this.isNarrowView=i,this.cdr.markForCheck())})}ngOnDestroy(){this.sensor.detach()}setViewType(t){this.model.setViewType(t?"3d":"register")}resetStage(){this.registration.snapshot.initialRegistration?this.registration.setToInitialRegistration():this.model.setOrganDefaults(),this.model.setViewSide("anterior"),this.model.setViewType("register")}handleNodeDrag(t){if("#DraftPlacement"===t.node["@id"]&&t.info.coordinate){const[i,r]=t.info.coordinate.map(d=>1e3*d),{position:o,viewSide:s,organDimensions:a}=this.model.snapshot,c=[a.x,a.y,a.z].map(d=>d/2);let l=o;switch(s){case"anterior":l={x:i+c[0],y:r+c[1],z:o.z};break;case"posterior":l={x:-i+c[0],y:r+c[1],z:o.z};break;case"left":l={x:o.x,y:r+c[1],z:-i+c[2]};break;case"right":l={x:o.x,y:r+c[1],z:i+c[2]}}this.model.setPosition(l)}}static#e=this.\u0275fac=function(i){return new(i||n)(xe(yr),xe(so),xe(Ro),xe(ua),xe(vn),xe(Mi))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-content"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{disablePositionChange:"disablePositionChange"},decls:31,vars:37,consts:[[1,"top-bar"],[3,"useDropdownMenu","view3D","side","view3DChange","sideChange"],["matRipple","","matRippleColor","rgba(204, 204, 204, 0.25)",1,"icon","reset",3,"matRippleCentered","matRippleUnbounded","click"],[1,"main-content"],["class","body-ui","camera","perspective",3,"scene","rotation","bounds","zoom","interactive","rotationChange",4,"ngIf"],["class","body-ui","camera","orthographic",3,"scene","interactive","bounds","zoom","nodeDrag",4,"ngIf"],[1,"gizmo-area"],[1,"gizmo",3,"scene","rotation","interactive","zoom"],["gizmo",""],[3,"delta","shiftDelta","position","disablePositionChange",4,"ngIf"],[1,"position-display"],[1,"position"],[1,"x"],[1,"y"],[1,"z"],["class","debug",4,"ngIf"],["style","position: absolute; bottom: 1rem; display: flex; flex-direction: row; justify-content: space-between; width: 7rem;",4,"ngIf"],["camera","perspective",1,"body-ui",3,"scene","rotation","bounds","zoom","interactive","rotationChange"],["camera","orthographic",1,"body-ui",3,"scene","interactive","bounds","zoom","nodeDrag"],[3,"delta","shiftDelta","position","disablePositionChange"],[1,"debug"],[2,"position","absolute","bottom","1rem","display","flex","flex-direction","row","justify-content","space-between","width","7rem"],[2,"width","3rem","font-size",".7rem",3,"click"],[3,"click"]],template:function(i,r){if(1&i&&(Xe(0,"div",0)(1,"ccf-stage-nav",1),kt("view3DChange",function(s){return r.setViewType(s)})("sideChange",function(s){return r.model.setViewSide(s)}),Xn(2,"async"),Xn(3,"async"),qe(),Xe(4,"mat-icon",2),kt("click",function(){return r.resetStage()}),Ut(5,"refresh"),qe()(),Xe(6,"div",3),an(7,l5e,4,11,"ccf-body-ui",4),Xn(8,"async"),an(9,d5e,3,8,"ccf-body-ui",5),Xn(10,"async"),Xe(11,"div",6),fn(12,"ccf-body-ui",7,8),Xn(14,"async"),Xn(15,"async"),an(16,u5e,2,6,"ccf-spatial-search-keyboard-ui-behavior",9),Xn(17,"async"),Xe(18,"div",10)(19,"div",11)(20,"div",12),Ut(21),Xn(22,"async"),qe(),Xe(23,"div",13),Ut(24),Xn(25,"async"),qe(),Xe(26,"div",14),Ut(27),Xn(28,"async"),qe()()()()(),an(29,h5e,1,0,"ccf-store-debug",15)(30,f5e,7,0,"div",16)),2&i){let o,s,a;st(),bt("useDropdownMenu",r.isNarrowView)("view3D",ri(2,17,r.is3DView$))("side",ri(3,19,r.model.viewSide$)),st(3),bt("matRippleCentered",!0)("matRippleUnbounded",!0),st(3),bt("ngIf","3d"===ri(8,21,r.model.viewType$)),st(2),bt("ngIf","register"===ri(10,23,r.model.viewType$)),st(3),bt("scene",ri(14,25,r.scene.gizmo$))("rotation",ri(15,27,r.scene.rotation$))("interactive",!1)("zoom",9.5),st(4),bt("ngIf",ri(17,29,r.page.registrationStarted$)),st(5),Kr("X: ",null==(o=ri(22,31,r.position$))?null:o.x,""),st(3),Kr("Y: ",null==(s=ri(25,33,r.position$))?null:s.y,""),st(3),Kr("Z: ",null==(a=ri(28,35,r.position$))?null:a.z,""),st(2),bt("ngIf",r.showDebugButtons&&r.debugMode),st(),bt("ngIf",r.showDebugButtons)}},dependencies:[ta,c5e,ws,A4e,za,hVe,b4e,ad],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;padding:.5rem;overflow:hidden}[_nghost-%COMP%]   .top-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .top-bar[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s;font-size:2rem;height:2rem;width:2rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .minimap-scene[_ngcontent-%COMP%]{margin:1.5rem;width:12.75rem;height:11rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .minimap-scene[_ngcontent-%COMP%]     .body-ui{background-color:#232f3a}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   ccf-spatial-search-keyboard-ui-behavior[_ngcontent-%COMP%]{margin:1.5rem;display:flex;justify-content:center}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   ccf-xyz-position[_ngcontent-%COMP%]{margin:1.5rem;padding-left:5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{display:flex;height:calc(100% - 1rem)}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .body-ui[_ngcontent-%COMP%]{flex:auto;transition:opacity 1s}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]{width:7rem;margin-top:1.5rem;margin-left:1.5rem;z-index:10;right:1.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .position-display[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .gizmo[_ngcontent-%COMP%]{height:5.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .gizmo[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{opacity:0;z-index:0}[_nghost-%COMP%]   .ccf-store-debug[_ngcontent-%COMP%]{color:#fff;position:absolute;top:.5rem;max-width:55rem}"],changeDetection:0})}return n})();const m5e=["trigger"],g5e=["panel"];function _5e(n,e){if(1&n&&(Xe(0,"span",9),Ut(1),qe()),2&n){const t=rn();st(),Xr(t.placeholder)}}function b5e(n,e){1&n&&Cn(0)}function y5e(n,e){if(1&n&&(Xe(0,"span",11),Ut(1),qe()),2&n){const t=rn(2);st(),Xr(t.triggerValue)}}function v5e(n,e){if(1&n&&(Xe(0,"span",10),an(1,b5e,1,0)(2,y5e,2,1),qe()),2&n){const t=rn();st(),Ti(1,t.customTrigger?1:2)}}function w5e(n,e){if(1&n){const t=$r();Qd(),Ff(),Xe(0,"div",12,13),kt("@transformPanel.done",function(r){return ii(t),Pn(rn()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return ii(t),Pn(rn()._handleKeydown(r))}),Cn(2,1),qe()}if(2&n){const t=rn();(function f4(n,e,t){gl(ga,od,Tg(Rt(),n,e,t),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),bt("ngClass",t.panelClass)("@transformPanel","showing"),Yn("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const x5e=[[["mat-select-trigger"]],"*"],E5e=["mat-select-trigger","*"],C5e={transformPanelWrap:Vc("transformPanelWrap",[vs("* => void",BO("@transformPanel",[LO()],{optional:!0}))]),transformPanel:Vc("transformPanel",[Do("void",or({opacity:0,transform:"scale(1, 0.8)"})),vs("void => showing",ys("120ms cubic-bezier(0, 0, 0.2, 1)",or({opacity:1,transform:"scale(1, 1)"}))),vs("* => void",ys("100ms linear",or({opacity:0})))])};let QZ=0;const eQ=new mt("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ft(Qo);return()=>n.scrollStrategies.reposition()}}),A5e=new mt("MAT_SELECT_CONFIG"),M5e={provide:eQ,deps:[Qo],useFactory:function S5e(n){return()=>n.scrollStrategies.reposition()}},T5e=new mt("MatSelectTrigger");class I5e{constructor(e,t){this.source=e,this.value=t}}const D5e=MC(c_(m5(ZO(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Qt}}))));let tQ=(()=>{class n extends D5e{_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const r=this.panel.nativeElement,o=function E5(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}(t,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===t&&1===o?0:function C5(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new I5e(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=ei(t),this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(om.required)??!1}set required(t){this._required=ei(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=ei(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=ei(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Vo(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,i,r,o,s,a,c,l,d,h,p,_,v,A){super(s,o,c,l,h),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._parentFormField=d,this._liveAnnouncer=v,this._defaultOptions=A,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(P,X)=>P===X,this._uid="mat-select-"+QZ++,this._triggerAriaLabelledBy=null,this._destroy=new Qt,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+QZ++,this._panelDoneAnimatingStream=new Qt,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this.optionSelectionChanges=lm(()=>{const P=this.options;return P?P.changes.pipe(Zo(P),jr(()=>Ps(...P.map(X=>X.onSelectionChange)))):this._ngZone.onStable.pipe(_r(1),jr(()=>this.optionSelectionChanges))}),this.openedChange=new Gt,this._openedStream=this.openedChange.pipe(Ei(P=>P),Lt(()=>{})),this._closedStream=this.openedChange.pipe(Ei(P=>!P),Lt(()=>{})),this.selectionChange=new Gt,this.valueChange=new Gt,this._trackedModal=null,this._skipPredicate=P=>!this.panelOpen&&P.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=A?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=A.typeaheadDebounceInterval),this._scrollStrategyFactory=_,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(p)||0,this.id=this.id}ngOnInit(){this._selectionModel=new OL(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(ia(),vi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(vi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(vi(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Zo(null),vi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const i=`${this.id}-panel`;this._trackedModal&&s_(this._trackedModal,"aria-owns",i),EC(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(s_(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!Sa(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(t);const c=this.selected;c&&a!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||Sa(t))if(!s&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const a=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(a?c.select():c.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(t),this._multiple&&o&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(_r(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof hR?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new e5(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Ps(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(vi(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Ps(...this.options.map(i=>i._stateChanges)).pipe(vi(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){t=i;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(xe(HC),xe(Mi),xe(gn),xe(TC),xe(vn),xe(yl,8),xe(am,8),xe(rb,8),xe(f0,8),xe(Al,10),Ks("tabindex"),xe(eQ),xe(c5),xe(A5e,8))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(1&i&&(Ni(o,T5e,5),Ni(o,h0,5),Ni(o,eR,5)),2&i){let s;pn(s=mn())&&(r.customTrigger=s.first),pn(s=mn())&&(r.options=s),pn(s=mn())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(1&i&&(mi(m5e,5),mi(g5e,5),mi(O6,5)),2&i){let o;pn(o=mn())&&(r.trigger=o.first),pn(o=mn())&&(r.panel=o.first),pn(o=mn())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&kt("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(Yn("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),un("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Gn([{provide:OC,useExisting:n},{provide:QO,useExisting:n}]),Ln,xr],ngContentSelectors:E5e,decls:11,vars:8,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(Qi(x5e),Xe(0,"div",0,1),kt("click",function(){return r.open()}),Xe(3,"div",2),an(4,_5e,2,1,"span",3)(5,v5e,3,1),qe(),Xe(6,"div",4)(7,"div",5),Qd(),Xe(8,"svg",6),fn(9,"path",7),qe()()()(),an(10,w5e,3,9,"ng-template",8),kt("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const o=Yr(1);st(3),Yn("id",r._valueId),st(),Ti(4,r.empty?4:5),st(6),bt("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[hC,O6,hR],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[C5e.transformPanel]},changeDetection:0})}return n})(),h3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[M5e],imports:[ci,g_,IC,Bi,w0,Au,IC,Bi]})}return n})();function k5e(n,e){if(1&n&&(Xe(0,"mat-option",5),Ut(1),qe()),2&n){const t=e.$implicit;bt("value",t),st(),U1(" ",t.name," (",t.sites.length,") ")}}function O5e(n,e){if(1&n){const t=$r();Xe(0,"mat-form-field",1)(1,"mat-label",2),Ut(2,"Landmark Set"),qe(),Xe(3,"mat-select",3),kt("selectionChange",function(r){return ii(t),Pn(rn().extractionSetChanged(r.value))}),an(4,k5e,2,3,"mat-option",4),qe()()}if(2&n){const t=rn();st(3),bt("value",t.sets[0]),st(),bt("ngForOf",t.sets)}}let R5e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-extraction-set-dropdown",this.setChange=new Gt}extractionSetChanged(t){this.selected=t,this.ga.event("selected_extraction_set_change","extraction_set_dropdown",t.name),this.setChange.emit(t)}isMultiple(){return this.sets.length>1}static#e=this.\u0275fac=function(i){return new(i||n)(xe(la))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-extraction-set-dropdown"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{sets:"sets"},outputs:{setChange:"setChange"},decls:1,vars:1,consts:[["class","dropdown-form-field","appearance","fill",4,"ngIf"],["appearance","fill",1,"dropdown-form-field"],[1,"extraction-dropdown-label"],["disableOptionCentering","true","panelClass","extraction-set-panel",3,"value","selectionChange"],["class","extraction-set-options",3,"value",4,"ngFor","ngForOf"],[1,"extraction-set-options",3,"value"]],template:function(i,r){1&i&&an(0,O5e,5,2,"mat-form-field",0),2&i&&bt("ngIf",r.isMultiple())},dependencies:[ja,ta,Vh,Uh,tQ,h0],styles:[".extraction-set-panel{position:absolute!important;box-shadow:0 0 .3rem .1rem #9e9e9e!important;top:-3.5rem}  .extraction-set-panel .extraction-set-options{height:2.5rem;min-height:inherit}[_nghost-%COMP%]     .mat-mdc-form-field{width:10.5rem}[_nghost-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{padding:0}  .cdk-overlay-pane{min-width:0rem!important}"],changeDetection:0})}return n})();function P5e(n,e){if(1&n){const t=$r();Xe(0,"mat-icon",2),kt("click",function(){return ii(t),Pn(rn().setAllOpacity(20))}),Ut(1,"refresh"),qe()}2&n&&bt("matRippleCentered",!0)("matRippleUnbounded",!0)}function N5e(n,e){if(1&n){const t=$r();Xe(0,"div",3),kt("mouseenter",function(){const o=ii(t).$implicit;return Pn(rn().mouseOver(o))})("mouseleave",function(){return ii(t),Pn(rn().mouseOut())}),fn(1,"mat-icon",4),Xe(2,"div",5),Ut(3),qe(),Xe(4,"div",6)(5,"ccf-opacity-slider",7),kt("opacityChange",function(r){return ii(t),Pn(rn().updateOpacity(r))})("opacityReset",function(){return ii(t),Pn(rn().resetItem())})("visibilityToggle",function(){const o=ii(t).$implicit;return Pn(rn().toggleVisibility(o))}),qe()()()}if(2&n){const t=e.$implicit,i=rn();un("selected",!!i.selection&&i.getId(0,i.selection)===i.getId(0,t)),st(),un("fade",!t.visible),st(),un("hidden",t.id===(null==i.selection?null:i.selection.id)),jv("title",t.name),st(),Xr(t.name),st(),un("visible",t.id===(null==i.selection?null:i.selection.id))("hidden",t.id!==(null==i.selection?null:i.selection.id)),st(),bt("opacity",i.selection?null==i.selection?null:i.selection.opacity:20)}}let F5e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-visibility-menu",this.hover=new Gt,this.itemsChange=new Gt}toggleVisibility(t){t={...t,visible:!t.visible},this.selection&&t.id===this.selection.id&&(this.selection={...this.selection,visible:t.visible}),this.ga.event("visibility_toggled","visibility_menu",""+t.id,+t.visible),this.updateOpacity(t.opacity)}mouseOver(t){this.selection=t===this.selection?void 0:t,this.hover.emit(t)}mouseOut(){this.selection=void 0,this.hover.emit(void 0)}updateOpacity(t){if(!this.selection)return;const i={...this.selection,opacity:t};this.selection=i,"all"===i.id?this.setAllOpacity(i.opacity):(this.items=this.items.map(r=>r.id===i.id?i:r),this.ga.event("opacity_update","visibility_menu",""+i.id,i.opacity)),this.itemsChange.emit(this.items)}resetItem(){if(this.selection){const t={...this.selection,opacity:20,visible:!0};this.selection=t,"all"===this.selection.id?this.setAllOpacity(t.opacity):(this.items=this.items.map(i=>i.id===t.id?t:i),this.ga.event("item_reset","visibility_menu",""+t.id)),this.itemsChange.emit(this.items)}}setAllOpacity(t){this.items=this.items.map(i=>({...i,opacity:t,visible:!0})),this.ga.event("all_items_opacity_update","visibility_menu",void 0,t),this.itemsChange.emit(this.items)}getId(t,i){return i.id}static#e=this.\u0275fac=function(i){return new(i||n)(xe(la))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-visibility-menu"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{items:"items",selection:"selection"},outputs:{hover:"hover",itemsChange:"itemsChange"},decls:2,vars:3,consts:[["class","icon reset","matRipple","",3,"matRippleCentered","matRippleUnbounded","click",4,"ngIf"],["class","item-entry",3,"selected","mouseenter","mouseleave",4,"ngFor","ngForOf","ngForTrackBy"],["matRipple","",1,"icon","reset",3,"matRippleCentered","matRippleUnbounded","click"],[1,"item-entry",3,"mouseenter","mouseleave"],["svgIcon","app:opacity",1,"opacity-icon"],[1,"item-name",3,"title"],[1,"slider"],[3,"opacity","opacityChange","opacityReset","visibilityToggle"]],template:function(i,r){1&i&&an(0,P5e,2,2,"mat-icon",0)(1,N5e,6,13,"div",1),2&i&&(bt("ngIf",r.items.length),st(),bt("ngForOf",r.items)("ngForTrackBy",r.getId))},dependencies:[ja,ta,ws,za,U4e],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;margin-right:0;margin-left:0;max-height:40vh;overflow-y:auto;scrollbar-width:thin}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{border-radius:.25rem}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s;position:absolute;top:3rem}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]{display:flex;height:2.25rem;align-items:center;flex-shrink:0;position:relative}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity-icon[_ngcontent-%COMP%]{z-index:1;transition:.6s}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity-icon[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-left:.5rem;opacity:1;transition-duration:.4s;transition-timing-function:ease-in-out;transition-property:opacity;max-width:calc(100% - 2.5rem)}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .item-name.hidden[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:calc(100% - 2rem);transition-duration:.3s;transition-timing-function:ease-in-out;transition-property:opacity;left:2rem;position:absolute;opacity:1}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .slider.hidden[_ngcontent-%COMP%]{opacity:0;transition-duration:.1s;transition-timing-function:ease-in-out;transition-property:opacity}"],changeDetection:0})}return n})();function L5e(n,e){if(1&n){const t=$r();Xe(0,"div",5)(1,"ccf-extraction-set-dropdown",11,12),kt("setChange",function(r){return ii(t),Pn(rn().model.setExtractionSites(r.sites))}),Xn(3,"async"),qe(),Xe(4,"ccf-visibility-menu",13),kt("itemsChange",function(r){return ii(t),Pn(rn().model.setExtractionSites(r))})("hover",function(r){return ii(t),Pn(rn().updateExtractionSiteTooltip(r))}),Xn(5,"async"),qe()()}if(2&n){const t=rn();st(),bt("sets",ri(3,2,t.model.extractionSets$)),st(3),bt("items",ri(5,4,t.model.extractionSites$))}}function B5e(n,e){if(1&n&&(Xe(0,"div",14),Ut(1),qe()),2&n){const t=rn();st(),Kr(" ",t.extractionSiteTooltip," ")}}let U5e=(()=>{class n{constructor(t,i,r){this.page=t,this.model=i,this.registration=r,this.clsName="ccf-left-sidebar",this.modalClosed=!1,this.organSelected$=this.model.organ$.pipe(Lt(o=>void 0!==o)),this.extractionSiteTooltip=""}updateExtractionSiteTooltip(t){this.extractionSiteTooltip=t?.tooltip?t.tooltip:""}static#e=this.\u0275fac=function(i){return new(i||n)(xe(so),xe(yr),xe(Ro))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-left-sidebar"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{modalClosed:"modalClosed"},decls:19,vars:13,consts:[[1,"scroll-wrapper"],[1,"container"],[1,"anatomical-structures-menu",3,"expanded"],[1,"expansion-header"],["matTooltip","Use opacity icons to change visibility of anatomical structures",1,"expansion-title"],[1,"expansion-content"],[3,"items","itemsChange"],[1,"extraction-menu",3,"expanded"],["matTooltip","Some organs have predefined landmarks to guide manual tissue registration--you can turn these on/off.",1,"expansion-title"],["class","expansion-content",4,"ngIf"],["class","extraction-site-tooltip mat-elevation-z8",4,"ngIf"],[3,"sets","setChange"],["dropdown",""],[3,"items","itemsChange","hover"],[1,"extraction-site-tooltip","mat-elevation-z8"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"div",1)(2,"mat-expansion-panel",2),Xn(3,"async"),Xe(4,"mat-expansion-panel-header",3)(5,"mat-panel-title",4),Ut(6,"Anatomical Structures"),qe()(),Xe(7,"div",5)(8,"ccf-visibility-menu",6),kt("itemsChange",function(s){return r.model.setAnatomicalStructures(s)}),Xn(9,"async"),qe()()(),fn(10,"mat-divider"),Xe(11,"mat-expansion-panel",7),Xn(12,"async"),Xe(13,"mat-expansion-panel-header",3)(14,"mat-panel-title",8),Ut(15,"Landmarks"),qe()(),an(16,L5e,6,6,"div",9),Xn(17,"async"),qe(),an(18,B5e,2,1,"div",10),qe()()),2&i&&(st(2),bt("expanded",ri(3,5,r.organSelected$)),st(6),bt("items",ri(9,7,r.model.anatomicalStructures$)),st(3),bt("expanded",ri(12,9,r.organSelected$)),st(5),bt("ngIf",ri(17,11,r.organSelected$)),st(2),bt("ngIf",r.extractionSiteTooltip.length>0))},dependencies:[ta,eM,PL,GK,Xc,LJ,R5e,F5e,ad],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 2.5rem);margin-top:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]{overflow-y:scroll;height:100%;margin-right:.375rem;scrollbar-width:thin}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:1.5rem;margin-right:.375rem;min-height:100%}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-top-width:3px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .ccf-organ-selector[_ngcontent-%COMP%]{margin-top:1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]{display:flex;height:3rem;align-items:center}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]   .slider-label[_ngcontent-%COMP%]{font-weight:600}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .expansion-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]     .expansion-header, [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]     .expansion-header{-webkit-user-select:none;-moz-user-select:none;padding:0;font-weight:700;height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]     .expansion-header .mat-expansion-indicator, [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]     .expansion-header .mat-expansion-indicator{display:flex;align-items:center;justify-content:center;height:24px;width:24px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]{margin-bottom:.75rem;text-align:center;margin-top:1.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]   .expansion-placeholder[_ngcontent-%COMP%], [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]   .expansion-placeholder[_ngcontent-%COMP%]{width:100%;font-size:.9rem;font-weight:400}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-site-tooltip[_ngcontent-%COMP%]{position:absolute;top:4rem;left:27rem;width:21rem;padding:1rem;border-radius:.5rem;border:1px solid;z-index:2}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();const nQ={x:10,y:10,z:10};let V5e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-block-size-input",this.blockSize=nQ,this.blockSizeChange=new Gt}updateBlockSizes(t,i){this.blockSize={...this.blockSize,[i]:+t.target.value},this.ga.event("block_size_change","block_size_input",i,this.blockSize[i]),this.blockSizeChange.emit(this.blockSize)}refreshBlockSize(){this.blockSize=nQ,this.ga.event("block_size_reset","block_size_input"),this.blockSizeChange.emit(this.blockSize)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(la))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-block-size-input"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{blockSize:"blockSize"},outputs:{blockSizeChange:"blockSizeChange"},decls:19,vars:5,consts:[["matTooltip","Set the tissue block width, height and depth (dimensions)",1,"header"],[1,"text","title"],[1,"filler"],["matRipple","",1,"icon","refresh",3,"matRippleCentered","matRippleUnbounded","click"],[1,"size-inputs"],[1,"field"],[1,"text","form-input-label"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block width.",1,"input",3,"value","keyup"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block height.",1,"input",3,"value","keyup"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block depth.",1,"input",3,"value","keyup"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"span",1),Ut(2,"Tissue Block Dimensions (mm)"),qe(),fn(3,"div",2),Xe(4,"mat-icon",3),kt("click",function(){return r.refreshBlockSize()}),Ut(5,"refresh"),qe()(),Xe(6,"div",4)(7,"mat-form-field",5)(8,"mat-label",6),Ut(9,"Width (X)"),qe(),Xe(10,"input",7),kt("keyup",function(s){return r.updateBlockSizes(s,"x")}),qe()(),Xe(11,"mat-form-field",5)(12,"mat-label",6),Ut(13,"Height (Y)"),qe(),Xe(14,"input",8),kt("keyup",function(s){return r.updateBlockSizes(s,"y")}),qe()(),Xe(15,"mat-form-field",5)(16,"mat-label",6),Ut(17,"Depth (Z)"),qe(),Xe(18,"input",9),kt("keyup",function(s){return r.updateBlockSizes(s,"z")}),qe()()()),2&i&&(st(4),bt("matRippleCentered",!0)("matRippleUnbounded",!0),st(6),bt("value",r.blockSize.x),st(4),bt("value",r.blockSize.y),st(4),bt("value",r.blockSize.z))},dependencies:[dm,Vh,Uh,ws,za,Xc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:20rem;margin:0 auto}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:4.5rem}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-infix{padding-bottom:0;min-height:inherit}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-icon-suffix{padding:1rem 0 0px .25rem}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();function j5e(n,e){if(1&n&&(Xe(0,"div",11)(1,"div",12),Ut(2),qe(),Xe(3,"div",13),Ut(4),qe()()),2&n){const t=e.$implicit;st(2),Xr(t.label),st(2),Xr(t.value)}}let z5e=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.clsName="ccf-review-modal",this.metaData=i.metaData,this.registrationCallbackSet=i.registrationCallbackSet}close(){document.getElementsByClassName("modal-animated")[0]?.classList.add("modal-animate-fade-out"),setTimeout(()=>{this.dialogRef.close()},250)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(ob),xe(kL))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-review-modal"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},decls:14,vars:2,consts:[[1,"ccf-about","wrapper"],[1,"container"],[1,"close"],[1,"material-icons","close-icon",3,"click"],[1,"content"],["mat-dialog-title","",1,"title"],[1,"mat-typography"],[1,"display-fields"],["class","field",4,"ngFor","ngForOf"],[1,"footer"],["mat-button","",1,"download-button",3,"click"],[1,"field"],[1,"label"],[1,"data"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),kt("click",function(){return r.close()}),Ut(4,"clear"),qe()(),Xe(5,"div",4)(6,"h2",5),Ut(7,"Registration Review"),qe(),Xe(8,"mat-dialog-content",6)(9,"div",7),an(10,j5e,5,2,"div",8),qe()(),Xe(11,"div",9)(12,"button",10),kt("click",function(){return r.dialogRef.close(!0)}),Ut(13),qe()()()()()),2&i&&(st(10),bt("ngForOf",r.metaData),st(3),Xr(r.registrationCallbackSet?"REGISTER":"DOWNLOAD REGISTRATION DATA"))},dependencies:[ja,ZA,QA,ws,h_],styles:["[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{float:right;margin-top:1rem;margin-right:1rem;cursor:pointer}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:2rem;background-color:#fff}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;margin-bottom:0;font-weight:500}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]{justify-content:space-around;display:flex;font-weight:500;font-size:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem;width:100%}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{width:50%;text-align:left;padding-left:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding-top:1.5rem;display:flex;justify-content:space-around}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{padding:0 1rem;transition:.6s}"],changeDetection:0})}return n})(),H5e=(()=>{class n{constructor(t,i,r){this.dialog=t,this.ga=i,this.page=r,this.clsName="ccf-review-button",this.registrationCallbackSet=!0,this.metaData=[],this.displayErrors=!0,this.userValid=!1,this.registerData=new Gt,this.enterErrorMode=new Gt,this.registrationIsValid=!1}ngOnChanges(){const t=this.metaDataLookup("Reference Organ Name"),i=this.metaDataLookup("Tissue Block Dimensions (mm)"),r=this.metaDataLookup("Tissue Block Position (mm)"),o=this.metaDataLookup("Anatomical Structure Tags");this.registrationIsValid=this.userValid&&[t,i,r,o].every(s=>""!==s)}get disabled(){return!this.registrationIsValid}metaDataLookup(t){return this.metaData.find(i=>i.label===t)?.value}registerButtonClick(t){return t&&t.preventDefault(),this.enterErrorMode.emit(),this.registrationIsValid&&(this.ga.event("review_start","review_button"),this.launchReviewModal()),!1}launchReviewModal(){this.page.patchState({registrationStarted:!1}),this.dialog.open(z5e,{panelClass:"modal-animated",width:"60rem",data:{registrationCallbackSet:this.registrationCallbackSet,metaData:this.metaData}}).afterClosed().subscribe(i=>{this.page.registrationStarted(),i&&(this.ga.event("register","review_button"),this.registerData.emit())})}static#e=this.\u0275fac=function(i){return new(i||n)(xe(hm),xe(la),xe(so))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-review-button"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{registrationCallbackSet:"registrationCallbackSet",metaData:"metaData",displayErrors:"displayErrors",userValid:"userValid"},outputs:{registerData:"registerData",enterErrorMode:"enterErrorMode"},features:[xr],decls:2,vars:4,consts:[["mat-button","",1,"review-button",3,"matTooltip","click"]],template:function(i,r){1&i&&(Xe(0,"button",0),kt("click",function(s){return r.registerButtonClick(s)}),Ut(1),qe()),2&i&&(un("disabled",r.disabled),bt("matTooltip",r.disabled?"Required: Enter valid user info, select an organ and position tissue block inside organ.":"Review registration and submit/download."),st(),Kr(" ",r.registrationCallbackSet?"Review and Register":"Review and Download","\n"))},dependencies:[h_,Xc],styles:[".review-button[_ngcontent-%COMP%]{width:100%;height:2.25rem;transition:.6s;font-weight:500}.review-button.disabled[_ngcontent-%COMP%]{cursor:not-allowed}"],changeDetection:0})}return n})();const G5e={x:0,y:0,z:0};let W5e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-rotation-slider",this.rotation=G5e,this.rotationChange=new Gt}changeRotation(t,i){const r=+t>180?180:+t<-180?-180:+t;this.rotation={...this.rotation,[i]:+r},this.ga.event("rotation_update","rotation_slider",i,+r),this.rotationChange.emit(this.rotation)}resetRotation(t){this.rotation={...this.rotation,[t]:0},this.ga.event("rotation_reset","rotation_slider"),this.rotationChange.emit(this.rotation)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(la))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-rotation-slider"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{rotation:"rotation"},outputs:{rotationChange:"rotationChange"},decls:34,vars:20,consts:[[1,"header"],["matTooltip","Use sliders below to rotate tissue block for registration",1,"text","title"],[1,"filler"],[1,"refresh-button-container"],["matRipple","",1,"icon","reset",3,"matRippleCentered","matRippleUnbounded","click"],[1,"slider-box","red"],[1,"text","label"],[1,"slider-container"],["disableRipple","","discrete","",1,"slider",3,"max","min"],["matSliderThumb","",1,"slider-x",3,"value","input"],["sliderX",""],["matInput","","type","number",1,"input",3,"value","min","max","change"],[1,"slider-box","green"],["matSliderThumb","",1,"slider-y",3,"value","input"],["sliderY",""],[1,"slider-box","blue"],["matSliderThumb","",1,"slider-z",3,"value","input"],["sliderZ",""]],template:function(i,r){if(1&i){const o=$r();Xe(0,"div",0)(1,"span",1),Ut(2,"Tissue Block Rotation"),qe(),fn(3,"div",2),Xe(4,"div",3)(5,"mat-icon",4),kt("click",function(){return r.resetRotation("x"),r.resetRotation("y"),r.resetRotation("z")}),Ut(6,"refresh"),qe()()(),Xe(7,"div",5)(8,"span",6),Ut(9,"X"),qe(),Xe(10,"div",7)(11,"mat-slider",8)(12,"input",9,10),kt("input",function(){ii(o);const a=Yr(13);return Pn(r.changeRotation(a.value,"x"))}),qe()()(),Xe(14,"mat-form-field")(15,"input",11),kt("change",function(a){return r.changeRotation(a.target.value,"x")}),qe()()(),Xe(16,"div",12)(17,"span",6),Ut(18,"Y"),qe(),Xe(19,"div",7)(20,"mat-slider",8)(21,"input",13,14),kt("input",function(){ii(o);const a=Yr(22);return Pn(r.changeRotation(a.value,"y"))}),qe()()(),Xe(23,"mat-form-field")(24,"input",11),kt("change",function(a){return r.changeRotation(a.target.value,"y")}),qe()()(),Xe(25,"div",15)(26,"span",6),Ut(27,"Z"),qe(),Xe(28,"div",7)(29,"mat-slider",8)(30,"input",16,17),kt("input",function(){ii(o);const a=Yr(31);return Pn(r.changeRotation(a.value,"z"))}),qe()()(),Xe(32,"mat-form-field")(33,"input",11),kt("change",function(a){return r.changeRotation(a.target.value,"z")}),qe()()()}2&i&&(st(5),bt("matRippleCentered",!0)("matRippleUnbounded",!0),st(6),bt("max",180)("min",-180),st(),bt("value",r.rotation.x),st(3),bt("value",r.rotation.x)("min",-180)("max",180),st(5),bt("max",180)("min",-180),st(),bt("value",r.rotation.y),st(3),bt("value",r.rotation.y)("min",-180)("max",180),st(5),bt("max",180)("min",-180),st(),bt("value",r.rotation.z),st(3),bt("value",r.rotation.z)("min",-180)("max",180))},dependencies:[ws,AK,qA,za,Xc,dm,Vh],styles:["[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;padding:.5rem 0}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .refresh-button-container[_ngcontent-%COMP%]{display:flex;height:1rem;justify-content:flex-end}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:4rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{height:100%;width:5rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]{width:100%;padding-left:.5rem;padding-right:2rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]     mat-slider-visual-thumb{transition:none}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();const iQ={thickness:NaN,numSlices:NaN};let $5e=(()=>{class n{get hasThicknessValue(){return!isNaN(this.slicesConfig.thickness)}constructor(t){this.ga=t,this.clsName="ccf-slices-input",this.slicesConfig=iQ,this.slicesConfigChange=new Gt}updateSlicesData(t,i){const{value:r}=t.target;this.slicesConfig={...this.slicesConfig,[i]:""!==r?+r:NaN},this.ga.event("slice_config_update","slice_input",i,this.slicesConfig[i]),this.slicesConfigChange.emit(this.slicesConfig)}refreshSlices(){this.slicesConfig=iQ,this.ga.event("slice_config_reset","slice_input"),this.slicesConfigChange.emit(this.slicesConfig)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(la))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-slices-input"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{slicesConfig:"slicesConfig"},outputs:{slicesConfigChange:"slicesConfigChange"},decls:17,vars:6,consts:[[1,"header"],["matTooltip","Add thickness of tissue sections and the total number of sections",1,"text","title"],[1,"filler"],["matRipple","",1,"icon","refresh",3,"matRippleCentered","matRippleUnbounded","click"],[1,"slices-inputs"],[1,"field"],[1,"text","form-input-label"],["matInput","","ccfNumbersOnly","","type","number","matTooltip","Enter thickness of tissue sections",1,"input",3,"value","keyup"],["matSuffix","",1,"suffix"],["matInput","","ccfNumbersOnly","","type","number","matTooltip","Enter total number of sections",1,"input",3,"value","keyup"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"span",1),Ut(2,"Tissue Sections"),qe(),fn(3,"div",2),Xe(4,"mat-icon",3),kt("click",function(){return r.refreshSlices()}),Ut(5," refresh "),qe()(),Xe(6,"div",4)(7,"mat-form-field",5)(8,"mat-label",6),Ut(9,"Thickness"),qe(),Xe(10,"input",7),kt("keyup",function(s){return r.updateSlicesData(s,"thickness")}),qe(),Xe(11,"div",8),Ut(12,"\u03bcm"),qe()(),Xe(13,"mat-form-field",5)(14,"mat-label",6),Ut(15,"# Sections"),qe(),Xe(16,"input",9),kt("keyup",function(s){return r.updateSlicesData(s,"numSlices")}),qe()()()),2&i&&(st(4),bt("matRippleCentered",!0)("matRippleUnbounded",!0),st(6),bt("value",r.slicesConfig.thickness),st(),un("show",r.hasThicknessValue),st(5),bt("value",r.slicesConfig.numSlices))},dependencies:[dm,Vh,Uh,iR,ws,za,Xc,X4e],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.5rem}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:20rem;margin:0 auto}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:9rem}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field.mat-focused[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%], [_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix.show[_ngcontent-%COMP%]{display:initial}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-infix{padding-bottom:0;min-height:inherit}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-icon-suffix{padding:1.5rem 0 0}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();function Y5e(n,e){1&n&&(Xe(0,"span",7),Cn(1,1),qe())}function X5e(n,e){1&n&&(Xe(0,"span",8),Cn(1,2),qe())}const rQ=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],oQ=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function K5e(n,e){1&n&&(Xe(0,"span",8),Cn(1,1),Xe(2,"span",9),Qd(),Xe(3,"svg",10),fn(4,"path",11),qe()()())}function q5e(n,e){1&n&&(Xe(0,"span",12),Cn(1,2),qe())}const f3=["*"],zM=new mt("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),p3=new mt("MatChipAvatar"),m3=new mt("MatChipTrailingIcon"),g3=new mt("MatChipRemove"),HM=new mt("MatChip");class s6e{}const a6e=c_(s6e,-1);let Mb=(()=>{class n extends a6e{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(t){this._disabled=ei(t)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(t,i){super(),this._elementRef=t,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===t.nativeElement.nodeName&&t.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(t){!this.disabled&&this.isInteractive&&this._isPrimary&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(HM))};static#t=this.\u0275dir=$t({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(i,r){1&i&&kt("click",function(s){return r._handleClick(s)})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(Yn("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),un("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--trailing",!r._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[Ln]})}return n})(),cQ=(()=>{class n extends Mb{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(t){this.disabled||(t.stopPropagation(),t.preventDefault(),this._parentChip.remove())}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!this.disabled&&(t.stopPropagation(),t.preventDefault(),this._parentChip.remove())}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Hi(n)))(r||n)}})();static#t=this.\u0275dir=$t({type:n,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(i,r){2&i&&Yn("aria-hidden",null)},features:[Gn([{provide:g3,useExisting:n}]),Ln]})}return n})(),d6e=0;const u6e=c_(JO(MC(m5(class{constructor(n){this._elementRef=n}})),"primary"),-1);let Cm=(()=>{class n extends u6e{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(t){this._value=t}get removable(){return this._removable}set removable(t){this._removable=ei(t)}get highlighted(){return this._highlighted}set highlighted(t){this._highlighted=ei(t)}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}constructor(t,i,r,o,s,a,c,l){super(i),this._changeDetectorRef=t,this._ngZone=r,this._focusMonitor=o,this._globalRippleOptions=c,this._onFocus=new Qt,this._onBlur=new Qt,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+d6e++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new Gt,this.destroyed=new Gt,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=Ft(T5),this._document=s,this._animationsDisabled="NoopAnimations"===a,null!=l&&(this.tabIndex=parseInt(l)??this.defaultTabIndex),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const t=this._elementRef.nativeElement;this._isBasicChip=t.hasAttribute(this.basicChipAttrName)||t.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=Ps(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(t){(8===t.keyCode||46===t.keyCode)&&(t.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(t){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===t||r.contains(t)})}_getActions(){const t=[];return this.primaryAction&&t.push(this.primaryAction),this.removeIcon&&t.push(this.removeIcon),this.trailingIcon&&t.push(this.trailingIcon),t}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const i=null!==t;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(_r(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Mi),xe(vn),xe(gn),xe(Su),xe(Qn),xe(Lr,8),xe(Bh,8),Ks("tabindex"))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,r,o){if(1&i&&(Ni(o,p3,5),Ni(o,m3,5),Ni(o,g3,5),Ni(o,p3,5),Ni(o,m3,5),Ni(o,g3,5)),2&i){let s;pn(s=mn())&&(r.leadingIcon=s.first),pn(s=mn())&&(r.trailingIcon=s.first),pn(s=mn())&&(r.removeIcon=s.first),pn(s=mn())&&(r._allLeadingIcons=s),pn(s=mn())&&(r._allTrailingIcons=s),pn(s=mn())&&(r._allRemoveIcons=s)}},viewQuery:function(i,r){if(1&i&&mi(Mb,5),2&i){let o;pn(o=mn())&&(r.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(i,r){1&i&&kt("keydown",function(s){return r._handleKeydown(s)}),2&i&&(ea("id",r.id),Yn("role",r.role)("tabindex",r.role?r.tabIndex:null)("aria-label",r.ariaLabel),un("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[Gn([{provide:HM,useExisting:n}]),Ln],ngContentSelectors:oQ,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(Qi(rQ),fn(0,"span",0),Xe(1,"span",1)(2,"span",2),an(3,Y5e,2,0,"span",3),Xe(4,"span",4),Cn(5),fn(6,"span",5),qe()()(),an(7,X5e,2,0,"span",6)),2&i&&(st(2),bt("isInteractive",!1),st(),Ti(3,r.leadingIcon?3:-1),st(4),Ti(7,r._hasTrailingIcon()?7:-1))},dependencies:[Mb],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),lQ=(()=>{class n extends Cm{constructor(){super(...arguments),this._defaultOptions=Ft(zM,{optional:!0}),this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new Gt}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=ei(t),this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(t){this._setSelectedState(ei(t),!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(t=!1){return this._setSelectedState(!this.selected,t,!0),this.selected}_handlePrimaryActionInteraction(){this.disabled||(this.focus(),this.selectable&&this.toggleSelected(!0))}_hasLeadingGraphic(){return!!this.leadingIcon||!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(t,i,r){t!==this.selected&&(this._selected=t,r&&this.selectionChange.emit({source:this,isUserInput:i,selected:this.selected}),this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Hi(n)))(r||n)}})();static#t=this.\u0275cmp=on({type:n,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(i,r){2&i&&(ea("id",r.id),Yn("tabindex",null)("aria-label",null)("aria-description",null)("role",r.role),un("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--filter",!r._isBasicChip)("mdc-evolution-chip--selectable",!r._isBasicChip)("mat-mdc-chip-selected",r.selected)("mat-mdc-chip-multiple",r._chipListMultiple)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-chip-with-avatar",r.leadingIcon)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--selected",r.selected)("mdc-evolution-chip--selecting",!r._animationsDisabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-primary-graphic",r._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",selectable:"selectable",selected:"selected"},outputs:{selectionChange:"selectionChange"},features:[Gn([{provide:Cm,useExisting:n},{provide:HM,useExisting:n}]),Ln],ngContentSelectors:oQ,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"tabIndex","_allowFocusWhenDisabled"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false","aria-hidden","true",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(Qi(rQ),fn(0,"span",0),Xe(1,"span",1)(2,"button",2),an(3,K5e,5,0,"span",3),Xe(4,"span",4),Cn(5),fn(6,"span",5),qe()()(),an(7,q5e,2,0,"span",6),Xe(8,"span",7),Ut(9),qe()),2&i&&(st(2),bt("tabIndex",r.tabIndex)("_allowFocusWhenDisabled",!0),Yn("aria-selected",r.ariaSelected)("aria-label",r.ariaLabel)("aria-describedby",r._ariaDescriptionId),st(),Ti(3,r._hasLeadingGraphic()?3:-1),st(4),Ti(7,r._hasTrailingIcon()?7:-1),st(),bt("id",r._ariaDescriptionId),st(),Xr(r.ariaDescription))},dependencies:[Mb],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();class h6e{constructor(e){}}const f6e=c_(h6e);let _3=(()=>{class n extends f6e{get chipFocusChanges(){return this._getChipStream(t=>t._onFocus)}get chipDestroyedChanges(){return this._getChipStream(t=>t.destroyed)}get disabled(){return this._disabled}set disabled(t){this._disabled=ei(t),this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(t){this._explicitRole=t}get focused(){return this._hasFocusedChip()}constructor(t,i,r){super(t),this._elementRef=t,this._changeDetectorRef=i,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new Qt,this._defaultRole="presentation",this._disabled=!1,this._explicitRole=null,this._chipActions=new Kg}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(t=>t._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(t=>{t.disabled=this._disabled,t._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(t){this._originatesFromChip(t)&&this._keyManager.onKeydown(t)}_isValidIndex(t){return t>=0&&t<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const t=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=t)}}_getChipStream(t){return this._chips.changes.pipe(Zo(null),jr(()=>Ps(...this._chips.map(t))))}_originatesFromChip(t){let i=t.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(Zo(this._chips)).subscribe(t=>{const i=[];t.forEach(r=>r._getActions().forEach(o=>i.push(o))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new t5(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(t=>this._skipPredicate(t)),this.chipFocusChanges.pipe(vi(this._destroyed)).subscribe(({chip:t})=>{const i=t._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(vi(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t))}_skipPredicate(t){return!t.isInteractive||t.disabled}_trackChipSetChanges(){this._chips.changes.pipe(Zo(null),vi(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(vi(this._destroyed)).subscribe(t=>{const r=this._chips.toArray().indexOf(t.chip);this._isValidIndex(r)&&t.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const t=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[t];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(i){return new(i||n)(xe(vn),xe(Mi),xe(yl,8))};static#t=this.\u0275cmp=on({type:n,selectors:[["mat-chip-set"]],contentQueries:function(i,r,o){if(1&i&&Ni(o,Cm,5),2&i){let s;pn(s=mn())&&(r._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,r){1&i&&kt("keydown",function(s){return r._handleKeydown(s)}),2&i&&Yn("role",r.role)},inputs:{disabled:"disabled",role:"role"},features:[Ln],ngContentSelectors:f3,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(Qi(),Xe(0,"div",0),Cn(1),qe())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})();class p6e{constructor(e,t){this.source=e,this.value=t}}const m6e={provide:xs,useExisting:Ee(()=>b3),multi:!0};let b3=(()=>{class n extends _3{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._defaultOptions=Ft(zM,{optional:!0}),this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(t,i)=>t===i,this._required=!1,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.change=new Gt,this._chips=void 0}get multiple(){return this._multiple}set multiple(t){this._multiple=ei(t),this._syncListboxProperties()}get selected(){const t=this._chips.toArray().filter(i=>i.selected);return this.multiple?t:t[0]}get selectable(){return this._selectable}set selectable(t){this._selectable=ei(t),this._syncListboxProperties()}get required(){return this._required}set required(t){this._required=ei(t)}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=ei(t),this._syncListboxProperties()}get chipSelectionChanges(){return this._getChipStream(t=>t.selectionChange)}get chipBlurChanges(){return this._getChipStream(t=>t._onBlur)}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(Zo(null),vi(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(vi(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(vi(this._destroyed)).subscribe(t=>{this.multiple||this._chips.forEach(i=>{i!==t.source&&i._setSelectedState(!1,!1,!1)}),t.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const t=this._getFirstSelectedChip();t&&!t.disabled?t.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(t){this._chips?this._setSelectionByValue(t,!1):null!=t&&(this._pendingInitialValue=t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_setSelectionByValue(t,i=!0){this._clearSelection(),Array.isArray(t)?t.forEach(r=>this._selectValue(r,i)):this._selectValue(t,i)}_blur(){this.disabled||setTimeout(()=>{this.focused||this._markAsTouched()})}_keydown(t){9===t.keyCode&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let t=null;t=Array.isArray(this.selected)?this.selected.map(i=>i.value):this.selected?this.selected.value:void 0,this._value=t,this.change.emit(new p6e(this,t)),this._onChange(t),this._changeDetectorRef.markForCheck()}_clearSelection(t){this._chips.forEach(i=>{i!==t&&i.deselect()})}_selectValue(t,i){const r=this._chips.find(o=>null!=o.value&&this.compareWith(o.value,t));return r&&(i?r.selectViaInteraction():r.select()),r}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(t=>{t._chipListMultiple=this.multiple,t.chipListSelectable=this._selectable,t._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,t._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(t){return!t.isInteractive}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Hi(n)))(r||n)}})();static#t=this.\u0275cmp=on({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(i,r,o){if(1&i&&Ni(o,lQ,5),2&i){let s;pn(s=mn())&&(r._chips=s)}},hostAttrs:[1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(i,r){1&i&&kt("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(s){return r._keydown(s)}),2&i&&(ea("tabIndex",r.empty?-1:r.tabIndex),Yn("role",r.role)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-multiselectable",r.multiple)("aria-orientation",r.ariaOrientation),un("mat-mdc-chip-list-disabled",r.disabled)("mat-mdc-chip-list-required",r.required))},inputs:{tabIndex:"tabIndex",multiple:"multiple",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",compareWith:"compareWith",required:"required",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",value:"value"},outputs:{change:"change"},features:[Gn([m6e]),Ln],ngContentSelectors:f3,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(Qi(),Xe(0,"div",0),Cn(1),qe())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),uQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[TC,{provide:zM,useValue:{separatorKeyCodes:[13]}}],imports:[Bi,Ha,Bi]})}return n})();function w6e(n,e){if(1&n){const t=$r();Xe(0,"mat-chip",2),kt("removed",function(){const o=ii(t).$implicit;return Pn(rn().removeTag(o))}),Ut(1),Xe(2,"mat-icon",3),Ut(3,"cancel"),qe()()}if(2&n){const t=e.$implicit;_i(rn().tagClasses(t)),st(),Kr(" ",t.label," ")}}let x6e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-tag-list",this.tagRemoved=new Gt,this.tagsChange=new Gt}tagId(t,i){return i.id}tagClasses(t){return"added"===t.type?["added"]:["assigned"]}removeTag(t){this.tags=this.tags.filter(i=>i!==t),this.ga.event("tag_removed","tag_list",t.label),this.tagRemoved.emit(t),this.tagsChange.emit(this.tags)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(la))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-tag-list"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{tags:"tags"},outputs:{tagRemoved:"tagRemoved",tagsChange:"tagsChange"},decls:2,vars:2,consts:[["selectable","false"],["removable","","disableRipple","",3,"class","removed",4,"ngFor","ngForOf","ngForTrackBy"],["removable","","disableRipple","",3,"removed"],["matChipRemove","",1,"icon","remove"]],template:function(i,r){1&i&&(Xe(0,"mat-chip-listbox",0),an(1,w6e,4,3,"mat-chip",1),qe()),2&i&&(st(),bt("ngForOf",r.tags)("ngForTrackBy",r.tagId))},dependencies:[ja,Cm,b3,cQ,ws],styles:["[_nghost-%COMP%]{display:block;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]     .mdc-evolution-chip-set__chips{margin:0!important}[_nghost-%COMP%]     .mdc-evolution-chip-set__chips .mdc-evolution-chip__text-label{font-size:14px}"],changeDetection:0})}return n})();const C6e=["closeSearch"];function S6e(n,e){if(1&n){const t=$r();Xe(0,"div",12)(1,"mat-checkbox",13),kt("ngModelChange",function(r){const s=ii(t).$implicit;return Pn(rn(2).checkedResults[s.id]=r)}),Ut(2),qe()()}if(2&n){const t=e.$implicit,i=rn(2);st(),bt("ngModel",i.checkedResults[t.id]),st(),Kr(" ",t.label," ")}}function A6e(n,e){if(1&n&&(Xe(0,"div",9),an(1,S6e,3,2,"div",10),Xe(2,"div",11),Ut(3),Xn(4,"i18nPlural"),qe()()),2&n){const t=rn();st(),bt("ngForOf",t.searchResults.results)("ngForTrackBy",t.tagId),st(2),Kr(" ",Hv(4,3,t.searchResults.totalCount,t.countMapping)," ")}}const hQ=5,WM={totalCount:0,results:[]};class Tb{constructor(e,t,i){this.el=e,this.ga=t,this.clsName="ccf-tag-search",this.placeholder="Add Anatomical Structures ...",this.added=new Gt,this.countMapping={"=1":"1 result",other:"# results"},this.searchControl=new Ow,this.searchResults=WM,this.checkedResults={},this.resultsVisible=!1,this.destroy$=new Qt,this.searchControl.valueChanges.pipe(vi(this.destroy$),_K(()=>function E6e(n=0,e=r_){return n<0&&(n=0),v0(n,n,e)}(this.searchThrottle??100),{leading:!0,trailing:!0}),jr(this.executeSearch)).subscribe(r=>{this.searchResults=r,this.checkedResults=this.getUpdatedCheckedResults(r),i.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}tagId(e,t){return t.id}hasCheckedTags(){return Object.values(this.checkedResults).some(e=>e)}addTags(){const{searchControl:e,searchResults:t,checkedResults:i}=this,r=t.results.filter(o=>i[o.id]);r.length>0&&(e.reset(),this.searchResults=WM,this.checkedResults={},this.ga.event("tags_added","tag_search",r.map(o=>o.label).join(",")),this.added.emit(r))}openResults(){this.resultsVisible||(this.resultsVisible=!0)}closeResults(e){const{closeSearch:t}=this;this.resultsVisible&&e.target instanceof Node&&(!this.el.nativeElement.contains(e.target)||t.nativeElement.contains(e.target))&&(this.resultsVisible=!1)}executeSearch(e){const{search:t,searchLimit:i=hQ}=this;return e&&t?oo(t(e,i)).pipe(Ga(()=>[WM]),Lt(this.truncateResults)):[WM]}truncateResults(e){const{searchLimit:t=hQ}=this,i=e.results;return i.length>t?{...e,results:i.slice(0,t)}:e}getUpdatedCheckedResults(e){const t=this.checkedResults;return e.results.reduce((i,{id:r})=>(i[r]=t[r]??!1,i),{})}static#e=this.\u0275fac=function(t){return new(t||Tb)(xe(vn),xe(la),xe(Mi))};static#t=this.\u0275cmp=on({type:Tb,selectors:[["ccf-tag-search"]],viewQuery:function(t,i){if(1&t&&mi(C6e,5,vn),2&t){let r;pn(r=mn())&&(i.closeSearch=r.first)}},hostVars:2,hostBindings:function(t,i){1&t&&kt("click",function(){return i.openResults()})("focusin",function(){return i.openResults()})("click",function(o){return i.closeResults(o)},!1,Ny)("focusin",function(o){return i.closeResults(o)},!1,Ny),2&t&&_i(i.clsName)},inputs:{placeholder:"placeholder",search:"search",searchLimit:"searchLimit",searchThrottle:"searchThrottle"},outputs:{added:"added"},decls:10,vars:8,consts:[[1,"spacer"],["appearance","outline","subscriptSizing","dynamic",1,"overlay"],[1,"search-box"],["matInput","","type","search",3,"placeholder","formControl"],["search",""],["matSuffix","",1,"add-button",3,"disabled","click"],["closeSearch",""],[1,"icon"],["class","results",4,"ngIf"],[1,"results"],["class","item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"count"],[1,"item"],["labelPosition","after",3,"ngModel","ngModelChange"]],template:function(t,i){if(1&t){const r=$r();fn(0,"div",0),Xe(1,"mat-form-field",1)(2,"div",2),fn(3,"input",3,4),Xe(5,"button",5,6),kt("click",function(){ii(r);const s=Yr(4);return i.addTags(),Pn(s.focus())}),Xe(7,"mat-icon",7),Ut(8,"add"),qe()()(),an(9,A6e,5,6,"div",8),qe()}2&t&&(st(),un("expanded",i.resultsVisible),st(2),bt("placeholder",i.placeholder)("formControl",i.searchControl),st(2),un("active",i.hasCheckedTags()),bt("disabled",!i.hasCheckedTags()),st(4),bt("ngIf",i.resultsVisible))},dependencies:[ja,ta,nb,FA,mL,Rw,TB,Vh,iR,ws,dm,Xz],styles:["[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{height:3.5rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;z-index:10}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;height:3rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{border-radius:.25rem;border:none;display:flex;justify-content:center;align-items:center;cursor:pointer;height:100%}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{margin-top:.5rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.75rem;text-align:end}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{min-height:inherit;padding:0}"],changeDetection:0})}Bt([Td.ak],Tb.prototype,"executeSearch",null),Bt([Td.ak],Tb.prototype,"truncateResults",null);let T6e=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this.firstNameValidator.setValue(t?.firstName||""),this.lastNameValidator.setValue(t?.lastName||""),this.middleNameValidator.setValue(t?.middleName||"")}constructor(t){this.ga=t,this.clsName="ccf-name-input",this.firstNameValidator=new Ow("",[om.required]),this.lastNameValidator=new Ow("",[om.required]),this.middleNameValidator=new Ow("",[om.required]),this._name={firstName:"",middleName:"",lastName:""},this.nameChange=new Gt}updateName(t,i){this.name={...this.name,[i]:t.target.value},this.ga.event("name_updated","name_input",i),this.nameChange.emit(this.name)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(la))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-name-input"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{name:"name"},outputs:{nameChange:"nameChange"},decls:12,vars:3,consts:[["subscriptSizing","dynamic",1,"field"],[1,"text","form-input-label"],["matInput","","matTooltip","Add your first name.","required","","title","",1,"input",3,"value","input"],["matInput","","matTooltip","Add your middle name.",1,"input",3,"value","input"],["matInput","","matTooltip","Add your last name.","required","","title","",1,"input",3,"value","input"]],template:function(i,r){1&i&&(Xe(0,"mat-form-field",0)(1,"mat-label",1),Ut(2,"First Name "),qe(),Xe(3,"input",2),kt("input",function(s){return r.updateName(s,"firstName")}),qe()(),Xe(4,"mat-form-field",0)(5,"mat-label",1),Ut(6,"Middle Name "),qe(),Xe(7,"input",3),kt("input",function(s){return r.updateName(s,"middleName")}),qe()(),Xe(8,"mat-form-field",0)(9,"mat-label",1),Ut(10,"Last Name "),qe(),Xe(11,"input",4),kt("input",function(s){return r.updateName(s,"lastName")}),qe()()),2&i&&(st(3),bt("value",r.firstNameValidator.value),st(4),bt("value",r.middleNameValidator.value),st(4),bt("value",r.lastNameValidator.value))},dependencies:[dm,Vh,Uh,Xc],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:left;width:100%;font-size:1rem}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}"],changeDetection:0})}return n})();const I6e=["fileInput"];let D6e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-json-file-reader",this.label="Upload",this.parsedJson=new Gt}triggerFileInput(){this.fileInput.nativeElement.click()}handleFile(t){const i=t.target;if(!i.files)return;const r=i.files[0],o=new FileReader;o.onload=()=>{const s=JSON.parse(o.result);this.ga.event("json_file_load_end","json_file_reader"),this.parsedJson.emit(s)},this.ga.event("json_file_load_start","json_file_reader"),o.readAsText(r)}static#e=this.\u0275fac=function(i){return new(i||n)(xe(la))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-json-file-reader"]],viewQuery:function(i,r){if(1&i&&mi(I6e,5),2&i){let o;pn(o=mn())&&(r.fileInput=o.first)}},hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{label:"label"},outputs:{parsedJson:"parsedJson"},decls:4,vars:1,consts:[["mat-button","",1,"upload-button",3,"click"],["type","file","accept","application/JSON","name","fileInput","id","fileInput",2,"display","none",3,"change"],["fileInput",""]],template:function(i,r){1&i&&(Xe(0,"button",0),kt("click",function(){return r.triggerFileInput()}),Ut(1),qe(),Xe(2,"input",1,2),kt("change",function(s){return r.handleFile(s)}),qe()),2&i&&(st(),Xr(r.label))},dependencies:[h_],styles:["[_nghost-%COMP%]   .upload-button[_ngcontent-%COMP%]{width:100%;height:2.25rem;transition:.6s;cursor:pointer;font-weight:500}"],changeDetection:0})}return n})();function k6e(n,e){if(1&n&&(Xe(0,"mat-error"),Ut(1),qe()),2&n){const t=rn();st(),Xr(t.getErrorMessage())}}function O6e(n,e){1&n&&(Xe(0,"div",8),Ut(1,"Organs"),qe())}function R6e(n,e){if(1&n&&(Xe(0,"mat-option",19),Ut(1),qe()),2&n){const t=e.$implicit;bt("value",t),st(),Kr(" ",t.name," ")}}let fQ=(()=>{class n{constructor(t,i,r){this.model=t,this.registration=i,this.page=r,this.registrationSelected=new Gt,this.orcidControl=new GA("",[om.pattern("^[a-zA-Z0-9]{4}(-[a-zA-Z0-9]{4}){3}$")]),r.user$.subscribe(o=>{this.checkNameValid(o),this.orcId=r.uriToOrcid(o.orcidId)}),i.state$.subscribe(o=>{this.uploadText=o.initialRegistration?"File(s) uploaded":"No file(s) uploaded"})}getErrorMessage(){return this.orcidControl.hasError("pattern")?"Not a valid ORCID":""}updateOrcid(t){this.page.setOrcidId(t)}handleRegistrationUpload(t){this.registrationSelected.emit(),this.registration.editRegistration(t)}checkNameValid(t){this.nameValid=t.firstName.length>0&&t.lastName.length>0}setSexFromLabel(t){this.model.setSex(t.toLowerCase())}static#e=this.\u0275fac=function(i){return new(i||n)(xe(yr),xe(Ro),xe(so))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-registration-metadata"]],outputs:{registrationSelected:"registrationSelected"},decls:38,vars:19,consts:[[1,"author-section"],[1,"section-title"],[3,"name","nameChange"],[1,"orcid-input"],["matInput","","matTooltip","Add ORCID id.","maxlength","19",1,"input",3,"value","formControl","input"],[4,"ngIf"],[1,"donor-section"],[1,"sex-toggle"],[1,"label"],[1,"radio-group",3,"value","change"],["value","male",1,"radio"],["value","female",1,"radio"],[1,"organ-selector"],["appearance","fill","subscriptSizing","dynamic",1,"form-field"],["class","label",4,"ngIf"],["disableOptionCentering","true","panelClass","organ-select","hideSingleSelectionIndicator","true",3,"value","selectionChange"],["class","organ-select-option",3,"value",4,"ngFor","ngForOf"],[1,"upload-registration"],["label","Upload","matTooltip","Upload a preexisting registration",3,"parsedJson"],[1,"organ-select-option",3,"value"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"h2",1),Ut(2,"Author Data"),qe(),Xe(3,"ccf-name-input",2),kt("nameChange",function(s){return r.page.setUserName(s),r.checkNameValid(s)}),Xn(4,"async"),qe(),Xe(5,"mat-form-field",3)(6,"mat-label"),Ut(7,"ORCID identifier (optional)"),qe(),Xe(8,"input",4),kt("input",function(s){return r.updateOrcid(s.target.value)}),qe(),an(9,k6e,2,1,"mat-error",5),qe()(),Xe(10,"div",6)(11,"h2",1),Ut(12,"Donor Data"),qe(),Xe(13,"div",7)(14,"div",8),Ut(15,"Donor Sex: "),qe(),Xe(16,"mat-radio-group",9),kt("change",function(s){return r.setSexFromLabel(s.value)}),Xn(17,"async"),Xe(18,"mat-radio-button",10),Ut(19,"Male"),qe(),Xe(20,"mat-radio-button",11),Ut(21,"Female"),qe()()(),Xe(22,"div",12)(23,"div",8),Ut(24,"Select an organ: "),qe(),Xe(25,"mat-form-field",13),an(26,O6e,2,0,"div",14),Xn(27,"async"),Xe(28,"mat-select",15),kt("selectionChange",function(s){return r.model.setOrgan(s.value),r.model.setOrganDefaults()}),Xn(29,"async"),an(30,R6e,2,2,"mat-option",16),Xn(31,"async"),qe()()(),Xe(32,"div",17)(33,"div",8),Ut(34,"Upload previous registration data (optional):"),qe(),Xe(35,"ccf-json-file-reader",18),kt("parsedJson",function(s){return r.handleRegistrationUpload(s)}),qe(),Xe(36,"div"),Ut(37),qe()()()),2&i&&(st(3),bt("name",ri(4,9,r.page.user$)),st(5),bt("value",r.orcId)("formControl",r.orcidControl),st(),bt("ngIf",r.orcidControl.invalid),st(7),bt("value",ri(17,11,r.model.sex$)),st(10),bt("ngIf",void 0===ri(27,13,r.model.organ$)),st(2),bt("value",ri(29,15,r.model.organ$)),st(2),bt("ngForOf",ri(31,17,r.page.organOptions$)),st(7),Xr(r.uploadText))},dependencies:[ja,ta,dm,Vh,Uh,Hue,nb,FA,xL,Rw,Xc,T6e,d3,u3,tQ,h0,D6e,ad],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:2rem}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:400;line-height:1.5rem;margin:0;padding-bottom:1.5rem}[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;line-height:1.5rem}[_nghost-%COMP%]     .mat-mdc-form-field-infix{padding-bottom:0!important;min-height:inherit}[_nghost-%COMP%]     .mdc-text-field{padding:0;padding-bottom:.3rem!important}[_nghost-%COMP%]   .author-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .author-section[_ngcontent-%COMP%]   .orcid-input[_ngcontent-%COMP%]{width:100%;font-size:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:1.5rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-right:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;gap:3rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .organ-selector[_ngcontent-%COMP%]{padding-bottom:1.5rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .organ-selector[_ngcontent-%COMP%]     .mat-mdc-select-value{font-size:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .upload-registration[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .upload-registration[_ngcontent-%COMP%]   ccf-json-file-reader[_ngcontent-%COMP%]     button{width:10rem;height:2rem;padding:.25rem 1rem;border-radius:.125rem}[_nghost-%COMP%]     .mdc-line-ripple:before, [_nghost-%COMP%]   .mdc-line-ripple[_ngcontent-%COMP%]:after{border-bottom-width:.125rem!important}"],changeDetection:0})}return n})();function P6e(n,e){if(1&n){const t=$r();Xe(0,"ccf-tag-list",23),kt("tagRemoved",function(r){return ii(t),Pn(rn().astags.removeTag(r))}),Xn(1,"async"),qe()}2&n&&bt("tags",ri(1,1,rn().astags.tags$))}function N6e(n,e){}const F6e=()=>[];let L6e=(()=>{class n{constructor(t,i,r,o){this.model=t,this.registration=i,this.page=r,this.astags=o,this.clsName="ccf-right-sidebar",this.modalClosed=!1,this.registrationExpanded=new Gt}static#e=this.\u0275fac=function(i){return new(i||n)(xe(yr),xe(Ro),xe(so),xe(Vd))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-right-sidebar"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},inputs:{modalClosed:"modalClosed"},outputs:{registrationExpanded:"registrationExpanded"},decls:44,vars:29,consts:[[1,"info-button-container"],["videoID","j4f9_xdBrK0","infoTitle","CCF Registration User Interface","documentationUrl","assets/docs/README.md"],[1,"scroll-wrapper"],[1,"container"],[1,"registration-metadata-panel",3,"opened","closed"],[1,"header"],["matTooltip",""],[1,"tissue-block-controls-panel",3,"expanded"],[3,"blockSize","blockSizeChange"],[3,"slicesConfig","slicesConfigChange"],[3,"rotation","rotationChange"],[1,"tags-container",3,"expanded"],["matTooltip","Review tags generated via collision detection. Add or delete tags as needed."],[3,"search","added"],["class","tag-list",3,"tags","tagRemoved",4,"ngIf","ngIfElse"],["tagListPlaceholder",""],[1,"legend"],[1,"dot","assigned"],[1,"text","assigned"],[1,"dot","added"],[1,"text","added"],[1,"filler"],[1,"review-button",3,"registrationCallbackSet","displayErrors","userValid","metaData","registerData","enterErrorMode"],[1,"tag-list",3,"tags","tagRemoved"]],template:function(i,r){if(1&i&&(Xe(0,"div",0),fn(1,"ccf-info-button",1),qe(),Xe(2,"div",2)(3,"div",3)(4,"mat-expansion-panel",4),kt("opened",function(){return r.registrationExpanded.emit(!0)})("closed",function(){return r.registrationExpanded.emit(!1)}),Xe(5,"mat-expansion-panel-header",5)(6,"mat-panel-title",6),Ut(7,"Registration Metadata"),qe()(),fn(8,"ccf-registration-metadata"),qe(),fn(9,"mat-divider"),Xe(10,"mat-expansion-panel",7)(11,"mat-expansion-panel-header",5)(12,"mat-panel-title",6),Ut(13,"Tissue Block Controls"),qe()(),Xe(14,"ccf-block-size-input",8),kt("blockSizeChange",function(s){return r.model.setBlockSize(s)}),Xn(15,"async"),qe(),Xe(16,"ccf-slices-input",9),kt("slicesConfigChange",function(s){return r.model.setSlicesConfig(s)}),Xn(17,"async"),qe(),Xe(18,"ccf-rotation-slider",10),kt("rotationChange",function(s){return r.model.setRotation(s)}),Xn(19,"async"),qe()(),fn(20,"mat-divider"),Xe(21,"mat-expansion-panel",11)(22,"mat-expansion-panel-header",5)(23,"mat-panel-title",12),Ut(24,"Anatomical Structure Tags"),qe()(),Xe(25,"ccf-tag-search",13),kt("added",function(s){return r.astags.addTags(s)}),qe(),an(26,P6e,2,3,"ccf-tag-list",14),Xn(27,"async"),an(28,N6e,0,0,"ng-template",null,15,Oh),Xe(30,"div",16),fn(31,"span",17),Xe(32,"span",18),Ut(33,"Assigned"),qe(),fn(34,"span",19),Xe(35,"span",20),Ut(36,"Added"),qe()()(),fn(37,"mat-divider")(38,"div",21),Xe(39,"ccf-review-button",22),kt("registerData",function(){return r.registration.register()})("enterErrorMode",function(){return r.registration.setDisplayErrors(!r.registration.isValid)}),Xn(40,"async"),Xn(41,"async"),Xn(42,"async"),Xn(43,"async"),qe()()()),2&i){const o=Yr(29);let s,a;st(10),bt("expanded",!0),st(4),bt("blockSize",ri(15,12,r.model.blockSize$)),st(2),bt("slicesConfig",ri(17,14,r.model.slicesConfig$)),st(2),bt("rotation",ri(19,16,r.model.rotation$)),st(3),bt("expanded",!0),st(4),bt("search",r.astags.searchExternal),st(),bt("ngIf",null==(s=ri(27,18,r.model.organ$))?null:s.name)("ngIfElse",o),st(13),bt("registrationCallbackSet",ri(40,20,r.page.registrationCallbackSet$))("displayErrors",ri(41,22,r.registration.displayErrors$))("userValid",ri(42,24,r.registration.valid$))("metaData",null!==(a=ri(43,26,r.registration.metadata$))&&void 0!==a?a:Ek(28,F6e))}},dependencies:[ta,eM,PL,GK,LJ,Xc,V5e,H5e,W5e,$5e,x6e,Tb,G4e,fQ,ad],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 2.5rem);margin-top:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .info-button-container[_ngcontent-%COMP%]{height:3.75rem;display:flex;justify-content:flex-end}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100% - 6rem);scrollbar-width:thin}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;margin:0 1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .review-button[_ngcontent-%COMP%]{position:absolute;bottom:1.5rem;z-index:999;width:calc(100% - 3.5rem)}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-top-width:3px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 .5rem 0 0;font-weight:700;-webkit-user-select:none;-moz-user-select:none;font-size:1rem;height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding-left:0;padding-right:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding-left:0;padding-right:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .icon.add[_ngcontent-%COMP%]{position:absolute;width:3.625rem;height:3.625rem;font-size:3.625rem;top:-1.9375rem;right:-1.1875rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .tag-list[_ngcontent-%COMP%]{max-height:32rem;margin-left:-1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .tag-list-placeholder[_ngcontent-%COMP%]{display:flex;height:4rem;align-items:center;justify-content:center;font-weight:400}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:1.5rem;align-items:center;font-size:.9rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;border-radius:50%}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot.assigned[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot.added[_ngcontent-%COMP%]{margin-left:1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})(),B6e=(()=>{class n{constructor(t,i,r,o){this.page=t,this.model=i,this.dialogRef=r,this.clsName="ccf-registration-content",this.sexByLabel$=this.model.sex$.pipe(Lt(s=>"female"===s?"Female":"Male")),this.organList=s3,this.registrationSelected=!1,t.user$.subscribe(s=>{this.checkNameValid(s),this.orcidValid=t.isOrcidValid(),o.markForCheck()}),i.organ$.subscribe(s=>{this.organSelected=""!==s.src,o.markForCheck()}),this.sexByLabel$.subscribe(s=>{this.setSexFromLabel(s),o.markForCheck()}),r.disableClose=!0,this.page.organOptions$.subscribe(s=>{this.organList=s,o.markForCheck()})}setSexFromLabel(t){this.currentSex=t,this.sexSelected=!0}checkNameValid(t){this.nameValid=t.firstName.length>0&&t.lastName.length>0}organSelect(t){this.currentOrgan=t,this.organSelected=!0}registerButtonClick(t){t&&t.preventDefault(),this.organSelected&&this.nameValid&&this.closeDialog()}handleRegistrationSelect(){this.registrationSelected=!0}closeDialog(){this.model.setSex("Female"===this.currentSex?"female":"male"),this.model.setOrgan(this.currentOrgan),this.registrationSelected||this.model.setOrganDefaults(),this.dialogRef.close(!0),this.page.registrationStarted()}static#e=this.\u0275fac=function(i){return new(i||n)(xe(so),xe(yr),xe(ob),xe(Mi))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-registration-content"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},decls:6,vars:3,consts:[[1,"modal"],[1,"title"],[3,"registrationSelected"],["mat-button","",1,"registration-button",3,"matTooltip","click"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"div",1),Ut(2,"Start Registration"),qe(),Xe(3,"ccf-registration-metadata",2),kt("registrationSelected",function(){return r.handleRegistrationSelect()}),qe(),Xe(4,"button",3),kt("click",function(s){return r.registerButtonClick(s)}),Ut(5,"Continue"),qe()()),2&i&&(st(4),un("disabled",!r.organSelected||!r.nameValid||!r.orcidValid),bt("matTooltip",r.organSelected&&r.nameValid?"":"Required: Enter first and last name, and select an organ"))},dependencies:[Xc,fQ,h_],styles:[".modal[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;max-width:47rem;display:flex;flex-direction:column;gap:2rem}.modal[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]{display:flex;height:3rem;align-items:center}.modal[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]   .slider-label[_ngcontent-%COMP%]{font-weight:600}.modal[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{font-weight:600;height:3rem;line-height:3rem}.modal[_ngcontent-%COMP%]   .selector-container[_ngcontent-%COMP%]{margin:0 auto}.modal[_ngcontent-%COMP%]   .registration-button[_ngcontent-%COMP%]{transition:.6s;display:flex;width:10rem;height:2rem;padding:.25rem 1rem;justify-content:center;align-items:center;border-radius:.125rem;box-shadow:0 2px 6px #00000029;cursor:pointer}.modal[_ngcontent-%COMP%]   .registration-button.disabled[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0})}return n})(),U6e=(()=>{class n{constructor(t,i,r,o,s){this.dialog=t,this.page=i,this.model=r,this.referenceData=o,this.globalConfig=s,this.clsName="ccf-registration-modal",this.dialogOpen=!1}ngOnInit(){zo([this.page.state$,this.model.state$,this.referenceData.state$,this.globalConfig.state$]).pipe(pr(([t,i,r,o])=>{this.dialogOpen||o.editRegistration||0!==Object.keys(r.organIRILookup).length&&(""!==t.user.firstName&&""!==t.user.lastName&&""!==i.organ.src||(this.dialogOpen=!0,this.openDialog()))})).subscribe()}openDialog(){this.dialog.open(B6e,{autoFocus:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(xe(hm),xe(so),xe(yr),xe(Em),xe(Ld))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-registration-modal"]],hostVars:2,hostBindings:function(i,r){2&i&&_i(r.clsName)},decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})(),V6e=(()=>{class n{get isLightTheme(){return this.theming.getTheme().endsWith("light")}constructor(t,i,r,o,s,a,c,l,d){this.model=t,this.page=i,this.consentService=r,this.snackbar=o,this.theming=s,this.globalConfig=l,this.registrationStarted=!1,this.disablePositionChange=!1,this.registrationExpanded=!1,this.theme$=this.globalConfig.getOption("theme"),this.themeMode$=new wp(1),this.header$=this.globalConfig.getOption("header"),this.homeUrl$=this.globalConfig.getOption("homeUrl"),this.logoTooltip$=this.globalConfig.getOption("logoTooltip"),this.subscriptions=new wt,s.initialize(a,c),this.subscriptions.add(i.registrationStarted$.subscribe(h=>{this.registrationStarted=h})),this.theme$.subscribe(h=>{this.theme=h}),this.globalConfig.getOption("homeUrl").subscribe(h=>{this.homeUrl=h}),this.globalConfig.getOption("logoTooltip").subscribe(h=>{this.logoTooltip=h}),zo([this.theme$,this.themeMode$]).subscribe(([h,p])=>{this.theming.setTheme(`${h}-theme-${p}`),d.markForCheck()})}ngOnInit(){const t=this.snackbar.openFromComponent(nVe,{data:{preClose:()=>{t.dismiss()}},duration:"not-set"===this.consentService.consent?1/0:3e3});this.themeMode$.next("light"),this.theming.setTheme(`${this.theme}-theme-light`)}toggleScheme(){this.themeMode$.next(this.isLightTheme?"dark":"light")}registrationToggle(t){this.registrationExpanded=t,this.registrationExpanded||(this.disablePositionChange=!1)}handleKey(t){const i=this.model.snapshot.position;if(this.disablePositionChange||!this.registrationStarted)return;t.preventDefault();const r=t.repeat?1:.5;let o=i;switch(t.key){case"q":o={...i,z:i.z+r};break;case"e":o={...i,z:i.z-r};break;case"w":o={...i,y:i.y+r};break;case"s":o={...i,y:i.y-r};break;case"a":o={...i,x:i.x-r};break;case"d":o={...i,x:i.x+r}}this.model.setPosition(o)}handleClick(t){const i=["mat-mdc-input-element","form-input-label"];for(const r of i)if("string"==typeof t.className&&t.className.includes(r))return void(this.disablePositionChange=!0);this.disablePositionChange=!1}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(xe(yr),xe(so),xe(Zw),xe(L6),xe(a3),xe(vn),xe(Gi),xe(Ld),xe(Mi))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-root"]],hostBindings:function(i,r){1&i&&kt("keydown",function(s){return r.handleKey(s)},0,_h)("mousedown",function(s){return r.handleClick(s.target)},!1,_h)},decls:14,vars:13,consts:[[3,"logoTooltip","homeUrl"],["opened",""],[3,"modalClosed"],["position","end","opened",""],[3,"modalClosed","registrationExpanded"],[1,"stage-content",3,"disablePositionChange"]],template:function(i,r){1&i&&(fn(0,"ccf-registration-modal")(1,"ccf-header",0),Xn(2,"async"),Xn(3,"async"),Xn(4,"async"),Xe(5,"ccf-drawer-container")(6,"ccf-drawer",1),fn(7,"ccf-left-sidebar",2)(8,"ccf-drawer-toggle-button"),qe(),Xe(9,"ccf-drawer",3)(10,"ccf-right-sidebar",4),kt("registrationExpanded",function(s){return r.registrationToggle(s)}),qe(),fn(11,"ccf-drawer-toggle-button"),qe(),Xe(12,"ccf-drawer-content"),fn(13,"ccf-content",5),qe()()),2&i&&(st(),un("header-hidden",!1===ri(2,7,r.header$)),bt("logoTooltip",ri(3,9,r.logoTooltip$))("homeUrl",ri(4,11,r.homeUrl$)),st(6),bt("modalClosed",r.registrationStarted),st(3),bt("modalClosed",r.registrationStarted),st(3),bt("disablePositionChange",r.disablePositionChange))},dependencies:[F8e,jM,l3,L8e,j8e,p5e,U5e,L6e,U6e,ad],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:hidden;font-size:1rem;color:#000}[_nghost-%COMP%]   .header-hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer[_ngcontent-%COMP%]{width:25.5rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]{position:relative;z-index:1}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]{top:0rem;display:flex;flex-direction:column;position:relative;height:5.688rem;transition:all .5s ease-in-out}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer.expanded[_ngcontent-%COMP%]{height:15rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   ccf-organ-selector[_ngcontent-%COMP%]{height:100%;padding-top:.5rem;transition:all .5s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   ccf-organ-selector.closed[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;height:0;z-index:2}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{cursor:pointer;transition:.6s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{width:3rem;height:1.2rem;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:#fff;border-bottom-left-radius:.2rem;border-bottom-right-radius:.2rem;transition:.6s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]:hover{background-color:#ececec}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer.closed[_ngcontent-%COMP%]{height:3rem;top:-2.9rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .stage-content[_ngcontent-%COMP%]{border-radius:.5rem;height:calc(100% - 2.5rem)}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .expanded-stage[_ngcontent-%COMP%]{height:calc(100% - 1.5rem);padding-bottom:1rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .retracted-stage[_ngcontent-%COMP%]{height:calc(100% - 16.688rem)}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-content[_ngcontent-%COMP%]{position:absolute;transition-duration:.5s;transition-timing-function:ease-in-out;transition-property:all;bottom:1.5rem;z-index:1}  .mdc-snackbar__surface{box-shadow:none!important}"],changeDetection:0})}return n})();function j6e(n,e){1&n&&fn(0,"ccf-root")}function z6e(n){try{return eZ.json(n)}catch{return""+n}}let H6e=(()=>{class n extends gVe{constructor(t,i){super(t,i,{initialConfig:{...Bd_dbOptions,...globalThis.ruiConfig,...Bd_customization},parse:{useDownload:eZ.boolean,user:eZ.json,organ:z6e,editRegistration:eZ.json,register:eZ.function,cancelRegistration:eZ.function,fetchPreviousRegistrations:eZ.function,skipUnsavedChangesConfirmation:eZ.boolean,header:eZ.boolean,organOptions:eZ.stringArray}})}static#e=this.\u0275fac=function(i){return new(i||n)(xe(Ld),xe(Mi))};static#t=this.\u0275cmp=on({type:n,selectors:[["ccf-root-wc"]],inputs:{baseHref:"baseHref",useDownload:"useDownload",user:"user",organ:"organ",editRegistration:"editRegistration",register:"register",cancelRegistration:"cancelRegistration",fetchPreviousRegistrations:"fetchPreviousRegistrations",skipUnsavedChangesConfirmation:"skipUnsavedChangesConfirmation",theme:"theme",header:"header",homeUrl:"homeUrl",logoTooltip:"logoTooltip",organOptions:"organOptions",collisionsEndpoint:"collisionsEndpoint"},features:[Ln],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(i,r){1&i&&an(0,j6e,1,0,"ccf-root",0),2&i&&bt("ngIf",r.initialized)},dependencies:[ta,V6e],encapsulation:2,changeDetection:0})}return n})();const G6e=new mt("Global configuration object");function W6e(n){return n.get("ruiConfig",{user:{firstName:"",lastName:""}})}let $6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[{provide:G6e,useFactory:W6e,deps:[qJ]}]})}return n})(),Y6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[{provide:Yv,useValue:a3.initialize,multi:!0},a3]})}return n})();const $M=(n,e)=>((n,e)=>new Array(e+1).join("0"))(0,e-n.toString().length)+n;class q6e{constructor(e,t,i){this.action=e,this.store=t,this.logWriter=i}dispatched(e){const t=nm(this.action),i=function K6e(n){return $M(n.getHours(),2)+":"+$M(n.getMinutes(),2)+":"+$M(n.getSeconds(),2)+"."+$M(n.getMilliseconds(),3)}(new Date);this.logWriter.startGroup(`action ${t} @ ${i}`),this._hasPayload(this.action)&&this.logWriter.logGrey("payload",Object.assign({},this.action)),this.logWriter.logGrey("prev state",e)}completed(e){this.logWriter.logGreen("next state",e),this.logWriter.endGroup()}errored(e){this.logWriter.logRedish("next state after error",this.store.snapshot()),this.logWriter.logRedish("error",e),this.logWriter.endGroup()}_hasPayload(e){return this._getNonEmptyProperties(e).length>0}_getNonEmptyProperties(e){return Object.keys(e).map(r=>e[r]).filter(r=>void 0!==r)}}class J6e{constructor(e){this.options=e,this.options=this.options||{},this.logger=e.logger||console}startGroup(e){const t=this.options.collapsed?this.logger.groupCollapsed:this.logger.group;try{t.call(this.logger,e)}catch{console.log(e)}}endGroup(){try{this.logger.groupEnd()}catch{this.logger.log("\u2014\u2014 log end \u2014\u2014")}}logGrey(e,t){this.log(e,"color: #9E9E9E; font-weight: bold",t)}logGreen(e,t){this.log(e,"color: #4CAF50; font-weight: bold",t)}logRedish(e,t){this.log(e,"color: #FD8182; font-weight: bold",t)}log(e,t,i){this.isIE()?this.logger.log(e,i):this.logger.log("%c "+e,t,i)}isIE(){const e=typeof window<"u"&&window.navigator.userAgent?window.navigator.userAgent:"";let t=!1;const i=e.indexOf("MSIE "),r=e.indexOf("Trident/");return(i>-1||r>-1)&&(t=!0),t}}const pQ=new mt("NGXS_LOGGER_PLUGIN_OPTIONS");let Z6e=(()=>{class n{constructor(t,i){this._options=t,this._injector=i}handle(t,i,r){if(this._options.disabled||!this._options.filter(i,t))return r(t,i);this._logWriter=this._logWriter||new J6e(this._options),this._store=this._store||this._injector.get(Id);const o=new q6e(i,this._store,this._logWriter);return o.dispatched(t),r(t,i).pipe(pr(s=>{o.completed(s)}),Ga(s=>{throw o.errored(s),s}))}}return n.\u0275fac=function(t){return new(t||n)(et(pQ),et(Gi))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})();const mQ=new mt("LOGGER_USER_OPTIONS");function Q6e(n){return Object.assign(Object.assign({},{logger:console,collapsed:!1,disabled:!1,filter:()=>!0}),n)}let eHe=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:YF,useClass:Z6e,multi:!0},{provide:mQ,useValue:t},{provide:pQ,useFactory:Q6e,deps:[mQ]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Jt({type:n}),n.\u0275inj=Kt({}),n})();const y3=new mt(""),_Q=new mt(""),v3="@@STATE";function tHe(n){return Object.assign({key:[v3],storage:0,serialize:JSON.stringify,deserialize:JSON.parse,beforeSerialize:e=>e,afterDeserialize:e=>e},n)}function nHe(n,e){return Zv(e)?null:0===n.storage?localStorage:1===n.storage?sessionStorage:null}function bQ(n,e){return e&&e.namespace?`${e.namespace}:${n}`:n}function yQ(n){return null!=n&&!!n.engine}const vQ="NGXS_OPTIONS_META",wQ=new mt("");function oHe(n,e){const i=(Array.isArray(e.key)?e.key:[e.key]).map(r=>{const o=function iHe(n){return yQ(n)&&(n=n.key),n.hasOwnProperty(vQ)&&(n=n[vQ].name),n instanceof U2e?n.getName():n}(r);return{key:o,engine:yQ(r)?n.get(r.engine):n.get(_Q)}});return Object.assign(Object.assign({},e),{keysWithEngines:i})}let sHe=(()=>{class n{constructor(t,i){this._options=t,this._platformId=i,this._keysWithEngines=this._options.keysWithEngines,this._usesDefaultStateKey=1===this._keysWithEngines.length&&this._keysWithEngines[0].key===v3}handle(t,i,r){var o;if(Zv(this._platformId))return r(t,i);const s=function zRe(n){const e=nm(n);return function(t){return e===nm(t)}}(i),a=s(eL),c=s(tL),l=a||c;let d=!1;if(l){const h=c&&i.addedStates;for(const{key:p,engine:_}of this._keysWithEngines){if(!this._usesDefaultStateKey&&h){const P=p.indexOf(aHe),X=P>-1?p.slice(0,P):p;if(!h.hasOwnProperty(X))continue}const v=bQ(p,this._options);let A=_.getItem(v);if("undefined"!==A&&null!=A){try{const P=this._options.deserialize(A);A=this._options.afterDeserialize(P,p)}catch{A={}}null===(o=this._options.migrations)||void 0===o||o.forEach(P=>{P.version===Cw(A,P.versionKey||"version")&&(!P.key&&this._usesDefaultStateKey||P.key===p)&&(A=P.migrate(A),d=!0)}),this._usesDefaultStateKey?(A&&h&&Object.keys(h).length>0&&(A=Object.keys(h).reduce((P,X)=>(A.hasOwnProperty(X)&&(P[X]=A[X]),P),{})),t=Object.assign(Object.assign({},t),A)):t=GF(t,p,A)}}}return r(t,i).pipe(pr(h=>{if(!l||d)for(const{key:p,engine:_}of this._keysWithEngines){let v=h;const A=bQ(p,this._options);p!==v3&&(v=Cw(h,p));try{const P=this._options.beforeSerialize(v,p);_.setItem(A,this._options.serialize(P))}catch(P){}}}))}}return n.\u0275fac=function(t){return new(t||n)(et(wQ),et(ks))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})();const aHe=".",EQ=new mt("");let lHe=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:YF,useClass:sHe,multi:!0},{provide:EQ,useValue:t},{provide:y3,useFactory:tHe,deps:[EQ]},{provide:_Q,useFactory:nHe,deps:[y3,ks]},{provide:wQ,useFactory:oHe,deps:[Gi,y3]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Jt({type:n}),n.\u0275inj=Kt({}),n})();new mt("",{providedIn:"root",factory:()=>cd(Ft(ks))?localStorage:null}),new mt("",{providedIn:"root",factory:()=>cd(Ft(ks))?sessionStorage:null});const SQ=[{name:"bladder",namespace:"app",url:"assets/icons/organ-icons/organ-icon-bladder.svg"},{name:"blood",namespace:"app",url:"assets/icons/organ-icons/organ-icon-blood.svg"},{name:"bone-marrow",namespace:"app",url:"assets/icons/organ-icons/organ-icon-bone-marrow.svg"},{name:"brain",namespace:"app",url:"assets/icons/organ-icons/organ-icon-brain.svg"},{name:"mammary-gland",namespace:"app",url:"assets/icons/organ-icons/organ-icon-breast.svg"},{name:"main-bronchus",namespace:"app",url:"assets/icons/organ-icons/organ-icon-extrapulmonary-bronchus.svg"},{name:"eye",namespace:"app",url:"assets/icons/organ-icons/organ-icon-eye.svg"},{name:"fallopian-tube-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-fallopian-tube-left.svg"},{name:"fallopian-tube-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-fallopian-tube-right.svg"},{name:"heart",namespace:"app",url:"assets/icons/organ-icons/organ-icon-heart.svg"},{name:"kidney-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-kidney-left.svg"},{name:"kidney-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-kidney-right.svg"},{name:"kidneys",namespace:"app",url:"assets/icons/organ-icons/organ-icon-kidneys.svg"},{name:"knee",namespace:"app",url:"assets/icons/organ-icons/organ-icon-knee.svg"},{name:"large-intestine",namespace:"app",url:"assets/icons/organ-icons/organ-icon-large-intestine.svg"},{name:"larynx",namespace:"app",url:"assets/icons/organ-icons/organ-icon-larynx.svg"},{name:"liver",namespace:"app",url:"assets/icons/organ-icons/organ-icon-liver.svg"},{name:"lung-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lung-left.svg"},{name:"lung-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lung-right.svg"},{name:"lung",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lungs.svg"},{name:"lymph-nodes",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lymph-nodes.svg"},{name:"neurons",namespace:"app",url:"assets/icons/organ-icons/organ-icon-neurons.svg"},{name:"ovaries",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ovaries.svg"},{name:"ovary-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ovary-left.svg"},{name:"ovary-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ovary-right.svg"},{name:"palatine-tonsil",namespace:"app",url:"assets/icons/organ-icons/organ-icon-palatine-tonsil.svg"},{name:"pancreas",namespace:"app",url:"assets/icons/organ-icons/organ-icon-pancreas.svg"},{name:"pelvis-f",namespace:"app",url:"assets/icons/organ-icons/organ-icon-pelvis.svg"},{name:"placenta",namespace:"app",url:"assets/icons/organ-icons/organ-icon-placenta.svg"},{name:"prostate",namespace:"app",url:"assets/icons/organ-icons/organ-icon-prostate.svg"},{name:"skin",namespace:"app",url:"assets/icons/organ-icons/organ-icon-skin.svg"},{name:"small-intestine",namespace:"app",url:"assets/icons/organ-icons/organ-icon-small-intestine.svg"},{name:"spinal-cord",namespace:"app",url:"assets/icons/organ-icons/organ-icon-spinal-cord.svg"},{name:"spleen",namespace:"app",url:"assets/icons/organ-icons/organ-icon-spleen.svg"},{name:"stomach",namespace:"app",url:"assets/icons/organ-icons/organ-icon-stomach.svg"},{name:"thymus",namespace:"app",url:"assets/icons/organ-icons/organ-icon-thymus.svg"},{name:"trachea",namespace:"app",url:"assets/icons/organ-icons/organ-icon-trachea.svg"},{name:"ureter-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ureter-left.svg"},{name:"ureter-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ureter-right.svg"},{name:"uterus",namespace:"app",url:"assets/icons/organ-icons/organ-icon-uterus.svg"},{name:"vasculature-thick",namespace:"app",url:"assets/icons/organ-icons/organ-icon-vasculature-thick.svg"},{name:"vasculature-thin",namespace:"app",url:"assets/icons/organ-icons/organ-icon-vasculature-thin.svg"},{name:"opacity",namespace:"app",url:"assets/icons/opacity-24px.svg"},{name:"visibility_on",namespace:"app",url:"assets/icons/visibility-on-24px.svg"},{name:"visibility_off",namespace:"app",url:"assets/icons/visibility-off-24px.svg"},{name:"visibility_off_cube",namespace:"app",url:"assets/icons/ico-cube.svg"}];let YM=class tT extends WLe{constructor(e,t,i){super(),this.registry=e,this.sanitizer=t,this.globalConfig=i}ngxsOnInit(){SQ.filter(e=>void 0!==e.html).map(e=>({...e,html:this.sanitizer.bypassSecurityTrustHtml(e.html)})).forEach(e=>this.registerIconImpl(e)),this.registry?.addSvgIconResolver((e,t)=>{const i=SQ.find(o=>(o.name??"")===e&&(o.namespace??"")===t);return void 0===i?.url?null:this.sanitizer.bypassSecurityTrustResourceUrl((this.globalConfig.snapshot.baseHref??"")+i.url)})}registerIcon(e){return this.registerIconImpl(e)}registerIconImpl(e){if(!this.registry||!e.url&&!e.html)return!1;const t=this.registry,r=t[this.getMethodName(e)],o=this.getArguments(e);if(!r)return!1;try{return r.apply(t,o),!0}catch{return!1}}getMethodName({name:e,namespace:t,url:i}){const r=["addSvgIcon"];return e||r.push("Set"),i||r.push("Literal"),t&&r.push("InNamespace"),r.join("")}getArguments({name:e,namespace:t,url:i,html:r}){return[t,e,i??r].filter(s=>!!s)}static#e=this.\u0275fac=function(t){return new(t||tT)(et(b0,8),et(t_),et(Ld))};static#t=this.\u0275prov=Dt({token:tT,factory:tT.\u0275fac})};Bt([ti()],YM.prototype,"registerIcon",null),YM=Bt([hf(),Hu({name:"iconRegistry"})],YM);const dHe=[Ld,YM,so,yr,Vd,Em,Ro,ua];let uHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ULe.forRoot(),cX.forRoot(dHe,{developmentMode:!1}),lHe.forRoot({key:["registration.registrations"]}),eHe.forRoot({disabled:true})]})}return n})(),hHe=(()=>{class n{constructor(t){if(t)throw new Error("The core module should only be imported once in the root module")}static#e=this.\u0275fac=function(i){return new(i||n)(et(n,12))};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[r6,wUe.forRoot({gaToken:"G-ERNVZ1Q4KE",appName:"rui"}),Q4e,$6e,uHe,Y6e]})}return n})(),fHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,i5e]})}return n})(),pHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,KZ,h3,qr,EM,fHe,bc]})}return n})(),mHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,qr]})}return n})(),gHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,pHe,qr,M4e,mHe,Ha,fVe,y4e]})}return n})(),_He=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,qr,bc]})}return n})(),bHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,h3]})}return n})(),AQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,um,$A,YA,bc]})}return n})(),yHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,qr,Ha,YJ]})}return n})(),MQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,qr,uQ]})}return n})(),vHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,NL,qr,bc,EM,AQ,MQ,bHe,YJ,yHe,MQ]})}return n})(),wHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,dd]})}return n})(),TQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,um,$A,YA,bc,AQ,KZ,Au,h3,dd,bc,wHe]})}return n})(),xHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,bc,TQ,dd]})}return n})(),EHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,Pw,qr,xHe]})}return n})(),CHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,um,qr,Ha,bc,Au]})}return n})(),SHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,qr,MK,Ha,bc,um,Au]})}return n})(),AHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,um,qr,Ha,bc,K4e,Au]})}return n})(),MHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,uQ,qr]})}return n})(),THe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,$A,YA,dd,FJ,Au,qr,um]})}return n})(),IHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,Pw,qr,dd]})}return n})(),DHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,IHe,dd,bc]})}return n})(),kHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({imports:[ci,NL,EM,qr,VR,bc,CHe,DHe,SHe,AHe,MHe,THe,W4e,TQ]})}return n})(),OHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[{provide:HZ,useValue:zZ}],imports:[wO,VR,qr]})}return n})(),RHe=(()=>{class n{constructor(t){this.injector=t}ngDoBootstrap(){const t=function Hle(n,e){const t=function Fle(n,e){return e.get(nd).resolveComponentFactory(n).inputs}(n,e.injector),i=e.strategyFactory||new Vle(n,e.injector),r=function Nle(n){const e={};return n.forEach(({propName:t,templateName:i,transform:r})=>{e[function Dle(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(i)]=[t,r]}),e}(t);class o extends zle{static#e=this.observedAttributes=Object.keys(r);get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=i.create(this.injector||e.injector);t.forEach(({propName:c,transform:l})=>{if(!this.hasOwnProperty(c))return;const d=this[c];delete this[c],a.setInputValue(c,d,l)})}return this._ngElementStrategy}constructor(a){super(),this.injector=a}attributeChangedCallback(a,c,l,d){const[h,p]=r[a];this.ngElementStrategy.setInputValue(h,l,p)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const c=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(c)})}}return t.forEach(({propName:s,transform:a})=>{Object.defineProperty(o.prototype,s,{get(){return this.ngElementStrategy.getInputValue(s)},set(c){this.ngElementStrategy.setInputValue(s,c,a)},configurable:!0,enumerable:!0})}),o}(H6e,{injector:this.injector});customElements.define("ccf-rui",t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Gi))};static#t=this.\u0275mod=Jt({type:n});static#n=this.\u0275inj=Kt({providers:[{provide:jZ,useValue:"hubmap-theme-light"},{provide:B5,useValue:{floatLabel:!0}}],imports:[wO,VR,hHe,qr,OHe,_He,gHe,vHe,kHe,EHe,iVe,Ufe]})}return n})();zce().bootstrapModule(RHe).catch(n=>console.error(n))},2323:ee=>{ee.exports=function(m,S){var b=S.length;if(0!==b){var D=m.length;m.length+=b;for(var C=0;C<b;C++)m[D+C]=S[C]}}},3982:ee=>{"use strict";const{AbortController:K,AbortSignal:m}=typeof self<"u"?self:typeof window<"u"?window:void 0;ee.exports=K,ee.exports.AbortSignal=m,ee.exports.default=K},9919:(ee,K)=>{"use strict";K.byteLength=function y(E){var L=g(E),Y=L[1];return 3*(L[0]+Y)/4-Y},K.toByteArray=function U(E){var L,w,ae=g(E),Y=ae[0],q=ae[1],Z=new b(function M(E,L,ae){return 3*(L+ae)/4-ae}(0,Y,q)),G=0,z=q>0?Y-4:Y;for(w=0;w<z;w+=4)L=S[E.charCodeAt(w)]<<18|S[E.charCodeAt(w+1)]<<12|S[E.charCodeAt(w+2)]<<6|S[E.charCodeAt(w+3)],Z[G++]=L>>16&255,Z[G++]=L>>8&255,Z[G++]=255&L;return 2===q&&(L=S[E.charCodeAt(w)]<<2|S[E.charCodeAt(w+1)]>>4,Z[G++]=255&L),1===q&&(L=S[E.charCodeAt(w)]<<10|S[E.charCodeAt(w+1)]<<4|S[E.charCodeAt(w+2)]>>2,Z[G++]=L>>8&255,Z[G++]=255&L),Z},K.fromByteArray=function J(E){for(var L,ae=E.length,Y=ae%3,q=[],Z=16383,G=0,z=ae-Y;G<z;G+=Z)q.push(F(E,G,G+Z>z?z:G+Z));return 1===Y?q.push(m[(L=E[ae-1])>>2]+m[L<<4&63]+"=="):2===Y&&q.push(m[(L=(E[ae-2]<<8)+E[ae-1])>>10]+m[L>>4&63]+m[L<<2&63]+"="),q.join("")};for(var m=[],S=[],b=typeof Uint8Array<"u"?Uint8Array:Array,D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0;C<64;++C)m[C]=D[C],S[D.charCodeAt(C)]=C;function g(E){var L=E.length;if(L%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ae=E.indexOf("=");return-1===ae&&(ae=L),[ae,ae===L?0:4-ae%4]}function I(E){return m[E>>18&63]+m[E>>12&63]+m[E>>6&63]+m[63&E]}function F(E,L,ae){for(var q=[],Z=L;Z<ae;Z+=3)q.push(I((E[Z]<<16&16711680)+(E[Z+1]<<8&65280)+(255&E[Z+2])));return q.join("")}S["-".charCodeAt(0)]=62,S["_".charCodeAt(0)]=63},1979:(ee,K)=>{"use strict";var S=function(D){return D.typeOfFunction="function",D.boolTrue=!0,D}(S||{});K.ak=function b(D,C,O){if(!O||typeof O.value!==S.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+C+"> is not a method!");return{configurable:S.boolTrue,get:function(){var g=O.value.bind(this);return Object.defineProperty(this,C,{value:g,configurable:S.boolTrue,writable:S.boolTrue}),g}}}},9007:(ee,K,m)=>{"use strict";var S=m(9919),b=m(2601);K.Buffer=g,K.SlowBuffer=function Y(W){return+W!=W&&(W=0),g.alloc(+W)},K.INSPECT_MAX_BYTES=50;var D=2147483647;function O(W){if(W>D)throw new RangeError('The value "'+W+'" is invalid for option "size"');var N=new Uint8Array(W);return N.__proto__=g.prototype,N}function g(W,N,V){if("number"==typeof W){if("string"==typeof N)throw new TypeError('The "string" argument must be of type string. Received type number');return I(W)}return y(W,N,V)}function y(W,N,V){if("string"==typeof W)return function F(W,N){if(("string"!=typeof N||""===N)&&(N="utf8"),!g.isEncoding(N))throw new TypeError("Unknown encoding: "+N);var V=0|q(W,N),fe=O(V),We=fe.write(W,N);return We!==V&&(fe=fe.slice(0,We)),fe}(W,N);if(ArrayBuffer.isView(W))return J(W);if(null==W)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(he(W,ArrayBuffer)||W&&he(W.buffer,ArrayBuffer))return function E(W,N,V){if(N<0||W.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<N+(V||0))throw new RangeError('"length" is outside of buffer bounds');var fe;return(fe=void 0===N&&void 0===V?new Uint8Array(W):void 0===V?new Uint8Array(W,N):new Uint8Array(W,N,V)).__proto__=g.prototype,fe}(W,N,V);if("number"==typeof W)throw new TypeError('The "value" argument must not be of type number. Received type number');var fe=W.valueOf&&W.valueOf();if(null!=fe&&fe!==W)return g.from(fe,N,V);var We=function L(W){if(g.isBuffer(W)){var N=0|ae(W.length),V=O(N);return 0===V.length||W.copy(V,0,0,N),V}return void 0!==W.length?"number"!=typeof W.length||re(W.length)?O(0):J(W):"Buffer"===W.type&&Array.isArray(W.data)?J(W.data):void 0}(W);if(We)return We;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof W[Symbol.toPrimitive])return g.from(W[Symbol.toPrimitive]("string"),N,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}function M(W){if("number"!=typeof W)throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function I(W){return M(W),O(W<0?0:0|ae(W))}function J(W){for(var N=W.length<0?0:0|ae(W.length),V=O(N),fe=0;fe<N;fe+=1)V[fe]=255&W[fe];return V}function ae(W){if(W>=D)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+D.toString(16)+" bytes");return 0|W}function q(W,N){if(g.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||he(W,ArrayBuffer))return W.byteLength;if("string"!=typeof W)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);var V=W.length,fe=arguments.length>2&&!0===arguments[2];if(!fe&&0===V)return 0;for(var We=!1;;)switch(N){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return T(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*V;case"hex":return V>>>1;case"base64":return He(W).length;default:if(We)return fe?-1:T(W).length;N=(""+N).toLowerCase(),We=!0}}function Z(W,N,V){var fe=!1;if((void 0===N||N<0)&&(N=0),N>this.length||((void 0===V||V>this.length)&&(V=this.length),V<=0)||(V>>>=0)<=(N>>>=0))return"";for(W||(W="utf8");;)switch(W){case"hex":return ze(this,N,V);case"utf8":case"utf-8":return Oe(this,N,V);case"ascii":return Ke(this,N,V);case"latin1":case"binary":return Ie(this,N,V);case"base64":return be(this,N,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,N,V);default:if(fe)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),fe=!0}}function G(W,N,V){var fe=W[N];W[N]=W[V],W[V]=fe}function z(W,N,V,fe,We){if(0===W.length)return-1;if("string"==typeof V?(fe=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),re(V=+V)&&(V=We?0:W.length-1),V<0&&(V=W.length+V),V>=W.length){if(We)return-1;V=W.length-1}else if(V<0){if(!We)return-1;V=0}if("string"==typeof N&&(N=g.from(N,fe)),g.isBuffer(N))return 0===N.length?-1:w(W,N,V,fe,We);if("number"==typeof N)return N&=255,"function"==typeof Uint8Array.prototype.indexOf?We?Uint8Array.prototype.indexOf.call(W,N,V):Uint8Array.prototype.lastIndexOf.call(W,N,V):w(W,[N],V,fe,We);throw new TypeError("val must be string, number or Buffer")}function w(W,N,V,fe,We){var wt,ye=1,je=W.length,at=N.length;if(void 0!==fe&&("ucs2"===(fe=String(fe).toLowerCase())||"ucs-2"===fe||"utf16le"===fe||"utf-16le"===fe)){if(W.length<2||N.length<2)return-1;ye=2,je/=2,at/=2,V/=2}function vt($,oe){return 1===ye?$[oe]:$.readUInt16BE(oe*ye)}if(We){var At=-1;for(wt=V;wt<je;wt++)if(vt(W,wt)===vt(N,-1===At?0:wt-At)){if(-1===At&&(At=wt),wt-At+1===at)return At*ye}else-1!==At&&(wt-=wt-At),At=-1}else for(V+at>je&&(V=je-at),wt=V;wt>=0;wt--){for(var dn=!0,ge=0;ge<at;ge++)if(vt(W,wt+ge)!==vt(N,ge)){dn=!1;break}if(dn)return wt}return-1}function R(W,N,V,fe){V=Number(V)||0;var We=W.length-V;fe?(fe=Number(fe))>We&&(fe=We):fe=We;var ye=N.length;fe>ye/2&&(fe=ye/2);for(var je=0;je<fe;++je){var at=parseInt(N.substr(2*je,2),16);if(re(at))return je;W[V+je]=at}return je}function k(W,N,V,fe){return Ze(T(N,W.length-V),W,V,fe)}function le(W,N,V,fe){return Ze(function se(W){for(var N=[],V=0;V<W.length;++V)N.push(255&W.charCodeAt(V));return N}(N),W,V,fe)}function H(W,N,V,fe){return le(W,N,V,fe)}function De(W,N,V,fe){return Ze(He(N),W,V,fe)}function ce(W,N,V,fe){return Ze(function ie(W,N){for(var V,fe,ye=[],je=0;je<W.length&&!((N-=2)<0);++je)fe=(V=W.charCodeAt(je))>>8,ye.push(V%256),ye.push(fe);return ye}(N,W.length-V),W,V,fe)}function be(W,N,V){return S.fromByteArray(0===N&&V===W.length?W:W.slice(N,V))}function Oe(W,N,V){V=Math.min(W.length,V);for(var fe=[],We=N;We<V;){var vt,wt,At,dn,ye=W[We],je=null,at=ye>239?4:ye>223?3:ye>191?2:1;if(We+at<=V)switch(at){case 1:ye<128&&(je=ye);break;case 2:128==(192&(vt=W[We+1]))&&(dn=(31&ye)<<6|63&vt)>127&&(je=dn);break;case 3:wt=W[We+2],128==(192&(vt=W[We+1]))&&128==(192&wt)&&(dn=(15&ye)<<12|(63&vt)<<6|63&wt)>2047&&(dn<55296||dn>57343)&&(je=dn);break;case 4:wt=W[We+2],At=W[We+3],128==(192&(vt=W[We+1]))&&128==(192&wt)&&128==(192&At)&&(dn=(15&ye)<<18|(63&vt)<<12|(63&wt)<<6|63&At)>65535&&dn<1114112&&(je=dn)}null===je?(je=65533,at=1):je>65535&&(fe.push((je-=65536)>>>10&1023|55296),je=56320|1023&je),fe.push(je),We+=at}return function Qe(W){var N=W.length;if(N<=Ne)return String.fromCharCode.apply(String,W);for(var V="",fe=0;fe<N;)V+=String.fromCharCode.apply(String,W.slice(fe,fe+=Ne));return V}(fe)}K.kMaxLength=D,!(g.TYPED_ARRAY_SUPPORT=function C(){try{var W=new Uint8Array(1);return W.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===W.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),g.poolSize=8192,g.from=function(W,N,V){return y(W,N,V)},g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array,g.alloc=function(W,N,V){return function U(W,N,V){return M(W),W<=0?O(W):void 0!==N?"string"==typeof V?O(W).fill(N,V):O(W).fill(N):O(W)}(W,N,V)},g.allocUnsafe=function(W){return I(W)},g.allocUnsafeSlow=function(W){return I(W)},g.isBuffer=function(N){return null!=N&&!0===N._isBuffer&&N!==g.prototype},g.compare=function(N,V){if(he(N,Uint8Array)&&(N=g.from(N,N.offset,N.byteLength)),he(V,Uint8Array)&&(V=g.from(V,V.offset,V.byteLength)),!g.isBuffer(N)||!g.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===V)return 0;for(var fe=N.length,We=V.length,ye=0,je=Math.min(fe,We);ye<je;++ye)if(N[ye]!==V[ye]){fe=N[ye],We=V[ye];break}return fe<We?-1:We<fe?1:0},g.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(N,V){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(0===N.length)return g.alloc(0);var fe;if(void 0===V)for(V=0,fe=0;fe<N.length;++fe)V+=N[fe].length;var We=g.allocUnsafe(V),ye=0;for(fe=0;fe<N.length;++fe){var je=N[fe];if(he(je,Uint8Array)&&(je=g.from(je)),!g.isBuffer(je))throw new TypeError('"list" argument must be an Array of Buffers');je.copy(We,ye),ye+=je.length}return We},g.byteLength=q,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var N=this.length;if(N%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var V=0;V<N;V+=2)G(this,V,V+1);return this},g.prototype.swap32=function(){var N=this.length;if(N%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var V=0;V<N;V+=4)G(this,V,V+3),G(this,V+1,V+2);return this},g.prototype.swap64=function(){var N=this.length;if(N%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var V=0;V<N;V+=8)G(this,V,V+7),G(this,V+1,V+6),G(this,V+2,V+5),G(this,V+3,V+4);return this},g.prototype.toLocaleString=g.prototype.toString=function(){var N=this.length;return 0===N?"":0===arguments.length?Oe(this,0,N):Z.apply(this,arguments)},g.prototype.equals=function(N){if(!g.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N||0===g.compare(this,N)},g.prototype.inspect=function(){var N="",V=K.INSPECT_MAX_BYTES;return N=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(N+=" ... "),"<Buffer "+N+">"},g.prototype.compare=function(N,V,fe,We,ye){if(he(N,Uint8Array)&&(N=g.from(N,N.offset,N.byteLength)),!g.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(void 0===V&&(V=0),void 0===fe&&(fe=N?N.length:0),void 0===We&&(We=0),void 0===ye&&(ye=this.length),V<0||fe>N.length||We<0||ye>this.length)throw new RangeError("out of range index");if(We>=ye&&V>=fe)return 0;if(We>=ye)return-1;if(V>=fe)return 1;if(this===N)return 0;for(var je=(ye>>>=0)-(We>>>=0),at=(fe>>>=0)-(V>>>=0),vt=Math.min(je,at),wt=this.slice(We,ye),At=N.slice(V,fe),dn=0;dn<vt;++dn)if(wt[dn]!==At[dn]){je=wt[dn],at=At[dn];break}return je<at?-1:at<je?1:0},g.prototype.includes=function(N,V,fe){return-1!==this.indexOf(N,V,fe)},g.prototype.indexOf=function(N,V,fe){return z(this,N,V,fe,!0)},g.prototype.lastIndexOf=function(N,V,fe){return z(this,N,V,fe,!1)},g.prototype.write=function(N,V,fe,We){if(void 0===V)We="utf8",fe=this.length,V=0;else if(void 0===fe&&"string"==typeof V)We=V,fe=this.length,V=0;else{if(!isFinite(V))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");V>>>=0,isFinite(fe)?(fe>>>=0,void 0===We&&(We="utf8")):(We=fe,fe=void 0)}var ye=this.length-V;if((void 0===fe||fe>ye)&&(fe=ye),N.length>0&&(fe<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");for(var je=!1;;)switch(We){case"hex":return R(this,N,V,fe);case"utf8":case"utf-8":return k(this,N,V,fe);case"ascii":return le(this,N,V,fe);case"latin1":case"binary":return H(this,N,V,fe);case"base64":return De(this,N,V,fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,N,V,fe);default:if(je)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),je=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ne=4096;function Ke(W,N,V){var fe="";V=Math.min(W.length,V);for(var We=N;We<V;++We)fe+=String.fromCharCode(127&W[We]);return fe}function Ie(W,N,V){var fe="";V=Math.min(W.length,V);for(var We=N;We<V;++We)fe+=String.fromCharCode(W[We]);return fe}function ze(W,N,V){var fe=W.length;(!N||N<0)&&(N=0),(!V||V<0||V>fe)&&(V=fe);for(var We="",ye=N;ye<V;++ye)We+=B(W[ye]);return We}function Te(W,N,V){for(var fe=W.slice(N,V),We="",ye=0;ye<fe.length;ye+=2)We+=String.fromCharCode(fe[ye]+256*fe[ye+1]);return We}function Ue(W,N,V){if(W%1!=0||W<0)throw new RangeError("offset is not uint");if(W+N>V)throw new RangeError("Trying to access beyond buffer length")}function ue(W,N,V,fe,We,ye){if(!g.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>We||N<ye)throw new RangeError('"value" argument is out of bounds');if(V+fe>W.length)throw new RangeError("Index out of range")}function Ae(W,N,V,fe,We,ye){if(V+fe>W.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function rt(W,N,V,fe,We){return N=+N,V>>>=0,We||Ae(W,0,V,4),b.write(W,N,V,fe,23,4),V+4}function pt(W,N,V,fe,We){return N=+N,V>>>=0,We||Ae(W,0,V,8),b.write(W,N,V,fe,52,8),V+8}g.prototype.slice=function(N,V){var fe=this.length;(N=~~N)<0?(N+=fe)<0&&(N=0):N>fe&&(N=fe),(V=void 0===V?fe:~~V)<0?(V+=fe)<0&&(V=0):V>fe&&(V=fe),V<N&&(V=N);var We=this.subarray(N,V);return We.__proto__=g.prototype,We},g.prototype.readUIntLE=function(N,V,fe){N>>>=0,V>>>=0,fe||Ue(N,V,this.length);for(var We=this[N],ye=1,je=0;++je<V&&(ye*=256);)We+=this[N+je]*ye;return We},g.prototype.readUIntBE=function(N,V,fe){N>>>=0,V>>>=0,fe||Ue(N,V,this.length);for(var We=this[N+--V],ye=1;V>0&&(ye*=256);)We+=this[N+--V]*ye;return We},g.prototype.readUInt8=function(N,V){return N>>>=0,V||Ue(N,1,this.length),this[N]},g.prototype.readUInt16LE=function(N,V){return N>>>=0,V||Ue(N,2,this.length),this[N]|this[N+1]<<8},g.prototype.readUInt16BE=function(N,V){return N>>>=0,V||Ue(N,2,this.length),this[N]<<8|this[N+1]},g.prototype.readUInt32LE=function(N,V){return N>>>=0,V||Ue(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+16777216*this[N+3]},g.prototype.readUInt32BE=function(N,V){return N>>>=0,V||Ue(N,4,this.length),16777216*this[N]+(this[N+1]<<16|this[N+2]<<8|this[N+3])},g.prototype.readIntLE=function(N,V,fe){N>>>=0,V>>>=0,fe||Ue(N,V,this.length);for(var We=this[N],ye=1,je=0;++je<V&&(ye*=256);)We+=this[N+je]*ye;return We>=(ye*=128)&&(We-=Math.pow(2,8*V)),We},g.prototype.readIntBE=function(N,V,fe){N>>>=0,V>>>=0,fe||Ue(N,V,this.length);for(var We=V,ye=1,je=this[N+--We];We>0&&(ye*=256);)je+=this[N+--We]*ye;return je>=(ye*=128)&&(je-=Math.pow(2,8*V)),je},g.prototype.readInt8=function(N,V){return N>>>=0,V||Ue(N,1,this.length),128&this[N]?-1*(255-this[N]+1):this[N]},g.prototype.readInt16LE=function(N,V){N>>>=0,V||Ue(N,2,this.length);var fe=this[N]|this[N+1]<<8;return 32768&fe?4294901760|fe:fe},g.prototype.readInt16BE=function(N,V){N>>>=0,V||Ue(N,2,this.length);var fe=this[N+1]|this[N]<<8;return 32768&fe?4294901760|fe:fe},g.prototype.readInt32LE=function(N,V){return N>>>=0,V||Ue(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},g.prototype.readInt32BE=function(N,V){return N>>>=0,V||Ue(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},g.prototype.readFloatLE=function(N,V){return N>>>=0,V||Ue(N,4,this.length),b.read(this,N,!0,23,4)},g.prototype.readFloatBE=function(N,V){return N>>>=0,V||Ue(N,4,this.length),b.read(this,N,!1,23,4)},g.prototype.readDoubleLE=function(N,V){return N>>>=0,V||Ue(N,8,this.length),b.read(this,N,!0,52,8)},g.prototype.readDoubleBE=function(N,V){return N>>>=0,V||Ue(N,8,this.length),b.read(this,N,!1,52,8)},g.prototype.writeUIntLE=function(N,V,fe,We){N=+N,V>>>=0,fe>>>=0,We||ue(this,N,V,fe,Math.pow(2,8*fe)-1,0);var je=1,at=0;for(this[V]=255&N;++at<fe&&(je*=256);)this[V+at]=N/je&255;return V+fe},g.prototype.writeUIntBE=function(N,V,fe,We){N=+N,V>>>=0,fe>>>=0,We||ue(this,N,V,fe,Math.pow(2,8*fe)-1,0);var je=fe-1,at=1;for(this[V+je]=255&N;--je>=0&&(at*=256);)this[V+je]=N/at&255;return V+fe},g.prototype.writeUInt8=function(N,V,fe){return N=+N,V>>>=0,fe||ue(this,N,V,1,255,0),this[V]=255&N,V+1},g.prototype.writeUInt16LE=function(N,V,fe){return N=+N,V>>>=0,fe||ue(this,N,V,2,65535,0),this[V]=255&N,this[V+1]=N>>>8,V+2},g.prototype.writeUInt16BE=function(N,V,fe){return N=+N,V>>>=0,fe||ue(this,N,V,2,65535,0),this[V]=N>>>8,this[V+1]=255&N,V+2},g.prototype.writeUInt32LE=function(N,V,fe){return N=+N,V>>>=0,fe||ue(this,N,V,4,4294967295,0),this[V+3]=N>>>24,this[V+2]=N>>>16,this[V+1]=N>>>8,this[V]=255&N,V+4},g.prototype.writeUInt32BE=function(N,V,fe){return N=+N,V>>>=0,fe||ue(this,N,V,4,4294967295,0),this[V]=N>>>24,this[V+1]=N>>>16,this[V+2]=N>>>8,this[V+3]=255&N,V+4},g.prototype.writeIntLE=function(N,V,fe,We){if(N=+N,V>>>=0,!We){var ye=Math.pow(2,8*fe-1);ue(this,N,V,fe,ye-1,-ye)}var je=0,at=1,vt=0;for(this[V]=255&N;++je<fe&&(at*=256);)N<0&&0===vt&&0!==this[V+je-1]&&(vt=1),this[V+je]=(N/at>>0)-vt&255;return V+fe},g.prototype.writeIntBE=function(N,V,fe,We){if(N=+N,V>>>=0,!We){var ye=Math.pow(2,8*fe-1);ue(this,N,V,fe,ye-1,-ye)}var je=fe-1,at=1,vt=0;for(this[V+je]=255&N;--je>=0&&(at*=256);)N<0&&0===vt&&0!==this[V+je+1]&&(vt=1),this[V+je]=(N/at>>0)-vt&255;return V+fe},g.prototype.writeInt8=function(N,V,fe){return N=+N,V>>>=0,fe||ue(this,N,V,1,127,-128),N<0&&(N=255+N+1),this[V]=255&N,V+1},g.prototype.writeInt16LE=function(N,V,fe){return N=+N,V>>>=0,fe||ue(this,N,V,2,32767,-32768),this[V]=255&N,this[V+1]=N>>>8,V+2},g.prototype.writeInt16BE=function(N,V,fe){return N=+N,V>>>=0,fe||ue(this,N,V,2,32767,-32768),this[V]=N>>>8,this[V+1]=255&N,V+2},g.prototype.writeInt32LE=function(N,V,fe){return N=+N,V>>>=0,fe||ue(this,N,V,4,2147483647,-2147483648),this[V]=255&N,this[V+1]=N>>>8,this[V+2]=N>>>16,this[V+3]=N>>>24,V+4},g.prototype.writeInt32BE=function(N,V,fe){return N=+N,V>>>=0,fe||ue(this,N,V,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[V]=N>>>24,this[V+1]=N>>>16,this[V+2]=N>>>8,this[V+3]=255&N,V+4},g.prototype.writeFloatLE=function(N,V,fe){return rt(this,N,V,!0,fe)},g.prototype.writeFloatBE=function(N,V,fe){return rt(this,N,V,!1,fe)},g.prototype.writeDoubleLE=function(N,V,fe){return pt(this,N,V,!0,fe)},g.prototype.writeDoubleBE=function(N,V,fe){return pt(this,N,V,!1,fe)},g.prototype.copy=function(N,V,fe,We){if(!g.isBuffer(N))throw new TypeError("argument should be a Buffer");if(fe||(fe=0),!We&&0!==We&&(We=this.length),V>=N.length&&(V=N.length),V||(V=0),We>0&&We<fe&&(We=fe),We===fe||0===N.length||0===this.length)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(fe<0||fe>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),N.length-V<We-fe&&(We=N.length-V+fe);var ye=We-fe;if(this===N&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(V,fe,We);else if(this===N&&fe<V&&V<We)for(var je=ye-1;je>=0;--je)N[je+V]=this[je+fe];else Uint8Array.prototype.set.call(N,this.subarray(fe,We),V);return ye},g.prototype.fill=function(N,V,fe,We){if("string"==typeof N){if("string"==typeof V?(We=V,V=0,fe=this.length):"string"==typeof fe&&(We=fe,fe=this.length),void 0!==We&&"string"!=typeof We)throw new TypeError("encoding must be a string");if("string"==typeof We&&!g.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(1===N.length){var ye=N.charCodeAt(0);("utf8"===We&&ye<128||"latin1"===We)&&(N=ye)}}else"number"==typeof N&&(N&=255);if(V<0||this.length<V||this.length<fe)throw new RangeError("Out of range index");if(fe<=V)return this;var je;if(V>>>=0,fe=void 0===fe?this.length:fe>>>0,N||(N=0),"number"==typeof N)for(je=V;je<fe;++je)this[je]=N;else{var at=g.isBuffer(N)?N:g.from(N,We),vt=at.length;if(0===vt)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(je=0;je<fe-V;++je)this[je+V]=at[je%vt]}return this};var Je=/[^+/0-9A-Za-z-_]/g;function B(W){return W<16?"0"+W.toString(16):W.toString(16)}function T(W,N){N=N||1/0;for(var V,fe=W.length,We=null,ye=[],je=0;je<fe;++je){if((V=W.charCodeAt(je))>55295&&V<57344){if(!We){if(V>56319){(N-=3)>-1&&ye.push(239,191,189);continue}if(je+1===fe){(N-=3)>-1&&ye.push(239,191,189);continue}We=V;continue}if(V<56320){(N-=3)>-1&&ye.push(239,191,189),We=V;continue}V=65536+(We-55296<<10|V-56320)}else We&&(N-=3)>-1&&ye.push(239,191,189);if(We=null,V<128){if((N-=1)<0)break;ye.push(V)}else if(V<2048){if((N-=2)<0)break;ye.push(V>>6|192,63&V|128)}else if(V<65536){if((N-=3)<0)break;ye.push(V>>12|224,V>>6&63|128,63&V|128)}else{if(!(V<1114112))throw new Error("Invalid code point");if((N-=4)<0)break;ye.push(V>>18|240,V>>12&63|128,V>>6&63|128,63&V|128)}}return ye}function He(W){return S.toByteArray(function me(W){if((W=(W=W.split("=")[0]).trim().replace(Je,"")).length<2)return"";for(;W.length%4!=0;)W+="=";return W}(W))}function Ze(W,N,V,fe){for(var We=0;We<fe&&!(We+V>=N.length||We>=W.length);++We)N[We+V]=W[We];return We}function he(W,N){return W instanceof N||null!=W&&null!=W.constructor&&null!=W.constructor.name&&W.constructor.name===N.name}function re(W){return W!=W}},1563:(ee,K,m)=>{ee.exports={ResizeSensor:m(884),ElementQueries:m(8381)}},8381:function(ee,K,m){"use strict";var S,b,D;typeof window<"u"&&window,b=[m(884)],void 0!==(D="function"==typeof(S=function(C){var O=function(){var y,M={},U=[];function I(H){H||(H=document.documentElement);var De=window.getComputedStyle(H,null).fontSize;return parseFloat(De)||16}function J(H,De){var ce=De.split(/\d/),be=ce[ce.length-1];switch(De=parseFloat(De),be){case"px":default:return De;case"em":return De*I(H);case"rem":return De*I();case"vw":return De*document.documentElement.clientWidth/100;case"vh":return De*document.documentElement.clientHeight/100;case"vmin":case"vmax":var Oe=document.documentElement.clientWidth/100,Ne=document.documentElement.clientHeight/100;return De*(0,Math["vmin"===be?"min":"max"])(Oe,Ne)}}function E(H,De){this.element=H;var ce,be,Oe,Ne,Qe,Ke,Ie,ze,Te=["min-width","min-height","max-width","max-height"];this.call=function(){for(ce in Oe=function F(H){if(!H.getBoundingClientRect)return{width:H.offsetWidth,height:H.offsetHeight};var De=H.getBoundingClientRect();return{width:Math.round(De.width),height:Math.round(De.height)}}(this.element),Ke={},M[De])M[De].hasOwnProperty(ce)&&(Ne=J(this.element,(be=M[De][ce]).value),Qe="width"===be.property?Oe.width:Oe.height,Ie="","min"===be.mode&&Qe>=Ne&&(Ie+=be.value),"max"===be.mode&&Qe<=Ne&&(Ie+=be.value),Ke[ze=be.mode+"-"+be.property]||(Ke[ze]=""),Ie&&-1===(" "+Ke[ze]+" ").indexOf(" "+Ie+" ")&&(Ke[ze]+=" "+Ie));for(var Ue in Te)Te.hasOwnProperty(Ue)&&(Ke[Te[Ue]]?this.element.setAttribute(Te[Ue],Ke[Te[Ue]].substr(1)):this.element.removeAttribute(Te[Ue]))}}function L(H,De){H.elementQueriesSetupInformation||(H.elementQueriesSetupInformation=new E(H,De)),H.elementQueriesSensor||(H.elementQueriesSensor=new C(H,function(){H.elementQueriesSetupInformation.call()}))}function ae(H,De,ce,be){if(typeof M[H]>"u"){M[H]=[];var Oe=U.length;y.innerHTML+="\n"+H+" {animation: 0.1s element-queries;}",y.innerHTML+="\n"+H+" > .resize-sensor {min-width: "+Oe+"px;}",U.push(H)}M[H].push({mode:De,property:ce,value:be})}function Y(H){var De;if(document.querySelectorAll&&(De=H?H.querySelectorAll.bind(H):document.querySelectorAll.bind(document)),!De&&typeof $$<"u"&&(De=$$),!De&&typeof jQuery<"u"&&(De=jQuery),!De)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return De}function Z(H){var De=[],ce=[],be=[],Oe=0,Ne=-1,Qe=[];for(var Ke in H.children)if(H.children.hasOwnProperty(Ke)&&H.children[Ke].tagName&&"img"===H.children[Ke].tagName.toLowerCase()){De.push(H.children[Ke]);var Ie=H.children[Ke].getAttribute("min-width")||H.children[Ke].getAttribute("data-min-width"),ze=H.children[Ke].getAttribute("data-src")||H.children[Ke].getAttribute("url");be.push(ze),ce.push({minWidth:Ie}),Ie?H.children[Ke].style.display="none":(Oe=De.length-1,H.children[Ke].style.display="block")}function Ue(){var Ae,ue=!1;for(Ae in De)De.hasOwnProperty(Ae)&&ce[Ae].minWidth&&H.offsetWidth>ce[Ae].minWidth&&(ue=Ae);if(ue||(ue=Oe),Ne!==ue)if(Qe[ue])De[Ne].style.display="none",De[ue].style.display="block",Ne=ue;else{var rt=new Image;rt.onload=function(){De[ue].src=be[ue],De[Ne].style.display="none",De[ue].style.display="block",Qe[ue]=!0,Ne=ue},rt.src=be[ue]}else De[ue].src=be[ue]}Ne=Oe,H.resizeSensorInstance=new C(H,Ue),Ue()}var z=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,w=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function R(H){var De,ce,be,Oe;for(H=H.replace(/'/g,'"');null!==(De=z.exec(H));)for(ce=De[1]+De[3],be=De[2];null!==(Oe=w.exec(be));)ae(ce,Oe[1],Oe[2],Oe[3])}function k(H){var De="";if(H)if("string"==typeof H)(-1!==(H=H.toLowerCase()).indexOf("min-width")||-1!==H.indexOf("max-width"))&&R(H);else for(var ce=0,be=H.length;ce<be;ce++)1===H[ce].type?(-1!==(De=H[ce].selectorText||H[ce].cssText).indexOf("min-height")||-1!==De.indexOf("max-height")||-1!==De.indexOf("min-width")||-1!==De.indexOf("max-width"))&&R(De):4===H[ce].type?k(H[ce].cssRules||H[ce].rules):3===H[ce].type&&H[ce].styleSheet.hasOwnProperty("cssRules")&&k(H[ce].styleSheet.cssRules)}var le=!1;this.init=function(){var H="animationstart";typeof document.documentElement.style.webkitAnimationName<"u"?H="webkitAnimationStart":typeof document.documentElement.style.MozAnimationName<"u"?H="mozanimationstart":typeof document.documentElement.style.OAnimationName<"u"&&(H="oanimationstart"),document.body.addEventListener(H,function(be){var Oe=be.target,Ne=Oe&&window.getComputedStyle(Oe,null),Qe=Ne&&Ne.getPropertyValue("animation-name");if(Qe&&-1!==Qe.indexOf("element-queries")){Oe.elementQueriesSensor=new C(Oe,function(){Oe.elementQueriesSetupInformation&&Oe.elementQueriesSetupInformation.call()});var ze=window.getComputedStyle(Oe.resizeSensor,null).getPropertyValue("min-width");ze=parseInt(ze.replace("px","")),L(be.target,U[ze])}}),le||((y=document.createElement("style")).type="text/css",y.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",y.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(y),le=!0);for(var De=0,ce=document.styleSheets.length;De<ce;De++)try{document.styleSheets[De].href&&0===document.styleSheets[De].href.indexOf("file://")&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[De].href),k(document.styleSheets[De].cssRules||document.styleSheets[De].rules||document.styleSheets[De].cssText)}catch{}!function G(){for(var De=Y()("[data-responsive-image],[responsive-image]"),ce=0,be=De.length;ce<be;ce++)Z(De[ce])}()},this.findElementQueriesElements=function(H){!function q(H){var De=Y(H);for(var ce in M)if(M.hasOwnProperty(ce))for(var be=De(ce,H),Oe=0,Ne=be.length;Oe<Ne;Oe++)L(be[Oe],ce)}(H)},this.update=function(){this.init()}};O.update=function(){O.instance.update()},O.detach=function(y){y.elementQueriesSetupInformation?(y.elementQueriesSensor.detach(),delete y.elementQueriesSetupInformation,delete y.elementQueriesSensor):y.resizeSensorInstance&&(y.resizeSensorInstance.detach(),delete y.resizeSensorInstance)},O.init=function(){O.instance||(O.instance=new O),O.instance.init()};return O.findElementQueriesElements=function(y){O.instance.findElementQueriesElements(y)},O.listen=function(){!function(y){if(document.addEventListener)document.addEventListener("DOMContentLoaded",y,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var M=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(y(),clearInterval(M))},10);else window.onload=y}(O.init)},O})?S.apply(K,b):S)&&(ee.exports=D)},884:function(ee,K,m){"use strict";var S,b;typeof window<"u"&&window,void 0!==(b="function"==typeof(S=function(){if(typeof window>"u")return null;var D=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")(),C=D.requestAnimationFrame||D.mozRequestAnimationFrame||D.webkitRequestAnimationFrame||function(F){return D.setTimeout(F,20)},O=D.cancelAnimationFrame||D.mozCancelAnimationFrame||D.webkitCancelAnimationFrame||function(F){D.clearTimeout(F)};function g(F,J){var E=Object.prototype.toString.call(F),L="[object Array]"===E||"[object NodeList]"===E||"[object HTMLCollection]"===E||"[object Object]"===E||typeof jQuery<"u"&&F instanceof jQuery||typeof Elements<"u"&&F instanceof Elements,ae=0,Y=F.length;if(L)for(;ae<Y;ae++)J(F[ae]);else J(F)}function y(F){if(!F.getBoundingClientRect)return{width:F.offsetWidth,height:F.offsetHeight};var J=F.getBoundingClientRect();return{width:Math.round(J.width),height:Math.round(J.height)}}function M(F,J){Object.keys(J).forEach(function(E){F.style[E]=J[E]})}var U=function(F,J){var E=0;function L(){var q,Z,Y=[];this.add=function(G){Y.push(G)},this.call=function(G){for(q=0,Z=Y.length;q<Z;q++)Y[q].call(this,G)},this.remove=function(G){var z=[];for(q=0,Z=Y.length;q<Z;q++)Y[q]!==G&&z.push(Y[q]);Y=z},this.length=function(){return Y.length}}function ae(Y,q){if(Y){if(Y.resizedAttached)return void Y.resizedAttached.add(q);Y.resizedAttached=new L,Y.resizedAttached.add(q),Y.resizeSensor=document.createElement("div"),Y.resizeSensor.dir="ltr",Y.resizeSensor.className="resize-sensor";var Z={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},G={position:"absolute",left:"0px",top:"0px",transition:"0s"};M(Y.resizeSensor,Z);var z=document.createElement("div");z.className="resize-sensor-expand",M(z,Z);var w=document.createElement("div");M(w,G),z.appendChild(w);var R=document.createElement("div");R.className="resize-sensor-shrink",M(R,Z);var k=document.createElement("div");M(k,G),M(k,{width:"200%",height:"200%"}),R.appendChild(k),Y.resizeSensor.appendChild(z),Y.resizeSensor.appendChild(R),Y.appendChild(Y.resizeSensor);var le=window.getComputedStyle(Y),H=le?le.getPropertyValue("position"):null;"absolute"!==H&&"relative"!==H&&"fixed"!==H&&"sticky"!==H&&(Y.style.position="relative");var De=!1,ce=0,be=y(Y),Oe=0,Ne=0,Qe=!0;E=0;var Ie=function(){if(Qe){if(0===Y.offsetWidth&&0===Y.offsetHeight)return void(E||(E=C(function(){E=0,Ie()})));Qe=!1}var ue,Ae;Ae=Y.offsetHeight,w.style.width=(ue=Y.offsetWidth)+10+"px",w.style.height=Ae+10+"px",z.scrollLeft=ue+10,z.scrollTop=Ae+10,R.scrollLeft=ue+10,R.scrollTop=Ae+10};Y.resizeSensor.resetSensor=Ie;var ze=function(){ce=0,De&&(Oe=be.width,Ne=be.height,Y.resizedAttached&&Y.resizedAttached.call(be))},Te=function(){be=y(Y),(De=be.width!==Oe||be.height!==Ne)&&!ce&&(ce=C(ze)),Ie()},Ue=function(ue,Ae,rt){ue.attachEvent?ue.attachEvent("on"+Ae,rt):ue.addEventListener(Ae,rt)};Ue(z,"scroll",Te),Ue(R,"scroll",Te),E=C(function(){E=0,Ie()})}}g(F,function(Y){ae(Y,J)}),this.detach=function(Y){E||(O(E),E=0),U.detach(F,Y)},this.reset=function(){F.resizeSensor.resetSensor()}};if(U.reset=function(F){g(F,function(J){J.resizeSensor.resetSensor()})},U.detach=function(F,J){g(F,function(E){E&&(E.resizedAttached&&"function"==typeof J&&(E.resizedAttached.remove(J),E.resizedAttached.length())||E.resizeSensor&&(E.contains(E.resizeSensor)&&E.removeChild(E.resizeSensor),delete E.resizeSensor,delete E.resizedAttached))})},typeof MutationObserver<"u"){var I=new MutationObserver(function(F){for(var J in F)if(F.hasOwnProperty(J))for(var E=F[J].addedNodes,L=0;L<E.length;L++)E[L].resizeSensor&&U.reset(E[L])});document.addEventListener("DOMContentLoaded",function(F){I.observe(document.body,{childList:!0,subtree:!0})})}return U})?S.call(K,m,K,ee):S)&&(ee.exports=b)},2016:ee=>{"use strict";var S,K="object"==typeof Reflect?Reflect:null,m=K&&"function"==typeof K.apply?K.apply:function(z,w,R){return Function.prototype.apply.call(z,w,R)};S=K&&"function"==typeof K.ownKeys?K.ownKeys:Object.getOwnPropertySymbols?function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:function(z){return Object.getOwnPropertyNames(z)};var D=Number.isNaN||function(z){return z!=z};function C(){C.init.call(this)}ee.exports=C,ee.exports.once=function Y(G,z){return new Promise(function(w,R){function k(H){G.removeListener(z,le),R(H)}function le(){"function"==typeof G.removeListener&&G.removeListener("error",k),w([].slice.call(arguments))}Z(G,z,le,{once:!0}),"error"!==z&&function q(G,z,w){"function"==typeof G.on&&Z(G,"error",z,w)}(G,k,{once:!0})})},C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var O=10;function g(G){if("function"!=typeof G)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof G)}function y(G){return void 0===G._maxListeners?C.defaultMaxListeners:G._maxListeners}function M(G,z,w,R){var k,le,H;if(g(w),void 0===(le=G._events)?(le=G._events=Object.create(null),G._eventsCount=0):(void 0!==le.newListener&&(G.emit("newListener",z,w.listener?w.listener:w),le=G._events),H=le[z]),void 0===H)H=le[z]=w,++G._eventsCount;else if("function"==typeof H?H=le[z]=R?[w,H]:[H,w]:R?H.unshift(w):H.push(w),(k=y(G))>0&&H.length>k&&!H.warned){H.warned=!0;var De=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(z)+" listeners added. Use emitter.setMaxListeners() to increase limit");De.name="MaxListenersExceededWarning",De.emitter=G,De.type=z,De.count=H.length,function b(G){console&&console.warn&&console.warn(G)}(De)}return G}function U(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function I(G,z,w){var R={fired:!1,wrapFn:void 0,target:G,type:z,listener:w},k=U.bind(R);return k.listener=w,R.wrapFn=k,k}function F(G,z,w){var R=G._events;if(void 0===R)return[];var k=R[z];return void 0===k?[]:"function"==typeof k?w?[k.listener||k]:[k]:w?function ae(G){for(var z=new Array(G.length),w=0;w<z.length;++w)z[w]=G[w].listener||G[w];return z}(k):E(k,k.length)}function J(G){var z=this._events;if(void 0!==z){var w=z[G];if("function"==typeof w)return 1;if(void 0!==w)return w.length}return 0}function E(G,z){for(var w=new Array(z),R=0;R<z;++R)w[R]=G[R];return w}function Z(G,z,w,R){if("function"==typeof G.on)R.once?G.once(z,w):G.on(z,w);else{if("function"!=typeof G.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof G);G.addEventListener(z,function k(le){R.once&&G.removeEventListener(z,k),w(le)})}}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return O},set:function(G){if("number"!=typeof G||G<0||D(G))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+G+".");O=G}}),C.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(z){if("number"!=typeof z||z<0||D(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this},C.prototype.getMaxListeners=function(){return y(this)},C.prototype.emit=function(z){for(var w=[],R=1;R<arguments.length;R++)w.push(arguments[R]);var k="error"===z,le=this._events;if(void 0!==le)k=k&&void 0===le.error;else if(!k)return!1;if(k){var H;if(w.length>0&&(H=w[0]),H instanceof Error)throw H;var De=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw De.context=H,De}var ce=le[z];if(void 0===ce)return!1;if("function"==typeof ce)m(ce,this,w);else{var be=ce.length,Oe=E(ce,be);for(R=0;R<be;++R)m(Oe[R],this,w)}return!0},C.prototype.on=C.prototype.addListener=function(z,w){return M(this,z,w,!1)},C.prototype.prependListener=function(z,w){return M(this,z,w,!0)},C.prototype.once=function(z,w){return g(w),this.on(z,I(this,z,w)),this},C.prototype.prependOnceListener=function(z,w){return g(w),this.prependListener(z,I(this,z,w)),this},C.prototype.off=C.prototype.removeListener=function(z,w){var R,k,le,H,De;if(g(w),void 0===(k=this._events))return this;if(void 0===(R=k[z]))return this;if(R===w||R.listener===w)0==--this._eventsCount?this._events=Object.create(null):(delete k[z],k.removeListener&&this.emit("removeListener",z,R.listener||w));else if("function"!=typeof R){for(le=-1,H=R.length-1;H>=0;H--)if(R[H]===w||R[H].listener===w){De=R[H].listener,le=H;break}if(le<0)return this;0===le?R.shift():function L(G,z){for(;z+1<G.length;z++)G[z]=G[z+1];G.pop()}(R,le),1===R.length&&(k[z]=R[0]),void 0!==k.removeListener&&this.emit("removeListener",z,De||w)}return this},C.prototype.removeAllListeners=function(z){var w,R,k;if(void 0===(R=this._events))return this;if(void 0===R.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==R[z]&&(0==--this._eventsCount?this._events=Object.create(null):delete R[z]),this;if(0===arguments.length){var H,le=Object.keys(R);for(k=0;k<le.length;++k)"removeListener"!==(H=le[k])&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(w=R[z]))this.removeListener(z,w);else if(void 0!==w)for(k=w.length-1;k>=0;k--)this.removeListener(z,w[k]);return this},C.prototype.listeners=function(z){return F(this,z,!0)},C.prototype.rawListeners=function(z){return F(this,z,!1)},C.listenerCount=function(G,z){return"function"==typeof G.listenerCount?G.listenerCount(z):J.call(G,z)},C.prototype.listenerCount=J,C.prototype.eventNames=function(){return this._eventsCount>0?S(this._events):[]}},217:function(ee,K){var m,b;void 0!==(b="function"==typeof(m=function(){"use strict";function C(I,F,J){var E=new XMLHttpRequest;E.open("GET",I),E.responseType="blob",E.onload=function(){U(E.response,F,J)},E.onerror=function(){console.error("could not download file")},E.send()}function O(I){var F=new XMLHttpRequest;F.open("HEAD",I,!1);try{F.send()}catch{}return 200<=F.status&&299>=F.status}function g(I){try{I.dispatchEvent(new MouseEvent("click"))}catch{var F=document.createEvent("MouseEvents");F.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),I.dispatchEvent(F)}}var y="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,M=y.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),U=y.saveAs||("object"!=typeof window||window!==y?function(){}:"download"in HTMLAnchorElement.prototype&&!M?function(I,F,J){var E=y.URL||y.webkitURL,L=document.createElement("a");L.download=F=F||I.name||"download",L.rel="noopener","string"==typeof I?(L.href=I,L.origin===location.origin?g(L):O(L.href)?C(I,F,J):g(L,L.target="_blank")):(L.href=E.createObjectURL(I),setTimeout(function(){E.revokeObjectURL(L.href)},4e4),setTimeout(function(){g(L)},0))}:"msSaveOrOpenBlob"in navigator?function(I,F,J){if(F=F||I.name||"download","string"!=typeof I)navigator.msSaveOrOpenBlob(function D(I,F){return typeof F>"u"?F={autoBom:!1}:"object"!=typeof F&&(console.warn("Deprecated: Expected third argument to be a object"),F={autoBom:!F}),F.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(I.type)?new Blob(["\ufeff",I],{type:I.type}):I}(I,J),F);else if(O(I))C(I,F,J);else{var E=document.createElement("a");E.href=I,E.target="_blank",setTimeout(function(){g(E)})}}:function(I,F,J,E){if((E=E||open("","_blank"))&&(E.document.title=E.document.body.innerText="downloading..."),"string"==typeof I)return C(I,F,J);var L="application/octet-stream"===I.type,ae=/constructor/i.test(y.HTMLElement)||y.safari,Y=/CriOS\/[\d]+/.test(navigator.userAgent);if((Y||L&&ae||M)&&typeof FileReader<"u"){var q=new FileReader;q.onloadend=function(){var z=q.result;z=Y?z:z.replace(/^data:[^;]*;/,"data:attachment/file;"),E?E.location.href=z:location=z,E=null},q.readAsDataURL(I)}else{var Z=y.URL||y.webkitURL,G=Z.createObjectURL(I);E?E.location=G:location.href=G,E=null,setTimeout(function(){Z.revokeObjectURL(G)},4e4)}});y.saveAs=U.saveAs=U,ee.exports=U})?m.apply(K,[]):m)&&(ee.exports=b)},7991:(ee,K,m)=>{var S=m(6943),b=m(9151),D=m(2323);function C(F,J,E){if(!S(F))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<3)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 3.");if(!F.hasNode(J))throw new Error('graphology-shortest-path: the "'+J+'" source node does not exist in the given graph.');if(!F.hasNode(E))throw new Error('graphology-shortest-path: the "'+E+'" target node does not exist in the given graph.');if((J=""+J)==(E=""+E))return[J];var L=F.inboundNeighbors.bind(F),ae=F.outboundNeighbors.bind(F),Y={},q={};Y[J]=null,q[E]=null;var z,w,R,k,le,H,De,ce,Z=[J],G=[E],be=!1;e:for(;Z.length&&G.length;)if(Z.length<=G.length){for(z=Z,Z=[],le=0,De=z.length;le<De;le++)for(H=0,ce=(R=ae(w=z[le])).length;H<ce;H++)if((k=R[H])in Y||(Z.push(k),Y[k]=w),k in q){be=!0;break e}}else for(z=G,G=[],le=0,De=z.length;le<De;le++)for(w=z[le],R=L(w),H=0,ce=R.length;H<ce;H++)if(k=R[H],k in q||(G.push(k),q[k]=w),k in Y){be=!0;break e}if(!be)return null;for(var Oe=[];k;)Oe.unshift(k),k=Y[k];for(k=q[Oe[Oe.length-1]];k;)Oe.push(k),k=q[k];return Oe.length?Oe:null}function O(F,J){if(!S(F))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<2)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 2.");if(!F.hasNode(J))throw new Error('graphology-shortest-path: the "'+J+'" source node does not exist in the given graph.');var ae,Y,q,Z,G,z,E={},L={};for(E[J=""+J]=!0,L[J]=[J];Object.keys(E).length;)for(q in ae=E,E={},ae)for(G=0,z=(Y=F.outboundNeighbors(q)).length;G<z;G++)L[Z=Y[G]]||(L[Z]=L[q].concat(Z),E[Z]=!0);return L}function g(F,J,E){if(!S(J))throw new Error("graphology-shortest-path: invalid graphology instance.");if(!J.hasNode(E))throw new Error('graphology-shortest-path: the "'+E+'" source node does not exist in the given graph.');E=""+E;var L=new Set,ae={},Y=0;ae[E]=0;for(var Z,G,z,q=[E];0!==q.length;){var w=[];for(Z=0,G=q.length;Z<G;Z++)!L.has(z=q[Z])&&(L.add(z),D(w,J[F](z)),ae[z]=Y);Y++,q=w}return ae}var y=g.bind(null,"outboundNeighbors"),M=g.bind(null,"neighbors");function U(F,J,E){return arguments.length<3?O(F,J):C(F,J,E)}U.bidirectional=C,U.singleSource=O,U.singleSourceLength=y,U.undirectedSingleSourceLength=M,U.brandes=function I(F,J){J=""+J;var q,Z,G,z,w,R,k,le,H,E=[],L={},ae={},Y=F.nodes();for(R=0,le=Y.length;R<le;R++)L[z=Y[R]]=[],ae[z]=0;var De={};ae[J]=1,De[J]=0;for(var ce=b.of(J);ce.size;)for(z=ce.dequeue(),E.push(z),q=De[z],Z=ae[z],k=0,H=(G=F.outboundNeighbors(z)).length;k<H;k++)(w=G[k])in De||(ce.enqueue(w),De[w]=q+1),De[w]===q+1&&(ae[w]+=Z,L[w].push(z));return[E,L,ae]},ee.exports=U},6943:ee=>{ee.exports=function(m){return null!==m&&"object"==typeof m&&"function"==typeof m.addUndirectedEdgeWithKey&&"function"==typeof m.dropNode&&"boolean"==typeof m.multi}},4938:function(ee){ee.exports=function(){"use strict";function K(ve){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ee){return typeof Ee}:function(Ee){return Ee&&"function"==typeof Symbol&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee})(ve)}function m(ve,Ee){ve.prototype=Object.create(Ee.prototype),ve.prototype.constructor=ve,b(ve,Ee)}function S(ve){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(Ee){return Ee.__proto__||Object.getPrototypeOf(Ee)})(ve)}function b(ve,Ee){return(b=Object.setPrototypeOf||function(de,j){return de.__proto__=j,de})(ve,Ee)}function C(ve,Ee,de){return(C=function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(j,ne,_e){var Fe=[null];Fe.push.apply(Fe,ne);var Me=new(Function.bind.apply(j,Fe));return _e&&b(Me,_e.prototype),Me}).apply(null,arguments)}function O(ve){var Ee="function"==typeof Map?new Map:void 0;return(O=function(de){if(null===de||-1===Function.toString.call(de).indexOf("[native code]"))return de;if("function"!=typeof de)throw new TypeError("Super expression must either be null or a function");if(void 0!==Ee){if(Ee.has(de))return Ee.get(de);Ee.set(de,ne)}function ne(){return C(de,arguments,S(this).constructor)}return ne.prototype=Object.create(de.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),b(ne,de)})(ve)}function g(ve){if(void 0===ve)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ve}var y=function(){for(var ve=arguments[0],Ee=1,de=arguments.length;Ee<de;Ee++)if(arguments[Ee])for(var j in arguments[Ee])ve[j]=arguments[Ee][j];return ve};function M(ve,Ee,de,j){var ne=ve._nodes.get(Ee),_e=null;return ne?_e="mixed"===j?ne.out&&ne.out[de]||ne.undirected&&ne.undirected[de]:"directed"===j?ne.out&&ne.out[de]:ne.undirected&&ne.undirected[de]:_e}function I(ve){return"object"===K(ve)&&null!==ve&&ve.constructor===Object}function F(ve){var Ee;for(Ee in ve)return!1;return!0}function J(ve,Ee,de){Object.defineProperty(ve,Ee,{enumerable:!1,configurable:!1,writable:!0,value:de})}function E(ve,Ee,de){var j={enumerable:!0,configurable:!0};"function"==typeof de?j.get=de:(j.value=de,j.writable=!1),Object.defineProperty(ve,Ee,j)}function L(ve){return!(!I(ve)||ve.attributes&&!Array.isArray(ve.attributes))}"function"==typeof Object.assign&&(y=Object.assign);var ae,Y={exports:{}},q="object"==typeof Reflect?Reflect:null,Z=q&&"function"==typeof q.apply?q.apply:function(ve,Ee,de){return Function.prototype.apply.call(ve,Ee,de)};ae=q&&"function"==typeof q.ownKeys?q.ownKeys:Object.getOwnPropertySymbols?function(ve){return Object.getOwnPropertyNames(ve).concat(Object.getOwnPropertySymbols(ve))}:function(ve){return Object.getOwnPropertyNames(ve)};var G=Number.isNaN||function(ve){return ve!=ve};function z(){z.init.call(this)}Y.exports=z,Y.exports.once=function(ve,Ee){return new Promise(function(de,j){function ne(Fe){ve.removeListener(Ee,_e),j(Fe)}function _e(){"function"==typeof ve.removeListener&&ve.removeListener("error",ne),de([].slice.call(arguments))}var Fe;Ne(ve,Ee,_e,{once:!0}),"error"!==Ee&&("function"==typeof(Fe=ve).on&&Ne(Fe,"error",ne,{once:!0}))})},z.EventEmitter=z,z.prototype._events=void 0,z.prototype._eventsCount=0,z.prototype._maxListeners=void 0;var w=10;function R(ve){if("function"!=typeof ve)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ve)}function k(ve){return void 0===ve._maxListeners?z.defaultMaxListeners:ve._maxListeners}function le(ve,Ee,de,j){var ne,_e,Fe;if(R(de),void 0===(_e=ve._events)?(_e=ve._events=Object.create(null),ve._eventsCount=0):(void 0!==_e.newListener&&(ve.emit("newListener",Ee,de.listener?de.listener:de),_e=ve._events),Fe=_e[Ee]),void 0===Fe)Fe=_e[Ee]=de,++ve._eventsCount;else if("function"==typeof Fe?Fe=_e[Ee]=j?[de,Fe]:[Fe,de]:j?Fe.unshift(de):Fe.push(de),(ne=k(ve))>0&&Fe.length>ne&&!Fe.warned){Fe.warned=!0;var lt=new Error("Possible EventEmitter memory leak detected. "+Fe.length+" "+String(Ee)+" listeners added. Use emitter.setMaxListeners() to increase limit");lt.name="MaxListenersExceededWarning",lt.emitter=ve,lt.type=Ee,lt.count=Fe.length,console&&console.warn&&console.warn(lt)}return ve}function H(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function De(ve,Ee,de){var j={fired:!1,wrapFn:void 0,target:ve,type:Ee,listener:de},ne=H.bind(j);return ne.listener=de,j.wrapFn=ne,ne}function ce(ve,Ee,de){var j=ve._events;if(void 0===j)return[];var ne=j[Ee];return void 0===ne?[]:"function"==typeof ne?de?[ne.listener||ne]:[ne]:de?function(_e){for(var Fe=new Array(_e.length),Me=0;Me<Fe.length;++Me)Fe[Me]=_e[Me].listener||_e[Me];return Fe}(ne):Oe(ne,ne.length)}function be(ve){var Ee=this._events;if(void 0!==Ee){var de=Ee[ve];if("function"==typeof de)return 1;if(void 0!==de)return de.length}return 0}function Oe(ve,Ee){for(var de=new Array(Ee),j=0;j<Ee;++j)de[j]=ve[j];return de}function Ne(ve,Ee,de,j){if("function"==typeof ve.on)j.once?ve.once(Ee,de):ve.on(Ee,de);else{if("function"!=typeof ve.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ve);ve.addEventListener(Ee,function ne(_e){j.once&&ve.removeEventListener(Ee,ne),de(_e)})}}function Qe(ve){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:ve}),this.done=!1}Object.defineProperty(z,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(ve){if("number"!=typeof ve||ve<0||G(ve))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ve+".");w=ve}}),z.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},z.prototype.setMaxListeners=function(ve){if("number"!=typeof ve||ve<0||G(ve))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ve+".");return this._maxListeners=ve,this},z.prototype.getMaxListeners=function(){return k(this)},z.prototype.emit=function(ve){for(var Ee=[],de=1;de<arguments.length;de++)Ee.push(arguments[de]);var j="error"===ve,ne=this._events;if(void 0!==ne)j=j&&void 0===ne.error;else if(!j)return!1;if(j){var _e;if(Ee.length>0&&(_e=Ee[0]),_e instanceof Error)throw _e;var Fe=new Error("Unhandled error."+(_e?" ("+_e.message+")":""));throw Fe.context=_e,Fe}var Me=ne[ve];if(void 0===Me)return!1;if("function"==typeof Me)Z(Me,this,Ee);else{var lt=Me.length,Pt=Oe(Me,lt);for(de=0;de<lt;++de)Z(Pt[de],this,Ee)}return!0},z.prototype.addListener=function(ve,Ee){return le(this,ve,Ee,!1)},z.prototype.on=z.prototype.addListener,z.prototype.prependListener=function(ve,Ee){return le(this,ve,Ee,!0)},z.prototype.once=function(ve,Ee){return R(Ee),this.on(ve,De(this,ve,Ee)),this},z.prototype.prependOnceListener=function(ve,Ee){return R(Ee),this.prependListener(ve,De(this,ve,Ee)),this},z.prototype.removeListener=function(ve,Ee){var de,j,ne,_e,Fe;if(R(Ee),void 0===(j=this._events))return this;if(void 0===(de=j[ve]))return this;if(de===Ee||de.listener===Ee)0==--this._eventsCount?this._events=Object.create(null):(delete j[ve],j.removeListener&&this.emit("removeListener",ve,de.listener||Ee));else if("function"!=typeof de){for(ne=-1,_e=de.length-1;_e>=0;_e--)if(de[_e]===Ee||de[_e].listener===Ee){Fe=de[_e].listener,ne=_e;break}if(ne<0)return this;0===ne?de.shift():function(Me,lt){for(;lt+1<Me.length;lt++)Me[lt]=Me[lt+1];Me.pop()}(de,ne),1===de.length&&(j[ve]=de[0]),void 0!==j.removeListener&&this.emit("removeListener",ve,Fe||Ee)}return this},z.prototype.off=z.prototype.removeListener,z.prototype.removeAllListeners=function(ve){var Ee,de,j;if(void 0===(de=this._events))return this;if(void 0===de.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==de[ve]&&(0==--this._eventsCount?this._events=Object.create(null):delete de[ve]),this;if(0===arguments.length){var ne,_e=Object.keys(de);for(j=0;j<_e.length;++j)"removeListener"!==(ne=_e[j])&&this.removeAllListeners(ne);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(Ee=de[ve]))this.removeListener(ve,Ee);else if(void 0!==Ee)for(j=Ee.length-1;j>=0;j--)this.removeListener(ve,Ee[j]);return this},z.prototype.listeners=function(ve){return ce(this,ve,!0)},z.prototype.rawListeners=function(ve){return ce(this,ve,!1)},z.listenerCount=function(ve,Ee){return"function"==typeof ve.listenerCount?ve.listenerCount(Ee):be.call(ve,Ee)},z.prototype.listenerCount=be,z.prototype.eventNames=function(){return this._eventsCount>0?ae(this._events):[]},Qe.prototype.next=function(){if(this.done)return{done:!0};var ve=this._next();return ve.done&&(this.done=!0),ve},typeof Symbol<"u"&&(Qe.prototype[Symbol.iterator]=function(){return this}),Qe.of=function(){var ve=arguments,Ee=ve.length,de=0;return new Qe(function(){return de>=Ee?{done:!0}:{done:!1,value:ve[de++]}})},Qe.empty=function(){var ve=new Qe(null);return ve.done=!0,ve},Qe.is=function(ve){return ve instanceof Qe||"object"==typeof ve&&null!==ve&&"function"==typeof ve.next};var Ke=Qe,Ie=function(ve,Ee){for(var de,j=arguments.length>1?Ee:1/0,ne=j!==1/0?new Array(j):[],_e=0;;){if(_e===j)return ne;if((de=ve.next()).done)return _e!==Ee?ne.slice(0,_e):ne;ne[_e++]=de.value}},ze=function(ve){function Ee(de,j){var ne;return(ne=ve.call(this)||this).name="GraphError",ne.message=de||"",ne.data=j||{},ne}return m(Ee,ve),Ee}(O(Error)),Te=function(ve){function Ee(de,j){var ne;return(ne=ve.call(this,de,j)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(g(ne),Ee.prototype.constructor),ne}return m(Ee,ve),Ee}(ze),Ue=function(ve){function Ee(de,j){var ne;return(ne=ve.call(this,de,j)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(g(ne),Ee.prototype.constructor),ne}return m(Ee,ve),Ee}(ze),ue=function(ve){function Ee(de,j){var ne;return(ne=ve.call(this,de,j)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(g(ne),Ee.prototype.constructor),ne}return m(Ee,ve),Ee}(ze);function Ae(ve,Ee){this.key=ve,this.attributes=Ee,this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.directedSelfLoops=0,this.undirectedSelfLoops=0,this.in={},this.out={},this.undirected={}}function rt(ve,Ee){this.key=ve,this.attributes=Ee,this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}}function pt(ve,Ee){this.key=ve,this.attributes=Ee,this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}}function Je(ve,Ee,de,j,ne,_e){this.key=Ee,this.attributes=_e,this.undirected=ve,this.source=j,this.target=ne,this.generatedKey=de}function me(ve,Ee,de,j,ne,_e,Fe){var Me,lt,Pt="out",Ht="in";if(Ee&&(Pt=Ht="undirected"),ve.multi){if(void 0===(lt=(Me=_e[Pt])[ne])&&(Me[ne]=lt=new Set),lt.add(de),j===ne&&Ee)return;void 0===(Me=Fe[Ht])[j]&&(Me[j]=lt)}else{if(_e[Pt][ne]=de,j===ne&&Ee)return;Fe[Ht][j]=de}}rt.prototype.upgradeToMixed=function(){this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}},pt.prototype.upgradeToMixed=function(){this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}};var T=[{name:function(ve){return"get".concat(ve,"Attribute")},attacher:function(ve,Ee,de){ve.prototype[Ee]=function(j,ne){var _e;if("mixed"!==this.type&&"mixed"!==de&&de!==this.type)throw new ue("Graph.".concat(Ee,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Ee,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Fe=""+j,Me=""+ne;if(ne=arguments[2],!(_e=M(this,Fe,Me,de)))throw new Ue("Graph.".concat(Ee,': could not find an edge for the given path ("').concat(Fe,'" - "').concat(Me,'").'))}else if(!(_e=this._edges.get(j=""+j)))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" edge in the graph.'));if("mixed"!==de&&_e.undirected!==("undirected"===de))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" ').concat(de," edge in the graph."));return _e.attributes[ne]}}},{name:function(ve){return"get".concat(ve,"Attributes")},attacher:function(ve,Ee,de){ve.prototype[Ee]=function(j){var ne;if("mixed"!==this.type&&"mixed"!==de&&de!==this.type)throw new ue("Graph.".concat(Ee,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new ue("Graph.".concat(Ee,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var _e=""+j,Fe=""+arguments[1];if(!(ne=M(this,_e,Fe,de)))throw new Ue("Graph.".concat(Ee,': could not find an edge for the given path ("').concat(_e,'" - "').concat(Fe,'").'))}else if(!(ne=this._edges.get(j=""+j)))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" edge in the graph.'));if("mixed"!==de&&ne.undirected!==("undirected"===de))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" ').concat(de," edge in the graph."));return ne.attributes}}},{name:function(ve){return"has".concat(ve,"Attribute")},attacher:function(ve,Ee,de){ve.prototype[Ee]=function(j,ne){var _e;if("mixed"!==this.type&&"mixed"!==de&&de!==this.type)throw new ue("Graph.".concat(Ee,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Ee,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Fe=""+j,Me=""+ne;if(ne=arguments[2],!(_e=M(this,Fe,Me,de)))throw new Ue("Graph.".concat(Ee,': could not find an edge for the given path ("').concat(Fe,'" - "').concat(Me,'").'))}else if(!(_e=this._edges.get(j=""+j)))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" edge in the graph.'));if("mixed"!==de&&_e.undirected!==("undirected"===de))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" ').concat(de," edge in the graph."));return _e.attributes.hasOwnProperty(ne)}}},{name:function(ve){return"set".concat(ve,"Attribute")},attacher:function(ve,Ee,de){ve.prototype[Ee]=function(j,ne,_e){var Fe;if("mixed"!==this.type&&"mixed"!==de&&de!==this.type)throw new ue("Graph.".concat(Ee,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new ue("Graph.".concat(Ee,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Me=""+j,lt=""+ne;if(ne=arguments[2],_e=arguments[3],!(Fe=M(this,Me,lt,de)))throw new Ue("Graph.".concat(Ee,': could not find an edge for the given path ("').concat(Me,'" - "').concat(lt,'").'))}else if(!(Fe=this._edges.get(j=""+j)))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" edge in the graph.'));if("mixed"!==de&&Fe.undirected!==("undirected"===de))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" ').concat(de," edge in the graph."));return Fe.attributes[ne]=_e,this.emit("edgeAttributesUpdated",{key:Fe.key,type:"set",attributes:Fe.attributes,name:ne}),this}}},{name:function(ve){return"update".concat(ve,"Attribute")},attacher:function(ve,Ee,de){ve.prototype[Ee]=function(j,ne,_e){var Fe;if("mixed"!==this.type&&"mixed"!==de&&de!==this.type)throw new ue("Graph.".concat(Ee,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new ue("Graph.".concat(Ee,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Me=""+j,lt=""+ne;if(ne=arguments[2],_e=arguments[3],!(Fe=M(this,Me,lt,de)))throw new Ue("Graph.".concat(Ee,': could not find an edge for the given path ("').concat(Me,'" - "').concat(lt,'").'))}else if(!(Fe=this._edges.get(j=""+j)))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" edge in the graph.'));if("function"!=typeof _e)throw new Te("Graph.".concat(Ee,": updater should be a function."));if("mixed"!==de&&Fe.undirected!==("undirected"===de))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" ').concat(de," edge in the graph."));return Fe.attributes[ne]=_e(Fe.attributes[ne]),this.emit("edgeAttributesUpdated",{key:Fe.key,type:"set",attributes:Fe.attributes,name:ne}),this}}},{name:function(ve){return"remove".concat(ve,"Attribute")},attacher:function(ve,Ee,de){ve.prototype[Ee]=function(j,ne){var _e;if("mixed"!==this.type&&"mixed"!==de&&de!==this.type)throw new ue("Graph.".concat(Ee,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Ee,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Fe=""+j,Me=""+ne;if(ne=arguments[2],!(_e=M(this,Fe,Me,de)))throw new Ue("Graph.".concat(Ee,': could not find an edge for the given path ("').concat(Fe,'" - "').concat(Me,'").'))}else if(!(_e=this._edges.get(j=""+j)))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" edge in the graph.'));if("mixed"!==de&&_e.undirected!==("undirected"===de))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" ').concat(de," edge in the graph."));return delete _e.attributes[ne],this.emit("edgeAttributesUpdated",{key:_e.key,type:"remove",attributes:_e.attributes,name:ne}),this}}},{name:function(ve){return"replace".concat(ve,"Attributes")},attacher:function(ve,Ee,de){ve.prototype[Ee]=function(j,ne){var _e;if("mixed"!==this.type&&"mixed"!==de&&de!==this.type)throw new ue("Graph.".concat(Ee,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Ee,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Fe=""+j,Me=""+ne;if(ne=arguments[2],!(_e=M(this,Fe,Me,de)))throw new Ue("Graph.".concat(Ee,': could not find an edge for the given path ("').concat(Fe,'" - "').concat(Me,'").'))}else if(!(_e=this._edges.get(j=""+j)))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" edge in the graph.'));if(!I(ne))throw new Te("Graph.".concat(Ee,": provided attributes are not a plain object."));if("mixed"!==de&&_e.undirected!==("undirected"===de))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" ').concat(de," edge in the graph."));return _e.attributes=ne,this.emit("edgeAttributesUpdated",{key:_e.key,type:"replace",attributes:_e.attributes}),this}}},{name:function(ve){return"merge".concat(ve,"Attributes")},attacher:function(ve,Ee,de){ve.prototype[Ee]=function(j,ne){var _e;if("mixed"!==this.type&&"mixed"!==de&&de!==this.type)throw new ue("Graph.".concat(Ee,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Ee,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Fe=""+j,Me=""+ne;if(ne=arguments[2],!(_e=M(this,Fe,Me,de)))throw new Ue("Graph.".concat(Ee,': could not find an edge for the given path ("').concat(Fe,'" - "').concat(Me,'").'))}else if(!(_e=this._edges.get(j=""+j)))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" edge in the graph.'));if(!I(ne))throw new Te("Graph.".concat(Ee,": provided attributes are not a plain object."));if("mixed"!==de&&_e.undirected!==("undirected"===de))throw new Ue("Graph.".concat(Ee,': could not find the "').concat(j,'" ').concat(de," edge in the graph."));return y(_e.attributes,ne),this.emit("edgeAttributesUpdated",{key:_e.key,type:"merge",attributes:_e.attributes,data:ne}),this}}}],se=Ke,ie=function(){var ve,Ee=arguments,de=-1;return new se(function j(){if(!ve){if(++de>=Ee.length)return{done:!0};ve=Ee[de]}var ne=ve.next();return ne.done?(ve=null,j()):ne})},He=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function Ze(ve,Ee){for(var de in Ee)ve.push(Ee[de].key)}function he(ve,Ee){for(var de in Ee)Ee[de].forEach(function(j){return ve.push(j.key)})}function re(ve,Ee,de){for(var j in ve)if(j!==de){var ne=ve[j];Ee(ne.key,ne.attributes,ne.source.key,ne.target.key,ne.source.attributes,ne.target.attributes,ne.undirected,ne.generatedKey)}}function W(ve,Ee,de){for(var j in ve)j!==de&&ve[j].forEach(function(ne){return Ee(ne.key,ne.attributes,ne.source.key,ne.target.key,ne.source.attributes,ne.target.attributes,ne.undirected,ne.generatedKey)})}function N(ve,Ee,de){for(var j in ve)if(j!==de){var ne=ve[j];if(Ee(ne.key,ne.attributes,ne.source.key,ne.target.key,ne.source.attributes,ne.target.attributes,ne.undirected,ne.generatedKey))return!0}return!1}function V(ve,Ee,de){var j,ne,_e,Fe,Me;for(var lt in ve)if(lt!==de)for(j=ve[lt].values();!0!==(ne=j.next()).done;)if(Fe=(_e=ne.value).source,Ee(_e.key,_e.attributes,Fe.key,(Me=_e.target).key,Fe.attributes,Me.attributes,_e.undirected,_e.generatedKey))return!0;return!1}function fe(ve,Ee){var de=Object.keys(ve),j=de.length,ne=null,_e=0;return new Ke(function Fe(){var Me;if(ne){var lt=ne.next();if(lt.done)return ne=null,_e++,Fe();Me=lt.value}else{if(_e>=j)return{done:!0};var Pt=de[_e];if(Pt===Ee)return _e++,Fe();if((Me=ve[Pt])instanceof Set)return ne=Me.values(),Fe();_e++}return{done:!1,value:[Me.key,Me.attributes,Me.source.key,Me.target.key,Me.source.attributes,Me.target.attributes]}})}function We(ve,Ee,de){var j=Ee[de];j&&ve.push(j.key)}function ye(ve,Ee,de){var j=Ee[de];j&&j.forEach(function(ne){return ve.push(ne.key)})}function je(ve,Ee,de){var j=ve[Ee];if(j){var ne=j.source,_e=j.target;de(j.key,j.attributes,ne.key,_e.key,ne.attributes,_e.attributes,j.undirected,j.generatedKey)}}function at(ve,Ee,de){var j=ve[Ee];j&&j.forEach(function(ne){return de(ne.key,ne.attributes,ne.source.key,ne.target.key,ne.source.attributes,ne.target.attributes,ne.undirected,ne.generatedKey)})}function vt(ve,Ee,de){var j=ve[Ee];if(j){var ne=j.source,_e=j.target;return de(j.key,j.attributes,ne.key,_e.key,ne.attributes,_e.attributes,j.undirected,j.generatedKey)}}function wt(ve,Ee,de){var j=ve[Ee];if(j){for(var ne,_e,Fe=j.values();!0!==(ne=Fe.next()).done;)if(de((_e=ne.value).key,_e.attributes,_e.source.key,_e.target.key,_e.source.attributes,_e.target.attributes,_e.undirected,_e.generatedKey))return!0;return!1}}function At(ve,Ee){var de=ve[Ee];if(de instanceof Set){var j=de.values();return new Ke(function(){var ne=j.next();if(ne.done)return ne;var _e=ne.value;return{done:!1,value:[_e.key,_e.attributes,_e.source.key,_e.target.key,_e.source.attributes,_e.target.attributes]}})}return Ke.of([de.key,de.attributes,de.source.key,de.target.key,de.source.attributes,de.target.attributes])}var qn=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function ur(ve,Ee){if(void 0!==Ee)for(var de in Ee)ve.add(de)}function Or(ve,Ee,de){for(var j in Ee){var ne=Ee[j];ne instanceof Set&&(ne=ne.values().next().value);var _e=ne.source,Me=_e===ve?ne.target:_e;de(Me.key,Me.attributes)}}function is(ve,Ee,de,j){for(var ne in de){var _e=de[ne];_e instanceof Set&&(_e=_e.values().next().value);var Fe=_e.source,lt=Fe===Ee?_e.target:Fe;ve.has(lt.key)||(ve.add(lt.key),j(lt.key,lt.attributes))}}function rs(ve,Ee,de){for(var j in Ee){var ne=Ee[j];ne instanceof Set&&(ne=ne.values().next().value);var _e=ne.source,Me=_e===ve?ne.target:_e;if(de(Me.key,Me.attributes))return!0}return!1}function ar(ve,Ee,de,j){for(var ne in de){var _e=de[ne];_e instanceof Set&&(_e=_e.values().next().value);var Fe=_e.source,lt=Fe===Ee?_e.target:Fe;if(!ve.has(lt.key)&&(ve.add(lt.key),j(lt.key,lt.attributes)))return!0}return!1}function os(ve,Ee){var de=Object.keys(Ee),j=de.length,ne=0;return new Ke(function(){if(ne>=j)return{done:!0};var _e=Ee[de[ne++]];_e instanceof Set&&(_e=_e.values().next().value);var Fe=_e.source,lt=Fe===ve?_e.target:Fe;return{done:!1,value:[lt.key,lt.attributes]}})}function ha(ve,Ee,de){var j=Object.keys(de),ne=j.length,_e=0;return new Ke(function Fe(){if(_e>=ne)return{done:!0};var Me=de[j[_e++]];Me instanceof Set&&(Me=Me.values().next().value);var lt=Me.source,Ht=lt===Ee?Me.target:lt;return ve.has(Ht.key)?Fe():(ve.add(Ht.key),{done:!1,value:[Ht.key,Ht.attributes]})})}function Ge(ve,Ee,de){for(var j,ne,_e,Fe,Me,lt,Pt,Ht=Ee._nodes.values(),en=Ee.type;!0!==(j=Ht.next()).done;){if(ne=j.value,"undirected"!==en)for(_e in Fe=ne.out)if(lt=(Me=Fe[_e]).target,Pt=de(ne.key,lt.key,ne.attributes,lt.attributes,Me.key,Me.attributes,Me.undirected,Me.generatedKey),ve&&Pt)return;if("directed"!==en)for(_e in Fe=ne.undirected)if((lt=(Me=Fe[_e]).target).key!==_e&&(lt=Me.source),Pt=de(ne.key,lt.key,ne.attributes,lt.attributes,Me.key,Me.attributes,Me.undirected,Me.generatedKey),ve&&Pt)return}}function $e(ve,Ee,de){for(var j,ne,_e,Fe,Me,lt,Pt,Ht,en,Tn=Ee._nodes.values(),Rn=Ee.type;!0!==(j=Tn.next()).done;){if(ne=j.value,"undirected"!==Rn)for(_e in lt=ne.out)for(Fe=lt[_e].values();!0!==(Me=Fe.next()).done;)if(Ht=(Pt=Me.value).target,en=de(ne.key,Ht.key,ne.attributes,Ht.attributes,Pt.key,Pt.attributes,Pt.undirected,Pt.generatedKey),ve&&en)return;if("directed"!==Rn)for(_e in lt=ne.undirected)for(Fe=lt[_e].values();!0!==(Me=Fe.next()).done;)if((Ht=(Pt=Me.value).target).key!==_e&&(Ht=Pt.source),en=de(ne.key,Ht.key,ne.attributes,Ht.attributes,Pt.key,Pt.attributes,Pt.undirected,Pt.generatedKey),ve&&en)return}}function nn(ve,Ee){var de={key:ve};return F(Ee.attributes)||(de.attributes=y({},Ee.attributes)),de}function sn(ve,Ee){var de={source:Ee.source.key,target:Ee.target.key};return Ee.generatedKey||(de.key=ve),F(Ee.attributes)||(de.attributes=y({},Ee.attributes)),Ee.undirected&&(de.undirected=!0),de}var Qt=new Set(["directed","undirected","mixed"]),Ja=new Set(["domain","_events","_eventsCount","_maxListeners"]),tr={allowSelfLoops:!0,edgeKeyGenerator:null,multi:!1,type:"mixed"};function Za(ve,Ee,de){var j=new ve.NodeDataClass(Ee,de);return ve._nodes.set(Ee,j),ve.emit("nodeAdded",{key:Ee,attributes:de}),j}function Oi(ve,Ee,de,j,ne,_e,Fe,Me){if(!j&&"undirected"===ve.type)throw new ue("Graph.".concat(Ee,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(j&&"directed"===ve.type)throw new ue("Graph.".concat(Ee,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(Me&&!I(Me))throw new Te("Graph.".concat(Ee,': invalid attributes. Expecting an object but got "').concat(Me,'"'));if(_e=""+_e,Fe=""+Fe,Me=Me||{},!ve.allowSelfLoops&&_e===Fe)throw new ue("Graph.".concat(Ee,': source & target are the same ("').concat(_e,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var lt=ve._nodes.get(_e),Pt=ve._nodes.get(Fe);if(!lt)throw new Ue("Graph.".concat(Ee,': source node "').concat(_e,'" not found.'));if(!Pt)throw new Ue("Graph.".concat(Ee,': target node "').concat(Fe,'" not found.'));var Ht={key:null,undirected:j,source:_e,target:Fe,attributes:Me};if(de&&(ne=ve._edgeKeyGenerator(Ht)),ve._edges.has(ne=""+ne))throw new ue("Graph.".concat(Ee,': the "').concat(ne,'" edge already exists in the graph.'));if(!ve.multi&&(j?void 0!==lt.undirected[Fe]:void 0!==lt.out[Fe]))throw new ue("Graph.".concat(Ee,': an edge linking "').concat(_e,'" to "').concat(Fe,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var en=new Je(j,ne,de,lt,Pt,Me);return ve._edges.set(ne,en),_e===Fe?j?(lt.undirectedSelfLoops++,ve._undirectedSelfLoopCount++):(lt.directedSelfLoops++,ve._directedSelfLoopCount++):j?(lt.undirectedDegree++,Pt.undirectedDegree++):(lt.outDegree++,Pt.inDegree++),me(ve,j,en,_e,Fe,lt,Pt),j?ve._undirectedSize++:ve._directedSize++,Ht.key=ne,ve.emit("edgeAdded",Ht),ne}function si(ve,Ee,de,j,ne,_e,Fe,Me,lt){if(!j&&"undirected"===ve.type)throw new ue("Graph.".concat(Ee,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(j&&"directed"===ve.type)throw new ue("Graph.".concat(Ee,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(Me)if(lt){if("function"!=typeof Me)throw new Te("Graph.".concat(Ee,': invalid updater function. Expecting a function but got "').concat(Me,'"'))}else if(!I(Me))throw new Te("Graph.".concat(Ee,': invalid attributes. Expecting an object but got "').concat(Me,'"'));var Pt;if(_e=""+_e,Fe=""+Fe,lt&&(Pt=Me,Me=void 0),!ve.allowSelfLoops&&_e===Fe)throw new ue("Graph.".concat(Ee,': source & target are the same ("').concat(_e,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var Ht,en,Tn=ve._nodes.get(_e),Rn=ve._nodes.get(Fe);if(!de&&(Ht=ve._edges.get(ne))){if(Ht.source.key!==_e||Ht.target.key!==Fe||j&&(Ht.source.key!==Fe||Ht.target.key!==_e))throw new ue("Graph.".concat(Ee,': inconsistency detected when attempting to merge the "').concat(ne,'" edge with "').concat(_e,'" source & "').concat(Fe,'" target vs. ("').concat(Ht.source.key,'", "').concat(Ht.target.key,'").'));en=Ht}if(en||ve.multi||!Tn||(en=j?Tn.undirected[Fe]:Tn.out[Fe]),en)return(lt?Pt:Me)?(lt?(en.attributes=Pt(en.attributes),ve.emit("edgeAttributesUpdated",{type:"replace",key:en.key,attributes:en.attributes})):(y(en.attributes,Me),ve.emit("edgeAttributesUpdated",{type:"merge",key:en.key,attributes:en.attributes,data:Me})),en.key):en.key;Me=Me||{},lt&&Pt&&(Me=Pt(Me));var ao={key:null,undirected:j,source:_e,target:Fe,attributes:Me};if(de&&(ne=ve._edgeKeyGenerator(ao)),ve._edges.has(ne=""+ne))throw new ue("Graph.".concat(Ee,': the "').concat(ne,'" edge already exists in the graph.'));return Tn||(Tn=Za(ve,_e,{}),_e===Fe&&(Rn=Tn)),Rn||(Rn=Za(ve,Fe,{})),Ht=new Je(j,ne,de,Tn,Rn,Me),ve._edges.set(ne,Ht),_e===Fe?j?(Tn.undirectedSelfLoops++,ve._undirectedSelfLoopCount++):(Tn.directedSelfLoops++,ve._directedSelfLoopCount++):j?(Tn.undirectedDegree++,Rn.undirectedDegree++):(Tn.outDegree++,Rn.inDegree++),me(ve,j,Ht,_e,Fe,Tn,Rn),j?ve._undirectedSize++:ve._directedSize++,ao.key=ne,ve.emit("edgeAdded",ao),ne}var ve,Vi=function(ve){function Ee(j){var ne;if(ne=ve.call(this)||this,(j=y({},tr,j)).edgeKeyGenerator&&"function"!=typeof j.edgeKeyGenerator)throw new Te("Graph.constructor: invalid 'edgeKeyGenerator' option. Expecting a function but got \"".concat(j.edgeKeyGenerator,'".'));if("boolean"!=typeof j.multi)throw new Te("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(j.multi,'".'));if(!Qt.has(j.type))throw new Te('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(j.type,'".'));if("boolean"!=typeof j.allowSelfLoops)throw new Te("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(j.allowSelfLoops,'".'));var _e,Fe="mixed"===j.type?Ae:"directed"===j.type?rt:pt;return J(g(ne),"NodeDataClass",Fe),J(g(ne),"_attributes",{}),J(g(ne),"_nodes",new Map),J(g(ne),"_edges",new Map),J(g(ne),"_directedSize",0),J(g(ne),"_undirectedSize",0),J(g(ne),"_directedSelfLoopCount",0),J(g(ne),"_undirectedSelfLoopCount",0),J(g(ne),"_edgeKeyGenerator",j.edgeKeyGenerator||(_e=0,function(){return _e++})),J(g(ne),"_options",j),Ja.forEach(function(Me){return J(g(ne),Me,ne[Me])}),E(g(ne),"order",function(){return ne._nodes.size}),E(g(ne),"size",function(){return ne._edges.size}),E(g(ne),"directedSize",function(){return ne._directedSize}),E(g(ne),"undirectedSize",function(){return ne._undirectedSize}),E(g(ne),"selfLoopCount",function(){return ne._directedSelfLoopCount+ne._undirectedSelfLoopCount}),E(g(ne),"directedSelfLoopCount",function(){return ne._directedSelfLoopCount}),E(g(ne),"undirectedSelfLoopCount",function(){return ne._undirectedSelfLoopCount}),E(g(ne),"multi",ne._options.multi),E(g(ne),"type",ne._options.type),E(g(ne),"allowSelfLoops",ne._options.allowSelfLoops),E(g(ne),"implementation",function(){return"graphology"}),ne}m(Ee,ve);var de=Ee.prototype;return de.hasNode=function(j){return this._nodes.has(""+j)},de.hasDirectedEdge=function(j,ne){if("undirected"===this.type)return!1;if(1===arguments.length){var Fe=this._edges.get(""+j);return!!Fe&&!Fe.undirected}if(2===arguments.length){ne=""+ne;var Me=this._nodes.get(j=""+j);if(!Me)return!1;var lt=Me.out[ne];return!(!lt||this.multi&&!lt.size)}throw new Te("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},de.hasUndirectedEdge=function(j,ne){if("directed"===this.type)return!1;if(1===arguments.length){var Fe=this._edges.get(""+j);return!!Fe&&Fe.undirected}if(2===arguments.length){ne=""+ne;var Me=this._nodes.get(j=""+j);if(!Me)return!1;var lt=Me.undirected[ne];return!(!lt||this.multi&&!lt.size)}throw new Te("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},de.hasEdge=function(j,ne){if(1===arguments.length)return this._edges.has(""+j);if(2===arguments.length){ne=""+ne;var Fe=this._nodes.get(j=""+j);if(!Fe)return!1;var Me=void 0!==Fe.out&&Fe.out[ne];return Me||(Me=void 0!==Fe.undirected&&Fe.undirected[ne]),!(!Me||this.multi&&!Me.size)}throw new Te("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},de.directedEdge=function(j,ne){if("undirected"!==this.type){if(j=""+j,ne=""+ne,this.multi)throw new ue("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var _e=this._nodes.get(j);if(!_e)throw new Ue('Graph.directedEdge: could not find the "'.concat(j,'" source node in the graph.'));if(!this._nodes.has(ne))throw new Ue('Graph.directedEdge: could not find the "'.concat(ne,'" target node in the graph.'));var Fe=_e.out&&_e.out[ne]||void 0;return Fe?Fe.key:void 0}},de.undirectedEdge=function(j,ne){if("directed"!==this.type){if(j=""+j,ne=""+ne,this.multi)throw new ue("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var _e=this._nodes.get(j);if(!_e)throw new Ue('Graph.undirectedEdge: could not find the "'.concat(j,'" source node in the graph.'));if(!this._nodes.has(ne))throw new Ue('Graph.undirectedEdge: could not find the "'.concat(ne,'" target node in the graph.'));var Fe=_e.undirected&&_e.undirected[ne]||void 0;return Fe?Fe.key:void 0}},de.edge=function(j,ne){if(this.multi)throw new ue("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");ne=""+ne;var _e=this._nodes.get(j=""+j);if(!_e)throw new Ue('Graph.edge: could not find the "'.concat(j,'" source node in the graph.'));if(!this._nodes.has(ne))throw new Ue('Graph.edge: could not find the "'.concat(ne,'" target node in the graph.'));var Fe=_e.out&&_e.out[ne]||_e.undirected&&_e.undirected[ne]||void 0;if(Fe)return Fe.key},de.inDegree=function(j){var ne=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof ne)throw new Te('Graph.inDegree: Expecting a boolean but got "'.concat(ne,'" for the second parameter (allowing self-loops to be counted).'));var _e=this._nodes.get(j=""+j);if(!_e)throw new Ue('Graph.inDegree: could not find the "'.concat(j,'" node in the graph.'));return"undirected"===this.type?0:_e.inDegree+(ne?_e.directedSelfLoops:0)},de.outDegree=function(j){var ne=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof ne)throw new Te('Graph.outDegree: Expecting a boolean but got "'.concat(ne,'" for the second parameter (allowing self-loops to be counted).'));var _e=this._nodes.get(j=""+j);if(!_e)throw new Ue('Graph.outDegree: could not find the "'.concat(j,'" node in the graph.'));return"undirected"===this.type?0:_e.outDegree+(ne?_e.directedSelfLoops:0)},de.directedDegree=function(j){var ne=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof ne)throw new Te('Graph.directedDegree: Expecting a boolean but got "'.concat(ne,'" for the second parameter (allowing self-loops to be counted).'));var _e=this._nodes.get(j=""+j);if(!_e)throw new Ue('Graph.directedDegree: could not find the "'.concat(j,'" node in the graph.'));if("undirected"===this.type)return 0;var Fe=ne?_e.directedSelfLoops:0;return _e.inDegree+Fe+(_e.outDegree+Fe)},de.undirectedDegree=function(j){var ne=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof ne)throw new Te('Graph.undirectedDegree: Expecting a boolean but got "'.concat(ne,'" for the second parameter (allowing self-loops to be counted).'));var _e=this._nodes.get(j=""+j);if(!_e)throw new Ue('Graph.undirectedDegree: could not find the "'.concat(j,'" node in the graph.'));return"directed"===this.type?0:_e.undirectedDegree+2*(ne?_e.undirectedSelfLoops:0)},de.degree=function(j){var ne=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof ne)throw new Te('Graph.degree: Expecting a boolean but got "'.concat(ne,'" for the second parameter (allowing self-loops to be counted).'));var _e=this._nodes.get(j=""+j);if(!_e)throw new Ue('Graph.degree: could not find the "'.concat(j,'" node in the graph.'));var Fe=0,Me=0;return"directed"!==this.type&&(ne&&(Me=_e.undirectedSelfLoops),Fe+=_e.undirectedDegree+2*Me),"undirected"!==this.type&&(ne&&(Me=_e.directedSelfLoops),Fe+=_e.inDegree+_e.outDegree+2*Me),Fe},de.source=function(j){var ne=this._edges.get(j=""+j);if(!ne)throw new Ue('Graph.source: could not find the "'.concat(j,'" edge in the graph.'));return ne.source.key},de.target=function(j){var ne=this._edges.get(j=""+j);if(!ne)throw new Ue('Graph.target: could not find the "'.concat(j,'" edge in the graph.'));return ne.target.key},de.extremities=function(j){var ne=this._edges.get(j=""+j);if(!ne)throw new Ue('Graph.extremities: could not find the "'.concat(j,'" edge in the graph.'));return[ne.source.key,ne.target.key]},de.opposite=function(j,ne){j=""+j;var _e=this._edges.get(ne=""+ne);if(!_e)throw new Ue('Graph.opposite: could not find the "'.concat(ne,'" edge in the graph.'));var Fe=_e.source.key,Me=_e.target.key;if(j!==Fe&&j!==Me)throw new Ue('Graph.opposite: the "'.concat(j,'" node is not attached to the "').concat(ne,'" edge (').concat(Fe,", ").concat(Me,")."));return j===Fe?Me:Fe},de.hasExtremity=function(j,ne){ne=""+ne;var _e=this._edges.get(j=""+j);if(!_e)throw new Ue('Graph.hasExtremity: could not find the "'.concat(j,'" edge in the graph.'));return _e.source.key===ne||_e.target.key===ne},de.isUndirected=function(j){var ne=this._edges.get(j=""+j);if(!ne)throw new Ue('Graph.isUndirected: could not find the "'.concat(j,'" edge in the graph.'));return ne.undirected},de.isDirected=function(j){var ne=this._edges.get(j=""+j);if(!ne)throw new Ue('Graph.isDirected: could not find the "'.concat(j,'" edge in the graph.'));return!ne.undirected},de.isSelfLoop=function(j){var ne=this._edges.get(j=""+j);if(!ne)throw new Ue('Graph.isSelfLoop: could not find the "'.concat(j,'" edge in the graph.'));return ne.source===ne.target},de.hasGeneratedKey=function(j){var ne=this._edges.get(j=""+j);if(!ne)throw new Ue('Graph.hasGeneratedKey: could not find the "'.concat(j,'" edge in the graph.'));return ne.generatedKey},de.addNode=function(j,ne){return function(_e,Fe,Me){if(Me&&!I(Me))throw new Te('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(Me,'"'));if(Me=Me||{},_e._nodes.has(Fe=""+Fe))throw new ue('Graph.addNode: the "'.concat(Fe,'" node already exist in the graph.'));var lt=new _e.NodeDataClass(Fe,Me);return _e._nodes.set(Fe,lt),_e.emit("nodeAdded",{key:Fe,attributes:Me}),lt}(this,j,ne).key},de.mergeNode=function(j,ne){if(ne&&!I(ne))throw new Te('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(ne,'"'));ne=ne||{};var _e=this._nodes.get(j=""+j);return _e?(ne&&(y(_e.attributes,ne),this.emit("nodeAttributesUpdated",{type:"merge",key:j,attributes:_e.attributes,data:ne})),j):(_e=new this.NodeDataClass(j,ne),this._nodes.set(j,_e),this.emit("nodeAdded",{key:j,attributes:ne}),j)},de.updateNode=function(j,ne){if(ne&&"function"!=typeof ne)throw new Te('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(ne,'"'));var _e=this._nodes.get(j=""+j);if(_e)return ne&&(_e.attributes=ne(_e.attributes),this.emit("nodeAttributesUpdated",{type:"replace",key:j,attributes:_e.attributes})),j;var Me=ne?ne({}):{};return _e=new this.NodeDataClass(j,Me),this._nodes.set(j,_e),this.emit("nodeAdded",{key:j,attributes:Me}),j},de.dropNode=function(j){var ne=this,_e=this._nodes.get(j=""+j);if(!_e)throw new Ue('Graph.dropNode: could not find the "'.concat(j,'" node in the graph.'));this.forEachEdge(j,function(Fe){ne.dropEdge(Fe)}),this._nodes.delete(j),this.emit("nodeDropped",{key:j,attributes:_e.attributes})},de.dropEdge=function(j){var ne;if(arguments.length>1){var _e=""+arguments[0],Fe=""+arguments[1];if(!(ne=M(this,_e,Fe,this.type)))throw new Ue('Graph.dropEdge: could not find the "'.concat(_e,'" -> "').concat(Fe,'" edge in the graph.'))}else if(!(ne=this._edges.get(j=""+j)))throw new Ue('Graph.dropEdge: could not find the "'.concat(j,'" edge in the graph.'));this._edges.delete(ne.key);var lt=ne.source,Pt=ne.target,Ht=ne.attributes,en=ne.undirected;return lt===Pt?en?(lt.undirectedSelfLoops--,this._undirectedSelfLoopCount--):(lt.directedSelfLoops--,this._directedSelfLoopCount--):en?(lt.undirectedDegree--,Pt.undirectedDegree--):(lt.outDegree--,Pt.inDegree--),function B(ve,Ee,de){var j=ve.multi,ne=de.source,_e=de.target,Fe=ne.key,Me=_e.key,lt=ne[Ee?"undirected":"out"],Pt=Ee?"undirected":"in";if(Me in lt)if(j){var Ht=lt[Me];1===Ht.size?(delete lt[Me],delete _e[Pt][Fe]):Ht.delete(de)}else delete lt[Me];j||delete _e[Pt][Fe]}(this,en,ne),en?this._undirectedSize--:this._directedSize--,this.emit("edgeDropped",{key:j,attributes:Ht,source:lt.key,target:Pt.key,undirected:en}),this},de.clear=function(){this._edges.clear(),this._nodes.clear(),this.emit("cleared")},de.clearEdges=function(){this._edges.clear(),this.clearIndex(),this.emit("edgesCleared")},de.getAttribute=function(j){return this._attributes[j]},de.getAttributes=function(){return this._attributes},de.hasAttribute=function(j){return this._attributes.hasOwnProperty(j)},de.setAttribute=function(j,ne){return this._attributes[j]=ne,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:j}),this},de.updateAttribute=function(j,ne){if("function"!=typeof ne)throw new Te("Graph.updateAttribute: updater should be a function.");return this._attributes[j]=ne(this._attributes[j]),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:j}),this},de.removeAttribute=function(j){return delete this._attributes[j],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:j}),this},de.replaceAttributes=function(j){if(!I(j))throw new Te("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=j,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},de.mergeAttributes=function(j){if(!I(j))throw new Te("Graph.mergeAttributes: provided attributes are not a plain object.");return y(this._attributes,j),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:j}),this},de.getNodeAttribute=function(j,ne){var _e=this._nodes.get(j=""+j);if(!_e)throw new Ue('Graph.getNodeAttribute: could not find the "'.concat(j,'" node in the graph.'));return _e.attributes[ne]},de.getNodeAttributes=function(j){var ne=this._nodes.get(j=""+j);if(!ne)throw new Ue('Graph.getNodeAttributes: could not find the "'.concat(j,'" node in the graph.'));return ne.attributes},de.hasNodeAttribute=function(j,ne){var _e=this._nodes.get(j=""+j);if(!_e)throw new Ue('Graph.hasNodeAttribute: could not find the "'.concat(j,'" node in the graph.'));return _e.attributes.hasOwnProperty(ne)},de.setNodeAttribute=function(j,ne,_e){var Fe=this._nodes.get(j=""+j);if(!Fe)throw new Ue('Graph.setNodeAttribute: could not find the "'.concat(j,'" node in the graph.'));if(arguments.length<3)throw new Te("Graph.setNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or value, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");return Fe.attributes[ne]=_e,this.emit("nodeAttributesUpdated",{key:j,type:"set",attributes:Fe.attributes,name:ne}),this},de.updateNodeAttribute=function(j,ne,_e){var Fe=this._nodes.get(j=""+j);if(!Fe)throw new Ue('Graph.updateNodeAttribute: could not find the "'.concat(j,'" node in the graph.'));if(arguments.length<3)throw new Te("Graph.updateNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or updater, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");if("function"!=typeof _e)throw new Te("Graph.updateAttribute: updater should be a function.");var Me=Fe.attributes,lt=_e(Me[ne]);return Me[ne]=lt,this.emit("nodeAttributesUpdated",{key:j,type:"set",attributes:Fe.attributes,name:ne}),this},de.removeNodeAttribute=function(j,ne){var _e=this._nodes.get(j=""+j);if(!_e)throw new Ue('Graph.hasNodeAttribute: could not find the "'.concat(j,'" node in the graph.'));return delete _e.attributes[ne],this.emit("nodeAttributesUpdated",{key:j,type:"remove",attributes:_e.attributes,name:ne}),this},de.replaceNodeAttributes=function(j,ne){var _e=this._nodes.get(j=""+j);if(!_e)throw new Ue('Graph.replaceNodeAttributes: could not find the "'.concat(j,'" node in the graph.'));if(!I(ne))throw new Te("Graph.replaceNodeAttributes: provided attributes are not a plain object.");return _e.attributes=ne,this.emit("nodeAttributesUpdated",{key:j,type:"replace",attributes:_e.attributes}),this},de.mergeNodeAttributes=function(j,ne){var _e=this._nodes.get(j=""+j);if(!_e)throw new Ue('Graph.mergeNodeAttributes: could not find the "'.concat(j,'" node in the graph.'));if(!I(ne))throw new Te("Graph.mergeNodeAttributes: provided attributes are not a plain object.");return y(_e.attributes,ne),this.emit("nodeAttributesUpdated",{key:j,type:"merge",attributes:_e.attributes,data:ne}),this},de.updateEachNodeAttributes=function(j,ne){if("function"!=typeof j)throw new Te("Graph.updateEachNodeAttributes: expecting an updater function.");if(ne&&!L(ne))throw new Te("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var _e,Fe,Me=this._nodes.values();!0!==(_e=Me.next()).done;)(Fe=_e.value).attributes=j(Fe.key,Fe.attributes);this.emit("eachNodeAttributesUpdated",{hints:ne||null})},de.updateEachEdgeAttributes=function(j,ne){if("function"!=typeof j)throw new Te("Graph.updateEachEdgeAttributes: expecting an updater function.");if(ne&&!L(ne))throw new Te("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var _e,Fe,Me=this._edges.values();!0!==(_e=Me.next()).done;)(Fe=_e.value).attributes=j(Fe.key,Fe.attributes);this.emit("eachEdgeAttributesUpdated",{hints:ne||null})},de.forEach=function(j){if("function"!=typeof j)throw new Te("Graph.forEach: expecting a callback.");this.multi?$e(!1,this,j):Ge(!1,this,j)},de.forEachUntil=function(j){if("function"!=typeof j)throw new Te("Graph.forEach: expecting a callback.");this.multi?$e(!0,this,j):Ge(!0,this,j)},de.adjacency=function(){return this.multi?(lt=(j=this)._nodes.values(),Pt=j.type,Ht="outer",en=null,new Ke(function Tn(){var Rn;if("outer"===Ht)return!0===(Rn=lt.next()).done?Rn:(ne=Rn.value,Ht="directed",Tn());if("directed"===Ht)return"undirected"===Pt?(Ht="undirected",Tn()):(Fe=ne.out,_e=Object.keys(ne.out),Me=0,Ht="inner-directed",Tn());if("undirected"===Ht){if("directed"===Pt)return Ht="outer",Tn();Fe=ne.undirected,_e=Object.keys(ne.undirected),Me=0,Ht="inner-undirected"}if(!en&&Me>=_e.length)return Ht="inner-undirected"===Ht?"outer":"undirected",Tn();if(!en){var fo=_e[Me++];return en=Fe[fo].values(),Tn()}if((Rn=en.next()).done)return en=null,Tn();var ao=Rn.value,Fn=ao.target;return"inner-undirected"===Ht&&Fn.key===ne.key&&(Fn=ao.source),{done:!1,value:[ne.key,Fn.key,ne.attributes,Fn.attributes,ao.key,ao.attributes]}})):(Si=(Tn=this)._nodes.values(),Ec=Tn.type,So="outer",new Ke(function Cs(){var jd;if("outer"===So)return!0===(jd=Si.next()).done?jd:(Rn=jd.value,So="directed",Cs());if("directed"===So)return"undirected"===Ec?(So="undirected",Cs()):(ao=Rn.out,fo=Object.keys(Rn.out),Fn=0,So="inner-directed",Cs());if("undirected"===So){if("directed"===Ec)return So="outer",Cs();ao=Rn.undirected,fo=Object.keys(Rn.undirected),Fn=0,So="inner-undirected"}if(Fn>=fo.length)return So="inner-undirected"===So?"outer":"undirected",Cs();var zd=fo[Fn++],Gs=ao[zd],co=Gs.target;return"inner-undirected"===So&&co.key===Rn.key&&(co=Gs.source),{done:!1,value:[Rn.key,co.key,Rn.attributes,co.attributes,Gs.key,Gs.attributes]}}));var Tn,Rn,fo,ao,Fn,Si,Ec,So,j,ne,_e,Fe,Me,lt,Pt,Ht,en},de.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):Ie(this._nodes.keys(),this._nodes.size)},de.forEachNode=function(j){if("function"!=typeof j)throw new Te("Graph.forEachNode: expecting a callback.");this._nodes.forEach(function(ne,_e){j(_e,ne.attributes)})},de.forEachNodeUntil=function(j){if("function"!=typeof j)throw new Te("Graph.forEachNode: expecting a callback.");for(var ne,_e,Fe=this._nodes.values();!0!==(ne=Fe.next())&&!j((_e=ne.value).key,_e.attributes););},de.nodeEntries=function(){var j=this._nodes.values();return new Ke(function(){var ne=j.next();if(ne.done)return ne;var _e=ne.value;return{value:[_e.key,_e.attributes],done:!1}})},de.exportNode=function(j){var ne=this._nodes.get(j=""+j);if(!ne)throw new Ue('Graph.exportNode: could not find the "'.concat(j,'" node in the graph.'));return nn(j,ne)},de.exportEdge=function(j){var ne=this._edges.get(j=""+j);if(!ne)throw new Ue('Graph.exportEdge: could not find the "'.concat(j,'" edge in the graph.'));return sn(j,ne)},de.export=function(){var j=new Array(this._nodes.size),ne=0;this._nodes.forEach(function(Fe,Me){j[ne++]=nn(Me,Fe)});var _e=new Array(this._edges.size);return ne=0,this._edges.forEach(function(Fe,Me){_e[ne++]=sn(Me,Fe)}),{attributes:this.getAttributes(),nodes:j,edges:_e,options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops}}},de.importNode=function(j){var ne=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_e=function Mn(ve){return I(ve)?"key"in ve?!("attributes"in ve)||I(ve.attributes)&&null!==ve.attributes?null:"invalid-attributes":"no-key":"not-object"}(j);if(_e){if("not-object"===_e)throw new Te('Graph.importNode: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if("no-key"===_e)throw new Te("Graph.importNode: no key provided.");if("invalid-attributes"===_e)throw new Te("Graph.importNode: invalid attributes. Attributes should be a plain object, null or omitted.")}var Fe=j.key,Me=j.attributes,lt=void 0===Me?{}:Me;return ne?this.mergeNode(Fe,lt):this.addNode(Fe,lt),this},de.importEdge=function(j){var ne=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_e=function Rr(ve){return I(ve)?"source"in ve?"target"in ve?!("attributes"in ve)||I(ve.attributes)&&null!==ve.attributes?"undirected"in ve&&"boolean"!=typeof ve.undirected?"invalid-undirected":null:"invalid-attributes":"no-target":"no-source":"not-object"}(j);if(_e){if("not-object"===_e)throw new Te('Graph.importEdge: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if("no-source"===_e)throw new Te("Graph.importEdge: missing souce.");if("no-target"===_e)throw new Te("Graph.importEdge: missing target.");if("invalid-attributes"===_e)throw new Te("Graph.importEdge: invalid attributes. Attributes should be a plain object, null or omitted.");if("invalid-undirected"===_e)throw new Te("Graph.importEdge: invalid undirected. Undirected should be boolean or omitted.")}var Fe=j.source,Me=j.target,lt=j.attributes,Pt=void 0===lt?{}:lt,Ht=j.undirected,en=void 0!==Ht&&Ht;return"key"in j?(ne?en?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:en?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,j.key,Fe,Me,Pt):(ne?en?this.mergeUndirectedEdge:this.mergeDirectedEdge:en?this.addUndirectedEdge:this.addDirectedEdge).call(this,Fe,Me,Pt),this},de.import=function(j){var ne,_e,Fe,Me=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(function U(ve){return null!==ve&&"object"===K(ve)&&"function"==typeof ve.addUndirectedEdgeWithKey&&"function"==typeof ve.dropNode}(j))return this.import(j.export(),Me),this;if(!I(j))throw new Te("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(j.attributes){if(!I(j.attributes))throw new Te("Graph.import: invalid attributes. Expecting a plain object.");Me?this.mergeAttributes(j.attributes):this.replaceAttributes(j.attributes)}if(j.nodes){if(Fe=j.nodes,!Array.isArray(Fe))throw new Te("Graph.import: invalid nodes. Expecting an array.");for(ne=0,_e=Fe.length;ne<_e;ne++)this.importNode(Fe[ne],Me)}if(j.edges){if(Fe=j.edges,!Array.isArray(Fe))throw new Te("Graph.import: invalid edges. Expecting an array.");for(ne=0,_e=Fe.length;ne<_e;ne++)this.importEdge(Fe[ne],Me)}return this},de.nullCopy=function(j){return new Ee(y({},this._options,j))},de.emptyCopy=function(j){var ne=this.nullCopy(j);return this._nodes.forEach(function(_e,Fe){var Me=y({},_e.attributes);_e=new ne.NodeDataClass(Fe,Me),ne._nodes.set(Fe,_e)}),ne},de.copy=function(){var j=new Ee(this._options);return j.import(this),j},de.upgradeToMixed=function(){return"mixed"===this.type||(this._nodes.forEach(function(j){return j.upgradeToMixed()}),this._options.type="mixed",E(this,"type",this._options.type),J(this,"NodeDataClass",Ae)),this},de.upgradeToMulti=function(){return this.multi||(this._options.multi=!0,E(this,"multi",!0),(j=this)._nodes.forEach(function(ne,_e){if(ne.out)for(var Fe in ne.out){var Me=new Set;Me.add(ne.out[Fe]),ne.out[Fe]=Me,j._nodes.get(Fe).in[_e]=Me}if(ne.undirected)for(var lt in ne.undirected)if(!(lt>_e)){var Pt=new Set;Pt.add(ne.undirected[lt]),ne.undirected[lt]=Pt,j._nodes.get(lt).undirected[_e]=Pt}})),this;var j},de.clearIndex=function(){return this._nodes.forEach(function(j){void 0!==j.in&&(j.in={},j.out={}),void 0!==j.undirected&&(j.undirected={})}),this},de.toJSON=function(){return this.export()},de.toString=function(){return"[object Graph]"},de.inspect=function(){var j=this,ne={};this._nodes.forEach(function(Pt,Ht){ne[Ht]=Pt.attributes});var _e={},Fe={};this._edges.forEach(function(Pt,Ht){var en=Pt.undirected?"--":"->",Tn="",Rn="(".concat(Pt.source.key,")").concat(en,"(").concat(Pt.target.key,")");Pt.generatedKey?j.multi&&(void 0===Fe[Rn]?Fe[Rn]=0:Fe[Rn]++,Tn+="".concat(Fe[Rn],". ")):Tn+="[".concat(Ht,"]: "),_e[Tn+=Rn]=Pt.attributes});var Me={};for(var lt in this)this.hasOwnProperty(lt)&&!Ja.has(lt)&&"function"!=typeof this[lt]&&(Me[lt]=this[lt]);return Me.attributes=this._attributes,Me.nodes=ne,Me.edges=_e,J(Me,"constructor",this.constructor),Me},Ee}(Y.exports.EventEmitter);typeof Symbol<"u"&&(Vi.prototype[Symbol.for("nodejs.util.inspect.custom")]=Vi.prototype.inspect),[{name:function(ve){return"".concat(ve,"Edge")},generateKey:!0},{name:function(ve){return"".concat(ve,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(ve){return"".concat(ve,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(ve){return"".concat(ve,"EdgeWithKey")}},{name:function(ve){return"".concat(ve,"DirectedEdgeWithKey")},type:"directed"},{name:function(ve){return"".concat(ve,"UndirectedEdgeWithKey")},type:"undirected"}].forEach(function(ve){["add","merge","update"].forEach(function(Ee){var de=ve.name(Ee),j="add"===Ee?Oi:si;Vi.prototype[de]=ve.generateKey?function(ne,_e,Fe){return j(this,de,!0,"undirected"===(ve.type||this.type),null,ne,_e,Fe,"update"===Ee)}:function(ne,_e,Fe,Me){return j(this,de,!1,"undirected"===(ve.type||this.type),ne,_e,Fe,Me,"update"===Ee)}})}),typeof Symbol<"u"&&(Vi.prototype[Symbol.iterator]=Vi.prototype.adjacency),ve=Vi,T.forEach(function(Ee){var de=Ee.name,j=Ee.attacher;j(ve,de("Edge"),"mixed"),j(ve,de("DirectedEdge"),"directed"),j(ve,de("UndirectedEdge"),"undirected")}),function(ve){He.forEach(function(Ee){var j,ne,_e,Fe;_e=(j=Ee).type,Fe=j.direction,ve.prototype[ne=j.name]=function(Me,lt){if("mixed"!==_e&&"mixed"!==this.type&&_e!==this.type)return[];if(!arguments.length)return function dn(ve,Ee){if(0===ve.size)return[];if("mixed"===Ee||Ee===ve.type)return"function"==typeof Array.from?Array.from(ve._edges.keys()):Ie(ve._edges.keys(),ve._edges.size);for(var de,j,_e=new Array("undirected"===Ee?ve.undirectedSize:ve.directedSize),Fe="undirected"===Ee,Me=ve._edges.values(),lt=0;!0!==(de=Me.next()).done;)(j=de.value).undirected===Fe&&(_e[lt++]=j.key);return _e}(this,_e);if(1===arguments.length){var Pt=this._nodes.get(Me=""+Me);if(void 0===Pt)throw new Ue("Graph.".concat(ne,': could not find the "').concat(Me,'" node in the graph.'));return function Le(ve,Ee,de,j){var ne=[],_e=ve?he:Ze;return"undirected"!==Ee&&("out"!==de&&_e(ne,j.in),"in"!==de&&_e(ne,j.out),!de&&j.directedSelfLoops>0&&ne.splice(ne.lastIndexOf(j.key),1)),"directed"!==Ee&&_e(ne,j.undirected),ne}(this.multi,"mixed"===_e?this.type:_e,Fe,Pt)}if(2===arguments.length){lt=""+lt;var Ht=this._nodes.get(Me=""+Me);if(!Ht)throw new Ue("Graph.".concat(ne,':  could not find the "').concat(Me,'" source node in the graph.'));if(!this._nodes.has(lt))throw new Ue("Graph.".concat(ne,':  could not find the "').concat(lt,'" target node in the graph.'));return function An(ve,Ee,de,j,ne){var _e=Ee?ye:We,Fe=[];return"undirected"!==ve&&(void 0!==j.in&&"out"!==de&&_e(Fe,j.in,ne),void 0!==j.out&&"in"!==de&&_e(Fe,j.out,ne),!de&&j.directedSelfLoops>0&&Fe.splice(Fe.lastIndexOf(j.key),1)),"directed"!==ve&&void 0!==j.undirected&&_e(Fe,j.undirected,ne),Fe}(_e,this.multi,Fe,Ht,lt)}throw new Te("Graph.".concat(ne,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))},function(de,j){var ne=j.name,_e=j.type,Fe=j.direction,Me="forEach"+ne[0].toUpperCase()+ne.slice(1,-1);de.prototype[Me]=function(lt,Pt,Ht){if("mixed"===_e||"mixed"===this.type||_e===this.type){if(1===arguments.length)return function ge(ve,Ee,de){if(0!==ve.size)for(var j,ne,_e="mixed"!==Ee&&Ee!==ve.type,Fe="undirected"===Ee,Me=ve._edges.values();!0!==(j=Me.next()).done;)if(ne=j.value,!_e||ne.undirected===Fe){var en=ne.source,Tn=ne.target;de(ne.key,ne.attributes,en.key,Tn.key,en.attributes,Tn.attributes,ne.undirected,ne.generatedKey)}}(this,_e,Ht=lt);if(2===arguments.length){Ht=Pt;var en=this._nodes.get(lt=""+lt);if(void 0===en)throw new Ue("Graph.".concat(Me,': could not find the "').concat(lt,'" node in the graph.'));return function it(ve,Ee,de,j,ne){var _e=ve?W:re;"undirected"!==Ee&&("out"!==de&&_e(j.in,ne),"in"!==de&&_e(j.out,ne,de?null:j.key)),"directed"!==Ee&&_e(j.undirected,ne)}(this.multi,"mixed"===_e?this.type:_e,Fe,en,Ht)}if(3===arguments.length){Pt=""+Pt;var Tn=this._nodes.get(lt=""+lt);if(!Tn)throw new Ue("Graph.".concat(Me,':  could not find the "').concat(lt,'" source node in the graph.'));if(!this._nodes.has(Pt))throw new Ue("Graph.".concat(Me,':  could not find the "').concat(Pt,'" target node in the graph.'));return function Kn(ve,Ee,de,j,ne,_e){var Fe=Ee?at:je;"undirected"!==ve&&(void 0!==j.in&&"out"!==de&&Fe(j.in,ne,_e),j.key!==ne&&void 0!==j.out&&"in"!==de&&Fe(j.out,ne,_e)),"directed"!==ve&&void 0!==j.undirected&&Fe(j.undirected,ne,_e)}(_e,this.multi,Fe,Tn,Pt,Ht)}throw new Te("Graph.".concat(Me,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}}}(ve,Ee),function(de,j){var ne=j.name,_e=j.type,Fe=j.direction,Me="forEach"+ne[0].toUpperCase()+ne.slice(1,-1)+"Until";de.prototype[Me]=function(lt,Pt,Ht){if("mixed"===_e||"mixed"===this.type||_e===this.type){if(1===arguments.length)return function $(ve,Ee,de){if(0!==ve.size)for(var j,ne,_e="mixed"!==Ee&&Ee!==ve.type,Fe="undirected"===Ee,Me=ve._edges.values();!0!==(j=Me.next()).done;)if(ne=j.value,!_e||ne.undirected===Fe){var en=ne.source,Tn=ne.target;if(de(ne.key,ne.attributes,en.key,Tn.key,en.attributes,Tn.attributes,ne.undirected,ne.generatedKey))break}}(this,_e,Ht=lt);if(2===arguments.length){Ht=Pt;var en=this._nodes.get(lt=""+lt);if(void 0===en)throw new Ue("Graph.".concat(Me,': could not find the "').concat(lt,'" node in the graph.'));return function ut(ve,Ee,de,j,ne){var _e=ve?V:N;"undirected"!==Ee&&("out"!==de&&_e(j.in,ne)||"in"!==de&&_e(j.out,ne,de?null:j.key))||"directed"===Ee||_e(j.undirected,ne)}(this.multi,"mixed"===_e?this.type:_e,Fe,en,Ht)}if(3===arguments.length){Pt=""+Pt;var Tn=this._nodes.get(lt=""+lt);if(!Tn)throw new Ue("Graph.".concat(Me,':  could not find the "').concat(lt,'" source node in the graph.'));if(!this._nodes.has(Pt))throw new Ue("Graph.".concat(Me,':  could not find the "').concat(Pt,'" target node in the graph.'));return function ni(ve,Ee,de,j,ne,_e){var Fe=Ee?wt:vt;"undirected"!==ve&&(void 0!==j.in&&"out"!==de&&Fe(j.in,ne,_e)||j.key!==ne&&void 0!==j.out&&"in"!==de&&Fe(j.out,ne,_e,de?null:j.key))||"directed"===ve||void 0===j.undirected||Fe(j.undirected,ne,_e)}(_e,this.multi,Fe,Tn,Pt,Ht)}throw new Te("Graph.".concat(Me,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}}}(ve,Ee),function(de,j){var _e=j.type,Fe=j.direction,Me=j.name.slice(0,-1)+"Entries";de.prototype[Me]=function(lt,Pt){if("mixed"!==_e&&"mixed"!==this.type&&_e!==this.type)return Ke.empty();if(!arguments.length)return function oe(ve,Ee){if(0===ve.size)return Ke.empty();var de="mixed"!==Ee&&Ee!==ve.type,j="undirected"===Ee,ne=ve._edges.values();return new Ke(function(){for(var _e,Fe;;){if((_e=ne.next()).done)return _e;if(Fe=_e.value,!de||Fe.undirected===j)break}return{value:[Fe.key,Fe.attributes,Fe.source.key,Fe.target.key,Fe.source.attributes,Fe.target.attributes],done:!1}})}(this,_e);if(1===arguments.length){var Ht=this._nodes.get(lt=""+lt);if(!Ht)throw new Ue("Graph.".concat(Me,': could not find the "').concat(lt,'" node in the graph.'));return function Tt(ve,Ee,de){var j=Ke.empty();return"undirected"!==ve&&("out"!==Ee&&void 0!==de.in&&(j=ie(j,fe(de.in))),"in"!==Ee&&void 0!==de.out&&(j=ie(j,fe(de.out,Ee?null:de.key)))),"directed"!==ve&&void 0!==de.undirected&&(j=ie(j,fe(de.undirected))),j}(_e,Fe,Ht)}if(2===arguments.length){Pt=""+Pt;var en=this._nodes.get(lt=""+lt);if(!en)throw new Ue("Graph.".concat(Me,':  could not find the "').concat(lt,'" source node in the graph.'));if(!this._nodes.has(Pt))throw new Ue("Graph.".concat(Me,':  could not find the "').concat(Pt,'" target node in the graph.'));return function jn(ve,Ee,de,j){var ne=Ke.empty();return"undirected"!==ve&&(void 0!==de.in&&"out"!==Ee&&j in de.in&&(ne=ie(ne,At(de.in,j))),void 0!==de.out&&"in"!==Ee&&j in de.out&&(ne=ie(ne,At(de.out,j)))),"directed"!==ve&&void 0!==de.undirected&&j in de.undirected&&(ne=ie(ne,At(de.undirected,j))),ne}(_e,Fe,en,Pt)}throw new Te("Graph.".concat(Me,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(ve,Ee)})}(Vi),function(ve){qn.forEach(function(Ee){var j,ne,_e,Fe;_e=(j=Ee).type,Fe=j.direction,ve.prototype[ne=j.name]=function(Me){if("mixed"!==_e&&"mixed"!==this.type&&_e!==this.type)return[];if(2===arguments.length){var lt=""+arguments[0],Pt=""+arguments[1];if(!this._nodes.has(lt))throw new Ue("Graph.".concat(ne,': could not find the "').concat(lt,'" node in the graph.'));if(!this._nodes.has(Pt))throw new Ue("Graph.".concat(ne,': could not find the "').concat(Pt,'" node in the graph.'));return function Ol(ve,Ee,de,j,ne){var _e=ve._nodes.get(j);if("undirected"!==Ee){if("out"!==de&&void 0!==_e.in)for(var Fe in _e.in)if(Fe===ne)return!0;if("in"!==de&&void 0!==_e.out)for(var Me in _e.out)if(Me===ne)return!0}if("directed"!==Ee&&void 0!==_e.undirected)for(var lt in _e.undirected)if(lt===ne)return!0;return!1}(this,_e,Fe,lt,Pt)}if(1===arguments.length){var Ht=this._nodes.get(Me=""+Me);if(void 0===Ht)throw new Ue("Graph.".concat(ne,': could not find the "').concat(Me,'" node in the graph.'));return function Ta(ve,Ee,de){if("mixed"!==ve){if("undirected"===ve)return Object.keys(de.undirected);if("string"==typeof Ee)return Object.keys(de[Ee])}var j=new Set;return"undirected"!==ve&&("out"!==Ee&&ur(j,de.in),"in"!==Ee&&ur(j,de.out)),"directed"!==ve&&ur(j,de.undirected),Ie(j.values(),j.size)}("mixed"===_e?this.type:_e,Fe,Ht)}throw new Te("Graph.".concat(ne,": invalid number of arguments (expecting 1 or 2 and got ").concat(arguments.length,")."))},function xc(ve,Ee){var de=Ee.name,j=Ee.type,ne=Ee.direction,_e="forEach"+de[0].toUpperCase()+de.slice(1,-1);ve.prototype[_e]=function(Fe,Me){if("mixed"===j||"mixed"===this.type||j===this.type){var lt=this._nodes.get(Fe=""+Fe);if(void 0===lt)throw new Ue("Graph.".concat(_e,': could not find the "').concat(Fe,'" node in the graph.'));!function(Pt,Ht,en,Tn){if("mixed"!==Pt){if("undirected"===Pt)return Or(en,en.undirected,Tn);if("string"==typeof Ht)return Or(en,en[Ht],Tn)}var Rn=new Set;"undirected"!==Pt&&("out"!==Ht&&is(Rn,en,en.in,Tn),"in"!==Ht&&is(Rn,en,en.out,Tn)),"directed"!==Pt&&is(Rn,en,en.undirected,Tn)}("mixed"===j?this.type:j,ne,lt,Me)}}}(ve,Ee),function Wo(ve,Ee){var de=Ee.name,j=Ee.type,ne=Ee.direction,_e="forEach"+de[0].toUpperCase()+de.slice(1,-1)+"Until";ve.prototype[_e]=function(Fe,Me){if("mixed"===j||"mixed"===this.type||j===this.type){var lt=this._nodes.get(Fe=""+Fe);if(void 0===lt)throw new Ue("Graph.".concat(_e,': could not find the "').concat(Fe,'" node in the graph.'));!function(Pt,Ht,en,Tn){if("mixed"!==Pt){if("undirected"===Pt)return rs(en,en.undirected,Tn);if("string"==typeof Ht)return rs(en,en[Ht],Tn)}var Rn=new Set;"undirected"!==Pt&&("out"!==Ht&&ar(Rn,en,en.in,Tn)||"in"!==Ht&&ar(Rn,en,en.out,Tn))||"directed"===Pt||ar(Rn,en,en.undirected,Tn)}("mixed"===j?this.type:j,ne,lt,Me)}}}(ve,Ee),function Rl(ve,Ee){var j=Ee.type,ne=Ee.direction,_e=Ee.name.slice(0,-1)+"Entries";ve.prototype[_e]=function(Fe){if("mixed"!==j&&"mixed"!==this.type&&j!==this.type)return Ke.empty();var Me=this._nodes.get(Fe=""+Fe);if(void 0===Me)throw new Ue("Graph.".concat(_e,': could not find the "').concat(Fe,'" node in the graph.'));return function(lt,Pt,Ht){if("mixed"!==lt){if("undirected"===lt)return os(Ht,Ht.undirected);if("string"==typeof Pt)return os(Ht,Ht[Pt])}var en=Ke.empty(),Tn=new Set;return"undirected"!==lt&&("out"!==Pt&&(en=ie(en,ha(Tn,Ht,Ht.in))),"in"!==Pt&&(en=ie(en,ha(Tn,Ht,Ht.out)))),"directed"!==lt&&(en=ie(en,ha(Tn,Ht,Ht.undirected))),en}("mixed"===j?this.type:j,ne,Me)}}(ve,Ee)})}(Vi);var Lt=function(ve){function Ee(de){var j=y({type:"directed"},de);if("multi"in j&&!1!==j.multi)throw new Te("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==j.type)throw new Te('DirectedGraph.from: inconsistent "'+j.type+'" type in given options!');return ve.call(this,j)||this}return m(Ee,ve),Ee}(Vi),li=function(ve){function Ee(de){var j=y({type:"undirected"},de);if("multi"in j&&!1!==j.multi)throw new Te("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==j.type)throw new Te('UndirectedGraph.from: inconsistent "'+j.type+'" type in given options!');return ve.call(this,j)||this}return m(Ee,ve),Ee}(Vi),$o=function(ve){function Ee(de){var j=y({multi:!0},de);if("multi"in j&&!0!==j.multi)throw new Te("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return ve.call(this,j)||this}return m(Ee,ve),Ee}(Vi),ji=function(ve){function Ee(de){var j=y({type:"directed",multi:!0},de);if("multi"in j&&!0!==j.multi)throw new Te("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==j.type)throw new Te('MultiDirectedGraph.from: inconsistent "'+j.type+'" type in given options!');return ve.call(this,j)||this}return m(Ee,ve),Ee}(Vi),Co=function(ve){function Ee(de){var j=y({type:"undirected",multi:!0},de);if("multi"in j&&!0!==j.multi)throw new Te("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==j.type)throw new Te('MultiUndirectedGraph.from: inconsistent "'+j.type+'" type in given options!');return ve.call(this,j)||this}return m(Ee,ve),Ee}(Vi);function Pr(ve){ve.from=function(Ee,de){var j=y({},Ee.options,de),ne=new ve(j);return ne.import(Ee),ne}}return Pr(Vi),Pr(Lt),Pr(li),Pr($o),Pr(ji),Pr(Co),Vi.Graph=Vi,Vi.DirectedGraph=Lt,Vi.UndirectedGraph=li,Vi.MultiGraph=$o,Vi.MultiDirectedGraph=ji,Vi.MultiUndirectedGraph=Co,Vi.InvalidArgumentsGraphError=Te,Vi.NotFoundGraphError=Ue,Vi.UsageGraphError=ue,Vi}()},7271:(ee,K,m)=>{var S;!function(b,D,C,O){"use strict";var Y,g=["","webkit","Moz","MS","ms","o"],y=D.createElement("div"),M="function",U=Math.round,I=Math.abs,F=Date.now;function J(ke,Ve,ot){return setTimeout(z(ke,ot),Ve)}function E(ke,Ve,ot){return!!Array.isArray(ke)&&(L(ke,ot[Ve],ot),!0)}function L(ke,Ve,ot){var Et;if(ke)if(ke.forEach)ke.forEach(Ve,ot);else if(ke.length!==O)for(Et=0;Et<ke.length;)Ve.call(ot,ke[Et],Et,ke),Et++;else for(Et in ke)ke.hasOwnProperty(Et)&&Ve.call(ot,ke[Et],Et,ke)}function ae(ke,Ve,ot){var Et="DEPRECATED METHOD: "+Ve+"\n"+ot+" AT \n";return function(){var qt=new Error("get-stack-trace"),En=qt&&qt.stack?qt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",bi=b.console&&(b.console.warn||b.console.log);return bi&&bi.call(b.console,Et,En),ke.apply(this,arguments)}}Y="function"!=typeof Object.assign?function(Ve){if(Ve===O||null===Ve)throw new TypeError("Cannot convert undefined or null to object");for(var ot=Object(Ve),Et=1;Et<arguments.length;Et++){var qt=arguments[Et];if(qt!==O&&null!==qt)for(var En in qt)qt.hasOwnProperty(En)&&(ot[En]=qt[En])}return ot}:Object.assign;var q=ae(function(Ve,ot,Et){for(var qt=Object.keys(ot),En=0;En<qt.length;)(!Et||Et&&Ve[qt[En]]===O)&&(Ve[qt[En]]=ot[qt[En]]),En++;return Ve},"extend","Use `assign`."),Z=ae(function(Ve,ot){return q(Ve,ot,!0)},"merge","Use `assign`.");function G(ke,Ve,ot){var qt,Et=Ve.prototype;(qt=ke.prototype=Object.create(Et)).constructor=ke,qt._super=Et,ot&&Y(qt,ot)}function z(ke,Ve){return function(){return ke.apply(Ve,arguments)}}function w(ke,Ve){return typeof ke==M?ke.apply(Ve&&Ve[0]||O,Ve):ke}function R(ke,Ve){return ke===O?Ve:ke}function k(ke,Ve,ot){L(ce(Ve),function(Et){ke.addEventListener(Et,ot,!1)})}function le(ke,Ve,ot){L(ce(Ve),function(Et){ke.removeEventListener(Et,ot,!1)})}function H(ke,Ve){for(;ke;){if(ke==Ve)return!0;ke=ke.parentNode}return!1}function De(ke,Ve){return ke.indexOf(Ve)>-1}function ce(ke){return ke.trim().split(/\s+/g)}function be(ke,Ve,ot){if(ke.indexOf&&!ot)return ke.indexOf(Ve);for(var Et=0;Et<ke.length;){if(ot&&ke[Et][ot]==Ve||!ot&&ke[Et]===Ve)return Et;Et++}return-1}function Oe(ke){return Array.prototype.slice.call(ke,0)}function Ne(ke,Ve,ot){for(var Et=[],qt=[],En=0;En<ke.length;){var bi=Ve?ke[En][Ve]:ke[En];be(qt,bi)<0&&Et.push(ke[En]),qt[En]=bi,En++}return ot&&(Et=Ve?Et.sort(function(mo,ss){return mo[Ve]>ss[Ve]}):Et.sort()),Et}function Qe(ke,Ve){for(var ot,Et,qt=Ve[0].toUpperCase()+Ve.slice(1),En=0;En<g.length;){if((Et=(ot=g[En])?ot+qt:Ve)in ke)return Et;En++}return O}var Ke=1;function ze(ke){var Ve=ke.ownerDocument||ke;return Ve.defaultView||Ve.parentWindow||b}var Ue="ontouchstart"in b,ue=Qe(b,"PointerEvent")!==O,Ae=Ue&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),rt="touch",Je="mouse",B=25,T=1,ie=4,He=8,Ze=1,he=2,re=4,W=8,N=16,V=he|re,fe=W|N,We=V|fe,ye=["x","y"],je=["clientX","clientY"];function at(ke,Ve){var ot=this;this.manager=ke,this.callback=Ve,this.element=ke.element,this.target=ke.options.inputTarget,this.domHandler=function(Et){w(ke.options.enable,[ke])&&ot.handler(Et)},this.init()}function wt(ke,Ve,ot){var Et=ot.pointers.length,qt=ot.changedPointers.length,En=Ve&T&&Et-qt==0,bi=Ve&(ie|He)&&Et-qt==0;ot.isFirst=!!En,ot.isFinal=!!bi,En&&(ke.session={}),ot.eventType=Ve,function At(ke,Ve){var ot=ke.session,Et=Ve.pointers,qt=Et.length;ot.firstInput||(ot.firstInput=$(Ve)),qt>1&&!ot.firstMultiple?ot.firstMultiple=$(Ve):1===qt&&(ot.firstMultiple=!1);var En=ot.firstInput,bi=ot.firstMultiple,po=bi?bi.center:En.center,mo=Ve.center=oe(Et);Ve.timeStamp=F(),Ve.deltaTime=Ve.timeStamp-En.timeStamp,Ve.angle=Tt(po,mo),Ve.distance=ut(po,mo),function dn(ke,Ve){var ot=Ve.center,Et=ke.offsetDelta||{},qt=ke.prevDelta||{},En=ke.prevInput||{};(Ve.eventType===T||En.eventType===ie)&&(qt=ke.prevDelta={x:En.deltaX||0,y:En.deltaY||0},Et=ke.offsetDelta={x:ot.x,y:ot.y}),Ve.deltaX=qt.x+(ot.x-Et.x),Ve.deltaY=qt.y+(ot.y-Et.y)}(ot,Ve),Ve.offsetDirection=it(Ve.deltaX,Ve.deltaY);var ss=Le(Ve.deltaTime,Ve.deltaX,Ve.deltaY);Ve.overallVelocityX=ss.x,Ve.overallVelocityY=ss.y,Ve.overallVelocity=I(ss.x)>I(ss.y)?ss.x:ss.y,Ve.scale=bi?function Kn(ke,Ve){return ut(Ve[0],Ve[1],je)/ut(ke[0],ke[1],je)}(bi.pointers,Et):1,Ve.rotation=bi?function An(ke,Ve){return Tt(Ve[1],Ve[0],je)+Tt(ke[1],ke[0],je)}(bi.pointers,Et):0,Ve.maxPointers=ot.prevInput?Ve.pointers.length>ot.prevInput.maxPointers?Ve.pointers.length:ot.prevInput.maxPointers:Ve.pointers.length,function ge(ke,Ve){var qt,En,bi,po,ot=ke.lastInterval||Ve,Et=Ve.timeStamp-ot.timeStamp;if(Ve.eventType!=He&&(Et>B||ot.velocity===O)){var mo=Ve.deltaX-ot.deltaX,ss=Ve.deltaY-ot.deltaY,Ir=Le(Et,mo,ss);En=Ir.x,bi=Ir.y,qt=I(Ir.x)>I(Ir.y)?Ir.x:Ir.y,po=it(mo,ss),ke.lastInterval=Ve}else qt=ot.velocity,En=ot.velocityX,bi=ot.velocityY,po=ot.direction;Ve.velocity=qt,Ve.velocityX=En,Ve.velocityY=bi,Ve.direction=po}(ot,Ve);var Ir=ke.element;H(Ve.srcEvent.target,Ir)&&(Ir=Ve.srcEvent.target),Ve.target=Ir}(ke,ot),ke.emit("hammer.input",ot),ke.recognize(ot),ke.session.prevInput=ot}function $(ke){for(var Ve=[],ot=0;ot<ke.pointers.length;)Ve[ot]={clientX:U(ke.pointers[ot].clientX),clientY:U(ke.pointers[ot].clientY)},ot++;return{timeStamp:F(),pointers:Ve,center:oe(Ve),deltaX:ke.deltaX,deltaY:ke.deltaY}}function oe(ke){var Ve=ke.length;if(1===Ve)return{x:U(ke[0].clientX),y:U(ke[0].clientY)};for(var ot=0,Et=0,qt=0;qt<Ve;)ot+=ke[qt].clientX,Et+=ke[qt].clientY,qt++;return{x:U(ot/Ve),y:U(Et/Ve)}}function Le(ke,Ve,ot){return{x:Ve/ke||0,y:ot/ke||0}}function it(ke,Ve){return ke===Ve?Ze:I(ke)>=I(Ve)?ke<0?he:re:Ve<0?W:N}function ut(ke,Ve,ot){ot||(ot=ye);var Et=Ve[ot[0]]-ke[ot[0]],qt=Ve[ot[1]]-ke[ot[1]];return Math.sqrt(Et*Et+qt*qt)}function Tt(ke,Ve,ot){return ot||(ot=ye),180*Math.atan2(Ve[ot[1]]-ke[ot[1]],Ve[ot[0]]-ke[ot[0]])/Math.PI}at.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(ze(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&le(this.element,this.evEl,this.domHandler),this.evTarget&&le(this.target,this.evTarget,this.domHandler),this.evWin&&le(ze(this.element),this.evWin,this.domHandler)}};var ni={mousedown:T,mousemove:2,mouseup:ie},jn="mousedown",qn="mousemove mouseup";function ur(){this.evEl=jn,this.evWin=qn,this.pressed=!1,at.apply(this,arguments)}G(ur,at,{handler:function(Ve){var ot=ni[Ve.type];ot&T&&0===Ve.button&&(this.pressed=!0),2&ot&&1!==Ve.which&&(ot=ie),this.pressed&&(ot&ie&&(this.pressed=!1),this.callback(this.manager,ot,{pointers:[Ve],changedPointers:[Ve],pointerType:Je,srcEvent:Ve}))}});var Ta={pointerdown:T,pointermove:2,pointerup:ie,pointercancel:He,pointerout:He},Or={2:rt,3:"pen",4:Je,5:"kinect"},is="pointerdown",rs="pointermove pointerup pointercancel";function ar(){this.evEl=is,this.evWin=rs,at.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}b.MSPointerEvent&&!b.PointerEvent&&(is="MSPointerDown",rs="MSPointerMove MSPointerUp MSPointerCancel"),G(ar,at,{handler:function(Ve){var ot=this.store,Et=!1,qt=Ve.type.toLowerCase().replace("ms",""),En=Ta[qt],bi=Or[Ve.pointerType]||Ve.pointerType,po=bi==rt,mo=be(ot,Ve.pointerId,"pointerId");En&T&&(0===Ve.button||po)?mo<0&&(ot.push(Ve),mo=ot.length-1):En&(ie|He)&&(Et=!0),!(mo<0)&&(ot[mo]=Ve,this.callback(this.manager,En,{pointers:ot,changedPointers:[Ve],pointerType:bi,srcEvent:Ve}),Et&&ot.splice(mo,1))}});var os={touchstart:T,touchmove:2,touchend:ie,touchcancel:He};function xc(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,at.apply(this,arguments)}function Wo(ke,Ve){var ot=Oe(ke.touches),Et=Oe(ke.changedTouches);return Ve&(ie|He)&&(ot=Ne(ot.concat(Et),"identifier",!0)),[ot,Et]}G(xc,at,{handler:function(Ve){var ot=os[Ve.type];if(ot===T&&(this.started=!0),this.started){var Et=Wo.call(this,Ve,ot);ot&(ie|He)&&Et[0].length-Et[1].length==0&&(this.started=!1),this.callback(this.manager,ot,{pointers:Et[0],changedPointers:Et[1],pointerType:rt,srcEvent:Ve})}}});var Rl={touchstart:T,touchmove:2,touchend:ie,touchcancel:He},Ge="touchstart touchmove touchend touchcancel";function $e(){this.evTarget=Ge,this.targetIds={},at.apply(this,arguments)}function nn(ke,Ve){var ot=Oe(ke.touches),Et=this.targetIds;if(Ve&(2|T)&&1===ot.length)return Et[ot[0].identifier]=!0,[ot,ot];var qt,En,bi=Oe(ke.changedTouches),po=[],mo=this.target;if(En=ot.filter(function(ss){return H(ss.target,mo)}),Ve===T)for(qt=0;qt<En.length;)Et[En[qt].identifier]=!0,qt++;for(qt=0;qt<bi.length;)Et[bi[qt].identifier]&&po.push(bi[qt]),Ve&(ie|He)&&delete Et[bi[qt].identifier],qt++;return po.length?[Ne(En.concat(po),"identifier",!0),po]:void 0}G($e,at,{handler:function(Ve){var ot=Rl[Ve.type],Et=nn.call(this,Ve,ot);Et&&this.callback(this.manager,ot,{pointers:Et[0],changedPointers:Et[1],pointerType:rt,srcEvent:Ve})}});var sn=2500;function Rr(){at.apply(this,arguments);var ke=z(this.handler,this);this.touch=new $e(this.manager,ke),this.mouse=new ur(this.manager,ke),this.primaryTouch=null,this.lastTouches=[]}function Qt(ke,Ve){ke&T?(this.primaryTouch=Ve.changedPointers[0].identifier,Ja.call(this,Ve)):ke&(ie|He)&&Ja.call(this,Ve)}function Ja(ke){var Ve=ke.changedPointers[0];if(Ve.identifier===this.primaryTouch){var ot={x:Ve.clientX,y:Ve.clientY};this.lastTouches.push(ot);var Et=this.lastTouches;setTimeout(function(){var En=Et.indexOf(ot);En>-1&&Et.splice(En,1)},sn)}}function tr(ke){for(var Ve=ke.srcEvent.clientX,ot=ke.srcEvent.clientY,Et=0;Et<this.lastTouches.length;Et++){var qt=this.lastTouches[Et],En=Math.abs(Ve-qt.x),bi=Math.abs(ot-qt.y);if(En<=25&&bi<=25)return!0}return!1}G(Rr,at,{handler:function(Ve,ot,Et){var En=Et.pointerType==Je;if(!(En&&Et.sourceCapabilities&&Et.sourceCapabilities.firesTouchEvents)){if(Et.pointerType==rt)Qt.call(this,ot,Et);else if(En&&tr.call(this,Et))return;this.callback(Ve,ot,Et)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Za=Qe(y.style,"touchAction"),Oi=Za!==O,si="compute",Lt="manipulation",li="none",$o="pan-x",ji="pan-y",Co=function Ee(){if(!Oi)return!1;var ke={},Ve=b.CSS&&b.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(ot){ke[ot]=!Ve||b.CSS.supports("touch-action",ot)}),ke}();function Pr(ke,Ve){this.manager=ke,this.set(Ve)}Pr.prototype={set:function(ke){ke==si&&(ke=this.compute()),Oi&&this.manager.element.style&&Co[ke]&&(this.manager.element.style[Za]=ke),this.actions=ke.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var ke=[];return L(this.manager.recognizers,function(Ve){w(Ve.options.enable,[Ve])&&(ke=ke.concat(Ve.getTouchAction()))}),function ve(ke){if(De(ke,li))return li;var Ve=De(ke,$o),ot=De(ke,ji);return Ve&&ot?li:Ve||ot?Ve?$o:ji:De(ke,Lt)?Lt:"auto"}(ke.join(" "))},preventDefaults:function(ke){var Ve=ke.srcEvent,ot=ke.offsetDirection;if(!this.manager.session.prevented){var Et=this.actions,qt=De(Et,li)&&!Co[li],En=De(Et,ji)&&!Co[ji],bi=De(Et,$o)&&!Co[$o];if(qt&&1===ke.pointers.length&&ke.distance<2&&ke.deltaTime<250)return;return bi&&En||!(qt||En&&ot&V||bi&&ot&fe)?void 0:this.preventSrc(Ve)}Ve.preventDefault()},preventSrc:function(ke){this.manager.session.prevented=!0,ke.preventDefault()}};var de=1;function Pt(ke){this.options=Y({},this.defaults,ke||{}),this.id=function Ie(){return Ke++}(),this.manager=null,this.options.enable=R(this.options.enable,!0),this.state=de,this.simultaneous={},this.requireFail=[]}function Ht(ke){return 16&ke?"cancel":8&ke?"end":4&ke?"move":2&ke?"start":""}function en(ke){return ke==N?"down":ke==W?"up":ke==he?"left":ke==re?"right":""}function Tn(ke,Ve){var ot=Ve.manager;return ot?ot.get(ke):ke}function Rn(){Pt.apply(this,arguments)}function fo(){Rn.apply(this,arguments),this.pX=null,this.pY=null}function ao(){Rn.apply(this,arguments)}function Fn(){Pt.apply(this,arguments),this._timer=null,this._input=null}function Si(){Rn.apply(this,arguments)}function Ec(){Rn.apply(this,arguments)}function So(){Pt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Cs(ke,Ve){return(Ve=Ve||{}).recognizers=R(Ve.recognizers,Cs.defaults.preset),new Gs(ke,Ve)}function Gs(ke,Ve){this.options=Y({},Cs.defaults,Ve||{}),this.options.inputTarget=this.options.inputTarget||ke,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=ke,this.input=function vt(ke){return new(ke.options.inputClass||(ue?ar:Ae?$e:Ue?Rr:ur))(ke,wt)}(this),this.touchAction=new Pr(this,this.options.touchAction),co(this,!0),L(this.options.recognizers,function(ot){var Et=this.add(new ot[0](ot[1]));ot[2]&&Et.recognizeWith(ot[2]),ot[3]&&Et.requireFailure(ot[3])},this)}function co(ke,Ve){var Et,ot=ke.element;ot.style&&(L(ke.options.cssProps,function(qt,En){Et=Qe(ot.style,En),Ve?(ke.oldCssProps[Et]=ot.style[Et],ot.style[Et]=qt):ot.style[Et]=ke.oldCssProps[Et]||""}),Ve||(ke.oldCssProps={}))}Pt.prototype={defaults:{},set:function(ke){return Y(this.options,ke),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(ke){if(E(ke,"recognizeWith",this))return this;var Ve=this.simultaneous;return Ve[(ke=Tn(ke,this)).id]||(Ve[ke.id]=ke,ke.recognizeWith(this)),this},dropRecognizeWith:function(ke){return E(ke,"dropRecognizeWith",this)||(ke=Tn(ke,this),delete this.simultaneous[ke.id]),this},requireFailure:function(ke){if(E(ke,"requireFailure",this))return this;var Ve=this.requireFail;return-1===be(Ve,ke=Tn(ke,this))&&(Ve.push(ke),ke.requireFailure(this)),this},dropRequireFailure:function(ke){if(E(ke,"dropRequireFailure",this))return this;ke=Tn(ke,this);var Ve=be(this.requireFail,ke);return Ve>-1&&this.requireFail.splice(Ve,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(ke){return!!this.simultaneous[ke.id]},emit:function(ke){var Ve=this,ot=this.state;function Et(qt){Ve.manager.emit(qt,ke)}ot<8&&Et(Ve.options.event+Ht(ot)),Et(Ve.options.event),ke.additionalEvent&&Et(ke.additionalEvent),ot>=8&&Et(Ve.options.event+Ht(ot))},tryEmit:function(ke){if(this.canEmit())return this.emit(ke);this.state=32},canEmit:function(){for(var ke=0;ke<this.requireFail.length;){if(!(this.requireFail[ke].state&(32|de)))return!1;ke++}return!0},recognize:function(ke){var Ve=Y({},ke);if(!w(this.options.enable,[this,Ve]))return this.reset(),void(this.state=32);56&this.state&&(this.state=de),this.state=this.process(Ve),30&this.state&&this.tryEmit(Ve)},process:function(ke){},getTouchAction:function(){},reset:function(){}},G(Rn,Pt,{defaults:{pointers:1},attrTest:function(ke){var Ve=this.options.pointers;return 0===Ve||ke.pointers.length===Ve},process:function(ke){var Ve=this.state,ot=ke.eventType,Et=6&Ve,qt=this.attrTest(ke);return Et&&(ot&He||!qt)?16|Ve:Et||qt?ot&ie?8|Ve:2&Ve?4|Ve:2:32}}),G(fo,Rn,{defaults:{event:"pan",threshold:10,pointers:1,direction:We},getTouchAction:function(){var ke=this.options.direction,Ve=[];return ke&V&&Ve.push(ji),ke&fe&&Ve.push($o),Ve},directionTest:function(ke){var Ve=this.options,ot=!0,Et=ke.distance,qt=ke.direction,En=ke.deltaX,bi=ke.deltaY;return qt&Ve.direction||(Ve.direction&V?(qt=0===En?Ze:En<0?he:re,ot=En!=this.pX,Et=Math.abs(ke.deltaX)):(qt=0===bi?Ze:bi<0?W:N,ot=bi!=this.pY,Et=Math.abs(ke.deltaY))),ke.direction=qt,ot&&Et>Ve.threshold&&qt&Ve.direction},attrTest:function(ke){return Rn.prototype.attrTest.call(this,ke)&&(2&this.state||!(2&this.state)&&this.directionTest(ke))},emit:function(ke){this.pX=ke.deltaX,this.pY=ke.deltaY;var Ve=en(ke.direction);Ve&&(ke.additionalEvent=this.options.event+Ve),this._super.emit.call(this,ke)}}),G(ao,Rn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[li]},attrTest:function(ke){return this._super.attrTest.call(this,ke)&&(Math.abs(ke.scale-1)>this.options.threshold||2&this.state)},emit:function(ke){1!==ke.scale&&(ke.additionalEvent=this.options.event+(ke.scale<1?"in":"out")),this._super.emit.call(this,ke)}}),G(Fn,Pt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(ke){var Ve=this.options,ot=ke.pointers.length===Ve.pointers,Et=ke.distance<Ve.threshold,qt=ke.deltaTime>Ve.time;if(this._input=ke,!Et||!ot||ke.eventType&(ie|He)&&!qt)this.reset();else if(ke.eventType&T)this.reset(),this._timer=J(function(){this.state=8,this.tryEmit()},Ve.time,this);else if(ke.eventType&ie)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(ke){8===this.state&&(ke&&ke.eventType&ie?this.manager.emit(this.options.event+"up",ke):(this._input.timeStamp=F(),this.manager.emit(this.options.event,this._input)))}}),G(Si,Rn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[li]},attrTest:function(ke){return this._super.attrTest.call(this,ke)&&(Math.abs(ke.rotation)>this.options.threshold||2&this.state)}}),G(Ec,Rn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:V|fe,pointers:1},getTouchAction:function(){return fo.prototype.getTouchAction.call(this)},attrTest:function(ke){var ot,Ve=this.options.direction;return Ve&(V|fe)?ot=ke.overallVelocity:Ve&V?ot=ke.overallVelocityX:Ve&fe&&(ot=ke.overallVelocityY),this._super.attrTest.call(this,ke)&&Ve&ke.offsetDirection&&ke.distance>this.options.threshold&&ke.maxPointers==this.options.pointers&&I(ot)>this.options.velocity&&ke.eventType&ie},emit:function(ke){var Ve=en(ke.offsetDirection);Ve&&this.manager.emit(this.options.event+Ve,ke),this.manager.emit(this.options.event,ke)}}),G(So,Pt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Lt]},process:function(ke){var Ve=this.options,ot=ke.pointers.length===Ve.pointers,Et=ke.distance<Ve.threshold,qt=ke.deltaTime<Ve.time;if(this.reset(),ke.eventType&T&&0===this.count)return this.failTimeout();if(Et&&qt&&ot){if(ke.eventType!=ie)return this.failTimeout();var En=!this.pTime||ke.timeStamp-this.pTime<Ve.interval,bi=!this.pCenter||ut(this.pCenter,ke.center)<Ve.posThreshold;if(this.pTime=ke.timeStamp,this.pCenter=ke.center,bi&&En?this.count+=1:this.count=1,this._input=ke,0==this.count%Ve.taps)return this.hasRequireFailures()?(this._timer=J(function(){this.state=8,this.tryEmit()},Ve.interval,this),2):8}return 32},failTimeout:function(){return this._timer=J(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Cs.VERSION="2.0.7",Cs.defaults={domEvents:!1,touchAction:si,enable:!0,inputTarget:null,inputClass:null,preset:[[Si,{enable:!1}],[ao,{enable:!1},["rotate"]],[Ec,{direction:V}],[fo,{direction:V},["swipe"]],[So],[So,{event:"doubletap",taps:2},["tap"]],[Fn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Gs.prototype={set:function(ke){return Y(this.options,ke),ke.touchAction&&this.touchAction.update(),ke.inputTarget&&(this.input.destroy(),this.input.target=ke.inputTarget,this.input.init()),this},stop:function(ke){this.session.stopped=ke?2:1},recognize:function(ke){var Ve=this.session;if(!Ve.stopped){this.touchAction.preventDefaults(ke);var ot,Et=this.recognizers,qt=Ve.curRecognizer;(!qt||qt&&8&qt.state)&&(qt=Ve.curRecognizer=null);for(var En=0;En<Et.length;)ot=Et[En],2===Ve.stopped||qt&&ot!=qt&&!ot.canRecognizeWith(qt)?ot.reset():ot.recognize(ke),!qt&&14&ot.state&&(qt=Ve.curRecognizer=ot),En++}},get:function(ke){if(ke instanceof Pt)return ke;for(var Ve=this.recognizers,ot=0;ot<Ve.length;ot++)if(Ve[ot].options.event==ke)return Ve[ot];return null},add:function(ke){if(E(ke,"add",this))return this;var Ve=this.get(ke.options.event);return Ve&&this.remove(Ve),this.recognizers.push(ke),ke.manager=this,this.touchAction.update(),ke},remove:function(ke){if(E(ke,"remove",this))return this;if(ke=this.get(ke)){var Ve=this.recognizers,ot=be(Ve,ke);-1!==ot&&(Ve.splice(ot,1),this.touchAction.update())}return this},on:function(ke,Ve){if(ke!==O&&Ve!==O){var ot=this.handlers;return L(ce(ke),function(Et){ot[Et]=ot[Et]||[],ot[Et].push(Ve)}),this}},off:function(ke,Ve){if(ke!==O){var ot=this.handlers;return L(ce(ke),function(Et){Ve?ot[Et]&&ot[Et].splice(be(ot[Et],Ve),1):delete ot[Et]}),this}},emit:function(ke,Ve){this.options.domEvents&&function Ob(ke,Ve){var ot=D.createEvent("Event");ot.initEvent(ke,!0,!0),ot.gesture=Ve,Ve.target.dispatchEvent(ot)}(ke,Ve);var ot=this.handlers[ke]&&this.handlers[ke].slice();if(ot&&ot.length){Ve.type=ke,Ve.preventDefault=function(){Ve.srcEvent.preventDefault()};for(var Et=0;Et<ot.length;)ot[Et](Ve),Et++}},destroy:function(){this.element&&co(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Y(Cs,{INPUT_START:T,INPUT_MOVE:2,INPUT_END:ie,INPUT_CANCEL:He,STATE_POSSIBLE:de,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:Ze,DIRECTION_LEFT:he,DIRECTION_RIGHT:re,DIRECTION_UP:W,DIRECTION_DOWN:N,DIRECTION_HORIZONTAL:V,DIRECTION_VERTICAL:fe,DIRECTION_ALL:We,Manager:Gs,Input:at,TouchAction:Pr,TouchInput:$e,MouseInput:ur,PointerEventInput:ar,TouchMouseInput:Rr,SingleTouchInput:xc,Recognizer:Pt,AttrRecognizer:Rn,Tap:So,Pan:fo,Swipe:Ec,Pinch:ao,Rotate:Si,Press:Fn,on:k,off:le,each:L,merge:Z,extend:q,assign:Y,inherit:G,bindFn:z,prefixed:Qe}),(typeof b<"u"?b:typeof self<"u"?self:{}).Hammer=Cs,(S=function(){return Cs}.call(K,m,K,ee))!==O&&(ee.exports=S)}(window,document)},2601:(ee,K)=>{K.read=function(m,S,b,D,C){var O,g,y=8*C-D-1,M=(1<<y)-1,U=M>>1,I=-7,F=b?C-1:0,J=b?-1:1,E=m[S+F];for(F+=J,O=E&(1<<-I)-1,E>>=-I,I+=y;I>0;O=256*O+m[S+F],F+=J,I-=8);for(g=O&(1<<-I)-1,O>>=-I,I+=D;I>0;g=256*g+m[S+F],F+=J,I-=8);if(0===O)O=1-U;else{if(O===M)return g?NaN:1/0*(E?-1:1);g+=Math.pow(2,D),O-=U}return(E?-1:1)*g*Math.pow(2,O-D)},K.write=function(m,S,b,D,C,O){var g,y,M,U=8*O-C-1,I=(1<<U)-1,F=I>>1,J=23===C?Math.pow(2,-24)-Math.pow(2,-77):0,E=D?0:O-1,L=D?1:-1,ae=S<0||0===S&&1/S<0?1:0;for(S=Math.abs(S),isNaN(S)||S===1/0?(y=isNaN(S)?1:0,g=I):(g=Math.floor(Math.log(S)/Math.LN2),S*(M=Math.pow(2,-g))<1&&(g--,M*=2),(S+=g+F>=1?J/M:J*Math.pow(2,1-F))*M>=2&&(g++,M/=2),g+F>=I?(y=0,g=I):g+F>=1?(y=(S*M-1)*Math.pow(2,C),g+=F):(y=S*Math.pow(2,F-1)*Math.pow(2,C),g=0));C>=8;m[b+E]=255&y,E+=L,y/=256,C-=8);for(g=g<<C|y,U+=C;U>0;m[b+E]=255&g,E+=L,g/=256,U-=8);m[b+E-L]|=128*ae}},6698:ee=>{ee.exports="function"==typeof Object.create?function(m,S){S&&(m.super_=S,m.prototype=Object.create(S.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}))}:function(m,S){if(S){m.super_=S;var b=function(){};b.prototype=S.prototype,m.prototype=new b,m.prototype.constructor=m}}},4198:(ee,K,m)=>{"use strict";var S=m(7156).default;const{isArray:b,isObject:D,isString:C}=m(8254),{asArray:O}=m(3521),{prependBase:g}=m(2651),y=m(1874),M=m(1252);function I(J){throw new y("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:J})}function F({context:J,base:E}){if(!J)return;const L=J["@context"];if(C(L))J["@context"]=g(E,L);else if(b(L))for(let ae=0;ae<L.length;++ae){const Y=L[ae];C(Y)?L[ae]=g(E,Y):D(Y)&&F({context:{"@context":Y},base:E})}else if(D(L))for(const ae in L)F({context:L[ae],base:E})}ee.exports=class{constructor({sharedCache:E}){this.perOpCache=new Map,this.sharedCache=E}resolve({activeCtx:E,context:L,documentLoader:ae,base:Y,cycles:q=new Set}){var Z=this;return S(function*(){L&&D(L)&&L["@context"]&&(L=L["@context"]),L=O(L);const G=[];for(const z of L){if(C(z)){let k=Z._get(z);k||(k=yield Z._resolveRemoteContext({activeCtx:E,url:z,documentLoader:ae,base:Y,cycles:q})),b(k)?G.push(...k):G.push(k);continue}if(null===z){G.push(new M({document:null}));continue}D(z)||I(L);const w=JSON.stringify(z);let R=Z._get(w);R||(R=new M({document:z}),Z._cacheResolvedContext({key:w,resolved:R,tag:"static"})),G.push(R)}return G})()}_get(E){let L=this.perOpCache.get(E);if(!L){const ae=this.sharedCache.get(E);ae&&(L=ae.get("static"),L&&this.perOpCache.set(E,L))}return L}_cacheResolvedContext({key:E,resolved:L,tag:ae}){if(this.perOpCache.set(E,L),void 0!==ae){let Y=this.sharedCache.get(E);Y||(Y=new Map,this.sharedCache.set(E,Y)),Y.set(ae,L)}return L}_resolveRemoteContext({activeCtx:E,url:L,documentLoader:ae,base:Y,cycles:q}){var Z=this;return S(function*(){L=g(Y,L);const{context:G,remoteDoc:z}=yield Z._fetchContext({activeCtx:E,url:L,documentLoader:ae,cycles:q});F({context:G,base:Y=z.documentUrl||L});const w=yield Z.resolve({activeCtx:E,context:G,documentLoader:ae,base:Y,cycles:q});return Z._cacheResolvedContext({key:L,resolved:w,tag:z.tag}),w})()}_fetchContext({activeCtx:E,url:L,documentLoader:ae,cycles:Y}){return S(function*(){if(Y.size>10)throw new y("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===E.processingMode?"loading remote context failed":"context overflow",max:10});if(Y.has(L))throw new y("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===E.processingMode?"recursive context inclusion":"context overflow",url:L});let q,Z;Y.add(L);try{Z=yield ae(L),q=Z.document||null,C(q)&&(q=JSON.parse(q))}catch(G){throw new y("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:L,cause:G})}if(!D(q))throw new y("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:L});return q="@context"in q?{"@context":q["@context"]}:{"@context":{}},Z.contextUrl&&(b(q["@context"])||(q["@context"]=[q["@context"]]),q["@context"].push(Z.contextUrl)),{context:q,remoteDoc:Z}})()}}},1874:ee=>{"use strict";ee.exports=class extends Error{constructor(m="An unspecified JSON-LD error occurred.",S="jsonld.Error",b={}){super(m),this.name=S,this.message=m,this.details=b}}},1828:ee=>{"use strict";ee.exports=K=>{class m{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(m,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(m.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:m}),m.compact=function(S,b){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):K.compact(S,b)},m.expand=function(S){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):K.expand(S)},m.flatten=function(S){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):K.flatten(S)},m}},7260:(ee,K,m)=>{"use strict";ee.exports=m(1986).NQuads},4044:(ee,K,m)=>{"use strict";var S=m(7156).default;ee.exports=class{constructor(){this._requests={}}wrapLoader(D){const C=this;return C._loader=D,function(){return C.add.apply(C,arguments)}}add(D){var C=this;return S(function*(){let O=C._requests[D];if(O)return Promise.resolve(O);O=C._requests[D]=C._loader(D);try{return yield O}finally{delete C._requests[D]}})()}}},1252:(ee,K,m)=>{"use strict";const S=m(1072);ee.exports=class{constructor({document:C}){this.document=C,this.cache=new S({max:10})}getProcessed(C){return this.cache.get(C)}setProcessed(C,O){this.cache.set(C,O)}}},8809:(ee,K,m)=>{"use strict";var S=m(7156).default;const b=m(1874),{isArray:D,isObject:C,isString:O,isUndefined:g}=m(8254),{isList:y,isValue:M,isGraph:U,isSimpleGraph:I,isSubjectReference:F}=m(543),{expandIri:J,getContextValue:E,isKeyword:L,process:ae,processingMode:Y}=m(9611),{removeBase:q,prependBase:Z}=m(2651),{REGEX_KEYWORD:G,addValue:z,asArray:w,compareShortestLeast:R}=m(3521),k={};function H(De,ce,be){if("@nest"!==J(De,ce,{vocab:!0},be))throw new b("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}ee.exports=k,k.compact=function(){var De=S(function*({activeCtx:ce,activeProperty:be=null,element:Oe,options:Ne={}}){if(D(Oe)){let Ke=[];for(let Ie=0;Ie<Oe.length;++Ie){const ze=yield k.compact({activeCtx:ce,activeProperty:be,element:Oe[Ie],options:Ne});null!==ze&&Ke.push(ze)}return Ne.compactArrays&&1===Ke.length&&0===(E(ce,be,"@container")||[]).length&&(Ke=Ke[0]),Ke}const Qe=E(ce,be,"@context");if(g(Qe)||(ce=yield ae({activeCtx:ce,localCtx:Qe,propagate:!0,overrideProtected:!0,options:Ne})),C(Oe)){if(Ne.link&&"@id"in Oe&&Ne.link.hasOwnProperty(Oe["@id"])){const rt=Ne.link[Oe["@id"]];for(let pt=0;pt<rt.length;++pt)if(rt[pt].expanded===Oe)return rt[pt].compacted}if(M(Oe)||F(Oe)){const rt=k.compactValue({activeCtx:ce,activeProperty:be,value:Oe,options:Ne});return Ne.link&&F(Oe)&&(Ne.link.hasOwnProperty(Oe["@id"])||(Ne.link[Oe["@id"]]=[]),Ne.link[Oe["@id"]].push({expanded:Oe,compacted:rt})),rt}if(y(Oe)&&(E(ce,be,"@container")||[]).includes("@list"))return k.compact({activeCtx:ce,activeProperty:be,element:Oe["@list"],options:Ne});const Ke="@reverse"===be,Ie={},ze=ce;!M(Oe)&&!F(Oe)&&(ce=ce.revertToPreviousContext());const Te=E(ze,be,"@context");g(Te)||(ce=yield ae({activeCtx:ce,localCtx:Te,propagate:!0,overrideProtected:!0,options:Ne})),Ne.link&&"@id"in Oe&&(Ne.link.hasOwnProperty(Oe["@id"])||(Ne.link[Oe["@id"]]=[]),Ne.link[Oe["@id"]].push({expanded:Oe,compacted:Ie}));let Ue=Oe["@type"]||[];Ue.length>1&&(Ue=Array.from(Ue).sort());const ue=ce;for(const rt of Ue){const pt=k.compactIri({activeCtx:ue,iri:rt,relativeTo:{vocab:!0}}),Je=E(ze,pt,"@context");g(Je)||(ce=yield ae({activeCtx:ce,localCtx:Je,options:Ne,propagate:!1}))}const Ae=Object.keys(Oe).sort();for(const rt of Ae){const pt=Oe[rt];if("@id"!==rt)if("@type"!==rt)if("@reverse"!==rt)if("@preserve"!==rt)if("@index"!==rt)if("@graph"!==rt&&"@list"!==rt&&"@included"!==rt&&L(rt)){const Je=k.compactIri({activeCtx:ce,iri:rt,relativeTo:{vocab:!0}});z(Ie,Je,pt)}else{if(!D(pt))throw new b("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===pt.length){const Je=k.compactIri({activeCtx:ce,iri:rt,value:pt,relativeTo:{vocab:!0},reverse:Ke}),me=ce.mappings.has(Je)?ce.mappings.get(Je)["@nest"]:null;let B=Ie;me&&(H(ce,me,Ne),C(Ie[me])||(Ie[me]={}),B=Ie[me]),z(B,Je,pt,{propertyIsArray:!0})}for(const Je of pt){const me=k.compactIri({activeCtx:ce,iri:rt,value:Je,relativeTo:{vocab:!0},reverse:Ke}),B=ce.mappings.has(me)?ce.mappings.get(me)["@nest"]:null;let T=Ie;B&&(H(ce,B,Ne),C(Ie[B])||(Ie[B]={}),T=Ie[B]);const se=E(ce,me,"@container")||[],ie=U(Je),He=y(Je);let Ze;He?Ze=Je["@list"]:ie&&(Ze=Je["@graph"]);let he=yield k.compact({activeCtx:ce,activeProperty:me,element:He||ie?Ze:Je,options:Ne});if(He){if(D(he)||(he=[he]),se.includes("@list")){z(T,me,he,{valueIsArray:!0,allowDuplicate:!0});continue}he={[k.compactIri({activeCtx:ce,iri:"@list",relativeTo:{vocab:!0}})]:he},"@index"in Je&&(he[k.compactIri({activeCtx:ce,iri:"@index",relativeTo:{vocab:!0}})]=Je["@index"])}if(ie)if(se.includes("@graph")&&(se.includes("@id")||se.includes("@index")&&I(Je))){let re;T.hasOwnProperty(me)?re=T[me]:T[me]=re={};const W=(se.includes("@id")?Je["@id"]:Je["@index"])||k.compactIri({activeCtx:ce,iri:"@none",relativeTo:{vocab:!0}});z(re,W,he,{propertyIsArray:!Ne.compactArrays||se.includes("@set")})}else se.includes("@graph")&&I(Je)?(D(he)&&he.length>1&&(he={"@included":he}),z(T,me,he,{propertyIsArray:!Ne.compactArrays||se.includes("@set")})):(D(he)&&1===he.length&&Ne.compactArrays&&(he=he[0]),he={[k.compactIri({activeCtx:ce,iri:"@graph",relativeTo:{vocab:!0}})]:he},"@id"in Je&&(he[k.compactIri({activeCtx:ce,iri:"@id",relativeTo:{vocab:!0}})]=Je["@id"]),"@index"in Je&&(he[k.compactIri({activeCtx:ce,iri:"@index",relativeTo:{vocab:!0}})]=Je["@index"]),z(T,me,he,{propertyIsArray:!Ne.compactArrays||se.includes("@set")}));else if(se.includes("@language")||se.includes("@index")||se.includes("@id")||se.includes("@type")){let re,W;if(T.hasOwnProperty(me)?re=T[me]:T[me]=re={},se.includes("@language"))M(he)&&(he=he["@value"]),W=Je["@language"];else if(se.includes("@index")){const N=E(ce,me,"@index")||"@index",V=k.compactIri({activeCtx:ce,iri:N,relativeTo:{vocab:!0}});if("@index"===N)W=Je["@index"],delete he[V];else{let fe;if([W,...fe]=w(he[N]||[]),O(W))switch(fe.length){case 0:delete he[N];break;case 1:he[N]=fe[0];break;default:he[N]=fe}else W=null}}else if(se.includes("@id")){const N=k.compactIri({activeCtx:ce,iri:"@id",relativeTo:{vocab:!0}});W=he[N],delete he[N]}else if(se.includes("@type")){const N=k.compactIri({activeCtx:ce,iri:"@type",relativeTo:{vocab:!0}});let V;switch([W,...V]=w(he[N]||[]),V.length){case 0:delete he[N];break;case 1:he[N]=V[0];break;default:he[N]=V}1===Object.keys(he).length&&"@id"in Je&&(he=yield k.compact({activeCtx:ce,activeProperty:me,element:{"@id":Je["@id"]},options:Ne}))}W||(W=k.compactIri({activeCtx:ce,iri:"@none",relativeTo:{vocab:!0}})),z(re,W,he,{propertyIsArray:se.includes("@set")})}else{const re=!Ne.compactArrays||se.includes("@set")||se.includes("@list")||D(he)&&0===he.length||"@list"===rt||"@graph"===rt;z(T,me,he,{propertyIsArray:re})}}}else{if((E(ce,be,"@container")||[]).includes("@index"))continue;const me=k.compactIri({activeCtx:ce,iri:rt,relativeTo:{vocab:!0}});z(Ie,me,pt)}else{const Je=yield k.compact({activeCtx:ce,activeProperty:be,element:pt,options:Ne});D(Je)&&0===Je.length||z(Ie,rt,Je)}else{const Je=yield k.compact({activeCtx:ce,activeProperty:"@reverse",element:pt,options:Ne});for(const me in Je)if(ce.mappings.has(me)&&ce.mappings.get(me).reverse){const B=Je[me],se=(E(ce,me,"@container")||[]).includes("@set")||!Ne.compactArrays;z(Ie,me,B,{propertyIsArray:se}),delete Je[me]}if(Object.keys(Je).length>0){const me=k.compactIri({activeCtx:ce,iri:rt,relativeTo:{vocab:!0}});z(Ie,me,Je)}}else{let Je=w(pt).map(ie=>k.compactIri({activeCtx:ze,iri:ie,relativeTo:{vocab:!0}}));1===Je.length&&(Je=Je[0]);const me=k.compactIri({activeCtx:ce,iri:"@type",relativeTo:{vocab:!0}}),se=(E(ce,me,"@container")||[]).includes("@set")&&Y(ce,1.1)||D(Je)&&0===pt.length;z(Ie,me,Je,{propertyIsArray:se})}else{let Je=w(pt).map(B=>k.compactIri({activeCtx:ce,iri:B,relativeTo:{vocab:!1},base:Ne.base}));1===Je.length&&(Je=Je[0]),Ie[k.compactIri({activeCtx:ce,iri:"@id",relativeTo:{vocab:!0}})]=Je}}return Ie}return Oe});return function(ce){return De.apply(this,arguments)}}(),k.compactIri=({activeCtx:De,iri:ce,value:be=null,relativeTo:Oe={vocab:!1},reverse:Ne=!1,base:Qe=null})=>{if(null===ce)return ce;De.isPropertyTermScoped&&De.previousContext&&(De=De.previousContext);const Ke=De.getInverse();if(L(ce)&&ce in Ke&&"@none"in Ke[ce]&&"@type"in Ke[ce]["@none"]&&"@none"in Ke[ce]["@none"]["@type"])return Ke[ce]["@none"]["@type"]["@none"];if(Oe.vocab&&ce in Ke){const ue=De["@language"]||"@none",Ae=[];C(be)&&"@index"in be&&!("@graph"in be)&&Ae.push("@index","@index@set"),C(be)&&"@preserve"in be&&(be=be["@preserve"][0]),U(be)?("@index"in be&&Ae.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in be&&Ae.push("@graph@id","@graph@id@set"),Ae.push("@graph","@graph@set","@set"),"@index"in be||Ae.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in be||Ae.push("@graph@id","@graph@id@set")):C(be)&&!M(be)&&Ae.push("@id","@id@set","@type","@set@type");let rt="@language",pt="@null";if(Ne)rt="@type",pt="@reverse",Ae.push("@set");else if(y(be)){"@index"in be||Ae.push("@list");const me=be["@list"];if(0===me.length)rt="@any",pt="@none";else{let B=0===me.length?ue:null,T=null;for(let se=0;se<me.length;++se){const ie=me[se];let He="@none",Ze="@none";if(M(ie)?"@direction"in ie?He=`${(ie["@language"]||"").toLowerCase()}_${ie["@direction"]}`:"@language"in ie?He=ie["@language"].toLowerCase():"@type"in ie?Ze=ie["@type"]:He="@null":Ze="@id",null===B?B=He:He!==B&&M(ie)&&(B="@none"),null===T?T=Ze:Ze!==T&&(T="@none"),"@none"===B&&"@none"===T)break}B=B||"@none",T=T||"@none","@none"!==T?(rt="@type",pt=T):pt=B}}else{if(M(be))if("@language"in be&&!("@index"in be)){Ae.push("@language","@language@set"),pt=be["@language"];const me=be["@direction"];me&&(pt=`${pt}_${me}`)}else"@direction"in be&&!("@index"in be)?pt=`_${be["@direction"]}`:"@type"in be&&(rt="@type",pt=be["@type"]);else rt="@type",pt="@id";Ae.push("@set")}Ae.push("@none"),C(be)&&!("@index"in be)&&Ae.push("@index","@index@set"),M(be)&&1===Object.keys(be).length&&Ae.push("@language","@language@set");const Je=function le(De,ce,be,Oe,Ne,Qe){null===Qe&&(Qe="@null");const Ke=[];if(("@id"===Qe||"@reverse"===Qe)&&C(be)&&"@id"in be){"@reverse"===Qe&&Ke.push("@reverse");const ze=k.compactIri({activeCtx:De,iri:be["@id"],relativeTo:{vocab:!0}});De.mappings.has(ze)&&De.mappings.get(ze)&&De.mappings.get(ze)["@id"]===be["@id"]?Ke.push.apply(Ke,["@vocab","@id"]):Ke.push.apply(Ke,["@id","@vocab"])}else{Ke.push(Qe);const ze=Ke.find(Te=>Te.includes("_"));ze&&Ke.push(ze.replace(/^[^_]+_/,"_"))}Ke.push("@none");const Ie=De.inverse[ce];for(const ze of Oe){if(!(ze in Ie))continue;const Te=Ie[ze][Ne];for(const Ue of Ke)if(Ue in Te)return Te[Ue]}return null}(De,ce,be,Ae,rt,pt);if(null!==Je)return Je}if(Oe.vocab&&"@vocab"in De){const ue=De["@vocab"];if(0===ce.indexOf(ue)&&ce!==ue){const Ae=ce.substr(ue.length);if(!De.mappings.has(Ae))return Ae}}let Ie=null;const ze=[];let Te=De.fastCurieMap;const Ue=ce.length-1;for(let ue=0;ue<Ue&&ce[ue]in Te;++ue)Te=Te[ce[ue]],""in Te&&ze.push(Te[""][0]);for(let ue=ze.length-1;ue>=0;--ue){const Ae=ze[ue],rt=Ae.terms;for(const pt of rt){const Je=pt+":"+ce.substr(Ae.iri.length);De.mappings.get(pt)._prefix&&(!De.mappings.has(Je)||null===be&&De.mappings.get(Je)["@id"]===ce)&&(null===Ie||R(Je,Ie)<0)&&(Ie=Je)}}if(null!==Ie)return Ie;for(const[ue,Ae]of De.mappings)if(Ae&&Ae._prefix&&ce.startsWith(ue+":"))throw new b(`Absolute IRI "${ce}" confused with prefix "${ue}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:De});if(!Oe.vocab){if("@base"in De){if(De["@base"]){const ue=q(Z(Qe,De["@base"]),ce);return G.test(ue)?`./${ue}`:ue}return ce}return q(Qe,ce)}return ce},k.compactValue=({activeCtx:De,activeProperty:ce,value:be,options:Oe})=>{if(M(be)){const Ie=E(De,ce,"@type"),ze=E(De,ce,"@language"),Te=E(De,ce,"@direction"),Ue=E(De,ce,"@container")||[],ue="@index"in be&&!Ue.includes("@index");if(!ue&&"@none"!==Ie&&(be["@type"]===Ie||"@language"in be&&be["@language"]===ze&&"@direction"in be&&be["@direction"]===Te||"@language"in be&&be["@language"]===ze||"@direction"in be&&be["@direction"]===Te))return be["@value"];const Ae=Object.keys(be).length,rt=1===Ae||2===Ae&&"@index"in be&&!ue,pt="@language"in De,Je=O(be["@value"]),me=De.mappings.has(ce)&&null===De.mappings.get(ce)["@language"];if(rt&&"@none"!==Ie&&(!pt||!Je||me))return be["@value"];const B={};return ue&&(B[k.compactIri({activeCtx:De,iri:"@index",relativeTo:{vocab:!0}})]=be["@index"]),"@type"in be?B[k.compactIri({activeCtx:De,iri:"@type",relativeTo:{vocab:!0}})]=k.compactIri({activeCtx:De,iri:be["@type"],relativeTo:{vocab:!0}}):"@language"in be&&(B[k.compactIri({activeCtx:De,iri:"@language",relativeTo:{vocab:!0}})]=be["@language"]),"@direction"in be&&(B[k.compactIri({activeCtx:De,iri:"@direction",relativeTo:{vocab:!0}})]=be["@direction"]),B[k.compactIri({activeCtx:De,iri:"@value",relativeTo:{vocab:!0}})]=be["@value"],B}const Ne=J(De,ce,{vocab:!0},Oe),Qe=E(De,ce,"@type"),Ke=k.compactIri({activeCtx:De,iri:be["@id"],relativeTo:{vocab:"@vocab"===Qe},base:Oe.base});return"@id"===Qe||"@vocab"===Qe||"@graph"===Ne?Ke:{[k.compactIri({activeCtx:De,iri:"@id",relativeTo:{vocab:!0}})]:Ke}}},6982:ee=>{"use strict";const K="http://www.w3.org/1999/02/22-rdf-syntax-ns#",m="http://www.w3.org/2001/XMLSchema#";ee.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:K,RDF_LIST:K+"List",RDF_FIRST:K+"first",RDF_REST:K+"rest",RDF_NIL:K+"nil",RDF_TYPE:K+"type",RDF_PLAIN_LITERAL:K+"PlainLiteral",RDF_XML_LITERAL:K+"XMLLiteral",RDF_JSON_LITERAL:K+"JSON",RDF_OBJECT:K+"object",RDF_LANGSTRING:K+"langString",XSD:m,XSD_BOOLEAN:m+"boolean",XSD_DOUBLE:m+"double",XSD_INTEGER:m+"integer",XSD_STRING:m+"string"}},9611:(ee,K,m)=>{"use strict";var S=m(7156).default;const b=m(3521),D=m(1874),{isArray:C,isObject:O,isString:g,isUndefined:y}=m(8254),{isAbsolute:M,isRelative:U,prependBase:I}=m(2651),{handleEvent:F}=m(3855),{REGEX_BCP47:J,REGEX_KEYWORD:E,asArray:L,compareShortestLeast:ae}=m(3521),Y=new Map,Z={};function G(w,R,k,le,H,De){if(null===R||!g(R)||Z.isKeyword(R))return R;if(R.match(E))return null;if(le&&le.hasOwnProperty(R)&&!0!==H.get(R)&&Z.createTermDefinition({activeCtx:w,localCtx:le,term:R,defined:H,options:De}),(k=k||{}).vocab){const be=w.mappings.get(R);if(null===be)return null;if(O(be)&&"@id"in be)return be["@id"]}const ce=R.indexOf(":");if(ce>0){const be=R.substr(0,ce),Oe=R.substr(ce+1);if("_"===be||0===Oe.indexOf("//"))return R;le&&le.hasOwnProperty(be)&&Z.createTermDefinition({activeCtx:w,localCtx:le,term:be,defined:H,options:De});const Ne=w.mappings.get(be);if(Ne&&Ne._prefix)return Ne["@id"]+Oe;if(M(R))return R}if(k.vocab&&"@vocab"in w)R=w["@vocab"]+R;else if(k.base){let be,Oe;"@base"in w?w["@base"]?(Oe=I(De.base,w["@base"]),be=I(Oe,R)):(Oe=w["@base"],be=R):(Oe=De.base,be=I(De.base,R)),R=be}return R}function z(w,R){if(!w||"object"!=typeof w||!R||"object"!=typeof R)return w===R;const k=Array.isArray(w);if(k!==Array.isArray(R))return!1;if(k){if(w.length!==R.length)return!1;for(let De=0;De<w.length;++De)if(!z(w[De],R[De]))return!1;return!0}const le=Object.keys(w),H=Object.keys(R);if(le.length!==H.length)return!1;for(const De in w){let ce=w[De],be=R[De];if("@container"===De&&Array.isArray(ce)&&Array.isArray(be)&&(ce=ce.slice().sort(),be=be.slice().sort()),!z(ce,be))return!1}return!0}ee.exports=Z,Z.process=function(){var w=S(function*({activeCtx:R,localCtx:k,options:le,propagate:H=!0,overrideProtected:De=!1,cycles:ce=new Set}){if(O(k)&&"@context"in k&&C(k["@context"])&&(k=k["@context"]),0===L(k).length)return R;const Oe=[],Ne=[({event:ze,next:Te})=>{Oe.push(ze),Te()}];le.eventHandler&&Ne.push(le.eventHandler);const Qe=le;le={...le,eventHandler:Ne};const Ke=yield le.contextResolver.resolve({activeCtx:R,context:k,documentLoader:le.documentLoader,base:le.base});O(Ke[0].document)&&"boolean"==typeof Ke[0].document["@propagate"]&&(H=Ke[0].document["@propagate"]);let Ie=R;!H&&!Ie.previousContext&&(Ie=Ie.clone(),Ie.previousContext=R);for(const ze of Ke){let{document:Te}=ze;if(R=Ie,null===Te){if(!De&&0!==Object.keys(R.protected).length)throw new D("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});Ie=R=Z.getInitialContext(le).clone();continue}const Ue=ze.getProcessed(R);if(Ue){if(Qe.eventHandler)for(const Ae of Ue.events)F({event:Ae,options:Qe});Ie=R=Ue.context;continue}if(O(Te)&&"@context"in Te&&(Te=Te["@context"]),!O(Te))throw new D("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:Te});Ie=Ie.clone();const ue=new Map;if("@version"in Te){if(1.1!==Te["@version"])throw new D("Unsupported JSON-LD version: "+Te["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:Te});if(R.processingMode&&"json-ld-1.0"===R.processingMode)throw new D("@version: "+Te["@version"]+" not compatible with "+R.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:Te});Ie.processingMode="json-ld-1.1",Ie["@version"]=Te["@version"],ue.set("@version",!0)}if(Ie.processingMode=Ie.processingMode||R.processingMode,"@base"in Te){let Ae=Te["@base"];if(null!==Ae&&!M(Ae)){if(!U(Ae))throw new D('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:Te});Ae=I(Ie["@base"],Ae)}Ie["@base"]=Ae,ue.set("@base",!0)}if("@vocab"in Te){const Ae=Te["@vocab"];if(null===Ae)delete Ie["@vocab"];else{if(!g(Ae))throw new D('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:Te});if(!M(Ae)&&Z.processingMode(Ie,1))throw new D('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:Te});{const rt=G(Ie,Ae,{vocab:!0,base:!0},void 0,void 0,le);M(rt)||le.eventHandler&&F({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:rt}},options:le}),Ie["@vocab"]=rt}}ue.set("@vocab",!0)}if("@language"in Te){const Ae=Te["@language"];if(null===Ae)delete Ie["@language"];else{if(!g(Ae))throw new D('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:Te});Ae.match(J)||le.eventHandler&&F({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Ae}},options:le}),Ie["@language"]=Ae.toLowerCase()}ue.set("@language",!0)}if("@direction"in Te){const Ae=Te["@direction"];if("json-ld-1.0"===R.processingMode)throw new D("Invalid JSON-LD syntax; @direction not compatible with "+R.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:Te});if(null===Ae)delete Ie["@direction"];else{if("ltr"!==Ae&&"rtl"!==Ae)throw new D('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:Te});Ie["@direction"]=Ae}ue.set("@direction",!0)}if("@propagate"in Te){const Ae=Te["@propagate"];if("json-ld-1.0"===R.processingMode)throw new D("Invalid JSON-LD syntax; @propagate not compatible with "+R.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:Te});if("boolean"!=typeof Ae)throw new D("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:k});ue.set("@propagate",!0)}if("@import"in Te){const Ae=Te["@import"];if("json-ld-1.0"===R.processingMode)throw new D("Invalid JSON-LD syntax; @import not compatible with "+R.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:Te});if(!g(Ae))throw new D("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:k});const rt=yield le.contextResolver.resolve({activeCtx:R,context:Ae,documentLoader:le.documentLoader,base:le.base});if(1!==rt.length)throw new D("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:k});const pt=rt[0].getProcessed(R);if(pt)Te=pt;else{const Je=rt[0].document;if("@import"in Je)throw new D("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:k});for(const me in Je)Te.hasOwnProperty(me)||(Te[me]=Je[me]);rt[0].setProcessed(R,Te)}ue.set("@import",!0)}ue.set("@protected",Te["@protected"]||!1);for(const Ae in Te)if(Z.createTermDefinition({activeCtx:Ie,localCtx:Te,term:Ae,defined:ue,options:le,overrideProtected:De}),O(Te[Ae])&&"@context"in Te[Ae]){const rt=Te[Ae]["@context"];let pt=!0;if(g(rt)){const Je=I(le.base,rt);ce.has(Je)?pt=!1:ce.add(Je)}if(pt)try{yield Z.process({activeCtx:Ie.clone(),localCtx:Te[Ae]["@context"],overrideProtected:!0,options:le,cycles:ce})}catch{throw new D("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:Te[Ae]["@context"],term:Ae})}}ze.setProcessed(R,{context:Ie,events:Oe})}return Ie});return function(R){return w.apply(this,arguments)}}(),Z.createTermDefinition=({activeCtx:w,localCtx:R,term:k,defined:le,options:H,overrideProtected:De=!1})=>{if(le.has(k)){if(le.get(k))return;throw new D("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:R,term:k})}let ce;if(le.set(k,!1),R.hasOwnProperty(k)&&(ce=R[k]),"@type"===k&&O(ce)&&"@set"===(ce["@container"]||"@set")&&Z.processingMode(w,1.1)){const ze=["@container","@id","@protected"],Te=Object.keys(ce);if(0===Te.length||Te.some(Ue=>!ze.includes(Ue)))throw new D("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:R,term:k})}else{if(Z.isKeyword(k))throw new D("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:R,term:k});if(k.match(E))return void(H.eventHandler&&F({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:k}},options:H}));if(""===k)throw new D("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:R})}const be=w.mappings.get(k);w.mappings.has(k)&&w.mappings.delete(k);let Oe=!1;if((g(ce)||null===ce)&&(Oe=!0,ce={"@id":ce}),!O(ce))throw new D("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:R});const Ne={};w.mappings.set(k,Ne),Ne.reverse=!1;const Qe=["@container","@id","@language","@reverse","@type"];Z.processingMode(w,1.1)&&Qe.push("@context","@direction","@index","@nest","@prefix","@protected");for(const ze in ce)if(!Qe.includes(ze))throw new D("Invalid JSON-LD syntax; a term definition must not contain "+ze,"jsonld.SyntaxError",{code:"invalid term definition",context:R});const Ke=k.indexOf(":");if(Ne._termHasColon=Ke>0,"@reverse"in ce){if("@id"in ce)throw new D("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:R});if("@nest"in ce)throw new D("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:R});const ze=ce["@reverse"];if(!g(ze))throw new D("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:R});if(ze.match(E))return H.eventHandler&&F({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:ze}},options:H}),void(be?w.mappings.set(k,be):w.mappings.delete(k));const Te=G(w,ze,{vocab:!0,base:!1},R,le,H);if(!M(Te))throw new D("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:R});Ne["@id"]=Te,Ne.reverse=!0}else if("@id"in ce){let ze=ce["@id"];if(ze&&!g(ze))throw new D("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:R});if(null===ze)Ne["@id"]=null;else{if(!Z.isKeyword(ze)&&ze.match(E))return H.eventHandler&&F({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:ze}},options:H}),void(be?w.mappings.set(k,be):w.mappings.delete(k));if(ze!==k){if(ze=G(w,ze,{vocab:!0,base:!1},R,le,H),!M(ze)&&!Z.isKeyword(ze))throw new D("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:R});if(k.match(/(?::[^:])|\//)&&G(w,k,{vocab:!0,base:!1},R,new Map(le).set(k,!0),H)!==ze)throw new D("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:R});Ne["@id"]=ze,Ne._prefix=Oe&&!Ne._termHasColon&&null!==ze.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in Ne))if(Ne._termHasColon){const ze=k.substr(0,Ke);if(R.hasOwnProperty(ze)&&Z.createTermDefinition({activeCtx:w,localCtx:R,term:ze,defined:le,options:H}),w.mappings.has(ze)){const Te=k.substr(Ke+1);Ne["@id"]=w.mappings.get(ze)["@id"]+Te}else Ne["@id"]=k}else if("@type"===k)Ne["@id"]=k;else{if(!("@vocab"in w))throw new D("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:R,term:k});Ne["@id"]=w["@vocab"]+k}if((!0===ce["@protected"]||!0===le.get("@protected")&&!1!==ce["@protected"])&&(w.protected[k]=!0,Ne.protected=!0),le.set(k,!0),"@type"in ce){let ze=ce["@type"];if(!g(ze))throw new D("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:R});if("@json"===ze||"@none"===ze){if(Z.processingMode(w,1))throw new D(`Invalid JSON-LD syntax; an @context @type value must not be "${ze}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:R})}else if("@id"!==ze&&"@vocab"!==ze){if(ze=G(w,ze,{vocab:!0,base:!1},R,le,H),!M(ze))throw new D("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:R});if(0===ze.indexOf("_:"))throw new D("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:R})}Ne["@type"]=ze}if("@container"in ce){const ze=g(ce["@container"])?[ce["@container"]]:ce["@container"]||[],Te=["@list","@set","@index","@language"];let Ue=!0;const ue=ze.includes("@set");if(Z.processingMode(w,1.1)){if(Te.push("@graph","@id","@type"),ze.includes("@list")){if(1!==ze.length)throw new D("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:R})}else if(ze.includes("@graph")){if(ze.some(Ae=>"@graph"!==Ae&&"@id"!==Ae&&"@index"!==Ae&&"@set"!==Ae))throw new D("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:R})}else Ue&=ze.length<=(ue?2:1);if(ze.includes("@type")&&(Ne["@type"]=Ne["@type"]||"@id",!["@id","@vocab"].includes(Ne["@type"])))throw new D("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:R})}else Ue&=!C(ce["@container"]),Ue&=ze.length<=1;if(Ue&=ze.every(Ae=>Te.includes(Ae)),Ue&=!(ue&&ze.includes("@list")),!Ue)throw new D("Invalid JSON-LD syntax; @context @container value must be one of the following: "+Te.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:R});if(Ne.reverse&&!ze.every(Ae=>["@index","@set"].includes(Ae)))throw new D("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:R});Ne["@container"]=ze}if("@index"in ce){if(!("@container"in ce)||!Ne["@container"].includes("@index"))throw new D(`Invalid JSON-LD syntax; @index without @index in @container: "${ce["@index"]}" on term "${k}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:R});if(!g(ce["@index"])||0===ce["@index"].indexOf("@"))throw new D(`Invalid JSON-LD syntax; @index must expand to an IRI: "${ce["@index"]}" on term "${k}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:R});Ne["@index"]=ce["@index"]}if("@context"in ce&&(Ne["@context"]=ce["@context"]),"@language"in ce&&!("@type"in ce)){let ze=ce["@language"];if(null!==ze&&!g(ze))throw new D("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:R});null!==ze&&(ze=ze.toLowerCase()),Ne["@language"]=ze}if("@prefix"in ce){if(k.match(/:|\//))throw new D("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:R});if(Z.isKeyword(Ne["@id"]))throw new D("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:R});if("boolean"!=typeof ce["@prefix"])throw new D("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:R});Ne._prefix=!0===ce["@prefix"]}if("@direction"in ce){const ze=ce["@direction"];if(null!==ze&&"ltr"!==ze&&"rtl"!==ze)throw new D('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:R});Ne["@direction"]=ze}if("@nest"in ce){const ze=ce["@nest"];if(!g(ze)||"@nest"!==ze&&0===ze.indexOf("@"))throw new D("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:R});Ne["@nest"]=ze}const Ie=Ne["@id"];if("@context"===Ie||"@preserve"===Ie)throw new D("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:R});if(be&&be.protected&&!De&&(w.protected[k]=!0,Ne.protected=!0,!z(be,Ne)))throw new D("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:R,term:k})},Z.expandIri=(w,R,k,le)=>G(w,R,k,void 0,void 0,le),Z.getInitialContext=w=>{const R=JSON.stringify({processingMode:w.processingMode}),k=Y.get(R);if(k)return k;const le={processingMode:w.processingMode,mappings:new Map,inverse:null,getInverse:function H(){const Ne=this;if(Ne.inverse)return Ne.inverse;const Qe=Ne.inverse={},Ke=Ne.fastCurieMap={},Ie={},ze=(Ne["@language"]||"@none").toLowerCase(),Te=Ne["@direction"],Ue=Ne.mappings,ue=[...Ue.keys()].sort(ae);for(const Ae of ue){const rt=Ue.get(Ae);if(null===rt)continue;let pt=rt["@container"]||"@none";if(pt=[].concat(pt).sort().join(""),null===rt["@id"])continue;const Je=L(rt["@id"]);for(const me of Je){let B=Qe[me];const T=Z.isKeyword(me);if(B)!T&&!rt._termHasColon&&Ie[me].push(Ae);else if(Qe[me]=B={},!T&&!rt._termHasColon){Ie[me]=[Ae];const se={iri:me,terms:Ie[me]};me[0]in Ke?Ke[me[0]].push(se):Ke[me[0]]=[se]}if(B[pt]||(B[pt]={"@language":{},"@type":{},"@any":{}}),B=B[pt],ce(Ae,B["@any"],"@none"),rt.reverse)ce(Ae,B["@type"],"@reverse");else if("@none"===rt["@type"])ce(Ae,B["@any"],"@none"),ce(Ae,B["@language"],"@none"),ce(Ae,B["@type"],"@none");else if("@type"in rt)ce(Ae,B["@type"],rt["@type"]);else if("@language"in rt&&"@direction"in rt){const se=rt["@language"],ie=rt["@direction"];ce(Ae,B["@language"],se&&ie?`${se}_${ie}`.toLowerCase():se?se.toLowerCase():ie?`_${ie}`:"@null")}else"@language"in rt?ce(Ae,B["@language"],(rt["@language"]||"@null").toLowerCase()):"@direction"in rt?ce(Ae,B["@language"],rt["@direction"]?`_${rt["@direction"]}`:"@none"):Te?(ce(Ae,B["@language"],`_${Te}`),ce(Ae,B["@language"],"@none"),ce(Ae,B["@type"],"@none")):(ce(Ae,B["@language"],ze),ce(Ae,B["@language"],"@none"),ce(Ae,B["@type"],"@none"))}}for(const Ae in Ke)De(Ke,Ae,1);return Qe},clone:function be(){const Ne={};return Ne.mappings=b.clone(this.mappings),Ne.clone=this.clone,Ne.inverse=null,Ne.getInverse=this.getInverse,Ne.protected=b.clone(this.protected),this.previousContext&&(Ne.previousContext=this.previousContext.clone()),Ne.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(Ne["@base"]=this["@base"]),"@language"in this&&(Ne["@language"]=this["@language"]),"@vocab"in this&&(Ne["@vocab"]=this["@vocab"]),Ne},revertToPreviousContext:function Oe(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===Y.size&&Y.clear(),Y.set(R,le),le;function De(Ne,Qe,Ke){const Ie=Ne[Qe],ze=Ne[Qe]={};let Te,Ue;for(const ue of Ie)Te=ue.iri,Ue=Ke>=Te.length?"":Te[Ke],Ue in ze?ze[Ue].push(ue):ze[Ue]=[ue];for(const ue in ze)""!==ue&&De(ze,ue,Ke+1)}function ce(Ne,Qe,Ke){Qe.hasOwnProperty(Ke)||(Qe[Ke]=Ne)}},Z.getContextValue=(w,R,k)=>{if(null===R)return"@context"===k?void 0:null;if(w.mappings.has(R)){const le=w.mappings.get(R);if(y(k))return le;if(le.hasOwnProperty(k))return le[k]}return"@language"===k&&k in w||"@direction"===k&&k in w?w[k]:"@context"!==k?null:void 0},Z.processingMode=(w,R)=>R.toString()>="1.1"?!w.processingMode||w.processingMode>="json-ld-"+R.toString():"json-ld-1.0"===w.processingMode,Z.isKeyword=w=>{if(!g(w)||"@"!==w[0])return!1;switch(w){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},627:(ee,K,m)=>{"use strict";var S=m(7156).default;const{parseLinkHeader:b,buildHeaders:D}=m(3521),{LINK_HEADER_CONTEXT:C}=m(6982),O=m(1874),g=m(4044),{prependBase:y}=m(2651),M=/(^|(\r\n))link:/i;ee.exports=({secure:I,headers:F={},xhr:J}={headers:{}})=>{return F=D(F),(new g).wrapLoader(L);function L(Y){return ae.apply(this,arguments)}function ae(){return ae=S(function*(Y){if(0!==Y.indexOf("http:")&&0!==Y.indexOf("https:"))throw new O('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:Y});if(I&&0!==Y.indexOf("https"))throw new O('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:Y});let q;try{q=yield function U(I,F,J){const E=new(I=I||XMLHttpRequest);return new Promise((L,ae)=>{E.onload=()=>L(E),E.onerror=Y=>ae(Y),E.open("GET",F,!0);for(const Y in J)E.setRequestHeader(Y,J[Y]);E.send()})}(J,Y,F)}catch(R){throw new O("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:Y,cause:R})}if(q.status>=400)throw new O("URL could not be dereferenced: "+q.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:Y,httpStatusCode:q.status});let Z={contextUrl:null,documentUrl:Y,document:q.response},G=null;const z=q.getResponseHeader("Content-Type");let w;if(M.test(q.getAllResponseHeaders())&&(w=q.getResponseHeader("Link")),w&&"application/ld+json"!==z){const R=b(w),k=R[C];if(Array.isArray(k))throw new O("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:Y});k&&(Z.contextUrl=k.target),G=R.alternate,G&&"application/ld+json"==G.type&&!(z||"").match(/^application\/(\w*\+)?json$/)&&(Z=yield L(y(Y,G.target)))}return Z}),ae.apply(this,arguments)}}},3855:(ee,K,m)=>{"use strict";const S=m(1874),{isArray:b}=m(8254),{asArray:D}=m(3521),C={};function O({event:y,handlers:M}){let U=!0;for(let I=0;U&&I<M.length;++I){U=!1;const F=M[I];if(b(F))U=O({event:y,handlers:F});else if("function"==typeof F)F({event:y,next:()=>{U=!0}});else{if("object"!=typeof F)throw new S("Invalid event handler.","jsonld.InvalidEventHandler",{event:y});y.code in F?F[y.code]({event:y,next:()=>{U=!0}}):U=!0}}return U}ee.exports=C,C.defaultEventHandler=null,C.setupEventHandler=({options:y={}})=>{const M=[].concat(y.safe?C.safeEventHandler:[],y.eventHandler?D(y.eventHandler):[],C.defaultEventHandler?C.defaultEventHandler:[]);return 0===M.length?null:M},C.handleEvent=({event:y,options:M})=>{O({event:y,handlers:M.eventHandler})};const g=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);C.safeEventHandler=function({event:M,next:U}){if("warning"===M.level&&g.has(M.code))throw new S("Safe mode validation error.","jsonld.ValidationError",{event:M});U()},C.logEventHandler=function({event:M,next:U}){console.log(`EVENT: ${M.message}`,{event:M}),U()},C.logWarningEventHandler=function({event:M,next:U}){"warning"===M.level&&console.warn(`WARNING: ${M.message}`,{event:M}),U()},C.unhandledEventHandler=function({event:M}){throw new S("No handler for event.","jsonld.UnhandledEvent",{event:M})},C.setDefaultEventHandler=function({eventHandler:y}={}){C.defaultEventHandler=y?D(y):null}},3860:(ee,K,m)=>{"use strict";var S=m(7156).default;const b=m(1874),{isArray:D,isObject:C,isEmptyObject:O,isString:g,isUndefined:y}=m(8254),{isList:M,isValue:U,isGraph:I,isSubject:F}=m(543),{expandIri:J,getContextValue:E,isKeyword:L,process:ae,processingMode:Y}=m(9611),{isAbsolute:q}=m(2651),{REGEX_BCP47:Z,REGEX_KEYWORD:G,addValue:z,asArray:w,getValues:R,validateTypeValue:k}=m(3521),{handleEvent:le}=m(3855),H={};function De({value:Ie,count:ze,options:Te}){if(0===ze||"@value"in Ie||"@list"in Ie||1===ze&&"@id"in Ie){if(Te.eventHandler){let Ue,ue;0===ze?(Ue="empty object",ue="Dropping empty object."):"@value"in Ie?(Ue="object with only @value",ue="Dropping object with only @value."):"@list"in Ie?(Ue="object with only @list",ue="Dropping object with only @list."):1===ze&&"@id"in Ie&&(Ue="object with only @id",ue="Dropping object with only @id."),le({event:{type:["JsonLdEvent"],code:Ue,level:"warning",message:ue,details:{value:Ie}},options:Te})}return null}return Ie}function ce(Ie){return be.apply(this,arguments)}function be(){return(be=S(function*({activeCtx:Ie,activeProperty:ze,expandedActiveProperty:Te,element:Ue,expandedParent:ue,options:Ae={},insideList:rt,typeKey:pt,typeScopedContext:Je}){const me=Object.keys(Ue).sort(),B=[];let T;const se=Ue[pt]&&"@json"===J(Ie,D(Ue[pt])?Ue[pt][0]:Ue[pt],{vocab:!0},{...Ae,typeExpansion:!0});for(const ie of me){let Ze,He=Ue[ie];if("@context"===ie)continue;const he=J(Ie,ie,{vocab:!0},Ae);if(null===he||!q(he)&&!L(he)){Ae.eventHandler&&le({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:ie,expandedProperty:he}},options:Ae});continue}if(L(he)){if("@reverse"===Te)throw new b("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:He});if(he in ue&&"@included"!==he&&"@type"!==he)throw new b("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:he})}if("@id"===he){if(!g(He)){if(!Ae.isFrame)throw new b('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:He});if(C(He)){if(!O(He))throw new b('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:He})}else{if(!D(He))throw new b('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:He});if(!He.every(V=>g(V)))throw new b('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:He})}}z(ue,"@id",w(He).map(V=>{if(g(V)){const fe=J(Ie,V,{base:!0},Ae);return Ae.eventHandler&&(null===fe?le(null===V?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:V}},options:Ae}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:V}},options:Ae}):q(fe)||le({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:V,expandedId:fe}},options:Ae})),fe}return V}),{propertyIsArray:Ae.isFrame});continue}if("@type"===he){C(He)&&(He=Object.fromEntries(Object.entries(He).map(([V,fe])=>[J(Je,V,{vocab:!0}),w(fe).map(We=>J(Je,We,{base:!0,vocab:!0},{...Ae,typeExpansion:!0}))]))),k(He,Ae.isFrame),z(ue,"@type",w(He).map(V=>{if(g(V)){const fe=J(Je,V,{base:!0,vocab:!0},{...Ae,typeExpansion:!0});return"@json"!==fe&&!q(fe)&&Ae.eventHandler&&le({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:V}},options:Ae}),fe}return V}),{propertyIsArray:!!Ae.isFrame});continue}if("@included"===he&&Y(Ie,1.1)){const V=w(yield H.expand({activeCtx:Ie,activeProperty:ze,element:He,options:Ae}));if(!V.every(fe=>F(fe)))throw new b("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:He});z(ue,"@included",V,{propertyIsArray:!0});continue}if("@graph"===he&&!C(He)&&!D(He))throw new b('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:He});if("@value"===he){T=He,se&&Y(Ie,1.1)?ue["@value"]=He:z(ue,"@value",He,{propertyIsArray:Ae.isFrame});continue}if("@language"===he){if(null===He)continue;if(!g(He)&&!Ae.isFrame)throw new b('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:He});He=w(He).map(V=>g(V)?V.toLowerCase():V);for(const V of He)g(V)&&!V.match(Z)&&Ae.eventHandler&&le({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:V}},options:Ae});z(ue,"@language",He,{propertyIsArray:Ae.isFrame});continue}if("@direction"===he){if(!g(He)&&!Ae.isFrame)throw new b('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:He});He=w(He);for(const V of He)if(g(V)&&"ltr"!==V&&"rtl"!==V)throw new b('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:He});z(ue,"@direction",He,{propertyIsArray:Ae.isFrame});continue}if("@index"===he){if(!g(He))throw new b('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:He});z(ue,"@index",He);continue}if("@reverse"===he){if(!C(He))throw new b('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:He});if(Ze=yield H.expand({activeCtx:Ie,activeProperty:"@reverse",element:He,options:Ae}),"@reverse"in Ze)for(const fe in Ze["@reverse"])z(ue,fe,Ze["@reverse"][fe],{propertyIsArray:!0});let V=ue["@reverse"]||null;for(const fe in Ze){if("@reverse"===fe)continue;null===V&&(V=ue["@reverse"]={}),z(V,fe,[],{propertyIsArray:!0});const We=Ze[fe];for(let ye=0;ye<We.length;++ye){const je=We[ye];if(U(je)||M(je))throw new b('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:Ze});z(V,fe,je,{propertyIsArray:!0})}}continue}if("@nest"===he){B.push(ie);continue}let re=Ie;const W=E(Ie,ie,"@context");y(W)||(re=yield ae({activeCtx:Ie,localCtx:W,propagate:!0,overrideProtected:!0,options:Ae}));const N=E(Ie,ie,"@container")||[];if(N.includes("@language")&&C(He))Ze=Ne(re,He,E(re,ie,"@direction"),Ae);else if(N.includes("@index")&&C(He)){const V=N.includes("@graph"),fe=E(re,ie,"@index")||"@index",We="@index"!==fe&&J(Ie,fe,{vocab:!0},Ae);Ze=yield Qe({activeCtx:re,options:Ae,activeProperty:ie,value:He,asGraph:V,indexKey:fe,propertyIndex:We})}else if(N.includes("@id")&&C(He)){const V=N.includes("@graph");Ze=yield Qe({activeCtx:re,options:Ae,activeProperty:ie,value:He,asGraph:V,indexKey:"@id"})}else if(N.includes("@type")&&C(He))Ze=yield Qe({activeCtx:re.revertToPreviousContext(),options:Ae,activeProperty:ie,value:He,asGraph:!1,indexKey:"@type"});else{const V="@list"===he;if(V||"@set"===he){let fe=ze;V&&"@graph"===Te&&(fe=null),Ze=yield H.expand({activeCtx:re,activeProperty:fe,element:He,options:Ae,insideList:V})}else Ze="@json"===E(Ie,ie,"@type")?{"@type":"@json","@value":He}:yield H.expand({activeCtx:re,activeProperty:ie,element:He,options:Ae,insideList:!1})}if(null!==Ze||"@value"===he){if("@list"!==he&&!M(Ze)&&N.includes("@list")&&(Ze={"@list":w(Ze)}),N.includes("@graph")&&!N.some(V=>"@id"===V||"@index"===V)){if(Ze=w(Ze),Ae.isFrame||(Ze=Ze.filter(V=>null!==De({value:V,count:Object.keys(V).length,options:Ae}))),0===Ze.length)continue;Ze=Ze.map(V=>({"@graph":w(V)}))}if(re.mappings.has(ie)&&re.mappings.get(ie).reverse){const V=ue["@reverse"]=ue["@reverse"]||{};Ze=w(Ze);for(let fe=0;fe<Ze.length;++fe){const We=Ze[fe];if(U(We)||M(We))throw new b('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:Ze});z(V,he,We,{propertyIsArray:!0})}continue}z(ue,he,Ze,{propertyIsArray:!0})}}if("@value"in ue&&("@json"!==ue["@type"]||!Y(Ie,1.1))&&(C(T)||D(T))&&!Ae.isFrame)throw new b('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:T});for(const ie of B){const He=D(Ue[ie])?Ue[ie]:[Ue[ie]];for(const Ze of He){if(!C(Ze)||Object.keys(Ze).some(he=>"@value"===J(Ie,he,{vocab:!0},Ae)))throw new b("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:Ze});yield ce({activeCtx:Ie,activeProperty:ze,expandedActiveProperty:Te,element:Ze,expandedParent:ue,options:Ae,insideList:rt,typeScopedContext:Je,typeKey:pt})}}})).apply(this,arguments)}function Oe({activeCtx:Ie,activeProperty:ze,value:Te,options:Ue}){if(null==Te)return null;const ue=J(Ie,ze,{vocab:!0},Ue);if("@id"===ue)return J(Ie,Te,{base:!0},Ue);if("@type"===ue)return J(Ie,Te,{vocab:!0,base:!0},{...Ue,typeExpansion:!0});const Ae=E(Ie,ze,"@type");if(("@id"===Ae||"@graph"===ue)&&g(Te)){const pt=J(Ie,Te,{base:!0},Ue);return null===pt&&Te.match(G)&&Ue.eventHandler&&le({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:ze}},options:Ue}),{"@id":pt}}if("@vocab"===Ae&&g(Te))return{"@id":J(Ie,Te,{vocab:!0,base:!0},Ue)};if(L(ue))return Te;const rt={};if(Ae&&!["@id","@vocab","@none"].includes(Ae))rt["@type"]=Ae;else if(g(Te)){const pt=E(Ie,ze,"@language");null!==pt&&(rt["@language"]=pt);const Je=E(Ie,ze,"@direction");null!==Je&&(rt["@direction"]=Je)}return["boolean","number","string"].includes(typeof Te)||(Te=Te.toString()),rt["@value"]=Te,rt}function Ne(Ie,ze,Te,Ue){const ue=[],Ae=Object.keys(ze).sort();for(const rt of Ae){const pt=J(Ie,rt,{vocab:!0},Ue);let Je=ze[rt];D(Je)||(Je=[Je]);for(const me of Je){if(null===me)continue;if(!g(me))throw new b("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:ze});const B={"@value":me};"@none"!==pt&&(rt.match(Z)||Ue.eventHandler&&le({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:rt}},options:Ue}),B["@language"]=rt.toLowerCase()),Te&&(B["@direction"]=Te),ue.push(B)}}return ue}function Qe(Ie){return Ke.apply(this,arguments)}function Ke(){return(Ke=S(function*({activeCtx:Ie,options:ze,activeProperty:Te,value:Ue,asGraph:ue,indexKey:Ae,propertyIndex:rt}){const pt=[],Je=Object.keys(Ue).sort(),me="@type"===Ae;for(let B of Je){if(me){const ie=E(Ie,B,"@context");y(ie)||(Ie=yield ae({activeCtx:Ie,localCtx:ie,propagate:!1,options:ze}))}let se,T=Ue[B];D(T)||(T=[T]),T=yield H.expand({activeCtx:Ie,activeProperty:Te,element:T,options:ze,insideList:!1,insideIndex:!0}),se=rt?"@none"===B?"@none":Oe({activeCtx:Ie,activeProperty:Ae,value:B,options:ze}):J(Ie,B,{vocab:!0},ze),"@id"===Ae?B=J(Ie,B,{base:!0},ze):me&&(B=se);for(let ie of T){if(ue&&!I(ie)&&(ie={"@graph":[ie]}),"@type"===Ae)"@none"===se||(ie["@type"]=ie["@type"]?[B].concat(ie["@type"]):[B]);else{if(U(ie)&&!["@language","@type","@index"].includes(Ae))throw new b(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${Ae}".`,"jsonld.SyntaxError",{code:"invalid value object",value:ie});rt?"@none"!==se&&z(ie,rt,se,{propertyIsArray:!0,prependValue:!0}):"@none"!==se&&!(Ae in ie)&&(ie[Ae]=B)}pt.push(ie)}}return pt})).apply(this,arguments)}ee.exports=H,H.expand=function(){var Ie=S(function*({activeCtx:ze,activeProperty:Te=null,element:Ue,options:ue={},insideList:Ae=!1,insideIndex:rt=!1,typeScopedContext:pt=null}){if(null==Ue)return null;if("@default"===Te&&(ue=Object.assign({},ue,{isFrame:!1})),!D(Ue)&&!C(Ue))return Ae||null!==Te&&"@graph"!==J(ze,Te,{vocab:!0},ue)?Oe({activeCtx:ze,activeProperty:Te,value:Ue,options:ue}):(ue.eventHandler&&le({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:Ue}},options:ue}),null);if(D(Ue)){let Ze=[];const he=E(ze,Te,"@container")||[];Ae=Ae||he.includes("@list");for(let re=0;re<Ue.length;++re){let W=yield H.expand({activeCtx:ze,activeProperty:Te,element:Ue[re],options:ue,insideIndex:rt,typeScopedContext:pt});Ae&&D(W)&&(W={"@list":W}),null!==W&&(D(W)?Ze=Ze.concat(W):Ze.push(W))}return Ze}const Je=J(ze,Te,{vocab:!0},ue),me=E(ze,Te,"@context");pt=pt||(ze.previousContext?ze:null);let B=Object.keys(Ue).sort(),T=!rt;if(T&&pt&&B.length<=2&&!B.includes("@context"))for(const Ze of B){const he=J(pt,Ze,{vocab:!0},ue);if("@value"===he){T=!1,ze=pt;break}if("@id"===he&&1===B.length){T=!1;break}}T&&(ze=ze.revertToPreviousContext()),y(me)||(ze=yield ae({activeCtx:ze,localCtx:me,propagate:!0,overrideProtected:!0,options:ue})),"@context"in Ue&&(ze=yield ae({activeCtx:ze,localCtx:Ue["@context"],options:ue})),pt=ze;let se=null;for(const Ze of B)if("@type"===J(ze,Ze,{vocab:!0},ue)){se=se||Ze;const re=Ue[Ze],W=Array.isArray(re)?re.length>1?re.slice().sort():re:[re];for(const N of W){const V=E(pt,N,"@context");y(V)||(ze=yield ae({activeCtx:ze,localCtx:V,options:ue,propagate:!1}))}}let ie={};yield ce({activeCtx:ze,activeProperty:Te,expandedActiveProperty:Je,element:Ue,expandedParent:ie,options:ue,insideList:Ae,typeKey:se,typeScopedContext:pt}),B=Object.keys(ie);let He=B.length;if("@value"in ie){if("@type"in ie&&("@language"in ie||"@direction"in ie))throw new b('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:ie});let Ze=He-1;if("@type"in ie&&(Ze-=1),"@index"in ie&&(Ze-=1),"@language"in ie&&(Ze-=1),"@direction"in ie&&(Ze-=1),0!==Ze)throw new b('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:ie});const he=null===ie["@value"]?[]:w(ie["@value"]),re=R(ie,"@type");if(!Y(ze,1.1)||!re.includes("@json")||1!==re.length)if(0===he.length)ue.eventHandler&&le({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:ie}},options:ue}),ie=null;else{if(!he.every(W=>g(W)||O(W))&&"@language"in ie)throw new b("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:ie});if(!re.every(W=>q(W)&&!(g(W)&&0===W.indexOf("_:"))||O(W)))throw new b('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:ie})}}else if("@type"in ie&&!D(ie["@type"]))ie["@type"]=[ie["@type"]];else if("@set"in ie||"@list"in ie){if(He>1&&(2!==He||!("@index"in ie)))throw new b('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:ie});"@set"in ie&&(ie=ie["@set"],B=Object.keys(ie),He=B.length)}else 1===He&&"@language"in ie&&(ue.eventHandler&&le({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:ie}},options:ue}),ie=null);return C(ie)&&!ue.keepFreeFloatingNodes&&!Ae&&(null===Te||"@graph"===Je||(E(ze,Te,"@container")||[]).includes("@graph"))&&(ie=De({value:ie,count:He,options:ue})),ie});return function(ze){return Ie.apply(this,arguments)}}()},8295:(ee,K,m)=>{"use strict";const{isSubjectReference:S}=m(543),{createMergedNodeMap:b}=m(9783),D={};ee.exports=D,D.flatten=C=>{const O=b(C),g=[],y=Object.keys(O).sort();for(let M=0;M<y.length;++M){const U=O[y[M]];S(U)||g.push(U)}return g}},9193:(ee,K,m)=>{"use strict";const{isKeyword:S}=m(9611),b=m(543),D=m(8254),C=m(3521),O=m(2651),g=m(1874),{createNodeMap:y,mergeNodeMapGraphs:M}=m(9783),U={};function I(w){const R={};for(const k in w)void 0!==w[k]&&(R["@"+k]=[w[k]]);return[R]}function F(w,R,k){for(let le=k.length-1;le>=0;--le){const H=k[le];if(H.graph===R&&H.subject["@id"]===w["@id"])return!0}return!1}function J(w,R,k){const le="@"+k;let H=le in w?w[le][0]:R[k];if("embed"===k)if(!0===H)H="@once";else if(!1===H)H="@never";else if("@always"!==H&&"@never"!==H&&"@link"!==H&&"@first"!==H&&"@last"!==H&&"@once"!==H)throw new g("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:w});return H}function E(w){if(!D.isArray(w)||1!==w.length||!D.isObject(w[0]))throw new g("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:w});if("@id"in w[0])for(const R of C.asArray(w[0]["@id"]))if(!D.isObject(R)&&!O.isAbsolute(R)||D.isString(R)&&0===R.indexOf("_:"))throw new g("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:w});if("@type"in w[0])for(const R of C.asArray(w[0]["@type"]))if(!D.isObject(R)&&!O.isAbsolute(R)&&"@json"!==R||D.isString(R)&&0===R.indexOf("_:"))throw new g("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:w})}function ae(w,R,k,le){let H=!0,De=!1;for(const ce in k){let be=!1;const Oe=C.getValues(R,ce),Ne=0===C.getValues(k,ce).length;if("@id"===ce){if(D.isEmptyObject(k["@id"][0]||{})?be=!0:k["@id"].length>=0&&(be=k["@id"].includes(Oe[0])),!le.requireAll)return be}else if("@type"===ce){if(H=!1,Ne){if(Oe.length>0)return!1;be=!0}else if(1===k["@type"].length&&D.isEmptyObject(k["@type"][0]))be=Oe.length>0;else for(const Qe of k["@type"])be=!(!D.isObject(Qe)||!("@default"in Qe))||be||Oe.some(Ke=>Ke===Qe);if(!le.requireAll)return be}else{if(S(ce))continue;{const Qe=C.getValues(k,ce)[0];let Ke=!1;if(Qe&&(E([Qe]),Ke="@default"in Qe),H=!1,0===Oe.length&&Ke)continue;if(Oe.length>0&&Ne)return!1;if(void 0===Qe){if(Oe.length>0)return!1;be=!0}else if(b.isList(Qe)){const Ie=Qe["@list"][0];if(b.isList(Oe[0])){const ze=Oe[0]["@list"];b.isValue(Ie)?be=ze.some(Te=>z(Ie,Te)):(b.isSubject(Ie)||b.isSubjectReference(Ie))&&(be=ze.some(Te=>G(w,Ie,Te,le)))}}else be=b.isValue(Qe)?Oe.some(Ie=>z(Qe,Ie)):b.isSubjectReference(Qe)?Oe.some(Ie=>G(w,Qe,Ie,le)):!!D.isObject(Qe)&&Oe.length>0}}if(!be&&le.requireAll)return!1;De=De||be}return H||De}function Y(w,R){const k=w.uniqueEmbeds[w.graph],le=k[R],H=le.parent,De=le.property,ce={"@id":R};if(D.isArray(H)){for(let Oe=0;Oe<H.length;++Oe)if(C.compareValues(H[Oe],ce)){H[Oe]=ce;break}}else{const Oe=D.isArray(H[De]);C.removeValue(H,De,ce,{propertyIsArray:Oe}),C.addValue(H,De,ce,{propertyIsArray:Oe})}const be=Oe=>{const Ne=Object.keys(k);for(const Qe of Ne)Qe in k&&D.isObject(k[Qe].parent)&&k[Qe].parent["@id"]===Oe&&(delete k[Qe],be(Qe))};be(R)}function q(w,R){if(D.isArray(w))return w.map(k=>q(k,R));if(D.isObject(w)){if("@preserve"in w)return w["@preserve"][0];if(b.isValue(w))return w;if(b.isList(w))return w["@list"]=q(w["@list"],R),w;if("@id"in w){const k=w["@id"];if(R.link.hasOwnProperty(k)){const le=R.link[k].indexOf(w);if(-1!==le)return R.link[k][le];R.link[k].push(w)}else R.link[k]=[w]}for(const k in w)"@id"===k&&R.bnodesToClear.includes(w[k])?delete w["@id"]:w[k]=q(w[k],R)}return w}function Z(w,R,k){D.isObject(w)?C.addValue(w,R,k,{propertyIsArray:!0}):w.push(k)}function G(w,R,k,le){if(!("@id"in k))return!1;const H=w.subjects[k["@id"]];return H&&ae(w,H,R,le)}function z(w,R){const k=R["@value"],le=R["@type"],H=R["@language"],De=w["@value"]?D.isArray(w["@value"])?w["@value"]:[w["@value"]]:[],ce=w["@type"]?D.isArray(w["@type"])?w["@type"]:[w["@type"]]:[],be=w["@language"]?D.isArray(w["@language"])?w["@language"]:[w["@language"]]:[];return 0===De.length&&0===ce.length&&0===be.length||!(!De.includes(k)&&!D.isEmptyObject(De[0])||!(!le&&0===ce.length||ce.includes(le)||le&&D.isEmptyObject(ce[0]))||!(!H&&0===be.length||be.includes(H)||H&&D.isEmptyObject(be[0])))}ee.exports=U,U.frameMergedOrDefault=(w,R,k)=>{const le={options:k,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},H=new C.IdentifierIssuer("_:b");y(w,le.graphMap,"@default",H),k.merged&&(le.graphMap["@merged"]=M(le.graphMap),le.graph="@merged"),le.subjects=le.graphMap[le.graph];const De=[];return U.frame(le,Object.keys(le.subjects).sort(),R,De),k.pruneBlankNodeIdentifiers&&(k.bnodesToClear=Object.keys(le.bnodeMap).filter(ce=>1===le.bnodeMap[ce].length)),k.link={},q(De,k)},U.frame=(w,R,k,le,H=null)=>{E(k);const De=w.options,ce={embed:J(k=k[0],De,"embed"),explicit:J(k,De,"explicit"),requireAll:J(k,De,"requireAll")};w.link.hasOwnProperty(w.graph)||(w.link[w.graph]={});const be=w.link[w.graph],Oe=function L(w,R,k,le){const H={};for(const De of R){const ce=w.graphMap[w.graph][De];ae(w,ce,k,le)&&(H[De]=ce)}return H}(w,R,k,ce),Ne=Object.keys(Oe).sort();for(const Qe of Ne){const Ke=Oe[Qe];if(null===H?w.uniqueEmbeds={[w.graph]:{}}:w.uniqueEmbeds[w.graph]=w.uniqueEmbeds[w.graph]||{},"@link"===ce.embed&&Qe in be){Z(le,H,be[Qe]);continue}const Ie={"@id":Qe};if(0===Qe.indexOf("_:")&&C.addValue(w.bnodeMap,Qe,Ie,{propertyIsArray:!0}),be[Qe]=Ie,("@first"===ce.embed||"@last"===ce.embed)&&w.is11)throw new g("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:k});if(w.embedded||!w.uniqueEmbeds[w.graph].hasOwnProperty(Qe)){if(w.embedded&&("@never"===ce.embed||F(Ke,w.graph,w.subjectStack))){Z(le,H,Ie);continue}if(w.embedded&&("@first"==ce.embed||"@once"==ce.embed)&&w.uniqueEmbeds[w.graph].hasOwnProperty(Qe)){Z(le,H,Ie);continue}if("@last"===ce.embed&&Qe in w.uniqueEmbeds[w.graph]&&Y(w,Qe),w.uniqueEmbeds[w.graph][Qe]={parent:le,property:H},w.subjectStack.push({subject:Ke,graph:w.graph}),Qe in w.graphMap){let ze=!1,Te=null;"@graph"in k?(Te=k["@graph"][0],ze=!("@merged"===Qe||"@default"===Qe),D.isObject(Te)||(Te={})):(ze="@merged"!==w.graph,Te={}),ze&&U.frame({...w,graph:Qe,embedded:!1},Object.keys(w.graphMap[Qe]).sort(),[Te],Ie,"@graph")}"@included"in k&&U.frame({...w,embedded:!1},R,k["@included"],Ie,"@included");for(const ze of Object.keys(Ke).sort())if(S(ze)){if(Ie[ze]=C.clone(Ke[ze]),"@type"===ze)for(const Te of Ke["@type"])0===Te.indexOf("_:")&&C.addValue(w.bnodeMap,Te,Ie,{propertyIsArray:!0})}else if(!ce.explicit||ze in k)for(const Te of Ke[ze]){const Ue=ze in k?k[ze]:I(ce);if(b.isList(Te)){const ue=k[ze]&&k[ze][0]&&k[ze][0]["@list"]?k[ze][0]["@list"]:I(ce),Ae={"@list":[]};Z(Ie,ze,Ae);const rt=Te["@list"];for(const pt of rt)b.isSubjectReference(pt)?U.frame({...w,embedded:!0},[pt["@id"]],ue,Ae,"@list"):Z(Ae,"@list",C.clone(pt))}else b.isSubjectReference(Te)?U.frame({...w,embedded:!0},[Te["@id"]],Ue,Ie,ze):z(Ue[0],Te)&&Z(Ie,ze,C.clone(Te))}for(const ze of Object.keys(k).sort()){if("@type"===ze){if(!D.isObject(k[ze][0])||!("@default"in k[ze][0]))continue}else if(S(ze))continue;const Te=k[ze][0]||{};if(!J(Te,De,"omitDefault")&&!(ze in Ie)){let ue="@null";"@default"in Te&&(ue=C.clone(Te["@default"])),D.isArray(ue)||(ue=[ue]),Ie[ze]=[{"@preserve":ue}]}}for(const ze of Object.keys(k["@reverse"]||{}).sort()){const Te=k["@reverse"][ze];for(const Ue of Object.keys(w.subjects))C.getValues(w.subjects[Ue],ze).some(Ae=>Ae["@id"]===Qe)&&(Ie["@reverse"]=Ie["@reverse"]||{},C.addValue(Ie["@reverse"],ze,[],{propertyIsArray:!0}),U.frame({...w,embedded:!0},[Ue],Te,Ie["@reverse"][ze],H))}Z(le,H,Ie),w.subjectStack.pop()}}},U.cleanupNull=(w,R)=>{if(D.isArray(w))return w.map(le=>U.cleanupNull(le,R)).filter(le=>le);if("@null"===w)return null;if(D.isObject(w)){if("@id"in w){const k=w["@id"];if(R.link.hasOwnProperty(k)){const le=R.link[k].indexOf(w);if(-1!==le)return R.link[k][le];R.link[k].push(w)}else R.link[k]=[w]}for(const k in w)w[k]=U.cleanupNull(w[k],R)}return w}},9767:(ee,K,m)=>{"use strict";var S=m(7156).default;const b=m(1874),D=m(543),C=m(8254),{REGEX_BCP47:O,addValue:g}=m(3521),{handleEvent:y}=m(3855),{RDF_LIST:M,RDF_FIRST:U,RDF_REST:I,RDF_NIL:F,RDF_TYPE:J,RDF_JSON_LITERAL:E,XSD_BOOLEAN:L,XSD_DOUBLE:ae,XSD_INTEGER:Y,XSD_STRING:q}=m(6982),Z={};function G(z,w,R,k){if(z.termType.endsWith("Node"))return{"@id":z.value};const le={"@value":z.value};if(z.language)z.language.match(O)||k.eventHandler&&y({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:z.language}},options:k}),le["@language"]=z.language;else{let H=z.datatype.value;if(H||(H=q),H===E){H="@json";try{le["@value"]=JSON.parse(le["@value"])}catch(De){throw new b("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:le["@value"],cause:De})}}if(w){if(H===L)"true"===le["@value"]?le["@value"]=!0:"false"===le["@value"]&&(le["@value"]=!1);else if(C.isNumeric(le["@value"]))if(H===Y){const De=parseInt(le["@value"],10);De.toFixed(0)===le["@value"]&&(le["@value"]=De)}else H===ae&&(le["@value"]=parseFloat(le["@value"]));[L,Y,ae,q].includes(H)||(le["@type"]=H)}else if("i18n-datatype"===R&&H.startsWith("https://www.w3.org/ns/i18n#")){const[,De,ce]=H.split(/[#_]/);De.length>0&&(le["@language"]=De,De.match(O)||k.eventHandler&&y({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:De}},options:k})),le["@direction"]=ce}else H!==q&&(le["@type"]=H)}return le}ee.exports=Z,Z.fromRDF=function(){var z=S(function*(w,R){const{useRdfType:k=!1,useNativeTypes:le=!1,rdfDirection:H=null}=R,De={},ce={"@default":De},be={};if(H){if("compound-literal"===H)throw new b("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:H});if("i18n-datatype"!==H)throw new b("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:H})}for(const Qe of w){const Ke="DefaultGraph"===Qe.graph.termType?"@default":Qe.graph.value;Ke in ce||(ce[Ke]={}),"@default"!==Ke&&!(Ke in De)&&(De[Ke]={"@id":Ke});const Ie=ce[Ke],ze=Qe.subject.value,Te=Qe.predicate.value,Ue=Qe.object;ze in Ie||(Ie[ze]={"@id":ze});const ue=Ie[ze],Ae=Ue.termType.endsWith("Node");if(Ae&&!(Ue.value in Ie)&&(Ie[Ue.value]={"@id":Ue.value}),Te===J&&!k&&Ae){g(ue,"@type",Ue.value,{propertyIsArray:!0});continue}const rt=G(Ue,le,H,R);if(g(ue,Te,rt,{propertyIsArray:!0}),Ae)if(Ue.value===F){const pt=Ie[Ue.value];"usages"in pt||(pt.usages=[]),pt.usages.push({node:ue,property:Te,value:rt})}else be[Ue.value]=!(Ue.value in be)&&{node:ue,property:Te,value:rt}}for(const Qe in ce){const Ke=ce[Qe];if(!(F in Ke))continue;const Ie=Ke[F];if(Ie.usages){for(let ze of Ie.usages){let Te=ze.node,Ue=ze.property,ue=ze.value;const Ae=[],rt=[];let pt=Object.keys(Te).length;for(;Ue===I&&C.isObject(be[Te["@id"]])&&C.isArray(Te[U])&&1===Te[U].length&&C.isArray(Te[I])&&1===Te[I].length&&(3===pt||4===pt&&C.isArray(Te["@type"])&&1===Te["@type"].length&&Te["@type"][0]===M)&&(Ae.push(Te[U][0]),rt.push(Te["@id"]),ze=be[Te["@id"]],Te=ze.node,Ue=ze.property,ue=ze.value,pt=Object.keys(Te).length,D.isBlankNode(Te)););delete ue["@id"],ue["@list"]=Ae.reverse();for(const Je of rt)delete Ke[Je]}delete Ie.usages}}const Oe=[],Ne=Object.keys(De).sort();for(const Qe of Ne){const Ke=De[Qe];if(Qe in ce){const Ie=Ke["@graph"]=[],ze=ce[Qe],Te=Object.keys(ze).sort();for(const Ue of Te){const ue=ze[Ue];D.isSubjectReference(ue)||Ie.push(ue)}}D.isSubjectReference(Ke)||Oe.push(Ke)}return Oe});return function(w,R){return z.apply(this,arguments)}}()},543:(ee,K,m)=>{"use strict";const S=m(8254),b={};ee.exports=b,b.isSubject=D=>!(!S.isObject(D)||"@value"in D||"@set"in D||"@list"in D)&&(Object.keys(D).length>1||!("@id"in D)),b.isSubjectReference=D=>S.isObject(D)&&1===Object.keys(D).length&&"@id"in D,b.isValue=D=>S.isObject(D)&&"@value"in D,b.isList=D=>S.isObject(D)&&"@list"in D,b.isGraph=D=>S.isObject(D)&&"@graph"in D&&1===Object.keys(D).filter(C=>"@id"!==C&&"@index"!==C).length,b.isSimpleGraph=D=>b.isGraph(D)&&!("@id"in D),b.isBlankNode=D=>{if(S.isObject(D)){if("@id"in D){const C=D["@id"];return!S.isString(C)||0===C.indexOf("_:")}return 0===Object.keys(D).length||!("@value"in D||"@set"in D||"@list"in D)}return!1}},7661:(ee,K,m)=>{var S=m(7156).default;const b=m(1986),D=m(8924),C=m(3521),O=m(4198),g=C.IdentifierIssuer,y=m(1874),M=m(1072),U=m(7260),{expand:I}=m(3860),{flatten:F}=m(8295),{fromRDF:J}=m(9767),{toRDF:E}=m(240),{frameMergedOrDefault:L,cleanupNull:ae}=m(9193),{isArray:Y,isObject:q,isString:Z}=m(8254),{isSubjectReference:G}=m(543),{expandIri:z,getInitialContext:w,process:R,processingMode:k}=m(9611),{compact:le,compactIri:H}=m(8809),{createNodeMap:De,createMergedNodeMap:ce,mergeNodeMaps:be}=m(9783),{logEventHandler:Oe,logWarningEventHandler:Ne,safeEventHandler:Qe,setDefaultEventHandler:Ke,setupEventHandler:Ie,strictEventHandler:ze,unhandledEventHandler:Te}=m(3855),Ue=function(Ae){const rt={},Je=new M({max:100});function me(B,{documentLoader:T=Ae.documentLoader,...se}){if(B&&"compactionMap"in B)throw new y('"compactionMap" not supported.',"jsonld.OptionsError");if(B&&"expansionMap"in B)throw new y('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:T},se,B,{eventHandler:Ie({options:B})})}return Ae.compact=function(){var B=S(function*(T,se,ie){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===se)throw new y("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===T)return null;let He;(ie=me(ie,{base:Z(T)?T:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new g("_:b"),contextResolver:new O({sharedCache:Je})})).link&&(ie.skipExpansion=!0),ie.compactToRelative||delete ie.base,He=ie.skipExpansion?T:yield Ae.expand(T,ie);const Ze=yield Ae.processContext(w(ie),se,ie);let he=yield le({activeCtx:Ze,element:He,options:ie});ie.compactArrays&&!ie.graph&&Y(he)?1===he.length?he=he[0]:0===he.length&&(he={}):ie.graph&&q(he)&&(he=[he]),q(se)&&"@context"in se&&(se=se["@context"]),se=C.clone(se),Y(se)||(se=[se]);const re=se;se=[];for(let N=0;N<re.length;++N)(!q(re[N])||Object.keys(re[N]).length>0)&&se.push(re[N]);const W=se.length>0;if(1===se.length&&(se=se[0]),Y(he)){const N=H({activeCtx:Ze,iri:"@graph",relativeTo:{vocab:!0}}),V=he;he={},W&&(he["@context"]=se),he[N]=V}else if(q(he)&&W){const N=he;he={"@context":se};for(const V in N)he[V]=N[V]}return he});return function(T,se,ie){return B.apply(this,arguments)}}(),Ae.expand=function(){var B=S(function*(T,se){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");const ie={},He=[];if("expandContext"in(se=me(se,{keepFreeFloatingNodes:!1,contextResolver:new O({sharedCache:Je})}))){const W=C.clone(se.expandContext);ie.expandContext=q(W)&&"@context"in W?W:{"@context":W},He.push(ie.expandContext)}let Ze;if(Z(T)){const W=yield Ae.get(T,se);Ze=W.documentUrl,ie.input=W.document,W.contextUrl&&(ie.remoteContext={"@context":W.contextUrl},He.push(ie.remoteContext))}else ie.input=C.clone(T);"base"in se||(se.base=Ze||"");let he=w(se);for(const W of He)he=yield R({activeCtx:he,localCtx:W,options:se});let re=yield I({activeCtx:he,element:ie.input,options:se});return q(re)&&"@graph"in re&&1===Object.keys(re).length?re=re["@graph"]:null===re&&(re=[]),Y(re)||(re=[re]),re});return function(T,se){return B.apply(this,arguments)}}(),Ae.flatten=function(){var B=S(function*(T,se,ie){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");se="function"==typeof se?null:se||null,ie=me(ie,{base:Z(T)?T:"",contextResolver:new O({sharedCache:Je})});const He=yield Ae.expand(T,ie),Ze=F(He);return null===se?Ze:(ie.graph=!0,ie.skipExpansion=!0,yield Ae.compact(Ze,se,ie))});return function(T,se,ie){return B.apply(this,arguments)}}(),Ae.frame=function(){var B=S(function*(T,se,ie){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(ie=me(ie,{base:Z(T)?T:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new O({sharedCache:Je})}),Z(se)){const We=yield Ae.get(se,ie);if(se=We.document,We.contextUrl){let ye=se["@context"];ye?Y(ye)?ye.push(We.contextUrl):ye=[ye,We.contextUrl]:ye=We.contextUrl,se["@context"]=ye}}const He=se&&se["@context"]||{},Ze=yield Ae.processContext(w(ie),He,ie);ie.hasOwnProperty("omitGraph")||(ie.omitGraph=k(Ze,1.1)),ie.hasOwnProperty("pruneBlankNodeIdentifiers")||(ie.pruneBlankNodeIdentifiers=k(Ze,1.1));const he=yield Ae.expand(T,ie),re={...ie};re.isFrame=!0,re.keepFreeFloatingNodes=!0;const W=yield Ae.expand(se,re),N=Object.keys(se).map(We=>z(Ze,We,{vocab:!0}));re.merged=!N.includes("@graph"),re.is11=k(Ze,1.1);const V=L(he,W,re);re.graph=!ie.omitGraph,re.skipExpansion=!0,re.link={},re.framing=!0;let fe=yield Ae.compact(V,He,re);return re.link={},fe=ae(fe,re),fe});return function(T,se,ie){return B.apply(this,arguments)}}(),Ae.link=function(){var B=S(function*(T,se,ie){const He={};return se&&(He["@context"]=se),He["@embed"]="@link",Ae.frame(T,He,ie)});return function(T,se,ie){return B.apply(this,arguments)}}(),Ae.normalize=Ae.canonize=function(){var B=S(function*(T,se){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(se=me(se,{base:Z(T)?T:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new O({sharedCache:Je})}))){if("application/n-quads"!==se.inputFormat&&"application/nquads"!==se.inputFormat)throw new y("Unknown canonicalization input format.","jsonld.CanonizeError");const Ze=U.parse(T);return b.canonize(Ze,se)}const ie={...se};delete ie.format,ie.produceGeneralizedRdf=!1;const He=yield Ae.toRDF(T,ie);return b.canonize(He,se)});return function(T,se){return B.apply(this,arguments)}}(),Ae.fromRDF=function(){var B=S(function*(T,se){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");se=me(se,{format:Z(T)?"application/n-quads":void 0});const{format:ie}=se;let{rdfParser:He}=se;if(ie){if(He=He||rt[ie],!He)throw new y("Unknown input format.","jsonld.UnknownFormat",{format:ie})}else He=()=>T;const Ze=yield He(T);return J(Ze,se)});return function(T,se){return B.apply(this,arguments)}}(),Ae.toRDF=function(){var B=S(function*(T,se){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let ie;ie=(se=me(se,{base:Z(T)?T:"",skipExpansion:!1,contextResolver:new O({sharedCache:Je})})).skipExpansion?T:yield Ae.expand(T,se);const He=E(ie,se);if(se.format){if("application/n-quads"===se.format||"application/nquads"===se.format)return U.serialize(He);throw new y("Unknown output format.","jsonld.UnknownFormat",{format:se.format})}return He});return function(T,se){return B.apply(this,arguments)}}(),Ae.createNodeMap=function(){var B=S(function*(T,se){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");se=me(se,{base:Z(T)?T:"",contextResolver:new O({sharedCache:Je})});const ie=yield Ae.expand(T,se);return ce(ie,se)});return function(T,se){return B.apply(this,arguments)}}(),Ae.merge=function(){var B=S(function*(T,se,ie){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!Y(T))throw new TypeError('Could not merge, "docs" must be an array.');se="function"==typeof se?null:se||null,ie=me(ie,{contextResolver:new O({sharedCache:Je})});const He=yield Promise.all(T.map(We=>{const ye={...ie};return Ae.expand(We,ye)}));let Ze=!0;"mergeNodes"in ie&&(Ze=ie.mergeNodes);const he=ie.issuer||new g("_:b"),re={"@default":{}};for(let We=0;We<He.length;++We){const ye=C.relabelBlankNodes(He[We],{issuer:new g("_:b"+We+"-")}),je=Ze||0===We?re:{"@default":{}};if(De(ye,je,"@default",he),je!==re)for(const at in je){const vt=je[at];if(!(at in re)){re[at]=vt;continue}const wt=re[at];for(const At in vt)At in wt||(wt[At]=vt[At])}}const W=be(re),N=[],V=Object.keys(W).sort();for(let We=0;We<V.length;++We){const ye=W[V[We]];G(ye)||N.push(ye)}return null===se?N:(ie.graph=!0,ie.skipExpansion=!0,yield Ae.compact(N,se,ie))});return function(T,se,ie){return B.apply(this,arguments)}}(),Object.defineProperty(Ae,"documentLoader",{get:()=>Ae._documentLoader,set:B=>Ae._documentLoader=B}),Ae.documentLoader=function(){var B=S(function*(T){throw new y("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:T})});return function(T){return B.apply(this,arguments)}}(),Ae.get=function(){var B=S(function*(T,se){let ie;ie="function"==typeof se.documentLoader?se.documentLoader:Ae.documentLoader;const He=yield ie(T);try{if(!He.document)throw new y("No remote document found at the given URL.","jsonld.NullRemoteDocument");Z(He.document)&&(He.document=JSON.parse(He.document))}catch(Ze){throw new y("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:Ze,remoteDoc:He})}return He});return function(T,se){return B.apply(this,arguments)}}(),Ae.processContext=function(){var B=S(function*(T,se,ie){return ie=me(ie,{base:"",contextResolver:new O({sharedCache:Je})}),null===se?w(ie):(se=C.clone(se),q(se)&&"@context"in se||(se={"@context":se}),R({activeCtx:T,localCtx:se,options:ie}))});return function(T,se,ie){return B.apply(this,arguments)}}(),Ae.getContextValue=m(9611).getContextValue,Ae.documentLoaders={},Ae.useDocumentLoader=function(B){if(!(B in Ae.documentLoaders))throw new y('Unknown document loader type: "'+B+'"',"jsonld.UnknownDocumentLoader",{type:B});Ae.documentLoader=Ae.documentLoaders[B].apply(Ae,Array.prototype.slice.call(arguments,1))},Ae.registerRDFParser=function(B,T){rt[B]=T},Ae.unregisterRDFParser=function(B){delete rt[B]},Ae.registerRDFParser("application/n-quads",U.parse),Ae.registerRDFParser("application/nquads",U.parse),Ae.url=m(2651),Ae.logEventHandler=Oe,Ae.logWarningEventHandler=Ne,Ae.safeEventHandler=Qe,Ae.setDefaultEventHandler=Ke,Ae.strictEventHandler=ze,Ae.unhandledEventHandler=Te,Ae.util=C,Object.assign(Ae,C),Ae.promises=Ae,Ae.RequestQueue=m(4044),Ae.JsonLdProcessor=m(1828)(Ae),D.setupGlobals(Ae),D.setupDocumentLoaders(Ae),Ae},ue=function(){return Ue(function(){return ue()})};Ue(ue),ee.exports=ue},9783:(ee,K,m)=>{"use strict";const{isKeyword:S}=m(9611),b=m(543),D=m(8254),C=m(3521),O=m(1874),g={};ee.exports=g,g.createMergedNodeMap=(y,M)=>{const U=(M=M||{}).issuer||new C.IdentifierIssuer("_:b"),I={"@default":{}};return g.createNodeMap(y,I,"@default",U),g.mergeNodeMaps(I)},g.createNodeMap=(y,M,U,I,F,J)=>{if(D.isArray(y)){for(const Y of y)g.createNodeMap(Y,M,U,I,void 0,J);return}if(!D.isObject(y))return void(J&&J.push(y));if(b.isValue(y)){if("@type"in y){let Y=y["@type"];0===Y.indexOf("_:")&&(y["@type"]=Y=I.getId(Y))}return void(J&&J.push(y))}if(J&&b.isList(y)){const Y=[];return g.createNodeMap(y["@list"],M,U,I,F,Y),void J.push({"@list":Y})}if("@type"in y){const Y=y["@type"];for(const q of Y)0===q.indexOf("_:")&&I.getId(q)}D.isUndefined(F)&&(F=b.isBlankNode(y)?I.getId(y["@id"]):y["@id"]),J&&J.push({"@id":F});const E=M[U],L=E[F]=E[F]||{};L["@id"]=F;const ae=Object.keys(y).sort();for(let Y of ae){if("@id"===Y)continue;if("@reverse"===Y){const Z={"@id":F},G=y["@reverse"];for(const z in G){const w=G[z];for(const R of w){let k=R["@id"];b.isBlankNode(R)&&(k=I.getId(k)),g.createNodeMap(R,M,U,I,k),C.addValue(E[k],z,Z,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===Y){F in M||(M[F]={}),g.createNodeMap(y[Y],M,F,I);continue}if("@included"===Y){g.createNodeMap(y[Y],M,U,I);continue}if("@type"!==Y&&S(Y)){if("@index"===Y&&Y in L&&(y[Y]!==L[Y]||y[Y]["@id"]!==L[Y]["@id"]))throw new O("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:L});L[Y]=y[Y];continue}const q=y[Y];if(0===Y.indexOf("_:")&&(Y=I.getId(Y)),0!==q.length)for(let Z of q)if("@type"===Y&&(Z=0===Z.indexOf("_:")?I.getId(Z):Z),b.isSubject(Z)||b.isSubjectReference(Z)){if("@id"in Z&&!Z["@id"])continue;const G=b.isBlankNode(Z)?I.getId(Z["@id"]):Z["@id"];C.addValue(L,Y,{"@id":G},{propertyIsArray:!0,allowDuplicate:!1}),g.createNodeMap(Z,M,U,I,G)}else if(b.isValue(Z))C.addValue(L,Y,Z,{propertyIsArray:!0,allowDuplicate:!1});else if(b.isList(Z)){const G=[];g.createNodeMap(Z["@list"],M,U,I,F,G),Z={"@list":G},C.addValue(L,Y,Z,{propertyIsArray:!0,allowDuplicate:!1})}else g.createNodeMap(Z,M,U,I,F),C.addValue(L,Y,Z,{propertyIsArray:!0,allowDuplicate:!1});else C.addValue(L,Y,[],{propertyIsArray:!0})}},g.mergeNodeMapGraphs=y=>{const M={};for(const U of Object.keys(y).sort())for(const I of Object.keys(y[U]).sort()){const F=y[U][I];I in M||(M[I]={"@id":I});const J=M[I];for(const E of Object.keys(F).sort())if(S(E)&&"@type"!==E)J[E]=C.clone(F[E]);else for(const L of F[E])C.addValue(J,E,C.clone(L),{propertyIsArray:!0,allowDuplicate:!1})}return M},g.mergeNodeMaps=y=>{const M=y["@default"],U=Object.keys(y).sort();for(const I of U){if("@default"===I)continue;const F=y[I];let J=M[I];J?"@graph"in J||(J["@graph"]=[]):M[I]=J={"@id":I,"@graph":[]};const E=J["@graph"];for(const L of Object.keys(F).sort()){const ae=F[L];b.isSubjectReference(ae)||E.push(ae)}}return M}},8924:(ee,K,m)=>{"use strict";const S=m(627),b={};ee.exports=b,b.setupDocumentLoaders=function(D){typeof XMLHttpRequest<"u"&&(D.documentLoaders.xhr=S,D.useDocumentLoader("xhr"))},b.setupGlobals=function(D){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:D.JsonLdProcessor})}},240:(ee,K,m)=>{"use strict";const{createNodeMap:S}=m(9783),{isKeyword:b}=m(9611),D=m(543),C=m(5041),O=m(1874),g=m(8254),y=m(3521),{handleEvent:M}=m(3855),{RDF_FIRST:U,RDF_REST:I,RDF_NIL:F,RDF_TYPE:J,RDF_JSON_LITERAL:E,RDF_LANGSTRING:L,XSD_BOOLEAN:ae,XSD_DOUBLE:Y,XSD_INTEGER:q,XSD_STRING:Z}=m(6982),{isAbsolute:G}=m(2651),z={};function w(le,H,De,ce,be){const Oe=Object.keys(H).sort();for(const Ne of Oe){const Qe=H[Ne],Ke=Object.keys(Qe).sort();for(let Ie of Ke){const ze=Qe[Ie];if("@type"===Ie)Ie=J;else if(b(Ie))continue;for(const Te of ze){const Ue={termType:Ne.startsWith("_:")?"BlankNode":"NamedNode",value:Ne};if(!G(Ne)){be.eventHandler&&M({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:Ne}},options:be});continue}const ue={termType:Ie.startsWith("_:")?"BlankNode":"NamedNode",value:Ie};if(!G(Ie)){be.eventHandler&&M({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:Ie}},options:be});continue}if("BlankNode"===ue.termType&&!be.produceGeneralizedRdf){be.eventHandler&&M({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:ce.getOldIds().find(rt=>ce.getId(rt)===Ie)}},options:be});continue}const Ae=k(Te,ce,le,De,be.rdfDirection,be);Ae&&le.push({subject:Ue,predicate:ue,object:Ae,graph:De})}}}}function k(le,H,De,ce,be,Oe){const Ne={};if(D.isValue(le)){Ne.termType="Literal",Ne.value=void 0,Ne.datatype={termType:"NamedNode"};let Qe=le["@value"];const Ke=le["@type"]||null;if("@json"===Ke)Ne.value=C(Qe),Ne.datatype.value=E;else if(g.isBoolean(Qe))Ne.value=Qe.toString(),Ne.datatype.value=Ke||ae;else if(g.isDouble(Qe)||Ke===Y)g.isDouble(Qe)||(Qe=parseFloat(Qe)),Ne.value=Qe.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),Ne.datatype.value=Ke||Y;else if(g.isNumber(Qe))Ne.value=Qe.toFixed(0),Ne.datatype.value=Ke||q;else if("@direction"in le&&"i18n-datatype"===be){const Ie=(le["@language"]||"").toLowerCase();Ne.datatype.value=`https://www.w3.org/ns/i18n#${Ie}_${le["@direction"]}`,Ne.value=Qe}else{if("@direction"in le&&"compound-literal"===be)throw new O("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:be});if("@direction"in le&&be)throw new O("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:be});"@language"in le?("@direction"in le&&!be&&Oe.eventHandler&&M({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:Ne.value}},options:Oe}),Ne.value=Qe,Ne.datatype.value=Ke||L,Ne.language=le["@language"]):("@direction"in le&&!be&&Oe.eventHandler&&M({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:Ne.value}},options:Oe}),Ne.value=Qe,Ne.datatype.value=Ke||Z)}}else if(D.isList(le)){const Qe=function R(le,H,De,ce,be,Oe){const Ne={termType:"NamedNode",value:U},Qe={termType:"NamedNode",value:I},Ke={termType:"NamedNode",value:F},Ie=le.pop(),ze=Ie?{termType:"BlankNode",value:H.getId()}:Ke;let Te=ze;for(const Ue of le){const ue=k(Ue,H,De,ce,be,Oe),Ae={termType:"BlankNode",value:H.getId()};De.push({subject:Te,predicate:Ne,object:ue,graph:ce}),De.push({subject:Te,predicate:Qe,object:Ae,graph:ce}),Te=Ae}if(Ie){const Ue=k(Ie,H,De,ce,be,Oe);De.push({subject:Te,predicate:Ne,object:Ue,graph:ce}),De.push({subject:Te,predicate:Qe,object:Ke,graph:ce})}return ze}(le["@list"],H,De,ce,be,Oe);Ne.termType=Qe.termType,Ne.value=Qe.value}else{const Qe=g.isObject(le)?le["@id"]:le;Ne.termType=Qe.startsWith("_:")?"BlankNode":"NamedNode",Ne.value=Qe}return"NamedNode"!==Ne.termType||G(Ne.value)?Ne:(Oe.eventHandler&&M({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:Ne.value}},options:Oe}),null)}ee.exports=z,z.toRDF=(le,H)=>{const De=new y.IdentifierIssuer("_:b"),ce={"@default":{}};S(le,ce,"@default",De);const be=[],Oe=Object.keys(ce).sort();for(const Ne of Oe){let Qe;if("@default"===Ne)Qe={termType:"DefaultGraph",value:""};else{if(!G(Ne)){H.eventHandler&&M({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:Ne}},options:H});continue}Qe=Ne.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},Qe.value=Ne}w(be,ce[Ne],Qe,De,H)}return be}},8254:ee=>{"use strict";const K={};ee.exports=K,K.isArray=Array.isArray,K.isBoolean=m=>"boolean"==typeof m||"[object Boolean]"===Object.prototype.toString.call(m),K.isDouble=m=>K.isNumber(m)&&(-1!==String(m).indexOf(".")||Math.abs(m)>=1e21),K.isEmptyObject=m=>K.isObject(m)&&0===Object.keys(m).length,K.isNumber=m=>"number"==typeof m||"[object Number]"===Object.prototype.toString.call(m),K.isNumeric=m=>!isNaN(parseFloat(m))&&isFinite(m),K.isObject=m=>"[object Object]"===Object.prototype.toString.call(m),K.isString=m=>"string"==typeof m||"[object String]"===Object.prototype.toString.call(m),K.isUndefined=m=>typeof m>"u"},2651:(ee,K,m)=>{"use strict";const S=m(8254),b={};ee.exports=b,b.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},b.parse=(C,O)=>{const g={},y=b.parsers[O||"full"],M=y.regex.exec(C);let U=y.keys.length;for(;U--;)g[y.keys[U]]=void 0===M[U]?null:M[U];return("https"===g.scheme&&"443"===g.port||"http"===g.scheme&&"80"===g.port)&&(g.href=g.href.replace(":"+g.port,""),g.authority=g.authority.replace(":"+g.port,""),g.port=null),g.normalizedPath=b.removeDotSegments(g.path),g},b.prependBase=(C,O)=>{if(null===C||b.isAbsolute(O))return O;(!C||S.isString(C))&&(C=b.parse(C||""));const g=b.parse(O),y={protocol:C.protocol||""};if(null!==g.authority)y.authority=g.authority,y.path=g.path,y.query=g.query;else if(y.authority=C.authority,""===g.path)y.path=C.path,y.query=null!==g.query?g.query:C.query;else{if(0===g.path.indexOf("/"))y.path=g.path;else{let U=C.path;U=U.substr(0,U.lastIndexOf("/")+1),(U.length>0||C.authority)&&"/"!==U.substr(-1)&&(U+="/"),U+=g.path,y.path=U}y.query=g.query}""!==g.path&&(y.path=b.removeDotSegments(y.path));let M=y.protocol;return null!==y.authority&&(M+="//"+y.authority),M+=y.path,null!==y.query&&(M+="?"+y.query),null!==g.fragment&&(M+="#"+g.fragment),""===M&&(M="./"),M},b.removeBase=(C,O)=>{if(null===C)return O;(!C||S.isString(C))&&(C=b.parse(C||""));let g="";if(""!==C.href?g+=(C.protocol||"")+"//"+(C.authority||""):O.indexOf("//")&&(g+="//"),0!==O.indexOf(g))return O;const y=b.parse(O.substr(g.length)),M=C.normalizedPath.split("/"),U=y.normalizedPath.split("/"),I=y.fragment||y.query?0:1;for(;M.length>0&&U.length>I&&M[0]===U[0];)M.shift(),U.shift();let F="";if(M.length>0){M.pop();for(let J=0;J<M.length;++J)F+="../"}return F+=U.join("/"),null!==y.query&&(F+="?"+y.query),null!==y.fragment&&(F+="#"+y.fragment),""===F&&(F="./"),F},b.removeDotSegments=C=>{if(0===C.length)return"";const O=C.split("/"),g=[];for(;O.length>0;){const y=O.shift(),M=0===O.length;"."!==y?".."!==y?g.push(y):(g.pop(),M&&g.push("")):M&&g.push("")}return"/"===C[0]&&g.length>0&&""!==g[0]&&g.unshift(""),1===g.length&&""===g[0]?"/":g.join("/")};const D=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;b.isAbsolute=C=>S.isString(C)&&D.test(C),b.isRelative=C=>S.isString(C)},3521:(ee,K,m)=>{"use strict";const S=m(543),b=m(8254),D=m(1986).IdentifierIssuer,C=m(1874),g=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,y=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,M=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,I_headers_accept="application/ld+json, application/json",F={};function J(E,L){if(b.isArray(L))for(let ae=0;ae<L.length;++ae)L[ae]=J(E,L[ae]);else if(S.isList(L))L["@list"]=J(E,L["@list"]);else if(b.isObject(L)){S.isBlankNode(L)&&(L["@id"]=E.getId(L["@id"]));const ae=Object.keys(L).sort();for(let Y=0;Y<ae.length;++Y){const q=ae[Y];"@id"!==q&&(L[q]=J(E,L[q]))}}return L}ee.exports=F,F.IdentifierIssuer=D,F.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,F.REGEX_KEYWORD=/^@[a-zA-Z]+$/,F.clone=function(E){if(E&&"object"==typeof E){let L;if(b.isArray(E)){L=[];for(let ae=0;ae<E.length;++ae)L[ae]=F.clone(E[ae])}else if(E instanceof Map){L=new Map;for(const[ae,Y]of E)L.set(ae,F.clone(Y))}else if(E instanceof Set){L=new Set;for(const ae of E)L.add(F.clone(ae))}else if(b.isObject(E)){L={};for(const ae in E)L[ae]=F.clone(E[ae])}else L=E.toString();return L}return E},F.asArray=function(E){return Array.isArray(E)?E:[E]},F.buildHeaders=(E={})=>{if(Object.keys(E).some(ae=>"accept"===ae.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+I_headers_accept+'" is supported.');return Object.assign({Accept:I_headers_accept},E)},F.parseLinkHeader=E=>{const L={},ae=E.match(g);for(let Y=0;Y<ae.length;++Y){let q=ae[Y].match(y);if(!q)continue;const Z={target:q[1]},G=q[2];for(;q=M.exec(G);)Z[q[1]]=void 0===q[2]?q[3]:q[2];const z=Z.rel||"";Array.isArray(L[z])?L[z].push(Z):L[z]=L.hasOwnProperty(z)?[L[z],Z]:Z}return L},F.validateTypeValue=(E,L)=>{if(!(b.isString(E)||b.isArray(E)&&E.every(ae=>b.isString(ae)))){if(L&&b.isObject(E))switch(Object.keys(E).length){case 0:return;case 1:if("@default"in E&&F.asArray(E["@default"]).every(ae=>b.isString(ae)))return}throw new C('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:E})}},F.hasProperty=(E,L)=>{if(E.hasOwnProperty(L)){const ae=E[L];return!b.isArray(ae)||ae.length>0}return!1},F.hasValue=(E,L,ae)=>{if(F.hasProperty(E,L)){let Y=E[L];const q=S.isList(Y);if(b.isArray(Y)||q){q&&(Y=Y["@list"]);for(let Z=0;Z<Y.length;++Z)if(F.compareValues(ae,Y[Z]))return!0}else if(!b.isArray(ae))return F.compareValues(ae,Y)}return!1},F.addValue=(E,L,ae,Y)=>{if("propertyIsArray"in(Y=Y||{})||(Y.propertyIsArray=!1),"valueIsArray"in Y||(Y.valueIsArray=!1),"allowDuplicate"in Y||(Y.allowDuplicate=!0),"prependValue"in Y||(Y.prependValue=!1),Y.valueIsArray)E[L]=ae;else if(b.isArray(ae)){0===ae.length&&Y.propertyIsArray&&!E.hasOwnProperty(L)&&(E[L]=[]),Y.prependValue&&(ae=ae.concat(E[L]),E[L]=[]);for(let q=0;q<ae.length;++q)F.addValue(E,L,ae[q],Y)}else if(E.hasOwnProperty(L)){const q=!Y.allowDuplicate&&F.hasValue(E,L,ae);!b.isArray(E[L])&&(!q||Y.propertyIsArray)&&(E[L]=[E[L]]),q||(Y.prependValue?E[L].unshift(ae):E[L].push(ae))}else E[L]=Y.propertyIsArray?[ae]:ae},F.getValues=(E,L)=>[].concat(E[L]||[]),F.removeProperty=(E,L)=>{delete E[L]},F.removeValue=(E,L,ae,Y)=>{"propertyIsArray"in(Y=Y||{})||(Y.propertyIsArray=!1);const q=F.getValues(E,L).filter(Z=>!F.compareValues(Z,ae));0===q.length?F.removeProperty(E,L):E[L]=1!==q.length||Y.propertyIsArray?q:q[0]},F.relabelBlankNodes=(E,L)=>J((L=L||{}).issuer||new D("_:b"),E),F.compareValues=(E,L)=>!!(E===L||S.isValue(E)&&S.isValue(L)&&E["@value"]===L["@value"]&&E["@type"]===L["@type"]&&E["@language"]===L["@language"]&&E["@index"]===L["@index"])||!!(b.isObject(E)&&"@id"in E&&b.isObject(L)&&"@id"in L)&&E["@id"]===L["@id"],F.compareShortestLeast=(E,L)=>E.length<L.length?-1:L.length<E.length?1:E===L?0:E<L?-1:1},5041:ee=>{"use strict";ee.exports=function K(m){return null===m||"object"!=typeof m||null!=m.toJSON?JSON.stringify(m):Array.isArray(m)?"["+m.reduce((S,b,D)=>S+(0===D?"":",")+K(void 0===b||"symbol"==typeof b?null:b),"")+"]":"{"+Object.keys(m).sort().reduce((S,b,D)=>void 0===m[b]||"symbol"==typeof m[b]?S:S+(0===S.length?"":",")+K(b)+":"+K(m[b]),"")+"}"}},1072:(ee,K,m)=>{"use strict";const S=m(4439),b=Symbol("max"),D=Symbol("length"),C=Symbol("lengthCalculator"),O=Symbol("allowStale"),g=Symbol("maxAge"),y=Symbol("dispose"),M=Symbol("noDisposeOnSet"),U=Symbol("lruList"),I=Symbol("cache"),F=Symbol("updateAgeOnGet"),J=()=>1,L=(z,w,R)=>{const k=z[I].get(w);if(k){const le=k.value;if(ae(z,le)){if(q(z,k),!z[O])return}else R&&(z[F]&&(k.value.now=Date.now()),z[U].unshiftNode(k));return le.value}},ae=(z,w)=>{if(!w||!w.maxAge&&!z[g])return!1;const R=Date.now()-w.now;return w.maxAge?R>w.maxAge:z[g]&&R>z[g]},Y=z=>{if(z[D]>z[b])for(let w=z[U].tail;z[D]>z[b]&&null!==w;){const R=w.prev;q(z,w),w=R}},q=(z,w)=>{if(w){const R=w.value;z[y]&&z[y](R.key,R.value),z[D]-=R.length,z[I].delete(R.key),z[U].removeNode(w)}};class Z{constructor(w,R,k,le,H){this.key=w,this.value=R,this.length=k,this.now=le,this.maxAge=H||0}}const G=(z,w,R,k)=>{let le=R.value;ae(z,le)&&(q(z,R),z[O]||(le=void 0)),le&&w.call(k,le.value,le.key,z)};ee.exports=class E{constructor(w){if("number"==typeof w&&(w={max:w}),w||(w={}),w.max&&("number"!=typeof w.max||w.max<0))throw new TypeError("max must be a non-negative number");this[b]=w.max||1/0;const k=w.length||J;if(this[C]="function"!=typeof k?J:k,this[O]=w.stale||!1,w.maxAge&&"number"!=typeof w.maxAge)throw new TypeError("maxAge must be a number");this[g]=w.maxAge||0,this[y]=w.dispose,this[M]=w.noDisposeOnSet||!1,this[F]=w.updateAgeOnGet||!1,this.reset()}set max(w){if("number"!=typeof w||w<0)throw new TypeError("max must be a non-negative number");this[b]=w||1/0,Y(this)}get max(){return this[b]}set allowStale(w){this[O]=!!w}get allowStale(){return this[O]}set maxAge(w){if("number"!=typeof w)throw new TypeError("maxAge must be a non-negative number");this[g]=w,Y(this)}get maxAge(){return this[g]}set lengthCalculator(w){"function"!=typeof w&&(w=J),w!==this[C]&&(this[C]=w,this[D]=0,this[U].forEach(R=>{R.length=this[C](R.value,R.key),this[D]+=R.length})),Y(this)}get lengthCalculator(){return this[C]}get length(){return this[D]}get itemCount(){return this[U].length}rforEach(w,R){R=R||this;for(let k=this[U].tail;null!==k;){const le=k.prev;G(this,w,k,R),k=le}}forEach(w,R){R=R||this;for(let k=this[U].head;null!==k;){const le=k.next;G(this,w,k,R),k=le}}keys(){return this[U].toArray().map(w=>w.key)}values(){return this[U].toArray().map(w=>w.value)}reset(){this[y]&&this[U]&&this[U].length&&this[U].forEach(w=>this[y](w.key,w.value)),this[I]=new Map,this[U]=new S,this[D]=0}dump(){return this[U].map(w=>!ae(this,w)&&{k:w.key,v:w.value,e:w.now+(w.maxAge||0)}).toArray().filter(w=>w)}dumpLru(){return this[U]}set(w,R,k){if((k=k||this[g])&&"number"!=typeof k)throw new TypeError("maxAge must be a number");const le=k?Date.now():0,H=this[C](R,w);if(this[I].has(w)){if(H>this[b])return q(this,this[I].get(w)),!1;const be=this[I].get(w).value;return this[y]&&(this[M]||this[y](w,be.value)),be.now=le,be.maxAge=k,be.value=R,this[D]+=H-be.length,be.length=H,this.get(w),Y(this),!0}const De=new Z(w,R,H,le,k);return De.length>this[b]?(this[y]&&this[y](w,R),!1):(this[D]+=De.length,this[U].unshift(De),this[I].set(w,this[U].head),Y(this),!0)}has(w){if(!this[I].has(w))return!1;const R=this[I].get(w).value;return!ae(this,R)}get(w){return L(this,w,!0)}peek(w){return L(this,w,!1)}pop(){const w=this[U].tail;return w?(q(this,w),w.value):null}del(w){q(this,this[I].get(w))}load(w){this.reset();const R=Date.now();for(let k=w.length-1;k>=0;k--){const le=w[k],H=le.e||0;if(0===H)this.set(le.k,le.v);else{const De=H-R;De>0&&this.set(le.k,le.v,De)}}}prune(){this[I].forEach((w,R)=>L(this,R,!1))}}},6506:(ee,K,m)=>{var D=m(8745)(m(8492),"DataView");ee.exports=D},9618:(ee,K,m)=>{var S=m(5602),b=m(1499),D=m(2990),C=m(480),O=m(4469);function g(y){var M=-1,U=null==y?0:y.length;for(this.clear();++M<U;){var I=y[M];this.set(I[0],I[1])}}g.prototype.clear=S,g.prototype.delete=b,g.prototype.get=D,g.prototype.has=C,g.prototype.set=O,ee.exports=g},3597:(ee,K,m)=>{var S=m(9365),b=m(9343),D=m(4779),C=m(1509),O=m(7137);function g(y){var M=-1,U=null==y?0:y.length;for(this.clear();++M<U;){var I=y[M];this.set(I[0],I[1])}}g.prototype.clear=S,g.prototype.delete=b,g.prototype.get=D,g.prototype.has=C,g.prototype.set=O,ee.exports=g},1136:(ee,K,m)=>{var D=m(8745)(m(8492),"Map");ee.exports=D},1811:(ee,K,m)=>{var S=m(3413),b=m(5419),D=m(7253),C=m(1115),O=m(6648);function g(y){var M=-1,U=null==y?0:y.length;for(this.clear();++M<U;){var I=y[M];this.set(I[0],I[1])}}g.prototype.clear=S,g.prototype.delete=b,g.prototype.get=D,g.prototype.has=C,g.prototype.set=O,ee.exports=g},641:(ee,K,m)=>{var D=m(8745)(m(8492),"Promise");ee.exports=D},1732:(ee,K,m)=>{var D=m(8745)(m(8492),"Set");ee.exports=D},5960:(ee,K,m)=>{var S=m(1811),b=m(6151),D=m(2154);function C(O){var g=-1,y=null==O?0:O.length;for(this.__data__=new S;++g<y;)this.add(O[g])}C.prototype.add=C.prototype.push=b,C.prototype.has=D,ee.exports=C},1339:(ee,K,m)=>{var S=m(3597),b=m(9488),D=m(5943),C=m(5456),O=m(4793),g=m(8689);function y(M){var U=this.__data__=new S(M);this.size=U.size}y.prototype.clear=b,y.prototype.delete=D,y.prototype.get=C,y.prototype.has=O,y.prototype.set=g,ee.exports=y},1763:(ee,K,m)=>{var S=m(8492);ee.exports=S.Symbol},2760:(ee,K,m)=>{var S=m(8492);ee.exports=S.Uint8Array},6413:(ee,K,m)=>{var D=m(8745)(m(8492),"WeakMap");ee.exports=D},7910:ee=>{ee.exports=function K(m,S,b){switch(b.length){case 0:return m.call(S);case 1:return m.call(S,b[0]);case 2:return m.call(S,b[0],b[1]);case 3:return m.call(S,b[0],b[1],b[2])}return m.apply(S,b)}},2134:ee=>{ee.exports=function K(m,S){for(var b=-1,D=null==m?0:m.length,C=0,O=[];++b<D;){var g=m[b];S(g,b,m)&&(O[C++]=g)}return O}},1384:(ee,K,m)=>{var S=m(5025),b=m(1955),D=m(2261),C=m(7525),O=m(5188),g=m(4868),M=Object.prototype.hasOwnProperty;ee.exports=function U(I,F){var J=D(I),E=!J&&b(I),L=!J&&!E&&C(I),ae=!J&&!E&&!L&&g(I),Y=J||E||L||ae,q=Y?S(I.length,String):[],Z=q.length;for(var G in I)(F||M.call(I,G))&&(!Y||!("length"==G||L&&("offset"==G||"parent"==G)||ae&&("buffer"==G||"byteLength"==G||"byteOffset"==G)||O(G,Z)))&&q.push(G);return q}},3880:ee=>{ee.exports=function K(m,S){for(var b=-1,D=null==m?0:m.length,C=Array(D);++b<D;)C[b]=S(m[b],b,m);return C}},7853:ee=>{ee.exports=function K(m,S){for(var b=-1,D=S.length,C=m.length;++b<D;)m[C+b]=S[b];return m}},5916:ee=>{ee.exports=function K(m,S){for(var b=-1,D=null==m?0:m.length;++b<D;)if(S(m[b],b,m))return!0;return!1}},4056:(ee,K,m)=>{var S=m(7826);ee.exports=function b(D,C){for(var O=D.length;O--;)if(S(D[O][0],C))return O;return-1}},5103:(ee,K,m)=>{var S=m(7794),D=m(9386)(S);ee.exports=D},1883:(ee,K,m)=>{var S=m(7853),b=m(2241);ee.exports=function D(C,O,g,y,M){var U=-1,I=C.length;for(g||(g=b),M||(M=[]);++U<I;){var F=C[U];O>0&&g(F)?O>1?D(F,O-1,g,y,M):S(M,F):y||(M[M.length]=F)}return M}},6483:(ee,K,m)=>{var b=m(2086)();ee.exports=b},7794:(ee,K,m)=>{var S=m(6483),b=m(4614);ee.exports=function D(C,O){return C&&S(C,O,b)}},2202:(ee,K,m)=>{var S=m(4826),b=m(8916);ee.exports=function D(C,O){for(var g=0,y=(O=S(O,C)).length;null!=C&&g<y;)C=C[b(O[g++])];return g&&g==y?C:void 0}},7427:(ee,K,m)=>{var S=m(7853),b=m(2261);ee.exports=function D(C,O,g){var y=O(C);return b(C)?y:S(y,g(C))}},4590:(ee,K,m)=>{var S=m(1763),b=m(5933),D=m(9243),g=S?S.toStringTag:void 0;ee.exports=function y(M){return null==M?void 0===M?"[object Undefined]":"[object Null]":g&&g in Object(M)?b(M):D(M)}},3274:ee=>{ee.exports=function K(m,S){return null!=m&&S in Object(m)}},3022:(ee,K,m)=>{var S=m(4590),b=m(3714);ee.exports=function C(O){return b(O)&&"[object Arguments]"==S(O)}},7108:(ee,K,m)=>{var S=m(7946),b=m(3714);ee.exports=function D(C,O,g,y,M){return C===O||(null==C||null==O||!b(C)&&!b(O)?C!=C&&O!=O:S(C,O,g,y,D,M))}},7946:(ee,K,m)=>{var S=m(1339),b=m(7469),D=m(1642),C=m(9462),O=m(2472),g=m(2261),y=m(7525),M=m(4868),I="[object Arguments]",F="[object Array]",J="[object Object]",L=Object.prototype.hasOwnProperty;ee.exports=function ae(Y,q,Z,G,z,w){var R=g(Y),k=g(q),le=R?F:O(Y),H=k?F:O(q),De=(le=le==I?J:le)==J,ce=(H=H==I?J:H)==J,be=le==H;if(be&&y(Y)){if(!y(q))return!1;R=!0,De=!1}if(be&&!De)return w||(w=new S),R||M(Y)?b(Y,q,Z,G,z,w):D(Y,q,le,Z,G,z,w);if(!(1&Z)){var Oe=De&&L.call(Y,"__wrapped__"),Ne=ce&&L.call(q,"__wrapped__");if(Oe||Ne){var Qe=Oe?Y.value():Y,Ke=Ne?q.value():q;return w||(w=new S),z(Qe,Ke,Z,G,w)}}return!!be&&(w||(w=new S),C(Y,q,Z,G,z,w))}},2527:(ee,K,m)=>{var S=m(1339),b=m(7108);ee.exports=function O(g,y,M,U){var I=M.length,F=I,J=!U;if(null==g)return!F;for(g=Object(g);I--;){var E=M[I];if(J&&E[2]?E[1]!==g[E[0]]:!(E[0]in g))return!1}for(;++I<F;){var L=(E=M[I])[0],ae=g[L],Y=E[1];if(J&&E[2]){if(void 0===ae&&!(L in g))return!1}else{var q=new S;if(U)var Z=U(ae,Y,L,g,y,q);if(!(void 0===Z?b(Y,ae,3,U,q):Z))return!1}}return!0}},1082:(ee,K,m)=>{var S=m(6861),b=m(9950),D=m(9794),C=m(7075),g=/^\[object .+?Constructor\]$/,F=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ee.exports=function J(E){return!(!D(E)||b(E))&&(S(E)?F:g).test(C(E))}},8902:(ee,K,m)=>{var S=m(4590),b=m(7765),D=m(3714),be={};be["[object Float32Array]"]=be["[object Float64Array]"]=be["[object Int8Array]"]=be["[object Int16Array]"]=be["[object Int32Array]"]=be["[object Uint8Array]"]=be["[object Uint8ClampedArray]"]=be["[object Uint16Array]"]=be["[object Uint32Array]"]=!0,be["[object Arguments]"]=be["[object Array]"]=be["[object ArrayBuffer]"]=be["[object Boolean]"]=be["[object DataView]"]=be["[object Date]"]=be["[object Error]"]=be["[object Function]"]=be["[object Map]"]=be["[object Number]"]=be["[object Object]"]=be["[object RegExp]"]=be["[object Set]"]=be["[object String]"]=be["[object WeakMap]"]=!1,ee.exports=function Oe(Ne){return D(Ne)&&b(Ne.length)&&!!be[S(Ne)]}},1627:(ee,K,m)=>{var S=m(2924),b=m(8526),D=m(5657),C=m(2261),O=m(2692);ee.exports=function g(y){return"function"==typeof y?y:null==y?D:"object"==typeof y?C(y)?b(y[0],y[1]):S(y):O(y)}},190:(ee,K,m)=>{var S=m(6587),b=m(366),C=Object.prototype.hasOwnProperty;ee.exports=function O(g){if(!S(g))return b(g);var y=[];for(var M in Object(g))C.call(g,M)&&"constructor"!=M&&y.push(M);return y}},2839:(ee,K,m)=>{var S=m(5103),b=m(2447);ee.exports=function D(C,O){var g=-1,y=b(C)?Array(C.length):[];return S(C,function(M,U,I){y[++g]=O(M,U,I)}),y}},2924:(ee,K,m)=>{var S=m(2527),b=m(7895),D=m(2265);ee.exports=function C(O){var g=b(O);return 1==g.length&&g[0][2]?D(g[0][0],g[0][1]):function(y){return y===O||S(y,O,g)}}},8526:(ee,K,m)=>{var S=m(7108),b=m(5440),D=m(2494),C=m(6300),O=m(3921),g=m(2265),y=m(8916);ee.exports=function I(F,J){return C(F)&&O(J)?g(y(F),J):function(E){var L=b(E,F);return void 0===L&&L===J?D(E,F):S(J,L,3)}}},252:(ee,K,m)=>{var S=m(3880),b=m(2202),D=m(1627),C=m(2839),O=m(6389),g=m(1156),y=m(9664),M=m(5657),U=m(2261);ee.exports=function I(F,J,E){J=J.length?S(J,function(Y){return U(Y)?function(q){return b(q,1===Y.length?Y[0]:Y)}:Y}):[M];var L=-1;J=S(J,g(D));var ae=C(F,function(Y,q,Z){return{criteria:S(J,function(z){return z(Y)}),index:++L,value:Y}});return O(ae,function(Y,q){return y(Y,q,E)})}},3400:ee=>{ee.exports=function K(m){return function(S){return S?.[m]}}},6443:(ee,K,m)=>{var S=m(2202);ee.exports=function b(D){return function(C){return S(C,D)}}},8951:(ee,K,m)=>{var S=m(5657),b=m(2394),D=m(6814);ee.exports=function C(O,g){return D(b(O,g,S),O+"")}},8235:(ee,K,m)=>{var S=m(1075),b=m(9383),D=m(5657);ee.exports=b?function(O,g){return b(O,"toString",{configurable:!0,enumerable:!1,value:S(g),writable:!0})}:D},6389:ee=>{ee.exports=function K(m,S){var b=m.length;for(m.sort(S);b--;)m[b]=m[b].value;return m}},5025:ee=>{ee.exports=function K(m,S){for(var b=-1,D=Array(m);++b<m;)D[b]=S(b);return D}},7002:(ee,K,m)=>{var S=m(1763),b=m(3880),D=m(2261),C=m(3423),g=S?S.prototype:void 0,y=g?g.toString:void 0;ee.exports=function M(U){if("string"==typeof U)return U;if(D(U))return b(U,M)+"";if(C(U))return y?y.call(U):"";var I=U+"";return"0"==I&&1/U==-1/0?"-0":I}},1156:ee=>{ee.exports=function K(m){return function(S){return m(S)}}},4795:ee=>{ee.exports=function K(m,S){return m.has(S)}},4826:(ee,K,m)=>{var S=m(2261),b=m(6300),D=m(163),C=m(2674);ee.exports=function O(g,y){return S(g)?g:b(g,y)?[g]:D(C(g))}},5400:(ee,K,m)=>{var S=m(3423);ee.exports=function b(D,C){if(D!==C){var O=void 0!==D,g=null===D,y=D==D,M=S(D),U=void 0!==C,I=null===C,F=C==C,J=S(C);if(!I&&!J&&!M&&D>C||M&&U&&F&&!I&&!J||g&&U&&F||!O&&F||!y)return 1;if(!g&&!M&&!J&&D<C||J&&O&&y&&!g&&!M||I&&O&&y||!U&&y||!F)return-1}return 0}},9664:(ee,K,m)=>{var S=m(5400);ee.exports=function b(D,C,O){for(var g=-1,y=D.criteria,M=C.criteria,U=y.length,I=O.length;++g<U;){var F=S(y[g],M[g]);if(F)return g>=I?F:F*("desc"==O[g]?-1:1)}return D.index-C.index}},6189:(ee,K,m)=>{var S=m(8492);ee.exports=S["__core-js_shared__"]},9386:(ee,K,m)=>{var S=m(2447);ee.exports=function b(D,C){return function(O,g){if(null==O)return O;if(!S(O))return D(O,g);for(var y=O.length,M=C?y:-1,U=Object(O);(C?M--:++M<y)&&!1!==g(U[M],M,U););return O}}},2086:ee=>{ee.exports=function K(m){return function(S,b,D){for(var C=-1,O=Object(S),g=D(S),y=g.length;y--;){var M=g[m?y:++C];if(!1===b(O[M],M,O))break}return S}}},9383:(ee,K,m)=>{var S=m(8745),b=function(){try{var D=S(Object,"defineProperty");return D({},"",{}),D}catch{}}();ee.exports=b},7469:(ee,K,m)=>{var S=m(5960),b=m(5916),D=m(4795);ee.exports=function g(y,M,U,I,F,J){var E=1&U,L=y.length,ae=M.length;if(L!=ae&&!(E&&ae>L))return!1;var Y=J.get(y),q=J.get(M);if(Y&&q)return Y==M&&q==y;var Z=-1,G=!0,z=2&U?new S:void 0;for(J.set(y,M),J.set(M,y);++Z<L;){var w=y[Z],R=M[Z];if(I)var k=E?I(R,w,Z,M,y,J):I(w,R,Z,y,M,J);if(void 0!==k){if(k)continue;G=!1;break}if(z){if(!b(M,function(le,H){if(!D(z,H)&&(w===le||F(w,le,U,I,J)))return z.push(H)})){G=!1;break}}else if(w!==R&&!F(w,R,U,I,J)){G=!1;break}}return J.delete(y),J.delete(M),G}},1642:(ee,K,m)=>{var S=m(1763),b=m(2760),D=m(7826),C=m(7469),O=m(1575),g=m(8e3),z=S?S.prototype:void 0,w=z?z.valueOf:void 0;ee.exports=function R(k,le,H,De,ce,be,Oe){switch(H){case"[object DataView]":if(k.byteLength!=le.byteLength||k.byteOffset!=le.byteOffset)return!1;k=k.buffer,le=le.buffer;case"[object ArrayBuffer]":return!(k.byteLength!=le.byteLength||!be(new b(k),new b(le)));case"[object Boolean]":case"[object Date]":case"[object Number]":return D(+k,+le);case"[object Error]":return k.name==le.name&&k.message==le.message;case"[object RegExp]":case"[object String]":return k==le+"";case"[object Map]":var Ne=O;case"[object Set]":if(Ne||(Ne=g),k.size!=le.size&&!(1&De))return!1;var Ke=Oe.get(k);if(Ke)return Ke==le;De|=2,Oe.set(k,le);var Ie=C(Ne(k),Ne(le),De,ce,be,Oe);return Oe.delete(k),Ie;case"[object Symbol]":if(w)return w.call(k)==w.call(le)}return!1}},9462:(ee,K,m)=>{var S=m(6131),C=Object.prototype.hasOwnProperty;ee.exports=function O(g,y,M,U,I,F){var J=1&M,E=S(g),L=E.length;if(L!=S(y).length&&!J)return!1;for(var q=L;q--;){var Z=E[q];if(!(J?Z in y:C.call(y,Z)))return!1}var G=F.get(g),z=F.get(y);if(G&&z)return G==y&&z==g;var w=!0;F.set(g,y),F.set(y,g);for(var R=J;++q<L;){var k=g[Z=E[q]],le=y[Z];if(U)var H=J?U(le,k,Z,y,g,F):U(k,le,Z,g,y,F);if(!(void 0===H?k===le||I(k,le,M,U,F):H)){w=!1;break}R||(R="constructor"==Z)}if(w&&!R){var De=g.constructor,ce=y.constructor;De!=ce&&"constructor"in g&&"constructor"in y&&!("function"==typeof De&&De instanceof De&&"function"==typeof ce&&ce instanceof ce)&&(w=!1)}return F.delete(g),F.delete(y),w}},248:ee=>{var K="object"==typeof global&&global&&global.Object===Object&&global;ee.exports=K},6131:(ee,K,m)=>{var S=m(7427),b=m(771),D=m(4614);ee.exports=function C(O){return S(O,D,b)}},4113:(ee,K,m)=>{var S=m(29);ee.exports=function b(D,C){var O=D.__data__;return S(C)?O["string"==typeof C?"string":"hash"]:O.map}},7895:(ee,K,m)=>{var S=m(3921),b=m(4614);ee.exports=function D(C){for(var O=b(C),g=O.length;g--;){var y=O[g],M=C[y];O[g]=[y,M,S(M)]}return O}},8745:(ee,K,m)=>{var S=m(1082),b=m(1015);ee.exports=function D(C,O){var g=b(C,O);return S(g)?g:void 0}},5933:(ee,K,m)=>{var S=m(1763),b=Object.prototype,D=b.hasOwnProperty,C=b.toString,O=S?S.toStringTag:void 0;ee.exports=function g(y){var M=D.call(y,O),U=y[O];try{y[O]=void 0;var I=!0}catch{}var F=C.call(y);return I&&(M?y[O]=U:delete y[O]),F}},771:(ee,K,m)=>{var S=m(2134),b=m(1315),C=Object.prototype.propertyIsEnumerable,O=Object.getOwnPropertySymbols;ee.exports=O?function(y){return null==y?[]:(y=Object(y),S(O(y),function(M){return C.call(y,M)}))}:b},2472:(ee,K,m)=>{var S=m(6506),b=m(1136),D=m(641),C=m(1732),O=m(6413),g=m(4590),y=m(7075),M="[object Map]",I="[object Promise]",F="[object Set]",J="[object WeakMap]",E="[object DataView]",L=y(S),ae=y(b),Y=y(D),q=y(C),Z=y(O),G=g;(S&&G(new S(new ArrayBuffer(1)))!=E||b&&G(new b)!=M||D&&G(D.resolve())!=I||C&&G(new C)!=F||O&&G(new O)!=J)&&(G=function(z){var w=g(z),R="[object Object]"==w?z.constructor:void 0,k=R?y(R):"";if(k)switch(k){case L:return E;case ae:return M;case Y:return I;case q:return F;case Z:return J}return w}),ee.exports=G},1015:ee=>{ee.exports=function K(m,S){return m?.[S]}},4583:(ee,K,m)=>{var S=m(4826),b=m(1955),D=m(2261),C=m(5188),O=m(7765),g=m(8916);ee.exports=function y(M,U,I){for(var F=-1,J=(U=S(U,M)).length,E=!1;++F<J;){var L=g(U[F]);if(!(E=null!=M&&I(M,L)))break;M=M[L]}return E||++F!=J?E:!!(J=null==M?0:M.length)&&O(J)&&C(L,J)&&(D(M)||b(M))}},5602:(ee,K,m)=>{var S=m(893);ee.exports=function b(){this.__data__=S?S(null):{},this.size=0}},1499:ee=>{ee.exports=function K(m){var S=this.has(m)&&delete this.__data__[m];return this.size-=S?1:0,S}},2990:(ee,K,m)=>{var S=m(893),C=Object.prototype.hasOwnProperty;ee.exports=function O(g){var y=this.__data__;if(S){var M=y[g];return"__lodash_hash_undefined__"===M?void 0:M}return C.call(y,g)?y[g]:void 0}},480:(ee,K,m)=>{var S=m(893),D=Object.prototype.hasOwnProperty;ee.exports=function C(O){var g=this.__data__;return S?void 0!==g[O]:D.call(g,O)}},4469:(ee,K,m)=>{var S=m(893);ee.exports=function D(C,O){var g=this.__data__;return this.size+=this.has(C)?0:1,g[C]=S&&void 0===O?"__lodash_hash_undefined__":O,this}},2241:(ee,K,m)=>{var S=m(1763),b=m(1955),D=m(2261),C=S?S.isConcatSpreadable:void 0;ee.exports=function O(g){return D(g)||b(g)||!!(C&&g&&g[C])}},5188:ee=>{var m=/^(?:0|[1-9]\d*)$/;ee.exports=function S(b,D){var C=typeof b;return!!(D=D??9007199254740991)&&("number"==C||"symbol"!=C&&m.test(b))&&b>-1&&b%1==0&&b<D}},3817:(ee,K,m)=>{var S=m(7826),b=m(2447),D=m(5188),C=m(9794);ee.exports=function O(g,y,M){if(!C(M))return!1;var U=typeof y;return!!("number"==U?b(M)&&D(y,M.length):"string"==U&&y in M)&&S(M[y],g)}},6300:(ee,K,m)=>{var S=m(2261),b=m(3423),D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,C=/^\w*$/;ee.exports=function O(g,y){if(S(g))return!1;var M=typeof g;return!("number"!=M&&"symbol"!=M&&"boolean"!=M&&null!=g&&!b(g))||C.test(g)||!D.test(g)||null!=y&&g in Object(y)}},29:ee=>{ee.exports=function K(m){var S=typeof m;return"string"==S||"number"==S||"symbol"==S||"boolean"==S?"__proto__"!==m:null===m}},9950:(ee,K,m)=>{var C,S=m(6189),b=(C=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"";ee.exports=function D(C){return!!b&&b in C}},6587:ee=>{var K=Object.prototype;ee.exports=function m(S){var b=S&&S.constructor;return S===("function"==typeof b&&b.prototype||K)}},3921:(ee,K,m)=>{var S=m(9794);ee.exports=function b(D){return D==D&&!S(D)}},9365:ee=>{ee.exports=function K(){this.__data__=[],this.size=0}},9343:(ee,K,m)=>{var S=m(4056),D=Array.prototype.splice;ee.exports=function C(O){var g=this.__data__,y=S(g,O);return!(y<0||(y==g.length-1?g.pop():D.call(g,y,1),--this.size,0))}},4779:(ee,K,m)=>{var S=m(4056);ee.exports=function b(D){var C=this.__data__,O=S(C,D);return O<0?void 0:C[O][1]}},1509:(ee,K,m)=>{var S=m(4056);ee.exports=function b(D){return S(this.__data__,D)>-1}},7137:(ee,K,m)=>{var S=m(4056);ee.exports=function b(D,C){var O=this.__data__,g=S(O,D);return g<0?(++this.size,O.push([D,C])):O[g][1]=C,this}},3413:(ee,K,m)=>{var S=m(9618),b=m(3597),D=m(1136);ee.exports=function C(){this.size=0,this.__data__={hash:new S,map:new(D||b),string:new S}}},5419:(ee,K,m)=>{var S=m(4113);ee.exports=function b(D){var C=S(this,D).delete(D);return this.size-=C?1:0,C}},7253:(ee,K,m)=>{var S=m(4113);ee.exports=function b(D){return S(this,D).get(D)}},1115:(ee,K,m)=>{var S=m(4113);ee.exports=function b(D){return S(this,D).has(D)}},6648:(ee,K,m)=>{var S=m(4113);ee.exports=function b(D,C){var O=S(this,D),g=O.size;return O.set(D,C),this.size+=O.size==g?0:1,this}},1575:ee=>{ee.exports=function K(m){var S=-1,b=Array(m.size);return m.forEach(function(D,C){b[++S]=[C,D]}),b}},2265:ee=>{ee.exports=function K(m,S){return function(b){return null!=b&&b[m]===S&&(void 0!==S||m in Object(b))}}},7371:(ee,K,m)=>{var S=m(7659);ee.exports=function D(C){var O=S(C,function(y){return 500===g.size&&g.clear(),y}),g=O.cache;return O}},893:(ee,K,m)=>{var b=m(8745)(Object,"create");ee.exports=b},366:(ee,K,m)=>{var b=m(3106)(Object.keys,Object);ee.exports=b},8849:(ee,K,m)=>{ee=m.nmd(ee);var S=m(248),b=K&&!K.nodeType&&K,D=b&&ee&&!ee.nodeType&&ee,O=D&&D.exports===b&&S.process,g=function(){try{return D&&D.require&&D.require("util").types||O&&O.binding&&O.binding("util")}catch{}}();ee.exports=g},9243:ee=>{var m=Object.prototype.toString;ee.exports=function S(b){return m.call(b)}},3106:ee=>{ee.exports=function K(m,S){return function(b){return m(S(b))}}},2394:(ee,K,m)=>{var S=m(7910),b=Math.max;ee.exports=function D(C,O,g){return O=b(void 0===O?C.length-1:O,0),function(){for(var y=arguments,M=-1,U=b(y.length-O,0),I=Array(U);++M<U;)I[M]=y[O+M];M=-1;for(var F=Array(O+1);++M<O;)F[M]=y[M];return F[O]=g(I),S(C,this,F)}}},8492:(ee,K,m)=>{var S=m(248),b="object"==typeof self&&self&&self.Object===Object&&self,D=S||b||Function("return this")();ee.exports=D},6151:ee=>{ee.exports=function m(S){return this.__data__.set(S,"__lodash_hash_undefined__"),this}},2154:ee=>{ee.exports=function K(m){return this.__data__.has(m)}},8e3:ee=>{ee.exports=function K(m){var S=-1,b=Array(m.size);return m.forEach(function(D){b[++S]=D}),b}},6814:(ee,K,m)=>{var S=m(8235),D=m(9531)(S);ee.exports=D},9531:ee=>{var S=Date.now;ee.exports=function b(D){var C=0,O=0;return function(){var g=S(),y=16-(g-O);if(O=g,y>0){if(++C>=800)return arguments[0]}else C=0;return D.apply(void 0,arguments)}}},9488:(ee,K,m)=>{var S=m(3597);ee.exports=function b(){this.__data__=new S,this.size=0}},5943:ee=>{ee.exports=function K(m){var S=this.__data__,b=S.delete(m);return this.size=S.size,b}},5456:ee=>{ee.exports=function K(m){return this.__data__.get(m)}},4793:ee=>{ee.exports=function K(m){return this.__data__.has(m)}},8689:(ee,K,m)=>{var S=m(3597),b=m(1136),D=m(1811);ee.exports=function O(g,y){var M=this.__data__;if(M instanceof S){var U=M.__data__;if(!b||U.length<199)return U.push([g,y]),this.size=++M.size,this;M=this.__data__=new D(U)}return M.set(g,y),this.size=M.size,this}},163:(ee,K,m)=>{var S=m(7371),b=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,D=/\\(\\)?/g,C=S(function(O){var g=[];return 46===O.charCodeAt(0)&&g.push(""),O.replace(b,function(y,M,U,I){g.push(U?I.replace(D,"$1"):M||y)}),g});ee.exports=C},8916:(ee,K,m)=>{var S=m(3423);ee.exports=function D(C){if("string"==typeof C||S(C))return C;var O=C+"";return"0"==O&&1/C==-1/0?"-0":O}},7075:ee=>{var m=Function.prototype.toString;ee.exports=function S(b){if(null!=b){try{return m.call(b)}catch{}try{return b+""}catch{}}return""}},1075:ee=>{ee.exports=function K(m){return function(){return m}}},7826:ee=>{ee.exports=function K(m,S){return m===S||m!=m&&S!=S}},5440:(ee,K,m)=>{var S=m(2202);ee.exports=function b(D,C,O){var g=null==D?void 0:S(D,C);return void 0===g?O:g}},2494:(ee,K,m)=>{var S=m(3274),b=m(4583);ee.exports=function D(C,O){return null!=C&&b(C,O,S)}},5657:ee=>{ee.exports=function K(m){return m}},1955:(ee,K,m)=>{var S=m(3022),b=m(3714),D=Object.prototype,C=D.hasOwnProperty,O=D.propertyIsEnumerable,g=S(function(){return arguments}())?S:function(y){return b(y)&&C.call(y,"callee")&&!O.call(y,"callee")};ee.exports=g},2261:ee=>{ee.exports=Array.isArray},2447:(ee,K,m)=>{var S=m(6861),b=m(7765);ee.exports=function D(C){return null!=C&&b(C.length)&&!S(C)}},7525:(ee,K,m)=>{ee=m.nmd(ee);var S=m(8492),b=m(5706),D=K&&!K.nodeType&&K,C=D&&ee&&!ee.nodeType&&ee,g=C&&C.exports===D?S.Buffer:void 0;ee.exports=(g?g.isBuffer:void 0)||b},6030:(ee,K,m)=>{var b=m(8492).isFinite;ee.exports=function D(C){return"number"==typeof C&&b(C)}},6861:(ee,K,m)=>{var S=m(4590),b=m(9794);ee.exports=function y(M){if(!b(M))return!1;var U=S(M);return"[object Function]"==U||"[object GeneratorFunction]"==U||"[object AsyncFunction]"==U||"[object Proxy]"==U}},7765:ee=>{ee.exports=function m(S){return"number"==typeof S&&S>-1&&S%1==0&&S<=9007199254740991}},9794:ee=>{ee.exports=function K(m){var S=typeof m;return null!=m&&("object"==S||"function"==S)}},3714:ee=>{ee.exports=function K(m){return null!=m&&"object"==typeof m}},3423:(ee,K,m)=>{var S=m(4590),b=m(3714);ee.exports=function C(O){return"symbol"==typeof O||b(O)&&"[object Symbol]"==S(O)}},4868:(ee,K,m)=>{var S=m(8902),b=m(1156),D=m(8849),C=D&&D.isTypedArray,O=C?b(C):S;ee.exports=O},4614:(ee,K,m)=>{var S=m(1384),b=m(190),D=m(2447);ee.exports=function C(O){return D(O)?S(O):b(O)}},6990:function(ee,K,m){var S;ee=m.nmd(ee),function(){var b,g="Expected a function",M="__lodash_hash_undefined__",I="__lodash_placeholder__",w=32,k=128,Ie=1/0,ze=9007199254740991,ue=4294967295,pt=[["ary",k],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",w],["partialRight",64],["rearg",256]],Je="[object Arguments]",me="[object Array]",T="[object Boolean]",se="[object Date]",He="[object Error]",Ze="[object Function]",he="[object GeneratorFunction]",re="[object Map]",W="[object Number]",V="[object Object]",fe="[object Promise]",ye="[object RegExp]",je="[object Set]",at="[object String]",vt="[object Symbol]",At="[object WeakMap]",ge="[object ArrayBuffer]",$="[object DataView]",oe="[object Float32Array]",Le="[object Float64Array]",it="[object Int8Array]",ut="[object Int16Array]",Tt="[object Int32Array]",An="[object Uint8Array]",Kn="[object Uint8ClampedArray]",ni="[object Uint16Array]",jn="[object Uint32Array]",qn=/\b__p \+= '';/g,ur=/\b(__p \+=) '' \+/g,Ta=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Or=/&(?:amp|lt|gt|quot|#39);/g,is=/[&<>"']/g,rs=RegExp(Or.source),ar=RegExp(is.source),os=/<%-([\s\S]+?)%>/g,ha=/<%([\s\S]+?)%>/g,Ol=/<%=([\s\S]+?)%>/g,xc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wo=/^\w*$/,Rl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ge=/[\\^$.*+?()[\]{}|]/g,$e=RegExp(Ge.source),nn=/^\s+/,sn=/\s/,Mn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rr=/\{\n\/\* \[wrapped with (.+)\] \*/,Qt=/,? & /,Ja=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tr=/[()=,{}\[\]\/\s]/,Za=/\\(\\)?/g,Oi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,si=/\w*$/,Vi=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,li=/^\[object .+?Constructor\]$/,$o=/^0o[0-7]+$/i,ji=/^(?:0|[1-9]\d*)$/,Co=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pr=/($^)/,ve=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Fe="\\u2700-\\u27bf",Me="a-z\\xdf-\\xf6\\xf8-\\xff",Tn="A-Z\\xc0-\\xd6\\xd8-\\xde",Rn="\\ufe0e\\ufe0f",fo="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fn="["+Ee+"]",Si="["+fo+"]",Ec="["+_e+"]",So="\\d+",Cs="["+Fe+"]",jd="["+Me+"]",zd="[^"+Ee+fo+So+Fe+Me+Tn+"]",Gs="\\ud83c[\\udffb-\\udfff]",Ob="[^"+Ee+"]",vf="(?:\\ud83c[\\udde6-\\uddff]){2}",ke="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Tn+"]",Et="(?:"+jd+"|"+zd+")",qt="(?:"+Ve+"|"+zd+")",En="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",bi="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",po="(?:"+Ec+"|"+Gs+")?",mo="["+Rn+"]?",iT=mo+po+"(?:\\u200d(?:"+[Ob,vf,ke].join("|")+")"+mo+po+")*",w3="(?:"+[Cs,vf,ke].join("|")+")"+iT,x3="(?:"+[Ob+Ec+"?",Ec,vf,ke,Fn].join("|")+")",E3=RegExp("['\u2019]","g"),Dt=RegExp(Ec,"g"),px=RegExp(Gs+"(?="+Gs+")|"+x3+iT,"g"),Kt=RegExp([Ve+"?"+jd+"+"+En+"(?="+[Si,Ve,"$"].join("|")+")",qt+"+"+bi+"(?="+[Si,Ve+Et,"$"].join("|")+")",Ve+"?"+Et+"+"+En,Ve+"+"+bi,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",So,w3].join("|"),"g"),Sm=RegExp("[\\u200d"+Ee+_e+Rn+"]"),rT=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mx=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oT=-1,hr={};hr[oe]=hr[Le]=hr[it]=hr[ut]=hr[Tt]=hr[An]=hr[Kn]=hr[ni]=hr[jn]=!0,hr[Je]=hr[me]=hr[ge]=hr[T]=hr[$]=hr[se]=hr[He]=hr[Ze]=hr[re]=hr[W]=hr[V]=hr[ye]=hr[je]=hr[at]=hr[At]=!1;var cr={};cr[Je]=cr[me]=cr[ge]=cr[$]=cr[T]=cr[se]=cr[oe]=cr[Le]=cr[it]=cr[ut]=cr[Tt]=cr[re]=cr[W]=cr[V]=cr[ye]=cr[je]=cr[at]=cr[vt]=cr[An]=cr[Kn]=cr[ni]=cr[jn]=!0,cr[He]=cr[Ze]=cr[At]=!1;var Ri={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pb=parseFloat,_x=parseInt,Ss="object"==typeof global&&global&&global.Object===Object&&global,bx="object"==typeof self&&self&&self.Object===Object&&self,as=Ss||bx||Function("return this")(),Zi=K&&!K.nodeType&&K,Am=Zi&&ee&&!ee.nodeType&&ee,aT=Am&&Am.exports===Zi,mt=aT&&Ss.process,Ws=function(){try{return Am&&Am.require&&Am.require("util").types||mt&&mt.binding&&mt.binding("util")}catch{}}(),Mm=Ws&&Ws.isArrayBuffer,Nb=Ws&&Ws.isDate,Tm=Ws&&Ws.isMap,yx=Ws&&Ws.isRegExp,Im=Ws&&Ws.isSet,cT=Ws&&Ws.isTypedArray;function Ia(dt,It,Ct){switch(Ct.length){case 0:return dt.call(It);case 1:return dt.call(It,Ct[0]);case 2:return dt.call(It,Ct[0],Ct[1]);case 3:return dt.call(It,Ct[0],Ct[1],Ct[2])}return dt.apply(It,Ct)}function C3(dt,It,Ct,hn){for(var ai=-1,Xi=null==dt?0:dt.length;++ai<Xi;){var to=dt[ai];It(hn,to,Ct(to),dt)}return hn}function Qa(dt,It){for(var Ct=-1,hn=null==dt?0:dt.length;++Ct<hn&&!1!==It(dt[Ct],Ct,dt););return dt}function S3(dt,It){for(var Ct=null==dt?0:dt.length;Ct--&&!1!==It(dt[Ct],Ct,dt););return dt}function qu(dt,It){for(var Ct=-1,hn=null==dt?0:dt.length;++Ct<hn;)if(!It(dt[Ct],Ct,dt))return!1;return!0}function Cc(dt,It){for(var Ct=-1,hn=null==dt?0:dt.length,ai=0,Xi=[];++Ct<hn;){var to=dt[Ct];It(to,Ct,dt)&&(Xi[ai++]=to)}return Xi}function Hd(dt,It){return!(null==dt||!dt.length)&&qc(dt,It,0)>-1}function Fb(dt,It,Ct){for(var hn=-1,ai=null==dt?0:dt.length;++hn<ai;)if(Ct(It,dt[hn]))return!0;return!1}function Nr(dt,It){for(var Ct=-1,hn=null==dt?0:dt.length,ai=Array(hn);++Ct<hn;)ai[Ct]=It(dt[Ct],Ct,dt);return ai}function Pl(dt,It){for(var Ct=-1,hn=It.length,ai=dt.length;++Ct<hn;)dt[ai+Ct]=It[Ct];return dt}function Dm(dt,It,Ct,hn){var ai=-1,Xi=null==dt?0:dt.length;for(hn&&Xi&&(Ct=dt[++ai]);++ai<Xi;)Ct=It(Ct,dt[ai],ai,dt);return Ct}function Ju(dt,It,Ct,hn){var ai=null==dt?0:dt.length;for(hn&&ai&&(Ct=dt[--ai]);ai--;)Ct=It(Ct,dt[ai],ai,dt);return Ct}function Lb(dt,It){for(var Ct=-1,hn=null==dt?0:dt.length;++Ct<hn;)if(It(dt[Ct],Ct,dt))return!0;return!1}var Nl=Vb("length");function Bb(dt,It,Ct){var hn;return Ct(dt,function(ai,Xi,to){if(It(ai,Xi,to))return hn=Xi,!1}),hn}function Ft(dt,It,Ct,hn){for(var ai=dt.length,Xi=Ct+(hn?1:-1);hn?Xi--:++Xi<ai;)if(It(dt[Xi],Xi,dt))return Xi;return-1}function qc(dt,It,Ct){return It==It?function pT(dt,It,Ct){for(var hn=Ct-1,ai=dt.length;++hn<ai;)if(dt[hn]===It)return hn;return-1}(dt,It,Ct):Ft(dt,Zu,Ct)}function Ub(dt,It,Ct,hn){for(var ai=Ct-1,Xi=dt.length;++ai<Xi;)if(hn(dt[ai],It))return ai;return-1}function Zu(dt){return dt!=dt}function vx(dt,It){var Ct=null==dt?0:dt.length;return Ct?fa(dt,It)/Ct:NaN}function Vb(dt){return function(It){return null==It?b:It[dt]}}function jb(dt){return function(It){return null==dt?b:dt[It]}}function Sc(dt,It,Ct,hn,ai){return ai(dt,function(Xi,to,gr){Ct=hn?(hn=!1,Xi):It(Ct,Xi,to,gr)}),Ct}function fa(dt,It){for(var Ct,hn=-1,ai=dt.length;++hn<ai;){var Xi=It(dt[hn]);Xi!==b&&(Ct=Ct===b?Xi:Ct+Xi)}return Ct}function Da(dt,It){for(var Ct=-1,hn=Array(dt);++Ct<dt;)hn[Ct]=It(Ct);return hn}function zb(dt){return dt&&dt.slice(0,Ax(dt)+1).replace(nn,"")}function As(dt){return function(It){return dt(It)}}function Om(dt,It){return Nr(It,function(Ct){return dt[Ct]})}function Qu(dt,It){return dt.has(It)}function eh(dt,It){for(var Ct=-1,hn=dt.length;++Ct<hn&&qc(It,dt[Ct],0)>-1;);return Ct}function Hb(dt,It){for(var Ct=dt.length;Ct--&&qc(It,dt[Ct],0)>-1;);return Ct}var dT=jb({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),xx=jb({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function uT(dt){return"\\"+Ri[dt]}function cs(dt){return Sm.test(dt)}function Gb(dt){var It=-1,Ct=Array(dt.size);return dt.forEach(function(hn,ai){Ct[++It]=[ai,hn]}),Ct}function Cx(dt,It){return function(Ct){return dt(It(Ct))}}function Fl(dt,It){for(var Ct=-1,hn=dt.length,ai=0,Xi=[];++Ct<hn;){var to=dt[Ct];(to===It||to===I)&&(dt[Ct]=I,Xi[ai++]=Ct)}return Xi}function Rm(dt){var It=-1,Ct=Array(dt.size);return dt.forEach(function(hn){Ct[++It]=hn}),Ct}function th(dt){return cs(dt)?function Jt(dt){for(var It=px.lastIndex=0;px.test(dt);)++It;return It}(dt):Nl(dt)}function on(dt){return cs(dt)?function Mx(dt){return dt.match(px)||[]}(dt):function lT(dt){return dt.split("")}(dt)}function Ax(dt){for(var It=dt.length;It--&&sn.test(dt.charAt(It)););return It}var gT=jb({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ui=function dt(It){var u,Ct=(It=null==It?as:ui.defaults(as.Object(),It,ui.pick(as,mx))).Array,hn=It.Date,ai=It.Error,Xi=It.Function,to=It.Math,gr=It.Object,Wb=It.RegExp,no=It.String,Zt=It.TypeError,Un=Ct.prototype,ds=gr.prototype,Ao=It["__core-js_shared__"],$s=Xi.prototype.toString,zi=ds.hasOwnProperty,vr=0,us=(u=/[^.]+$/.exec(Ao&&Ao.keys&&Ao.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",pa=ds.toString,di=$s.call(gr),wf=as._,Tx=Wb("^"+$s.call(zi).replace(Ge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jc=aT?It.Buffer:b,nr=It.Symbol,Ll=It.Uint8Array,Gd=Jc?Jc.allocUnsafe:b,ma=Cx(gr.getPrototypeOf,gr),nh=gr.create,$b=ds.propertyIsEnumerable,ec=Un.splice,xf=nr?nr.isConcatSpreadable:b,tc=nr?nr.iterator:b,$n=nr?nr.toStringTag:b,ih=function(){try{var u=hh(gr,"defineProperty");return u({},"",{}),u}catch{}}(),Ef=It.clearTimeout!==as.clearTimeout&&It.clearTimeout,Ac=hn&&hn.now!==as.Date.now&&hn.now,Pm=It.setTimeout!==as.setTimeout&&It.setTimeout,Zc=to.ceil,Fr=to.floor,Cf=gr.getOwnPropertySymbols,hs=Jc?Jc.isBuffer:b,Yo=It.isFinite,Yb=Un.join,Wd=Cx(gr.keys,gr),io=to.max,wr=to.min,Xb=hn.now,_T=It.parseInt,Ix=to.random,Kb=Un.reverse,Nm=hh(It,"DataView"),Sf=hh(It,"Map"),Af=hh(It,"Promise"),Mf=hh(It,"Set"),Fm=hh(It,"WeakMap"),Lm=hh(gr,"create"),qb=Fm&&new Fm,Tf={},A3=kc(Nm),M3=kc(Sf),T3=kc(Af),I3=kc(Mf),D3=kc(Fm),Jb=nr?nr.prototype:b,Bm=Jb?Jb.valueOf:b,Zb=Jb?Jb.toString:b;function Pe(u){if(Wr(u)&&!oi(u)&&!(u instanceof Fi)){if(u instanceof nc)return u;if(zi.call(u,"__wrapped__"))return Sy(u)}return new nc(u)}var If=function(){function u(){}return function(f){if(!Br(f))return{};if(nh)return nh(f);u.prototype=f;var x=new u;return u.prototype=b,x}}();function Qb(){}function nc(u,f){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=b}function Fi(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function Bl(u){var f=-1,x=null==u?0:u.length;for(this.clear();++f<x;){var te=u[f];this.set(te[0],te[1])}}function ic(u){var f=-1,x=null==u?0:u.length;for(this.clear();++f<x;){var te=u[f];this.set(te[0],te[1])}}function Qc(u){var f=-1,x=null==u?0:u.length;for(this.clear();++f<x;){var te=u[f];this.set(te[0],te[1])}}function Yd(u){var f=-1,x=null==u?0:u.length;for(this.__data__=new Qc;++f<x;)this.add(u[f])}function Gr(u){var f=this.__data__=new ic(u);this.size=f.size}function Lx(u,f){var x=oi(u),te=!x&&ll(u),Ce=!x&&!te&&td(u),Be=!x&&!te&&!Ce&&fu(u),nt=x||te||Ce||Be,ct=nt?Da(u.length,no):[],ft=ct.length;for(var jt in u)(f||zi.call(u,jt))&&(!nt||!("length"==jt||Ce&&("offset"==jt||"parent"==jt)||Be&&("buffer"==jt||"byteLength"==jt||"byteOffset"==jt)||Fa(jt,ft)))&&ct.push(jt);return ct}function ny(u){var f=u.length;return f?u[uy(0,f-1)]:b}function Bx(u,f){return cu(Ko(u),qd(f,0,u.length))}function iy(u){return cu(Ko(u))}function Xd(u,f,x){(x!==b&&!gs(u[f],x)||x===b&&!(f in u))&&Vl(u,f,x)}function Ul(u,f,x){var te=u[f];(!zi.call(u,f)||!gs(te,x)||x===b&&!(f in u))&&Vl(u,f,x)}function oh(u,f){for(var x=u.length;x--;)if(gs(u[x][0],f))return x;return-1}function Kd(u,f,x,te){return jl(u,function(Ce,Be,nt){f(te,Ce,x(Ce),nt)}),te}function Zn(u,f){return u&&fs(f,Mo(f),u)}function Vl(u,f,x){"__proto__"==f&&ih?ih(u,f,{configurable:!0,enumerable:!0,value:x,writable:!0}):u[f]=x}function ry(u,f){for(var x=-1,te=f.length,Ce=Ct(te),Be=null==u;++x<te;)Ce[x]=Be?b:Qy(u,f[x]);return Ce}function qd(u,f,x){return u==u&&(x!==b&&(u=u<=x?u:x),f!==b&&(u=u>=f?u:f)),u}function ka(u,f,x,te,Ce,Be){var nt,ct=1&f,ft=2&f,jt=4&f;if(x&&(nt=Ce?x(u,te,Ce,Be):x(u)),nt!==b)return nt;if(!Br(u))return u;var zt=oi(u);if(zt){if(nt=function BT(u){var f=u.length,x=new u.constructor(f);return f&&"string"==typeof u[0]&&zi.call(u,"index")&&(x.index=u.index,x.input=u.input),x}(u),!ct)return Ko(u,nt)}else{var Yt=Is(u),bn=Yt==Ze||Yt==he;if(td(u))return $m(u,ct);if(Yt==V||Yt==Je||bn&&!Ce){if(nt=ft||bn?{}:hE(u),!ct)return ft?function oE(u,f){return fs(u,su(u),f)}(u,function Ux(u,f){return u&&fs(f,Zs(f),u)}(nt,u)):function kT(u,f){return fs(u,Gf(u),f)}(u,Zn(nt,u))}else{if(!cr[Yt])return Ce?u:{};nt=function UT(u,f,x){var te=u.constructor;switch(f){case ge:return Ym(u);case T:case se:return new te(+u);case $:return function Xm(u,f){var x=f?Ym(u.buffer):u.buffer;return new u.constructor(x,u.byteOffset,u.byteLength)}(u,x);case oe:case Le:case it:case ut:case Tt:case An:case Kn:case ni:case jn:return gy(u,x);case re:return new te;case W:case at:return new te(u);case ye:return function my(u){var f=new u.constructor(u.source,si.exec(u));return f.lastIndex=u.lastIndex,f}(u);case je:return new te;case vt:return function DT(u){return Bm?gr(Bm.call(u)):{}}(u)}}(u,Yt,ct)}}Be||(Be=new Gr);var Nn=Be.get(u);if(Nn)return Nn;Be.set(u,nt),Ky(u)?u.forEach(function(Vn){nt.add(ka(Vn,f,x,Vn,u,Be))}):$E(u)&&u.forEach(function(Vn,Ai){nt.set(Ai,ka(Vn,f,x,Ai,u,Be))});var yi=zt?b:(jt?ft?Xl:ps:ft?Zs:Mo)(u);return Qa(yi||u,function(Vn,Ai){yi&&(Vn=u[Ai=Vn]),Ul(nt,Ai,ka(Vn,f,x,Ai,u,Be))}),nt}function Jd(u,f,x){var te=x.length;if(null==u)return!te;for(u=gr(u);te--;){var Ce=x[te],nt=u[Ce];if(nt===b&&!(Ce in u)||!(0,f[Ce])(nt))return!1}return!0}function jx(u,f,x){if("function"!=typeof u)throw new Zt(g);return Yf(function(){u.apply(b,x)},f)}function Of(u,f,x,te){var Ce=-1,Be=Hd,nt=!0,ct=u.length,ft=[],jt=f.length;if(!ct)return ft;x&&(f=Nr(f,As(x))),te?(Be=Fb,nt=!1):f.length>=200&&(Be=Qu,nt=!1,f=new Yd(f));e:for(;++Ce<ct;){var zt=u[Ce],Yt=null==x?zt:x(zt);if(zt=te||0!==zt?zt:0,nt&&Yt==Yt){for(var bn=jt;bn--;)if(f[bn]===Yt)continue e;ft.push(zt)}else Be(f,Yt,te)||ft.push(zt)}return ft}Pe.templateSettings={escape:os,evaluate:ha,interpolate:Ol,variable:"",imports:{_:Pe}},(Pe.prototype=Qb.prototype).constructor=Pe,(nc.prototype=If(Qb.prototype)).constructor=nc,(Fi.prototype=If(Qb.prototype)).constructor=Fi,Bl.prototype.clear=function bT(){this.__data__=Lm?Lm(null):{},this.size=0},Bl.prototype.delete=function yT(u){var f=this.has(u)&&delete this.__data__[u];return this.size-=f?1:0,f},Bl.prototype.get=function kx(u){var f=this.__data__;if(Lm){var x=f[u];return x===M?b:x}return zi.call(f,u)?f[u]:b},Bl.prototype.has=function Ox(u){var f=this.__data__;return Lm?f[u]!==b:zi.call(f,u)},Bl.prototype.set=function vT(u,f){var x=this.__data__;return this.size+=this.has(u)?0:1,x[u]=Lm&&f===b?M:f,this},ic.prototype.clear=function wT(){this.__data__=[],this.size=0},ic.prototype.delete=function Mc(u){var f=this.__data__,x=oh(f,u);return!(x<0||(x==f.length-1?f.pop():ec.call(f,x,1),--this.size,0))},ic.prototype.get=function Rx(u){var f=this.__data__,x=oh(f,u);return x<0?b:f[x][1]},ic.prototype.has=function Px(u){return oh(this.__data__,u)>-1},ic.prototype.set=function Nx(u,f){var x=this.__data__,te=oh(x,u);return te<0?(++this.size,x.push([u,f])):x[te][1]=f,this},Qc.prototype.clear=function k3(){this.size=0,this.__data__={hash:new Bl,map:new(Sf||ic),string:new Bl}},Qc.prototype.delete=function Er(u){var f=vy(this,u).delete(u);return this.size-=f?1:0,f},Qc.prototype.get=function ey(u){return vy(this,u).get(u)},Qc.prototype.has=function Df(u){return vy(this,u).has(u)},Qc.prototype.set=function Ms(u,f){var x=vy(this,u),te=x.size;return x.set(u,f),this.size+=x.size==te?0:1,this},Yd.prototype.add=Yd.prototype.push=function kf(u){return this.__data__.set(u,M),this},Yd.prototype.has=function rh(u){return this.__data__.has(u)},Gr.prototype.clear=function xT(){this.__data__=new ic,this.size=0},Gr.prototype.delete=function ty(u){var f=this.__data__,x=f.delete(u);return this.size=f.size,x},Gr.prototype.get=function ET(u){return this.__data__.get(u)},Gr.prototype.has=function Tc(u){return this.__data__.has(u)},Gr.prototype.set=function Fx(u,f){var x=this.__data__;if(x instanceof ic){var te=x.__data__;if(!Sf||te.length<199)return te.push([u,f]),this.size=++x.size,this;x=this.__data__=new Qc(te)}return x.set(u,f),this.size=x.size,this};var jl=tu(Ys),zx=tu(Oa,!0);function CT(u,f){var x=!0;return jl(u,function(te,Ce,Be){return x=!!f(te,Ce,Be)}),x}function Rt(u,f,x){for(var te=-1,Ce=u.length;++te<Ce;){var Be=u[te],nt=f(Be);if(null!=nt&&(ct===b?nt==nt&&!_s(nt):x(nt,ct)))var ct=nt,ft=Be}return ft}function ii(u,f){var x=[];return jl(u,function(te,Ce,Be){f(te,Ce,Be)&&x.push(te)}),x}function Pn(u,f,x,te,Ce){var Be=-1,nt=u.length;for(x||(x=wy),Ce||(Ce=[]);++Be<nt;){var ct=u[Be];f>0&&x(ct)?f>1?Pn(ct,f-1,x,te,Ce):Pl(Ce,ct):te||(Ce[Ce.length]=ct)}return Ce}var ir=go(),oy=go(!0);function Ys(u,f){return u&&ir(u,f,Mo)}function Oa(u,f){return u&&oy(u,f,Mo)}function sh(u,f){return Cc(f,function(x){return oc(u[x])})}function el(u,f){for(var x=0,te=(f=Gl(f,u)).length;null!=u&&x<te;)u=u[_a(f[x++])];return x&&x==te?u:b}function Hx(u,f,x){var te=f(u);return oi(u)?te:Pl(te,x(u))}function Xs(u){return null==u?u===b?"[object Undefined]":"[object Null]":$n&&$n in gr(u)?function ga(u){var f=zi.call(u,$n),x=u[$n];try{u[$n]=b;var te=!0}catch{}var Ce=pa.call(u);return te&&(f?u[$n]=x:delete u[$n]),Ce}(u):function $f(u){return pa.call(u)}(u)}function Um(u,f){return u>f}function Ts(u,f){return null!=u&&zi.call(u,f)}function tl(u,f){return null!=u&&f in gr(u)}function Ra(u,f,x){for(var te=x?Fb:Hd,Ce=u[0].length,Be=u.length,nt=Be,ct=Ct(Be),ft=1/0,jt=[];nt--;){var zt=u[nt];nt&&f&&(zt=Nr(zt,As(f))),ft=wr(zt.length,ft),ct[nt]=!x&&(f||Ce>=120&&zt.length>=120)?new Yd(nt&&zt):b}zt=u[0];var Yt=-1,bn=ct[0];e:for(;++Yt<Ce&&jt.length<ft;){var Nn=zt[Yt],Hn=f?f(Nn):Nn;if(Nn=x||0!==Nn?Nn:0,!(bn?Qu(bn,Hn):te(jt,Hn,x))){for(nt=Be;--nt;){var yi=ct[nt];if(!(yi?Qu(yi,Hn):te(u[nt],Hn,x)))continue e}bn&&bn.push(Hn),jt.push(Nn)}}return jt}function Rf(u,f,x){var te=null==(u=WT(u,f=Gl(f,u)))?u:u[_a(Ba(f))];return null==te?b:Ia(te,u,x)}function sy(u){return Wr(u)&&Xs(u)==Je}function Zd(u,f,x,te,Ce){return u===f||(null==u||null==f||!Wr(u)&&!Wr(f)?u!=u&&f!=f:function ay(u,f,x,te,Ce,Be){var nt=oi(u),ct=oi(f),ft=nt?me:Is(u),jt=ct?me:Is(f),zt=(ft=ft==Je?V:ft)==V,Yt=(jt=jt==Je?V:jt)==V,bn=ft==jt;if(bn&&td(u)){if(!td(f))return!1;nt=!0,zt=!1}if(bn&&!zt)return Be||(Be=new Gr),nt||fu(u)?_o(u,f,x,te,Ce,Be):function FT(u,f,x,te,Ce,Be,nt){switch(x){case $:if(u.byteLength!=f.byteLength||u.byteOffset!=f.byteOffset)return!1;u=u.buffer,f=f.buffer;case ge:return!(u.byteLength!=f.byteLength||!Be(new Ll(u),new Ll(f)));case T:case se:case W:return gs(+u,+f);case He:return u.name==f.name&&u.message==f.message;case ye:case at:return u==f+"";case re:var ct=Gb;case je:if(ct||(ct=Rm),u.size!=f.size&&!(1&te))return!1;var jt=nt.get(u);if(jt)return jt==f;te|=2,nt.set(u,f);var zt=_o(ct(u),ct(f),te,Ce,Be,nt);return nt.delete(u),zt;case vt:if(Bm)return Bm.call(u)==Bm.call(f)}return!1}(u,f,ft,x,te,Ce,Be);if(!(1&x)){var Nn=zt&&zi.call(u,"__wrapped__"),Hn=Yt&&zi.call(f,"__wrapped__");if(Nn||Hn){var yi=Nn?u.value():u,Vn=Hn?f.value():f;return Be||(Be=new Gr),Ce(yi,Vn,x,te,Be)}}return!!bn&&(Be||(Be=new Gr),function Hf(u,f,x,te,Ce,Be){var nt=1&x,ct=ps(u),ft=ct.length;if(ft!=ps(f).length&&!nt)return!1;for(var Yt=ft;Yt--;){var bn=ct[Yt];if(!(nt?bn in f:zi.call(f,bn)))return!1}var Nn=Be.get(u),Hn=Be.get(f);if(Nn&&Hn)return Nn==f&&Hn==u;var yi=!0;Be.set(u,f),Be.set(f,u);for(var Vn=nt;++Yt<ft;){var Ai=u[bn=ct[Yt]],Pi=f[bn];if(te)var va=nt?te(Pi,Ai,bn,f,u,Be):te(Ai,Pi,bn,u,f,Be);if(!(va===b?Ai===Pi||Ce(Ai,Pi,x,te,Be):va)){yi=!1;break}Vn||(Vn="constructor"==bn)}if(yi&&!Vn){var Rs=u.constructor,wa=f.constructor;Rs!=wa&&"constructor"in u&&"constructor"in f&&!("function"==typeof Rs&&Rs instanceof Rs&&"function"==typeof wa&&wa instanceof wa)&&(yi=!1)}return Be.delete(u),Be.delete(f),yi}(u,f,x,te,Ce,Be))}(u,f,x,te,Zd,Ce))}function Pf(u,f,x,te){var Ce=x.length,Be=Ce,nt=!te;if(null==u)return!Be;for(u=gr(u);Ce--;){var ct=x[Ce];if(nt&&ct[2]?ct[1]!==u[ct[0]]:!(ct[0]in u))return!1}for(;++Ce<Be;){var ft=(ct=x[Ce])[0],jt=u[ft],zt=ct[1];if(nt&&ct[2]){if(jt===b&&!(ft in u))return!1}else{var Yt=new Gr;if(te)var bn=te(jt,zt,ft,u,f,Yt);if(!(bn===b?Zd(zt,jt,3,te,Yt):bn))return!1}}return!0}function $x(u){return!(!Br(u)||function zT(u){return!!us&&us in u}(u))&&(oc(u)?Tx:li).test(kc(u))}function ly(u){return"function"==typeof u?u:null==u?Qs:"object"==typeof u?oi(u)?zl(u[0],u[1]):Xo(u):dp(u)}function Vm(u){if(!au(u))return Wd(u);var f=[];for(var x in gr(u))zi.call(u,x)&&"constructor"!=x&&f.push(x);return f}function Nf(u,f){return u<f}function qx(u,f){var x=-1,te=Js(u)?Ct(u.length):[];return jl(u,function(Ce,Be,nt){te[++x]=f(Ce,Be,nt)}),te}function Xo(u){var f=qm(u);return 1==f.length&&f[0][2]?xy(f[0][0],f[0][1]):function(x){return x===u||Pf(x,u,f)}}function zl(u,f){return Kl(u)&&Wf(f)?xy(_a(u),f):function(x){var te=Qy(x,u);return te===b&&te===f?ev(x,u):Zd(f,te,3)}}function fr(u,f,x,te,Ce){u!==f&&ir(f,function(Be,nt){if(Ce||(Ce=new Gr),Br(Be))!function Qd(u,f,x,te,Ce,Be,nt){var ct=Ey(u,x),ft=Ey(f,x),jt=nt.get(ft);if(jt)Xd(u,x,jt);else{var zt=Be?Be(ct,ft,x+"",u,f,nt):b,Yt=zt===b;if(Yt){var bn=oi(ft),Nn=!bn&&td(ft),Hn=!bn&&!Nn&&fu(ft);zt=ft,bn||Nn||Hn?oi(ct)?zt=ct:ro(ct)?zt=Ko(ct):Nn?(Yt=!1,zt=$m(ft,!0)):Hn?(Yt=!1,zt=gy(ft,!0)):zt=[]:vh(ft)||ll(ft)?(zt=ct,ll(ct)?zt=pg(ct):(!Br(ct)||oc(ct))&&(zt=hE(ft))):Yt=!1}Yt&&(nt.set(ft,zt),Ce(zt,ft,te,Be,nt),nt.delete(ft)),Xd(u,x,zt)}}(u,f,nt,x,fr,te,Ce);else{var ct=te?te(Ey(u,nt),Be,nt+"",u,f,Ce):b;ct===b&&(ct=Be),Xd(u,nt,ct)}},Zs)}function Jx(u,f){var x=u.length;if(x)return Fa(f+=f<0?x:0,x)?u[f]:b}function Ff(u,f,x){f=f.length?Nr(f,function(Be){return oi(Be)?function(nt){return el(nt,1===Be.length?Be[0]:Be)}:Be}):[Qs];var te=-1;return f=Nr(f,As(zn())),function km(dt,It){var Ct=dt.length;for(dt.sort(It);Ct--;)dt[Ct]=dt[Ct].value;return dt}(qx(u,function(Be,nt,ct){return{criteria:Nr(f,function(jt){return jt(Be)}),index:++te,value:Be}}),function(Be,nt){return function iE(u,f,x){for(var te=-1,Ce=u.criteria,Be=f.criteria,nt=Ce.length,ct=x.length;++te<nt;){var ft=_y(Ce[te],Be[te]);if(ft)return te>=ct?ft:ft*("desc"==x[te]?-1:1)}return u.index-f.index}(Be,nt,x)})}function dy(u,f,x){for(var te=-1,Ce=f.length,Be={};++te<Ce;){var nt=f[te],ct=el(u,nt);x(ct,nt)&&lh(Be,Gl(nt,u),ct)}return Be}function ah(u,f,x,te){var Ce=te?Ub:qc,Be=-1,nt=f.length,ct=u;for(u===f&&(f=Ko(f)),x&&(ct=Nr(u,As(x)));++Be<nt;)for(var ft=0,jt=f[Be],zt=x?x(jt):jt;(ft=Ce(ct,zt,ft,te))>-1;)ct!==u&&ec.call(ct,ft,1),ec.call(u,ft,1);return u}function il(u,f){for(var x=u?f.length:0,te=x-1;x--;){var Ce=f[x];if(x==te||Ce!==Be){var Be=Ce;Fa(Ce)?ec.call(u,Ce,1):eu(u,Ce)}}return u}function uy(u,f){return u+Fr(Ix()*(f-u+1))}function ch(u,f){var x="";if(!u||f<1||f>ze)return x;do{f%2&&(x+=u),(f=Fr(f/2))&&(u+=u)}while(f);return x}function hi(u,f){return Cy(pE(u,f,Qs),u+"")}function hy(u){return ny(Ch(u))}function Qx(u,f){var x=Ch(u);return cu(x,qd(f,0,x.length))}function lh(u,f,x,te){if(!Br(u))return u;for(var Ce=-1,Be=(f=Gl(f,u)).length,nt=Be-1,ct=u;null!=ct&&++Ce<Be;){var ft=_a(f[Ce]),jt=x;if("__proto__"===ft||"constructor"===ft||"prototype"===ft)return u;if(Ce!=nt){var zt=ct[ft];(jt=te?te(zt,ft,ct):b)===b&&(jt=Br(zt)?zt:Fa(f[Ce+1])?[]:{})}Ul(ct,ft,jt),ct=ct[ft]}return u}var eE=qb?function(u,f){return qb.set(u,f),u}:Qs,dh=ih?function(u,f){return ih(u,"toString",{configurable:!0,enumerable:!1,value:cp(f),writable:!0})}:Qs;function Lf(u){return cu(Ch(u))}function Pa(u,f,x){var te=-1,Ce=u.length;f<0&&(f=-f>Ce?0:Ce+f),(x=x>Ce?Ce:x)<0&&(x+=Ce),Ce=f>x?0:x-f>>>0,f>>>=0;for(var Be=Ct(Ce);++te<Ce;)Be[te]=u[te+f];return Be}function fy(u,f){var x;return jl(u,function(te,Ce,Be){return!(x=f(te,Ce,Be))}),!!x}function zm(u,f,x){var te=0,Ce=null==u?te:u.length;if("number"==typeof f&&f==f&&Ce<=2147483647){for(;te<Ce;){var Be=te+Ce>>>1,nt=u[Be];null!==nt&&!_s(nt)&&(x?nt<=f:nt<f)?te=Be+1:Ce=Be}return Ce}return py(u,f,Qs,x)}function py(u,f,x,te){var Ce=0,Be=null==u?0:u.length;if(0===Be)return 0;for(var nt=(f=x(f))!=f,ct=null===f,ft=_s(f),jt=f===b;Ce<Be;){var zt=Fr((Ce+Be)/2),Yt=x(u[zt]),bn=Yt!==b,Nn=null===Yt,Hn=Yt==Yt,yi=_s(Yt);if(nt)var Vn=te||Hn;else Vn=jt?Hn&&(te||bn):ct?Hn&&bn&&(te||!Nn):ft?Hn&&bn&&!Nn&&(te||!yi):!Nn&&!yi&&(te?Yt<=f:Yt<f);Vn?Ce=zt+1:Be=zt}return wr(Be,4294967294)}function tE(u,f){for(var x=-1,te=u.length,Ce=0,Be=[];++x<te;){var nt=u[x],ct=f?f(nt):nt;if(!x||!gs(ct,ft)){var ft=ct;Be[Ce++]=0===nt?0:nt}}return Be}function TT(u){return"number"==typeof u?u:_s(u)?NaN:+u}function Na(u){if("string"==typeof u)return u;if(oi(u))return Nr(u,Na)+"";if(_s(u))return Zb?Zb.call(u):"";var f=u+"";return"0"==f&&1/u==-Ie?"-0":f}function Ic(u,f,x){var te=-1,Ce=Hd,Be=u.length,nt=!0,ct=[],ft=ct;if(x)nt=!1,Ce=Fb;else if(Be>=200){var jt=f?null:R3(u);if(jt)return Rm(jt);nt=!1,Ce=Qu,ft=new Yd}else ft=f?[]:ct;e:for(;++te<Be;){var zt=u[te],Yt=f?f(zt):zt;if(zt=x||0!==zt?zt:0,nt&&Yt==Yt){for(var bn=ft.length;bn--;)if(ft[bn]===Yt)continue e;f&&ft.push(Yt),ct.push(zt)}else Ce(ft,Yt,x)||(ft!==ct&&ft.push(Yt),ct.push(zt))}return ct}function eu(u,f){return null==(u=WT(u,f=Gl(f,u)))||delete u[_a(Ba(f))]}function nE(u,f,x,te){return lh(u,f,x(el(u,f)),te)}function Hl(u,f,x,te){for(var Ce=u.length,Be=te?Ce:-1;(te?Be--:++Be<Ce)&&f(u[Be],Be,u););return x?Pa(u,te?0:Be,te?Be+1:Ce):Pa(u,te?Be+1:0,te?Ce:Be)}function Hm(u,f){var x=u;return x instanceof Fi&&(x=x.value()),Dm(f,function(te,Ce){return Ce.func.apply(Ce.thisArg,Pl([te],Ce.args))},x)}function uh(u,f,x){var te=u.length;if(te<2)return te?Ic(u[0]):[];for(var Ce=-1,Be=Ct(te);++Ce<te;)for(var nt=u[Ce],ct=-1;++ct<te;)ct!=Ce&&(Be[Ce]=Of(Be[Ce]||nt,u[ct],f,x));return Ic(Pn(Be,1),f,x)}function IT(u,f,x){for(var te=-1,Ce=u.length,Be=f.length,nt={};++te<Ce;)x(nt,u[te],te<Be?f[te]:b);return nt}function Gm(u){return ro(u)?u:[]}function Wm(u){return"function"==typeof u?u:Qs}function Gl(u,f){return oi(u)?u:Kl(u,f)?[u]:Jm(rr(u))}var Dc=hi;function Wl(u,f,x){var te=u.length;return x=x===b?te:x,!f&&x>=te?u:Pa(u,f,x)}var Bf=Ef||function(u){return as.clearTimeout(u)};function $m(u,f){if(f)return u.slice();var x=u.length,te=Gd?Gd(x):new u.constructor(x);return u.copy(te),te}function Ym(u){var f=new u.constructor(u.byteLength);return new Ll(f).set(new Ll(u)),f}function gy(u,f){var x=f?Ym(u.buffer):u.buffer;return new u.constructor(x,u.byteOffset,u.length)}function _y(u,f){if(u!==f){var x=u!==b,te=null===u,Ce=u==u,Be=_s(u),nt=f!==b,ct=null===f,ft=f==f,jt=_s(f);if(!ct&&!jt&&!Be&&u>f||Be&&nt&&ft&&!ct&&!jt||te&&nt&&ft||!x&&ft||!Ce)return 1;if(!te&&!Be&&!jt&&u<f||jt&&x&&Ce&&!te&&!Be||ct&&x&&Ce||!nt&&Ce||!ft)return-1}return 0}function by(u,f,x,te){for(var Ce=-1,Be=u.length,nt=x.length,ct=-1,ft=f.length,jt=io(Be-nt,0),zt=Ct(ft+jt),Yt=!te;++ct<ft;)zt[ct]=f[ct];for(;++Ce<nt;)(Yt||Ce<Be)&&(zt[x[Ce]]=u[Ce]);for(;jt--;)zt[ct++]=u[Ce++];return zt}function rE(u,f,x,te){for(var Ce=-1,Be=u.length,nt=-1,ct=x.length,ft=-1,jt=f.length,zt=io(Be-ct,0),Yt=Ct(zt+jt),bn=!te;++Ce<zt;)Yt[Ce]=u[Ce];for(var Nn=Ce;++ft<jt;)Yt[Nn+ft]=f[ft];for(;++nt<ct;)(bn||Ce<Be)&&(Yt[Nn+x[nt]]=u[Ce++]);return Yt}function Ko(u,f){var x=-1,te=u.length;for(f||(f=Ct(te));++x<te;)f[x]=u[x];return f}function fs(u,f,x,te){var Ce=!x;x||(x={});for(var Be=-1,nt=f.length;++Be<nt;){var ct=f[Be],ft=te?te(x[ct],u[ct],ct,x,u):b;ft===b&&(ft=u[ct]),Ce?Vl(x,ct,ft):Ul(x,ct,ft)}return x}function Uf(u,f){return function(x,te){var Ce=oi(x)?C3:Kd,Be=f?f():{};return Ce(x,u,zn(te,2),Be)}}function rc(u){return hi(function(f,x){var te=-1,Ce=x.length,Be=Ce>1?x[Ce-1]:b,nt=Ce>2?x[2]:b;for(Be=u.length>3&&"function"==typeof Be?(Ce--,Be):b,nt&&Ds(x[0],x[1],nt)&&(Be=Ce<3?b:Be,Ce=1),f=gr(f);++te<Ce;){var ct=x[te];ct&&u(f,ct,te,Be)}return f})}function tu(u,f){return function(x,te){if(null==x)return x;if(!Js(x))return u(x,te);for(var Ce=x.length,Be=f?Ce:-1,nt=gr(x);(f?Be--:++Be<Ce)&&!1!==te(nt[Be],Be,nt););return x}}function go(u){return function(f,x,te){for(var Ce=-1,Be=gr(f),nt=te(f),ct=nt.length;ct--;){var ft=nt[u?ct:++Ce];if(!1===x(Be[ft],ft,Be))break}return f}}function Hi(u){return function(f){var x=cs(f=rr(f))?on(f):b,te=x?x[0]:f.charAt(0),Ce=x?Wl(x,1).join(""):f.slice(1);return te[u]()+Ce}}function $l(u){return function(f){return Dm(mu(yg(f).replace(E3,"")),u,"")}}function Vf(u){return function(){var f=arguments;switch(f.length){case 0:return new u;case 1:return new u(f[0]);case 2:return new u(f[0],f[1]);case 3:return new u(f[0],f[1],f[2]);case 4:return new u(f[0],f[1],f[2],f[3]);case 5:return new u(f[0],f[1],f[2],f[3],f[4]);case 6:return new u(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new u(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var x=If(u.prototype),te=u.apply(x,f);return Br(te)?te:x}}function Ks(u){return function(f,x,te){var Ce=gr(f);if(!Js(f)){var Be=zn(x,3);f=Mo(f),x=function(ct){return Be(Ce[ct],ct,Ce)}}var nt=u(f,x,te);return nt>-1?Ce[Be?f[nt]:nt]:b}}function nu(u){return sl(function(f){var x=f.length,te=x,Ce=nc.prototype.thru;for(u&&f.reverse();te--;){var Be=f[te];if("function"!=typeof Be)throw new Zt(g);if(Ce&&!nt&&"wrapper"==ou(Be))var nt=new nc([],!0)}for(te=nt?te:x;++te<x;){var ct=ou(Be=f[te]),ft="wrapper"==ct?Km(Be):b;nt=ft&&fh(ft[0])&&424==ft[1]&&!ft[4].length&&1==ft[9]?nt[ou(ft[0])].apply(nt,ft[3]):1==Be.length&&fh(Be)?nt[ct]():nt.thru(Be)}return function(){var jt=arguments,zt=jt[0];if(nt&&1==jt.length&&oi(zt))return nt.plant(zt).value();for(var Yt=0,bn=x?f[Yt].apply(this,jt):zt;++Yt<x;)bn=f[Yt].call(this,bn);return bn}})}function rl(u,f,x,te,Ce,Be,nt,ct,ft,jt){var zt=f&k,Yt=1&f,bn=2&f,Nn=24&f,Hn=512&f,yi=bn?b:Vf(u);return function Vn(){for(var Ai=arguments.length,Pi=Ct(Ai),va=Ai;va--;)Pi[va]=arguments[va];if(Nn)var Rs=al(Vn),wa=function wx(dt,It){for(var Ct=dt.length,hn=0;Ct--;)dt[Ct]===It&&++hn;return hn}(Pi,Rs);if(te&&(Pi=by(Pi,te,Ce,Nn)),Be&&(Pi=rE(Pi,Be,nt,Nn)),Ai-=wa,Nn&&Ai<jt){var uo=Fl(Pi,Rs);return RT(u,f,rl,Vn.placeholder,x,Pi,uo,ct,ft,jt-Ai)}var sc=Yt?x:this,hl=bn?sc[u]:u;return Ai=Pi.length,ct?Pi=function mE(u,f){for(var x=u.length,te=wr(f.length,x),Ce=Ko(u);te--;){var Be=f[te];u[te]=Fa(Be,x)?Ce[Be]:b}return u}(Pi,ct):Hn&&Ai>1&&Pi.reverse(),zt&&ft<Ai&&(Pi.length=ft),this&&this!==as&&this instanceof Vn&&(hl=yi||Vf(hl)),hl.apply(sc,Pi)}}function iu(u,f){return function(x,te){return function nl(u,f,x,te){return Ys(u,function(Ce,Be,nt){f(te,x(Ce),Be,nt)}),te}(x,u,f(te),{})}}function jf(u,f){return function(x,te){var Ce;if(x===b&&te===b)return f;if(x!==b&&(Ce=x),te!==b){if(Ce===b)return te;"string"==typeof x||"string"==typeof te?(x=Na(x),te=Na(te)):(x=TT(x),te=TT(te)),Ce=u(x,te)}return Ce}}function zf(u){return sl(function(f){return f=Nr(f,As(zn())),hi(function(x){var te=this;return u(f,function(Ce){return Ia(Ce,te,x)})})})}function ol(u,f){var x=(f=f===b?" ":Na(f)).length;if(x<2)return x?ch(f,u):f;var te=ch(f,Zc(u/th(f)));return cs(f)?Wl(on(te),0,u).join(""):te.slice(0,u)}function aE(u){return function(f,x,te){return te&&"number"!=typeof te&&Ds(f,x,te)&&(x=te=b),f=dl(f),x===b?(x=f,f=0):x=dl(x),function jm(u,f,x,te){for(var Ce=-1,Be=io(Zc((f-u)/(x||1)),0),nt=Ct(Be);Be--;)nt[te?Be:++Ce]=u,u+=x;return nt}(f,x,te=te===b?f<x?1:-1:dl(te),u)}}function yy(u){return function(f,x){return"string"==typeof f&&"string"==typeof x||(f=Os(f),x=Os(x)),u(f,x)}}function RT(u,f,x,te,Ce,Be,nt,ct,ft,jt){var zt=8&f;f|=zt?w:64,4&(f&=~(zt?64:w))||(f&=-4);var yi=[u,f,Ce,zt?Be:b,zt?nt:b,zt?b:Be,zt?b:nt,ct,ft,jt],Vn=x.apply(b,yi);return fh(u)&&$T(Vn,yi),Vn.placeholder=te,gE(Vn,u,f)}function cE(u){var f=to[u];return function(x,te){if(x=Os(x),(te=null==te?0:wr(fi(te),292))&&Yo(x)){var Ce=(rr(x)+"e").split("e");return+((Ce=(rr(f(Ce[0]+"e"+(+Ce[1]+te)))+"e").split("e"))[0]+"e"+(+Ce[1]-te))}return f(x)}}var R3=Mf&&1/Rm(new Mf([,-0]))[1]==Ie?function(u){return new Mf(u)}:Mh;function PT(u){return function(f){var x=Is(f);return x==re?Gb(f):x==je?function Sx(dt){var It=-1,Ct=Array(dt.size);return dt.forEach(function(hn){Ct[++It]=[hn,hn]}),Ct}(f):function Yi(dt,It){return Nr(It,function(Ct){return[Ct,dt[Ct]]})}(f,u(f))}}function Yl(u,f,x,te,Ce,Be,nt,ct){var ft=2&f;if(!ft&&"function"!=typeof u)throw new Zt(g);var jt=te?te.length:0;if(jt||(f&=-97,te=Ce=b),nt=nt===b?nt:io(fi(nt),0),ct=ct===b?ct:fi(ct),jt-=Ce?Ce.length:0,64&f){var zt=te,Yt=Ce;te=Ce=b}var bn=ft?b:Km(u),Nn=[u,f,x,te,Ce,zt,Yt,Be,nt,ct];if(bn&&function GT(u,f){var x=u[1],te=f[1],Ce=x|te;if(!(Ce<131)&&!(te==k&&8==x||te==k&&256==x&&u[7].length<=f[8]||384==te&&f[7].length<=f[8]&&8==x))return u;1&te&&(u[2]=f[2],Ce|=1&x?0:4);var ct=f[3];if(ct){var ft=u[3];u[3]=ft?by(ft,ct,f[4]):ct,u[4]=ft?Fl(u[3],I):f[4]}(ct=f[5])&&(u[5]=(ft=u[5])?rE(ft,ct,f[6]):ct,u[6]=ft?Fl(u[5],I):f[6]),(ct=f[7])&&(u[7]=ct),te&k&&(u[8]=null==u[8]?f[8]:wr(u[8],f[8])),null==u[9]&&(u[9]=f[9]),u[0]=f[0],u[1]=Ce}(Nn,bn),u=Nn[0],f=Nn[1],x=Nn[2],te=Nn[3],Ce=Nn[4],!(ct=Nn[9]=Nn[9]===b?ft?0:u.length:io(Nn[9]-jt,0))&&24&f&&(f&=-25),f&&1!=f)Hn=8==f||16==f?function sE(u,f,x){var te=Vf(u);return function Ce(){for(var Be=arguments.length,nt=Ct(Be),ct=Be,ft=al(Ce);ct--;)nt[ct]=arguments[ct];var jt=Be<3&&nt[0]!==ft&&nt[Be-1]!==ft?[]:Fl(nt,ft);return(Be-=jt.length)<x?RT(u,f,rl,Ce.placeholder,b,nt,jt,b,b,x-Be):Ia(this&&this!==as&&this instanceof Ce?te:u,this,nt)}}(u,f,ct):f!=w&&33!=f||Ce.length?rl.apply(b,Nn):function O3(u,f,x,te){var Ce=1&f,Be=Vf(u);return function nt(){for(var ct=-1,ft=arguments.length,jt=-1,zt=te.length,Yt=Ct(zt+ft),bn=this&&this!==as&&this instanceof nt?Be:u;++jt<zt;)Yt[jt]=te[jt];for(;ft--;)Yt[jt++]=arguments[++ct];return Ia(bn,Ce?x:this,Yt)}}(u,f,x,te);else var Hn=function OT(u,f,x){var te=1&f,Ce=Vf(u);return function Be(){return(this&&this!==as&&this instanceof Be?Ce:u).apply(te?x:this,arguments)}}(u,f,x);return gE((bn?eE:$T)(Hn,Nn),u,f)}function ru(u,f,x,te){return u===b||gs(u,ds[x])&&!zi.call(te,x)?f:u}function lE(u,f,x,te,Ce,Be){return Br(u)&&Br(f)&&(Be.set(f,u),fr(u,f,b,lE,Be),Be.delete(f)),u}function NT(u){return vh(u)?b:u}function _o(u,f,x,te,Ce,Be){var nt=1&x,ct=u.length,ft=f.length;if(ct!=ft&&!(nt&&ft>ct))return!1;var jt=Be.get(u),zt=Be.get(f);if(jt&&zt)return jt==f&&zt==u;var Yt=-1,bn=!0,Nn=2&x?new Yd:b;for(Be.set(u,f),Be.set(f,u);++Yt<ct;){var Hn=u[Yt],yi=f[Yt];if(te)var Vn=nt?te(yi,Hn,Yt,f,u,Be):te(Hn,yi,Yt,u,f,Be);if(Vn!==b){if(Vn)continue;bn=!1;break}if(Nn){if(!Lb(f,function(Ai,Pi){if(!Qu(Nn,Pi)&&(Hn===Ai||Ce(Hn,Ai,x,te,Be)))return Nn.push(Pi)})){bn=!1;break}}else if(Hn!==yi&&!Ce(Hn,yi,x,te,Be)){bn=!1;break}}return Be.delete(u),Be.delete(f),bn}function sl(u){return Cy(pE(u,b,Qm),u+"")}function ps(u){return Hx(u,Mo,Gf)}function Xl(u){return Hx(u,Zs,su)}var Km=qb?function(u){return qb.get(u)}:Mh;function ou(u){for(var f=u.name+"",x=Tf[f],te=zi.call(Tf,f)?x.length:0;te--;){var Ce=x[te],Be=Ce.func;if(null==Be||Be==u)return Ce.name}return f}function al(u){return(zi.call(Pe,"placeholder")?Pe:u).placeholder}function zn(){var u=Pe.iteratee||lv;return u=u===lv?ly:u,arguments.length?u(arguments[0],arguments[1]):u}function vy(u,f){var x=u.__data__;return function jT(u){var f=typeof u;return"string"==f||"number"==f||"symbol"==f||"boolean"==f?"__proto__"!==u:null===u}(f)?x["string"==typeof f?"string":"hash"]:x.map}function qm(u){for(var f=Mo(u),x=f.length;x--;){var te=f[x],Ce=u[te];f[x]=[te,Ce,Wf(Ce)]}return f}function hh(u,f){var x=function hT(dt,It){return null==dt?b:dt[It]}(u,f);return $x(x)?x:b}var Gf=Cf?function(u){return null==u?[]:(u=gr(u),Cc(Cf(u),function(f){return $b.call(u,f)}))}:Cg,su=Cf?function(u){for(var f=[];u;)Pl(f,Gf(u)),u=ma(u);return f}:Cg,Is=Xs;function uE(u,f,x){for(var te=-1,Ce=(f=Gl(f,u)).length,Be=!1;++te<Ce;){var nt=_a(f[te]);if(!(Be=null!=u&&x(u,nt)))break;u=u[nt]}return Be||++te!=Ce?Be:!!(Ce=null==u?0:u.length)&&Oc(Ce)&&Fa(nt,Ce)&&(oi(u)||ll(u))}function hE(u){return"function"!=typeof u.constructor||au(u)?{}:If(ma(u))}function wy(u){return oi(u)||ll(u)||!!(xf&&u&&u[xf])}function Fa(u,f){var x=typeof u;return!!(f=f??ze)&&("number"==x||"symbol"!=x&&ji.test(u))&&u>-1&&u%1==0&&u<f}function Ds(u,f,x){if(!Br(x))return!1;var te=typeof f;return!!("number"==te?Js(x)&&Fa(f,x.length):"string"==te&&f in x)&&gs(x[f],u)}function Kl(u,f){if(oi(u))return!1;var x=typeof u;return!("number"!=x&&"symbol"!=x&&"boolean"!=x&&null!=u&&!_s(u))||Wo.test(u)||!xc.test(u)||null!=f&&u in gr(f)}function fh(u){var f=ou(u),x=Pe[f];if("function"!=typeof x||!(f in Fi.prototype))return!1;if(u===x)return!0;var te=Km(x);return!!te&&u===te[0]}(Nm&&Is(new Nm(new ArrayBuffer(1)))!=$||Sf&&Is(new Sf)!=re||Af&&Is(Af.resolve())!=fe||Mf&&Is(new Mf)!=je||Fm&&Is(new Fm)!=At)&&(Is=function(u){var f=Xs(u),x=f==V?u.constructor:b,te=x?kc(x):"";if(te)switch(te){case A3:return $;case M3:return re;case T3:return fe;case I3:return je;case D3:return At}return f});var fE=Ao?oc:p1;function au(u){var f=u&&u.constructor;return u===("function"==typeof f&&f.prototype||ds)}function Wf(u){return u==u&&!Br(u)}function xy(u,f){return function(x){return null!=x&&x[u]===f&&(f!==b||u in gr(x))}}function pE(u,f,x){return f=io(f===b?u.length-1:f,0),function(){for(var te=arguments,Ce=-1,Be=io(te.length-f,0),nt=Ct(Be);++Ce<Be;)nt[Ce]=te[f+Ce];Ce=-1;for(var ct=Ct(f+1);++Ce<f;)ct[Ce]=te[Ce];return ct[f]=x(nt),Ia(u,this,ct)}}function WT(u,f){return f.length<2?u:el(u,Pa(f,0,-1))}function Ey(u,f){if(("constructor"!==f||"function"!=typeof u[f])&&"__proto__"!=f)return u[f]}var $T=ql(eE),Yf=Pm||function(u,f){return as.setTimeout(u,f)},Cy=ql(dh);function gE(u,f,x){var te=f+"";return Cy(u,function VT(u,f){var x=f.length;if(!x)return u;var te=x-1;return f[te]=(x>1?"& ":"")+f[te],f=f.join(x>2?", ":" "),u.replace(Mn,"{\n/* [wrapped with "+f+"] */\n")}(te,function XT(u,f){return Qa(pt,function(x){var te="_."+x[0];f&x[1]&&!Hd(u,te)&&u.push(te)}),u.sort()}(function LT(u){var f=u.match(Rr);return f?f[1].split(Qt):[]}(te),x)))}function ql(u){var f=0,x=0;return function(){var te=Xb(),Ce=16-(te-x);if(x=te,Ce>0){if(++f>=800)return arguments[0]}else f=0;return u.apply(b,arguments)}}function cu(u,f){var x=-1,te=u.length,Ce=te-1;for(f=f===b?te:f;++x<f;){var Be=uy(x,Ce),nt=u[Be];u[Be]=u[x],u[x]=nt}return u.length=f,u}var Jm=function HT(u){var f=yh(u,function(te){return 500===x.size&&x.clear(),te}),x=f.cache;return f}(function(u){var f=[];return 46===u.charCodeAt(0)&&f.push(""),u.replace(Rl,function(x,te,Ce,Be){f.push(Ce?Be.replace(Za,"$1"):te||x)}),f});function _a(u){if("string"==typeof u||_s(u))return u;var f=u+"";return"0"==f&&1/u==-Ie?"-0":f}function kc(u){if(null!=u){try{return $s.call(u)}catch{}try{return u+""}catch{}}return""}function Sy(u){if(u instanceof Fi)return u.clone();var f=new nc(u.__wrapped__,u.__chain__);return f.__actions__=Ko(u.__actions__),f.__index__=u.__index__,f.__values__=u.__values__,f}var Ay=hi(function(u,f){return ro(u)?Of(u,Pn(f,1,ro,!0)):[]}),KT=hi(function(u,f){var x=Ba(f);return ro(x)&&(x=b),ro(u)?Of(u,Pn(f,1,ro,!0),zn(x,2)):[]}),My=hi(function(u,f){var x=Ba(f);return ro(x)&&(x=b),ro(u)?Of(u,Pn(f,1,ro,!0),b,x):[]});function Xf(u,f,x){var te=null==u?0:u.length;if(!te)return-1;var Ce=null==x?0:fi(x);return Ce<0&&(Ce=io(te+Ce,0)),Ft(u,zn(f,3),Ce)}function vE(u,f,x){var te=null==u?0:u.length;if(!te)return-1;var Ce=te-1;return x!==b&&(Ce=fi(x),Ce=x<0?io(te+Ce,0):wr(Ce,te-1)),Ft(u,zn(f,3),Ce,!0)}function Qm(u){return null!=u&&u.length?Pn(u,1):[]}function tg(u){return u&&u.length?u[0]:b}var wE=hi(function(u){var f=Nr(u,Gm);return f.length&&f[0]===u[0]?Ra(f):[]}),gh=hi(function(u){var f=Ba(u),x=Nr(u,Gm);return f===Ba(x)?f=b:x.pop(),x.length&&x[0]===u[0]?Ra(x,zn(f,2)):[]}),QT=hi(function(u){var f=Ba(u),x=Nr(u,Gm);return(f="function"==typeof f?f:b)&&x.pop(),x.length&&x[0]===u[0]?Ra(x,b,f):[]});function Ba(u){var f=null==u?0:u.length;return f?u[f-1]:b}var Dy=hi(ky);function ky(u,f){return u&&u.length&&f&&f.length?ah(u,f):u}var xE=sl(function(u,f){var x=null==u?0:u.length,te=ry(u,f);return il(u,Nr(f,function(Ce){return Fa(Ce,x)?+Ce:Ce}).sort(_y)),te});function ng(u){return null==u?u:Kb.call(u)}var cI=hi(function(u){return Ic(Pn(u,1,ro,!0))}),Zl=hi(function(u){var f=Ba(u);return ro(f)&&(f=b),Ic(Pn(u,1,ro,!0),zn(f,2))}),qf=hi(function(u){var f=Ba(u);return f="function"==typeof f?f:b,Ic(Pn(u,1,ro,!0),b,f)});function ME(u){if(!u||!u.length)return[];var f=0;return u=Cc(u,function(x){if(ro(x))return f=io(x.length,f),!0}),Da(f,function(x){return Nr(u,Vb(x))})}function Lr(u,f){if(!u||!u.length)return[];var x=ME(u);return null==f?x:Nr(x,function(te){return Ia(f,b,te)})}var Py=hi(function(u,f){return ro(u)?Of(u,f):[]}),dI=hi(function(u){return uh(Cc(u,ro))}),uI=hi(function(u){var f=Ba(u);return ro(f)&&(f=b),uh(Cc(u,ro),zn(f,2))}),Ny=hi(function(u){var f=Ba(u);return f="function"==typeof f?f:b,uh(Cc(u,ro),b,f)}),_h=hi(ME),ba=hi(function(u){var f=u.length,x=f>1?u[f-1]:b;return x="function"==typeof x?(u.pop(),x):b,Lr(u,x)});function cl(u){var f=Pe(u);return f.__chain__=!0,f}function Jf(u,f){return f(u)}var Ql=sl(function(u){var f=u.length,x=f?u[0]:0,te=this.__wrapped__,Ce=function(Be){return ry(Be,u)};return!(f>1||this.__actions__.length)&&te instanceof Fi&&Fa(x)?((te=te.slice(x,+x+(f?1:0))).__actions__.push({func:Jf,args:[Ce],thisArg:b}),new nc(te,this.__chain__).thru(function(Be){return f&&!Be.length&&Be.push(b),Be})):this.thru(Ce)}),kE=Uf(function(u,f,x){zi.call(u,x)?++u[x]:Vl(u,x,1)}),pI=Ks(Xf),Ly=Ks(vE);function mI(u,f){return(oi(u)?Qa:jl)(u,zn(f,3))}function gI(u,f){return(oi(u)?S3:zx)(u,zn(f,3))}var j3=Uf(function(u,f,x){zi.call(u,x)?u[x].push(f):Vl(u,x,[f])}),H3=hi(function(u,f,x){var te=-1,Ce="function"==typeof f,Be=Js(u)?Ct(u.length):[];return jl(u,function(nt){Be[++te]=Ce?Ia(f,nt,x):Rf(nt,f,x)}),Be}),_I=Uf(function(u,f,x){Vl(u,x,f)});function uu(u,f){return(oi(u)?Nr:qx)(u,zn(f,3))}var Uy=Uf(function(u,f,x){u[x?0:1].push(f)},function(){return[[],[]]}),ed=hi(function(u,f){if(null==u)return[];var x=f.length;return x>1&&Ds(u,f[0],f[1])?f=[]:x>2&&Ds(f[0],f[1],f[2])&&(f=[f[0]]),Ff(u,Pn(f,1),[])}),cg=Ac||function(){return as.Date.now()};function FE(u,f,x){return f=x?b:f,Yl(u,k,b,b,b,b,f=u&&null==f?u.length:f)}function Vy(u,f){var x;if("function"!=typeof f)throw new Zt(g);return u=fi(u),function(){return--u>0&&(x=f.apply(this,arguments)),u<=1&&(f=b),x}}var ep=hi(function(u,f,x){var te=1;if(x.length){var Ce=Fl(x,al(ep));te|=w}return Yl(u,te,f,x,Ce)}),LE=hi(function(u,f,x){var te=3;if(x.length){var Ce=Fl(x,al(LE));te|=w}return Yl(f,te,u,x,Ce)});function jy(u,f,x){var te,Ce,Be,nt,ct,ft,jt=0,zt=!1,Yt=!1,bn=!0;if("function"!=typeof u)throw new Zt(g);function Nn(uo){var sc=te,hl=Ce;return te=Ce=b,jt=uo,nt=u.apply(hl,sc)}function Vn(uo){var sc=uo-ft;return ft===b||sc>=f||sc<0||Yt&&uo-jt>=Be}function Ai(){var uo=cg();if(Vn(uo))return Pi(uo);ct=Yf(Ai,function yi(uo){var gv=f-(uo-ft);return Yt?wr(gv,Be-(uo-jt)):gv}(uo))}function Pi(uo){return ct=b,bn&&te?Nn(uo):(te=Ce=b,nt)}function wa(){var uo=cg(),sc=Vn(uo);if(te=arguments,Ce=this,ft=uo,sc){if(ct===b)return function Hn(uo){return jt=uo,ct=Yf(Ai,f),zt?Nn(uo):nt}(ft);if(Yt)return Bf(ct),ct=Yf(Ai,f),Nn(ft)}return ct===b&&(ct=Yf(Ai,f)),nt}return f=Os(f)||0,Br(x)&&(zt=!!x.leading,Be=(Yt="maxWait"in x)?io(Os(x.maxWait)||0,f):Be,bn="trailing"in x?!!x.trailing:bn),wa.cancel=function va(){ct!==b&&Bf(ct),jt=0,te=ft=Ce=ct=b},wa.flush=function Rs(){return ct===b?nt:Pi(cg())},wa}var vI=hi(function(u,f){return jx(u,1,f)}),wI=hi(function(u,f,x){return jx(u,Os(f)||0,x)});function yh(u,f){if("function"!=typeof u||null!=f&&"function"!=typeof f)throw new Zt(g);var x=function(){var te=arguments,Ce=f?f.apply(this,te):te[0],Be=x.cache;if(Be.has(Ce))return Be.get(Ce);var nt=u.apply(this,te);return x.cache=Be.set(Ce,nt)||Be,nt};return x.cache=new(yh.Cache||Qc),x}function tp(u){if("function"!=typeof u)throw new Zt(g);return function(){var f=arguments;switch(f.length){case 0:return!u.call(this);case 1:return!u.call(this,f[0]);case 2:return!u.call(this,f[0],f[1]);case 3:return!u.call(this,f[0],f[1],f[2])}return!u.apply(this,f)}}yh.Cache=Qc;var ms=Dc(function(u,f){var x=(f=1==f.length&&oi(f[0])?Nr(f[0],As(zn())):Nr(Pn(f,1),As(zn()))).length;return hi(function(te){for(var Ce=-1,Be=wr(te.length,x);++Ce<Be;)te[Ce]=f[Ce].call(this,te[Ce]);return Ia(u,this,te)})}),hu=hi(function(u,f){var x=Fl(f,al(hu));return Yl(u,w,b,f,x)}),Hy=hi(function(u,f){var x=Fl(f,al(Hy));return Yl(u,64,b,f,x)}),VE=sl(function(u,f){return Yl(u,256,b,b,b,f)});function gs(u,f){return u===f||u!=u&&f!=f}var lg=yy(Um),GE=yy(function(u,f){return u>=f}),ll=sy(function(){return arguments}())?sy:function(u){return Wr(u)&&zi.call(u,"callee")&&!$b.call(u,"callee")},oi=Ct.isArray,TI=Mm?As(Mm):function ST(u){return Wr(u)&&Xs(u)==ge};function Js(u){return null!=u&&Oc(u.length)&&!oc(u)}function ro(u){return Wr(u)&&Js(u)}var td=hs||p1,DI=Nb?As(Nb):function AT(u){return Wr(u)&&Xs(u)==se};function Yy(u){if(!Wr(u))return!1;var f=Xs(u);return f==He||"[object DOMException]"==f||"string"==typeof u.message&&"string"==typeof u.name&&!vh(u)}function oc(u){if(!Br(u))return!1;var f=Xs(u);return f==Ze||f==he||"[object AsyncFunction]"==f||"[object Proxy]"==f}function Xy(u){return"number"==typeof u&&u==fi(u)}function Oc(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=ze}function Br(u){var f=typeof u;return null!=u&&("object"==f||"function"==f)}function Wr(u){return null!=u&&"object"==typeof u}var $E=Tm?As(Tm):function Wx(u){return Wr(u)&&Is(u)==re};function hg(u){return"number"==typeof u||Wr(u)&&Xs(u)==W}function vh(u){if(!Wr(u)||Xs(u)!=V)return!1;var f=ma(u);if(null===f)return!0;var x=zi.call(f,"constructor")&&f.constructor;return"function"==typeof x&&x instanceof x&&$s.call(x)==di}var wh=yx?As(yx):function Yx(u){return Wr(u)&&Xs(u)==ye},Ky=Im?As(Im):function cy(u){return Wr(u)&&Is(u)==je};function xh(u){return"string"==typeof u||!oi(u)&&Wr(u)&&Xs(u)==at}function _s(u){return"symbol"==typeof u||Wr(u)&&Xs(u)==vt}var fu=cT?As(cT):function Xx(u){return Wr(u)&&Oc(u.length)&&!!hr[Xs(u)]},qE=yy(Nf),PI=yy(function(u,f){return u<=f});function JE(u){if(!u)return[];if(Js(u))return xh(u)?on(u):Ko(u);if(tc&&u[tc])return function Ex(dt){for(var It,Ct=[];!(It=dt.next()).done;)Ct.push(It.value);return Ct}(u[tc]());var f=Is(u);return(f==re?Gb:f==je?Rm:Ch)(u)}function dl(u){return u?(u=Os(u))===Ie||u===-Ie?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}function fi(u){var f=dl(u),x=f%1;return f==f?x?f-x:f:0}function Jy(u){return u?qd(fi(u),0,ue):0}function Os(u){if("number"==typeof u)return u;if(_s(u))return NaN;if(Br(u)){var f="function"==typeof u.valueOf?u.valueOf():u;u=Br(f)?f+"":f}if("string"!=typeof u)return 0===u?u:+u;u=zb(u);var x=Lt.test(u);return x||$o.test(u)?_x(u.slice(2),x?2:8):Vi.test(u)?NaN:+u}function pg(u){return fs(u,Zs(u))}function rr(u){return null==u?"":Na(u)}var NI=rc(function(u,f){if(au(f)||Js(f))fs(f,Mo(f),u);else for(var x in f)zi.call(f,x)&&Ul(u,x,f[x])}),FI=rc(function(u,f){fs(f,Zs(f),u)}),mg=rc(function(u,f,x,te){fs(f,Zs(f),u,te)}),gg=rc(function(u,f,x,te){fs(f,Mo(f),u,te)}),Zy=sl(ry),QE=hi(function(u,f){u=gr(u);var x=-1,te=f.length,Ce=te>2?f[2]:b;for(Ce&&Ds(f[0],f[1],Ce)&&(te=1);++x<te;)for(var Be=f[x],nt=Zs(Be),ct=-1,ft=nt.length;++ct<ft;){var jt=nt[ct],zt=u[jt];(zt===b||gs(zt,ds[jt])&&!zi.call(u,jt))&&(u[jt]=Be[jt])}return u}),e1=hi(function(u){return u.push(b,lE),Ia(rp,b,u)});function Qy(u,f,x){var te=null==u?b:el(u,f);return te===b?x:te}function ev(u,f){return null!=u&&uE(u,f,tl)}var HI=iu(function(u,f,x){null!=f&&"function"!=typeof f.toString&&(f=pa.call(f)),u[f]=x},cp(Qs)),GI=iu(function(u,f,x){null!=f&&"function"!=typeof f.toString&&(f=pa.call(f)),zi.call(u,f)?u[f].push(x):u[f]=[x]},zn),WI=hi(Rf);function Mo(u){return Js(u)?Lx(u):Vm(u)}function Zs(u){return Js(u)?Lx(u,!0):function Kx(u){if(!Br(u))return function ph(u){var f=[];if(null!=u)for(var x in gr(u))f.push(x);return f}(u);var f=au(u),x=[];for(var te in u)"constructor"==te&&(f||!zi.call(u,te))||x.push(te);return x}(u)}var XI=rc(function(u,f,x){fr(u,f,x)}),rp=rc(function(u,f,x,te){fr(u,f,x,te)}),ul=sl(function(u,f){var x={};if(null==u)return x;var te=!1;f=Nr(f,function(Be){return Be=Gl(Be,u),te||(te=Be.length>1),Be}),fs(u,Xl(u),x),te&&(x=ka(x,7,NT));for(var Ce=f.length;Ce--;)eu(x,f[Ce]);return x}),t1=sl(function(u,f){return null==u?{}:function MT(u,f){return dy(u,f,function(x,te){return ev(u,te)})}(u,f)});function tv(u,f){if(null==u)return{};var x=Nr(Xl(u),function(te){return[te]});return f=zn(f),dy(u,x,function(te,Ce){return f(te,Ce[0])})}var KI=PT(Mo),_g=PT(Zs);function Ch(u){return null==u?[]:Om(u,Mo(u))}var bg=$l(function(u,f,x){return f=f.toLowerCase(),u+(x?iv(f):f)});function iv(u){return Ah(rr(u).toLowerCase())}function yg(u){return(u=rr(u))&&u.replace(Co,dT).replace(Dt,"")}var tD=$l(function(u,f,x){return u+(x?"-":"")+f.toLowerCase()}),vg=$l(function(u,f,x){return u+(x?" ":"")+f.toLowerCase()}),s1=Hi("toLowerCase"),q3=$l(function(u,f,x){return u+(x?"_":"")+f.toLowerCase()}),c1=$l(function(u,f,x){return u+(x?" ":"")+Ah(f)}),ap=$l(function(u,f,x){return u+(x?" ":"")+f.toUpperCase()}),Ah=Hi("toUpperCase");function mu(u,f,x){return u=rr(u),(f=x?b:f)===b?function fT(dt){return rT.test(dt)}(u)?function $t(dt){return dt.match(Kt)||[]}(u):function et(dt){return dt.match(Ja)||[]}(u):u.match(f)||[]}var xg=hi(function(u,f){try{return Ia(u,b,f)}catch(x){return Yy(x)?x:new ai(x)}}),cv=sl(function(u,f){return Qa(f,function(x){x=_a(x),Vl(u,x,ep(u[x],u))}),u});function cp(u){return function(){return u}}var aD=nu(),l1=nu(!0);function Qs(u){return u}function lv(u){return ly("function"==typeof u?u:ka(u,1))}var cD=hi(function(u,f){return function(x){return Rf(x,u,f)}}),lD=hi(function(u,f){return function(x){return Rf(u,x,f)}});function u1(u,f,x){var te=Mo(f),Ce=sh(f,te);null==x&&(!Br(f)||!Ce.length&&te.length)&&(x=f,f=u,u=this,Ce=sh(f,Mo(f)));var Be=!(Br(x)&&"chain"in x&&!x.chain),nt=oc(u);return Qa(Ce,function(ct){var ft=f[ct];u[ct]=ft,nt&&(u.prototype[ct]=function(){var jt=this.__chain__;if(Be||jt){var zt=u(this.__wrapped__);return(zt.__actions__=Ko(this.__actions__)).push({func:ft,args:arguments,thisArg:u}),zt.__chain__=jt,zt}return ft.apply(u,Pl([this.value()],arguments))})}),u}function Mh(){}var uD=zf(Nr),h1=zf(qu),hv=zf(Lb);function dp(u){return Kl(u)?Vb(_a(u)):function Zx(u){return function(f){return el(f,u)}}(u)}var f1=aE(),fD=aE(!0);function Cg(){return[]}function p1(){return!1}var fv=jf(function(u,f){return u+f},0),Pc=cE("ceil"),_D=jf(function(u,f){return u/f},1),bD=cE("floor"),iU=jf(function(u,f){return u*f},1),Sg=cE("round"),vD=jf(function(u,f){return u-f},0);return Pe.after=function yI(u,f){if("function"!=typeof f)throw new Zt(g);return u=fi(u),function(){if(--u<1)return f.apply(this,arguments)}},Pe.ary=FE,Pe.assign=NI,Pe.assignIn=FI,Pe.assignInWith=mg,Pe.assignWith=gg,Pe.at=Zy,Pe.before=Vy,Pe.bind=ep,Pe.bindAll=cv,Pe.bindKey=LE,Pe.castArray=function HE(){if(!arguments.length)return[];var u=arguments[0];return oi(u)?u:[u]},Pe.chain=cl,Pe.chunk=function _E(u,f,x){f=(x?Ds(u,f,x):f===b)?1:io(fi(f),0);var te=null==u?0:u.length;if(!te||f<1)return[];for(var Ce=0,Be=0,nt=Ct(Zc(te/f));Ce<te;)nt[Be++]=Pa(u,Ce,Ce+=f);return nt},Pe.compact=function Zm(u){for(var f=-1,x=null==u?0:u.length,te=0,Ce=[];++f<x;){var Be=u[f];Be&&(Ce[te++]=Be)}return Ce},Pe.concat=function P3(){var u=arguments.length;if(!u)return[];for(var f=Ct(u-1),x=arguments[0],te=u;te--;)f[te-1]=arguments[te];return Pl(oi(x)?Ko(x):[x],Pn(f,1))},Pe.cond=function Eg(u){var f=null==u?0:u.length,x=zn();return u=f?Nr(u,function(te){if("function"!=typeof te[1])throw new Zt(g);return[x(te[0]),te[1]]}):[],hi(function(te){for(var Ce=-1;++Ce<f;){var Be=u[Ce];if(Ia(Be[0],this,te))return Ia(Be[1],this,te)}})},Pe.conforms=function Q3(u){return function Vx(u){var f=Mo(u);return function(x){return Jd(x,u,f)}}(ka(u,1))},Pe.constant=cp,Pe.countBy=kE,Pe.create=function ZE(u,f){var x=If(u);return null==f?x:Zn(x,f)},Pe.curry=function BE(u,f,x){var te=Yl(u,8,b,b,b,b,b,f=x?b:f);return te.placeholder=BE.placeholder,te},Pe.curryRight=function UE(u,f,x){var te=Yl(u,16,b,b,b,b,b,f=x?b:f);return te.placeholder=UE.placeholder,te},Pe.debounce=jy,Pe.defaults=QE,Pe.defaultsDeep=e1,Pe.defer=vI,Pe.delay=wI,Pe.difference=Ay,Pe.differenceBy=KT,Pe.differenceWith=My,Pe.drop=function bE(u,f,x){var te=null==u?0:u.length;return te?Pa(u,(f=x||f===b?1:fi(f))<0?0:f,te):[]},Pe.dropRight=function yE(u,f,x){var te=null==u?0:u.length;return te?Pa(u,0,(f=te-(f=x||f===b?1:fi(f)))<0?0:f):[]},Pe.dropRightWhile=function lu(u,f){return u&&u.length?Hl(u,zn(f,3),!0,!0):[]},Pe.dropWhile=function qT(u,f){return u&&u.length?Hl(u,zn(f,3),!0):[]},Pe.fill=function Ty(u,f,x,te){var Ce=null==u?0:u.length;return Ce?(x&&"number"!=typeof x&&Ds(u,f,x)&&(x=0,te=Ce),function Li(u,f,x,te){var Ce=u.length;for((x=fi(x))<0&&(x=-x>Ce?0:Ce+x),(te=te===b||te>Ce?Ce:fi(te))<0&&(te+=Ce),te=x>te?0:Jy(te);x<te;)u[x++]=f;return u}(u,f,x,te)):[]},Pe.filter=function fI(u,f){return(oi(u)?Cc:ii)(u,zn(f,3))},Pe.flatMap=function U3(u,f){return Pn(uu(u,f),1)},Pe.flatMapDeep=function V3(u,f){return Pn(uu(u,f),Ie)},Pe.flatMapDepth=function By(u,f,x){return x=x===b?1:fi(x),Pn(uu(u,f),x)},Pe.flatten=Qm,Pe.flattenDeep=function eg(u){return null!=u&&u.length?Pn(u,Ie):[]},Pe.flattenDepth=function La(u,f){return null!=u&&u.length?Pn(u,f=f===b?1:fi(f)):[]},Pe.flip=function qs(u){return Yl(u,512)},Pe.flow=aD,Pe.flowRight=l1,Pe.fromPairs=function mh(u){for(var f=-1,x=null==u?0:u.length,te={};++f<x;){var Ce=u[f];te[Ce[0]]=Ce[1]}return te},Pe.functions=function ya(u){return null==u?[]:sh(u,Mo(u))},Pe.functionsIn=function Rc(u){return null==u?[]:sh(u,Zs(u))},Pe.groupBy=j3,Pe.initial=function ZT(u){return null!=u&&u.length?Pa(u,0,-1):[]},Pe.intersection=wE,Pe.intersectionBy=gh,Pe.intersectionWith=QT,Pe.invert=HI,Pe.invertBy=GI,Pe.invokeMap=H3,Pe.iteratee=lv,Pe.keyBy=_I,Pe.keys=Mo,Pe.keysIn=Zs,Pe.map=uu,Pe.mapKeys=function $I(u,f){var x={};return f=zn(f,3),Ys(u,function(te,Ce,Be){Vl(x,f(te,Ce,Be),te)}),x},Pe.mapValues=function YI(u,f){var x={};return f=zn(f,3),Ys(u,function(te,Ce,Be){Vl(x,Ce,f(te,Ce,Be))}),x},Pe.matches=function dv(u){return Xo(ka(u,1))},Pe.matchesProperty=function d1(u,f){return zl(u,ka(f,1))},Pe.memoize=yh,Pe.merge=XI,Pe.mergeWith=rp,Pe.method=cD,Pe.methodOf=lD,Pe.mixin=u1,Pe.negate=tp,Pe.nthArg=function uv(u){return u=fi(u),hi(function(f){return Jx(f,u)})},Pe.omit=ul,Pe.omitBy=function op(u,f){return tv(u,tp(zn(f)))},Pe.once=function zy(u){return Vy(2,u)},Pe.orderBy=function og(u,f,x,te){return null==u?[]:(oi(f)||(f=null==f?[]:[f]),oi(x=te?b:x)||(x=null==x?[]:[x]),Ff(u,f,x))},Pe.over=uD,Pe.overArgs=ms,Pe.overEvery=h1,Pe.overSome=hv,Pe.partial=hu,Pe.partialRight=Hy,Pe.partition=Uy,Pe.pick=t1,Pe.pickBy=tv,Pe.property=dp,Pe.propertyOf=function hD(u){return function(f){return null==u?b:el(u,f)}},Pe.pull=Dy,Pe.pullAll=ky,Pe.pullAllBy=function tI(u,f,x){return u&&u.length&&f&&f.length?ah(u,f,zn(x,2)):u},Pe.pullAllWith=function nI(u,f,x){return u&&u.length&&f&&f.length?ah(u,f,b,x):u},Pe.pullAt=xE,Pe.range=f1,Pe.rangeRight=fD,Pe.rearg=VE,Pe.reject=function Qf(u,f){return(oi(u)?Cc:ii)(u,tp(zn(f,3)))},Pe.remove=function iI(u,f){var x=[];if(!u||!u.length)return x;var te=-1,Ce=[],Be=u.length;for(f=zn(f,3);++te<Be;){var nt=u[te];f(nt,te,u)&&(x.push(nt),Ce.push(te))}return il(u,Ce),x},Pe.rest=function xI(u,f){if("function"!=typeof u)throw new Zt(g);return hi(u,f=f===b?f:fi(f))},Pe.reverse=ng,Pe.sampleSize=function PE(u,f,x){return f=(x?Ds(u,f,x):f===b)?1:fi(f),(oi(u)?Bx:Qx)(u,f)},Pe.set=function W3(u,f,x){return null==u?u:lh(u,f,x)},Pe.setWith=function $3(u,f,x,te){return te="function"==typeof te?te:b,null==u?u:lh(u,f,x,te)},Pe.shuffle=function NE(u){return(oi(u)?iy:Lf)(u)},Pe.slice=function rI(u,f,x){var te=null==u?0:u.length;return te?(x&&"number"!=typeof x&&Ds(u,f,x)?(f=0,x=te):(f=null==f?0:fi(f),x=x===b?te:fi(x)),Pa(u,f,x)):[]},Pe.sortBy=ed,Pe.sortedUniq=function Jl(u){return u&&u.length?tE(u):[]},Pe.sortedUniqBy=function ig(u,f){return u&&u.length?tE(u,zn(f,2)):[]},Pe.split=function sp(u,f,x){return x&&"number"!=typeof x&&Ds(u,f,x)&&(f=x=b),(x=x===b?ue:x>>>0)?(u=rr(u))&&("string"==typeof f||null!=f&&!wh(f))&&!(f=Na(f))&&cs(u)?Wl(on(u),0,x):u.split(f,x):[]},Pe.spread=function jE(u,f){if("function"!=typeof u)throw new Zt(g);return f=null==f?0:io(fi(f),0),hi(function(x){var te=x[f],Ce=Wl(x,0,f);return te&&Pl(Ce,te),Ia(u,this,Ce)})},Pe.tail=function SE(u){var f=null==u?0:u.length;return f?Pa(u,1,f):[]},Pe.take=function Kf(u,f,x){return u&&u.length?Pa(u,0,(f=x||f===b?1:fi(f))<0?0:f):[]},Pe.takeRight=function sI(u,f,x){var te=null==u?0:u.length;return te?Pa(u,(f=te-(f=x||f===b?1:fi(f)))<0?0:f,te):[]},Pe.takeRightWhile=function aI(u,f){return u&&u.length?Hl(u,zn(f,3),!1,!0):[]},Pe.takeWhile=function Ry(u,f){return u&&u.length?Hl(u,zn(f,3)):[]},Pe.tap=function Fy(u,f){return f(u),u},Pe.throttle=function EI(u,f,x){var te=!0,Ce=!0;if("function"!=typeof u)throw new Zt(g);return Br(x)&&(te="leading"in x?!!x.leading:te,Ce="trailing"in x?!!x.trailing:Ce),jy(u,f,{leading:te,maxWait:f,trailing:Ce})},Pe.thru=Jf,Pe.toArray=JE,Pe.toPairs=KI,Pe.toPairsIn=_g,Pe.toPath=function vn(u){return oi(u)?Nr(u,_a):_s(u)?[u]:Ko(Jm(rr(u)))},Pe.toPlainObject=pg,Pe.transform=function nv(u,f,x){var te=oi(u),Ce=te||td(u)||fu(u);if(f=zn(f,4),null==x){var Be=u&&u.constructor;x=Ce?te?new Be:[]:Br(u)&&oc(Be)?If(ma(u)):{}}return(Ce?Qa:Ys)(u,function(nt,ct,ft){return f(x,nt,ct,ft)}),x},Pe.unary=function zE(u){return FE(u,1)},Pe.union=cI,Pe.unionBy=Zl,Pe.unionWith=qf,Pe.uniq=function lI(u){return u&&u.length?Ic(u):[]},Pe.uniqBy=function AE(u,f){return u&&u.length?Ic(u,zn(f,2)):[]},Pe.uniqWith=function ks(u,f){return f="function"==typeof f?f:b,u&&u.length?Ic(u,b,f):[]},Pe.unset=function Y3(u,f){return null==u||eu(u,f)},Pe.unzip=ME,Pe.unzipWith=Lr,Pe.update=function X3(u,f,x){return null==u?u:nE(u,f,Wm(x))},Pe.updateWith=function r1(u,f,x,te){return te="function"==typeof te?te:b,null==u?u:nE(u,f,Wm(x),te)},Pe.values=Ch,Pe.valuesIn=function qI(u){return null==u?[]:Om(u,Zs(u))},Pe.without=Py,Pe.words=mu,Pe.wrap=function CI(u,f){return hu(Wm(f),u)},Pe.xor=dI,Pe.xorBy=uI,Pe.xorWith=Ny,Pe.zip=_h,Pe.zipObject=function TE(u,f){return IT(u||[],f||[],Ul)},Pe.zipObjectDeep=function bh(u,f){return IT(u||[],f||[],lh)},Pe.zipWith=ba,Pe.entries=KI,Pe.entriesIn=_g,Pe.extend=FI,Pe.extendWith=mg,u1(Pe,Pe),Pe.add=fv,Pe.attempt=xg,Pe.camelCase=bg,Pe.capitalize=iv,Pe.ceil=Pc,Pe.clamp=function JI(u,f,x){return x===b&&(x=f,f=b),x!==b&&(x=(x=Os(x))==x?x:0),f!==b&&(f=(f=Os(f))==f?f:0),qd(Os(u),f,x)},Pe.clone=function SI(u){return ka(u,4)},Pe.cloneDeep=function Gy(u){return ka(u,5)},Pe.cloneDeepWith=function Wy(u,f){return ka(u,5,f="function"==typeof f?f:b)},Pe.cloneWith=function AI(u,f){return ka(u,4,f="function"==typeof f?f:b)},Pe.conformsTo=function MI(u,f){return null==f||Jd(u,f,Mo(f))},Pe.deburr=yg,Pe.defaultTo=function lp(u,f){return null==u||u!=u?f:u},Pe.divide=_D,Pe.endsWith=function QI(u,f,x){u=rr(u),f=Na(f);var te=u.length,Ce=x=x===b?te:qd(fi(x),0,te);return(x-=f.length)>=0&&u.slice(x,Ce)==f},Pe.eq=gs,Pe.escape=function Po(u){return(u=rr(u))&&ar.test(u)?u.replace(is,xx):u},Pe.escapeRegExp=function eD(u){return(u=rr(u))&&$e.test(u)?u.replace(Ge,"\\$&"):u},Pe.every=function B3(u,f,x){var te=oi(u)?qu:CT;return x&&Ds(u,f,x)&&(f=b),te(u,zn(f,3))},Pe.find=pI,Pe.findIndex=Xf,Pe.findKey=function pu(u,f){return Bb(u,zn(f,3),Ys)},Pe.findLast=Ly,Pe.findLastIndex=vE,Pe.findLastKey=function LI(u,f){return Bb(u,zn(f,3),Oa)},Pe.floor=bD,Pe.forEach=mI,Pe.forEachRight=gI,Pe.forIn=function BI(u,f){return null==u?u:ir(u,zn(f,3),Zs)},Pe.forInRight=function UI(u,f){return null==u?u:oy(u,zn(f,3),Zs)},Pe.forOwn=function VI(u,f){return u&&Ys(u,zn(f,3))},Pe.forOwnRight=function jI(u,f){return u&&Oa(u,zn(f,3))},Pe.get=Qy,Pe.gt=lg,Pe.gte=GE,Pe.has=function zI(u,f){return null!=u&&uE(u,f,Ts)},Pe.hasIn=ev,Pe.head=tg,Pe.identity=Qs,Pe.includes=function z3(u,f,x,te){u=Js(u)?u:Ch(u),x=x&&!te?fi(x):0;var Ce=u.length;return x<0&&(x=io(Ce+x,0)),xh(u)?x<=Ce&&u.indexOf(f,x)>-1:!!Ce&&qc(u,f,x)>-1},Pe.indexOf=function JT(u,f,x){var te=null==u?0:u.length;if(!te)return-1;var Ce=null==x?0:fi(x);return Ce<0&&(Ce=io(te+Ce,0)),qc(u,f,Ce)},Pe.inRange=function ZI(u,f,x){return f=dl(f),x===b?(x=f,f=0):x=dl(x),function Gx(u,f,x){return u>=wr(f,x)&&u<io(f,x)}(u=Os(u),f,x)},Pe.invoke=WI,Pe.isArguments=ll,Pe.isArray=oi,Pe.isArrayBuffer=TI,Pe.isArrayLike=Js,Pe.isArrayLikeObject=ro,Pe.isBoolean=function II(u){return!0===u||!1===u||Wr(u)&&Xs(u)==T},Pe.isBuffer=td,Pe.isDate=DI,Pe.isElement=function WE(u){return Wr(u)&&1===u.nodeType&&!vh(u)},Pe.isEmpty=function np(u){if(null==u)return!0;if(Js(u)&&(oi(u)||"string"==typeof u||"function"==typeof u.splice||td(u)||fu(u)||ll(u)))return!u.length;var f=Is(u);if(f==re||f==je)return!u.size;if(au(u))return!Vm(u).length;for(var x in u)if(zi.call(u,x))return!1;return!0},Pe.isEqual=function dg(u,f){return Zd(u,f)},Pe.isEqualWith=function $y(u,f,x){var te=(x="function"==typeof x?x:b)?x(u,f):b;return te===b?Zd(u,f,b,x):!!te},Pe.isError=Yy,Pe.isFinite=function kI(u){return"number"==typeof u&&Yo(u)},Pe.isFunction=oc,Pe.isInteger=Xy,Pe.isLength=Oc,Pe.isMap=$E,Pe.isMatch=function G3(u,f){return u===f||Pf(u,f,qm(f))},Pe.isMatchWith=function ug(u,f,x){return x="function"==typeof x?x:b,Pf(u,f,qm(f),x)},Pe.isNaN=function OI(u){return hg(u)&&u!=+u},Pe.isNative=function YE(u){if(fE(u))throw new ai("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return $x(u)},Pe.isNil=function KE(u){return null==u},Pe.isNull=function XE(u){return null===u},Pe.isNumber=hg,Pe.isObject=Br,Pe.isObjectLike=Wr,Pe.isPlainObject=vh,Pe.isRegExp=wh,Pe.isSafeInteger=function ip(u){return Xy(u)&&u>=-ze&&u<=ze},Pe.isSet=Ky,Pe.isString=xh,Pe.isSymbol=_s,Pe.isTypedArray=fu,Pe.isUndefined=function qy(u){return u===b},Pe.isWeakMap=function fg(u){return Wr(u)&&Is(u)==At},Pe.isWeakSet=function RI(u){return Wr(u)&&"[object WeakSet]"==Xs(u)},Pe.join=function eI(u,f){return null==u?"":Yb.call(u,f)},Pe.kebabCase=tD,Pe.last=Ba,Pe.lastIndexOf=function Iy(u,f,x){var te=null==u?0:u.length;if(!te)return-1;var Ce=te;return x!==b&&(Ce=(Ce=fi(x))<0?io(te+Ce,0):wr(Ce,te-1)),f==f?function mT(dt,It,Ct){for(var hn=Ct+1;hn--;)if(dt[hn]===It)return hn;return hn}(u,f,Ce):Ft(u,Zu,Ce,!0)},Pe.lowerCase=vg,Pe.lowerFirst=s1,Pe.lt=qE,Pe.lte=PI,Pe.max=function pv(u){return u&&u.length?Rt(u,Qs,Um):b},Pe.maxBy=function eU(u,f){return u&&u.length?Rt(u,zn(f,2),Um):b},Pe.mean=function tU(u){return vx(u,Qs)},Pe.meanBy=function nU(u,f){return vx(u,zn(f,2))},Pe.min=function yD(u){return u&&u.length?Rt(u,Qs,Nf):b},Pe.minBy=function m1(u,f){return u&&u.length?Rt(u,zn(f,2),Nf):b},Pe.stubArray=Cg,Pe.stubFalse=p1,Pe.stubObject=function pD(){return{}},Pe.stubString=function nd(){return""},Pe.stubTrue=function mD(){return!0},Pe.multiply=iU,Pe.nth=function du(u,f){return u&&u.length?Jx(u,fi(f)):b},Pe.noConflict=function dD(){return as._===this&&(as._=wf),this},Pe.noop=Mh,Pe.now=cg,Pe.pad=function nD(u,f,x){u=rr(u);var te=(f=fi(f))?th(u):0;if(!f||te>=f)return u;var Ce=(f-te)/2;return ol(Fr(Ce),x)+u+ol(Zc(Ce),x)},Pe.padEnd=function iD(u,f,x){u=rr(u);var te=(f=fi(f))?th(u):0;return f&&te<f?u+ol(f-te,x):u},Pe.padStart=function rD(u,f,x){u=rr(u);var te=(f=fi(f))?th(u):0;return f&&te<f?ol(f-te,x)+u:u},Pe.parseInt=function oD(u,f,x){return x||null==f?f=0:f&&(f=+f),_T(rr(u).replace(nn,""),f||0)},Pe.random=function o1(u,f,x){if(x&&"boolean"!=typeof x&&Ds(u,f,x)&&(f=x=b),x===b&&("boolean"==typeof f?(x=f,f=b):"boolean"==typeof u&&(x=u,u=b)),u===b&&f===b?(u=0,f=1):(u=dl(u),f===b?(f=u,u=0):f=dl(f)),u>f){var te=u;u=f,f=te}if(x||u%1||f%1){var Ce=Ix();return wr(u+Ce*(f-u+Pb("1e-"+((Ce+"").length-1))),f)}return uy(u,f)},Pe.reduce=function OE(u,f,x){var te=oi(u)?Dm:Sc,Ce=arguments.length<3;return te(u,zn(f,4),x,Ce,jl)},Pe.reduceRight=function RE(u,f,x){var te=oi(u)?Ju:Sc,Ce=arguments.length<3;return te(u,zn(f,4),x,Ce,zx)},Pe.repeat=function a1(u,f,x){return f=(x?Ds(u,f,x):f===b)?1:fi(f),ch(rr(u),f)},Pe.replace=function K3(){var u=arguments,f=rr(u[0]);return u.length<3?f:f.replace(u[1],u[2])},Pe.result=function n1(u,f,x){var te=-1,Ce=(f=Gl(f,u)).length;for(Ce||(Ce=1,u=b);++te<Ce;){var Be=null==u?b:u[_a(f[te])];Be===b&&(te=Ce,Be=x),u=oc(Be)?Be.call(u):Be}return u},Pe.round=Sg,Pe.runInContext=dt,Pe.sample=function bI(u){return(oi(u)?ny:hy)(u)},Pe.size=function sg(u){if(null==u)return 0;if(Js(u))return xh(u)?th(u):u.length;var f=Is(u);return f==re||f==je?u.size:Vm(u).length},Pe.snakeCase=q3,Pe.some=function ag(u,f,x){var te=oi(u)?Lb:fy;return x&&Ds(u,f,x)&&(f=b),te(u,zn(f,3))},Pe.sortedIndex=function oI(u,f){return zm(u,f)},Pe.sortedIndexBy=function N3(u,f,x){return py(u,f,zn(x,2))},Pe.sortedIndexOf=function EE(u,f){var x=null==u?0:u.length;if(x){var te=zm(u,f);if(te<x&&gs(u[te],f))return te}return-1},Pe.sortedLastIndex=function CE(u,f){return zm(u,f,!0)},Pe.sortedLastIndexBy=function Gi(u,f,x){return py(u,f,zn(x,2),!0)},Pe.sortedLastIndexOf=function Oy(u,f){if(null!=u&&u.length){var te=zm(u,f,!0)-1;if(gs(u[te],f))return te}return-1},Pe.startCase=c1,Pe.startsWith=function J3(u,f,x){return u=rr(u),x=null==x?0:qd(fi(x),0,u.length),f=Na(f),u.slice(x,x+f.length)==f},Pe.subtract=vD,Pe.sum=function wD(u){return u&&u.length?fa(u,Qs):0},Pe.sumBy=function mv(u,f){return u&&u.length?fa(u,zn(f,2)):0},Pe.template=function Z3(u,f,x){var te=Pe.templateSettings;x&&Ds(u,f,x)&&(f=b),u=rr(u),f=mg({},f,te,ru);var ct,ft,Ce=mg({},f.imports,te.imports,ru),Be=Mo(Ce),nt=Om(Ce,Be),jt=0,zt=f.interpolate||Pr,Yt="__p += '",bn=Wb((f.escape||Pr).source+"|"+zt.source+"|"+(zt===Ol?Oi:Pr).source+"|"+(f.evaluate||Pr).source+"|$","g"),Nn="//# sourceURL="+(zi.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oT+"]")+"\n";u.replace(bn,function(Vn,Ai,Pi,va,Rs,wa){return Pi||(Pi=va),Yt+=u.slice(jt,wa).replace(ve,uT),Ai&&(ct=!0,Yt+="' +\n__e("+Ai+") +\n'"),Rs&&(ft=!0,Yt+="';\n"+Rs+";\n__p += '"),Pi&&(Yt+="' +\n((__t = ("+Pi+")) == null ? '' : __t) +\n'"),jt=wa+Vn.length,Vn}),Yt+="';\n";var Hn=zi.call(f,"variable")&&f.variable;if(Hn){if(tr.test(Hn))throw new ai("Invalid `variable` option passed into `_.template`")}else Yt="with (obj) {\n"+Yt+"\n}\n";Yt=(ft?Yt.replace(qn,""):Yt).replace(ur,"$1").replace(Ta,"$1;"),Yt="function("+(Hn||"obj")+") {\n"+(Hn?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(ct?", __e = _.escape":"")+(ft?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Yt+"return __p\n}";var yi=xg(function(){return Xi(Be,Nn+"return "+Yt).apply(b,nt)});if(yi.source=Yt,Yy(yi))throw yi;return yi},Pe.times=function Th(u,f){if((u=fi(u))<1||u>ze)return[];var x=ue,te=wr(u,ue);f=zn(f),u-=ue;for(var Ce=Da(te,f);++x<u;)f(x);return Ce},Pe.toFinite=dl,Pe.toInteger=fi,Pe.toLength=Jy,Pe.toLower=function wg(u){return rr(u).toLowerCase()},Pe.toNumber=Os,Pe.toSafeInteger=function Eh(u){return u?qd(fi(u),-ze,ze):0===u?u:0},Pe.toString=rr,Pe.toUpper=function sD(u){return rr(u).toUpperCase()},Pe.trim=function rv(u,f,x){if((u=rr(u))&&(x||f===b))return zb(u);if(!u||!(f=Na(f)))return u;var te=on(u),Ce=on(f);return Wl(te,eh(te,Ce),Hb(te,Ce)+1).join("")},Pe.trimEnd=function ov(u,f,x){if((u=rr(u))&&(x||f===b))return u.slice(0,Ax(u)+1);if(!u||!(f=Na(f)))return u;var te=on(u);return Wl(te,0,Hb(te,on(f))+1).join("")},Pe.trimStart=function Sh(u,f,x){if((u=rr(u))&&(x||f===b))return u.replace(nn,"");if(!u||!(f=Na(f)))return u;var te=on(u);return Wl(te,eh(te,on(f))).join("")},Pe.truncate=function sv(u,f){var x=30,te="...";if(Br(f)){var Ce="separator"in f?f.separator:Ce;x="length"in f?fi(f.length):x,te="omission"in f?Na(f.omission):te}var Be=(u=rr(u)).length;if(cs(u)){var nt=on(u);Be=nt.length}if(x>=Be)return u;var ct=x-th(te);if(ct<1)return te;var ft=nt?Wl(nt,0,ct).join(""):u.slice(0,ct);if(Ce===b)return ft+te;if(nt&&(ct+=ft.length-ct),wh(Ce)){if(u.slice(ct).search(Ce)){var jt,zt=ft;for(Ce.global||(Ce=Wb(Ce.source,rr(si.exec(Ce))+"g")),Ce.lastIndex=0;jt=Ce.exec(zt);)var Yt=jt.index;ft=ft.slice(0,Yt===b?ct:Yt)}}else if(u.indexOf(Na(Ce),ct)!=ct){var bn=ft.lastIndexOf(Ce);bn>-1&&(ft=ft.slice(0,bn))}return ft+te},Pe.unescape=function av(u){return(u=rr(u))&&rs.test(u)?u.replace(Or,gT):u},Pe.uniqueId=function gD(u){var f=++vr;return rr(u)+f},Pe.upperCase=ap,Pe.upperFirst=Ah,Pe.each=mI,Pe.eachRight=gI,Pe.first=tg,u1(Pe,function(){var u={};return Ys(Pe,function(f,x){zi.call(Pe.prototype,x)||(u[x]=f)}),u}(),{chain:!1}),Pe.VERSION="4.17.21",Qa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Pe[u].placeholder=Pe}),Qa(["drop","take"],function(u,f){Fi.prototype[u]=function(x){x=x===b?1:io(fi(x),0);var te=this.__filtered__&&!f?new Fi(this):this.clone();return te.__filtered__?te.__takeCount__=wr(x,te.__takeCount__):te.__views__.push({size:wr(x,ue),type:u+(te.__dir__<0?"Right":"")}),te},Fi.prototype[u+"Right"]=function(x){return this.reverse()[u](x).reverse()}}),Qa(["filter","map","takeWhile"],function(u,f){var x=f+1,te=1==x||3==x;Fi.prototype[u]=function(Ce){var Be=this.clone();return Be.__iteratees__.push({iteratee:zn(Ce,3),type:x}),Be.__filtered__=Be.__filtered__||te,Be}}),Qa(["head","last"],function(u,f){var x="take"+(f?"Right":"");Fi.prototype[u]=function(){return this[x](1).value()[0]}}),Qa(["initial","tail"],function(u,f){var x="drop"+(f?"":"Right");Fi.prototype[u]=function(){return this.__filtered__?new Fi(this):this[x](1)}}),Fi.prototype.compact=function(){return this.filter(Qs)},Fi.prototype.find=function(u){return this.filter(u).head()},Fi.prototype.findLast=function(u){return this.reverse().find(u)},Fi.prototype.invokeMap=hi(function(u,f){return"function"==typeof u?new Fi(this):this.map(function(x){return Rf(x,u,f)})}),Fi.prototype.reject=function(u){return this.filter(tp(zn(u)))},Fi.prototype.slice=function(u,f){u=fi(u);var x=this;return x.__filtered__&&(u>0||f<0)?new Fi(x):(u<0?x=x.takeRight(-u):u&&(x=x.drop(u)),f!==b&&(x=(f=fi(f))<0?x.dropRight(-f):x.take(f-u)),x)},Fi.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Fi.prototype.toArray=function(){return this.take(ue)},Ys(Fi.prototype,function(u,f){var x=/^(?:filter|find|map|reject)|While$/.test(f),te=/^(?:head|last)$/.test(f),Ce=Pe[te?"take"+("last"==f?"Right":""):f],Be=te||/^find/.test(f);Ce&&(Pe.prototype[f]=function(){var nt=this.__wrapped__,ct=te?[1]:arguments,ft=nt instanceof Fi,jt=ct[0],zt=ft||oi(nt),Yt=function(Ai){var Pi=Ce.apply(Pe,Pl([Ai],ct));return te&&bn?Pi[0]:Pi};zt&&x&&"function"==typeof jt&&1!=jt.length&&(ft=zt=!1);var bn=this.__chain__,Hn=Be&&!bn,yi=ft&&!this.__actions__.length;if(!Be&&zt){nt=yi?nt:new Fi(this);var Vn=u.apply(nt,ct);return Vn.__actions__.push({func:Jf,args:[Yt],thisArg:b}),new nc(Vn,bn)}return Hn&&yi?u.apply(this,ct):(Vn=this.thru(Yt),Hn?te?Vn.value()[0]:Vn.value():Vn)})}),Qa(["pop","push","shift","sort","splice","unshift"],function(u){var f=Un[u],x=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",te=/^(?:pop|shift)$/.test(u);Pe.prototype[u]=function(){var Ce=arguments;if(te&&!this.__chain__){var Be=this.value();return f.apply(oi(Be)?Be:[],Ce)}return this[x](function(nt){return f.apply(oi(nt)?nt:[],Ce)})}}),Ys(Fi.prototype,function(u,f){var x=Pe[f];if(x){var te=x.name+"";zi.call(Tf,te)||(Tf[te]=[]),Tf[te].push({name:f,func:x})}}),Tf[rl(b,2).name]=[{name:"wrapper",func:b}],Fi.prototype.clone=function $d(){var u=new Fi(this.__wrapped__);return u.__actions__=Ko(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Ko(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Ko(this.__views__),u},Fi.prototype.reverse=function Dx(){if(this.__filtered__){var u=new Fi(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},Fi.prototype.value=function xr(){var u=this.__wrapped__.value(),f=this.__dir__,x=oi(u),te=f<0,Ce=x?u.length:0,Be=function dE(u,f,x){for(var te=-1,Ce=x.length;++te<Ce;){var Be=x[te],nt=Be.size;switch(Be.type){case"drop":u+=nt;break;case"dropRight":f-=nt;break;case"take":f=wr(f,u+nt);break;case"takeRight":u=io(u,f-nt)}}return{start:u,end:f}}(0,Ce,this.__views__),nt=Be.start,ct=Be.end,ft=ct-nt,jt=te?ct:nt-1,zt=this.__iteratees__,Yt=zt.length,bn=0,Nn=wr(ft,this.__takeCount__);if(!x||!te&&Ce==ft&&Nn==ft)return Hm(u,this.__actions__);var Hn=[];e:for(;ft--&&bn<Nn;){for(var yi=-1,Vn=u[jt+=f];++yi<Yt;){var Ai=zt[yi],va=Ai.type,Rs=(0,Ai.iteratee)(Vn);if(2==va)Vn=Rs;else if(!Rs){if(1==va)continue e;break e}}Hn[bn++]=Vn}return Hn},Pe.prototype.at=Ql,Pe.prototype.chain=function Zf(){return cl(this)},Pe.prototype.commit=function F3(){return new nc(this.value(),this.__chain__)},Pe.prototype.next=function rg(){this.__values__===b&&(this.__values__=JE(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?b:this.__values__[this.__index__++]}},Pe.prototype.plant=function hI(u){for(var f,x=this;x instanceof Qb;){var te=Sy(x);te.__index__=0,te.__values__=b,f?Ce.__wrapped__=te:f=te;var Ce=te;x=x.__wrapped__}return Ce.__wrapped__=u,f},Pe.prototype.reverse=function DE(){var u=this.__wrapped__;if(u instanceof Fi){var f=u;return this.__actions__.length&&(f=new Fi(this)),(f=f.reverse()).__actions__.push({func:Jf,args:[ng],thisArg:b}),new nc(f,this.__chain__)}return this.thru(ng)},Pe.prototype.toJSON=Pe.prototype.valueOf=Pe.prototype.value=function L3(){return Hm(this.__wrapped__,this.__actions__)},Pe.prototype.first=Pe.prototype.head,tc&&(Pe.prototype[tc]=function IE(){return this}),Pe}();as._=ui,(S=function(){return ui}.call(K,m,K,ee))!==b&&(ee.exports=S)}.call(this)},7659:(ee,K,m)=>{var S=m(1811);function D(C,O){if("function"!=typeof C||null!=O&&"function"!=typeof O)throw new TypeError("Expected a function");var g=function(){var y=arguments,M=O?O.apply(this,y):y[0],U=g.cache;if(U.has(M))return U.get(M);var I=C.apply(this,y);return g.cache=U.set(M,I)||U,I};return g.cache=new(D.Cache||S),g}D.Cache=S,ee.exports=D},2692:(ee,K,m)=>{var S=m(3400),b=m(6443),D=m(6300),C=m(8916);ee.exports=function O(g){return D(g)?S(C(g)):b(g)}},7184:(ee,K,m)=>{var S=m(1883),b=m(252),D=m(8951),C=m(3817),O=D(function(g,y){if(null==g)return[];var M=y.length;return M>1&&C(g,y[0],y[1])?y=[]:M>2&&C(y[0],y[1],y[2])&&(y=[y[0]]),b(g,S(y,1),[])});ee.exports=O},1315:ee=>{ee.exports=function K(){return[]}},5706:ee=>{ee.exports=function K(){return!1}},2674:(ee,K,m)=>{var S=m(7002);ee.exports=function b(D){return null==D?"":S(D)}},5249:(ee,K,m)=>{var S=m(549),b=S.ARRAY_BUFFER_SUPPORT,D=S.SYMBOL_SUPPORT;ee.exports=function(O,g){var y,M,U,I,F;if(!O)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof g)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(O)||b&&ArrayBuffer.isView(O)||"string"==typeof O||"[object Arguments]"===O.toString())for(U=0,I=O.length;U<I;U++)g(O[U],U);else if("function"!=typeof O.forEach)if(D&&Symbol.iterator in O&&"function"!=typeof O.next&&(O=O[Symbol.iterator]()),"function"!=typeof O.next)for(M in O)O.hasOwnProperty(M)&&g(O[M],M);else for(y=O,U=0;!0!==(F=y.next()).done;)g(F.value,U),U++;else O.forEach(g)}},2508:ee=>{function K(m){if("function"!=typeof m)throw new Error("obliterator/iterator: expecting a function!");this.next=m}typeof Symbol<"u"&&(K.prototype[Symbol.iterator]=function(){return this}),K.of=function(){var m=arguments,S=m.length,b=0;return new K(function(){return b>=S?{done:!0}:{done:!1,value:m[b++]}})},K.empty=function(){return new K(function(){return{done:!0}})},K.fromSequence=function(m){var S=0,b=m.length;return new K(function(){return S>=b?{done:!0}:{done:!1,value:m[S++]}})},K.is=function(m){return m instanceof K||"object"==typeof m&&null!==m&&"function"==typeof m.next},ee.exports=K},549:(ee,K)=>{K.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",K.SYMBOL_SUPPORT=typeof Symbol<"u"},9151:(ee,K,m)=>{var S=m(2508),b=m(5249);function D(){this.clear()}D.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},D.prototype.enqueue=function(C){return this.items.push(C),++this.size},D.prototype.dequeue=function(){if(this.size){var C=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,C}},D.prototype.peek=function(){if(this.size)return this.items[this.offset]},D.prototype.forEach=function(C,O){O=arguments.length>1?O:this;for(var g=this.offset,y=0,M=this.items.length;g<M;g++,y++)C.call(O,this.items[g],y,this)},D.prototype.toArray=function(){return this.items.slice(this.offset)},D.prototype.values=function(){var C=this.items,O=this.offset;return new S(function(){if(O>=C.length)return{done:!0};var g=C[O];return O++,{value:g,done:!1}})},D.prototype.entries=function(){var C=this.items,O=this.offset,g=0;return new S(function(){if(O>=C.length)return{done:!0};var y=C[O];return O++,{value:[g++,y],done:!1}})},typeof Symbol<"u"&&(D.prototype[Symbol.iterator]=D.prototype.values),D.prototype.toString=function(){return this.toArray().join(",")},D.prototype.toJSON=function(){return this.toArray()},D.prototype.inspect=function(){var C=this.toArray();return Object.defineProperty(C,"constructor",{value:D,enumerable:!1}),C},typeof Symbol<"u"&&(D.prototype[Symbol.for("nodejs.util.inspect.custom")]=D.prototype.inspect),D.from=function(C){var O=new D;return b(C,function(g){O.enqueue(g)}),O},D.of=function(){return D.from(arguments)},ee.exports=D},5020:ee=>{ee.exports=function K(m,S,b){function D(g,y){if(!S[g]){if(!m[g]){if(C)return C(g,!0);throw new Error("Cannot find module '"+g+"'")}y=S[g]={exports:{}},m[g][0].call(y.exports,function(U){return D(m[g][1][U]||U)},y,y.exports,K,m,S,b)}return S[g].exports}for(var C=void 0,O=0;O<b.length;O++)D(b[O]);return D}({1:[function(K,m,S){(function(b,D,C,O,g,y,M,U,I){"use strict";var F=K("crypto");function J(G,z){var w;return void 0===(w="passthrough"!==(z=ae(G,z)).algorithm?F.createHash(z.algorithm):new Z).write&&(w.write=w.update,w.end=w.update),q(z,w).dispatch(G),w.update||w.end(""),w.digest?w.digest("buffer"===z.encoding?void 0:z.encoding):(G=w.read(),"buffer"!==z.encoding?G.toString(z.encoding):G)}(S=m.exports=J).sha1=function(G){return J(G)},S.keys=function(G){return J(G,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},S.MD5=function(G){return J(G,{algorithm:"md5",encoding:"hex"})},S.keysMD5=function(G){return J(G,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var E=F.getHashes?F.getHashes().slice():["sha1","md5"],L=(E.push("passthrough"),["buffer","hex","binary","base64"]);function ae(G,z){var w={};if(w.algorithm=(z=z||{}).algorithm||"sha1",w.encoding=z.encoding||"hex",w.excludeValues=!!z.excludeValues,w.algorithm=w.algorithm.toLowerCase(),w.encoding=w.encoding.toLowerCase(),w.ignoreUnknown=!0===z.ignoreUnknown,w.respectType=!1!==z.respectType,w.respectFunctionNames=!1!==z.respectFunctionNames,w.respectFunctionProperties=!1!==z.respectFunctionProperties,w.unorderedArrays=!0===z.unorderedArrays,w.unorderedSets=!1!==z.unorderedSets,w.unorderedObjects=!1!==z.unorderedObjects,w.replacer=z.replacer||void 0,w.excludeKeys=z.excludeKeys||void 0,void 0===G)throw new Error("Object argument required.");for(var R=0;R<E.length;++R)E[R].toLowerCase()===w.algorithm.toLowerCase()&&(w.algorithm=E[R]);if(-1===E.indexOf(w.algorithm))throw new Error('Algorithm "'+w.algorithm+'"  not supported. supported values: '+E.join(", "));if(-1===L.indexOf(w.encoding)&&"passthrough"!==w.algorithm)throw new Error('Encoding "'+w.encoding+'"  not supported. supported values: '+L.join(", "));return w}function Y(G){if("function"==typeof G)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(G))}function q(G,z,w){function R(k){return z.update?z.update(k,"utf8"):z.write(k,"utf8")}return w=w||[],{dispatch:function(k){return this["_"+(null===(k=G.replacer?G.replacer(k):k)?"null":typeof k)](k)},_object:function(k){var le,H=Object.prototype.toString.call(k),De=/\[object (.*)\]/i.exec(H);if(De=(De=De?De[1]:"unknown:["+H+"]").toLowerCase(),0<=(H=w.indexOf(k)))return this.dispatch("[CIRCULAR:"+H+"]");if(w.push(k),void 0!==C&&C.isBuffer&&C.isBuffer(k))return R("buffer:"),R(k);if("object"===De||"function"===De||"asyncfunction"===De)return H=Object.keys(k),G.unorderedObjects&&(H=H.sort()),!1===G.respectType||Y(k)||H.splice(0,0,"prototype","__proto__","constructor"),G.excludeKeys&&(H=H.filter(function(ce){return!G.excludeKeys(ce)})),R("object:"+H.length+":"),le=this,H.forEach(function(ce){le.dispatch(ce),R(":"),G.excludeValues||le.dispatch(k[ce]),R(",")});if(!this["_"+De]){if(G.ignoreUnknown)return R("["+De+"]");throw new Error('Unknown object type "'+De+'"')}this["_"+De](k)},_array:function(k,ce){ce=void 0!==ce?ce:!1!==G.unorderedArrays;var H=this;if(R("array:"+k.length+":"),!ce||k.length<=1)return k.forEach(function(be){return H.dispatch(be)});var De=[];return ce=k.map(function(be){var Oe=new Z,Ne=w.slice();return q(G,Oe,Ne).dispatch(be),De=De.concat(Ne.slice(w.length)),Oe.read().toString()}),w=w.concat(De),ce.sort(),this._array(ce,!1)},_date:function(k){return R("date:"+k.toJSON())},_symbol:function(k){return R("symbol:"+k.toString())},_error:function(k){return R("error:"+k.toString())},_boolean:function(k){return R("bool:"+k.toString())},_string:function(k){R("string:"+k.length+":"),R(k.toString())},_function:function(k){R("fn:"),Y(k)?this.dispatch("[native]"):this.dispatch(k.toString()),!1!==G.respectFunctionNames&&this.dispatch("function-name:"+String(k.name)),G.respectFunctionProperties&&this._object(k)},_number:function(k){return R("number:"+k.toString())},_xml:function(k){return R("xml:"+k.toString())},_null:function(){return R("Null")},_undefined:function(){return R("Undefined")},_regexp:function(k){return R("regex:"+k.toString())},_uint8array:function(k){return R("uint8array:"),this.dispatch(Array.prototype.slice.call(k))},_uint8clampedarray:function(k){return R("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(k))},_int8array:function(k){return R("int8array:"),this.dispatch(Array.prototype.slice.call(k))},_uint16array:function(k){return R("uint16array:"),this.dispatch(Array.prototype.slice.call(k))},_int16array:function(k){return R("int16array:"),this.dispatch(Array.prototype.slice.call(k))},_uint32array:function(k){return R("uint32array:"),this.dispatch(Array.prototype.slice.call(k))},_int32array:function(k){return R("int32array:"),this.dispatch(Array.prototype.slice.call(k))},_float32array:function(k){return R("float32array:"),this.dispatch(Array.prototype.slice.call(k))},_float64array:function(k){return R("float64array:"),this.dispatch(Array.prototype.slice.call(k))},_arraybuffer:function(k){return R("arraybuffer:"),this.dispatch(new Uint8Array(k))},_url:function(k){return R("url:"+k.toString())},_map:function(k){return R("map:"),k=Array.from(k),this._array(k,!1!==G.unorderedSets)},_set:function(k){return R("set:"),k=Array.from(k),this._array(k,!1!==G.unorderedSets)},_file:function(k){return R("file:"),this.dispatch([k.name,k.size,k.type,k.lastModfied])},_blob:function(){if(G.ignoreUnknown)return R("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return R("domwindow")},_bigint:function(k){return R("bigint:"+k.toString())},_process:function(){return R("process")},_timer:function(){return R("timer")},_pipe:function(){return R("pipe")},_tcp:function(){return R("tcp")},_udp:function(){return R("udp")},_tty:function(){return R("tty")},_statwatcher:function(){return R("statwatcher")},_securecontext:function(){return R("securecontext")},_connection:function(){return R("connection")},_zlib:function(){return R("zlib")},_context:function(){return R("context")},_nodescript:function(){return R("nodescript")},_httpparser:function(){return R("httpparser")},_dataview:function(){return R("dataview")},_signal:function(){return R("signal")},_fsevent:function(){return R("fsevent")},_tlswrap:function(){return R("tlswrap")}}}function Z(){return{buf:"",write:function(G){this.buf+=G},end:function(G){this.buf+=G},read:function(){return this.buf}}}S.writeToStream=function(G,z,w){return void 0===w&&(w=z,z={}),q(z=ae(G,z),w).dispatch(G)}}).call(this,K("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},K("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(K,m,S){(function(b,D,C,O,g,y,M,U,I){!function(F){"use strict";var J=typeof Uint8Array<"u"?Uint8Array:Array,E="+".charCodeAt(0),L="/".charCodeAt(0),ae="0".charCodeAt(0),Y="a".charCodeAt(0),q="A".charCodeAt(0),Z="-".charCodeAt(0),G="_".charCodeAt(0);function z(w){return(w=w.charCodeAt(0))===E||w===Z?62:w===L||w===G?63:w<ae?-1:w<ae+10?w-ae+26+26:w<q+26?w-q:w<Y+26?w-Y+26:void 0}F.toByteArray=function(w){var R,k;if(0<w.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var le="="===w.charAt((le=w.length)-2)?2:"="===w.charAt(le-1)?1:0,H=new J(3*w.length/4-le),De=0<le?w.length-4:w.length,ce=0;function be(Oe){H[ce++]=Oe}for(R=0;R<De;R+=4,0)be((16711680&(k=z(w.charAt(R))<<18|z(w.charAt(R+1))<<12|z(w.charAt(R+2))<<6|z(w.charAt(R+3))))>>16),be((65280&k)>>8),be(255&k);return 2==le?be(255&(k=z(w.charAt(R))<<2|z(w.charAt(R+1))>>4)):1==le&&(be((k=z(w.charAt(R))<<10|z(w.charAt(R+1))<<4|z(w.charAt(R+2))>>2)>>8&255),be(255&k)),H},F.fromByteArray=function(w){var R,k,le,H,De=w.length%3,ce="";function be(Oe){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(Oe)}for(R=0,le=w.length-De;R<le;R+=3)ce+=be((H=k=(w[R]<<16)+(w[R+1]<<8)+w[R+2])>>18&63)+be(H>>12&63)+be(H>>6&63)+be(63&H);switch(De){case 1:ce=(ce+=be((k=w[w.length-1])>>2))+be(k<<4&63)+"==";break;case 2:ce=(ce=(ce+=be((k=(w[w.length-2]<<8)+w[w.length-1])>>10))+be(k>>4&63))+be(k<<2&63)+"="}return ce}}(void 0===S?this.base64js={}:S)}).call(this,K("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},K("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(K,m,S){(function(b,D,E,O,g,y,M,U,I){var F=K("base64-js"),J=K("ieee754");function E(me,B,T){if(!(this instanceof E))return new E(me,B,T);var se,ie,He,Ze,he=typeof me;if("base64"===B&&"string"==he)for(me=(Ze=me).trim?Ze.trim():Ze.replace(/^\s+|\s+$/g,"");me.length%4!=0;)me+="=";if("number"==he)se=Qe(me);else if("string"==he)se=E.byteLength(me,B);else{if("object"!=he)throw new Error("First argument needs to be a number, array or string.");se=Qe(me.length)}if(E._useTypedArrays?ie=E._augment(new Uint8Array(se)):((ie=this).length=se,ie._isBuffer=!0),E._useTypedArrays&&"number"==typeof me.byteLength)ie._set(me);else if(Ke(Ze=me)||E.isBuffer(Ze)||Ze&&"object"==typeof Ze&&"number"==typeof Ze.length)for(He=0;He<se;He++)ie[He]=E.isBuffer(me)?me.readUInt8(He):me[He];else if("string"==he)ie.write(me,0,B);else if("number"==he&&!E._useTypedArrays&&!T)for(He=0;He<se;He++)ie[He]=0;return ie}function q(me,B,T,He){var ie;if(He||(Je("boolean"==typeof T,"missing or invalid endian"),Je(null!=B,"missing offset"),Je(B+1<me.length,"Trying to read beyond buffer length")),!((He=me.length)<=B))return T?(ie=me[B],B+1<He&&(ie|=me[B+1]<<8)):(ie=me[B]<<8,B+1<He&&(ie|=me[B+1])),ie}function Z(me,B,T,He){var ie;if(He||(Je("boolean"==typeof T,"missing or invalid endian"),Je(null!=B,"missing offset"),Je(B+3<me.length,"Trying to read beyond buffer length")),!((He=me.length)<=B))return T?(B+2<He&&(ie=me[B+2]<<16),B+1<He&&(ie|=me[B+1]<<8),ie|=me[B],B+3<He&&(ie+=me[B+3]<<24>>>0)):(B+1<He&&(ie=me[B+1]<<16),B+2<He&&(ie|=me[B+2]<<8),B+3<He&&(ie|=me[B+3]),ie+=me[B]<<24>>>0),ie}function G(me,B,T,se){if(se||(Je("boolean"==typeof T,"missing or invalid endian"),Je(null!=B,"missing offset"),Je(B+1<me.length,"Trying to read beyond buffer length")),!(me.length<=B))return 32768&(se=q(me,B,T,!0))?-1*(65535-se+1):se}function z(me,B,T,se){if(se||(Je("boolean"==typeof T,"missing or invalid endian"),Je(null!=B,"missing offset"),Je(B+3<me.length,"Trying to read beyond buffer length")),!(me.length<=B))return 2147483648&(se=Z(me,B,T,!0))?-1*(4294967295-se+1):se}function w(me,B,T,se){return se||(Je("boolean"==typeof T,"missing or invalid endian"),Je(B+3<me.length,"Trying to read beyond buffer length")),J.read(me,B,T,23,4)}function R(me,B,T,se){return se||(Je("boolean"==typeof T,"missing or invalid endian"),Je(B+7<me.length,"Trying to read beyond buffer length")),J.read(me,B,T,52,8)}function k(me,B,T,se,ie){if(ie||(Je(null!=B,"missing value"),Je("boolean"==typeof se,"missing or invalid endian"),Je(null!=T,"missing offset"),Je(T+1<me.length,"trying to write beyond buffer length"),Ae(B,65535)),!((ie=me.length)<=T))for(var He=0,Ze=Math.min(ie-T,2);He<Ze;He++)me[T+He]=(B&255<<8*(se?He:1-He))>>>8*(se?He:1-He)}function le(me,B,T,se,ie){if(ie||(Je(null!=B,"missing value"),Je("boolean"==typeof se,"missing or invalid endian"),Je(null!=T,"missing offset"),Je(T+3<me.length,"trying to write beyond buffer length"),Ae(B,4294967295)),!((ie=me.length)<=T))for(var He=0,Ze=Math.min(ie-T,4);He<Ze;He++)me[T+He]=B>>>8*(se?He:3-He)&255}function H(me,B,T,se,ie){ie||(Je(null!=B,"missing value"),Je("boolean"==typeof se,"missing or invalid endian"),Je(null!=T,"missing offset"),Je(T+1<me.length,"Trying to write beyond buffer length"),rt(B,32767,-32768)),me.length<=T||k(me,0<=B?B:65535+B+1,T,se,ie)}function De(me,B,T,se,ie){ie||(Je(null!=B,"missing value"),Je("boolean"==typeof se,"missing or invalid endian"),Je(null!=T,"missing offset"),Je(T+3<me.length,"Trying to write beyond buffer length"),rt(B,2147483647,-2147483648)),me.length<=T||le(me,0<=B?B:4294967295+B+1,T,se,ie)}function ce(me,B,T,se,ie){ie||(Je(null!=B,"missing value"),Je("boolean"==typeof se,"missing or invalid endian"),Je(null!=T,"missing offset"),Je(T+3<me.length,"Trying to write beyond buffer length"),pt(B,34028234663852886e22,-34028234663852886e22)),me.length<=T||J.write(me,B,T,se,23,4)}function be(me,B,T,se,ie){ie||(Je(null!=B,"missing value"),Je("boolean"==typeof se,"missing or invalid endian"),Je(null!=T,"missing offset"),Je(T+7<me.length,"Trying to write beyond buffer length"),pt(B,17976931348623157e292,-17976931348623157e292)),me.length<=T||J.write(me,B,T,se,52,8)}S.Buffer=E,S.SlowBuffer=E,S.INSPECT_MAX_BYTES=50,E.poolSize=8192,E._useTypedArrays=function(){try{var me=new ArrayBuffer(0),B=new Uint8Array(me);return B.foo=function(){return 42},42===B.foo()&&"function"==typeof B.subarray}catch{return!1}}(),E.isEncoding=function(me){switch(String(me).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.isBuffer=function(me){return!(null==me||!me._isBuffer)},E.byteLength=function(me,B){var T;switch(me+="",B||"utf8"){case"hex":T=me.length/2;break;case"utf8":case"utf-8":T=ze(me).length;break;case"ascii":case"binary":case"raw":T=me.length;break;case"base64":T=Te(me).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":T=2*me.length;break;default:throw new Error("Unknown encoding")}return T},E.concat=function(me,B){if(Je(Ke(me),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===me.length)return new E(0);if(1===me.length)return me[0];if("number"!=typeof B)for(ie=B=0;ie<me.length;ie++)B+=me[ie].length;for(var T=new E(B),se=0,ie=0;ie<me.length;ie++){var He=me[ie];He.copy(T,se),se+=He.length}return T},E.prototype.write=function(me,B,T,se){isFinite(B)?isFinite(T)||(se=T,T=void 0):(re=se,se=B,B=T,T=re),B=Number(B)||0;var ie,He,Ze,he,re=this.length-B;switch((!T||re<(T=Number(T)))&&(T=re),se=String(se||"utf8").toLowerCase()){case"hex":ie=function(W,N,V,fe){V=Number(V)||0;var We=W.length-V;(!fe||We<(fe=Number(fe)))&&(fe=We),Je((We=N.length)%2==0,"Invalid hex string"),We/2<fe&&(fe=We/2);for(var ye=0;ye<fe;ye++){var je=parseInt(N.substr(2*ye,2),16);Je(!isNaN(je),"Invalid hex string"),W[V+ye]=je}return E._charsWritten=2*ye,ye}(this,me,B,T);break;case"utf8":case"utf-8":He=this,Ze=B,he=T,ie=E._charsWritten=Ue(ze(me),He,Ze,he);break;case"ascii":case"binary":ie=function L(me,B,T,se){return E._charsWritten=Ue(function(ie){for(var He=[],Ze=0;Ze<ie.length;Ze++)He.push(255&ie.charCodeAt(Ze));return He}(B),me,T,se)}(this,me,B,T);break;case"base64":He=this,Ze=B,he=T,ie=E._charsWritten=Ue(Te(me),He,Ze,he);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ie=function ae(me,B,T,se){return E._charsWritten=Ue(function(ie){for(var He,Ze,he=[],re=0;re<ie.length;re++)He=(Ze=ie.charCodeAt(re))>>8,he.push(Ze%=256),he.push(He);return he}(B),me,T,se)}(this,me,B,T);break;default:throw new Error("Unknown encoding")}return ie},E.prototype.toString=function(me,B,T){var se,ie,He,Ze,he=this;if(me=String(me||"utf8").toLowerCase(),B=Number(B)||0,(T=void 0!==T?Number(T):he.length)===B)return"";switch(me){case"hex":se=function(re,W,N){var V=re.length;(!W||W<0)&&(W=0),(!N||N<0||V<N)&&(N=V);for(var fe="",We=W;We<N;We++)fe+=Ie(re[We]);return fe}(he,B,T);break;case"utf8":case"utf-8":se=function(re,W,N){var V="",fe="";N=Math.min(re.length,N);for(var We=W;We<N;We++)re[We]<=127?(V+=ue(fe)+String.fromCharCode(re[We]),fe=""):fe+="%"+re[We].toString(16);return V+ue(fe)}(he,B,T);break;case"ascii":case"binary":se=function Y(me,B,T){var se="";T=Math.min(me.length,T);for(var ie=B;ie<T;ie++)se+=String.fromCharCode(me[ie]);return se}(he,B,T);break;case"base64":ie=he,Ze=T,se=0===(He=B)&&Ze===ie.length?F.fromByteArray(ie):F.fromByteArray(ie.slice(He,Ze));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":se=function(re,W,N){for(var V=re.slice(W,N),fe="",We=0;We<V.length;We+=2)fe+=String.fromCharCode(V[We]+256*V[We+1]);return fe}(he,B,T);break;default:throw new Error("Unknown encoding")}return se},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},E.prototype.copy=function(me,B,T,se){if(B=B||0,(se=se||0===se?se:this.length)!==(T=T||0)&&0!==me.length&&0!==this.length){Je(T<=se,"sourceEnd < sourceStart"),Je(0<=B&&B<me.length,"targetStart out of bounds"),Je(0<=T&&T<this.length,"sourceStart out of bounds"),Je(0<=se&&se<=this.length,"sourceEnd out of bounds"),se>this.length&&(se=this.length);var ie=(se=me.length-B<se-T?me.length-B+T:se)-T;if(ie<100||!E._useTypedArrays)for(var He=0;He<ie;He++)me[He+B]=this[He+T];else me._set(this.subarray(T,T+ie),B)}},E.prototype.slice=function(me,B){var T=this.length;if(me=Ne(me,T,0),B=Ne(B,T,T),E._useTypedArrays)return E._augment(this.subarray(me,B));for(var se=B-me,ie=new E(se,void 0,!0),He=0;He<se;He++)ie[He]=this[He+me];return ie},E.prototype.get=function(me){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(me)},E.prototype.set=function(me,B){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(me,B)},E.prototype.readUInt8=function(me,B){if(B||(Je(null!=me,"missing offset"),Je(me<this.length,"Trying to read beyond buffer length")),!(me>=this.length))return this[me]},E.prototype.readUInt16LE=function(me,B){return q(this,me,!0,B)},E.prototype.readUInt16BE=function(me,B){return q(this,me,!1,B)},E.prototype.readUInt32LE=function(me,B){return Z(this,me,!0,B)},E.prototype.readUInt32BE=function(me,B){return Z(this,me,!1,B)},E.prototype.readInt8=function(me,B){if(B||(Je(null!=me,"missing offset"),Je(me<this.length,"Trying to read beyond buffer length")),!(me>=this.length))return 128&this[me]?-1*(255-this[me]+1):this[me]},E.prototype.readInt16LE=function(me,B){return G(this,me,!0,B)},E.prototype.readInt16BE=function(me,B){return G(this,me,!1,B)},E.prototype.readInt32LE=function(me,B){return z(this,me,!0,B)},E.prototype.readInt32BE=function(me,B){return z(this,me,!1,B)},E.prototype.readFloatLE=function(me,B){return w(this,me,!0,B)},E.prototype.readFloatBE=function(me,B){return w(this,me,!1,B)},E.prototype.readDoubleLE=function(me,B){return R(this,me,!0,B)},E.prototype.readDoubleBE=function(me,B){return R(this,me,!1,B)},E.prototype.writeUInt8=function(me,B,T){T||(Je(null!=me,"missing value"),Je(null!=B,"missing offset"),Je(B<this.length,"trying to write beyond buffer length"),Ae(me,255)),B>=this.length||(this[B]=me)},E.prototype.writeUInt16LE=function(me,B,T){k(this,me,B,!0,T)},E.prototype.writeUInt16BE=function(me,B,T){k(this,me,B,!1,T)},E.prototype.writeUInt32LE=function(me,B,T){le(this,me,B,!0,T)},E.prototype.writeUInt32BE=function(me,B,T){le(this,me,B,!1,T)},E.prototype.writeInt8=function(me,B,T){T||(Je(null!=me,"missing value"),Je(null!=B,"missing offset"),Je(B<this.length,"Trying to write beyond buffer length"),rt(me,127,-128)),B>=this.length||this.writeUInt8(0<=me?me:255+me+1,B,T)},E.prototype.writeInt16LE=function(me,B,T){H(this,me,B,!0,T)},E.prototype.writeInt16BE=function(me,B,T){H(this,me,B,!1,T)},E.prototype.writeInt32LE=function(me,B,T){De(this,me,B,!0,T)},E.prototype.writeInt32BE=function(me,B,T){De(this,me,B,!1,T)},E.prototype.writeFloatLE=function(me,B,T){ce(this,me,B,!0,T)},E.prototype.writeFloatBE=function(me,B,T){ce(this,me,B,!1,T)},E.prototype.writeDoubleLE=function(me,B,T){be(this,me,B,!0,T)},E.prototype.writeDoubleBE=function(me,B,T){be(this,me,B,!1,T)},E.prototype.fill=function(me,B,T){if(B=B||0,T=T||this.length,Je("number"==typeof(me="string"==typeof(me=me||0)?me.charCodeAt(0):me)&&!isNaN(me),"value is not a number"),Je(B<=T,"end < start"),T!==B&&0!==this.length){Je(0<=B&&B<this.length,"start out of bounds"),Je(0<=T&&T<=this.length,"end out of bounds");for(var se=B;se<T;se++)this[se]=me}},E.prototype.inspect=function(){for(var me=[],B=this.length,T=0;T<B;T++)if(me[T]=Ie(this[T]),T===S.INSPECT_MAX_BYTES){me[T+1]="...";break}return"<Buffer "+me.join(" ")+">"},E.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(E._useTypedArrays)return new E(this).buffer;for(var me=new Uint8Array(this.length),B=0,T=me.length;B<T;B+=1)me[B]=this[B];return me.buffer};var Oe=E.prototype;function Ne(me,B,T){return"number"!=typeof me?T:B<=(me=~~me)?B:0<=me||0<=(me+=B)?me:0}function Qe(me){return(me=~~Math.ceil(+me))<0?0:me}function Ke(me){return(Array.isArray||function(B){return"[object Array]"===Object.prototype.toString.call(B)})(me)}function Ie(me){return me<16?"0"+me.toString(16):me.toString(16)}function ze(me){for(var B=[],T=0;T<me.length;T++){var se=me.charCodeAt(T);if(se<=127)B.push(me.charCodeAt(T));else for(var ie=T,He=(55296<=se&&se<=57343&&T++,encodeURIComponent(me.slice(ie,T+1)).substr(1).split("%")),Ze=0;Ze<He.length;Ze++)B.push(parseInt(He[Ze],16))}return B}function Te(me){return F.toByteArray(me)}function Ue(me,B,T,se){for(var ie=0;ie<se&&!(ie+T>=B.length||ie>=me.length);ie++)B[ie+T]=me[ie];return ie}function ue(me){try{return decodeURIComponent(me)}catch{return String.fromCharCode(65533)}}function Ae(me,B){Je("number"==typeof me,"cannot write a non-number as a number"),Je(0<=me,"specified a negative value for writing an unsigned value"),Je(me<=B,"value is larger than maximum value for type"),Je(Math.floor(me)===me,"value has a fractional component")}function rt(me,B,T){Je("number"==typeof me,"cannot write a non-number as a number"),Je(me<=B,"value larger than maximum allowed value"),Je(T<=me,"value smaller than minimum allowed value"),Je(Math.floor(me)===me,"value has a fractional component")}function pt(me,B,T){Je("number"==typeof me,"cannot write a non-number as a number"),Je(me<=B,"value larger than maximum allowed value"),Je(T<=me,"value smaller than minimum allowed value")}function Je(me,B){if(!me)throw new Error(B||"Failed assertion")}E._augment=function(me){return me._isBuffer=!0,me._get=me.get,me._set=me.set,me.get=Oe.get,me.set=Oe.set,me.write=Oe.write,me.toString=Oe.toString,me.toLocaleString=Oe.toString,me.toJSON=Oe.toJSON,me.copy=Oe.copy,me.slice=Oe.slice,me.readUInt8=Oe.readUInt8,me.readUInt16LE=Oe.readUInt16LE,me.readUInt16BE=Oe.readUInt16BE,me.readUInt32LE=Oe.readUInt32LE,me.readUInt32BE=Oe.readUInt32BE,me.readInt8=Oe.readInt8,me.readInt16LE=Oe.readInt16LE,me.readInt16BE=Oe.readInt16BE,me.readInt32LE=Oe.readInt32LE,me.readInt32BE=Oe.readInt32BE,me.readFloatLE=Oe.readFloatLE,me.readFloatBE=Oe.readFloatBE,me.readDoubleLE=Oe.readDoubleLE,me.readDoubleBE=Oe.readDoubleBE,me.writeUInt8=Oe.writeUInt8,me.writeUInt16LE=Oe.writeUInt16LE,me.writeUInt16BE=Oe.writeUInt16BE,me.writeUInt32LE=Oe.writeUInt32LE,me.writeUInt32BE=Oe.writeUInt32BE,me.writeInt8=Oe.writeInt8,me.writeInt16LE=Oe.writeInt16LE,me.writeInt16BE=Oe.writeInt16BE,me.writeInt32LE=Oe.writeInt32LE,me.writeInt32BE=Oe.writeInt32BE,me.writeFloatLE=Oe.writeFloatLE,me.writeFloatBE=Oe.writeFloatBE,me.writeDoubleLE=Oe.writeDoubleLE,me.writeDoubleBE=Oe.writeDoubleBE,me.fill=Oe.fill,me.inspect=Oe.inspect,me.toArrayBuffer=Oe.toArrayBuffer,me}}).call(this,K("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},K("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(K,m,S){(function(b,D,F,O,g,y,M,U,I){F=K("buffer").Buffer;var E=new F(4);E.fill(0),m.exports={hash:function(L,ae,Y,q){for(var Z=ae(function(k,le){k.length%4!=0&&(k=F.concat([k,E],k.length+(4-k.length%4)));for(var De=[],ce=le?k.readInt32BE:k.readInt32LE,be=0;be<k.length;be+=4)De.push(ce.call(k,be));return De}(L=F.isBuffer(L)?L:new F(L),q),8*L.length),G=(ae=q,new F(Y)),z=ae?G.writeInt32BE:G.writeInt32LE,w=0;w<Z.length;w++)z.call(G,Z[w],4*w,!0);return G}}}).call(this,K("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},K("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(K,m,S){(function(b,D,F,O,g,y,M,U,I){F=K("buffer").Buffer;var J=K("./sha"),E=K("./sha256"),L=K("./rng"),ae={sha1:J,sha256:E,md5:K("./md5")},Y=64,q=new F(Y);function Z(k,le){var H=ae[k=k||"sha1"],De=[];return H||G("algorithm:",k,"is not yet supported"),{update:function(ce){return F.isBuffer(ce)||(ce=new F(ce)),De.push(ce),this},digest:function(ce){var be=F.concat(De);return be=le?function(Oe,Ne,Qe){F.isBuffer(Ne)||(Ne=new F(Ne)),F.isBuffer(Qe)||(Qe=new F(Qe)),Ne.length>Y?Ne=Oe(Ne):Ne.length<Y&&(Ne=F.concat([Ne,q],Y));for(var Ke=new F(Y),Ie=new F(Y),ze=0;ze<Y;ze++)Ke[ze]=54^Ne[ze],Ie[ze]=92^Ne[ze];return Qe=Oe(F.concat([Ke,Qe])),Oe(F.concat([Ie,Qe]))}(H,le,be):H(be),De=null,ce?be.toString(ce):be}}}function G(){var k=[].slice.call(arguments).join(" ");throw new Error([k,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}q.fill(0),S.createHash=function(k){return Z(k)},S.createHmac=Z,S.randomBytes=function(k,le){if(!le||!le.call)return new F(L(k));try{le.call(this,void 0,new F(L(k)))}catch(H){le(H)}};var z,w=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],R=function(k){S[k]=function(){G("sorry,",k,"is not implemented yet")}};for(z in w)R(w[z])}).call(this,K("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},K("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(K,m,S){(function(b,D,C,O,g,y,M,U,I){var F=K("./helpers");function J(G,z){G[z>>5]|=128<<z%32,G[14+(z+64>>>9<<4)]=z;for(var w=1732584193,R=-271733879,k=-1732584194,le=271733878,H=0;H<G.length;H+=16){var De=w,ce=R,be=k,Oe=le;w=L(w,R,k,le,G[H+0],7,-680876936),le=L(le,w,R,k,G[H+1],12,-389564586),k=L(k,le,w,R,G[H+2],17,606105819),R=L(R,k,le,w,G[H+3],22,-1044525330),w=L(w,R,k,le,G[H+4],7,-176418897),le=L(le,w,R,k,G[H+5],12,1200080426),k=L(k,le,w,R,G[H+6],17,-1473231341),R=L(R,k,le,w,G[H+7],22,-45705983),w=L(w,R,k,le,G[H+8],7,1770035416),le=L(le,w,R,k,G[H+9],12,-1958414417),k=L(k,le,w,R,G[H+10],17,-42063),R=L(R,k,le,w,G[H+11],22,-1990404162),w=L(w,R,k,le,G[H+12],7,1804603682),le=L(le,w,R,k,G[H+13],12,-40341101),k=L(k,le,w,R,G[H+14],17,-1502002290),w=ae(w,R=L(R,k,le,w,G[H+15],22,1236535329),k,le,G[H+1],5,-165796510),le=ae(le,w,R,k,G[H+6],9,-1069501632),k=ae(k,le,w,R,G[H+11],14,643717713),R=ae(R,k,le,w,G[H+0],20,-373897302),w=ae(w,R,k,le,G[H+5],5,-701558691),le=ae(le,w,R,k,G[H+10],9,38016083),k=ae(k,le,w,R,G[H+15],14,-660478335),R=ae(R,k,le,w,G[H+4],20,-405537848),w=ae(w,R,k,le,G[H+9],5,568446438),le=ae(le,w,R,k,G[H+14],9,-1019803690),k=ae(k,le,w,R,G[H+3],14,-187363961),R=ae(R,k,le,w,G[H+8],20,1163531501),w=ae(w,R,k,le,G[H+13],5,-1444681467),le=ae(le,w,R,k,G[H+2],9,-51403784),k=ae(k,le,w,R,G[H+7],14,1735328473),w=Y(w,R=ae(R,k,le,w,G[H+12],20,-1926607734),k,le,G[H+5],4,-378558),le=Y(le,w,R,k,G[H+8],11,-2022574463),k=Y(k,le,w,R,G[H+11],16,1839030562),R=Y(R,k,le,w,G[H+14],23,-35309556),w=Y(w,R,k,le,G[H+1],4,-1530992060),le=Y(le,w,R,k,G[H+4],11,1272893353),k=Y(k,le,w,R,G[H+7],16,-155497632),R=Y(R,k,le,w,G[H+10],23,-1094730640),w=Y(w,R,k,le,G[H+13],4,681279174),le=Y(le,w,R,k,G[H+0],11,-358537222),k=Y(k,le,w,R,G[H+3],16,-722521979),R=Y(R,k,le,w,G[H+6],23,76029189),w=Y(w,R,k,le,G[H+9],4,-640364487),le=Y(le,w,R,k,G[H+12],11,-421815835),k=Y(k,le,w,R,G[H+15],16,530742520),w=q(w,R=Y(R,k,le,w,G[H+2],23,-995338651),k,le,G[H+0],6,-198630844),le=q(le,w,R,k,G[H+7],10,1126891415),k=q(k,le,w,R,G[H+14],15,-1416354905),R=q(R,k,le,w,G[H+5],21,-57434055),w=q(w,R,k,le,G[H+12],6,1700485571),le=q(le,w,R,k,G[H+3],10,-1894986606),k=q(k,le,w,R,G[H+10],15,-1051523),R=q(R,k,le,w,G[H+1],21,-2054922799),w=q(w,R,k,le,G[H+8],6,1873313359),le=q(le,w,R,k,G[H+15],10,-30611744),k=q(k,le,w,R,G[H+6],15,-1560198380),R=q(R,k,le,w,G[H+13],21,1309151649),w=q(w,R,k,le,G[H+4],6,-145523070),le=q(le,w,R,k,G[H+11],10,-1120210379),k=q(k,le,w,R,G[H+2],15,718787259),R=q(R,k,le,w,G[H+9],21,-343485551),w=Z(w,De),R=Z(R,ce),k=Z(k,be),le=Z(le,Oe)}return Array(w,R,k,le)}function E(G,z,w,R,k,le){return Z((z=Z(Z(z,G),Z(R,le)))<<k|z>>>32-k,w)}function L(G,z,w,R,k,le,H){return E(z&w|~z&R,G,z,k,le,H)}function ae(G,z,w,R,k,le,H){return E(z&R|w&~R,G,z,k,le,H)}function Y(G,z,w,R,k,le,H){return E(z^w^R,G,z,k,le,H)}function q(G,z,w,R,k,le,H){return E(w^(z|~R),G,z,k,le,H)}function Z(G,z){var w=(65535&G)+(65535&z);return(G>>16)+(z>>16)+(w>>16)<<16|65535&w}m.exports=function(G){return F.hash(G,J,16)}}).call(this,K("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},K("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(K,m,S){(function(b,D,C,O,g,y,M,U,I){m.exports=function(J){for(var E,L=new Array(J),ae=0;ae<J;ae++)!(3&ae)&&(E=4294967296*Math.random()),L[ae]=E>>>((3&ae)<<3)&255;return L}}).call(this,K("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},K("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(K,m,S){(function(b,D,C,O,g,y,M,U,I){var F=K("./helpers");function J(ae,Y){ae[Y>>5]|=128<<24-Y%32,ae[15+(Y+64>>9<<4)]=Y;for(var q,Z,G,z=Array(80),w=1732584193,R=-271733879,k=-1732584194,le=271733878,H=-1009589776,De=0;De<ae.length;De+=16){for(var ce=w,be=R,Oe=k,Ne=le,Qe=H,Ke=0;Ke<80;Ke++){z[Ke]=Ke<16?ae[De+Ke]:L(z[Ke-3]^z[Ke-8]^z[Ke-14]^z[Ke-16],1);var Ie=E(E(L(w,5),(Ie=R,Z=k,G=le,(q=Ke)<20?Ie&Z|~Ie&G:!(q<40)&&q<60?Ie&Z|Ie&G|Z&G:Ie^Z^G)),E(E(H,z[Ke]),(q=Ke)<20?1518500249:q<40?1859775393:q<60?-1894007588:-899497514));H=le,le=k,k=L(R,30),R=w,w=Ie}w=E(w,ce),R=E(R,be),k=E(k,Oe),le=E(le,Ne),H=E(H,Qe)}return Array(w,R,k,le,H)}function E(ae,Y){var q=(65535&ae)+(65535&Y);return(ae>>16)+(Y>>16)+(q>>16)<<16|65535&q}function L(ae,Y){return ae<<Y|ae>>>32-Y}m.exports=function(ae){return F.hash(ae,J,20,!0)}}).call(this,K("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},K("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(K,m,S){(function(b,D,C,O,g,y,M,U,I){function F(Y,q){var Z=(65535&Y)+(65535&q);return(Y>>16)+(q>>16)+(Z>>16)<<16|65535&Z}function J(Y,q){var Z,G=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),z=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),w=new Array(64);Y[q>>5]|=128<<24-q%32,Y[15+(q+64>>9<<4)]=q;for(var R,k,le=0;le<Y.length;le+=16){for(var H=z[0],De=z[1],ce=z[2],be=z[3],Oe=z[4],Ne=z[5],Qe=z[6],Ke=z[7],Ie=0;Ie<64;Ie++)w[Ie]=Ie<16?Y[Ie+le]:F(F(F(L(k=w[Ie-2],17)^L(k,19)^ae(k,10),w[Ie-7]),L(k=w[Ie-15],7)^L(k,18)^ae(k,3)),w[Ie-16]),Z=F(F(F(F(Ke,L(k=Oe,6)^L(k,11)^L(k,25)),Oe&Ne^~Oe&Qe),G[Ie]),w[Ie]),R=F(L(R=H,2)^L(R,13)^L(R,22),H&De^H&ce^De&ce),Ke=Qe,Qe=Ne,Ne=Oe,Oe=F(be,Z),be=ce,ce=De,De=H,H=F(Z,R);z[0]=F(H,z[0]),z[1]=F(De,z[1]),z[2]=F(ce,z[2]),z[3]=F(be,z[3]),z[4]=F(Oe,z[4]),z[5]=F(Ne,z[5]),z[6]=F(Qe,z[6]),z[7]=F(Ke,z[7])}return z}var E=K("./helpers"),L=function(Y,q){return Y>>>q|Y<<32-q},ae=function(Y,q){return Y>>>q};m.exports=function(Y){return E.hash(Y,J,32,!0)}}).call(this,K("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},K("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(K,m,S){(function(b,D,C,O,g,y,M,U,I){S.read=function(F,J,E,L,le){var Y,q,Z=8*le-L-1,G=(1<<Z)-1,z=G>>1,w=-7,R=E?le-1:0,k=E?-1:1;for(le=F[J+R],R+=k,Y=le&(1<<-w)-1,le>>=-w,w+=Z;0<w;Y=256*Y+F[J+R],R+=k,w-=8);for(q=Y&(1<<-w)-1,Y>>=-w,w+=L;0<w;q=256*q+F[J+R],R+=k,w-=8);if(0===Y)Y=1-z;else{if(Y===G)return q?NaN:1/0*(le?-1:1);q+=Math.pow(2,L),Y-=z}return(le?-1:1)*q*Math.pow(2,Y-L)},S.write=function(F,J,E,L,ae,H){var q,Z,G=8*H-ae-1,z=(1<<G)-1,w=z>>1,R=23===ae?Math.pow(2,-24)-Math.pow(2,-77):0,k=L?0:H-1,le=L?1:-1;for(H=J<0||0===J&&1/J<0?1:0,J=Math.abs(J),isNaN(J)||J===1/0?(Z=isNaN(J)?1:0,q=z):(q=Math.floor(Math.log(J)/Math.LN2),J*(L=Math.pow(2,-q))<1&&(q--,L*=2),2<=(J+=1<=q+w?R/L:R*Math.pow(2,1-w))*L&&(q++,L/=2),z<=q+w?(Z=0,q=z):1<=q+w?(Z=(J*L-1)*Math.pow(2,ae),q+=w):(Z=J*Math.pow(2,w-1)*Math.pow(2,ae),q=0));8<=ae;F[E+k]=255&Z,k+=le,Z/=256,ae-=8);for(q=q<<ae|Z,G+=ae;0<G;F[E+k]=255&q,k+=le,q/=256,G-=8);F[E+k-le]|=128*H}}).call(this,K("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},K("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(K,m,S){(function(b,D,C,O,g,y,M,U,I){var F,J,E;function L(){}(b=m.exports={}).nextTick=(J=typeof window<"u"&&window.setImmediate,E=typeof window<"u"&&window.postMessage&&window.addEventListener,J?function(ae){return window.setImmediate(ae)}:E?(F=[],window.addEventListener("message",function(ae){var Y=ae.source;Y!==window&&null!==Y||"process-tick"!==ae.data||(ae.stopPropagation(),0<F.length&&F.shift()())},!0),function(ae){F.push(ae),window.postMessage("process-tick","*")}):function(ae){setTimeout(ae,0)}),b.title="browser",b.browser=!0,b.env={},b.argv=[],b.on=L,b.addListener=L,b.once=L,b.off=L,b.removeListener=L,b.removeAllListeners=L,b.emit=L,b.binding=function(ae){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(ae){throw new Error("process.chdir is not supported")}}).call(this,K("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},K("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},42:ee=>{var m,S,K=ee.exports={};function b(){throw new Error("setTimeout has not been defined")}function D(){throw new Error("clearTimeout has not been defined")}function C(L){if(m===setTimeout)return setTimeout(L,0);if((m===b||!m)&&setTimeout)return m=setTimeout,setTimeout(L,0);try{return m(L,0)}catch{try{return m.call(null,L,0)}catch{return m.call(this,L,0)}}}!function(){try{m="function"==typeof setTimeout?setTimeout:b}catch{m=b}try{S="function"==typeof clearTimeout?clearTimeout:D}catch{S=D}}();var M,g=[],y=!1,U=-1;function I(){!y||!M||(y=!1,M.length?g=M.concat(g):U=-1,g.length&&F())}function F(){if(!y){var L=C(I);y=!0;for(var ae=g.length;ae;){for(M=g,g=[];++U<ae;)M&&M[U].run();U=-1,ae=g.length}M=null,y=!1,function O(L){if(S===clearTimeout)return clearTimeout(L);if((S===D||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(L);try{return S(L)}catch{try{return S.call(null,L)}catch{return S.call(this,L)}}}(L)}}function J(L,ae){this.fun=L,this.array=ae}function E(){}K.nextTick=function(L){var ae=new Array(arguments.length-1);if(arguments.length>1)for(var Y=1;Y<arguments.length;Y++)ae[Y-1]=arguments[Y];g.push(new J(L,ae)),1===g.length&&!y&&C(F)},J.prototype.run=function(){this.fun.apply(null,this.array)},K.title="browser",K.browser=!0,K.env={},K.argv=[],K.version="",K.versions={},K.on=E,K.addListener=E,K.once=E,K.off=E,K.removeListener=E,K.removeAllListeners=E,K.emit=E,K.prependListener=E,K.prependOnceListener=E,K.listeners=function(L){return[]},K.binding=function(L){throw new Error("process.binding is not supported")},K.cwd=function(){return"/"},K.chdir=function(L){throw new Error("process.chdir is not supported")},K.umask=function(){return 0}},1986:(ee,K,m)=>{ee.exports=m(7842)},5327:ee=>{"use strict";ee.exports=class DQ{constructor(m,S=new Map,b=0){this.prefix=m,this._existing=S,this.counter=b}clone(){const{prefix:m,_existing:S,counter:b}=this;return new DQ(m,new Map(S),b)}getId(m){const S=m&&this._existing.get(m);if(S)return S;const b=this.prefix+this.counter;return this.counter++,m&&this._existing.set(m,b),b}hasId(m){return this._existing.has(m)}getOldIds(){return[...this._existing.keys()]}}},7475:(ee,K,m)=>{"use strict";var S=m(7156).default;m(8280);const b=self.crypto||self.msCrypto;ee.exports=class{constructor(C){if(!b||!b.subtle)throw new Error("crypto.subtle not found.");if("sha256"===C)this.algorithm={name:"SHA-256"};else{if("sha1"!==C)throw new Error(`Unsupported algorithm "${C}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(C){this._content+=C}digest(){var C=this;return S(function*(){const O=(new TextEncoder).encode(C._content),g=new Uint8Array(yield b.subtle.digest(C.algorithm,O));let y="";for(let M=0;M<g.length;++M)y+=g[M].toString(16).padStart(2,"0");return y})()}}},8003:ee=>{"use strict";const S="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",b="http://www.w3.org/2001/XMLSchema#string",D="NamedNode",C="BlankNode",O="Literal",g="DefaultGraph",y={};function M(E,L){return E.subject.termType===L.subject.termType&&E.object.termType===L.object.termType&&E.subject.value===L.subject.value&&E.predicate.value===L.predicate.value&&E.object.value===L.object.value&&(E.object.termType!==O||E.object.datatype.termType===L.object.datatype.termType&&E.object.language===L.object.language&&E.object.datatype.value===L.object.datatype.value)}(()=>{const E="(?:<([^:]+:[^>]*)>)",ae="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_",Y=ae+"0-9-\xb7\u0300-\u036f\u203f-\u2040",Z="(_:(?:["+ae+"0-9])(?:(?:["+Y+".])*(?:["+Y+"]))?)",k="[ \\t]+",le="[ \\t]*",H="(?:"+E+"|"+Z+")"+k,De=E+k,ce="(?:"+E+"|"+Z+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+E+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+le,be="(?:\\.|(?:(?:"+E+"|"+Z+")"+le+"\\.))";y.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,y.empty=new RegExp("^[ \\t]*$"),y.quad=new RegExp("^"+le+H+De+ce+be+le+"$")})(),ee.exports=class nT{static parse(L){const ae=[],Y={},q=L.split(y.eoln);let Z=0;for(const G of q){if(Z++,y.empty.test(G))continue;const z=G.match(y.quad);if(null===z)throw new Error("N-Quads parse error on line "+Z+".");const w={subject:null,predicate:null,object:null,graph:null};if(w.subject=void 0!==z[1]?{termType:D,value:z[1]}:{termType:C,value:z[2]},w.predicate={termType:D,value:z[3]},void 0!==z[4]?w.object={termType:D,value:z[4]}:void 0!==z[5]?w.object={termType:C,value:z[5]}:(w.object={termType:O,value:void 0,datatype:{termType:D}},void 0!==z[7]?w.object.datatype.value=z[7]:void 0!==z[8]?(w.object.datatype.value=S,w.object.language=z[8]):w.object.datatype.value=b,w.object.value=z[6].replace(F,function(L,ae,Y,q){if(ae)switch(ae){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(Y)return String.fromCharCode(parseInt(Y,16));if(q)throw new Error("Unsupported U escape")})),w.graph=void 0!==z[9]?{termType:D,value:z[9]}:void 0!==z[10]?{termType:C,value:z[10]}:{termType:g,value:""},w.graph.value in Y){let R=!0;const k=Y[w.graph.value];for(const le of k)if(M(le,w)){R=!1;break}R&&(k.push(w),ae.push(w))}else Y[w.graph.value]=[w],ae.push(w)}return ae}static serialize(L){Array.isArray(L)||(L=nT.legacyDatasetToQuads(L));const ae=[];for(const Y of L)ae.push(nT.serializeQuad(Y));return ae.sort().join("")}static serializeQuadComponents(L,ae,Y,q){let Z="";return Z+=L.termType===D?`<${L.value}>`:`${L.value}`,Z+=` <${ae.value}> `,Y.termType===D?Z+=`<${Y.value}>`:Y.termType===C?Z+=Y.value:(Z+=`"${function I(E){return E.replace(U,function(L){switch(L){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}(Y.value)}"`,Y.datatype.value===S?Y.language&&(Z+=`@${Y.language}`):Y.datatype.value!==b&&(Z+=`^^<${Y.datatype.value}>`)),q.termType===D?Z+=` <${q.value}>`:q.termType===C&&(Z+=` ${q.value}`),Z+=" .\n",Z}static serializeQuad(L){return nT.serializeQuadComponents(L.subject,L.predicate,L.object,L.graph)}static legacyDatasetToQuads(L){const ae=[],Y={"blank node":C,IRI:D,literal:O};for(const q in L)L[q].forEach(G=>{const z={};for(const w in G){const R=G[w],k={termType:Y[R.type],value:R.value};k.termType===O&&(k.datatype={termType:D},"datatype"in R&&(k.datatype.value=R.datatype),"language"in R?("datatype"in R||(k.datatype.value=S),k.language=R.language):"datatype"in R||(k.datatype.value=b)),z[w]=k}z.graph="@default"===q?{termType:g,value:""}:{termType:q.startsWith("_:")?C:D,value:q},ae.push(z)});return ae}};const U=/["\\\n\r]/g,F=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},7790:ee=>{"use strict";ee.exports=class{constructor(m){this.current=m.sort(),this.done=!1,this.dir=new Map;for(let S=0;S<m.length;++S)this.dir.set(m[S],!0)}hasNext(){return!this.done}next(){const{current:m,dir:S}=this,b=m.slice();let D=null,C=0;const O=m.length;for(let g=0;g<O;++g){const y=m[g],M=S.get(y);(null===D||y>D)&&(M&&g>0&&y>m[g-1]||!M&&g<O-1&&y>m[g+1])&&(D=y,C=g)}if(null===D)this.done=!0;else{const g=S.get(D)?C-1:C+1;m[C]=m[g],m[g]=D;for(const y of m)y>D&&S.set(y,!S.get(y))}return b}}},7218:(ee,K,m)=>{"use strict";var S=m(7156).default;const b=m(5327),D=m(7475),C=m(7790),O=m(8003);function g(y,M){return y.hash<M.hash?-1:y.hash>M.hash?1:0}ee.exports=class{constructor({createMessageDigest:M=(()=>new D("sha256")),canonicalIdMap:U=new Map,maxDeepIterations:I=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new b("_:c14n",U),this.createMessageDigest=M,this.maxDeepIterations=I,this.quads=null,this.deepIterations=null}main(M){var U=this;return S(function*(){U.deepIterations=new Map,U.quads=M;for(const Y of M)U._addBlankNodeQuadInfo({quad:Y,component:Y.subject}),U._addBlankNodeQuadInfo({quad:Y,component:Y.object}),U._addBlankNodeQuadInfo({quad:Y,component:Y.graph});const I=new Map,F=[...U.blankNodeInfo.keys()];let J=0;for(const Y of F)++J%100==0&&(yield U._yield()),yield U._hashAndTrackBlankNode({id:Y,hashToBlankNodes:I});const E=[...I.keys()].sort(),L=[];for(const Y of E){const q=I.get(Y);q.length>1?L.push(q):U.canonicalIssuer.getId(q[0])}for(const Y of L){const q=[];for(const Z of Y){if(U.canonicalIssuer.hasId(Z))continue;const G=new b("_:b");G.getId(Z);const z=yield U.hashNDegreeQuads(Z,G);q.push(z)}q.sort(g);for(const Z of q){const G=Z.issuer.getOldIds();for(const z of G)U.canonicalIssuer.getId(z)}}const ae=[];for(const Y of U.quads){const q=O.serializeQuadComponents(U._componentWithCanonicalId(Y.subject),Y.predicate,U._componentWithCanonicalId(Y.object),U._componentWithCanonicalId(Y.graph));ae.push(q)}return ae.sort(),ae.join("")})()}hashFirstDegreeQuads(M){var U=this;return S(function*(){const I=[],F=U.blankNodeInfo.get(M),J=F.quads;for(const L of J){const ae={subject:null,predicate:L.predicate,object:null,graph:null};ae.subject=U.modifyFirstDegreeComponent(M,L.subject,"subject"),ae.object=U.modifyFirstDegreeComponent(M,L.object,"object"),ae.graph=U.modifyFirstDegreeComponent(M,L.graph,"graph"),I.push(O.serializeQuad(ae))}I.sort();const E=U.createMessageDigest();for(const L of I)E.update(L);return F.hash=yield E.digest(),F.hash})()}hashRelatedBlankNode(M,U,I,F){var J=this;return S(function*(){let E;E=J.canonicalIssuer.hasId(M)?J.canonicalIssuer.getId(M):I.hasId(M)?I.getId(M):J.blankNodeInfo.get(M).hash;const L=J.createMessageDigest();return L.update(F),"g"!==F&&L.update(J.getRelatedPredicate(U)),L.update(E),L.digest()})()}hashNDegreeQuads(M,U){var I=this;return S(function*(){const F=I.deepIterations.get(M)||0;if(F>I.maxDeepIterations)throw new Error(`Maximum deep iterations (${I.maxDeepIterations}) exceeded.`);I.deepIterations.set(M,F+1);const J=I.createMessageDigest(),E=yield I.createHashToRelated(M,U),L=[...E.keys()].sort();for(const ae of L){J.update(ae);let q,Y="";const Z=new C(E.get(ae));let G=0;for(;Z.hasNext();){const z=Z.next();++G%3==0&&(yield I._yield());let w=U.clone(),R="";const k=[];let le=!1;for(const H of z)if(I.canonicalIssuer.hasId(H)?R+=I.canonicalIssuer.getId(H):(w.hasId(H)||k.push(H),R+=w.getId(H)),0!==Y.length&&R>Y){le=!0;break}if(!le){for(const H of k){const De=yield I.hashNDegreeQuads(H,w);if(R+=w.getId(H),R+=`<${De.hash}>`,w=De.issuer,0!==Y.length&&R>Y){le=!0;break}}le||(0===Y.length||R<Y)&&(Y=R,q=w)}}J.update(Y),U=q}return{hash:yield J.digest(),issuer:U}})()}modifyFirstDegreeComponent(M,U){return"BlankNode"!==U.termType?U:{termType:"BlankNode",value:U.value===M?"_:a":"_:z"}}getRelatedPredicate(M){return`<${M.predicate.value}>`}createHashToRelated(M,U){var I=this;return S(function*(){const F=new Map,J=I.blankNodeInfo.get(M).quads;let E=0;for(const L of J)++E%100==0&&(yield I._yield()),yield Promise.all([I._addRelatedBlankNodeHash({quad:L,component:L.subject,position:"s",id:M,issuer:U,hashToRelated:F}),I._addRelatedBlankNodeHash({quad:L,component:L.object,position:"o",id:M,issuer:U,hashToRelated:F}),I._addRelatedBlankNodeHash({quad:L,component:L.graph,position:"g",id:M,issuer:U,hashToRelated:F})]);return F})()}_hashAndTrackBlankNode({id:M,hashToBlankNodes:U}){var I=this;return S(function*(){const F=yield I.hashFirstDegreeQuads(M),J=U.get(F);J?J.push(M):U.set(F,[M])})()}_addBlankNodeQuadInfo({quad:M,component:U}){if("BlankNode"!==U.termType)return;const I=U.value,F=this.blankNodeInfo.get(I);F?F.quads.add(M):this.blankNodeInfo.set(I,{quads:new Set([M]),hash:null})}_addRelatedBlankNodeHash({quad:M,component:U,position:I,id:F,issuer:J,hashToRelated:E}){var L=this;return S(function*(){if("BlankNode"!==U.termType||U.value===F)return;const ae=U.value,Y=yield L.hashRelatedBlankNode(ae,M,J,I),q=E.get(Y);q?q.push(ae):E.set(Y,[ae])})()}_componentWithCanonicalId(M){return"BlankNode"!==M.termType||M.value.startsWith(this.canonicalIssuer.prefix)?M:{termType:"BlankNode",value:this.canonicalIssuer.getId(M.value)}}_yield(){return S(function*(){return new Promise(M=>setImmediate(M))})()}}},9123:(ee,K,m)=>{"use strict";const S=m(5327),b=m(7475),D=m(7790),C=m(8003);function O(g,y){return g.hash<y.hash?-1:g.hash>y.hash?1:0}ee.exports=class{constructor({createMessageDigest:y=(()=>new b("sha256")),canonicalIdMap:M=new Map,maxDeepIterations:U=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new S("_:c14n",M),this.createMessageDigest=y,this.maxDeepIterations=U,this.quads=null,this.deepIterations=null}main(y){this.deepIterations=new Map,this.quads=y;for(const E of y)this._addBlankNodeQuadInfo({quad:E,component:E.subject}),this._addBlankNodeQuadInfo({quad:E,component:E.object}),this._addBlankNodeQuadInfo({quad:E,component:E.graph});const M=new Map,U=[...this.blankNodeInfo.keys()];for(const E of U)this._hashAndTrackBlankNode({id:E,hashToBlankNodes:M});const I=[...M.keys()].sort(),F=[];for(const E of I){const L=M.get(E);L.length>1?F.push(L):this.canonicalIssuer.getId(L[0])}for(const E of F){const L=[];for(const ae of E){if(this.canonicalIssuer.hasId(ae))continue;const Y=new S("_:b");Y.getId(ae);const q=this.hashNDegreeQuads(ae,Y);L.push(q)}L.sort(O);for(const ae of L){const Y=ae.issuer.getOldIds();for(const q of Y)this.canonicalIssuer.getId(q)}}const J=[];for(const E of this.quads){const L=C.serializeQuadComponents(this._componentWithCanonicalId({component:E.subject}),E.predicate,this._componentWithCanonicalId({component:E.object}),this._componentWithCanonicalId({component:E.graph}));J.push(L)}return J.sort(),J.join("")}hashFirstDegreeQuads(y){const M=[],U=this.blankNodeInfo.get(y),I=U.quads;for(const J of I){const E={subject:null,predicate:J.predicate,object:null,graph:null};E.subject=this.modifyFirstDegreeComponent(y,J.subject,"subject"),E.object=this.modifyFirstDegreeComponent(y,J.object,"object"),E.graph=this.modifyFirstDegreeComponent(y,J.graph,"graph"),M.push(C.serializeQuad(E))}M.sort();const F=this.createMessageDigest();for(const J of M)F.update(J);return U.hash=F.digest(),U.hash}hashRelatedBlankNode(y,M,U,I){let F;F=this.canonicalIssuer.hasId(y)?this.canonicalIssuer.getId(y):U.hasId(y)?U.getId(y):this.blankNodeInfo.get(y).hash;const J=this.createMessageDigest();return J.update(I),"g"!==I&&J.update(this.getRelatedPredicate(M)),J.update(F),J.digest()}hashNDegreeQuads(y,M){const U=this.deepIterations.get(y)||0;if(U>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(y,U+1);const I=this.createMessageDigest(),F=this.createHashToRelated(y,M),J=[...F.keys()].sort();for(const E of J){I.update(E);let ae,L="";const Y=new D(F.get(E));for(;Y.hasNext();){const q=Y.next();let Z=M.clone(),G="";const z=[];let w=!1;for(const R of q)if(this.canonicalIssuer.hasId(R)?G+=this.canonicalIssuer.getId(R):(Z.hasId(R)||z.push(R),G+=Z.getId(R)),0!==L.length&&G>L){w=!0;break}if(!w){for(const R of z){const k=this.hashNDegreeQuads(R,Z);if(G+=Z.getId(R),G+=`<${k.hash}>`,Z=k.issuer,0!==L.length&&G>L){w=!0;break}}w||(0===L.length||G<L)&&(L=G,ae=Z)}}I.update(L),M=ae}return{hash:I.digest(),issuer:M}}modifyFirstDegreeComponent(y,M){return"BlankNode"!==M.termType?M:{termType:"BlankNode",value:M.value===y?"_:a":"_:z"}}getRelatedPredicate(y){return`<${y.predicate.value}>`}createHashToRelated(y,M){const U=new Map,I=this.blankNodeInfo.get(y).quads;for(const F of I)this._addRelatedBlankNodeHash({quad:F,component:F.subject,position:"s",id:y,issuer:M,hashToRelated:U}),this._addRelatedBlankNodeHash({quad:F,component:F.object,position:"o",id:y,issuer:M,hashToRelated:U}),this._addRelatedBlankNodeHash({quad:F,component:F.graph,position:"g",id:y,issuer:M,hashToRelated:U});return U}_hashAndTrackBlankNode({id:y,hashToBlankNodes:M}){const U=this.hashFirstDegreeQuads(y),I=M.get(U);I?I.push(y):M.set(U,[y])}_addBlankNodeQuadInfo({quad:y,component:M}){if("BlankNode"!==M.termType)return;const U=M.value,I=this.blankNodeInfo.get(U);I?I.quads.add(y):this.blankNodeInfo.set(U,{quads:new Set([y]),hash:null})}_addRelatedBlankNodeHash({quad:y,component:M,position:U,id:I,issuer:F,hashToRelated:J}){if("BlankNode"!==M.termType||M.value===I)return;const E=M.value,L=this.hashRelatedBlankNode(E,y,F,U),ae=J.get(L);ae?ae.push(E):J.set(L,[E])}_componentWithCanonicalId({component:y}){return"BlankNode"!==y.termType||y.value.startsWith(this.canonicalIssuer.prefix)?y:{termType:"BlankNode",value:this.canonicalIssuer.getId(y.value)}}}},1326:(ee,K,m)=>{"use strict";var S=m(7156).default;const b=m(7475),D=m(7218);ee.exports=class extends D{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new b("sha1")}modifyFirstDegreeComponent(O,g,y){return"BlankNode"!==g.termType?g:"graph"===y?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:g.value===O?"_:a":"_:z"}}getRelatedPredicate(O){return O.predicate.value}createHashToRelated(O,g){var y=this;return S(function*(){const M=new Map,U=y.blankNodeInfo.get(O).quads;let I=0;for(const F of U){let J,E;if("BlankNode"===F.subject.termType&&F.subject.value!==O)E=F.subject.value,J="p";else{if("BlankNode"!==F.object.termType||F.object.value===O)continue;E=F.object.value,J="r"}++I%100==0&&(yield y._yield());const L=yield y.hashRelatedBlankNode(E,F,g,J),ae=M.get(L);ae?ae.push(E):M.set(L,[E])}return M})()}}},9869:(ee,K,m)=>{"use strict";const S=m(7475),b=m(9123);ee.exports=class extends b{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new S("sha1")}modifyFirstDegreeComponent(C,O,g){return"BlankNode"!==O.termType?O:"graph"===g?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:O.value===C?"_:a":"_:z"}}getRelatedPredicate(C){return C.predicate.value}createHashToRelated(C,O){const g=new Map,y=this.blankNodeInfo.get(C).quads;for(const M of y){let U,I;if("BlankNode"===M.subject.termType&&M.subject.value!==C)I=M.subject.value,U="p";else{if("BlankNode"!==M.object.termType||M.object.value===C)continue;I=M.object.value,U="r"}const F=this.hashRelatedBlankNode(I,M,O,U),J=g.get(F);J?J.push(I):g.set(F,[I])}return g}}},7842:(ee,K,m)=>{"use strict";var S=m(7156).default;const b=m(7218),D=m(1326),C=m(9123),O=m(9869);let g;try{g=m(7670)}catch{}function y(M){return Array.isArray(M)?M:K.NQuads.legacyDatasetToQuads(M)}K.NQuads=m(8003),K.IdentifierIssuer=m(5327),K._rdfCanonizeNative=function(M){return M&&(g=M),g},K.canonize=function(){var M=S(function*(U,I){const F=y(U);if(I.useNative){if(!g)throw new Error("rdf-canonize-native not available");if(I.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((J,E)=>g.canonize(F,I,(L,ae)=>L?E(L):J(ae)))}if("URDNA2015"===I.algorithm)return new b(I).main(F);if("URGNA2012"===I.algorithm){if(I.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new D(I).main(F)}throw"algorithm"in I?new Error("Invalid RDF Dataset Canonicalization algorithm: "+I.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")});return function(U,I){return M.apply(this,arguments)}}(),K._canonizeSync=function(M,U){const I=y(M);if(U.useNative){if(!g)throw new Error("rdf-canonize-native not available");if(U.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return g.canonizeSync(I,U)}if("URDNA2015"===U.algorithm)return new C(U).main(I);if("URGNA2012"===U.algorithm){if(U.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new O(U).main(I)}throw"algorithm"in U?new Error("Invalid RDF Dataset Canonicalization algorithm: "+U.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}},2633:function(ee,K,m){"use strict";var S=this&&this.__createBinding||(Object.create?function(D,C,O,g){void 0===g&&(g=O),Object.defineProperty(D,g,{enumerable:!0,get:function(){return C[O]}})}:function(D,C,O,g){void 0===g&&(g=O),D[g]=C[O]}),b=this&&this.__exportStar||function(D,C){for(var O in D)"default"!==O&&!Object.prototype.hasOwnProperty.call(C,O)&&S(C,D,O)};Object.defineProperty(K,"__esModule",{value:!0}),b(m(4740),K),b(m(3613),K),b(m(9379),K),b(m(5565),K),b(m(3283),K),b(m(3905),K),b(m(2234),K)},4740:(ee,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.BlankNode=void 0,K.BlankNode=class m{constructor(b){this.termType="BlankNode",this.value=b}equals(b){return!!b&&"BlankNode"===b.termType&&b.value===this.value}}},3613:(ee,K,m)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.DataFactory=void 0;const S=m(4740),b=m(9379),D=m(5565),C=m(3283),O=m(3905),g=m(2234);let y=0;K.DataFactory=class M{constructor(I){this.blankNodeCounter=0,this.blankNodePrefix=(I=I||{}).blankNodePrefix||`df_${y++}_`}namedNode(I){return new C.NamedNode(I)}blankNode(I){return new S.BlankNode(I||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(I,F){return new D.Literal(I,F)}variable(I){return new g.Variable(I)}defaultGraph(){return b.DefaultGraph.INSTANCE}quad(I,F,J,E){return new O.Quad(I,F,J,E||this.defaultGraph())}fromTerm(I){switch(I.termType){case"NamedNode":return this.namedNode(I.value);case"BlankNode":return this.blankNode(I.value);case"Literal":return I.language?this.literal(I.value,I.language):I.datatype.equals(D.Literal.XSD_STRING)?this.literal(I.value):this.literal(I.value,this.fromTerm(I.datatype));case"Variable":return this.variable(I.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(I.subject),this.fromTerm(I.predicate),this.fromTerm(I.object),this.fromTerm(I.graph))}}fromQuad(I){return this.fromTerm(I)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},9379:(ee,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.DefaultGraph=void 0;class m{constructor(){this.termType="DefaultGraph",this.value=""}equals(b){return!!b&&"DefaultGraph"===b.termType}}K.DefaultGraph=m,m.INSTANCE=new m},5565:(ee,K,m)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.Literal=void 0;const S=m(3283);class b{constructor(C,O){this.termType="Literal",this.value=C,"string"==typeof O?(this.language=O,this.datatype=b.RDF_LANGUAGE_STRING):O?(this.language="",this.datatype=O):(this.language="",this.datatype=b.XSD_STRING)}equals(C){return!!C&&"Literal"===C.termType&&C.value===this.value&&C.language===this.language&&this.datatype.equals(C.datatype)}}K.Literal=b,b.RDF_LANGUAGE_STRING=new S.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),b.XSD_STRING=new S.NamedNode("http://www.w3.org/2001/XMLSchema#string")},3283:(ee,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.NamedNode=void 0,K.NamedNode=class m{constructor(b){this.termType="NamedNode",this.value=b}equals(b){return!!b&&"NamedNode"===b.termType&&b.value===this.value}}},3905:(ee,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.Quad=void 0,K.Quad=class m{constructor(b,D,C,O){this.termType="Quad",this.value="",this.subject=b,this.predicate=D,this.object=C,this.graph=O}equals(b){return!!b&&("Quad"===b.termType||!b.termType)&&this.subject.equals(b.subject)&&this.predicate.equals(b.predicate)&&this.object.equals(b.object)&&this.graph.equals(b.graph)}}},2234:(ee,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.Variable=void 0,K.Variable=class m{constructor(b){this.termType="Variable",this.value=b}equals(b){return!!b&&"Variable"===b.termType&&b.value===this.value}}},9689:function(ee,K,m){"use strict";var S=this&&this.__createBinding||(Object.create?function(E,L,ae,Y){void 0===Y&&(Y=ae),Object.defineProperty(E,Y,{enumerable:!0,get:function(){return L[ae]}})}:function(E,L,ae,Y){void 0===Y&&(Y=ae),E[Y]=L[ae]}),b=this&&this.__exportStar||function(E,L){for(var ae in E)"default"!==ae&&!Object.prototype.hasOwnProperty.call(L,ae)&&S(L,E,ae)};Object.defineProperty(K,"__esModule",{value:!0}),K.getSupportedJavaScriptPrimitives=K.getSupportedRdfDatatypes=K.getTermRaw=K.toRdf=K.fromRdf=void 0;const D=m(2633),C=m(2538),O=m(6374);b(m(2538),K),b(m(1815),K),b(m(6374),K);const g=new D.DataFactory,y=new O.Translator;function M(E,L){return y.fromRdf(E,L)}y.registerHandler(new C.TypeHandlerString,C.TypeHandlerString.TYPES.map(E=>g.namedNode(E)),["string"]),y.registerHandler(new C.TypeHandlerBoolean,[C.TypeHandlerBoolean.TYPE].map(E=>g.namedNode(E)),["boolean"]),y.registerHandler(new C.TypeHandlerNumberDouble,C.TypeHandlerNumberDouble.TYPES.map(E=>g.namedNode(E)),["number"]),y.registerHandler(new C.TypeHandlerNumberInteger,C.TypeHandlerNumberInteger.TYPES.map(E=>g.namedNode(E)),["number"]),y.registerHandler(new C.TypeHandlerDate,C.TypeHandlerDate.TYPES.map(E=>g.namedNode(E)),["object"]),K.fromRdf=M,K.toRdf=function U(E,L){return L&&"namedNode"in L&&(L={dataFactory:L}),(L=L||{})&&!L.dataFactory&&(L.dataFactory=g),y.toRdf(E,L)},K.getTermRaw=function I(E,L){return"Literal"===E.termType?M(E,L):E.value},K.getSupportedRdfDatatypes=function F(){return y.getSupportedRdfDatatypes()},K.getSupportedJavaScriptPrimitives=function J(){return y.getSupportedJavaScriptPrimitives()}},1815:(ee,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0})},6374:(ee,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.Translator=void 0,K.Translator=class m{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(b){throw new Error(`Invalid RDF ${b.datatype.value} value: '${b.value}'`)}registerHandler(b,D,C){for(const O of D)this.supportedRdfDatatypes.push(O),this.fromRdfHandlers[O.value]=b;for(const O of C){let g=this.toRdfHandlers[O];g||(this.toRdfHandlers[O]=g=[]),g.push(b)}}fromRdf(b,D){const C=this.fromRdfHandlers[b.datatype.value];return C?C.fromRdf(b,D):b.value}toRdf(b,D){const C=this.toRdfHandlers[typeof b];if(C)for(const O of C){const g=O.toRdf(b,D);if(g)return g}throw new Error(`Invalid JavaScript value: '${b}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}},88:(ee,K,m)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.TypeHandlerBoolean=void 0;const S=m(6374);class b{fromRdf(C,O){switch(C.value){case"true":case"1":return!0;case"false":case"0":return!1}return O&&S.Translator.incorrectRdfDataType(C),!1}toRdf(C,{datatype:O,dataFactory:g}){return g.literal(C?"true":"false",O||g.namedNode(b.TYPE))}}K.TypeHandlerBoolean=b,b.TYPE="http://www.w3.org/2001/XMLSchema#boolean"},1600:(ee,K,m)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.TypeHandlerDate=void 0;const S=m(6374);class b{fromRdf(C,O){switch(O&&!C.value.match(b.VALIDATORS[C.datatype.value.substr(33,C.datatype.value.length)])&&S.Translator.incorrectRdfDataType(C),C.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(C.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const g=C.value.split("-");return new Date(0,parseInt(g[0],10)-1,parseInt(g[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(C.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(C.value+"-01");default:return new Date(C.value)}}toRdf(C,{datatype:O,dataFactory:g}){if(O=O||g.namedNode(b.TYPES[0]),!(C instanceof Date))return null;const y=C;let M;switch(O.value){case"http://www.w3.org/2001/XMLSchema#gDay":M=String(y.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":M=y.getUTCMonth()+1+"-"+y.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":M=String(y.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":M=y.getUTCFullYear()+"-"+(y.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":M=y.toISOString().replace(/T.*$/,"");break;default:M=y.toISOString()}return g.literal(M,O)}}K.TypeHandlerDate=b,b.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],b.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/}},1511:(ee,K,m)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.TypeHandlerNumberDouble=void 0;const S=m(6374);class b{fromRdf(C,O){const g=parseFloat(C.value);return O&&isNaN(g)&&S.Translator.incorrectRdfDataType(C),g}toRdf(C,{datatype:O,dataFactory:g}){return O=O||g.namedNode(b.TYPES[0]),isNaN(C)?g.literal("NaN",O):isFinite(C)?C%1==0?null:g.literal(C.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),O):g.literal(C>0?"INF":"-INF",O)}}K.TypeHandlerNumberDouble=b,b.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"]},9199:(ee,K,m)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.TypeHandlerNumberInteger=void 0;const S=m(6374);class b{fromRdf(C,O){const g=parseInt(C.value,10);return O&&(isNaN(g)||C.value.indexOf(".")>=0)&&S.Translator.incorrectRdfDataType(C),g}toRdf(C,{datatype:O,dataFactory:g}){return g.literal(String(C),O||g.namedNode(C<=b.MAX_INT&&C>=b.MIN_INT?b.TYPES[0]:b.TYPES[1]))}}K.TypeHandlerNumberInteger=b,b.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],b.MAX_INT=2147483647,b.MIN_INT=-2147483648},2210:(ee,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.TypeHandlerString=void 0;class m{fromRdf(b){return b.value}toRdf(b,{datatype:D,dataFactory:C}){return C.literal(b,D)}}K.TypeHandlerString=m,m.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"]},2538:function(ee,K,m){"use strict";var S=this&&this.__createBinding||(Object.create?function(D,C,O,g){void 0===g&&(g=O),Object.defineProperty(D,g,{enumerable:!0,get:function(){return C[O]}})}:function(D,C,O,g){void 0===g&&(g=O),D[g]=C[O]}),b=this&&this.__exportStar||function(D,C){for(var O in D)"default"!==O&&!Object.prototype.hasOwnProperty.call(C,O)&&S(C,D,O)};Object.defineProperty(K,"__esModule",{value:!0}),b(m(88),K),b(m(1600),K),b(m(1511),K),b(m(9199),K),b(m(2210),K)},2821:function(ee,K,m){"use strict";var S=this&&this.__createBinding||(Object.create?function(D,C,O,g){void 0===g&&(g=O),Object.defineProperty(D,g,{enumerable:!0,get:function(){return C[O]}})}:function(D,C,O,g){void 0===g&&(g=O),D[g]=C[O]}),b=this&&this.__exportStar||function(D,C){for(var O in D)"default"!==O&&!Object.prototype.hasOwnProperty.call(C,O)&&S(C,D,O)};Object.defineProperty(K,"__esModule",{value:!0}),b(m(5664),K)},758:(ee,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.ParseError=void 0;class m extends Error{constructor(b,D){const C=b.saxStream._parser;super(b.trackPosition?`Line ${C.line+1} column ${C.column+1}: ${D}`:D)}}K.ParseError=m},5664:(ee,K,m)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),K.ParseType=K.RdfXmlParser=void 0;const S=m(7054),b=m(9528),D=m(1793),C=m(758),O=m(2633);class g extends D.Transform{constructor(U){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},U&&(Object.assign(this,U),this.options=U),this.dataFactory||(this.dataFactory=new O.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.saxStream=b.createStream(this.strict,{xmlns:!1,position:this.trackPosition}),this.strict||(this.saxStream._parser.looseCase="toString"),this.attachSaxListeners()}static parseNamespace(U,I){const F={};let J=!1;for(const L in U.attributes)L.startsWith("xmlns")&&(5===L.length?(J=!0,F[""]=U.attributes[L]):":"===L.charAt(5)&&(J=!0,F[L.substr(6)]=U.attributes[L]));const E=I&&I.ns?I.ns:[g.DEFAULT_NS];return J?E.concat([F]):E}static expandPrefixedTerm(U,I,F){const J=U.indexOf(":");let E,L;J>=0?(E=U.substr(0,J),L=U.substr(J+1)):(E="",L=U);let ae=null,Y=null;for(let q=I.length-1;q>=0;q--){const Z=I[q][E];if(Z){ae=Z;break}Y||(Y=I[q][""])}if(!ae){if(E&&"xmlns"!==E)throw new C.ParseError(F,`The prefix '${E}' in term '${U}' was not bound.`);ae=Y||""}return{prefix:E,local:L,uri:ae}}static isValidIri(U){return g.IRI_REGEX.test(U)}import(U){const I=new D.PassThrough({readableObjectMode:!0});U.on("error",J=>F.emit("error",J)),U.on("data",J=>I.push(J)),U.on("end",()=>I.push(null));const F=I.pipe(new g(this.options));return F}_transform(U,I,F){try{this.saxStream.write(U,I)}catch(J){return F(J)}F()}newParseError(U){return new C.ParseError(this,U)}valueToUri(U,I){return this.uriToNamedNode(S.resolve(U,I.baseIRI))}uriToNamedNode(U){if(!g.isValidIri(U))throw this.newParseError(`Invalid URI: ${U}`);return this.dataFactory.namedNode(U)}validateNcname(U){if(!g.NCNAME_MATCHER.test(U))throw this.newParseError(`Not a valid NCName: ${U}`)}attachSaxListeners(){this.saxStream.on("error",U=>this.emit("error",U)),this.saxStream.on("opentag",this.onTag.bind(this)),this.saxStream.on("text",this.onText.bind(this)),this.saxStream.on("closetag",this.onCloseTag.bind(this)),this.saxStream.on("doctype",this.onDoctype.bind(this))}onTag(U){const I=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let F=y.RESOURCE;if(I&&(I.hadChildren=!0,F=I.childrenParseType),I&&I.childrenStringTags){const E=U.name;let L="";for(const Z in U.attributes)L+=` ${Z}="${U.attributes[Z]}"`;I.childrenStringTags.push(`<${E}${L}>`);const q={childrenStringTags:I.childrenStringTags};return q.childrenStringEmitClosingTag=`</${E}>`,void this.activeTagStack.push(q)}const J={};I?(J.language=I.language,J.baseIRI=I.baseIRI):J.baseIRI=this.baseIRI,this.activeTagStack.push(J),J.ns=g.parseNamespace(U,I),F===y.RESOURCE?this.onTagResource(U,J,I,!I):this.onTagProperty(U,J,I)}onTagResource(U,I,F,J){const E=g.expandPrefixedTerm(U.name,I.ns,this);I.childrenParseType=y.PROPERTY;let L=!0;if(E.uri===g.RDF){if(!J&&g.FORBIDDEN_NODE_ELEMENTS.indexOf(E.local)>=0)throw this.newParseError(`Illegal node element name: ${E.local}`);switch(E.local){case"RDF":I.childrenParseType=y.RESOURCE;case"Description":L=!1}}const ae=[],Y=[];let q=null,Z=!1,G=!1,z=null;for(const w in U.attributes){const R=U.attributes[w],k=g.expandPrefixedTerm(w,I.ns,this);if(F&&k.uri===g.RDF)switch(k.local){case"about":if(q)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${R} and ${q} where found.`);q=R;continue;case"ID":if(q)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${R} and ${q} where found.`);this.validateNcname(R),q="#"+R,Z=!0;continue;case"nodeID":if(q)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${R} and ${q} where found.`);this.validateNcname(R),q=R,G=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":z=R;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(k.uri===g.XML){if("lang"===k.local){I.language=""===R?null:R.toLowerCase();continue}if("base"===k.local){I.baseIRI=S.resolve(R,I.baseIRI);continue}}"xml"!==k.prefix&&k.uri&&(ae.push(this.uriToNamedNode(k.uri+k.local)),Y.push(R))}if(null!==q&&(I.subject=G?this.dataFactory.blankNode(q):this.valueToUri(q,I),Z&&this.claimNodeId(I.subject)),I.subject||(I.subject=this.dataFactory.blankNode()),L){const w=this.uriToNamedNode(E.uri+E.local);this.emitTriple(I.subject,this.dataFactory.namedNode(g.RDF+"type"),w,F?F.reifiedStatementId:null)}if(F){if(F.predicate)if(F.childrenCollectionSubject){const w=this.dataFactory.blankNode();this.emitTriple(F.childrenCollectionSubject,F.childrenCollectionPredicate,w,F.reifiedStatementId),this.emitTriple(w,this.dataFactory.namedNode(g.RDF+"first"),I.subject,I.reifiedStatementId),F.childrenCollectionSubject=w,F.childrenCollectionPredicate=this.dataFactory.namedNode(g.RDF+"rest")}else{this.emitTriple(F.subject,F.predicate,I.subject,F.reifiedStatementId);for(let w=0;w<F.predicateSubPredicates.length;w++)this.emitTriple(I.subject,F.predicateSubPredicates[w],F.predicateSubObjects[w],null);F.predicateSubPredicates=[],F.predicateSubObjects=[],F.predicateEmitted=!0}for(let w=0;w<ae.length;w++){const R=this.dataFactory.literal(Y[w],I.datatype||I.language);this.emitTriple(I.subject,ae[w],R,F.reifiedStatementId)}z&&this.emitTriple(I.subject,this.dataFactory.namedNode(g.RDF+"type"),this.uriToNamedNode(z),null)}}onTagProperty(U,I,F){const J=g.expandPrefixedTerm(U.name,I.ns,this);if(I.childrenParseType=y.RESOURCE,I.subject=F.subject,J.uri===g.RDF&&"li"===J.local?(F.listItemCounter||(F.listItemCounter=1),I.predicate=this.uriToNamedNode(J.uri+"_"+F.listItemCounter++)):I.predicate=this.uriToNamedNode(J.uri+J.local),J.uri===g.RDF&&g.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(J.local)>=0)throw this.newParseError(`Illegal property element name: ${J.local}`);I.predicateSubPredicates=[],I.predicateSubObjects=[];let E=!1,L=!1,ae=null,Y=!0;const q=[],Z=[];for(const G in U.attributes){const z=U.attributes[G],w=g.expandPrefixedTerm(G,I.ns,this);if(w.uri===g.RDF)switch(w.local){case"resource":if(ae)throw this.newParseError(`Found both rdf:resource (${z}) and rdf:nodeID (${ae}).`);if(E)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${z})`);I.hadChildren=!0,ae=z,Y=!1;continue;case"datatype":if(L)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${z}).`);if(E)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${z})`);I.datatype=this.valueToUri(z,I);continue;case"nodeID":if(L)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${z}).`);if(I.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${z}).`);if(E)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${z})`);this.validateNcname(z),I.hadChildren=!0,ae=z,Y=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(L)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(I.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${I.datatype.value})`);if(ae)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${ae})`);if("Resource"===z){E=!0,I.childrenParseType=y.PROPERTY;const R=this.dataFactory.blankNode();this.emitTriple(I.subject,I.predicate,R,I.reifiedStatementId),I.subject=R,I.predicate=null}else"Collection"===z?(E=!0,I.hadChildren=!0,I.childrenCollectionSubject=I.subject,I.childrenCollectionPredicate=I.predicate,Y=!1):"Literal"===z&&(E=!0,I.childrenTagsToString=!0,I.childrenStringTags=[]);continue;case"ID":this.validateNcname(z),I.reifiedStatementId=this.valueToUri("#"+z,I),this.claimNodeId(I.reifiedStatementId);continue}else if(w.uri===g.XML&&"lang"===w.local){I.language=""===z?null:z.toLowerCase();continue}if("xml"!==w.prefix&&"xmlns"!==w.prefix&&w.uri){if(E||I.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${z}`);I.hadChildren=!0,L=!0,q.push(this.uriToNamedNode(w.uri+w.local)),Z.push(this.dataFactory.literal(z,I.datatype||I.language))}}if(null!==ae){const G=I.subject;I.subject=Y?this.dataFactory.blankNode(ae):this.valueToUri(ae,I),this.emitTriple(G,I.predicate,I.subject,I.reifiedStatementId);for(let z=0;z<q.length;z++)this.emitTriple(I.subject,q[z],Z[z],null);I.predicateEmitted=!0}else Y&&(I.predicateSubPredicates=q,I.predicateSubObjects=Z,I.predicateEmitted=!1)}emitTriple(U,I,F,J){this.push(this.dataFactory.quad(U,I,F,this.defaultGraph)),J&&(this.push(this.dataFactory.quad(J,this.dataFactory.namedNode(g.RDF+"type"),this.dataFactory.namedNode(g.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(J,this.dataFactory.namedNode(g.RDF+"subject"),U,this.defaultGraph)),this.push(this.dataFactory.quad(J,this.dataFactory.namedNode(g.RDF+"predicate"),I,this.defaultGraph)),this.push(this.dataFactory.quad(J,this.dataFactory.namedNode(g.RDF+"object"),F,this.defaultGraph)))}claimNodeId(U){if(!this.allowDuplicateRdfIds){if(this.nodeIds[U.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${U.value}'.`);this.nodeIds[U.value]=!0}}onText(U){const I=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;I&&(I.childrenStringTags?I.childrenStringTags.push(U):I.predicate&&(I.text=U))}onCloseTag(){const U=this.activeTagStack.pop();if(U.childrenStringEmitClosingTag&&U.childrenStringTags.push(U.childrenStringEmitClosingTag),U.childrenTagsToString&&(U.datatype=this.dataFactory.namedNode(g.RDF+"XMLLiteral"),U.text=U.childrenStringTags.join(""),U.hadChildren=!1),U.childrenCollectionSubject)this.emitTriple(U.childrenCollectionSubject,U.childrenCollectionPredicate,this.dataFactory.namedNode(g.RDF+"nil"),U.reifiedStatementId);else if(U.predicate)if(U.hadChildren||U.childrenParseType===y.PROPERTY){if(!U.predicateEmitted){const I=this.dataFactory.blankNode();this.emitTriple(U.subject,U.predicate,I,U.reifiedStatementId);for(let F=0;F<U.predicateSubPredicates.length;F++)this.emitTriple(I,U.predicateSubPredicates[F],U.predicateSubObjects[F],null)}}else this.emitTriple(U.subject,U.predicate,this.dataFactory.literal(U.text||"",U.datatype||U.language),U.reifiedStatementId)}onDoctype(U){U.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(I,F,J)=>(this.saxStream._parser.ENTITIES[F]=J,""))}}var y,M;K.RdfXmlParser=g,g.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*):[^ "<>{}|\\\[\]`]*$/,g.MIME_TYPE="application/rdf+xml",g.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",g.XML="http://www.w3.org/XML/1998/namespace",g.XMLNS="http://www.w3.org/2000/xmlns/",g.DEFAULT_NS={xml:g.XML},g.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],g.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],g.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,(M=y=K.ParseType||(K.ParseType={}))[M.RESOURCE=0]="RESOURCE",M[M.PROPERTY=1]="PROPERTY"},9987:(ee,K,m)=>{"use strict";const{SymbolDispose:S}=m(6305),{AbortError:b,codes:D}=m(4370),{isNodeStream:C,isWebStream:O,kControllerErrorFunction:g}=m(5428),y=m(4618),{ERR_INVALID_ARG_TYPE:M}=D;let U;ee.exports.addAbortSignal=function(J,E){if(((F,J)=>{if("object"!=typeof F||!("aborted"in F))throw new M("signal","AbortSignal",F)})(J),!C(E)&&!O(E))throw new M("stream",["ReadableStream","WritableStream","Stream"],E);return ee.exports.addAbortSignalNoValidate(J,E)},ee.exports.addAbortSignalNoValidate=function(F,J){if("object"!=typeof F||!("aborted"in F))return J;const E=C(J)?()=>{J.destroy(new b(void 0,{cause:F.reason}))}:()=>{J[g](new b(void 0,{cause:F.reason}))};if(F.aborted)E();else{U=U||m(2656).addAbortListener;const L=U(F,E);y(J,L[S])}return J}},2960:(ee,K,m)=>{"use strict";const{StringPrototypeSlice:S,SymbolIterator:b,TypedArrayPrototypeSet:D,Uint8Array:C}=m(6305),{Buffer:O}=m(1657),{inspect:g}=m(2656);ee.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(M){const U={data:M,next:null};this.length>0?this.tail.next=U:this.head=U,this.tail=U,++this.length}unshift(M){const U={data:M,next:this.head};0===this.length&&(this.tail=U),this.head=U,++this.length}shift(){if(0===this.length)return;const M=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,M}clear(){this.head=this.tail=null,this.length=0}join(M){if(0===this.length)return"";let U=this.head,I=""+U.data;for(;null!==(U=U.next);)I+=M+U.data;return I}concat(M){if(0===this.length)return O.alloc(0);const U=O.allocUnsafe(M>>>0);let I=this.head,F=0;for(;I;)D(U,I.data,F),F+=I.data.length,I=I.next;return U}consume(M,U){const I=this.head.data;if(M<I.length){const F=I.slice(0,M);return this.head.data=I.slice(M),F}return M===I.length?this.shift():U?this._getString(M):this._getBuffer(M)}first(){return this.head.data}*[b](){for(let M=this.head;M;M=M.next)yield M.data}_getString(M){let U="",I=this.head,F=0;do{const J=I.data;if(!(M>J.length)){M===J.length?(U+=J,++F,this.head=I.next?I.next:this.tail=null):(U+=S(J,0,M),this.head=I,I.data=S(J,M));break}U+=J,M-=J.length,++F}while(null!==(I=I.next));return this.length-=F,U}_getBuffer(M){const U=O.allocUnsafe(M),I=M;let F=this.head,J=0;do{const E=F.data;if(!(M>E.length)){M===E.length?(D(U,E,I-M),++J,this.head=F.next?F.next:this.tail=null):(D(U,new C(E.buffer,E.byteOffset,M),I-M),this.head=F,F.data=E.slice(M));break}D(U,E,I-M),M-=E.length,++J}while(null!==(F=F.next));return this.length-=J,U}[Symbol.for("nodejs.util.inspect.custom")](M,U){return g(this,{...U,depth:0,customInspect:!1})}}},7721:(ee,K,m)=>{"use strict";var S=m(7156).default;const{pipeline:b}=m(4514),D=m(5931),{destroyer:C}=m(5601),{isNodeStream:O,isReadable:g,isWritable:y,isWebStream:M,isTransformStream:U,isWritableStream:I,isReadableStream:F}=m(5428),{AbortError:J,codes:{ERR_INVALID_ARG_VALUE:E,ERR_MISSING_ARGS:L}}=m(4370),ae=m(4618);ee.exports=function(...q){if(0===q.length)throw new L("streams");if(1===q.length)return D.from(q[0]);const Z=[...q];if("function"==typeof q[0]&&(q[0]=D.from(q[0])),"function"==typeof q[q.length-1]){const Oe=q.length-1;q[Oe]=D.from(q[Oe])}for(let Oe=0;Oe<q.length;++Oe)if(O(q[Oe])||M(q[Oe])){if(Oe<q.length-1&&!(g(q[Oe])||F(q[Oe])||U(q[Oe])))throw new E(`streams[${Oe}]`,Z[Oe],"must be readable");if(Oe>0&&!(y(q[Oe])||I(q[Oe])||U(q[Oe])))throw new E(`streams[${Oe}]`,Z[Oe],"must be writable")}let G,z,w,R,k;const H=q[0],De=b(q,function le(Oe){const Ne=R;R=null,Ne?Ne(Oe):Oe?k.destroy(Oe):!be&&!ce&&k.destroy()}),ce=!!(y(H)||I(H)||U(H)),be=!!(g(De)||F(De)||U(De));if(k=new D({writableObjectMode:!(null==H||!H.writableObjectMode),readableObjectMode:!(null==De||!De.readableObjectMode),writable:ce,readable:be}),ce){if(O(H))k._write=function(Ne,Qe,Ke){H.write(Ne,Qe)?Ke():G=Ke},k._final=function(Ne){H.end(),z=Ne},H.on("drain",function(){if(G){const Ne=G;G=null,Ne()}});else if(M(H)){const Qe=(U(H)?H.writable:H).getWriter();k._write=function(){var Ke=S(function*(Ie,ze,Te){try{yield Qe.ready,Qe.write(Ie).catch(()=>{}),Te()}catch(Ue){Te(Ue)}});return function(Ie,ze,Te){return Ke.apply(this,arguments)}}(),k._final=function(){var Ke=S(function*(Ie){try{yield Qe.ready,Qe.close().catch(()=>{}),z=Ie}catch(ze){Ie(ze)}});return function(Ie){return Ke.apply(this,arguments)}}()}const Oe=U(De)?De.readable:De;ae(Oe,()=>{if(z){const Ne=z;z=null,Ne()}})}if(be)if(O(De))De.on("readable",function(){if(w){const Oe=w;w=null,Oe()}}),De.on("end",function(){k.push(null)}),k._read=function(){for(;;){const Oe=De.read();if(null===Oe)return void(w=k._read);if(!k.push(Oe))return}};else if(M(De)){const Ne=(U(De)?De.readable:De).getReader();k._read=S(function*(){for(;;)try{const{value:Qe,done:Ke}=yield Ne.read();if(!k.push(Qe))return;if(Ke)return void k.push(null)}catch{return}})}return k._destroy=function(Oe,Ne){!Oe&&null!==R&&(Oe=new J),w=null,G=null,z=null,null===R?Ne(Oe):(R=Ne,O(De)&&C(De,Oe))},k}},5601:(ee,K,m)=>{"use strict";const S=m(42),{aggregateTwoErrors:b,codes:{ERR_MULTIPLE_CALLBACK:D},AbortError:C}=m(4370),{Symbol:O}=m(6305),{kIsDestroyed:g,isDestroyed:y,isFinished:M,isServerRequest:U}=m(5428),I=O("kDestroy"),F=O("kConstruct");function J(ce,be,Oe){ce&&(be&&!be.errored&&(be.errored=ce),Oe&&!Oe.errored&&(Oe.errored=ce))}function L(ce,be,Oe){let Ne=!1;function Qe(Ke){if(Ne)return;Ne=!0;const Ie=ce._readableState,ze=ce._writableState;J(Ke,ze,Ie),ze&&(ze.closed=!0),Ie&&(Ie.closed=!0),"function"==typeof Oe&&Oe(Ke),Ke?S.nextTick(ae,ce,Ke):S.nextTick(Y,ce)}try{ce._destroy(be||null,Qe)}catch(Ke){Qe(Ke)}}function ae(ce,be){q(ce,be),Y(ce)}function Y(ce){const be=ce._readableState,Oe=ce._writableState;Oe&&(Oe.closeEmitted=!0),be&&(be.closeEmitted=!0),(null!=Oe&&Oe.emitClose||null!=be&&be.emitClose)&&ce.emit("close")}function q(ce,be){const Oe=ce._readableState,Ne=ce._writableState;null!=Ne&&Ne.errorEmitted||null!=Oe&&Oe.errorEmitted||(Ne&&(Ne.errorEmitted=!0),Oe&&(Oe.errorEmitted=!0),ce.emit("error",be))}function G(ce,be,Oe){const Ne=ce._readableState,Qe=ce._writableState;if(null!=Qe&&Qe.destroyed||null!=Ne&&Ne.destroyed)return this;null!=Ne&&Ne.autoDestroy||null!=Qe&&Qe.autoDestroy?ce.destroy(be):be&&(Qe&&!Qe.errored&&(Qe.errored=be),Ne&&!Ne.errored&&(Ne.errored=be),Oe?S.nextTick(q,ce,be):q(ce,be))}function w(ce){let be=!1;function Oe(Ne){if(be)return void G(ce,Ne??new D);be=!0;const Qe=ce._readableState,Ke=ce._writableState,Ie=Ke||Qe;Qe&&(Qe.constructed=!0),Ke&&(Ke.constructed=!0),Ie.destroyed?ce.emit(I,Ne):Ne?G(ce,Ne,!0):S.nextTick(R,ce)}try{ce._construct(Ne=>{S.nextTick(Oe,Ne)})}catch(Ne){S.nextTick(Oe,Ne)}}function R(ce){ce.emit(F)}function k(ce){return ce?.setHeader&&"function"==typeof ce.abort}function le(ce){ce.emit("close")}function H(ce,be){ce.emit("error",be),S.nextTick(le,ce)}ee.exports={construct:function z(ce,be){if("function"!=typeof ce._construct)return;const Oe=ce._readableState,Ne=ce._writableState;Oe&&(Oe.constructed=!1),Ne&&(Ne.constructed=!1),ce.once(F,be),!(ce.listenerCount(F)>1)&&S.nextTick(w,ce)},destroyer:function De(ce,be){!ce||y(ce)||(!be&&!M(ce)&&(be=new C),U(ce)?(ce.socket=null,ce.destroy(be)):k(ce)?ce.abort():k(ce.req)?ce.req.abort():"function"==typeof ce.destroy?ce.destroy(be):"function"==typeof ce.close?ce.close():be?S.nextTick(H,ce,be):S.nextTick(le,ce),ce.destroyed||(ce[g]=!0))},destroy:function E(ce,be){const Oe=this._readableState,Ne=this._writableState,Qe=Ne||Oe;return null!=Ne&&Ne.destroyed||null!=Oe&&Oe.destroyed?("function"==typeof be&&be(),this):(J(ce,Ne,Oe),Ne&&(Ne.destroyed=!0),Oe&&(Oe.destroyed=!0),Qe.constructed?L(this,ce,be):this.once(I,function(Ke){L(this,b(Ke,ce),be)}),this)},undestroy:function Z(){const ce=this._readableState,be=this._writableState;ce&&(ce.constructed=!0,ce.closed=!1,ce.closeEmitted=!1,ce.destroyed=!1,ce.errored=null,ce.errorEmitted=!1,ce.reading=!1,ce.ended=!1===ce.readable,ce.endEmitted=!1===ce.readable),be&&(be.constructed=!0,be.destroyed=!1,be.closed=!1,be.closeEmitted=!1,be.errored=null,be.errorEmitted=!1,be.finalCalled=!1,be.prefinished=!1,be.ended=!1===be.writable,be.ending=!1===be.writable,be.finished=!1===be.writable)},errorOrDestroy:G}},5931:(ee,K,m)=>{"use strict";const{ObjectDefineProperties:S,ObjectGetOwnPropertyDescriptor:b,ObjectKeys:D,ObjectSetPrototypeOf:C}=m(6305);ee.exports=y;const O=m(8383),g=m(9764);C(y.prototype,O.prototype),C(y,O);{const F=D(g.prototype);for(let J=0;J<F.length;J++){const E=F[J];y.prototype[E]||(y.prototype[E]=g.prototype[E])}}function y(F){if(!(this instanceof y))return new y(F);O.call(this,F),g.call(this,F),F?(this.allowHalfOpen=!1!==F.allowHalfOpen,!1===F.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===F.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let M,I;function U(){return void 0===M&&(M={}),M}S(y.prototype,{writable:{__proto__:null,...b(g.prototype,"writable")},writableHighWaterMark:{__proto__:null,...b(g.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...b(g.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...b(g.prototype,"writableBuffer")},writableLength:{__proto__:null,...b(g.prototype,"writableLength")},writableFinished:{__proto__:null,...b(g.prototype,"writableFinished")},writableCorked:{__proto__:null,...b(g.prototype,"writableCorked")},writableEnded:{__proto__:null,...b(g.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...b(g.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(F){this._readableState&&this._writableState&&(this._readableState.destroyed=F,this._writableState.destroyed=F)}}}),y.fromWeb=function(F,J){return U().newStreamDuplexFromReadableWritablePair(F,J)},y.toWeb=function(F){return U().newReadableWritablePairFromDuplex(F)},y.from=function(F){return I||(I=m(8078)),I(F,"body")}},8078:(ee,K,m)=>{var S=m(7156).default,b=m(6737).default,D=m(8186).default;const C=m(42),O=m(1657),{isReadable:g,isWritable:y,isIterable:M,isNodeStream:U,isReadableNodeStream:I,isWritableNodeStream:F,isDuplexNodeStream:J,isReadableStream:E,isWritableStream:L}=m(5428),ae=m(4618),{AbortError:Y,codes:{ERR_INVALID_ARG_TYPE:q,ERR_INVALID_RETURN_VALUE:Z}}=m(4370),{destroyer:G}=m(5601),z=m(5931),w=m(8383),R=m(9764),{createDeferredPromise:k}=m(2656),le=m(55),H=globalThis.Blob||O.Blob,De=typeof H<"u"?function(Ie){return Ie instanceof H}:function(Ie){return!1},ce=globalThis.AbortController||m(3982).AbortController,{FunctionPrototypeCall:be}=m(6305);class Oe extends z{constructor(Ie){super(Ie),!1===Ie?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===Ie?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function Qe(Ke){const Ie=Ke.readable&&"function"!=typeof Ke.readable.read?w.wrap(Ke.readable):Ke.readable,ze=Ke.writable;let ue,Ae,rt,pt,Je,Te=!!g(Ie),Ue=!!y(ze);function me(B){const T=pt;pt=null,T?T(B):B&&Je.destroy(B)}return Je=new Oe({readableObjectMode:!(null==Ie||!Ie.readableObjectMode),writableObjectMode:!(null==ze||!ze.writableObjectMode),readable:Te,writable:Ue}),Ue&&(ae(ze,B=>{Ue=!1,B&&G(Ie,B),me(B)}),Je._write=function(B,T,se){ze.write(B,T)?se():ue=se},Je._final=function(B){ze.end(),Ae=B},ze.on("drain",function(){if(ue){const B=ue;ue=null,B()}}),ze.on("finish",function(){if(Ae){const B=Ae;Ae=null,B()}})),Te&&(ae(Ie,B=>{Te=!1,B&&G(Ie,B),me(B)}),Ie.on("readable",function(){if(rt){const B=rt;rt=null,B()}}),Ie.on("end",function(){Je.push(null)}),Je._read=function(){for(;;){const B=Ie.read();if(null===B)return void(rt=Je._read);if(!Je.push(B))return}}),Je._destroy=function(B,T){!B&&null!==pt&&(B=new Y),rt=null,ue=null,Ae=null,null===pt?T(B):(pt=T,G(ze,B),G(Ie,B))},Je}ee.exports=function Ke(Ie,ze){if(J(Ie))return Ie;if(I(Ie))return Qe({readable:Ie});if(F(Ie))return Qe({writable:Ie});if(U(Ie))return Qe({writable:!1,readable:!1});if(E(Ie))return Qe({readable:w.fromWeb(Ie)});if(L(Ie))return Qe({writable:R.fromWeb(Ie)});if("function"==typeof Ie){const{value:Ue,write:ue,final:Ae,destroy:rt}=function Ne(Ke){let{promise:Ie,resolve:ze}=k();const Te=new ce,Ue=Te.signal;return{value:Ke(D(function*(){for(;;){const Ae=Ie;Ie=null;const{chunk:rt,done:pt,cb:Je}=yield b(Ae);if(C.nextTick(Je),pt)return;if(Ue.aborted)throw new Y(void 0,{cause:Ue.reason});({promise:Ie,resolve:ze}=k()),yield rt}})(),{signal:Ue}),write(Ae,rt,pt){const Je=ze;ze=null,Je({chunk:Ae,done:!1,cb:pt})},final(Ae){const rt=ze;ze=null,rt({done:!0,cb:Ae})},destroy(Ae,rt){Te.abort(),rt(Ae)}}}(Ie);if(M(Ue))return le(Oe,Ue,{objectMode:!0,write:ue,final:Ae,destroy:rt});const pt=Ue?.then;if("function"==typeof pt){let Je;const me=be(pt,Ue,B=>{if(null!=B)throw new Z("nully","body",B)},B=>{G(Je,B)});return Je=new Oe({objectMode:!0,readable:!1,write:ue,final(B){Ae(S(function*(){try{yield me,C.nextTick(B,null)}catch(T){C.nextTick(B,T)}}))},destroy:rt})}throw new Z("Iterable, AsyncIterable or AsyncFunction",ze,Ue)}if(De(Ie))return Ke(Ie.arrayBuffer());if(M(Ie))return le(Oe,Ie,{objectMode:!0,writable:!1});if(E(Ie?.readable)&&L(Ie?.writable))return Oe.fromWeb(Ie);if("object"==typeof Ie?.writable||"object"==typeof Ie?.readable)return Qe({readable:null!=Ie&&Ie.readable?I(Ie?.readable)?Ie?.readable:Ke(Ie.readable):void 0,writable:null!=Ie&&Ie.writable?F(Ie?.writable)?Ie?.writable:Ke(Ie.writable):void 0});const Te=Ie?.then;if("function"==typeof Te){let Ue;return be(Te,Ie,ue=>{null!=ue&&Ue.push(ue),Ue.push(null)},ue=>{G(Ue,ue)}),Ue=new Oe({objectMode:!0,writable:!1,read(){}})}throw new q(ze,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Ie)}},4618:(ee,K,m)=>{const S=m(42),{AbortError:b,codes:D}=m(4370),{ERR_INVALID_ARG_TYPE:C,ERR_STREAM_PREMATURE_CLOSE:O}=D,{kEmptyObject:g,once:y}=m(2656),{validateAbortSignal:M,validateFunction:U,validateObject:I,validateBoolean:F}=m(2120),{Promise:J,PromisePrototypeThen:E,SymbolDispose:L}=m(6305),{isClosed:ae,isReadable:Y,isReadableNodeStream:q,isReadableStream:Z,isReadableFinished:G,isReadableErrored:z,isWritable:w,isWritableNodeStream:R,isWritableStream:k,isWritableFinished:le,isWritableErrored:H,isNodeStream:De,willEmitClose:ce,kIsClosedPromise:be}=m(5428);let Oe;const Qe=()=>{};function Ke(Te,Ue,ue){var Ae,rt;if(2===arguments.length?(ue=Ue,Ue=g):null==Ue?Ue=g:I(Ue,"options"),U(ue,"callback"),M(Ue.signal,"options.signal"),ue=y(ue),Z(Te)||k(Te))return function Ie(Te,Ue,ue){let Ae=!1,rt=Qe;if(Ue.signal)if(rt=()=>{Ae=!0,ue.call(Te,new b(void 0,{cause:Ue.signal.reason}))},Ue.signal.aborted)S.nextTick(rt);else{Oe=Oe||m(2656).addAbortListener;const Je=Oe(Ue.signal,rt),me=ue;ue=y((...B)=>{Je[L](),me.apply(Te,B)})}const pt=(...Je)=>{Ae||S.nextTick(()=>ue.apply(Te,Je))};return E(Te[be].promise,pt,pt),Qe}(Te,Ue,ue);if(!De(Te))throw new C("stream",["ReadableStream","WritableStream","Stream"],Te);const pt=null!==(Ae=Ue.readable)&&void 0!==Ae?Ae:q(Te),Je=null!==(rt=Ue.writable)&&void 0!==rt?rt:R(Te),me=Te._writableState,B=Te._readableState,T=()=>{Te.writable||He()};let se=ce(Te)&&q(Te)===pt&&R(Te)===Je,ie=le(Te,!1);const He=()=>{ie=!0,Te.destroyed&&(se=!1),(!se||Te.readable&&!pt)&&(!pt||Ze)&&ue.call(Te)};let Ze=G(Te,!1);const he=()=>{Ze=!0,Te.destroyed&&(se=!1),(!se||Te.writable&&!Je)&&(!Je||ie)&&ue.call(Te)},re=ye=>{ue.call(Te,ye)};let W=ae(Te);const N=()=>{W=!0;const ye=H(Te)||z(Te);return ye&&"boolean"!=typeof ye?ue.call(Te,ye):pt&&!Ze&&q(Te,!0)&&!G(Te,!1)?ue.call(Te,new O):!Je||ie||le(Te,!1)?void ue.call(Te):ue.call(Te,new O)},V=()=>{W=!0;const ye=H(Te)||z(Te);if(ye&&"boolean"!=typeof ye)return ue.call(Te,ye);ue.call(Te)},fe=()=>{Te.req.on("finish",He)};!function Ne(Te){return Te.setHeader&&"function"==typeof Te.abort}(Te)?Je&&!me&&(Te.on("end",T),Te.on("close",T)):(Te.on("complete",He),se||Te.on("abort",N),Te.req?fe():Te.on("request",fe)),!se&&"boolean"==typeof Te.aborted&&Te.on("aborted",N),Te.on("end",he),Te.on("finish",He),!1!==Ue.error&&Te.on("error",re),Te.on("close",N),W?S.nextTick(N):null!=me&&me.errorEmitted||null!=B&&B.errorEmitted?se||S.nextTick(V):(!pt&&(!se||Y(Te))&&(ie||!1===w(Te))||!Je&&(!se||w(Te))&&(Ze||!1===Y(Te))||B&&Te.req&&Te.aborted)&&S.nextTick(V);const We=()=>{ue=Qe,Te.removeListener("aborted",N),Te.removeListener("complete",He),Te.removeListener("abort",N),Te.removeListener("request",fe),Te.req&&Te.req.removeListener("finish",He),Te.removeListener("end",T),Te.removeListener("close",T),Te.removeListener("finish",He),Te.removeListener("end",he),Te.removeListener("error",re),Te.removeListener("close",N)};if(Ue.signal&&!W){const ye=()=>{const je=ue;We(),je.call(Te,new b(void 0,{cause:Ue.signal.reason}))};if(Ue.signal.aborted)S.nextTick(ye);else{Oe=Oe||m(2656).addAbortListener;const je=Oe(Ue.signal,ye),at=ue;ue=y((...vt)=>{je[L](),at.apply(Te,vt)})}}return We}ee.exports=Ke,ee.exports.finished=function ze(Te,Ue){var ue;let Ae=!1;return null===Ue&&(Ue=g),null!==(ue=Ue)&&void 0!==ue&&ue.cleanup&&(F(Ue.cleanup,"cleanup"),Ae=Ue.cleanup),new J((rt,pt)=>{const Je=Ke(Te,Ue,me=>{Ae&&Je(),me?pt(me):rt()})})}},55:(ee,K,m)=>{"use strict";var S=m(7156).default;const b=m(42),{PromisePrototypeThen:D,SymbolAsyncIterator:C,SymbolIterator:O}=m(6305),{Buffer:g}=m(1657),{ERR_INVALID_ARG_TYPE:y,ERR_STREAM_NULL_VALUES:M}=m(4370).codes;ee.exports=function U(I,F,J){let E,L;if("string"==typeof F||F instanceof g)return new I({objectMode:!0,...J,read(){this.push(F),this.push(null)}});if(F&&F[C])L=!0,E=F[C]();else{if(!F||!F[O])throw new y("iterable",["Iterable"],F);L=!1,E=F[O]()}const ae=new I({objectMode:!0,highWaterMark:1,...J});let Y=!1;function Z(){return(Z=S(function*(w){if(null!=w&&"function"==typeof E.throw){const{value:le,done:H}=yield E.throw(w);if(yield le,H)return}if("function"==typeof E.return){const{value:le}=yield E.return();yield le}})).apply(this,arguments)}function z(){return(z=S(function*(){for(;;){try{const{value:w,done:R}=L?yield E.next():E.next();if(R)ae.push(null);else{const k=w&&"function"==typeof w.then?yield w:w;if(null===k)throw Y=!1,new M;if(ae.push(k))continue;Y=!1}}catch(w){ae.destroy(w)}break}})).apply(this,arguments)}return ae._read=function(){Y||(Y=!0,function G(){z.apply(this,arguments)}())},ae._destroy=function(w,R){D(function q(w){return Z.apply(this,arguments)}(w),()=>b.nextTick(R,w),k=>b.nextTick(R,k||w))},ae}},900:(ee,K,m)=>{"use strict";const{ArrayIsArray:S,ObjectSetPrototypeOf:b}=m(6305),{EventEmitter:D}=m(2016);function C(g){D.call(this,g)}function O(g,y,M){if("function"==typeof g.prependListener)return g.prependListener(y,M);g._events&&g._events[y]?S(g._events[y])?g._events[y].unshift(M):g._events[y]=[M,g._events[y]]:g.on(y,M)}b(C.prototype,D.prototype),b(C,D),C.prototype.pipe=function(g,y){const M=this;function U(Y){g.writable&&!1===g.write(Y)&&M.pause&&M.pause()}function I(){M.readable&&M.resume&&M.resume()}M.on("data",U),g.on("drain",I),!g._isStdio&&(!y||!1!==y.end)&&(M.on("end",J),M.on("close",E));let F=!1;function J(){F||(F=!0,g.end())}function E(){F||(F=!0,"function"==typeof g.destroy&&g.destroy())}function L(Y){ae(),0===D.listenerCount(this,"error")&&this.emit("error",Y)}function ae(){M.removeListener("data",U),g.removeListener("drain",I),M.removeListener("end",J),M.removeListener("close",E),M.removeListener("error",L),g.removeListener("error",L),M.removeListener("end",ae),M.removeListener("close",ae),g.removeListener("close",ae)}return O(M,"error",L),O(g,"error",L),M.on("end",ae),M.on("close",ae),g.on("close",ae),g.emit("pipe",M),g},ee.exports={Stream:C,prependListener:O}},7624:(ee,K,m)=>{"use strict";var S=m(7156).default,b=m(8131).default,D=m(8237).default,C=m(6737).default,O=m(8186).default;const g=globalThis.AbortController||m(3982).AbortController,{codes:{ERR_INVALID_ARG_VALUE:y,ERR_INVALID_ARG_TYPE:M,ERR_MISSING_ARGS:U,ERR_OUT_OF_RANGE:I},AbortError:F}=m(4370),{validateAbortSignal:J,validateInteger:E,validateObject:L}=m(2120),ae=m(6305).Symbol("kWeak"),Y=m(6305).Symbol("kResistStopPropagation"),{finished:q}=m(4618),Z=m(7721),{addAbortSignalNoValidate:G}=m(9987),{isWritable:z,isNodeStream:w}=m(5428),{deprecate:R}=m(2656),{ArrayPrototypePush:k,Boolean:le,MathFloor:H,Number:De,NumberIsNaN:ce,Promise:be,PromiseReject:Oe,PromiseResolve:Ne,PromisePrototypeThen:Qe,Symbol:Ke}=m(6305),Ie=Ke("kEmpty"),ze=Ke("kEof");function Ue(ye,je){if("function"!=typeof ye)throw new M("fn",["Function","AsyncFunction"],ye);null!=je&&L(je,"options"),null!=je?.signal&&J(je.signal,"options.signal");let at=1;null!=je?.concurrency&&(at=H(je.concurrency));let vt=at-1;return null!=je?.highWaterMark&&(vt=H(je.highWaterMark)),E(at,"options.concurrency",1),E(vt,"options.highWaterMark",0),vt+=at,function(){var wt=O(function*(){const dn=m(2656).AbortSignalAny([je?.signal].filter(le)),ge=this,$=[],oe={signal:dn};let Le,it,ut=!1,Tt=0;function An(){ut=!0,Kn()}function Kn(){Tt-=1,ni()}function ni(){it&&!ut&&Tt<at&&$.length<vt&&(it(),it=null)}function qn(){return(qn=S(function*(){try{var Or,ur=!1,Ta=!1;try{for(var rs,is=D(ge);ur=!(rs=yield is.next()).done;ur=!1){let ar=rs.value;if(ut)return;if(dn.aborted)throw new F;try{if(ar=ye(ar,oe),ar===Ie)continue;ar=Ne(ar)}catch(os){ar=Oe(os)}Tt+=1,Qe(ar,Kn,An),$.push(ar),Le&&(Le(),Le=null),!ut&&($.length>=vt||Tt>=at)&&(yield new be(os=>{it=os}))}}catch(ar){Ta=!0,Or=ar}finally{try{ur&&null!=is.return&&(yield is.return())}finally{if(Ta)throw Or}}$.push(ze)}catch(ar){const os=Oe(ar);Qe(os,Kn,An),$.push(os)}finally{ut=!0,Le&&(Le(),Le=null)}})).apply(this,arguments)}!function jn(){qn.apply(this,arguments)}();try{for(;;){for(;$.length>0;){const ur=yield C($[0]);if(ur===ze)return;if(dn.aborted)throw new F;ur!==Ie&&(yield ur),$.shift(),ni()}yield C(new be(ur=>{Le=ur}))}}finally{ut=!0,it&&(it(),it=null)}});return function At(){return wt.apply(this,arguments)}}().call(this)}function Ae(ye){return rt.apply(this,arguments)}function rt(){return(rt=S(function*(ye,je=void 0){var wt,at=!1,vt=!1;try{for(var At=D(ie.call(this,ye,je));at=!(yield At.next()).done;at=!1)return!0}catch(ge){vt=!0,wt=ge}finally{try{at&&null!=At.return&&(yield At.return())}finally{if(vt)throw wt}}return!1})).apply(this,arguments)}function Je(){return(Je=S(function*(ye,je=void 0){if("function"!=typeof ye)throw new M("fn",["Function","AsyncFunction"],ye);return!(yield Ae.call(this,S(function*(...at){return!(yield ye(...at))}),je))})).apply(this,arguments)}function B(){return(B=S(function*(ye,je){var wt,at=!1,vt=!1;try{for(var dn,At=D(ie.call(this,ye,je));at=!(dn=yield At.next()).done;at=!1)return dn.value}catch(ge){vt=!0,wt=ge}finally{try{at&&null!=At.return&&(yield At.return())}finally{if(vt)throw wt}}})).apply(this,arguments)}function se(){return se=S(function*(ye,je){if("function"!=typeof ye)throw new M("fn",["Function","AsyncFunction"],ye);function vt(){return(vt=S(function*(oe,Le){return yield ye(oe,Le),Ie})).apply(this,arguments)}var dn,wt=!1,At=!1;try{for(var ge=D(Ue.call(this,function at(oe,Le){return vt.apply(this,arguments)},je));wt=!(yield ge.next()).done;wt=!1);}catch(oe){At=!0,dn=oe}finally{try{wt&&null!=ge.return&&(yield ge.return())}finally{if(At)throw dn}}}),se.apply(this,arguments)}function ie(ye,je){if("function"!=typeof ye)throw new M("fn",["Function","AsyncFunction"],ye);function vt(){return(vt=S(function*(wt,At){return(yield ye(wt,At))?wt:Ie})).apply(this,arguments)}return Ue.call(this,function at(wt,At){return vt.apply(this,arguments)},je)}class He extends U{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function he(){return he=S(function*(ye,je,at){var vt;if("function"!=typeof ye)throw new M("reducer",["Function","AsyncFunction"],ye);null!=at&&L(at,"options"),null!=at?.signal&&J(at.signal,"options.signal");let wt=arguments.length>1;if(null!=at&&null!==(vt=at.signal)&&void 0!==vt&&vt.aborted){const An=new F(void 0,{cause:at.signal.reason});throw this.once("error",()=>{}),yield q(this.destroy(An)),An}const At=new g,dn=At.signal;null!=at&&at.signal&&at.signal.addEventListener("abort",()=>At.abort(),{once:!0,[ae]:this,[Y]:!0});let ge=!1;try{var Le,$=!1,oe=!1;try{for(var ut,it=D(this);$=!(ut=yield it.next()).done;$=!1){const An=ut.value;var Tt;if(ge=!0,null!=at&&null!==(Tt=at.signal)&&void 0!==Tt&&Tt.aborted)throw new F;wt?je=yield ye(je,An,{signal:dn}):(je=An,wt=!0)}}catch(An){oe=!0,Le=An}finally{try{$&&null!=it.return&&(yield it.return())}finally{if(oe)throw Le}}if(!ge&&!wt)throw new He}finally{At.abort()}return je}),he.apply(this,arguments)}function W(){return(W=S(function*(ye){null!=ye&&L(ye,"options"),null!=ye?.signal&&J(ye.signal,"options.signal");const je=[];var wt,at=!1,vt=!1;try{for(var dn,At=D(this);at=!(dn=yield At.next()).done;at=!1){const $=dn.value;var ge;if(null!=ye&&null!==(ge=ye.signal)&&void 0!==ge&&ge.aborted)throw new F(void 0,{cause:ye.signal.reason});k(je,$)}}catch($){vt=!0,wt=$}finally{try{at&&null!=At.return&&(yield At.return())}finally{if(vt)throw wt}}return je})).apply(this,arguments)}function V(ye){if(ye=De(ye),ce(ye))return 0;if(ye<0)throw new I("number",">= 0",ye);return ye}ee.exports.streamReturningOperators={asIndexedPairs:R(function ue(ye=void 0){return null!=ye&&L(ye,"options"),null!=ye?.signal&&J(ye.signal,"options.signal"),function(){var je=O(function*(){let vt=0;var dn,wt=!1,At=!1;try{for(var $,ge=D(this);wt=!($=yield C(ge.next())).done;wt=!1){const Le=$.value;var oe;if(null!=ye&&null!==(oe=ye.signal)&&void 0!==oe&&oe.aborted)throw new F({cause:ye.signal.reason});yield[vt++,Le]}}catch(Le){At=!0,dn=Le}finally{try{wt&&null!=ge.return&&(yield C(ge.return()))}finally{if(At)throw dn}}});return function at(){return je.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function fe(ye,je=void 0){return null!=je&&L(je,"options"),null!=je?.signal&&J(je.signal,"options.signal"),ye=V(ye),function(){var at=O(function*(){var wt;if(null!=je&&null!==(wt=je.signal)&&void 0!==wt&&wt.aborted)throw new F;var ge,At=!1,dn=!1;try{for(var oe,$=D(this);At=!(oe=yield C($.next())).done;At=!1){const it=oe.value;var Le;if(null!=je&&null!==(Le=je.signal)&&void 0!==Le&&Le.aborted)throw new F;ye--<=0&&(yield it)}}catch(it){dn=!0,ge=it}finally{try{At&&null!=$.return&&(yield C($.return()))}finally{if(dn)throw ge}}});return function vt(){return at.apply(this,arguments)}}().call(this)},filter:ie,flatMap:function N(ye,je){const at=Ue.call(this,ye,je);return function(){var vt=O(function*(){var ge,At=!1,dn=!1;try{for(var oe,$=D(at);At=!(oe=yield C($.next())).done;At=!1){const Le=oe.value;yield*b(D(Le),C)}}catch(Le){dn=!0,ge=Le}finally{try{At&&null!=$.return&&(yield C($.return()))}finally{if(dn)throw ge}}});return function wt(){return vt.apply(this,arguments)}}().call(this)},map:Ue,take:function We(ye,je=void 0){return null!=je&&L(je,"options"),null!=je?.signal&&J(je.signal,"options.signal"),ye=V(ye),function(){var at=O(function*(){var wt;if(null!=je&&null!==(wt=je.signal)&&void 0!==wt&&wt.aborted)throw new F;var ge,At=!1,dn=!1;try{for(var oe,$=D(this);At=!(oe=yield C($.next())).done;At=!1){const it=oe.value;var Le;if(null!=je&&null!==(Le=je.signal)&&void 0!==Le&&Le.aborted)throw new F;if(ye-- >0&&(yield it),ye<=0)return}}catch(it){dn=!0,ge=it}finally{try{At&&null!=$.return&&(yield C($.return()))}finally{if(dn)throw ge}}});return function vt(){return at.apply(this,arguments)}}().call(this)},compose:function Te(ye,je){if(null!=je&&L(je,"options"),null!=je?.signal&&J(je.signal,"options.signal"),w(ye)&&!z(ye))throw new y("stream",ye,"must be writable");const at=Z(this,ye);return null!=je&&je.signal&&G(je.signal,at),at}},ee.exports.promiseReturningOperators={every:function pt(ye){return Je.apply(this,arguments)},forEach:function T(ye,je){return se.apply(this,arguments)},reduce:function Ze(ye,je,at){return he.apply(this,arguments)},toArray:function re(ye){return W.apply(this,arguments)},some:Ae,find:function me(ye,je){return B.apply(this,arguments)}}},6973:(ee,K,m)=>{"use strict";const{ObjectSetPrototypeOf:S}=m(6305);ee.exports=D;const b=m(123);function D(C){if(!(this instanceof D))return new D(C);b.call(this,C)}S(D.prototype,b.prototype),S(D,b),D.prototype._transform=function(C,O,g){g(null,C)}},4514:(ee,K,m)=>{var S=m(7156).default,b=m(8186).default,D=m(6737).default,C=m(8131).default,O=m(8237).default;const g=m(42),{ArrayIsArray:y,Promise:M,SymbolAsyncIterator:U,SymbolDispose:I}=m(6305),F=m(4618),{once:J}=m(2656),E=m(5601),L=m(5931),{aggregateTwoErrors:ae,codes:{ERR_INVALID_ARG_TYPE:Y,ERR_INVALID_RETURN_VALUE:q,ERR_MISSING_ARGS:Z,ERR_STREAM_DESTROYED:G,ERR_STREAM_PREMATURE_CLOSE:z},AbortError:w}=m(4370),{validateFunction:R,validateAbortSignal:k}=m(2120),{isIterable:le,isReadable:H,isReadableNodeStream:De,isNodeStream:ce,isTransformStream:be,isWebStream:Oe,isReadableStream:Ne,isReadableFinished:Qe}=m(5428),Ke=globalThis.AbortController||m(3982).AbortController;let Ie,ze,Te;function Ue(Ze,he,re){let W=!1;return Ze.on("close",()=>{W=!0}),{destroy:V=>{W||(W=!0,E.destroyer(Ze,V||new G("pipe")))},cleanup:F(Ze,{readable:he,writable:re},V=>{W=!V})}}function Ae(Ze){if(le(Ze))return Ze;if(De(Ze))return function rt(Ze){return pt.apply(this,arguments)}(Ze);throw new Y("val",["Readable","Iterable","AsyncIterable"],Ze)}function pt(){return(pt=b(function*(Ze){ze||(ze=m(8383)),yield*C(O(ze.prototype[U].call(Ze)),D)})).apply(this,arguments)}function Je(Ze,he,re,W){return me.apply(this,arguments)}function me(){return(me=S(function*(Ze,he,re,{end:W}){let N,V=null;const fe=dn=>{if(dn&&(N=dn),V){const ge=V;V=null,ge()}},We=()=>new M((dn,ge)=>{N?ge(N):V=()=>{N?ge(N):dn()}});he.on("drain",fe);const ye=F(he,{readable:!1},fe);try{he.writableNeedDrain&&(yield We());var vt,je=!1,at=!1;try{for(var At,wt=O(Ze);je=!(At=yield wt.next()).done;je=!1)he.write(At.value)||(yield We())}catch(dn){at=!0,vt=dn}finally{try{je&&null!=wt.return&&(yield wt.return())}finally{if(at)throw vt}}W&&(he.end(),yield We()),re()}catch(dn){re(N!==dn?ae(N,dn):dn)}finally{ye(),he.off("drain",fe)}})).apply(this,arguments)}function B(Ze,he,re,W){return T.apply(this,arguments)}function T(){return(T=S(function*(Ze,he,re,{end:W}){be(he)&&(he=he.writable);const N=he.getWriter();try{var We,V=!1,fe=!1;try{for(var je,ye=O(Ze);V=!(je=yield ye.next()).done;V=!1){const at=je.value;yield N.ready,N.write(at).catch(()=>{})}}catch(at){fe=!0,We=at}finally{try{V&&null!=ye.return&&(yield ye.return())}finally{if(fe)throw We}}yield N.ready,W&&(yield N.close()),re()}catch(at){try{yield N.abort(at),re(at)}catch(vt){re(vt)}}})).apply(this,arguments)}function ie(Ze,he,re){if(1===Ze.length&&y(Ze[0])&&(Ze=Ze[0]),Ze.length<2)throw new Z("streams");const W=new Ke,N=W.signal,V=re?.signal,fe=[];function We(){dn(new w)}let ye,je,at;k(V,"options.signal"),Te=Te||m(2656).addAbortListener,V&&(ye=Te(V,We));const vt=[];let ge,wt=0;function At(it){dn(it,0==--wt)}function dn(it,ut){var Tt;if(it&&(!je||"ERR_STREAM_PREMATURE_CLOSE"===je.code)&&(je=it),je||ut){for(;vt.length;)vt.shift()(je);null===(Tt=ye)||void 0===Tt||Tt[I](),W.abort(),ut&&(je||fe.forEach(An=>An()),g.nextTick(he,je,at))}}for(let it=0;it<Ze.length;it++){const ut=Ze[it],Tt=it<Ze.length-1,An=it>0,Kn=Tt||!1!==re?.end,ni=it===Ze.length-1;if(ce(ut)){let jn=function(qn){qn&&"AbortError"!==qn.name&&"ERR_STREAM_PREMATURE_CLOSE"!==qn.code&&At(qn)};if(Kn){const{destroy:qn,cleanup:ur}=Ue(ut,Tt,An);vt.push(qn),H(ut)&&ni&&fe.push(ur)}ut.on("error",jn),H(ut)&&ni&&fe.push(()=>{ut.removeListener("error",jn)})}if(0===it)if("function"==typeof ut){if(ge=ut({signal:N}),!le(ge))throw new q("Iterable, AsyncIterable or Stream","source",ge)}else ge=le(ut)||De(ut)||be(ut)?ut:L.from(ut);else if("function"==typeof ut){var $;if(ge=be(ge)?Ae(null===($=ge)||void 0===$?void 0:$.readable):Ae(ge),ge=ut(ge,{signal:N}),Tt){if(!le(ge,!0))throw new q("AsyncIterable",`transform[${it-1}]`,ge)}else{var oe;Ie||(Ie=m(6973));const jn=new Ie({objectMode:!0}),qn=null===(oe=ge)||void 0===oe?void 0:oe.then;if("function"==typeof qn)wt++,qn.call(ge,Or=>{at=Or,null!=Or&&jn.write(Or),Kn&&jn.end(),g.nextTick(At)},Or=>{jn.destroy(Or),g.nextTick(At,Or)});else if(le(ge,!0))wt++,Je(ge,jn,At,{end:Kn});else{if(!Ne(ge)&&!be(ge))throw new q("AsyncIterable or Promise","destination",ge);wt++,Je(ge.readable||ge,jn,At,{end:Kn})}ge=jn;const{destroy:ur,cleanup:Ta}=Ue(ge,!1,!0);vt.push(ur),ni&&fe.push(Ta)}}else if(ce(ut)){if(De(ge)){wt+=2;const jn=He(ge,ut,At,{end:Kn});H(ut)&&ni&&fe.push(jn)}else if(be(ge)||Ne(ge))wt++,Je(ge.readable||ge,ut,At,{end:Kn});else{if(!le(ge))throw new Y("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ge);wt++,Je(ge,ut,At,{end:Kn})}ge=ut}else if(Oe(ut)){if(De(ge))wt++,B(Ae(ge),ut,At,{end:Kn});else if(Ne(ge)||le(ge))wt++,B(ge,ut,At,{end:Kn});else{if(!be(ge))throw new Y("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ge);wt++,B(ge.readable,ut,At,{end:Kn})}ge=ut}else ge=L.from(ut)}return(null!=N&&N.aborted||null!=V&&V.aborted)&&g.nextTick(We),ge}function He(Ze,he,re,{end:W}){let N=!1;if(he.on("close",()=>{N||re(new z)}),Ze.pipe(he,{end:!1}),W){let fe=function(){N=!0,he.end()};Qe(Ze)?g.nextTick(fe):Ze.once("end",fe)}else re();return F(Ze,{readable:!0,writable:!1},fe=>{const We=Ze._readableState;fe&&"ERR_STREAM_PREMATURE_CLOSE"===fe.code&&We&&We.ended&&!We.errored&&!We.errorEmitted?Ze.once("end",re).once("error",re):re(fe)}),F(he,{readable:!1,writable:!0},re)}ee.exports={pipelineImpl:ie,pipeline:function se(...Ze){return ie(Ze,J(function ue(Ze){return R(Ze[Ze.length-1],"streams[stream.length - 1]"),Ze.pop()}(Ze)))}}},8383:(ee,K,m)=>{var S=m(6737).default,b=m(8186).default;const D=m(42),{ArrayPrototypeIndexOf:C,NumberIsInteger:O,NumberIsNaN:g,NumberParseInt:y,ObjectDefineProperties:M,ObjectKeys:U,ObjectSetPrototypeOf:I,Promise:F,SafeSet:J,SymbolAsyncDispose:E,SymbolAsyncIterator:L,Symbol:ae}=m(6305);ee.exports=At,At.ReadableState=wt;const{EventEmitter:Y}=m(2016),{Stream:q,prependListener:Z}=m(900),{Buffer:G}=m(1657),{addAbortSignal:z}=m(9987),w=m(4618);let R=m(2656).debuglog("stream",Ge=>{R=Ge});const k=m(2960),le=m(5601),{getHighWaterMark:H,getDefaultHighWaterMark:De}=m(8782),{aggregateTwoErrors:ce,codes:{ERR_INVALID_ARG_TYPE:be,ERR_METHOD_NOT_IMPLEMENTED:Oe,ERR_OUT_OF_RANGE:Ne,ERR_STREAM_PUSH_AFTER_EOF:Qe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Ke},AbortError:Ie}=m(4370),{validateObject:ze}=m(2120),Te=ae("kPaused"),{StringDecoder:Ue}=m(2024),ue=m(55);I(At.prototype,q.prototype),I(At,q);const Ae=()=>{},{errorOrDestroy:rt}=le,pt=1,T=16,se=32,ie=64,W=2048,N=4096,ye=65536;function vt(Ge){return{enumerable:!1,get(){return 0!=(this.state&Ge)},set($e){$e?this.state|=Ge:this.state&=~Ge}}}function wt(Ge,$e,nn){"boolean"!=typeof nn&&(nn=$e instanceof m(5931)),this.state=W|N|T|se,Ge&&Ge.objectMode&&(this.state|=pt),nn&&Ge&&Ge.readableObjectMode&&(this.state|=pt),this.highWaterMark=Ge?H(this,Ge,"readableHighWaterMark",nn):De(!1),this.buffer=new k,this.length=0,this.pipes=[],this.flowing=null,this[Te]=null,Ge&&!1===Ge.emitClose&&(this.state&=~W),Ge&&!1===Ge.autoDestroy&&(this.state&=~N),this.errored=null,this.defaultEncoding=Ge&&Ge.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Ge&&Ge.encoding&&(this.decoder=new Ue(Ge.encoding),this.encoding=Ge.encoding)}function At(Ge){if(!(this instanceof At))return new At(Ge);const $e=this instanceof m(5931);this._readableState=new wt(Ge,this,$e),Ge&&("function"==typeof Ge.read&&(this._read=Ge.read),"function"==typeof Ge.destroy&&(this._destroy=Ge.destroy),"function"==typeof Ge.construct&&(this._construct=Ge.construct),Ge.signal&&!$e&&z(Ge.signal,this)),q.call(this,Ge),le.construct(this,()=>{this._readableState.needReadable&&An(this,this._readableState)})}function dn(Ge,$e,nn,sn){R("readableAddChunk",$e);const Mn=Ge._readableState;let Rr;if(Mn.state&pt||("string"==typeof $e?Mn.encoding!==(nn=nn||Mn.defaultEncoding)&&(sn&&Mn.encoding?$e=G.from($e,nn).toString(Mn.encoding):($e=G.from($e,nn),nn="")):$e instanceof G?nn="":q._isUint8Array($e)?($e=q._uint8ArrayToBuffer($e),nn=""):null!=$e&&(Rr=new be("chunk",["string","Buffer","Uint8Array"],$e))),Rr)rt(Ge,Rr);else if(null===$e)Mn.state&=-9,function it(Ge,$e){if(R("onEofChunk"),!$e.ended){if($e.decoder){const nn=$e.decoder.end();nn&&nn.length&&($e.buffer.push(nn),$e.length+=$e.objectMode?1:nn.length)}$e.ended=!0,$e.sync?ut(Ge):($e.needReadable=!1,$e.emittedReadable=!0,Tt(Ge))}}(Ge,Mn);else if(Mn.state&pt||$e&&$e.length>0)if(sn)if(4&Mn.state)rt(Ge,new Ke);else{if(Mn.destroyed||Mn.errored)return!1;ge(Ge,Mn,$e,!0)}else if(Mn.ended)rt(Ge,new Qe);else{if(Mn.destroyed||Mn.errored)return!1;Mn.state&=-9,Mn.decoder&&!nn?($e=Mn.decoder.write($e),Mn.objectMode||0!==$e.length?ge(Ge,Mn,$e,!1):An(Ge,Mn)):ge(Ge,Mn,$e,!1)}else sn||(Mn.state&=-9,An(Ge,Mn));return!Mn.ended&&(Mn.length<Mn.highWaterMark||0===Mn.length)}function ge(Ge,$e,nn,sn){$e.flowing&&0===$e.length&&!$e.sync&&Ge.listenerCount("data")>0?($e.state&ye?$e.awaitDrainWriters.clear():$e.awaitDrainWriters=null,$e.dataEmitted=!0,Ge.emit("data",nn)):($e.length+=$e.objectMode?1:nn.length,sn?$e.buffer.unshift(nn):$e.buffer.push(nn),$e.state&ie&&ut(Ge)),An(Ge,$e)}function Le(Ge,$e){return Ge<=0||0===$e.length&&$e.ended?0:$e.state&pt?1:g(Ge)?$e.flowing&&$e.length?$e.buffer.first().length:$e.length:Ge<=$e.length?Ge:$e.ended?$e.length:0}function ut(Ge){const $e=Ge._readableState;R("emitReadable",$e.needReadable,$e.emittedReadable),$e.needReadable=!1,$e.emittedReadable||(R("emitReadable",$e.flowing),$e.emittedReadable=!0,D.nextTick(Tt,Ge))}function Tt(Ge){const $e=Ge._readableState;R("emitReadable_",$e.destroyed,$e.length,$e.ended),!$e.destroyed&&!$e.errored&&($e.length||$e.ended)&&(Ge.emit("readable"),$e.emittedReadable=!1),$e.needReadable=!$e.flowing&&!$e.ended&&$e.length<=$e.highWaterMark,Or(Ge)}function An(Ge,$e){!$e.readingMore&&$e.constructed&&($e.readingMore=!0,D.nextTick(Kn,Ge,$e))}function Kn(Ge,$e){for(;!$e.reading&&!$e.ended&&($e.length<$e.highWaterMark||$e.flowing&&0===$e.length);){const nn=$e.length;if(R("maybeReadMore read 0"),Ge.read(0),nn===$e.length)break}$e.readingMore=!1}function jn(Ge){const $e=Ge._readableState;$e.readableListening=Ge.listenerCount("readable")>0,$e.resumeScheduled&&!1===$e[Te]?$e.flowing=!0:Ge.listenerCount("data")>0?Ge.resume():$e.readableListening||($e.flowing=null)}function qn(Ge){R("readable nexttick read 0"),Ge.read(0)}function Ta(Ge,$e){R("resume",$e.reading),$e.reading||Ge.read(0),$e.resumeScheduled=!1,Ge.emit("resume"),Or(Ge),$e.flowing&&!$e.reading&&Ge.read(0)}function Or(Ge){const $e=Ge._readableState;for(R("flow",$e.flowing);$e.flowing&&null!==Ge.read(););}function is(Ge,$e){"function"!=typeof Ge.read&&(Ge=At.wrap(Ge,{objectMode:!0}));const nn=function rs(Ge,$e){return ar.apply(this,arguments)}(Ge,$e);return nn.stream=Ge,nn}function ar(){return(ar=b(function*(Ge,$e){let Mn,nn=Ae;function sn(Qt){this===Ge?(nn(),nn=Ae):nn=Qt}Ge.on("readable",sn);const Rr=w(Ge,{writable:!1},Qt=>{Mn=Qt?ce(Mn,Qt):null,nn(),nn=Ae});try{for(;;){const Qt=Ge.destroyed?null:Ge.read();if(null!==Qt)yield Qt;else{if(Mn)throw Mn;if(null===Mn)return;yield S(new F(sn))}}}catch(Qt){throw Mn=ce(Mn,Qt),Mn}finally{!Mn&&!1===$e?.destroyOnReturn||void 0!==Mn&&!Ge._readableState.autoDestroy?(Ge.off("readable",sn),Rr()):le.destroyer(Ge,null)}})).apply(this,arguments)}function os(Ge,$e){if(0===$e.length)return null;let nn;return $e.objectMode?nn=$e.buffer.shift():!Ge||Ge>=$e.length?(nn=$e.decoder?$e.buffer.join(""):1===$e.buffer.length?$e.buffer.first():$e.buffer.concat($e.length),$e.buffer.clear()):nn=$e.buffer.consume(Ge,$e.decoder),nn}function ha(Ge){const $e=Ge._readableState;R("endReadable",$e.endEmitted),$e.endEmitted||($e.ended=!0,D.nextTick(Ol,$e,Ge))}function Ol(Ge,$e){if(R("endReadableNT",Ge.endEmitted,Ge.length),!Ge.errored&&!Ge.closeEmitted&&!Ge.endEmitted&&0===Ge.length)if(Ge.endEmitted=!0,$e.emit("end"),$e.writable&&!1===$e.allowHalfOpen)D.nextTick(xc,$e);else if(Ge.autoDestroy){const nn=$e._writableState;(!nn||nn.autoDestroy&&(nn.finished||!1===nn.writable))&&$e.destroy()}}function xc(Ge){Ge.writable&&!Ge.writableEnded&&!Ge.destroyed&&Ge.end()}let Wo;function Rl(){return void 0===Wo&&(Wo={}),Wo}M(wt.prototype,{objectMode:vt(pt),ended:vt(2),endEmitted:vt(4),reading:vt(8),constructed:vt(T),sync:vt(se),needReadable:vt(ie),emittedReadable:vt(128),readableListening:vt(256),resumeScheduled:vt(512),errorEmitted:vt(1024),emitClose:vt(W),autoDestroy:vt(N),destroyed:vt(8192),closed:vt(16384),closeEmitted:vt(32768),multiAwaitDrain:vt(ye),readingMore:vt(1<<17),dataEmitted:vt(1<<18)}),At.prototype.destroy=le.destroy,At.prototype._undestroy=le.undestroy,At.prototype._destroy=function(Ge,$e){$e(Ge)},At.prototype[Y.captureRejectionSymbol]=function(Ge){this.destroy(Ge)},At.prototype[E]=function(){let Ge;return this.destroyed||(Ge=this.readableEnded?null:new Ie,this.destroy(Ge)),new F(($e,nn)=>w(this,sn=>sn&&sn!==Ge?nn(sn):$e(null)))},At.prototype.push=function(Ge,$e){return dn(this,Ge,$e,!1)},At.prototype.unshift=function(Ge,$e){return dn(this,Ge,$e,!0)},At.prototype.isPaused=function(){const Ge=this._readableState;return!0===Ge[Te]||!1===Ge.flowing},At.prototype.setEncoding=function(Ge){const $e=new Ue(Ge);this._readableState.decoder=$e,this._readableState.encoding=this._readableState.decoder.encoding;const nn=this._readableState.buffer;let sn="";for(const Mn of nn)sn+=$e.write(Mn);return nn.clear(),""!==sn&&nn.push(sn),this._readableState.length=sn.length,this},At.prototype.read=function(Ge){R("read",Ge),void 0===Ge?Ge=NaN:O(Ge)||(Ge=y(Ge,10));const $e=this._readableState,nn=Ge;if(Ge>$e.highWaterMark&&($e.highWaterMark=function oe(Ge){if(Ge>1073741824)throw new Ne("size","<= 1GiB",Ge);return Ge--,Ge|=Ge>>>1,Ge|=Ge>>>2,Ge|=Ge>>>4,Ge|=Ge>>>8,Ge|=Ge>>>16,++Ge}(Ge)),0!==Ge&&($e.state&=-129),0===Ge&&$e.needReadable&&((0!==$e.highWaterMark?$e.length>=$e.highWaterMark:$e.length>0)||$e.ended))return R("read: emitReadable",$e.length,$e.ended),0===$e.length&&$e.ended?ha(this):ut(this),null;if(0===(Ge=Le(Ge,$e))&&$e.ended)return 0===$e.length&&ha(this),null;let Mn,sn=0!=($e.state&ie);if(R("need readable",sn),(0===$e.length||$e.length-Ge<$e.highWaterMark)&&(sn=!0,R("length less than watermark",sn)),$e.ended||$e.reading||$e.destroyed||$e.errored||!$e.constructed)sn=!1,R("reading, ended or constructing",sn);else if(sn){R("do read"),$e.state|=8|se,0===$e.length&&($e.state|=ie);try{this._read($e.highWaterMark)}catch(Rr){rt(this,Rr)}$e.state&=~se,$e.reading||(Ge=Le(nn,$e))}return Mn=Ge>0?os(Ge,$e):null,null===Mn?($e.needReadable=$e.length<=$e.highWaterMark,Ge=0):($e.length-=Ge,$e.multiAwaitDrain?$e.awaitDrainWriters.clear():$e.awaitDrainWriters=null),0===$e.length&&($e.ended||($e.needReadable=!0),nn!==Ge&&$e.ended&&ha(this)),null!==Mn&&!$e.errorEmitted&&!$e.closeEmitted&&($e.dataEmitted=!0,this.emit("data",Mn)),Mn},At.prototype._read=function(Ge){throw new Oe("_read()")},At.prototype.pipe=function(Ge,$e){const nn=this,sn=this._readableState;1===sn.pipes.length&&(sn.multiAwaitDrain||(sn.multiAwaitDrain=!0,sn.awaitDrainWriters=new J(sn.awaitDrainWriters?[sn.awaitDrainWriters]:[]))),sn.pipes.push(Ge),R("pipe count=%d opts=%j",sn.pipes.length,$e);const Rr=$e&&!1===$e.end||Ge===D.stdout||Ge===D.stderr?ji:Ja;function Ja(){R("onend"),Ge.end()}sn.endEmitted?D.nextTick(Rr):nn.once("end",Rr),Ge.on("unpipe",function Qt(Co,Pr){R("onunpipe"),Co===nn&&Pr&&!1===Pr.hasUnpiped&&(Pr.hasUnpiped=!0,function Oi(){R("cleanup"),Ge.removeListener("close",li),Ge.removeListener("finish",$o),tr&&Ge.removeListener("drain",tr),Ge.removeListener("error",Lt),Ge.removeListener("unpipe",Qt),nn.removeListener("end",Ja),nn.removeListener("end",ji),nn.removeListener("data",Vi),Za=!0,tr&&sn.awaitDrainWriters&&(!Ge._writableState||Ge._writableState.needDrain)&&tr()}())});let tr,Za=!1;function si(){Za||(1===sn.pipes.length&&sn.pipes[0]===Ge?(R("false write response, pause",0),sn.awaitDrainWriters=Ge,sn.multiAwaitDrain=!1):sn.pipes.length>1&&sn.pipes.includes(Ge)&&(R("false write response, pause",sn.awaitDrainWriters.size),sn.awaitDrainWriters.add(Ge)),nn.pause()),tr||(tr=function ni(Ge,$e){return function(){const sn=Ge._readableState;sn.awaitDrainWriters===$e?(R("pipeOnDrain",1),sn.awaitDrainWriters=null):sn.multiAwaitDrain&&(R("pipeOnDrain",sn.awaitDrainWriters.size),sn.awaitDrainWriters.delete($e)),(!sn.awaitDrainWriters||0===sn.awaitDrainWriters.size)&&Ge.listenerCount("data")&&Ge.resume()}}(nn,Ge),Ge.on("drain",tr))}function Vi(Co){R("ondata");const Pr=Ge.write(Co);R("dest.write",Pr),!1===Pr&&si()}function Lt(Co){if(R("onerror",Co),ji(),Ge.removeListener("error",Lt),0===Ge.listenerCount("error")){const Pr=Ge._writableState||Ge._readableState;Pr&&!Pr.errorEmitted?rt(Ge,Co):Ge.emit("error",Co)}}function li(){Ge.removeListener("finish",$o),ji()}function $o(){R("onfinish"),Ge.removeListener("close",li),ji()}function ji(){R("unpipe"),nn.unpipe(Ge)}return nn.on("data",Vi),Z(Ge,"error",Lt),Ge.once("close",li),Ge.once("finish",$o),Ge.emit("pipe",nn),!0===Ge.writableNeedDrain?si():sn.flowing||(R("pipe resume"),nn.resume()),Ge},At.prototype.unpipe=function(Ge){const $e=this._readableState;if(0===$e.pipes.length)return this;if(!Ge){const Mn=$e.pipes;$e.pipes=[],this.pause();for(let Rr=0;Rr<Mn.length;Rr++)Mn[Rr].emit("unpipe",this,{hasUnpiped:!1});return this}const sn=C($e.pipes,Ge);return-1===sn||($e.pipes.splice(sn,1),0===$e.pipes.length&&this.pause(),Ge.emit("unpipe",this,{hasUnpiped:!1})),this},At.prototype.addListener=At.prototype.on=function(Ge,$e){const nn=q.prototype.on.call(this,Ge,$e),sn=this._readableState;return"data"===Ge?(sn.readableListening=this.listenerCount("readable")>0,!1!==sn.flowing&&this.resume()):"readable"===Ge&&!sn.endEmitted&&!sn.readableListening&&(sn.readableListening=sn.needReadable=!0,sn.flowing=!1,sn.emittedReadable=!1,R("on readable",sn.length,sn.reading),sn.length?ut(this):sn.reading||D.nextTick(qn,this)),nn},At.prototype.off=At.prototype.removeListener=function(Ge,$e){const nn=q.prototype.removeListener.call(this,Ge,$e);return"readable"===Ge&&D.nextTick(jn,this),nn},At.prototype.removeAllListeners=function(Ge){const $e=q.prototype.removeAllListeners.apply(this,arguments);return("readable"===Ge||void 0===Ge)&&D.nextTick(jn,this),$e},At.prototype.resume=function(){const Ge=this._readableState;return Ge.flowing||(R("resume"),Ge.flowing=!Ge.readableListening,function ur(Ge,$e){$e.resumeScheduled||($e.resumeScheduled=!0,D.nextTick(Ta,Ge,$e))}(this,Ge)),Ge[Te]=!1,this},At.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Te]=!0,this},At.prototype.wrap=function(Ge){let $e=!1;Ge.on("data",sn=>{!this.push(sn)&&Ge.pause&&($e=!0,Ge.pause())}),Ge.on("end",()=>{this.push(null)}),Ge.on("error",sn=>{rt(this,sn)}),Ge.on("close",()=>{this.destroy()}),Ge.on("destroy",()=>{this.destroy()}),this._read=()=>{$e&&Ge.resume&&($e=!1,Ge.resume())};const nn=U(Ge);for(let sn=1;sn<nn.length;sn++){const Mn=nn[sn];void 0===this[Mn]&&"function"==typeof Ge[Mn]&&(this[Mn]=Ge[Mn].bind(Ge))}return this},At.prototype[L]=function(){return is(this)},At.prototype.iterator=function(Ge){return void 0!==Ge&&ze(Ge,"options"),is(this,Ge)},M(At.prototype,{readable:{__proto__:null,get(){const Ge=this._readableState;return!(!Ge||!1===Ge.readable||Ge.destroyed||Ge.errorEmitted||Ge.endEmitted)},set(Ge){this._readableState&&(this._readableState.readable=!!Ge)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ge){this._readableState&&(this._readableState.flowing=Ge)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(Ge){this._readableState&&(this._readableState.destroyed=Ge)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),M(wt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[Te]},set(Ge){this[Te]=!!Ge}}}),At._fromList=os,At.from=function(Ge,$e){return ue(At,Ge,$e)},At.fromWeb=function(Ge,$e){return Rl().newStreamReadableFromReadableStream(Ge,$e)},At.toWeb=function(Ge,$e){return Rl().newReadableStreamFromStreamReadable(Ge,$e)},At.wrap=function(Ge,$e){var nn,sn;return new At({objectMode:null===(nn=null!==(sn=Ge.readableObjectMode)&&void 0!==sn?sn:Ge.objectMode)||void 0===nn||nn,...$e,destroy(Mn,Rr){le.destroyer(Ge,Mn),Rr(Mn)}}).wrap(Ge)}},8782:(ee,K,m)=>{"use strict";const{MathFloor:S,NumberIsInteger:b}=m(6305),{validateInteger:D}=m(2120),{ERR_INVALID_ARG_VALUE:C}=m(4370).codes;let O=16384,g=16;function M(F){return F?g:O}ee.exports={getHighWaterMark:function I(F,J,E,L){const ae=function y(F,J,E){return null!=F.highWaterMark?F.highWaterMark:J?F[E]:null}(J,L,E);if(null!=ae){if(!b(ae)||ae<0)throw new C(L?`options.${E}`:"options.highWaterMark",ae);return S(ae)}return M(F.objectMode)},getDefaultHighWaterMark:M,setDefaultHighWaterMark:function U(F,J){D(J,"value",0),F?g=J:O=J}}},123:(ee,K,m)=>{"use strict";const{ObjectSetPrototypeOf:S,Symbol:b}=m(6305);ee.exports=y;const{ERR_METHOD_NOT_IMPLEMENTED:D}=m(4370).codes,C=m(5931),{getHighWaterMark:O}=m(8782);S(y.prototype,C.prototype),S(y,C);const g=b("kCallback");function y(I){if(!(this instanceof y))return new y(I);const F=I?O(this,I,"readableHighWaterMark",!0):null;0===F&&(I={...I,highWaterMark:null,readableHighWaterMark:F,writableHighWaterMark:I.writableHighWaterMark||0}),C.call(this,I),this._readableState.sync=!1,this[g]=null,I&&("function"==typeof I.transform&&(this._transform=I.transform),"function"==typeof I.flush&&(this._flush=I.flush)),this.on("prefinish",U)}function M(I){"function"!=typeof this._flush||this.destroyed?(this.push(null),I&&I()):this._flush((F,J)=>{F?I?I(F):this.destroy(F):(null!=J&&this.push(J),this.push(null),I&&I())})}function U(){this._final!==M&&M.call(this)}y.prototype._final=M,y.prototype._transform=function(I,F,J){throw new D("_transform()")},y.prototype._write=function(I,F,J){const E=this._readableState,L=this._writableState,ae=E.length;this._transform(I,F,(Y,q)=>{Y?J(Y):(null!=q&&this.push(q),L.ended||ae===E.length||E.length<E.highWaterMark?J():this[g]=J)})},y.prototype._read=function(){if(this[g]){const I=this[g];this[g]=null,I()}}},5428:(ee,K,m)=>{"use strict";const{SymbolAsyncIterator:S,SymbolIterator:b,SymbolFor:D}=m(6305),C=D("nodejs.stream.destroyed"),O=D("nodejs.stream.errored"),g=D("nodejs.stream.readable"),y=D("nodejs.stream.writable"),M=D("nodejs.stream.disturbed"),U=D("nodejs.webstream.isClosedPromise"),I=D("nodejs.webstream.controllerErrorFunction");function F(ue,Ae=!1){var rt;return!(!ue||"function"!=typeof ue.pipe||"function"!=typeof ue.on||Ae&&("function"!=typeof ue.pause||"function"!=typeof ue.resume)||ue._writableState&&!1===(null===(rt=ue._readableState)||void 0===rt?void 0:rt.readable)||ue._writableState&&!ue._readableState)}function J(ue){var Ae;return!(!ue||"function"!=typeof ue.write||"function"!=typeof ue.on||ue._readableState&&!1===(null===(Ae=ue._writableState)||void 0===Ae?void 0:Ae.writable))}function L(ue){return ue&&(ue._readableState||ue._writableState||"function"==typeof ue.write&&"function"==typeof ue.on||"function"==typeof ue.pipe&&"function"==typeof ue.on)}function ae(ue){return!(!ue||L(ue)||"function"!=typeof ue.pipeThrough||"function"!=typeof ue.getReader||"function"!=typeof ue.cancel)}function Y(ue){return!(!ue||L(ue)||"function"!=typeof ue.getWriter||"function"!=typeof ue.abort)}function q(ue){return!(!ue||L(ue)||"object"!=typeof ue.readable||"object"!=typeof ue.writable)}function z(ue){if(!L(ue))return null;const pt=ue._writableState||ue._readableState;return!!(ue.destroyed||ue[C]||null!=pt&&pt.destroyed)}function w(ue){if(!J(ue))return null;if(!0===ue.writableEnded)return!0;const Ae=ue._writableState;return(null==Ae||!Ae.errored)&&("boolean"!=typeof Ae?.ended?null:Ae.ended)}function le(ue,Ae){if(!F(ue))return null;const rt=ue._readableState;return(null==rt||!rt.errored)&&("boolean"!=typeof rt?.endEmitted?null:!!(rt.endEmitted||!1===Ae&&!0===rt.ended&&0===rt.length))}function H(ue){return ue&&null!=ue[g]?ue[g]:"boolean"!=typeof ue?.readable?null:!z(ue)&&F(ue)&&ue.readable&&!le(ue)}function De(ue){return ue&&null!=ue[y]?ue[y]:"boolean"!=typeof ue?.writable?null:!z(ue)&&J(ue)&&ue.writable&&!w(ue)}function Qe(ue){return"boolean"==typeof ue._closed&&"boolean"==typeof ue._defaultKeepAlive&&"boolean"==typeof ue._removedConnection&&"boolean"==typeof ue._removedContLen}function Ke(ue){return"boolean"==typeof ue._sent100&&Qe(ue)}ee.exports={isDestroyed:z,kIsDestroyed:C,isDisturbed:function Te(ue){var Ae;return!(!ue||!(null!==(Ae=ue[M])&&void 0!==Ae?Ae:ue.readableDidRead||ue.readableAborted))},kIsDisturbed:M,isErrored:function Ue(ue){var Ae,rt,pt,Je,me,B,T,se,ie,He;return!(!ue||!(null!==(Ae=null!==(rt=null!==(pt=null!==(Je=null!==(me=null!==(B=ue[O])&&void 0!==B?B:ue.readableErrored)&&void 0!==me?me:ue.writableErrored)&&void 0!==Je?Je:null===(T=ue._readableState)||void 0===T?void 0:T.errorEmitted)&&void 0!==pt?pt:null===(se=ue._writableState)||void 0===se?void 0:se.errorEmitted)&&void 0!==rt?rt:null===(ie=ue._readableState)||void 0===ie?void 0:ie.errored)&&void 0!==Ae?Ae:null!==(He=ue._writableState)&&void 0!==He&&He.errored))},kIsErrored:O,isReadable:H,kIsReadable:g,kIsClosedPromise:U,kControllerErrorFunction:I,kIsWritable:y,isClosed:function Ne(ue){if(!L(ue))return null;if("boolean"==typeof ue.closed)return ue.closed;const Ae=ue._writableState,rt=ue._readableState;return"boolean"==typeof Ae?.closed||"boolean"==typeof rt?.closed?Ae?.closed||rt?.closed:"boolean"==typeof ue._closed&&Qe(ue)?ue._closed:null},isDuplexNodeStream:function E(ue){return!(!ue||"function"!=typeof ue.pipe||!ue._readableState||"function"!=typeof ue.on||"function"!=typeof ue.write)},isFinished:function ce(ue,Ae){return L(ue)?!!z(ue)||!(!1!==Ae?.readable&&H(ue)||!1!==Ae?.writable&&De(ue)):null},isIterable:function G(ue,Ae){return null!=ue&&(!0===Ae?"function"==typeof ue[S]:!1===Ae?"function"==typeof ue[b]:"function"==typeof ue[S]||"function"==typeof ue[b])},isReadableNodeStream:F,isReadableStream:ae,isReadableEnded:function k(ue){if(!F(ue))return null;if(!0===ue.readableEnded)return!0;const Ae=ue._readableState;return!(!Ae||Ae.errored)&&("boolean"!=typeof Ae?.ended?null:Ae.ended)},isReadableFinished:le,isReadableErrored:function Oe(ue){var Ae,rt;return L(ue)?ue.readableErrored?ue.readableErrored:null!==(Ae=null===(rt=ue._readableState)||void 0===rt?void 0:rt.errored)&&void 0!==Ae?Ae:null:null},isNodeStream:L,isWebStream:function Z(ue){return ae(ue)||Y(ue)||q(ue)},isWritable:De,isWritableNodeStream:J,isWritableStream:Y,isWritableEnded:w,isWritableFinished:function R(ue,Ae){if(!J(ue))return null;if(!0===ue.writableFinished)return!0;const rt=ue._writableState;return(null==rt||!rt.errored)&&("boolean"!=typeof rt?.finished?null:!!(rt.finished||!1===Ae&&!0===rt.ended&&0===rt.length))},isWritableErrored:function be(ue){var Ae,rt;return L(ue)?ue.writableErrored?ue.writableErrored:null!==(Ae=null===(rt=ue._writableState)||void 0===rt?void 0:rt.errored)&&void 0!==Ae?Ae:null:null},isServerRequest:function Ie(ue){var Ae;return"boolean"==typeof ue._consuming&&"boolean"==typeof ue._dumped&&void 0===(null===(Ae=ue.req)||void 0===Ae?void 0:Ae.upgradeOrConnect)},isServerResponse:Ke,willEmitClose:function ze(ue){if(!L(ue))return null;const pt=ue._writableState||ue._readableState;return!pt&&Ke(ue)||!!(pt&&pt.autoDestroy&&pt.emitClose&&!1===pt.closed)},isTransformStream:q}},9764:(ee,K,m)=>{const S=m(42),{ArrayPrototypeSlice:b,Error:D,FunctionPrototypeSymbolHasInstance:C,ObjectDefineProperty:O,ObjectDefineProperties:g,ObjectSetPrototypeOf:y,StringPrototypeToLowerCase:M,Symbol:U,SymbolHasInstance:I}=m(6305);ee.exports=Ke,Ke.WritableState=Ne;const{EventEmitter:F}=m(2016),J=m(900).Stream,{Buffer:E}=m(1657),L=m(5601),{addAbortSignal:ae}=m(9987),{getHighWaterMark:Y,getDefaultHighWaterMark:q}=m(8782),{ERR_INVALID_ARG_TYPE:Z,ERR_METHOD_NOT_IMPLEMENTED:G,ERR_MULTIPLE_CALLBACK:z,ERR_STREAM_CANNOT_PIPE:w,ERR_STREAM_DESTROYED:R,ERR_STREAM_ALREADY_FINISHED:k,ERR_STREAM_NULL_VALUES:le,ERR_STREAM_WRITE_AFTER_END:H,ERR_UNKNOWN_ENCODING:De}=m(4370).codes,{errorOrDestroy:ce}=L;function be(){}y(Ke.prototype,J.prototype),y(Ke,J);const Oe=U("kOnFinished");function Ne(re,W,N){"boolean"!=typeof N&&(N=W instanceof m(5931)),this.objectMode=!(!re||!re.objectMode),N&&(this.objectMode=this.objectMode||!(!re||!re.writableObjectMode)),this.highWaterMark=re?Y(this,re,"writableHighWaterMark",N):q(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(re&&!1===re.decodeStrings),this.defaultEncoding=re&&re.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ue.bind(void 0,W),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Qe(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!re||!1!==re.emitClose,this.autoDestroy=!re||!1!==re.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Oe]=[]}function Qe(re){re.buffered=[],re.bufferedIndex=0,re.allBuffers=!0,re.allNoop=!0}function Ke(re){const W=this instanceof m(5931);if(!W&&!C(Ke,this))return new Ke(re);this._writableState=new Ne(re,this,W),re&&("function"==typeof re.write&&(this._write=re.write),"function"==typeof re.writev&&(this._writev=re.writev),"function"==typeof re.destroy&&(this._destroy=re.destroy),"function"==typeof re.final&&(this._final=re.final),"function"==typeof re.construct&&(this._construct=re.construct),re.signal&&ae(re.signal,this)),J.call(this,re),L.construct(this,()=>{const N=this._writableState;N.writing||Je(this,N),se(this,N)})}function Ie(re,W,N,V){const fe=re._writableState;if("function"==typeof N)V=N,N=fe.defaultEncoding;else{if(N){if("buffer"!==N&&!E.isEncoding(N))throw new De(N)}else N=fe.defaultEncoding;"function"!=typeof V&&(V=be)}if(null===W)throw new le;if(!fe.objectMode)if("string"==typeof W)!1!==fe.decodeStrings&&(W=E.from(W,N),N="buffer");else if(W instanceof E)N="buffer";else{if(!J._isUint8Array(W))throw new Z("chunk",["string","Buffer","Uint8Array"],W);W=J._uint8ArrayToBuffer(W),N="buffer"}let We;return fe.ending?We=new H:fe.destroyed&&(We=new R("write")),We?(S.nextTick(V,We),ce(re,We,!0),We):(fe.pendingcb++,function ze(re,W,N,V,fe){const We=W.objectMode?1:N.length;W.length+=We;const ye=W.length<W.highWaterMark;return ye||(W.needDrain=!0),W.writing||W.corked||W.errored||!W.constructed?(W.buffered.push({chunk:N,encoding:V,callback:fe}),W.allBuffers&&"buffer"!==V&&(W.allBuffers=!1),W.allNoop&&fe!==be&&(W.allNoop=!1)):(W.writelen=We,W.writecb=fe,W.writing=!0,W.sync=!0,re._write(N,V,W.onwrite),W.sync=!1),ye&&!W.errored&&!W.destroyed}(re,fe,W,N,V))}function Te(re,W,N,V,fe,We,ye){W.writelen=V,W.writecb=ye,W.writing=!0,W.sync=!0,W.destroyed?W.onwrite(new R("write")):N?re._writev(fe,W.onwrite):re._write(fe,We,W.onwrite),W.sync=!1}function Ue(re,W,N,V){--W.pendingcb,V(N),pt(W),ce(re,N)}function ue(re,W){const N=re._writableState,V=N.sync,fe=N.writecb;"function"==typeof fe?(N.writing=!1,N.writecb=null,N.length-=N.writelen,N.writelen=0,W?(N.errored||(N.errored=W),re._readableState&&!re._readableState.errored&&(re._readableState.errored=W),V?S.nextTick(Ue,re,N,W,fe):Ue(re,N,W,fe)):(N.buffered.length>N.bufferedIndex&&Je(re,N),V?null!==N.afterWriteTickInfo&&N.afterWriteTickInfo.cb===fe?N.afterWriteTickInfo.count++:(N.afterWriteTickInfo={count:1,cb:fe,stream:re,state:N},S.nextTick(Ae,N.afterWriteTickInfo)):rt(re,N,1,fe))):ce(re,new z)}function Ae({stream:re,state:W,count:N,cb:V}){return W.afterWriteTickInfo=null,rt(re,W,N,V)}function rt(re,W,N,V){for(!W.ending&&!re.destroyed&&0===W.length&&W.needDrain&&(W.needDrain=!1,re.emit("drain"));N-- >0;)W.pendingcb--,V();W.destroyed&&pt(W),se(re,W)}function pt(re){if(re.writing)return;for(let fe=re.bufferedIndex;fe<re.buffered.length;++fe){var W;const{chunk:We,callback:ye}=re.buffered[fe];re.length-=re.objectMode?1:We.length,ye(null!==(W=re.errored)&&void 0!==W?W:new R("write"))}const N=re[Oe].splice(0);for(let fe=0;fe<N.length;fe++){var V;N[fe](null!==(V=re.errored)&&void 0!==V?V:new R("end"))}Qe(re)}function Je(re,W){if(W.corked||W.bufferProcessing||W.destroyed||!W.constructed)return;const{buffered:N,bufferedIndex:V,objectMode:fe}=W,We=N.length-V;if(!We)return;let ye=V;if(W.bufferProcessing=!0,We>1&&re._writev){W.pendingcb-=We-1;const je=W.allNoop?be:vt=>{for(let wt=ye;wt<N.length;++wt)N[wt].callback(vt)},at=W.allNoop&&0===ye?N:b(N,ye);at.allBuffers=W.allBuffers,Te(re,W,!0,W.length,at,"",je),Qe(W)}else{do{const{chunk:je,encoding:at,callback:vt}=N[ye];N[ye++]=null,Te(re,W,!1,fe?1:je.length,je,at,vt)}while(ye<N.length&&!W.writing);ye===N.length?Qe(W):ye>256?(N.splice(0,ye),W.bufferedIndex=0):W.bufferedIndex=ye}W.bufferProcessing=!1}function me(re){return re.ending&&!re.destroyed&&re.constructed&&0===re.length&&!re.errored&&0===re.buffered.length&&!re.finished&&!re.writing&&!re.errorEmitted&&!re.closeEmitted}function se(re,W,N){me(W)&&(function T(re,W){!W.prefinished&&!W.finalCalled&&("function"!=typeof re._final||W.destroyed?(W.prefinished=!0,re.emit("prefinish")):(W.finalCalled=!0,function B(re,W){let N=!1;function V(fe){if(N)ce(re,fe??z());else if(N=!0,W.pendingcb--,fe){const We=W[Oe].splice(0);for(let ye=0;ye<We.length;ye++)We[ye](fe);ce(re,fe,W.sync)}else me(W)&&(W.prefinished=!0,re.emit("prefinish"),W.pendingcb++,S.nextTick(ie,re,W))}W.sync=!0,W.pendingcb++;try{re._final(V)}catch(fe){V(fe)}W.sync=!1}(re,W)))}(re,W),0===W.pendingcb&&(N?(W.pendingcb++,S.nextTick((V,fe)=>{me(fe)?ie(V,fe):fe.pendingcb--},re,W)):me(W)&&(W.pendingcb++,ie(re,W))))}function ie(re,W){W.pendingcb--,W.finished=!0;const N=W[Oe].splice(0);for(let V=0;V<N.length;V++)N[V]();if(re.emit("finish"),W.autoDestroy){const V=re._readableState;(!V||V.autoDestroy&&(V.endEmitted||!1===V.readable))&&re.destroy()}}Ne.prototype.getBuffer=function(){return b(this.buffered,this.bufferedIndex)},O(Ne.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),O(Ke,I,{__proto__:null,value:function(re){return!!C(this,re)||this===Ke&&re&&re._writableState instanceof Ne}}),Ke.prototype.pipe=function(){ce(this,new w)},Ke.prototype.write=function(re,W,N){return!0===Ie(this,re,W,N)},Ke.prototype.cork=function(){this._writableState.corked++},Ke.prototype.uncork=function(){const re=this._writableState;re.corked&&(re.corked--,re.writing||Je(this,re))},Ke.prototype.setDefaultEncoding=function(W){if("string"==typeof W&&(W=M(W)),!E.isEncoding(W))throw new De(W);return this._writableState.defaultEncoding=W,this},Ke.prototype._write=function(re,W,N){if(!this._writev)throw new G("_write()");this._writev([{chunk:re,encoding:W}],N)},Ke.prototype._writev=null,Ke.prototype.end=function(re,W,N){const V=this._writableState;let fe;if("function"==typeof re?(N=re,re=null,W=null):"function"==typeof W&&(N=W,W=null),null!=re){const We=Ie(this,re,W);We instanceof D&&(fe=We)}return V.corked&&(V.corked=1,this.uncork()),fe||(V.errored||V.ending?V.finished?fe=new k("end"):V.destroyed&&(fe=new R("end")):(V.ending=!0,se(this,V,!0),V.ended=!0)),"function"==typeof N&&(fe||V.finished?S.nextTick(N,fe):V[Oe].push(N)),this},g(Ke.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(re){this._writableState&&(this._writableState.destroyed=re)}},writable:{__proto__:null,get(){const re=this._writableState;return!(!re||!1===re.writable||re.destroyed||re.errored||re.ending||re.ended)},set(re){this._writableState&&(this._writableState.writable=!!re)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const re=this._writableState;return!!re&&!re.destroyed&&!re.ending&&re.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const He=L.destroy;let Ze;function he(){return void 0===Ze&&(Ze={}),Ze}Ke.prototype.destroy=function(re,W){const N=this._writableState;return!N.destroyed&&(N.bufferedIndex<N.buffered.length||N[Oe].length)&&S.nextTick(pt,N),He.call(this,re,W),this},Ke.prototype._undestroy=L.undestroy,Ke.prototype._destroy=function(re,W){W(re)},Ke.prototype[F.captureRejectionSymbol]=function(re){this.destroy(re)},Ke.fromWeb=function(re,W){return he().newStreamWritableFromWritableStream(re,W)},Ke.toWeb=function(re){return he().newWritableStreamFromStreamWritable(re)}},2120:(ee,K,m)=>{"use strict";const{ArrayIsArray:S,ArrayPrototypeIncludes:b,ArrayPrototypeJoin:D,ArrayPrototypeMap:C,NumberIsInteger:O,NumberIsNaN:g,NumberMAX_SAFE_INTEGER:y,NumberMIN_SAFE_INTEGER:M,NumberParseInt:U,ObjectPrototypeHasOwnProperty:I,RegExpPrototypeExec:F,String:J,StringPrototypeToUpperCase:E,StringPrototypeTrim:L}=m(6305),{hideStackFrames:ae,codes:{ERR_SOCKET_BAD_PORT:Y,ERR_INVALID_ARG_TYPE:q,ERR_INVALID_ARG_VALUE:Z,ERR_OUT_OF_RANGE:G,ERR_UNKNOWN_SIGNAL:z}}=m(4370),{normalizeEncoding:w}=m(2656),{isAsyncFunction:R,isArrayBufferView:k}=m(2656).types,le={},ce=/^[0-7]+$/,Ne=ae((ye,je,at=M,vt=y)=>{if("number"!=typeof ye)throw new q(je,"number",ye);if(!O(ye))throw new G(je,"an integer",ye);if(ye<at||ye>vt)throw new G(je,`>= ${at} && <= ${vt}`,ye)}),Qe=ae((ye,je,at=-2147483648,vt=2147483647)=>{if("number"!=typeof ye)throw new q(je,"number",ye);if(!O(ye))throw new G(je,"an integer",ye);if(ye<at||ye>vt)throw new G(je,`>= ${at} && <= ${vt}`,ye)}),Ke=ae((ye,je,at=!1)=>{if("number"!=typeof ye)throw new q(je,"number",ye);if(!O(ye))throw new G(je,"an integer",ye);const vt=at?1:0,wt=4294967295;if(ye<vt||ye>wt)throw new G(je,`>= ${vt} && <= ${wt}`,ye)});function Ie(ye,je){if("string"!=typeof ye)throw new q(je,"string",ye)}const Te=ae((ye,je,at)=>{if(!b(at,ye)){const wt="must be one of: "+D(C(at,At=>"string"==typeof At?`'${At}'`:J(At)),", ");throw new Z(je,ye,wt)}});function Ue(ye,je){if("boolean"!=typeof ye)throw new q(je,"boolean",ye)}function ue(ye,je,at){return null!=ye&&I(ye,je)?ye[je]:at}const Ae=ae((ye,je,at=null)=>{const vt=ue(at,"allowArray",!1),wt=ue(at,"allowFunction",!1);if(!ue(at,"nullable",!1)&&null===ye||!vt&&S(ye)||"object"!=typeof ye&&(!wt||"function"!=typeof ye))throw new q(je,"Object",ye)}),rt=ae((ye,je)=>{if(null!=ye&&"object"!=typeof ye&&"function"!=typeof ye)throw new q(je,"a dictionary",ye)}),pt=ae((ye,je,at=0)=>{if(!S(ye))throw new q(je,"Array",ye);if(ye.length<at)throw new Z(je,ye,`must be longer than ${at}`)}),se=ae((ye,je="buffer")=>{if(!k(ye))throw new q(je,["Buffer","TypedArray","DataView"],ye)}),Ze=ae((ye,je)=>{if(void 0!==ye&&(null===ye||"object"!=typeof ye||!("aborted"in ye)))throw new q(je,"AbortSignal",ye)}),he=ae((ye,je)=>{if("function"!=typeof ye)throw new q(je,"Function",ye)}),re=ae((ye,je)=>{if("function"!=typeof ye||R(ye))throw new q(je,"Function",ye)}),W=ae((ye,je)=>{if(void 0!==ye)throw new q(je,"undefined",ye)}),V=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function fe(ye,je){if(typeof ye>"u"||!F(V,ye))throw new Z(je,ye,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}ee.exports={isInt32:function H(ye){return ye===(0|ye)},isUint32:function De(ye){return ye===ye>>>0},parseFileMode:function Oe(ye,je,at){if(typeof ye>"u"&&(ye=at),"string"==typeof ye){if(null===F(ce,ye))throw new Z(je,ye,"must be a 32-bit unsigned integer or an octal string");ye=U(ye,8)}return Ke(ye,je),ye},validateArray:pt,validateStringArray:function Je(ye,je){pt(ye,je);for(let at=0;at<ye.length;at++)Ie(ye[at],`${je}[${at}]`)},validateBooleanArray:function me(ye,je){pt(ye,je);for(let at=0;at<ye.length;at++)Ue(ye[at],`${je}[${at}]`)},validateAbortSignalArray:function B(ye,je){pt(ye,je);for(let at=0;at<ye.length;at++){const vt=ye[at],wt=`${je}[${at}]`;if(null==vt)throw new q(wt,"AbortSignal",vt);Ze(vt,wt)}},validateBoolean:Ue,validateBuffer:se,validateDictionary:rt,validateEncoding:function ie(ye,je){const at=w(je),vt=ye.length;if("hex"===at&&vt%2!=0)throw new Z("encoding",je,`is invalid for data of length ${vt}`)},validateFunction:he,validateInt32:Qe,validateInteger:Ne,validateNumber:function ze(ye,je,at=void 0,vt){if("number"!=typeof ye)throw new q(je,"number",ye);if(null!=at&&ye<at||null!=vt&&ye>vt||(null!=at||null!=vt)&&g(ye))throw new G(je,`${null!=at?`>= ${at}`:""}${null!=at&&null!=vt?" && ":""}${null!=vt?`<= ${vt}`:""}`,ye)},validateObject:Ae,validateOneOf:Te,validatePlainFunction:re,validatePort:function He(ye,je="Port",at=!0){if("number"!=typeof ye&&"string"!=typeof ye||"string"==typeof ye&&0===L(ye).length||+ye!=+ye>>>0||ye>65535||0===ye&&!at)throw new Y(je,ye,at);return 0|ye},validateSignalName:function T(ye,je="signal"){if(Ie(ye,je),void 0===le[ye])throw void 0!==le[E(ye)]?new z(ye+" (signals must use all capital letters)"):new z(ye)},validateString:Ie,validateUint32:Ke,validateUndefined:W,validateUnion:function N(ye,je,at){if(!b(at,ye))throw new q(je,`('${D(at,"|")}')`,ye)},validateAbortSignal:Ze,validateLinkHeaderValue:function We(ye){if("string"==typeof ye)return fe(ye,"hints"),ye;if(S(ye)){const je=ye.length;let at="";if(0===je)return at;for(let vt=0;vt<je;vt++){const wt=ye[vt];fe(wt,"hints"),at+=wt,vt!==je-1&&(at+=", ")}return at}throw new Z("hints",ye,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},8905:(ee,K,m)=>{"use strict";const S=m(8110),b=m(16),D=S.Readable.destroy;ee.exports=S.Readable,ee.exports._uint8ArrayToBuffer=S._uint8ArrayToBuffer,ee.exports._isUint8Array=S._isUint8Array,ee.exports.isDisturbed=S.isDisturbed,ee.exports.isErrored=S.isErrored,ee.exports.isReadable=S.isReadable,ee.exports.Readable=S.Readable,ee.exports.Writable=S.Writable,ee.exports.Duplex=S.Duplex,ee.exports.Transform=S.Transform,ee.exports.PassThrough=S.PassThrough,ee.exports.addAbortSignal=S.addAbortSignal,ee.exports.finished=S.finished,ee.exports.destroy=S.destroy,ee.exports.destroy=D,ee.exports.pipeline=S.pipeline,ee.exports.compose=S.compose,Object.defineProperty(S,"promises",{configurable:!0,enumerable:!0,get:()=>b}),ee.exports.Stream=S.Stream,ee.exports.default=ee.exports},4370:(ee,K,m)=>{"use strict";const{format:S,inspect:b,AggregateError:D}=m(2656),C=globalThis.AggregateError||D,O=Symbol("kIsNodeError"),g=["string","function","number","object","Function","Object","boolean","bigint","symbol"],y=/^([A-Z][a-z0-9]*)+$/,U={};function I(q,Z){if(!q)throw new U.ERR_INTERNAL_ASSERTION(Z)}function F(q){let Z="",G=q.length;const z="-"===q[0]?1:0;for(;G>=z+4;G-=3)Z=`_${q.slice(G-3,G)}${Z}`;return`${q.slice(0,G)}${Z}`}function E(q,Z,G){G||(G=Error);class z extends G{constructor(...R){super(function J(q,Z,G){if("function"==typeof Z)return I(Z.length<=G.length,`Code: ${q}; The provided arguments length (${G.length}) does not match the required ones (${Z.length}).`),Z(...G);const z=(Z.match(/%[dfijoOs]/g)||[]).length;return I(z===G.length,`Code: ${q}; The provided arguments length (${G.length}) does not match the required ones (${z}).`),0===G.length?Z:S(Z,...G)}(q,Z,R))}toString(){return`${this.name} [${q}]: ${this.message}`}}Object.defineProperties(z.prototype,{name:{value:G.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${q}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),z.prototype.code=q,z.prototype[O]=!0,U[q]=z}function L(q){return Object.defineProperty(q,"name",{value:"__node_internal_"+q.name}),q}class Y extends Error{constructor(Z="The operation was aborted",G=void 0){if(void 0!==G&&"object"!=typeof G)throw new U.ERR_INVALID_ARG_TYPE("options","Object",G);super(Z,G),this.code="ABORT_ERR",this.name="AbortError"}}E("ERR_ASSERTION","%s",Error),E("ERR_INVALID_ARG_TYPE",(q,Z,G)=>{I("string"==typeof q,"'name' must be a string"),Array.isArray(Z)||(Z=[Z]);let z="The ";q.endsWith(" argument")?z+=`${q} `:z+=`"${q}" ${q.includes(".")?"property":"argument"} `,z+="must be ";const w=[],R=[],k=[];for(const H of Z)I("string"==typeof H,"All expected entries have to be of type string"),g.includes(H)?w.push(H.toLowerCase()):y.test(H)?R.push(H):(I("object"!==H,'The value "object" should be written as "Object"'),k.push(H));if(R.length>0){const H=w.indexOf("object");-1!==H&&(w.splice(w,H,1),R.push("Object"))}if(w.length>0){switch(w.length){case 1:z+=`of type ${w[0]}`;break;case 2:z+=`one of type ${w[0]} or ${w[1]}`;break;default:{const H=w.pop();z+=`one of type ${w.join(", ")}, or ${H}`}}(R.length>0||k.length>0)&&(z+=" or ")}if(R.length>0){switch(R.length){case 1:z+=`an instance of ${R[0]}`;break;case 2:z+=`an instance of ${R[0]} or ${R[1]}`;break;default:{const H=R.pop();z+=`an instance of ${R.join(", ")}, or ${H}`}}k.length>0&&(z+=" or ")}switch(k.length){case 0:break;case 1:k[0].toLowerCase()!==k[0]&&(z+="an "),z+=`${k[0]}`;break;case 2:z+=`one of ${k[0]} or ${k[1]}`;break;default:{const H=k.pop();z+=`one of ${k.join(", ")}, or ${H}`}}if(null==G)z+=`. Received ${G}`;else if("function"==typeof G&&G.name)z+=`. Received function ${G.name}`;else if("object"==typeof G){var le;null!==(le=G.constructor)&&void 0!==le&&le.name?z+=`. Received an instance of ${G.constructor.name}`:z+=`. Received ${b(G,{depth:-1})}`}else{let H=b(G,{colors:!1});H.length>25&&(H=`${H.slice(0,25)}...`),z+=`. Received type ${typeof G} (${H})`}return z},TypeError),E("ERR_INVALID_ARG_VALUE",(q,Z,G="is invalid")=>{let z=b(Z);return z.length>128&&(z=z.slice(0,128)+"..."),`The ${q.includes(".")?"property":"argument"} '${q}' ${G}. Received ${z}`},TypeError),E("ERR_INVALID_RETURN_VALUE",(q,Z,G)=>{var z;return`Expected ${q} to be returned from the "${Z}" function but got ${null!=G&&null!==(z=G.constructor)&&void 0!==z&&z.name?`instance of ${G.constructor.name}`:"type "+typeof G}.`},TypeError),E("ERR_MISSING_ARGS",(...q)=>{let Z;I(q.length>0,"At least one arg needs to be specified");const G=q.length;switch(q=(Array.isArray(q)?q:[q]).map(z=>`"${z}"`).join(" or "),G){case 1:Z+=`The ${q[0]} argument`;break;case 2:Z+=`The ${q[0]} and ${q[1]} arguments`;break;default:{const z=q.pop();Z+=`The ${q.join(", ")}, and ${z} arguments`}}return`${Z} must be specified`},TypeError),E("ERR_OUT_OF_RANGE",(q,Z,G)=>{let z;return I(Z,'Missing "range" argument'),Number.isInteger(G)&&Math.abs(G)>2**32?z=F(String(G)):"bigint"==typeof G?(z=String(G),(G>2n**32n||G<-(2n**32n))&&(z=F(z)),z+="n"):z=b(G),`The value of "${q}" is out of range. It must be ${Z}. Received ${z}`},RangeError),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),E("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),E("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),E("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),E("ERR_STREAM_WRITE_AFTER_END","write after end",Error),E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),ee.exports={AbortError:Y,aggregateTwoErrors:L(function ae(q,Z){if(q&&Z&&q!==Z){if(Array.isArray(Z.errors))return Z.errors.push(q),Z;const G=new C([Z,q],Z.message);return G.code=Z.code,G}return q||Z}),hideStackFrames:L,codes:U}},6305:ee=>{"use strict";ee.exports={ArrayIsArray:K=>Array.isArray(K),ArrayPrototypeIncludes:(K,m)=>K.includes(m),ArrayPrototypeIndexOf:(K,m)=>K.indexOf(m),ArrayPrototypeJoin:(K,m)=>K.join(m),ArrayPrototypeMap:(K,m)=>K.map(m),ArrayPrototypePop:(K,m)=>K.pop(m),ArrayPrototypePush:(K,m)=>K.push(m),ArrayPrototypeSlice:(K,m,S)=>K.slice(m,S),Error,FunctionPrototypeCall:(K,m,...S)=>K.call(m,...S),FunctionPrototypeSymbolHasInstance:(K,m)=>Function.prototype[Symbol.hasInstance].call(K,m),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(K,m)=>Object.defineProperties(K,m),ObjectDefineProperty:(K,m,S)=>Object.defineProperty(K,m,S),ObjectGetOwnPropertyDescriptor:(K,m)=>Object.getOwnPropertyDescriptor(K,m),ObjectKeys:K=>Object.keys(K),ObjectSetPrototypeOf:(K,m)=>Object.setPrototypeOf(K,m),Promise,PromisePrototypeCatch:(K,m)=>K.catch(m),PromisePrototypeThen:(K,m,S)=>K.then(m,S),PromiseReject:K=>Promise.reject(K),PromiseResolve:K=>Promise.resolve(K),ReflectApply:Reflect.apply,RegExpPrototypeTest:(K,m)=>K.test(m),SafeSet:Set,String,StringPrototypeSlice:(K,m,S)=>K.slice(m,S),StringPrototypeToLowerCase:K=>K.toLowerCase(),StringPrototypeToUpperCase:K=>K.toUpperCase(),StringPrototypeTrim:K=>K.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(K,m,S)=>K.set(m,S),Boolean,Uint8Array}},2656:(ee,K,m)=>{"use strict";var S=m(7156).default;const b=m(1657),{kResistStopPropagation:D,SymbolDispose:C}=m(6305),O=globalThis.AbortSignal||m(3982).AbortSignal,g=globalThis.AbortController||m(3982).AbortController,y=Object.getPrototypeOf(S(function*(){})).constructor,M=globalThis.Blob||b.Blob,U=typeof M<"u"?function(L){return L instanceof M}:function(L){return!1},I=(E,L)=>{if(void 0!==E&&(null===E||"object"!=typeof E||!("aborted"in E)))throw new ERR_INVALID_ARG_TYPE(L,"AbortSignal",E)};class J extends Error{constructor(L){if(!Array.isArray(L))throw new TypeError("Expected input to be an Array, got "+typeof L);let ae="";for(let Y=0;Y<L.length;Y++)ae+=`    ${L[Y].stack}\n`;super(ae),this.name="AggregateError",this.errors=L}}ee.exports={AggregateError:J,kEmptyObject:Object.freeze({}),once(E){let L=!1;return function(...ae){L||(L=!0,E.apply(this,ae))}},createDeferredPromise:function(){let E,L;return{promise:new Promise((Y,q)=>{E=Y,L=q}),resolve:E,reject:L}},promisify:E=>new Promise((L,ae)=>{E((Y,...q)=>Y?ae(Y):L(...q))}),debuglog:()=>function(){},format:(E,...L)=>E.replace(/%([sdifj])/g,function(...[ae,Y]){const q=L.shift();return"f"===Y?q.toFixed(6):"j"===Y?JSON.stringify(q):"s"===Y&&"object"==typeof q?`${q.constructor!==Object?q.constructor.name:""} {}`.trim():q.toString()}),inspect(E){switch(typeof E){case"string":if(E.includes("'")){if(!E.includes('"'))return`"${E}"`;if(!E.includes("`")&&!E.includes("${"))return`\`${E}\``}return`'${E}'`;case"number":return isNaN(E)?"NaN":Object.is(E,-0)?String(E):E;case"bigint":return`${String(E)}n`;case"boolean":case"undefined":return String(E);case"object":return"{}"}},types:{isAsyncFunction:E=>E instanceof y,isArrayBufferView:E=>ArrayBuffer.isView(E)},isBlob:U,deprecate:(E,L)=>E,addAbortListener:m(2016).addAbortListener||function(L,ae){if(void 0===L)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",L);let Y;return I(L,"signal"),((E,L)=>{if("function"!=typeof E)throw new ERR_INVALID_ARG_TYPE("listener","Function",E)})(ae),L.aborted?queueMicrotask(()=>ae()):(L.addEventListener("abort",ae,{__proto__:null,once:!0,[D]:!0}),Y=()=>{L.removeEventListener("abort",ae)}),{__proto__:null,[C](){var q;null===(q=Y)||void 0===q||q()}}},AbortSignalAny:O.any||function(L){if(1===L.length)return L[0];const ae=new g,Y=()=>ae.abort();return L.forEach(q=>{I(q,"signals"),q.addEventListener("abort",Y,{once:!0})}),ae.signal.addEventListener("abort",()=>{L.forEach(q=>q.removeEventListener("abort",Y))},{once:!0}),ae.signal}},ee.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},8110:(ee,K,m)=>{const{Buffer:S}=m(1657),{ObjectDefineProperty:b,ObjectKeys:D,ReflectApply:C}=m(6305),{promisify:{custom:O}}=m(2656),{streamReturningOperators:g,promiseReturningOperators:y}=m(7624),{codes:{ERR_ILLEGAL_CONSTRUCTOR:M}}=m(4370),U=m(7721),{setDefaultHighWaterMark:I,getDefaultHighWaterMark:F}=m(8782),{pipeline:J}=m(4514),{destroyer:E}=m(5601),L=m(4618),Y=m(16),q=m(5428),Z=ee.exports=m(900).Stream;Z.isDestroyed=q.isDestroyed,Z.isDisturbed=q.isDisturbed,Z.isErrored=q.isErrored,Z.isReadable=q.isReadable,Z.isWritable=q.isWritable,Z.Readable=m(8383);for(const w of D(g)){let k=function(...le){if(new.target)throw M();return Z.Readable.from(C(R,this,le))};const R=g[w];b(k,"name",{__proto__:null,value:R.name}),b(k,"length",{__proto__:null,value:R.length}),b(Z.Readable.prototype,w,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}for(const w of D(y)){let k=function(...H){if(new.target)throw M();return C(R,this,H)};const R=y[w];b(k,"name",{__proto__:null,value:R.name}),b(k,"length",{__proto__:null,value:R.length}),b(Z.Readable.prototype,w,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}Z.Writable=m(9764),Z.Duplex=m(5931),Z.Transform=m(123),Z.PassThrough=m(6973),Z.pipeline=J;const{addAbortSignal:G}=m(9987);Z.addAbortSignal=G,Z.finished=L,Z.destroy=E,Z.compose=U,Z.setDefaultHighWaterMark=I,Z.getDefaultHighWaterMark=F,b(Z,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>Y}),b(J,O,{__proto__:null,enumerable:!0,get:()=>Y.pipeline}),b(L,O,{__proto__:null,enumerable:!0,get:()=>Y.finished}),Z.Stream=Z,Z._isUint8Array=function(R){return R instanceof Uint8Array},Z._uint8ArrayToBuffer=function(R){return S.from(R.buffer,R.byteOffset,R.byteLength)}},16:(ee,K,m)=>{"use strict";const{ArrayPrototypePop:S,Promise:b}=m(6305),{isIterable:D,isNodeStream:C,isWebStream:O}=m(5428),{pipelineImpl:g}=m(4514),{finished:y}=m(4618);m(8110),ee.exports={finished:y,pipeline:function M(...U){return new b((I,F)=>{let J,E;const L=U[U.length-1];if(L&&"object"==typeof L&&!C(L)&&!D(L)&&!O(L)){const ae=S(U);J=ae.signal,E=ae.end}g(U,(ae,Y)=>{ae?F(ae):I(Y)},{signal:J,end:E})})}}},1657:(ee,K,m)=>{"use strict";const S=m(9919),b=m(2601),D="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;K.Buffer=y,K.SlowBuffer=function Z(ge){return+ge!=ge&&(ge=0),y.alloc(+ge)},K.INSPECT_MAX_BYTES=50;const C=2147483647;function g(ge){if(ge>C)throw new RangeError('The value "'+ge+'" is invalid for option "size"');const $=new Uint8Array(ge);return Object.setPrototypeOf($,y.prototype),$}function y(ge,$,oe){if("number"==typeof ge){if("string"==typeof $)throw new TypeError('The "string" argument must be of type string. Received type number');return F(ge)}return M(ge,$,oe)}function M(ge,$,oe){if("string"==typeof ge)return function J(ge,$){if(("string"!=typeof $||""===$)&&($="utf8"),!y.isEncoding($))throw new TypeError("Unknown encoding: "+$);const oe=0|G(ge,$);let Le=g(oe);const it=Le.write(ge,$);return it!==oe&&(Le=Le.slice(0,it)),Le}(ge,$);if(ArrayBuffer.isView(ge))return function L(ge){if(at(ge,Uint8Array)){const $=new Uint8Array(ge);return ae($.buffer,$.byteOffset,$.byteLength)}return E(ge)}(ge);if(null==ge)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ge);if(at(ge,ArrayBuffer)||ge&&at(ge.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(at(ge,SharedArrayBuffer)||ge&&at(ge.buffer,SharedArrayBuffer)))return ae(ge,$,oe);if("number"==typeof ge)throw new TypeError('The "value" argument must not be of type number. Received type number');const Le=ge.valueOf&&ge.valueOf();if(null!=Le&&Le!==ge)return y.from(Le,$,oe);const it=function Y(ge){if(y.isBuffer(ge)){const $=0|q(ge.length),oe=g($);return 0===oe.length||ge.copy(oe,0,0,$),oe}return void 0!==ge.length?"number"!=typeof ge.length||vt(ge.length)?g(0):E(ge):"Buffer"===ge.type&&Array.isArray(ge.data)?E(ge.data):void 0}(ge);if(it)return it;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ge[Symbol.toPrimitive])return y.from(ge[Symbol.toPrimitive]("string"),$,oe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ge)}function U(ge){if("number"!=typeof ge)throw new TypeError('"size" argument must be of type number');if(ge<0)throw new RangeError('The value "'+ge+'" is invalid for option "size"')}function F(ge){return U(ge),g(ge<0?0:0|q(ge))}function E(ge){const $=ge.length<0?0:0|q(ge.length),oe=g($);for(let Le=0;Le<$;Le+=1)oe[Le]=255&ge[Le];return oe}function ae(ge,$,oe){if($<0||ge.byteLength<$)throw new RangeError('"offset" is outside of buffer bounds');if(ge.byteLength<$+(oe||0))throw new RangeError('"length" is outside of buffer bounds');let Le;return Le=void 0===$&&void 0===oe?new Uint8Array(ge):void 0===oe?new Uint8Array(ge,$):new Uint8Array(ge,$,oe),Object.setPrototypeOf(Le,y.prototype),Le}function q(ge){if(ge>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return 0|ge}function G(ge,$){if(y.isBuffer(ge))return ge.length;if(ArrayBuffer.isView(ge)||at(ge,ArrayBuffer))return ge.byteLength;if("string"!=typeof ge)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ge);const oe=ge.length,Le=arguments.length>2&&!0===arguments[2];if(!Le&&0===oe)return 0;let it=!1;for(;;)switch($){case"ascii":case"latin1":case"binary":return oe;case"utf8":case"utf-8":return V(ge).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*oe;case"hex":return oe>>>1;case"base64":return ye(ge).length;default:if(it)return Le?-1:V(ge).length;$=(""+$).toLowerCase(),it=!0}}function z(ge,$,oe){let Le=!1;if((void 0===$||$<0)&&($=0),$>this.length||((void 0===oe||oe>this.length)&&(oe=this.length),oe<=0)||(oe>>>=0)<=($>>>=0))return"";for(ge||(ge="utf8");;)switch(ge){case"hex":return Te(this,$,oe);case"utf8":case"utf-8":return Ne(this,$,oe);case"ascii":return Ie(this,$,oe);case"latin1":case"binary":return ze(this,$,oe);case"base64":return Oe(this,$,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ue(this,$,oe);default:if(Le)throw new TypeError("Unknown encoding: "+ge);ge=(ge+"").toLowerCase(),Le=!0}}function w(ge,$,oe){const Le=ge[$];ge[$]=ge[oe],ge[oe]=Le}function R(ge,$,oe,Le,it){if(0===ge.length)return-1;if("string"==typeof oe?(Le=oe,oe=0):oe>2147483647?oe=2147483647:oe<-2147483648&&(oe=-2147483648),vt(oe=+oe)&&(oe=it?0:ge.length-1),oe<0&&(oe=ge.length+oe),oe>=ge.length){if(it)return-1;oe=ge.length-1}else if(oe<0){if(!it)return-1;oe=0}if("string"==typeof $&&($=y.from($,Le)),y.isBuffer($))return 0===$.length?-1:k(ge,$,oe,Le,it);if("number"==typeof $)return $&=255,"function"==typeof Uint8Array.prototype.indexOf?it?Uint8Array.prototype.indexOf.call(ge,$,oe):Uint8Array.prototype.lastIndexOf.call(ge,$,oe):k(ge,[$],oe,Le,it);throw new TypeError("val must be string, number or Buffer")}function k(ge,$,oe,Le,it){let ni,ut=1,Tt=ge.length,An=$.length;if(void 0!==Le&&("ucs2"===(Le=String(Le).toLowerCase())||"ucs-2"===Le||"utf16le"===Le||"utf-16le"===Le)){if(ge.length<2||$.length<2)return-1;ut=2,Tt/=2,An/=2,oe/=2}function Kn(jn,qn){return 1===ut?jn[qn]:jn.readUInt16BE(qn*ut)}if(it){let jn=-1;for(ni=oe;ni<Tt;ni++)if(Kn(ge,ni)===Kn($,-1===jn?0:ni-jn)){if(-1===jn&&(jn=ni),ni-jn+1===An)return jn*ut}else-1!==jn&&(ni-=ni-jn),jn=-1}else for(oe+An>Tt&&(oe=Tt-An),ni=oe;ni>=0;ni--){let jn=!0;for(let qn=0;qn<An;qn++)if(Kn(ge,ni+qn)!==Kn($,qn)){jn=!1;break}if(jn)return ni}return-1}function le(ge,$,oe,Le){oe=Number(oe)||0;const it=ge.length-oe;Le?(Le=Number(Le))>it&&(Le=it):Le=it;const ut=$.length;let Tt;for(Le>ut/2&&(Le=ut/2),Tt=0;Tt<Le;++Tt){const An=parseInt($.substr(2*Tt,2),16);if(vt(An))return Tt;ge[oe+Tt]=An}return Tt}function H(ge,$,oe,Le){return je(V($,ge.length-oe),ge,oe,Le)}function De(ge,$,oe,Le){return je(function fe(ge){const $=[];for(let oe=0;oe<ge.length;++oe)$.push(255&ge.charCodeAt(oe));return $}($),ge,oe,Le)}function ce(ge,$,oe,Le){return je(ye($),ge,oe,Le)}function be(ge,$,oe,Le){return je(function We(ge,$){let oe,Le,it;const ut=[];for(let Tt=0;Tt<ge.length&&!(($-=2)<0);++Tt)oe=ge.charCodeAt(Tt),Le=oe>>8,it=oe%256,ut.push(it),ut.push(Le);return ut}($,ge.length-oe),ge,oe,Le)}function Oe(ge,$,oe){return S.fromByteArray(0===$&&oe===ge.length?ge:ge.slice($,oe))}function Ne(ge,$,oe){oe=Math.min(ge.length,oe);const Le=[];let it=$;for(;it<oe;){const ut=ge[it];let Tt=null,An=ut>239?4:ut>223?3:ut>191?2:1;if(it+An<=oe){let Kn,ni,jn,qn;switch(An){case 1:ut<128&&(Tt=ut);break;case 2:Kn=ge[it+1],128==(192&Kn)&&(qn=(31&ut)<<6|63&Kn,qn>127&&(Tt=qn));break;case 3:Kn=ge[it+1],ni=ge[it+2],128==(192&Kn)&&128==(192&ni)&&(qn=(15&ut)<<12|(63&Kn)<<6|63&ni,qn>2047&&(qn<55296||qn>57343)&&(Tt=qn));break;case 4:Kn=ge[it+1],ni=ge[it+2],jn=ge[it+3],128==(192&Kn)&&128==(192&ni)&&128==(192&jn)&&(qn=(15&ut)<<18|(63&Kn)<<12|(63&ni)<<6|63&jn,qn>65535&&qn<1114112&&(Tt=qn))}}null===Tt?(Tt=65533,An=1):Tt>65535&&(Tt-=65536,Le.push(Tt>>>10&1023|55296),Tt=56320|1023&Tt),Le.push(Tt),it+=An}return function Ke(ge){const $=ge.length;if($<=Qe)return String.fromCharCode.apply(String,ge);let oe="",Le=0;for(;Le<$;)oe+=String.fromCharCode.apply(String,ge.slice(Le,Le+=Qe));return oe}(Le)}K.kMaxLength=C,!(y.TYPED_ARRAY_SUPPORT=function O(){try{const ge=new Uint8Array(1),$={foo:function(){return 42}};return Object.setPrototypeOf($,Uint8Array.prototype),Object.setPrototypeOf(ge,$),42===ge.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}}),y.poolSize=8192,y.from=function(ge,$,oe){return M(ge,$,oe)},Object.setPrototypeOf(y.prototype,Uint8Array.prototype),Object.setPrototypeOf(y,Uint8Array),y.alloc=function(ge,$,oe){return function I(ge,$,oe){return U(ge),ge<=0?g(ge):void 0!==$?"string"==typeof oe?g(ge).fill($,oe):g(ge).fill($):g(ge)}(ge,$,oe)},y.allocUnsafe=function(ge){return F(ge)},y.allocUnsafeSlow=function(ge){return F(ge)},y.isBuffer=function($){return null!=$&&!0===$._isBuffer&&$!==y.prototype},y.compare=function($,oe){if(at($,Uint8Array)&&($=y.from($,$.offset,$.byteLength)),at(oe,Uint8Array)&&(oe=y.from(oe,oe.offset,oe.byteLength)),!y.isBuffer($)||!y.isBuffer(oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===oe)return 0;let Le=$.length,it=oe.length;for(let ut=0,Tt=Math.min(Le,it);ut<Tt;++ut)if($[ut]!==oe[ut]){Le=$[ut],it=oe[ut];break}return Le<it?-1:it<Le?1:0},y.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function($,oe){if(!Array.isArray($))throw new TypeError('"list" argument must be an Array of Buffers');if(0===$.length)return y.alloc(0);let Le;if(void 0===oe)for(oe=0,Le=0;Le<$.length;++Le)oe+=$[Le].length;const it=y.allocUnsafe(oe);let ut=0;for(Le=0;Le<$.length;++Le){let Tt=$[Le];if(at(Tt,Uint8Array))ut+Tt.length>it.length?(y.isBuffer(Tt)||(Tt=y.from(Tt)),Tt.copy(it,ut)):Uint8Array.prototype.set.call(it,Tt,ut);else{if(!y.isBuffer(Tt))throw new TypeError('"list" argument must be an Array of Buffers');Tt.copy(it,ut)}ut+=Tt.length}return it},y.byteLength=G,y.prototype._isBuffer=!0,y.prototype.swap16=function(){const $=this.length;if($%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let oe=0;oe<$;oe+=2)w(this,oe,oe+1);return this},y.prototype.swap32=function(){const $=this.length;if($%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let oe=0;oe<$;oe+=4)w(this,oe,oe+3),w(this,oe+1,oe+2);return this},y.prototype.swap64=function(){const $=this.length;if($%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let oe=0;oe<$;oe+=8)w(this,oe,oe+7),w(this,oe+1,oe+6),w(this,oe+2,oe+5),w(this,oe+3,oe+4);return this},y.prototype.toLocaleString=y.prototype.toString=function(){const $=this.length;return 0===$?"":0===arguments.length?Ne(this,0,$):z.apply(this,arguments)},y.prototype.equals=function($){if(!y.isBuffer($))throw new TypeError("Argument must be a Buffer");return this===$||0===y.compare(this,$)},y.prototype.inspect=function(){let $="";const oe=K.INSPECT_MAX_BYTES;return $=this.toString("hex",0,oe).replace(/(.{2})/g,"$1 ").trim(),this.length>oe&&($+=" ... "),"<Buffer "+$+">"},D&&(y.prototype[D]=y.prototype.inspect),y.prototype.compare=function($,oe,Le,it,ut){if(at($,Uint8Array)&&($=y.from($,$.offset,$.byteLength)),!y.isBuffer($))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(void 0===oe&&(oe=0),void 0===Le&&(Le=$?$.length:0),void 0===it&&(it=0),void 0===ut&&(ut=this.length),oe<0||Le>$.length||it<0||ut>this.length)throw new RangeError("out of range index");if(it>=ut&&oe>=Le)return 0;if(it>=ut)return-1;if(oe>=Le)return 1;if(this===$)return 0;let Tt=(ut>>>=0)-(it>>>=0),An=(Le>>>=0)-(oe>>>=0);const Kn=Math.min(Tt,An),ni=this.slice(it,ut),jn=$.slice(oe,Le);for(let qn=0;qn<Kn;++qn)if(ni[qn]!==jn[qn]){Tt=ni[qn],An=jn[qn];break}return Tt<An?-1:An<Tt?1:0},y.prototype.includes=function($,oe,Le){return-1!==this.indexOf($,oe,Le)},y.prototype.indexOf=function($,oe,Le){return R(this,$,oe,Le,!0)},y.prototype.lastIndexOf=function($,oe,Le){return R(this,$,oe,Le,!1)},y.prototype.write=function($,oe,Le,it){if(void 0===oe)it="utf8",Le=this.length,oe=0;else if(void 0===Le&&"string"==typeof oe)it=oe,Le=this.length,oe=0;else{if(!isFinite(oe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");oe>>>=0,isFinite(Le)?(Le>>>=0,void 0===it&&(it="utf8")):(it=Le,Le=void 0)}const ut=this.length-oe;if((void 0===Le||Le>ut)&&(Le=ut),$.length>0&&(Le<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");it||(it="utf8");let Tt=!1;for(;;)switch(it){case"hex":return le(this,$,oe,Le);case"utf8":case"utf-8":return H(this,$,oe,Le);case"ascii":case"latin1":case"binary":return De(this,$,oe,Le);case"base64":return ce(this,$,oe,Le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,$,oe,Le);default:if(Tt)throw new TypeError("Unknown encoding: "+it);it=(""+it).toLowerCase(),Tt=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Qe=4096;function Ie(ge,$,oe){let Le="";oe=Math.min(ge.length,oe);for(let it=$;it<oe;++it)Le+=String.fromCharCode(127&ge[it]);return Le}function ze(ge,$,oe){let Le="";oe=Math.min(ge.length,oe);for(let it=$;it<oe;++it)Le+=String.fromCharCode(ge[it]);return Le}function Te(ge,$,oe){const Le=ge.length;(!$||$<0)&&($=0),(!oe||oe<0||oe>Le)&&(oe=Le);let it="";for(let ut=$;ut<oe;++ut)it+=wt[ge[ut]];return it}function Ue(ge,$,oe){const Le=ge.slice($,oe);let it="";for(let ut=0;ut<Le.length-1;ut+=2)it+=String.fromCharCode(Le[ut]+256*Le[ut+1]);return it}function ue(ge,$,oe){if(ge%1!=0||ge<0)throw new RangeError("offset is not uint");if(ge+$>oe)throw new RangeError("Trying to access beyond buffer length")}function Ae(ge,$,oe,Le,it,ut){if(!y.isBuffer(ge))throw new TypeError('"buffer" argument must be a Buffer instance');if($>it||$<ut)throw new RangeError('"value" argument is out of bounds');if(oe+Le>ge.length)throw new RangeError("Index out of range")}function rt(ge,$,oe,Le,it){Ze($,Le,it,ge,oe,7);let ut=Number($&BigInt(4294967295));ge[oe++]=ut,ut>>=8,ge[oe++]=ut,ut>>=8,ge[oe++]=ut,ut>>=8,ge[oe++]=ut;let Tt=Number($>>BigInt(32)&BigInt(4294967295));return ge[oe++]=Tt,Tt>>=8,ge[oe++]=Tt,Tt>>=8,ge[oe++]=Tt,Tt>>=8,ge[oe++]=Tt,oe}function pt(ge,$,oe,Le,it){Ze($,Le,it,ge,oe,7);let ut=Number($&BigInt(4294967295));ge[oe+7]=ut,ut>>=8,ge[oe+6]=ut,ut>>=8,ge[oe+5]=ut,ut>>=8,ge[oe+4]=ut;let Tt=Number($>>BigInt(32)&BigInt(4294967295));return ge[oe+3]=Tt,Tt>>=8,ge[oe+2]=Tt,Tt>>=8,ge[oe+1]=Tt,Tt>>=8,ge[oe]=Tt,oe+8}function Je(ge,$,oe,Le,it,ut){if(oe+Le>ge.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("Index out of range")}function me(ge,$,oe,Le,it){return $=+$,oe>>>=0,it||Je(ge,0,oe,4),b.write(ge,$,oe,Le,23,4),oe+4}function B(ge,$,oe,Le,it){return $=+$,oe>>>=0,it||Je(ge,0,oe,8),b.write(ge,$,oe,Le,52,8),oe+8}y.prototype.slice=function($,oe){const Le=this.length;($=~~$)<0?($+=Le)<0&&($=0):$>Le&&($=Le),(oe=void 0===oe?Le:~~oe)<0?(oe+=Le)<0&&(oe=0):oe>Le&&(oe=Le),oe<$&&(oe=$);const it=this.subarray($,oe);return Object.setPrototypeOf(it,y.prototype),it},y.prototype.readUintLE=y.prototype.readUIntLE=function($,oe,Le){$>>>=0,oe>>>=0,Le||ue($,oe,this.length);let it=this[$],ut=1,Tt=0;for(;++Tt<oe&&(ut*=256);)it+=this[$+Tt]*ut;return it},y.prototype.readUintBE=y.prototype.readUIntBE=function($,oe,Le){$>>>=0,oe>>>=0,Le||ue($,oe,this.length);let it=this[$+--oe],ut=1;for(;oe>0&&(ut*=256);)it+=this[$+--oe]*ut;return it},y.prototype.readUint8=y.prototype.readUInt8=function($,oe){return $>>>=0,oe||ue($,1,this.length),this[$]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function($,oe){return $>>>=0,oe||ue($,2,this.length),this[$]|this[$+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function($,oe){return $>>>=0,oe||ue($,2,this.length),this[$]<<8|this[$+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function($,oe){return $>>>=0,oe||ue($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+16777216*this[$+3]},y.prototype.readUint32BE=y.prototype.readUInt32BE=function($,oe){return $>>>=0,oe||ue($,4,this.length),16777216*this[$]+(this[$+1]<<16|this[$+2]<<8|this[$+3])},y.prototype.readBigUInt64LE=At(function($){he($>>>=0,"offset");const oe=this[$],Le=this[$+7];(void 0===oe||void 0===Le)&&re($,this.length-8);const it=oe+256*this[++$]+65536*this[++$]+this[++$]*2**24,ut=this[++$]+256*this[++$]+65536*this[++$]+Le*2**24;return BigInt(it)+(BigInt(ut)<<BigInt(32))}),y.prototype.readBigUInt64BE=At(function($){he($>>>=0,"offset");const oe=this[$],Le=this[$+7];(void 0===oe||void 0===Le)&&re($,this.length-8);const it=oe*2**24+65536*this[++$]+256*this[++$]+this[++$],ut=this[++$]*2**24+65536*this[++$]+256*this[++$]+Le;return(BigInt(it)<<BigInt(32))+BigInt(ut)}),y.prototype.readIntLE=function($,oe,Le){$>>>=0,oe>>>=0,Le||ue($,oe,this.length);let it=this[$],ut=1,Tt=0;for(;++Tt<oe&&(ut*=256);)it+=this[$+Tt]*ut;return ut*=128,it>=ut&&(it-=Math.pow(2,8*oe)),it},y.prototype.readIntBE=function($,oe,Le){$>>>=0,oe>>>=0,Le||ue($,oe,this.length);let it=oe,ut=1,Tt=this[$+--it];for(;it>0&&(ut*=256);)Tt+=this[$+--it]*ut;return ut*=128,Tt>=ut&&(Tt-=Math.pow(2,8*oe)),Tt},y.prototype.readInt8=function($,oe){return $>>>=0,oe||ue($,1,this.length),128&this[$]?-1*(255-this[$]+1):this[$]},y.prototype.readInt16LE=function($,oe){$>>>=0,oe||ue($,2,this.length);const Le=this[$]|this[$+1]<<8;return 32768&Le?4294901760|Le:Le},y.prototype.readInt16BE=function($,oe){$>>>=0,oe||ue($,2,this.length);const Le=this[$+1]|this[$]<<8;return 32768&Le?4294901760|Le:Le},y.prototype.readInt32LE=function($,oe){return $>>>=0,oe||ue($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},y.prototype.readInt32BE=function($,oe){return $>>>=0,oe||ue($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},y.prototype.readBigInt64LE=At(function($){he($>>>=0,"offset");const oe=this[$],Le=this[$+7];return(void 0===oe||void 0===Le)&&re($,this.length-8),(BigInt(this[$+4]+256*this[$+5]+65536*this[$+6]+(Le<<24))<<BigInt(32))+BigInt(oe+256*this[++$]+65536*this[++$]+this[++$]*2**24)}),y.prototype.readBigInt64BE=At(function($){he($>>>=0,"offset");const oe=this[$],Le=this[$+7];(void 0===oe||void 0===Le)&&re($,this.length-8);const it=(oe<<24)+65536*this[++$]+256*this[++$]+this[++$];return(BigInt(it)<<BigInt(32))+BigInt(this[++$]*2**24+65536*this[++$]+256*this[++$]+Le)}),y.prototype.readFloatLE=function($,oe){return $>>>=0,oe||ue($,4,this.length),b.read(this,$,!0,23,4)},y.prototype.readFloatBE=function($,oe){return $>>>=0,oe||ue($,4,this.length),b.read(this,$,!1,23,4)},y.prototype.readDoubleLE=function($,oe){return $>>>=0,oe||ue($,8,this.length),b.read(this,$,!0,52,8)},y.prototype.readDoubleBE=function($,oe){return $>>>=0,oe||ue($,8,this.length),b.read(this,$,!1,52,8)},y.prototype.writeUintLE=y.prototype.writeUIntLE=function($,oe,Le,it){$=+$,oe>>>=0,Le>>>=0,it||Ae(this,$,oe,Le,Math.pow(2,8*Le)-1,0);let ut=1,Tt=0;for(this[oe]=255&$;++Tt<Le&&(ut*=256);)this[oe+Tt]=$/ut&255;return oe+Le},y.prototype.writeUintBE=y.prototype.writeUIntBE=function($,oe,Le,it){$=+$,oe>>>=0,Le>>>=0,it||Ae(this,$,oe,Le,Math.pow(2,8*Le)-1,0);let ut=Le-1,Tt=1;for(this[oe+ut]=255&$;--ut>=0&&(Tt*=256);)this[oe+ut]=$/Tt&255;return oe+Le},y.prototype.writeUint8=y.prototype.writeUInt8=function($,oe,Le){return $=+$,oe>>>=0,Le||Ae(this,$,oe,1,255,0),this[oe]=255&$,oe+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function($,oe,Le){return $=+$,oe>>>=0,Le||Ae(this,$,oe,2,65535,0),this[oe]=255&$,this[oe+1]=$>>>8,oe+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function($,oe,Le){return $=+$,oe>>>=0,Le||Ae(this,$,oe,2,65535,0),this[oe]=$>>>8,this[oe+1]=255&$,oe+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function($,oe,Le){return $=+$,oe>>>=0,Le||Ae(this,$,oe,4,4294967295,0),this[oe+3]=$>>>24,this[oe+2]=$>>>16,this[oe+1]=$>>>8,this[oe]=255&$,oe+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function($,oe,Le){return $=+$,oe>>>=0,Le||Ae(this,$,oe,4,4294967295,0),this[oe]=$>>>24,this[oe+1]=$>>>16,this[oe+2]=$>>>8,this[oe+3]=255&$,oe+4},y.prototype.writeBigUInt64LE=At(function($,oe=0){return rt(this,$,oe,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=At(function($,oe=0){return pt(this,$,oe,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function($,oe,Le,it){if($=+$,oe>>>=0,!it){const Kn=Math.pow(2,8*Le-1);Ae(this,$,oe,Le,Kn-1,-Kn)}let ut=0,Tt=1,An=0;for(this[oe]=255&$;++ut<Le&&(Tt*=256);)$<0&&0===An&&0!==this[oe+ut-1]&&(An=1),this[oe+ut]=($/Tt>>0)-An&255;return oe+Le},y.prototype.writeIntBE=function($,oe,Le,it){if($=+$,oe>>>=0,!it){const Kn=Math.pow(2,8*Le-1);Ae(this,$,oe,Le,Kn-1,-Kn)}let ut=Le-1,Tt=1,An=0;for(this[oe+ut]=255&$;--ut>=0&&(Tt*=256);)$<0&&0===An&&0!==this[oe+ut+1]&&(An=1),this[oe+ut]=($/Tt>>0)-An&255;return oe+Le},y.prototype.writeInt8=function($,oe,Le){return $=+$,oe>>>=0,Le||Ae(this,$,oe,1,127,-128),$<0&&($=255+$+1),this[oe]=255&$,oe+1},y.prototype.writeInt16LE=function($,oe,Le){return $=+$,oe>>>=0,Le||Ae(this,$,oe,2,32767,-32768),this[oe]=255&$,this[oe+1]=$>>>8,oe+2},y.prototype.writeInt16BE=function($,oe,Le){return $=+$,oe>>>=0,Le||Ae(this,$,oe,2,32767,-32768),this[oe]=$>>>8,this[oe+1]=255&$,oe+2},y.prototype.writeInt32LE=function($,oe,Le){return $=+$,oe>>>=0,Le||Ae(this,$,oe,4,2147483647,-2147483648),this[oe]=255&$,this[oe+1]=$>>>8,this[oe+2]=$>>>16,this[oe+3]=$>>>24,oe+4},y.prototype.writeInt32BE=function($,oe,Le){return $=+$,oe>>>=0,Le||Ae(this,$,oe,4,2147483647,-2147483648),$<0&&($=4294967295+$+1),this[oe]=$>>>24,this[oe+1]=$>>>16,this[oe+2]=$>>>8,this[oe+3]=255&$,oe+4},y.prototype.writeBigInt64LE=At(function($,oe=0){return rt(this,$,oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=At(function($,oe=0){return pt(this,$,oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeFloatLE=function($,oe,Le){return me(this,$,oe,!0,Le)},y.prototype.writeFloatBE=function($,oe,Le){return me(this,$,oe,!1,Le)},y.prototype.writeDoubleLE=function($,oe,Le){return B(this,$,oe,!0,Le)},y.prototype.writeDoubleBE=function($,oe,Le){return B(this,$,oe,!1,Le)},y.prototype.copy=function($,oe,Le,it){if(!y.isBuffer($))throw new TypeError("argument should be a Buffer");if(Le||(Le=0),!it&&0!==it&&(it=this.length),oe>=$.length&&(oe=$.length),oe||(oe=0),it>0&&it<Le&&(it=Le),it===Le||0===$.length||0===this.length)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(Le<0||Le>=this.length)throw new RangeError("Index out of range");if(it<0)throw new RangeError("sourceEnd out of bounds");it>this.length&&(it=this.length),$.length-oe<it-Le&&(it=$.length-oe+Le);const ut=it-Le;return this===$&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(oe,Le,it):Uint8Array.prototype.set.call($,this.subarray(Le,it),oe),ut},y.prototype.fill=function($,oe,Le,it){if("string"==typeof $){if("string"==typeof oe?(it=oe,oe=0,Le=this.length):"string"==typeof Le&&(it=Le,Le=this.length),void 0!==it&&"string"!=typeof it)throw new TypeError("encoding must be a string");if("string"==typeof it&&!y.isEncoding(it))throw new TypeError("Unknown encoding: "+it);if(1===$.length){const Tt=$.charCodeAt(0);("utf8"===it&&Tt<128||"latin1"===it)&&($=Tt)}}else"number"==typeof $?$&=255:"boolean"==typeof $&&($=Number($));if(oe<0||this.length<oe||this.length<Le)throw new RangeError("Out of range index");if(Le<=oe)return this;let ut;if(oe>>>=0,Le=void 0===Le?this.length:Le>>>0,$||($=0),"number"==typeof $)for(ut=oe;ut<Le;++ut)this[ut]=$;else{const Tt=y.isBuffer($)?$:y.from($,it),An=Tt.length;if(0===An)throw new TypeError('The value "'+$+'" is invalid for argument "value"');for(ut=0;ut<Le-oe;++ut)this[ut+oe]=Tt[ut%An]}return this};const T={};function se(ge,$,oe){T[ge]=class extends oe{constructor(){super(),Object.defineProperty(this,"message",{value:$.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ge}]`,delete this.name}get code(){return ge}set code(it){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:it,writable:!0})}toString(){return`${this.name} [${ge}]: ${this.message}`}}}function ie(ge){let $="",oe=ge.length;const Le="-"===ge[0]?1:0;for(;oe>=Le+4;oe-=3)$=`_${ge.slice(oe-3,oe)}${$}`;return`${ge.slice(0,oe)}${$}`}function Ze(ge,$,oe,Le,it,ut){if(ge>oe||ge<$){const Tt="bigint"==typeof $?"n":"";let An;throw An=ut>3?0===$||$===BigInt(0)?`>= 0${Tt} and < 2${Tt} ** ${8*(ut+1)}${Tt}`:`>= -(2${Tt} ** ${8*(ut+1)-1}${Tt}) and < 2 ** ${8*(ut+1)-1}${Tt}`:`>= ${$}${Tt} and <= ${oe}${Tt}`,new T.ERR_OUT_OF_RANGE("value",An,ge)}!function He(ge,$,oe){he($,"offset"),(void 0===ge[$]||void 0===ge[$+oe])&&re($,ge.length-(oe+1))}(Le,it,ut)}function he(ge,$){if("number"!=typeof ge)throw new T.ERR_INVALID_ARG_TYPE($,"number",ge)}function re(ge,$,oe){throw Math.floor(ge)!==ge?(he(ge,oe),new T.ERR_OUT_OF_RANGE(oe||"offset","an integer",ge)):$<0?new T.ERR_BUFFER_OUT_OF_BOUNDS:new T.ERR_OUT_OF_RANGE(oe||"offset",`>= ${oe?1:0} and <= ${$}`,ge)}se("ERR_BUFFER_OUT_OF_BOUNDS",function(ge){return ge?`${ge} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),se("ERR_INVALID_ARG_TYPE",function(ge,$){return`The "${ge}" argument must be of type number. Received type ${typeof $}`},TypeError),se("ERR_OUT_OF_RANGE",function(ge,$,oe){let Le=`The value of "${ge}" is out of range.`,it=oe;return Number.isInteger(oe)&&Math.abs(oe)>2**32?it=ie(String(oe)):"bigint"==typeof oe&&(it=String(oe),(oe>BigInt(2)**BigInt(32)||oe<-(BigInt(2)**BigInt(32)))&&(it=ie(it)),it+="n"),Le+=` It must be ${$}. Received ${it}`,Le},RangeError);const W=/[^+/0-9A-Za-z-_]/g;function V(ge,$){let oe;$=$||1/0;const Le=ge.length;let it=null;const ut=[];for(let Tt=0;Tt<Le;++Tt){if(oe=ge.charCodeAt(Tt),oe>55295&&oe<57344){if(!it){if(oe>56319){($-=3)>-1&&ut.push(239,191,189);continue}if(Tt+1===Le){($-=3)>-1&&ut.push(239,191,189);continue}it=oe;continue}if(oe<56320){($-=3)>-1&&ut.push(239,191,189),it=oe;continue}oe=65536+(it-55296<<10|oe-56320)}else it&&($-=3)>-1&&ut.push(239,191,189);if(it=null,oe<128){if(($-=1)<0)break;ut.push(oe)}else if(oe<2048){if(($-=2)<0)break;ut.push(oe>>6|192,63&oe|128)}else if(oe<65536){if(($-=3)<0)break;ut.push(oe>>12|224,oe>>6&63|128,63&oe|128)}else{if(!(oe<1114112))throw new Error("Invalid code point");if(($-=4)<0)break;ut.push(oe>>18|240,oe>>12&63|128,oe>>6&63|128,63&oe|128)}}return ut}function ye(ge){return S.toByteArray(function N(ge){if((ge=(ge=ge.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;ge.length%4!=0;)ge+="=";return ge}(ge))}function je(ge,$,oe,Le){let it;for(it=0;it<Le&&!(it+oe>=$.length||it>=ge.length);++it)$[it+oe]=ge[it];return it}function at(ge,$){return ge instanceof $||null!=ge&&null!=ge.constructor&&null!=ge.constructor.name&&ge.constructor.name===$.name}function vt(ge){return ge!=ge}const wt=function(){const ge="0123456789abcdef",$=new Array(256);for(let oe=0;oe<16;++oe){const Le=16*oe;for(let it=0;it<16;++it)$[Le+it]=ge[oe]+ge[it]}return $}();function At(ge){return typeof BigInt>"u"?dn:ge}function dn(){throw new Error("BigInt not supported")}},7054:function(ee,K,m){"use strict";var S=this&&this.__createBinding||(Object.create?function(D,C,O,g){void 0===g&&(g=O),Object.defineProperty(D,g,{enumerable:!0,get:function(){return C[O]}})}:function(D,C,O,g){void 0===g&&(g=O),D[g]=C[O]}),b=this&&this.__exportStar||function(D,C){for(var O in D)"default"!==O&&!Object.prototype.hasOwnProperty.call(C,O)&&S(C,D,O)};Object.defineProperty(K,"__esModule",{value:!0}),b(m(361),K)},361:(ee,K)=>{"use strict";function S(C){const O=[];let g=0;for(;g<C.length;)switch(C[g]){case"/":if("."===C[g+1])if("."===C[g+2]){if(!D(C[g+3])){O.push([]),g++;break}O.pop(),C[g+3]||O.push([]),g+=3}else{if(!D(C[g+2])){O.push([]),g++;break}C[g+2]||O.push([]),g+=2}else O.push([]),g++;break;case"#":case"?":O.length||O.push([]),O[O.length-1].push(C.substr(g)),g=C.length;break;default:O.length||O.push([]),O[O.length-1].push(C[g]),g++}return"/"+O.map(y=>y.join("")).join("/")}function b(C,O){let g=O+1;O>=0?"/"===C[O+1]&&"/"===C[O+2]&&(g=O+3):"/"===C[0]&&"/"===C[1]&&(g=2);const y=C.indexOf("/",g);return y<0?C:C.substr(0,y)+S(C.substr(y))}function D(C){return!C||"#"===C||"?"===C||"/"===C}Object.defineProperty(K,"__esModule",{value:!0}),K.removeDotSegmentsOfPath=K.removeDotSegments=K.resolve=void 0,K.resolve=function m(C,O){const g=(O=O||"").indexOf("#");if(g>0&&(O=O.substr(0,g)),!C.length){if(O.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${O}' for value '${C}'`);return O}if(C.startsWith("?")){const E=O.indexOf("?");return E>0&&(O=O.substr(0,E)),O+C}if(C.startsWith("#"))return O+C;if(!O.length){const E=C.indexOf(":");if(E<0)throw new Error(`Found invalid relative IRI '${C}' for a missing baseIRI`);return b(C,E)}const y=C.indexOf(":");if(y>=0)return b(C,y);const M=O.indexOf(":");if(M<0)throw new Error(`Found invalid baseIRI '${O}' for value '${C}'`);const U=O.substr(0,M+1);if(0===C.indexOf("//"))return U+b(C,y);let I;if(O.indexOf("//",M)===M+1){if(I=O.indexOf("/",M+3),I<0)return O.length>M+3?O+"/"+b(C,y):U+b(C,y)}else if(I=O.indexOf("/",M+1),I<0)return U+b(C,y);if(0===C.indexOf("/"))return O.substr(0,I)+S(C);let F=O.substr(I);const J=F.lastIndexOf("/");return J>=0&&J<F.length-1&&(F=F.substr(0,J+1),"."===C[0]&&"."!==C[1]&&"/"!==C[1]&&C[2]&&(C=C.substr(1))),C=S(C=F+C),O.substr(0,I)+C},K.removeDotSegments=S,K.removeDotSegmentsOfPath=b},9528:(ee,K,m)=>{!function(S){S.parser=function(B,T){return new D(B,T)},S.SAXParser=D,S.SAXStream=I,S.createStream=function U(B,T){return new I(B,T)},S.MAX_BUFFER_LENGTH=65536;var y,b=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function D(B,T){if(!(this instanceof D))return new D(B,T);var se=this;(function O(B){for(var T=0,se=b.length;T<se;T++)B[b[T]]=""})(se),se.q=se.c="",se.bufferCheckPosition=S.MAX_BUFFER_LENGTH,se.opt=T||{},se.opt.lowercase=se.opt.lowercase||se.opt.lowercasetags,se.looseCase=se.opt.lowercase?"toLowerCase":"toUpperCase",se.tags=[],se.closed=se.closedRoot=se.sawRoot=!1,se.tag=se.error=null,se.strict=!!B,se.noscript=!(!B&&!se.opt.noscript),se.state=H.BEGIN,se.strictEntities=se.opt.strictEntities,se.ENTITIES=Object.create(se.strictEntities?S.XML_ENTITIES:S.ENTITIES),se.attribList=[],se.opt.xmlns&&(se.ns=Object.create(ae)),se.trackPosition=!1!==se.opt.position,se.trackPosition&&(se.position=se.line=se.column=0),ce(se,"onready")}S.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(B){function T(){}return T.prototype=B,new T}),Object.keys||(Object.keys=function(B){var T=[];for(var se in B)B.hasOwnProperty(se)&&T.push(se);return T}),D.prototype={end:function(){Ke(this)},write:function me(B){var T=this;if(this.error)throw this.error;if(T.closed)return Qe(T,"Cannot write after close. Assign an onready handler.");if(null===B)return Ke(T);"object"==typeof B&&(B=B.toString());for(var se=0,ie="";ie=Je(B,se++),T.c=ie,ie;)switch(T.trackPosition&&(T.position++,"\n"===ie?(T.line++,T.column=0):T.column++),T.state){case H.BEGIN:if(T.state=H.BEGIN_WHITESPACE,"\ufeff"===ie)continue;pt(T,ie);continue;case H.BEGIN_WHITESPACE:pt(T,ie);continue;case H.TEXT:if(T.sawRoot&&!T.closedRoot){for(var He=se-1;ie&&"<"!==ie&&"&"!==ie;)(ie=Je(B,se++))&&T.trackPosition&&(T.position++,"\n"===ie?(T.line++,T.column=0):T.column++);T.textNode+=B.substring(He,se-1)}"<"!==ie||T.sawRoot&&T.closedRoot&&!T.strict?(!z(ie)&&(!T.sawRoot||T.closedRoot)&&Ie(T,"Text data outside of root node."),"&"===ie?T.state=H.TEXT_ENTITY:T.textNode+=ie):(T.state=H.OPEN_WAKA,T.startTagPosition=T.position);continue;case H.SCRIPT:"<"===ie?T.state=H.SCRIPT_ENDING:T.script+=ie;continue;case H.SCRIPT_ENDING:"/"===ie?T.state=H.CLOSE_TAG:(T.script+="<"+ie,T.state=H.SCRIPT);continue;case H.OPEN_WAKA:"!"===ie?(T.state=H.SGML_DECL,T.sgmlDecl=""):z(ie)||(k(Y,ie)?(T.state=H.OPEN_TAG,T.tagName=ie):"/"===ie?(T.state=H.CLOSE_TAG,T.tagName=""):"?"===ie?(T.state=H.PROC_INST,T.procInstName=T.procInstBody=""):(Ie(T,"Unencoded <"),T.startTagPosition+1<T.position&&(ie=new Array(T.position-T.startTagPosition).join(" ")+ie),T.textNode+="<"+ie,T.state=H.TEXT));continue;case H.SGML_DECL:(T.sgmlDecl+ie).toUpperCase()===F?(be(T,"onopencdata"),T.state=H.CDATA,T.sgmlDecl="",T.cdata=""):T.sgmlDecl+ie==="--"?(T.state=H.COMMENT,T.comment="",T.sgmlDecl=""):(T.sgmlDecl+ie).toUpperCase()===J?(T.state=H.DOCTYPE,(T.doctype||T.sawRoot)&&Ie(T,"Inappropriately located doctype declaration"),T.doctype="",T.sgmlDecl=""):">"===ie?(be(T,"onsgmldeclaration",T.sgmlDecl),T.sgmlDecl="",T.state=H.TEXT):(w(ie)&&(T.state=H.SGML_DECL_QUOTED),T.sgmlDecl+=ie);continue;case H.SGML_DECL_QUOTED:ie===T.q&&(T.state=H.SGML_DECL,T.q=""),T.sgmlDecl+=ie;continue;case H.DOCTYPE:">"===ie?(T.state=H.TEXT,be(T,"ondoctype",T.doctype),T.doctype=!0):(T.doctype+=ie,"["===ie?T.state=H.DOCTYPE_DTD:w(ie)&&(T.state=H.DOCTYPE_QUOTED,T.q=ie));continue;case H.DOCTYPE_QUOTED:T.doctype+=ie,ie===T.q&&(T.q="",T.state=H.DOCTYPE);continue;case H.DOCTYPE_DTD:T.doctype+=ie,"]"===ie?T.state=H.DOCTYPE:w(ie)&&(T.state=H.DOCTYPE_DTD_QUOTED,T.q=ie);continue;case H.DOCTYPE_DTD_QUOTED:T.doctype+=ie,ie===T.q&&(T.state=H.DOCTYPE_DTD,T.q="");continue;case H.COMMENT:"-"===ie?T.state=H.COMMENT_ENDING:T.comment+=ie;continue;case H.COMMENT_ENDING:"-"===ie?(T.state=H.COMMENT_ENDED,T.comment=Ne(T.opt,T.comment),T.comment&&be(T,"oncomment",T.comment),T.comment=""):(T.comment+="-"+ie,T.state=H.COMMENT);continue;case H.COMMENT_ENDED:">"!==ie?(Ie(T,"Malformed comment"),T.comment+="--"+ie,T.state=H.COMMENT):T.state=H.TEXT;continue;case H.CDATA:"]"===ie?T.state=H.CDATA_ENDING:T.cdata+=ie;continue;case H.CDATA_ENDING:"]"===ie?T.state=H.CDATA_ENDING_2:(T.cdata+="]"+ie,T.state=H.CDATA);continue;case H.CDATA_ENDING_2:">"===ie?(T.cdata&&be(T,"oncdata",T.cdata),be(T,"onclosecdata"),T.cdata="",T.state=H.TEXT):"]"===ie?T.cdata+="]":(T.cdata+="]]"+ie,T.state=H.CDATA);continue;case H.PROC_INST:"?"===ie?T.state=H.PROC_INST_ENDING:z(ie)?T.state=H.PROC_INST_BODY:T.procInstName+=ie;continue;case H.PROC_INST_BODY:if(!T.procInstBody&&z(ie))continue;"?"===ie?T.state=H.PROC_INST_ENDING:T.procInstBody+=ie;continue;case H.PROC_INST_ENDING:">"===ie?(be(T,"onprocessinginstruction",{name:T.procInstName,body:T.procInstBody}),T.procInstName=T.procInstBody="",T.state=H.TEXT):(T.procInstBody+="?"+ie,T.state=H.PROC_INST_BODY);continue;case H.OPEN_TAG:k(q,ie)?T.tagName+=ie:(ze(T),">"===ie?ue(T):"/"===ie?T.state=H.OPEN_TAG_SLASH:(z(ie)||Ie(T,"Invalid character in tag name"),T.state=H.ATTRIB));continue;case H.OPEN_TAG_SLASH:">"===ie?(ue(T,!0),Ae(T)):(Ie(T,"Forward-slash in opening tag not followed by >"),T.state=H.ATTRIB);continue;case H.ATTRIB:if(z(ie))continue;">"===ie?ue(T):"/"===ie?T.state=H.OPEN_TAG_SLASH:k(Y,ie)?(T.attribName=ie,T.attribValue="",T.state=H.ATTRIB_NAME):Ie(T,"Invalid attribute name");continue;case H.ATTRIB_NAME:"="===ie?T.state=H.ATTRIB_VALUE:">"===ie?(Ie(T,"Attribute without value"),T.attribValue=T.attribName,Ue(T),ue(T)):z(ie)?T.state=H.ATTRIB_NAME_SAW_WHITE:k(q,ie)?T.attribName+=ie:Ie(T,"Invalid attribute name");continue;case H.ATTRIB_NAME_SAW_WHITE:if("="===ie)T.state=H.ATTRIB_VALUE;else{if(z(ie))continue;Ie(T,"Attribute without value"),T.tag.attributes[T.attribName]="",T.attribValue="",be(T,"onattribute",{name:T.attribName,value:""}),T.attribName="",">"===ie?ue(T):k(Y,ie)?(T.attribName=ie,T.state=H.ATTRIB_NAME):(Ie(T,"Invalid attribute name"),T.state=H.ATTRIB)}continue;case H.ATTRIB_VALUE:if(z(ie))continue;w(ie)?(T.q=ie,T.state=H.ATTRIB_VALUE_QUOTED):(Ie(T,"Unquoted attribute value"),T.state=H.ATTRIB_VALUE_UNQUOTED,T.attribValue=ie);continue;case H.ATTRIB_VALUE_QUOTED:if(ie!==T.q){"&"===ie?T.state=H.ATTRIB_VALUE_ENTITY_Q:T.attribValue+=ie;continue}Ue(T),T.q="",T.state=H.ATTRIB_VALUE_CLOSED;continue;case H.ATTRIB_VALUE_CLOSED:z(ie)?T.state=H.ATTRIB:">"===ie?ue(T):"/"===ie?T.state=H.OPEN_TAG_SLASH:k(Y,ie)?(Ie(T,"No whitespace between attributes"),T.attribName=ie,T.attribValue="",T.state=H.ATTRIB_NAME):Ie(T,"Invalid attribute name");continue;case H.ATTRIB_VALUE_UNQUOTED:if(!R(ie)){"&"===ie?T.state=H.ATTRIB_VALUE_ENTITY_U:T.attribValue+=ie;continue}Ue(T),">"===ie?ue(T):T.state=H.ATTRIB;continue;case H.CLOSE_TAG:if(T.tagName)">"===ie?Ae(T):k(q,ie)?T.tagName+=ie:T.script?(T.script+="</"+T.tagName,T.tagName="",T.state=H.SCRIPT):(z(ie)||Ie(T,"Invalid tagname in closing tag"),T.state=H.CLOSE_TAG_SAW_WHITE);else{if(z(ie))continue;le(Y,ie)?T.script?(T.script+="</"+ie,T.state=H.SCRIPT):Ie(T,"Invalid tagname in closing tag."):T.tagName=ie}continue;case H.CLOSE_TAG_SAW_WHITE:if(z(ie))continue;">"===ie?Ae(T):Ie(T,"Invalid characters in closing tag");continue;case H.TEXT_ENTITY:case H.ATTRIB_VALUE_ENTITY_Q:case H.ATTRIB_VALUE_ENTITY_U:var he,re;switch(T.state){case H.TEXT_ENTITY:he=H.TEXT,re="textNode";break;case H.ATTRIB_VALUE_ENTITY_Q:he=H.ATTRIB_VALUE_QUOTED,re="attribValue";break;case H.ATTRIB_VALUE_ENTITY_U:he=H.ATTRIB_VALUE_UNQUOTED,re="attribValue"}if(";"===ie)if(T.opt.unparsedEntities){var W=rt(T);T.entity="",T.state=he,T.write(W)}else T[re]+=rt(T),T.entity="",T.state=he;else k(T.entity.length?G:Z,ie)?T.entity+=ie:(Ie(T,"Invalid character in entity name"),T[re]+="&"+T.entity+ie,T.entity="",T.state=he);continue;default:throw new Error(T,"Unknown state: "+T.state)}return T.position>=T.bufferCheckPosition&&function C(B){for(var T=Math.max(S.MAX_BUFFER_LENGTH,10),se=0,ie=0,He=b.length;ie<He;ie++){var Ze=B[b[ie]].length;if(Ze>T)switch(b[ie]){case"textNode":Oe(B);break;case"cdata":be(B,"oncdata",B.cdata),B.cdata="";break;case"script":be(B,"onscript",B.script),B.script="";break;default:Qe(B,"Max buffer length exceeded: "+b[ie])}se=Math.max(se,Ze)}B.bufferCheckPosition=S.MAX_BUFFER_LENGTH-se+B.position}(T),T},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function g(B){Oe(B),""!==B.cdata&&(be(B,"oncdata",B.cdata),B.cdata=""),""!==B.script&&(be(B,"onscript",B.script),B.script="")}(this)}};try{y=m(1793).Stream}catch{y=function(){}}y||(y=function(){});var M=S.EVENTS.filter(function(B){return"error"!==B&&"end"!==B});function I(B,T){if(!(this instanceof I))return new I(B,T);y.apply(this),this._parser=new D(B,T),this.writable=!0,this.readable=!0;var se=this;this._parser.onend=function(){se.emit("end")},this._parser.onerror=function(ie){se.emit("error",ie),se._parser.error=null},this._decoder=null,M.forEach(function(ie){Object.defineProperty(se,"on"+ie,{get:function(){return se._parser["on"+ie]},set:function(He){if(!He)return se.removeAllListeners(ie),se._parser["on"+ie]=He,He;se.on(ie,He)},enumerable:!0,configurable:!1})})}(I.prototype=Object.create(y.prototype,{constructor:{value:I}})).write=function(B){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(B)){if(!this._decoder){var T=m(2024).StringDecoder;this._decoder=new T("utf8")}B=this._decoder.write(B)}return this._parser.write(B.toString()),this.emit("data",B),!0},I.prototype.end=function(B){return B&&B.length&&this.write(B),this._parser.end(),!0},I.prototype.on=function(B,T){var se=this;return!se._parser["on"+B]&&-1!==M.indexOf(B)&&(se._parser["on"+B]=function(){var ie=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);ie.splice(0,0,B),se.emit.apply(se,ie)}),y.prototype.on.call(se,B,T)};var F="[CDATA[",J="DOCTYPE",E="http://www.w3.org/XML/1998/namespace",L="http://www.w3.org/2000/xmlns/",ae={xml:E,xmlns:L},Y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,Z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,G=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function z(B){return" "===B||"\n"===B||"\r"===B||"\t"===B}function w(B){return'"'===B||"'"===B}function R(B){return">"===B||z(B)}function k(B,T){return B.test(T)}function le(B,T){return!k(B,T)}var B,T,se,H=0;for(var De in S.STATE={BEGIN:H++,BEGIN_WHITESPACE:H++,TEXT:H++,TEXT_ENTITY:H++,OPEN_WAKA:H++,SGML_DECL:H++,SGML_DECL_QUOTED:H++,DOCTYPE:H++,DOCTYPE_QUOTED:H++,DOCTYPE_DTD:H++,DOCTYPE_DTD_QUOTED:H++,COMMENT_STARTING:H++,COMMENT:H++,COMMENT_ENDING:H++,COMMENT_ENDED:H++,CDATA:H++,CDATA_ENDING:H++,CDATA_ENDING_2:H++,PROC_INST:H++,PROC_INST_BODY:H++,PROC_INST_ENDING:H++,OPEN_TAG:H++,OPEN_TAG_SLASH:H++,ATTRIB:H++,ATTRIB_NAME:H++,ATTRIB_NAME_SAW_WHITE:H++,ATTRIB_VALUE:H++,ATTRIB_VALUE_QUOTED:H++,ATTRIB_VALUE_CLOSED:H++,ATTRIB_VALUE_UNQUOTED:H++,ATTRIB_VALUE_ENTITY_Q:H++,ATTRIB_VALUE_ENTITY_U:H++,CLOSE_TAG:H++,CLOSE_TAG_SAW_WHITE:H++,SCRIPT:H++,SCRIPT_ENDING:H++},S.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},S.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(S.ENTITIES).forEach(function(B){var T=S.ENTITIES[B],se="number"==typeof T?String.fromCharCode(T):T;S.ENTITIES[B]=se}),S.STATE)S.STATE[S.STATE[De]]=De;function ce(B,T,se){B[T]&&B[T](se)}function be(B,T,se){B.textNode&&Oe(B),ce(B,T,se)}function Oe(B){B.textNode=Ne(B.opt,B.textNode),B.textNode&&ce(B,"ontext",B.textNode),B.textNode=""}function Ne(B,T){return B.trim&&(T=T.trim()),B.normalize&&(T=T.replace(/\s+/g," ")),T}function Qe(B,T){return Oe(B),B.trackPosition&&(T+="\nLine: "+B.line+"\nColumn: "+B.column+"\nChar: "+B.c),T=new Error(T),B.error=T,ce(B,"onerror",T),B}function Ke(B){return B.sawRoot&&!B.closedRoot&&Ie(B,"Unclosed root tag"),B.state!==H.BEGIN&&B.state!==H.BEGIN_WHITESPACE&&B.state!==H.TEXT&&Qe(B,"Unexpected end"),Oe(B),B.c="",B.closed=!0,ce(B,"onend"),D.call(B,B.strict,B.opt),B}function Ie(B,T){if("object"!=typeof B||!(B instanceof D))throw new Error("bad call to strictFail");B.strict&&Qe(B,T)}function ze(B){B.strict||(B.tagName=B.tagName[B.looseCase]());var T=B.tags[B.tags.length-1]||B,se=B.tag={name:B.tagName,attributes:{}};B.opt.xmlns&&(se.ns=T.ns),B.attribList.length=0,be(B,"onopentagstart",se)}function Te(B,T){var ie=B.indexOf(":")<0?["",B]:B.split(":"),He=ie[0],Ze=ie[1];return T&&"xmlns"===B&&(He="xmlns",Ze=""),{prefix:He,local:Ze}}function Ue(B){if(B.strict||(B.attribName=B.attribName[B.looseCase]()),-1!==B.attribList.indexOf(B.attribName)||B.tag.attributes.hasOwnProperty(B.attribName))B.attribName=B.attribValue="";else{if(B.opt.xmlns){var T=Te(B.attribName,!0),ie=T.local;if("xmlns"===T.prefix)if("xml"===ie&&B.attribValue!==E)Ie(B,"xml: prefix must be bound to "+E+"\nActual: "+B.attribValue);else if("xmlns"===ie&&B.attribValue!==L)Ie(B,"xmlns: prefix must be bound to "+L+"\nActual: "+B.attribValue);else{var He=B.tag,Ze=B.tags[B.tags.length-1]||B;He.ns===Ze.ns&&(He.ns=Object.create(Ze.ns)),He.ns[ie]=B.attribValue}B.attribList.push([B.attribName,B.attribValue])}else B.tag.attributes[B.attribName]=B.attribValue,be(B,"onattribute",{name:B.attribName,value:B.attribValue});B.attribName=B.attribValue=""}}function ue(B,T){if(B.opt.xmlns){var se=B.tag,ie=Te(B.tagName);se.prefix=ie.prefix,se.local=ie.local,se.uri=se.ns[ie.prefix]||"",se.prefix&&!se.uri&&(Ie(B,"Unbound namespace prefix: "+JSON.stringify(B.tagName)),se.uri=ie.prefix),se.ns&&(B.tags[B.tags.length-1]||B).ns!==se.ns&&Object.keys(se.ns).forEach(function(at){be(B,"onopennamespace",{prefix:at,uri:se.ns[at]})});for(var Ze=0,he=B.attribList.length;Ze<he;Ze++){var re=B.attribList[Ze],W=re[0],N=re[1],V=Te(W,!0),fe=V.prefix,ye=""===fe?"":se.ns[fe]||"",je={name:W,value:N,prefix:fe,local:V.local,uri:ye};fe&&"xmlns"!==fe&&!ye&&(Ie(B,"Unbound namespace prefix: "+JSON.stringify(fe)),je.uri=fe),B.tag.attributes[W]=je,be(B,"onattribute",je)}B.attribList.length=0}B.tag.isSelfClosing=!!T,B.sawRoot=!0,B.tags.push(B.tag),be(B,"onopentag",B.tag),T||(B.state=B.noscript||"script"!==B.tagName.toLowerCase()?H.TEXT:H.SCRIPT,B.tag=null,B.tagName=""),B.attribName=B.attribValue="",B.attribList.length=0}function Ae(B){if(!B.tagName)return Ie(B,"Weird empty close tag."),B.textNode+="</>",void(B.state=H.TEXT);if(B.script){if("script"!==B.tagName)return B.script+="</"+B.tagName+">",B.tagName="",void(B.state=H.SCRIPT);be(B,"onscript",B.script),B.script=""}var T=B.tags.length,se=B.tagName;B.strict||(se=se[B.looseCase]());for(var ie=se;T--&&B.tags[T].name!==ie;)Ie(B,"Unexpected close tag");if(T<0)return Ie(B,"Unmatched closing tag: "+B.tagName),B.textNode+="</"+B.tagName+">",void(B.state=H.TEXT);B.tagName=se;for(var Ze=B.tags.length;Ze-- >T;){var he=B.tag=B.tags.pop();B.tagName=B.tag.name,be(B,"onclosetag",B.tagName);var re={};for(var W in he.ns)re[W]=he.ns[W];B.opt.xmlns&&he.ns!==(B.tags[B.tags.length-1]||B).ns&&Object.keys(he.ns).forEach(function(V){be(B,"onclosenamespace",{prefix:V,uri:he.ns[V]})})}0===T&&(B.closedRoot=!0),B.tagName=B.attribValue=B.attribName="",B.attribList.length=0,B.state=H.TEXT}function rt(B){var ie,T=B.entity,se=T.toLowerCase(),He="";return B.ENTITIES[T]?B.ENTITIES[T]:B.ENTITIES[se]?B.ENTITIES[se]:("#"===(T=se).charAt(0)&&("x"===T.charAt(1)?(T=T.slice(2),He=(ie=parseInt(T,16)).toString(16)):(T=T.slice(1),He=(ie=parseInt(T,10)).toString(10))),T=T.replace(/^0+/,""),isNaN(ie)||He.toLowerCase()!==T?(Ie(B,"Invalid character entity"),"&"+B.entity+";"):String.fromCodePoint(ie))}function pt(B,T){"<"===T?(B.state=H.OPEN_WAKA,B.startTagPosition=B.position):z(T)||(Ie(B,"Non-whitespace before first tag."),B.textNode=T,B.state=H.TEXT)}function Je(B,T){var se="";return T<B.length&&(se=B.charAt(T)),se}H=S.STATE,String.fromCodePoint||(B=String.fromCharCode,T=Math.floor,se=function(){var He=[],re=-1,W=arguments.length;if(!W)return"";for(var N="";++re<W;){var V=Number(arguments[re]);if(!isFinite(V)||V<0||V>1114111||T(V)!==V)throw RangeError("Invalid code point: "+V);V<=65535?He.push(V):He.push(55296+((V-=65536)>>10),V%1024+56320),(re+1===W||He.length>16384)&&(N+=B.apply(null,He),He.length=0)}return N},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:se,configurable:!0,writable:!0}):String.fromCodePoint=se)}(K)},8280:function(){!function(ee,K){"use strict";if(!ee.setImmediate){var C,m=1,S={},b=!1,D=ee.document,ae=Object.getPrototypeOf&&Object.getPrototypeOf(ee);ae=ae&&ae.setTimeout?ae:ee,"[object process]"==={}.toString.call(ee.process)?function U(){C=function(Y){process.nextTick(function(){M(Y)})}}():function I(){if(ee.postMessage&&!ee.importScripts){var Y=!0,q=ee.onmessage;return ee.onmessage=function(){Y=!1},ee.postMessage("","*"),ee.onmessage=q,Y}}()?function F(){var Y="setImmediate$"+Math.random()+"$",q=function(Z){Z.source===ee&&"string"==typeof Z.data&&0===Z.data.indexOf(Y)&&M(+Z.data.slice(Y.length))};ee.addEventListener?ee.addEventListener("message",q,!1):ee.attachEvent("onmessage",q),C=function(Z){ee.postMessage(Y+Z,"*")}}():ee.MessageChannel?function J(){var Y=new MessageChannel;Y.port1.onmessage=function(q){M(q.data)},C=function(q){Y.port2.postMessage(q)}}():D&&"onreadystatechange"in D.createElement("script")?function E(){var Y=D.documentElement;C=function(q){var Z=D.createElement("script");Z.onreadystatechange=function(){M(q),Z.onreadystatechange=null,Y.removeChild(Z),Z=null},Y.appendChild(Z)}}():function L(){C=function(Y){setTimeout(M,0,Y)}}(),ae.setImmediate=function O(Y){"function"!=typeof Y&&(Y=new Function(""+Y));for(var q=new Array(arguments.length-1),Z=0;Z<q.length;Z++)q[Z]=arguments[Z+1];return S[m]={callback:Y,args:q},C(m),m++},ae.clearImmediate=g}function g(Y){delete S[Y]}function M(Y){if(b)setTimeout(M,0,Y);else{var q=S[Y];if(q){b=!0;try{!function y(Y){var q=Y.callback,Z=Y.args;switch(Z.length){case 0:q();break;case 1:q(Z[0]);break;case 2:q(Z[0],Z[1]);break;case 3:q(Z[0],Z[1],Z[2]);break;default:q.apply(undefined,Z)}}(q)}finally{g(Y),b=!1}}}}}(typeof self>"u"?typeof global>"u"?this:global:self)},1793:(ee,K,m)=>{ee.exports=D;var S=m(2016).EventEmitter;function D(){S.call(this)}m(6698)(D,S),D.Readable=m(842),D.Writable=m(7597),D.Duplex=m(2232),D.Transform=m(555),D.PassThrough=m(8226),D.finished=m(1227),D.pipeline=m(2345),D.Stream=D,D.prototype.pipe=function(C,O){var g=this;function y(L){C.writable&&!1===C.write(L)&&g.pause&&g.pause()}function M(){g.readable&&g.resume&&g.resume()}g.on("data",y),C.on("drain",M),!C._isStdio&&(!O||!1!==O.end)&&(g.on("end",I),g.on("close",F));var U=!1;function I(){U||(U=!0,C.end())}function F(){U||(U=!0,"function"==typeof C.destroy&&C.destroy())}function J(L){if(E(),0===S.listenerCount(this,"error"))throw L}function E(){g.removeListener("data",y),C.removeListener("drain",M),g.removeListener("end",I),g.removeListener("close",F),g.removeListener("error",J),C.removeListener("error",J),g.removeListener("end",E),g.removeListener("close",E),C.removeListener("close",E)}return g.on("error",J),C.on("error",J),g.on("end",E),g.on("close",E),C.on("close",E),C.emit("pipe",g),C}},9555:ee=>{"use strict";var m={};function S(g,y,M){M||(M=Error);var I=function(F){function J(E,L,ae){return F.call(this,function U(F,J,E){return"string"==typeof y?y:y(F,J,E)}(E,L,ae))||this}return function K(g,y){g.prototype=Object.create(y.prototype),g.prototype.constructor=g,g.__proto__=y}(J,F),J}(M);I.prototype.name=M.name,I.prototype.code=g,m[g]=I}function b(g,y){if(Array.isArray(g)){var M=g.length;return g=g.map(function(U){return String(U)}),M>2?"one of ".concat(y," ").concat(g.slice(0,M-1).join(", "),", or ")+g[M-1]:2===M?"one of ".concat(y," ").concat(g[0]," or ").concat(g[1]):"of ".concat(y," ").concat(g[0])}return"of ".concat(y," ").concat(String(g))}S("ERR_INVALID_OPT_VALUE",function(g,y){return'The value "'+y+'" is invalid for option "'+g+'"'},TypeError),S("ERR_INVALID_ARG_TYPE",function(g,y,M){var U,I;if("string"==typeof y&&function D(g,y,M){return g.substr(!M||M<0?0:+M,y.length)===y}(y,"not ")?(U="must not be",y=y.replace(/^not /,"")):U="must be",function C(g,y,M){return(void 0===M||M>g.length)&&(M=g.length),g.substring(M-y.length,M)===y}(g," argument"))I="The ".concat(g," ").concat(U," ").concat(b(y,"type"));else{var F=function O(g,y,M){return"number"!=typeof M&&(M=0),!(M+y.length>g.length)&&-1!==g.indexOf(y,M)}(g,".")?"property":"argument";I='The "'.concat(g,'" ').concat(F," ").concat(U," ").concat(b(y,"type"))}return I+". Received type ".concat(typeof M)},TypeError),S("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),S("ERR_METHOD_NOT_IMPLEMENTED",function(g){return"The "+g+" method is not implemented"}),S("ERR_STREAM_PREMATURE_CLOSE","Premature close"),S("ERR_STREAM_DESTROYED",function(g){return"Cannot call "+g+" after a stream was destroyed"}),S("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),S("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),S("ERR_STREAM_WRITE_AFTER_END","write after end"),S("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),S("ERR_UNKNOWN_ENCODING",function(g){return"Unknown encoding: "+g},TypeError),S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ee.exports.q=m},2232:(ee,K,m)=>{"use strict";var S=Object.keys||function(I){var F=[];for(var J in I)F.push(J);return F};ee.exports=y;var b=m(842),D=m(7597);m(6698)(y,b);for(var C=S(D.prototype),O=0;O<C.length;O++){var g=C[O];y.prototype[g]||(y.prototype[g]=D.prototype[g])}function y(I){if(!(this instanceof y))return new y(I);b.call(this,I),D.call(this,I),this.allowHalfOpen=!0,I&&(!1===I.readable&&(this.readable=!1),!1===I.writable&&(this.writable=!1),!1===I.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",M)))}function M(){this._writableState.ended||process.nextTick(U,this)}function U(I){I.end()}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(F){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=F,this._writableState.destroyed=F)}})},8226:(ee,K,m)=>{"use strict";ee.exports=b;var S=m(555);function b(D){if(!(this instanceof b))return new b(D);S.call(this,D)}m(6698)(b,S),b.prototype._transform=function(D,C,O){O(null,D)}},842:(ee,K,m)=>{"use strict";var S;ee.exports=ce,ce.ReadableState=De,m(2016);var I,D=function(re,W){return re.listeners(W).length},C=m(3951),O=m(9007).Buffer,g=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},U=m(964);I=U&&U.debuglog?U.debuglog("stream"):function(){};var z,w,R,F=m(2998),J=m(3992),L=m(4962).getHighWaterMark,ae=m(9555).q,Y=ae.ERR_INVALID_ARG_TYPE,q=ae.ERR_STREAM_PUSH_AFTER_EOF,Z=ae.ERR_METHOD_NOT_IMPLEMENTED,G=ae.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;m(6698)(ce,C);var k=J.errorOrDestroy,le=["error","close","destroy","pause","resume"];function De(he,re,W){S=S||m(2232),"boolean"!=typeof W&&(W=re instanceof S),this.objectMode=!!(he=he||{}).objectMode,W&&(this.objectMode=this.objectMode||!!he.readableObjectMode),this.highWaterMark=L(this,he,"readableHighWaterMark",W),this.buffer=new F,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==he.emitClose,this.autoDestroy=!!he.autoDestroy,this.destroyed=!1,this.defaultEncoding=he.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,he.encoding&&(z||(z=m(2024).StringDecoder),this.decoder=new z(he.encoding),this.encoding=he.encoding)}function ce(he){if(S=S||m(2232),!(this instanceof ce))return new ce(he);this._readableState=new De(he,this,this instanceof S),this.readable=!0,he&&("function"==typeof he.read&&(this._read=he.read),"function"==typeof he.destroy&&(this._destroy=he.destroy)),C.call(this)}function be(he,re,W,N,V){I("readableAddChunk",re);var We,fe=he._readableState;if(null===re)fe.reading=!1,function ze(he,re){if(I("onEofChunk"),!re.ended){if(re.decoder){var W=re.decoder.end();W&&W.length&&(re.buffer.push(W),re.length+=re.objectMode?1:W.length)}re.ended=!0,re.sync?Te(he):(re.needReadable=!1,re.emittedReadable||(re.emittedReadable=!0,Ue(he)))}}(he,fe);else if(V||(We=function Ne(he,re){var W;return!function M(he){return O.isBuffer(he)||he instanceof g}(re)&&"string"!=typeof re&&void 0!==re&&!he.objectMode&&(W=new Y("chunk",["string","Buffer","Uint8Array"],re)),W}(fe,re)),We)k(he,We);else if(fe.objectMode||re&&re.length>0)if("string"!=typeof re&&!fe.objectMode&&Object.getPrototypeOf(re)!==O.prototype&&(re=function y(he){return O.from(he)}(re)),N)fe.endEmitted?k(he,new G):Oe(he,fe,re,!0);else if(fe.ended)k(he,new q);else{if(fe.destroyed)return!1;fe.reading=!1,fe.decoder&&!W?(re=fe.decoder.write(re),fe.objectMode||0!==re.length?Oe(he,fe,re,!1):ue(he,fe)):Oe(he,fe,re,!1)}else N||(fe.reading=!1,ue(he,fe));return!fe.ended&&(fe.length<fe.highWaterMark||0===fe.length)}function Oe(he,re,W,N){re.flowing&&0===re.length&&!re.sync?(re.awaitDrain=0,he.emit("data",W)):(re.length+=re.objectMode?1:W.length,N?re.buffer.unshift(W):re.buffer.push(W),re.needReadable&&Te(he)),ue(he,re)}Object.defineProperty(ce.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(re){this._readableState&&(this._readableState.destroyed=re)}}),ce.prototype.destroy=J.destroy,ce.prototype._undestroy=J.undestroy,ce.prototype._destroy=function(he,re){re(he)},ce.prototype.push=function(he,re){var N,W=this._readableState;return W.objectMode?N=!0:"string"==typeof he&&((re=re||W.defaultEncoding)!==W.encoding&&(he=O.from(he,re),re=""),N=!0),be(this,he,re,!1,N)},ce.prototype.unshift=function(he){return be(this,he,null,!0,!1)},ce.prototype.isPaused=function(){return!1===this._readableState.flowing},ce.prototype.setEncoding=function(he){z||(z=m(2024).StringDecoder);var re=new z(he);this._readableState.decoder=re,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,N="";null!==W;)N+=re.write(W.data),W=W.next;return this._readableState.buffer.clear(),""!==N&&this._readableState.buffer.push(N),this._readableState.length=N.length,this};var Qe=1073741824;function Ie(he,re){return he<=0||0===re.length&&re.ended?0:re.objectMode?1:he!=he?re.flowing&&re.length?re.buffer.head.data.length:re.length:(he>re.highWaterMark&&(re.highWaterMark=function Ke(he){return he>=Qe?he=Qe:(he--,he|=he>>>1,he|=he>>>2,he|=he>>>4,he|=he>>>8,he|=he>>>16,he++),he}(he)),he<=re.length?he:re.ended?re.length:(re.needReadable=!0,0))}function Te(he){var re=he._readableState;I("emitReadable",re.needReadable,re.emittedReadable),re.needReadable=!1,re.emittedReadable||(I("emitReadable",re.flowing),re.emittedReadable=!0,process.nextTick(Ue,he))}function Ue(he){var re=he._readableState;I("emitReadable_",re.destroyed,re.length,re.ended),!re.destroyed&&(re.length||re.ended)&&(he.emit("readable"),re.emittedReadable=!1),re.needReadable=!re.flowing&&!re.ended&&re.length<=re.highWaterMark,T(he)}function ue(he,re){re.readingMore||(re.readingMore=!0,process.nextTick(Ae,he,re))}function Ae(he,re){for(;!re.reading&&!re.ended&&(re.length<re.highWaterMark||re.flowing&&0===re.length);){var W=re.length;if(I("maybeReadMore read 0"),he.read(0),W===re.length)break}re.readingMore=!1}function pt(he){var re=he._readableState;re.readableListening=he.listenerCount("readable")>0,re.resumeScheduled&&!re.paused?re.flowing=!0:he.listenerCount("data")>0&&he.resume()}function Je(he){I("readable nexttick read 0"),he.read(0)}function B(he,re){I("resume",re.reading),re.reading||he.read(0),re.resumeScheduled=!1,he.emit("resume"),T(he),re.flowing&&!re.reading&&he.read(0)}function T(he){var re=he._readableState;for(I("flow",re.flowing);re.flowing&&null!==he.read(););}function se(he,re){return 0===re.length?null:(re.objectMode?W=re.buffer.shift():!he||he>=re.length?(W=re.decoder?re.buffer.join(""):1===re.buffer.length?re.buffer.first():re.buffer.concat(re.length),re.buffer.clear()):W=re.buffer.consume(he,re.decoder),W);var W}function ie(he){var re=he._readableState;I("endReadable",re.endEmitted),re.endEmitted||(re.ended=!0,process.nextTick(He,re,he))}function He(he,re){if(I("endReadableNT",he.endEmitted,he.length),!he.endEmitted&&0===he.length&&(he.endEmitted=!0,re.readable=!1,re.emit("end"),he.autoDestroy)){var W=re._writableState;(!W||W.autoDestroy&&W.finished)&&re.destroy()}}function Ze(he,re){for(var W=0,N=he.length;W<N;W++)if(he[W]===re)return W;return-1}ce.prototype.read=function(he){I("read",he),he=parseInt(he,10);var re=this._readableState,W=he;if(0!==he&&(re.emittedReadable=!1),0===he&&re.needReadable&&((0!==re.highWaterMark?re.length>=re.highWaterMark:re.length>0)||re.ended))return I("read: emitReadable",re.length,re.ended),0===re.length&&re.ended?ie(this):Te(this),null;if(0===(he=Ie(he,re))&&re.ended)return 0===re.length&&ie(this),null;var V,N=re.needReadable;return I("need readable",N),(0===re.length||re.length-he<re.highWaterMark)&&I("length less than watermark",N=!0),re.ended||re.reading?I("reading or ended",N=!1):N&&(I("do read"),re.reading=!0,re.sync=!0,0===re.length&&(re.needReadable=!0),this._read(re.highWaterMark),re.sync=!1,re.reading||(he=Ie(W,re))),null===(V=he>0?se(he,re):null)?(re.needReadable=re.length<=re.highWaterMark,he=0):(re.length-=he,re.awaitDrain=0),0===re.length&&(re.ended||(re.needReadable=!0),W!==he&&re.ended&&ie(this)),null!==V&&this.emit("data",V),V},ce.prototype._read=function(he){k(this,new Z("_read()"))},ce.prototype.pipe=function(he,re){var W=this,N=this._readableState;switch(N.pipesCount){case 0:N.pipes=he;break;case 1:N.pipes=[N.pipes,he];break;default:N.pipes.push(he)}N.pipesCount+=1,I("pipe count=%d opts=%j",N.pipesCount,re);var fe=re&&!1===re.end||he===process.stdout||he===process.stderr?$:ye;function ye(){I("onend"),he.end()}N.endEmitted?process.nextTick(fe):W.once("end",fe),he.on("unpipe",function We(oe,Le){I("onunpipe"),oe===W&&Le&&!1===Le.hasUnpiped&&(Le.hasUnpiped=!0,function vt(){I("cleanup"),he.removeListener("close",dn),he.removeListener("finish",ge),he.removeListener("drain",je),he.removeListener("error",At),he.removeListener("unpipe",We),W.removeListener("end",ye),W.removeListener("end",$),W.removeListener("data",wt),at=!0,N.awaitDrain&&(!he._writableState||he._writableState.needDrain)&&je()}())});var je=function rt(he){return function(){var W=he._readableState;I("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,0===W.awaitDrain&&D(he,"data")&&(W.flowing=!0,T(he))}}(W);he.on("drain",je);var at=!1;function wt(oe){I("ondata");var Le=he.write(oe);I("dest.write",Le),!1===Le&&((1===N.pipesCount&&N.pipes===he||N.pipesCount>1&&-1!==Ze(N.pipes,he))&&!at&&(I("false write response, pause",N.awaitDrain),N.awaitDrain++),W.pause())}function At(oe){I("onerror",oe),$(),he.removeListener("error",At),0===D(he,"error")&&k(he,oe)}function dn(){he.removeListener("finish",ge),$()}function ge(){I("onfinish"),he.removeListener("close",dn),$()}function $(){I("unpipe"),W.unpipe(he)}return W.on("data",wt),function H(he,re,W){if("function"==typeof he.prependListener)return he.prependListener(re,W);he._events&&he._events[re]?Array.isArray(he._events[re])?he._events[re].unshift(W):he._events[re]=[W,he._events[re]]:he.on(re,W)}(he,"error",At),he.once("close",dn),he.once("finish",ge),he.emit("pipe",W),N.flowing||(I("pipe resume"),W.resume()),he},ce.prototype.unpipe=function(he){var re=this._readableState,W={hasUnpiped:!1};if(0===re.pipesCount)return this;if(1===re.pipesCount)return he&&he!==re.pipes||(he||(he=re.pipes),re.pipes=null,re.pipesCount=0,re.flowing=!1,he&&he.emit("unpipe",this,W)),this;if(!he){var N=re.pipes,V=re.pipesCount;re.pipes=null,re.pipesCount=0,re.flowing=!1;for(var fe=0;fe<V;fe++)N[fe].emit("unpipe",this,{hasUnpiped:!1});return this}var We=Ze(re.pipes,he);return-1===We||(re.pipes.splice(We,1),re.pipesCount-=1,1===re.pipesCount&&(re.pipes=re.pipes[0]),he.emit("unpipe",this,W)),this},ce.prototype.addListener=ce.prototype.on=function(he,re){var W=C.prototype.on.call(this,he,re),N=this._readableState;return"data"===he?(N.readableListening=this.listenerCount("readable")>0,!1!==N.flowing&&this.resume()):"readable"===he&&!N.endEmitted&&!N.readableListening&&(N.readableListening=N.needReadable=!0,N.flowing=!1,N.emittedReadable=!1,I("on readable",N.length,N.reading),N.length?Te(this):N.reading||process.nextTick(Je,this)),W},ce.prototype.removeListener=function(he,re){var W=C.prototype.removeListener.call(this,he,re);return"readable"===he&&process.nextTick(pt,this),W},ce.prototype.removeAllListeners=function(he){var re=C.prototype.removeAllListeners.apply(this,arguments);return("readable"===he||void 0===he)&&process.nextTick(pt,this),re},ce.prototype.resume=function(){var he=this._readableState;return he.flowing||(I("resume"),he.flowing=!he.readableListening,function me(he,re){re.resumeScheduled||(re.resumeScheduled=!0,process.nextTick(B,he,re))}(this,he)),he.paused=!1,this},ce.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},ce.prototype.wrap=function(he){var re=this,W=this._readableState,N=!1;for(var V in he.on("end",function(){if(I("wrapped end"),W.decoder&&!W.ended){var We=W.decoder.end();We&&We.length&&re.push(We)}re.push(null)}),he.on("data",function(We){I("wrapped data"),W.decoder&&(We=W.decoder.write(We)),W.objectMode&&null==We||!(W.objectMode||We&&We.length)||re.push(We)||(N=!0,he.pause())}),he)void 0===this[V]&&"function"==typeof he[V]&&(this[V]=function(ye){return function(){return he[ye].apply(he,arguments)}}(V));for(var fe=0;fe<le.length;fe++)he.on(le[fe],this.emit.bind(this,le[fe]));return this._read=function(We){I("wrapped _read",We),N&&(N=!1,he.resume())},this},"function"==typeof Symbol&&(ce.prototype[Symbol.asyncIterator]=function(){return void 0===w&&(w=m(2590)),w(this)}),Object.defineProperty(ce.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ce.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ce.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(re){this._readableState&&(this._readableState.flowing=re)}}),ce._fromList=se,Object.defineProperty(ce.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(ce.from=function(he,re){return void 0===R&&(R=m(5374)),R(ce,he,re)})},555:(ee,K,m)=>{"use strict";ee.exports=M;var S=m(9555).q,b=S.ERR_METHOD_NOT_IMPLEMENTED,D=S.ERR_MULTIPLE_CALLBACK,C=S.ERR_TRANSFORM_ALREADY_TRANSFORMING,O=S.ERR_TRANSFORM_WITH_LENGTH_0,g=m(2232);function y(F,J){var E=this._transformState;E.transforming=!1;var L=E.writecb;if(null===L)return this.emit("error",new D);E.writechunk=null,E.writecb=null,null!=J&&this.push(J),L(F);var ae=this._readableState;ae.reading=!1,(ae.needReadable||ae.length<ae.highWaterMark)&&this._read(ae.highWaterMark)}function M(F){if(!(this instanceof M))return new M(F);g.call(this,F),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,F&&("function"==typeof F.transform&&(this._transform=F.transform),"function"==typeof F.flush&&(this._flush=F.flush)),this.on("prefinish",U)}function U(){var F=this;"function"!=typeof this._flush||this._readableState.destroyed?I(this,null,null):this._flush(function(J,E){I(F,J,E)})}function I(F,J,E){if(J)return F.emit("error",J);if(null!=E&&F.push(E),F._writableState.length)throw new O;if(F._transformState.transforming)throw new C;return F.push(null)}m(6698)(M,g),M.prototype.push=function(F,J){return this._transformState.needTransform=!1,g.prototype.push.call(this,F,J)},M.prototype._transform=function(F,J,E){E(new b("_transform()"))},M.prototype._write=function(F,J,E){var L=this._transformState;if(L.writecb=E,L.writechunk=F,L.writeencoding=J,!L.transforming){var ae=this._readableState;(L.needTransform||ae.needReadable||ae.length<ae.highWaterMark)&&this._read(ae.highWaterMark)}},M.prototype._read=function(F){var J=this._transformState;null===J.writechunk||J.transforming?J.needTransform=!0:(J.transforming=!0,this._transform(J.writechunk,J.writeencoding,J.afterTransform))},M.prototype._destroy=function(F,J){g.prototype._destroy.call(this,F,function(E){J(E)})}},7597:(ee,K,m)=>{"use strict";function b(T){var se=this;this.next=null,this.entry=null,this.finish=function(){!function B(T,se,ie){var He=T.entry;for(T.entry=null;He;){var Ze=He.callback;se.pendingcb--,Ze(ie),He=He.next}se.corkedRequestsFree.next=T}(se,T)}}var D;ee.exports=De,De.WritableState=le;var H,C={deprecate:m(496)},O=m(3951),g=m(9007).Buffer,y=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},I=m(3992),J=m(4962).getHighWaterMark,E=m(9555).q,L=E.ERR_INVALID_ARG_TYPE,ae=E.ERR_METHOD_NOT_IMPLEMENTED,Y=E.ERR_MULTIPLE_CALLBACK,q=E.ERR_STREAM_CANNOT_PIPE,Z=E.ERR_STREAM_DESTROYED,G=E.ERR_STREAM_NULL_VALUES,z=E.ERR_STREAM_WRITE_AFTER_END,w=E.ERR_UNKNOWN_ENCODING,R=I.errorOrDestroy;function k(){}function le(T,se,ie){D=D||m(2232),"boolean"!=typeof ie&&(ie=se instanceof D),this.objectMode=!!(T=T||{}).objectMode,ie&&(this.objectMode=this.objectMode||!!T.writableObjectMode),this.highWaterMark=J(this,T,"writableHighWaterMark",ie),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===T.decodeStrings),this.defaultEncoding=T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ze){!function ze(T,se){var ie=T._writableState,He=ie.sync,Ze=ie.writecb;if("function"!=typeof Ze)throw new Y;if(function Ie(T){T.writing=!1,T.writecb=null,T.length-=T.writelen,T.writelen=0}(ie),se)!function Ke(T,se,ie,He,Ze){--se.pendingcb,ie?(process.nextTick(Ze,He),process.nextTick(Je,T,se),T._writableState.errorEmitted=!0,R(T,He)):(Ze(He),T._writableState.errorEmitted=!0,R(T,He),Je(T,se))}(T,ie,He,se,Ze);else{var he=Ae(ie)||T.destroyed;!he&&!ie.corked&&!ie.bufferProcessing&&ie.bufferedRequest&&ue(T,ie),He?process.nextTick(Te,T,ie,he,Ze):Te(T,ie,he,Ze)}}(se,Ze)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==T.emitClose,this.autoDestroy=!!T.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new b(this)}function De(T){var se=this instanceof(D=D||m(2232));if(!se&&!H.call(De,this))return new De(T);this._writableState=new le(T,this,se),this.writable=!0,T&&("function"==typeof T.write&&(this._write=T.write),"function"==typeof T.writev&&(this._writev=T.writev),"function"==typeof T.destroy&&(this._destroy=T.destroy),"function"==typeof T.final&&(this._final=T.final)),O.call(this)}function Qe(T,se,ie,He,Ze,he,re){se.writelen=He,se.writecb=re,se.writing=!0,se.sync=!0,se.destroyed?se.onwrite(new Z("write")):ie?T._writev(Ze,se.onwrite):T._write(Ze,he,se.onwrite),se.sync=!1}function Te(T,se,ie,He){ie||function Ue(T,se){0===se.length&&se.needDrain&&(se.needDrain=!1,T.emit("drain"))}(T,se),se.pendingcb--,He(),Je(T,se)}function ue(T,se){se.bufferProcessing=!0;var ie=se.bufferedRequest;if(T._writev&&ie&&ie.next){var Ze=new Array(se.bufferedRequestCount),he=se.corkedRequestsFree;he.entry=ie;for(var re=0,W=!0;ie;)Ze[re]=ie,ie.isBuf||(W=!1),ie=ie.next,re+=1;Ze.allBuffers=W,Qe(T,se,!0,se.length,Ze,"",he.finish),se.pendingcb++,se.lastBufferedRequest=null,he.next?(se.corkedRequestsFree=he.next,he.next=null):se.corkedRequestsFree=new b(se),se.bufferedRequestCount=0}else{for(;ie;){var N=ie.chunk;if(Qe(T,se,!1,se.objectMode?1:N.length,N,ie.encoding,ie.callback),ie=ie.next,se.bufferedRequestCount--,se.writing)break}null===ie&&(se.lastBufferedRequest=null)}se.bufferedRequest=ie,se.bufferProcessing=!1}function Ae(T){return T.ending&&0===T.length&&null===T.bufferedRequest&&!T.finished&&!T.writing}function rt(T,se){T._final(function(ie){se.pendingcb--,ie&&R(T,ie),se.prefinished=!0,T.emit("prefinish"),Je(T,se)})}function Je(T,se){var ie=Ae(se);if(ie&&(function pt(T,se){!se.prefinished&&!se.finalCalled&&("function"!=typeof T._final||se.destroyed?(se.prefinished=!0,T.emit("prefinish")):(se.pendingcb++,se.finalCalled=!0,process.nextTick(rt,T,se)))}(T,se),0===se.pendingcb&&(se.finished=!0,T.emit("finish"),se.autoDestroy))){var He=T._readableState;(!He||He.autoDestroy&&He.endEmitted)&&T.destroy()}return ie}m(6698)(De,O),le.prototype.getBuffer=function(){for(var se=this.bufferedRequest,ie=[];se;)ie.push(se),se=se.next;return ie},function(){try{Object.defineProperty(le.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(H=Function.prototype[Symbol.hasInstance],Object.defineProperty(De,Symbol.hasInstance,{value:function(se){return!!H.call(this,se)||this===De&&se&&se._writableState instanceof le}})):H=function(se){return se instanceof this},De.prototype.pipe=function(){R(this,new q)},De.prototype.write=function(T,se,ie){var He=this._writableState,Ze=!1,he=!He.objectMode&&function U(T){return g.isBuffer(T)||T instanceof y}(T);return he&&!g.isBuffer(T)&&(T=function M(T){return g.from(T)}(T)),"function"==typeof se&&(ie=se,se=null),he?se="buffer":se||(se=He.defaultEncoding),"function"!=typeof ie&&(ie=k),He.ending?function ce(T,se){var ie=new z;R(T,ie),process.nextTick(se,ie)}(this,ie):(he||function be(T,se,ie,He){var Ze;return null===ie?Ze=new G:"string"!=typeof ie&&!se.objectMode&&(Ze=new L("chunk",["string","Buffer"],ie)),!Ze||(R(T,Ze),process.nextTick(He,Ze),!1)}(this,He,T,ie))&&(He.pendingcb++,Ze=function Ne(T,se,ie,He,Ze,he){if(!ie){var re=function Oe(T,se,ie){return!T.objectMode&&!1!==T.decodeStrings&&"string"==typeof se&&(se=g.from(se,ie)),se}(se,He,Ze);He!==re&&(ie=!0,Ze="buffer",He=re)}var W=se.objectMode?1:He.length;se.length+=W;var N=se.length<se.highWaterMark;if(N||(se.needDrain=!0),se.writing||se.corked){var V=se.lastBufferedRequest;se.lastBufferedRequest={chunk:He,encoding:Ze,isBuf:ie,callback:he,next:null},V?V.next=se.lastBufferedRequest:se.bufferedRequest=se.lastBufferedRequest,se.bufferedRequestCount+=1}else Qe(T,se,!1,W,He,Ze,he);return N}(this,He,he,T,se,ie)),Ze},De.prototype.cork=function(){this._writableState.corked++},De.prototype.uncork=function(){var T=this._writableState;T.corked&&(T.corked--,!T.writing&&!T.corked&&!T.bufferProcessing&&T.bufferedRequest&&ue(this,T))},De.prototype.setDefaultEncoding=function(se){if("string"==typeof se&&(se=se.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((se+"").toLowerCase())>-1))throw new w(se);return this._writableState.defaultEncoding=se,this},Object.defineProperty(De.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(De.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),De.prototype._write=function(T,se,ie){ie(new ae("_write()"))},De.prototype._writev=null,De.prototype.end=function(T,se,ie){var He=this._writableState;return"function"==typeof T?(ie=T,T=null,se=null):"function"==typeof se&&(ie=se,se=null),null!=T&&this.write(T,se),He.corked&&(He.corked=1,this.uncork()),He.ending||function me(T,se,ie){se.ending=!0,Je(T,se),ie&&(se.finished?process.nextTick(ie):T.once("finish",ie)),se.ended=!0,T.writable=!1}(this,He,ie),this},Object.defineProperty(De.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(De.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(se){this._writableState&&(this._writableState.destroyed=se)}}),De.prototype.destroy=I.destroy,De.prototype._undestroy=I.undestroy,De.prototype._destroy=function(T,se){se(T)}},2590:(ee,K,m)=>{"use strict";var S;function b(z,w,R){return w=function D(z){var w=function C(z,w){if("object"!=typeof z||null===z)return z;var R=z[Symbol.toPrimitive];if(void 0!==R){var k=R.call(z,w||"default");if("object"!=typeof k)return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===w?String:Number)(z)}(z,"string");return"symbol"==typeof w?w:String(w)}(w),w in z?Object.defineProperty(z,w,{value:R,enumerable:!0,configurable:!0,writable:!0}):z[w]=R,z}var O=m(1227),g=Symbol("lastResolve"),y=Symbol("lastReject"),M=Symbol("error"),U=Symbol("ended"),I=Symbol("lastPromise"),F=Symbol("handlePromise"),J=Symbol("stream");function E(z,w){return{value:z,done:w}}function L(z){var w=z[g];if(null!==w){var R=z[J].read();null!==R&&(z[I]=null,z[g]=null,z[y]=null,w(E(R,!1)))}}function ae(z){process.nextTick(L,z)}var q=Object.getPrototypeOf(function(){}),Z=Object.setPrototypeOf((b(S={get stream(){return this[J]},next:function(){var w=this,R=this[M];if(null!==R)return Promise.reject(R);if(this[U])return Promise.resolve(E(void 0,!0));if(this[J].destroyed)return new Promise(function(De,ce){process.nextTick(function(){w[M]?ce(w[M]):De(E(void 0,!0))})});var le,k=this[I];if(k)le=new Promise(function Y(z,w){return function(R,k){z.then(function(){w[U]?R(E(void 0,!0)):w[F](R,k)},k)}}(k,this));else{var H=this[J].read();if(null!==H)return Promise.resolve(E(H,!1));le=new Promise(this[F])}return this[I]=le,le}},Symbol.asyncIterator,function(){return this}),b(S,"return",function(){var w=this;return new Promise(function(R,k){w[J].destroy(null,function(le){le?k(le):R(E(void 0,!0))})})}),S),q);ee.exports=function(w){var R,k=Object.create(Z,(b(R={},J,{value:w,writable:!0}),b(R,g,{value:null,writable:!0}),b(R,y,{value:null,writable:!0}),b(R,M,{value:null,writable:!0}),b(R,U,{value:w._readableState.endEmitted,writable:!0}),b(R,F,{value:function(H,De){var ce=k[J].read();ce?(k[I]=null,k[g]=null,k[y]=null,H(E(ce,!1))):(k[g]=H,k[y]=De)},writable:!0}),R));return k[I]=null,O(w,function(le){if(le&&"ERR_STREAM_PREMATURE_CLOSE"!==le.code){var H=k[y];return null!==H&&(k[I]=null,k[g]=null,k[y]=null,H(le)),void(k[M]=le)}var De=k[g];null!==De&&(k[I]=null,k[g]=null,k[y]=null,De(E(void 0,!0))),k[U]=!0}),w.on("readable",ae.bind(null,k)),k}},2998:(ee,K,m)=>{"use strict";function S(ae,Y){var q=Object.keys(ae);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(ae);Y&&(Z=Z.filter(function(G){return Object.getOwnPropertyDescriptor(ae,G).enumerable})),q.push.apply(q,Z)}return q}function b(ae){for(var Y=1;Y<arguments.length;Y++){var q=null!=arguments[Y]?arguments[Y]:{};Y%2?S(Object(q),!0).forEach(function(Z){D(ae,Z,q[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(q)):S(Object(q)).forEach(function(Z){Object.defineProperty(ae,Z,Object.getOwnPropertyDescriptor(q,Z))})}return ae}function D(ae,Y,q){return(Y=y(Y))in ae?Object.defineProperty(ae,Y,{value:q,enumerable:!0,configurable:!0,writable:!0}):ae[Y]=q,ae}function O(ae,Y){for(var q=0;q<Y.length;q++){var Z=Y[q];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(ae,y(Z.key),Z)}}function y(ae){var Y=function M(ae,Y){if("object"!=typeof ae||null===ae)return ae;var q=ae[Symbol.toPrimitive];if(void 0!==q){var Z=q.call(ae,Y||"default");if("object"!=typeof Z)return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Y?String:Number)(ae)}(ae,"string");return"symbol"==typeof Y?Y:String(Y)}var I=m(9007).Buffer,J=m(9862).inspect,E=J&&J.custom||"inspect";function L(ae,Y,q){I.prototype.copy.call(ae,Y,q)}ee.exports=function(){function ae(){(function C(ae,Y){if(!(ae instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,ae),this.head=null,this.tail=null,this.length=0}return function g(ae,Y,q){Y&&O(ae.prototype,Y),q&&O(ae,q),Object.defineProperty(ae,"prototype",{writable:!1})}(ae,[{key:"push",value:function(q){var Z={data:q,next:null};this.length>0?this.tail.next=Z:this.head=Z,this.tail=Z,++this.length}},{key:"unshift",value:function(q){var Z={data:q,next:this.head};0===this.length&&(this.tail=Z),this.head=Z,++this.length}},{key:"shift",value:function(){if(0!==this.length){var q=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,q}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(q){if(0===this.length)return"";for(var Z=this.head,G=""+Z.data;Z=Z.next;)G+=q+Z.data;return G}},{key:"concat",value:function(q){if(0===this.length)return I.alloc(0);for(var Z=I.allocUnsafe(q>>>0),G=this.head,z=0;G;)L(G.data,Z,z),z+=G.data.length,G=G.next;return Z}},{key:"consume",value:function(q,Z){var G;return q<this.head.data.length?(G=this.head.data.slice(0,q),this.head.data=this.head.data.slice(q)):G=q===this.head.data.length?this.shift():Z?this._getString(q):this._getBuffer(q),G}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(q){var Z=this.head,G=1,z=Z.data;for(q-=z.length;Z=Z.next;){var w=Z.data,R=q>w.length?w.length:q;if(z+=R===w.length?w:w.slice(0,q),0==(q-=R)){R===w.length?(++G,this.head=Z.next?Z.next:this.tail=null):(this.head=Z,Z.data=w.slice(R));break}++G}return this.length-=G,z}},{key:"_getBuffer",value:function(q){var Z=I.allocUnsafe(q),G=this.head,z=1;for(G.data.copy(Z),q-=G.data.length;G=G.next;){var w=G.data,R=q>w.length?w.length:q;if(w.copy(Z,Z.length-q,0,R),0==(q-=R)){R===w.length?(++z,this.head=G.next?G.next:this.tail=null):(this.head=G,G.data=w.slice(R));break}++z}return this.length-=z,Z}},{key:E,value:function(q,Z){return J(this,b(b({},Z),{},{depth:0,customInspect:!1}))}}]),ae}()},3992:ee=>{"use strict";function m(O,g){D(O,g),S(O)}function S(O){O._writableState&&!O._writableState.emitClose||O._readableState&&!O._readableState.emitClose||O.emit("close")}function D(O,g){O.emit("error",g)}ee.exports={destroy:function K(O,g){var y=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(g?g(O):O&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(D,this,O)):process.nextTick(D,this,O)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(O||null,function(I){!g&&I?y._writableState?y._writableState.errorEmitted?process.nextTick(S,y):(y._writableState.errorEmitted=!0,process.nextTick(m,y,I)):process.nextTick(m,y,I):g?(process.nextTick(S,y),g(I)):process.nextTick(S,y)}),this)},undestroy:function b(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function C(O,g){var y=O._readableState,M=O._writableState;y&&y.autoDestroy||M&&M.autoDestroy?O.destroy(g):O.emit("error",g)}}},1227:(ee,K,m)=>{"use strict";var S=m(9555).q.ERR_STREAM_PREMATURE_CLOSE;function D(){}ee.exports=function O(g,y,M){if("function"==typeof y)return O(g,null,y);y||(y={}),M=function b(g){var y=!1;return function(){if(!y){y=!0;for(var M=arguments.length,U=new Array(M),I=0;I<M;I++)U[I]=arguments[I];g.apply(this,U)}}}(M||D);var U=y.readable||!1!==y.readable&&g.readable,I=y.writable||!1!==y.writable&&g.writable,F=function(){g.writable||E()},J=g._writableState&&g._writableState.finished,E=function(){I=!1,J=!0,U||M.call(g)},L=g._readableState&&g._readableState.endEmitted,ae=function(){U=!1,L=!0,I||M.call(g)},Y=function(z){M.call(g,z)},q=function(){var z;return U&&!L?((!g._readableState||!g._readableState.ended)&&(z=new S),M.call(g,z)):I&&!J?((!g._writableState||!g._writableState.ended)&&(z=new S),M.call(g,z)):void 0},Z=function(){g.req.on("finish",E)};return function C(g){return g.setHeader&&"function"==typeof g.abort}(g)?(g.on("complete",E),g.on("abort",q),g.req?Z():g.on("request",Z)):I&&!g._writableState&&(g.on("end",F),g.on("close",F)),g.on("end",ae),g.on("finish",E),!1!==y.error&&g.on("error",Y),g.on("close",q),function(){g.removeListener("complete",E),g.removeListener("abort",q),g.removeListener("request",Z),g.req&&g.req.removeListener("finish",E),g.removeListener("end",F),g.removeListener("close",F),g.removeListener("finish",E),g.removeListener("end",ae),g.removeListener("error",Y),g.removeListener("close",q)}}},5374:ee=>{ee.exports=function(){throw new Error("Readable.from is not available in the browser")}},2345:(ee,K,m)=>{"use strict";var S,D=m(9555).q,C=D.ERR_MISSING_ARGS,O=D.ERR_STREAM_DESTROYED;function g(E){if(E)throw E}function U(E){E()}function I(E,L){return E.pipe(L)}ee.exports=function J(){for(var E=arguments.length,L=new Array(E),ae=0;ae<E;ae++)L[ae]=arguments[ae];var Y=function F(E){return E.length&&"function"==typeof E[E.length-1]?E.pop():g}(L);if(Array.isArray(L[0])&&(L=L[0]),L.length<2)throw new C("streams");var q,Z=L.map(function(G,z){var w=z<L.length-1;return function M(E,L,ae,Y){Y=function b(E){var L=!1;return function(){L||(L=!0,E.apply(void 0,arguments))}}(Y);var q=!1;E.on("close",function(){q=!0}),void 0===S&&(S=m(1227)),S(E,{readable:L,writable:ae},function(G){if(G)return Y(G);q=!0,Y()});var Z=!1;return function(G){if(!q&&!Z){if(Z=!0,function y(E){return E.setHeader&&"function"==typeof E.abort}(E))return E.abort();if("function"==typeof E.destroy)return E.destroy();Y(G||new O("pipe"))}}}(G,w,z>0,function(k){q||(q=k),k&&Z.forEach(U),!w&&(Z.forEach(U),Y(q))})});return L.reduce(I)}},4962:(ee,K,m)=>{"use strict";var S=m(9555).q.ERR_INVALID_OPT_VALUE;ee.exports={getHighWaterMark:function D(C,O,g,y){var M=function b(C,O,g){return null!=C.highWaterMark?C.highWaterMark:O?C[g]:null}(O,y,g);if(null!=M){if(!isFinite(M)||Math.floor(M)!==M||M<0)throw new S(y?g:"highWaterMark",M);return Math.floor(M)}return C.objectMode?16:16384}}},3951:(ee,K,m)=>{ee.exports=m(2016).EventEmitter},2024:(ee,K,m)=>{"use strict";var S=m(4282).Buffer,b=S.isEncoding||function(Z){switch((Z=""+Z)&&Z.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function O(Z){var G;switch(this.encoding=function C(Z){var G=function D(Z){if(!Z)return"utf8";for(var G;;)switch(Z){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Z;default:if(G)return;Z=(""+Z).toLowerCase(),G=!0}}(Z);if("string"!=typeof G&&(S.isEncoding===b||!b(Z)))throw new Error("Unknown encoding: "+Z);return G||Z}(Z),this.encoding){case"utf16le":this.text=J,this.end=E,G=4;break;case"utf8":this.fillLast=U,G=4;break;case"base64":this.text=L,this.end=ae,G=3;break;default:return this.write=Y,void(this.end=q)}this.lastNeed=0,this.lastTotal=0,this.lastChar=S.allocUnsafe(G)}function g(Z){return Z<=127?0:Z>>5==6?2:Z>>4==14?3:Z>>3==30?4:Z>>6==2?-1:-2}function U(Z){var G=this.lastTotal-this.lastNeed,z=function M(Z,G,z){if(128!=(192&G[0]))return Z.lastNeed=0,"\ufffd";if(Z.lastNeed>1&&G.length>1){if(128!=(192&G[1]))return Z.lastNeed=1,"\ufffd";if(Z.lastNeed>2&&G.length>2&&128!=(192&G[2]))return Z.lastNeed=2,"\ufffd"}}(this,Z);return void 0!==z?z:this.lastNeed<=Z.length?(Z.copy(this.lastChar,G,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(Z.copy(this.lastChar,G,0,Z.length),void(this.lastNeed-=Z.length))}function J(Z,G){if((Z.length-G)%2==0){var z=Z.toString("utf16le",G);if(z){var w=z.charCodeAt(z.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1],z.slice(0,-1)}return z}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Z[Z.length-1],Z.toString("utf16le",G,Z.length-1)}function E(Z){var G=Z&&Z.length?this.write(Z):"";return this.lastNeed?G+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):G}function L(Z,G){var z=(Z.length-G)%3;return 0===z?Z.toString("base64",G):(this.lastNeed=3-z,this.lastTotal=3,1===z?this.lastChar[0]=Z[Z.length-1]:(this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1]),Z.toString("base64",G,Z.length-z))}function ae(Z){var G=Z&&Z.length?this.write(Z):"";return this.lastNeed?G+this.lastChar.toString("base64",0,3-this.lastNeed):G}function Y(Z){return Z.toString(this.encoding)}function q(Z){return Z&&Z.length?this.write(Z):""}K.StringDecoder=O,O.prototype.write=function(Z){if(0===Z.length)return"";var G,z;if(this.lastNeed){if(void 0===(G=this.fillLast(Z)))return"";z=this.lastNeed,this.lastNeed=0}else z=0;return z<Z.length?G?G+this.text(Z,z):this.text(Z,z):G||""},O.prototype.end=function F(Z){var G=Z&&Z.length?this.write(Z):"";return this.lastNeed?G+"\ufffd":G},O.prototype.text=function I(Z,G){var z=function y(Z,G,z){var w=G.length-1;if(w<z)return 0;var R=g(G[w]);return R>=0?(R>0&&(Z.lastNeed=R-1),R):--w<z||-2===R?0:(R=g(G[w]))>=0?(R>0&&(Z.lastNeed=R-2),R):--w<z||-2===R?0:(R=g(G[w]))>=0?(R>0&&(2===R?R=0:Z.lastNeed=R-3),R):0}(this,Z,G);if(!this.lastNeed)return Z.toString("utf8",G);this.lastTotal=z;var w=Z.length-(z-this.lastNeed);return Z.copy(this.lastChar,0,w),Z.toString("utf8",G,w)},O.prototype.fillLast=function(Z){if(this.lastNeed<=Z.length)return Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Z.length),this.lastNeed-=Z.length}},4282:(ee,K,m)=>{var S=m(9007),b=S.Buffer;function D(O,g){for(var y in O)g[y]=O[y]}function C(O,g,y){return b(O,g,y)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?ee.exports=S:(D(S,K),K.Buffer=C),C.prototype=Object.create(b.prototype),D(b,C),C.from=function(O,g,y){if("number"==typeof O)throw new TypeError("Argument must not be a number");return b(O,g,y)},C.alloc=function(O,g,y){if("number"!=typeof O)throw new TypeError("Argument must be a number");var M=b(O);return void 0!==g?"string"==typeof y?M.fill(g,y):M.fill(g):M.fill(0),M},C.allocUnsafe=function(O){if("number"!=typeof O)throw new TypeError("Argument must be a number");return b(O)},C.allocUnsafeSlow=function(O){if("number"!=typeof O)throw new TypeError("Argument must be a number");return S.SlowBuffer(O)}},496:ee=>{function m(S){try{if(!global.localStorage)return!1}catch{return!1}var b=global.localStorage[S];return null!=b&&"true"===String(b).toLowerCase()}ee.exports=function K(S,b){if(m("noDeprecation"))return S;var D=!1;return function C(){if(!D){if(m("throwDeprecation"))throw new Error(b);m("traceDeprecation")?console.trace(b):console.warn(b),D=!0}return S.apply(this,arguments)}}},1171:ee=>{"use strict";ee.exports=function(K){K.prototype[Symbol.iterator]=function*(){for(let m=this.head;m;m=m.next)yield m.value}}},4439:(ee,K,m)=>{"use strict";function S(g){var y=this;if(y instanceof S||(y=new S),y.tail=null,y.head=null,y.length=0,g&&"function"==typeof g.forEach)g.forEach(function(I){y.push(I)});else if(arguments.length>0)for(var M=0,U=arguments.length;M<U;M++)y.push(arguments[M]);return y}function b(g,y,M){var U=y===g.head?new O(M,null,y,g):new O(M,y,y.next,g);return null===U.next&&(g.tail=U),null===U.prev&&(g.head=U),g.length++,U}function D(g,y){g.tail=new O(y,g.tail,null,g),g.head||(g.head=g.tail),g.length++}function C(g,y){g.head=new O(y,null,g.head,g),g.tail||(g.tail=g.head),g.length++}function O(g,y,M,U){if(!(this instanceof O))return new O(g,y,M,U);this.list=U,this.value=g,y?(y.next=this,this.prev=y):this.prev=null,M?(M.prev=this,this.next=M):this.next=null}ee.exports=S,S.Node=O,S.create=S,S.prototype.removeNode=function(g){if(g.list!==this)throw new Error("removing node which does not belong to this list");var y=g.next,M=g.prev;return y&&(y.prev=M),M&&(M.next=y),g===this.head&&(this.head=y),g===this.tail&&(this.tail=M),g.list.length--,g.next=null,g.prev=null,g.list=null,y},S.prototype.unshiftNode=function(g){if(g!==this.head){g.list&&g.list.removeNode(g);var y=this.head;g.list=this,g.next=y,y&&(y.prev=g),this.head=g,this.tail||(this.tail=g),this.length++}},S.prototype.pushNode=function(g){if(g!==this.tail){g.list&&g.list.removeNode(g);var y=this.tail;g.list=this,g.prev=y,y&&(y.next=g),this.tail=g,this.head||(this.head=g),this.length++}},S.prototype.push=function(){for(var g=0,y=arguments.length;g<y;g++)D(this,arguments[g]);return this.length},S.prototype.unshift=function(){for(var g=0,y=arguments.length;g<y;g++)C(this,arguments[g]);return this.length},S.prototype.pop=function(){if(this.tail){var g=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,g}},S.prototype.shift=function(){if(this.head){var g=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,g}},S.prototype.forEach=function(g,y){y=y||this;for(var M=this.head,U=0;null!==M;U++)g.call(y,M.value,U,this),M=M.next},S.prototype.forEachReverse=function(g,y){y=y||this;for(var M=this.tail,U=this.length-1;null!==M;U--)g.call(y,M.value,U,this),M=M.prev},S.prototype.get=function(g){for(var y=0,M=this.head;null!==M&&y<g;y++)M=M.next;if(y===g&&null!==M)return M.value},S.prototype.getReverse=function(g){for(var y=0,M=this.tail;null!==M&&y<g;y++)M=M.prev;if(y===g&&null!==M)return M.value},S.prototype.map=function(g,y){y=y||this;for(var M=new S,U=this.head;null!==U;)M.push(g.call(y,U.value,this)),U=U.next;return M},S.prototype.mapReverse=function(g,y){y=y||this;for(var M=new S,U=this.tail;null!==U;)M.push(g.call(y,U.value,this)),U=U.prev;return M},S.prototype.reduce=function(g,y){var M,U=this.head;if(arguments.length>1)M=y;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");U=this.head.next,M=this.head.value}for(var I=0;null!==U;I++)M=g(M,U.value,I),U=U.next;return M},S.prototype.reduceReverse=function(g,y){var M,U=this.tail;if(arguments.length>1)M=y;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");U=this.tail.prev,M=this.tail.value}for(var I=this.length-1;null!==U;I--)M=g(M,U.value,I),U=U.prev;return M},S.prototype.toArray=function(){for(var g=new Array(this.length),y=0,M=this.head;null!==M;y++)g[y]=M.value,M=M.next;return g},S.prototype.toArrayReverse=function(){for(var g=new Array(this.length),y=0,M=this.tail;null!==M;y++)g[y]=M.value,M=M.prev;return g},S.prototype.slice=function(g,y){(y=y||this.length)<0&&(y+=this.length),(g=g||0)<0&&(g+=this.length);var M=new S;if(y<g||y<0)return M;g<0&&(g=0),y>this.length&&(y=this.length);for(var U=0,I=this.head;null!==I&&U<g;U++)I=I.next;for(;null!==I&&U<y;U++,I=I.next)M.push(I.value);return M},S.prototype.sliceReverse=function(g,y){(y=y||this.length)<0&&(y+=this.length),(g=g||0)<0&&(g+=this.length);var M=new S;if(y<g||y<0)return M;g<0&&(g=0),y>this.length&&(y=this.length);for(var U=this.length,I=this.tail;null!==I&&U>y;U--)I=I.prev;for(;null!==I&&U>g;U--,I=I.prev)M.push(I.value);return M},S.prototype.splice=function(g,y,...M){g>this.length&&(g=this.length-1),g<0&&(g=this.length+g);for(var U=0,I=this.head;null!==I&&U<g;U++)I=I.next;var F=[];for(U=0;I&&U<y;U++)F.push(I.value),I=this.removeNode(I);for(null===I&&(I=this.tail),I!==this.head&&I!==this.tail&&(I=I.prev),U=0;U<M.length;U++)I=b(this,I,M[U]);return F},S.prototype.reverse=function(){for(var g=this.head,y=this.tail,M=g;null!==M;M=M.prev){var U=M.prev;M.prev=M.next,M.next=U}return this.head=y,this.tail=g,this};try{m(1171)(S)}catch{}},643:()=>{},9125:()=>{},7670:()=>{},9862:()=>{},964:()=>{},4642:(ee,K,m)=>{var S=m(3801);function b(D){var C,O;function g(M,U){try{var I=D[M](U),F=I.value,J=F instanceof S;Promise.resolve(J?F.v:F).then(function(E){if(J){var L="return"===M?"return":"next";if(!F.k||E.done)return g(L,E);E=D[L](E).value}y(I.done?"return":"normal",E)},function(E){g("throw",E)})}catch(E){y("throw",E)}}function y(M,U){switch(M){case"return":C.resolve({value:U,done:!0});break;case"throw":C.reject(U);break;default:C.resolve({value:U,done:!1})}(C=C.next)?g(C.key,C.arg):O=null}this._invoke=function(M,U){return new Promise(function(I,F){var J={key:M,arg:U,resolve:I,reject:F,next:null};O?O=O.next=J:(C=O=J,g(M,U))})},"function"!=typeof D.return&&(this.return=void 0)}b.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},b.prototype.next=function(D){return this._invoke("next",D)},b.prototype.throw=function(D){return this._invoke("throw",D)},b.prototype.return=function(D){return this._invoke("return",D)},ee.exports=b,ee.exports.__esModule=!0,ee.exports.default=ee.exports},3801:ee=>{ee.exports=function K(m,S){this.v=m,this.k=S},ee.exports.__esModule=!0,ee.exports.default=ee.exports},8131:(ee,K,m)=>{var S=m(3801);ee.exports=function b(D){var C={},O=!1;function g(y,M){return O=!0,M=new Promise(function(U){U(D[y](M))}),{done:!1,value:new S(M,1)}}return C[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},C.next=function(y){return O?(O=!1,y):g("next",y)},"function"==typeof D.throw&&(C.throw=function(y){if(O)throw O=!1,y;return g("throw",y)}),"function"==typeof D.return&&(C.return=function(y){return O?(O=!1,y):g("return",y)}),C},ee.exports.__esModule=!0,ee.exports.default=ee.exports},8237:ee=>{function m(S){function b(D){if(Object(D)!==D)return Promise.reject(new TypeError(D+" is not an object."));var C=D.done;return Promise.resolve(D.value).then(function(O){return{value:O,done:C}})}return(m=function(C){this.s=C,this.n=C.next}).prototype={s:null,n:null,next:function(){return b(this.n.apply(this.s,arguments))},return:function(C){var O=this.s.return;return void 0===O?Promise.resolve({value:C,done:!0}):b(O.apply(this.s,arguments))},throw:function(C){var O=this.s.return;return void 0===O?Promise.reject(C):b(O.apply(this.s,arguments))}},new m(S)}ee.exports=function K(S){var b,D,C,O=2;for(typeof Symbol<"u"&&(D=Symbol.asyncIterator,C=Symbol.iterator);O--;){if(D&&null!=(b=S[D]))return b.call(S);if(C&&null!=(b=S[C]))return new m(b.call(S));D="@@asyncIterator",C="@@iterator"}throw new TypeError("Object is not async iterable")},ee.exports.__esModule=!0,ee.exports.default=ee.exports},7156:ee=>{function K(S,b,D,C,O,g,y){try{var M=S[g](y),U=M.value}catch(I){return void D(I)}M.done?b(U):Promise.resolve(U).then(C,O)}ee.exports=function m(S){return function(){var b=this,D=arguments;return new Promise(function(C,O){var g=S.apply(b,D);function y(U){K(g,C,O,y,M,"next",U)}function M(U){K(g,C,O,y,M,"throw",U)}y(void 0)})}},ee.exports.__esModule=!0,ee.exports.default=ee.exports},6737:(ee,K,m)=>{var S=m(3801);ee.exports=function b(D){return new S(D,0)},ee.exports.__esModule=!0,ee.exports.default=ee.exports},8186:(ee,K,m)=>{var S=m(4642);ee.exports=function b(D){return function(){return new S(D.apply(this,arguments))}},ee.exports.__esModule=!0,ee.exports.default=ee.exports}},ee=>{ee(ee.s=4334)}]);